var nUe=Object.defineProperty;var rUe=(e,t,n)=>t in e?nUe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Z=(e,t,n)=>(rUe(e,typeof t!="symbol"?t+"":t,n),n),pte=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var je=(e,t,n)=>(pte(e,t,"read from private field"),n?n.call(e):t.get(e)),Bn=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Mn=(e,t,n,r)=>(pte(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);const iUe="modulepreload",oUe=function(e){return"/"+e},mte={},My=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=oUe(o),o in mte)return;mte[o]=!0;const a=o.endsWith(".css"),s=a?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const f=i[d];if(f.href===o&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${s}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":iUe,a||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),a)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o})};var Ko=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ue(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function aUe(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var mxe={exports:{}},rO={},gxe={exports:{}},Tn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V5=Symbol.for("react.element"),sUe=Symbol.for("react.portal"),lUe=Symbol.for("react.fragment"),cUe=Symbol.for("react.strict_mode"),uUe=Symbol.for("react.profiler"),dUe=Symbol.for("react.provider"),fUe=Symbol.for("react.context"),hUe=Symbol.for("react.forward_ref"),pUe=Symbol.for("react.suspense"),mUe=Symbol.for("react.memo"),gUe=Symbol.for("react.lazy"),gte=Symbol.iterator;function yUe(e){return e===null||typeof e!="object"?null:(e=gte&&e[gte]||e["@@iterator"],typeof e=="function"?e:null)}var yxe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vxe=Object.assign,bxe={};function Ux(e,t,n){this.props=e,this.context=t,this.refs=bxe,this.updater=n||yxe}Ux.prototype.isReactComponent={};Ux.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ux.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xxe(){}xxe.prototype=Ux.prototype;function _H(e,t,n){this.props=e,this.context=t,this.refs=bxe,this.updater=n||yxe}var TH=_H.prototype=new xxe;TH.constructor=_H;vxe(TH,Ux.prototype);TH.isPureReactComponent=!0;var yte=Array.isArray,wxe=Object.prototype.hasOwnProperty,AH={current:null},Cxe={key:!0,ref:!0,__self:!0,__source:!0};function kxe(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)wxe.call(t,r)&&!Cxe.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:V5,type:e,key:o,ref:a,props:i,_owner:AH.current}}function vUe(e,t){return{$$typeof:V5,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jH(e){return typeof e=="object"&&e!==null&&e.$$typeof===V5}function bUe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var vte=/\/+/g;function z4(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bUe(""+e.key):t.toString(36)}function pj(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case V5:case sUe:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+z4(a,0):r,yte(i)?(n="",e!=null&&(n=e.replace(vte,"$&/")+"/"),pj(i,t,n,"",function(u){return u})):i!=null&&(jH(i)&&(i=vUe(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(vte,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",yte(e))for(var s=0;s<e.length;s++){o=e[s];var l=r+z4(o,s);a+=pj(o,t,n,l,i)}else if(l=yUe(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=r+z4(o,s++),a+=pj(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function G_(e,t,n){if(e==null)return e;var r=[],i=0;return pj(e,r,"","",function(o){return t.call(n,o,i++)}),r}function xUe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Cs={current:null},mj={transition:null},wUe={ReactCurrentDispatcher:Cs,ReactCurrentBatchConfig:mj,ReactCurrentOwner:AH};function Sxe(){throw Error("act(...) is not supported in production builds of React.")}Tn.Children={map:G_,forEach:function(e,t,n){G_(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return G_(e,function(){t++}),t},toArray:function(e){return G_(e,function(t){return t})||[]},only:function(e){if(!jH(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Tn.Component=Ux;Tn.Fragment=lUe;Tn.Profiler=uUe;Tn.PureComponent=_H;Tn.StrictMode=cUe;Tn.Suspense=pUe;Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wUe;Tn.act=Sxe;Tn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=vxe({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=AH.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)wxe.call(t,l)&&!Cxe.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:V5,type:e.type,key:i,ref:o,props:r,_owner:a}};Tn.createContext=function(e){return e={$$typeof:fUe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dUe,_context:e},e.Consumer=e};Tn.createElement=kxe;Tn.createFactory=function(e){var t=kxe.bind(null,e);return t.type=e,t};Tn.createRef=function(){return{current:null}};Tn.forwardRef=function(e){return{$$typeof:hUe,render:e}};Tn.isValidElement=jH;Tn.lazy=function(e){return{$$typeof:gUe,_payload:{_status:-1,_result:e},_init:xUe}};Tn.memo=function(e,t){return{$$typeof:mUe,type:e,compare:t===void 0?null:t}};Tn.startTransition=function(e){var t=mj.transition;mj.transition={};try{e()}finally{mj.transition=t}};Tn.unstable_act=Sxe;Tn.useCallback=function(e,t){return Cs.current.useCallback(e,t)};Tn.useContext=function(e){return Cs.current.useContext(e)};Tn.useDebugValue=function(){};Tn.useDeferredValue=function(e){return Cs.current.useDeferredValue(e)};Tn.useEffect=function(e,t){return Cs.current.useEffect(e,t)};Tn.useId=function(){return Cs.current.useId()};Tn.useImperativeHandle=function(e,t,n){return Cs.current.useImperativeHandle(e,t,n)};Tn.useInsertionEffect=function(e,t){return Cs.current.useInsertionEffect(e,t)};Tn.useLayoutEffect=function(e,t){return Cs.current.useLayoutEffect(e,t)};Tn.useMemo=function(e,t){return Cs.current.useMemo(e,t)};Tn.useReducer=function(e,t,n){return Cs.current.useReducer(e,t,n)};Tn.useRef=function(e){return Cs.current.useRef(e)};Tn.useState=function(e){return Cs.current.useState(e)};Tn.useSyncExternalStore=function(e,t,n){return Cs.current.useSyncExternalStore(e,t,n)};Tn.useTransition=function(){return Cs.current.useTransition()};Tn.version="18.3.1";gxe.exports=Tn;var p=gxe.exports;const Fe=Ue(p);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CUe=p,kUe=Symbol.for("react.element"),SUe=Symbol.for("react.fragment"),EUe=Object.prototype.hasOwnProperty,_Ue=CUe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TUe={key:!0,ref:!0,__self:!0,__source:!0};function Exe(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)EUe.call(t,r)&&!TUe.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:kUe,type:e,key:o,ref:a,props:i,_owner:_Ue.current}}rO.Fragment=SUe;rO.jsx=Exe;rO.jsxs=Exe;mxe.exports=rO;var c=mxe.exports;const AUe=/_key\s*==\s*['"](.*)['"]/,jUe=/^\d*:\d*$/;function IH(e){return typeof e=="number"||typeof e=="string"&&/^\[\d+\]$/.test(e)}function qS(e){return typeof e=="string"?AUe.test(e.trim()):typeof e=="object"&&"_key"in e}function K9(e){if(typeof e=="string"&&jUe.test(e))return!0;if(!Array.isArray(e)||e.length!==2)return!1;const[t,n]=e;return(typeof t=="number"||t==="")&&(typeof n=="number"||n==="")}const IUe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$Ue=/_key\s*==\s*['"](.*)['"]/,_xe=[],DUe="$",OUe=["true","false","null"];function Hx(e,t,n){const r=typeof t=="string"?Ol(t):t;if(!Array.isArray(r))throw new Error("Path must be an array or a string");let i=e;for(let o=0;o<r.length;o++){const a=r[o];if(IH(a)){if(!Array.isArray(i))return n;i=i[a]}if(qS(a)){if(!Array.isArray(i))return n;i=i.find(s=>s._key===a._key)}if(typeof a=="string"&&(i=typeof i=="object"&&i!==null?i[a]:void 0),typeof i>"u")return n}return i}const U4=new Map;function Ud(e){if(e.length===0)return _xe;const t=rn(e);return U4.has(t)?U4.get(t):(U4.set(t,e),Object.freeze(e),e)}function Pr(e,t){return e.length===t.length&&e.every((n,r)=>iO(n,t[r]))}function MUe(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++)if(!iO(e[r],t[r]))return r;return n}function iO(e,t){return qS(e)&&qS(t)?e._key===t._key:IH(e)?Number(e)===Number(t):K9(e)&&K9(t)?e[0]===t[0]&&e[1]===t[1]:e===t}function ga(e,t){return e.every((n,r)=>iO(n,t[r]))}function Yk(e,t){if(e.length===0||t.length===0)return t;const[n,...r]=e,[i,...o]=t;return iO(n,i)?Ud(Yk(r,o)):t}function $H(e,t){return ga(e,t)?Yk(e,t):_xe}function rn(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce((t,n,r)=>{const i=r===0;if(typeof n=="number")return`${t}[${n}]`;if(typeof n=="string")return i?n:OUe.includes(n)?`${t}["${n}"]`:`${t}.${n}`;if(qS(n)&&n._key)return`${t}[_key=="${n._key}"]`;if(Array.isArray(n)){const[o,a]=n;return`${t}[${o}:${a}]`}throw new Error(`Unsupported path segment \`${JSON.stringify(n)}\``)},"")}function Y9(e,t){if(t.length===0)return t;const[n,...r]=t;if(typeof n=="number"){if(!Array.isArray(e)||!(n in e))return[];const o=e[n];return[typeof(o==null?void 0:o._key)=="string"?{_key:o._key}:n,...Y9(o,r)]}const i=Hx(e,[n]);return[n,...Y9(i,r)]}function PUe(e,t){if(!Array.isArray(t))throw new Error("Path is not an array");return Ud(Y9(e,t))}function Ol(e){if(typeof e!="string")throw new Error("Path is not a string");const t=e.match(IUe);if(!t)throw new Error("Invalid path string");return t.map(RUe)}function RUe(e){return IH(e)?FUe(e):qS(e)?LUe(e):K9(e)?NUe(e):e}function FUe(e){return Number(e.replace(/[^\d]/g,""))}function LUe(e){return{_key:e.match($Ue)[1]}}function NUe(e){const[t,n]=e.split(":").map(r=>r===""?r:Number(r));return[t,n]}var BUe=typeof Element<"u",VUe=typeof Map=="function",zUe=typeof Set=="function",UUe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function gj(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!gj(e[r],t[r]))return!1;return!0}var o;if(VUe&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!gj(r.value[1],t.get(r.value[0])))return!1;return!0}if(zUe&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(UUe&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(BUe&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!gj(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var HUe=function(t,n){try{return gj(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const Z1=Ue(HUe),pc="3.57.0",bte="https://www.sanity.io/help/missing-context-error";function st(e,t){const n=Symbol.for(e);if(typeof document>"u")return p.createContext(t);if(!xC[n])xC[n]={context:p.createContext(t),version:pc};else{if(xC[n].version!==pc)throw new TypeError(`Duplicate instances of context "${e}" with incompatible versions detected: Expected ${pc} but got ${xC[n].version}.

For more information, please visit ${bte}`);xte.has(pc)||(console.warn(`Duplicate instances of context "${e}" detected. This is likely a mistake and may cause unexpected behavior.

For more information, please visit ${bte}`),xte.add(pc))}return xC[n].context}const xte=new Set;function WUe(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("sanity: could not locate global scope")}const xC=WUe(),Txe=st("sanity/_singletons/context/active-workspace-matcher",null),DH=st("sanity/_singletons/context/addon-dataset",null),Axe=st("sanity/_singletons/context/calendar",void 0),jxe=st("sanity/_singletons/context/change-indicator-tracker-store",null),Ixe=st("sanity/_singletons/context/change-indicator-tracker-get-snapshot",null),oO=st("sanity/_singletons/context/color-scheme-set-value",null),aO=st("sanity/_singletons/context/color-scheme-value",null),$xe=st("sanity/_singletons/context/comment-input",null),Dxe=st("sanity/_singletons/context/comments-authoring-path",null),Oxe=st("sanity/_singletons/context/comments",null),Mxe=st("sanity/_singletons/context/comments-enabled",{enabled:!1,mode:null}),Pxe=st("sanity/_singletons/context/comments-intent",void 0),Rxe=st("sanity/_singletons/context/comments-onboarding",null),Fxe=st("sanity/_singletons/context/comments-selected-path",null),Lxe=st("sanity/_singletons/context/comments-upsell",null),Py=st("sanity/_singletons/context/connector",{isReviewChangesOpen:!1,onOpenReviewChanges:()=>{},onSetFocus:()=>{}}),Nxe=st("sanity/_singletons/context/copy-paste",null),kh=st("sanity/_singletons/context/diff",{path:[]}),Bxe=st("sanity/_singletons/context/document-action-props",void 0),Vxe=st("sanity/_singletons/context/document-change",null),zxe=st("sanity/_singletons/context/document-field-actions",null),Uxe=st("sanity/_singletons/context/document-id",null),Hxe=st("sanity/_singletons/context/document-pane",null),Wxe=st("sanity/_singletons/context/document-sheet-list",void 0),Gxe=st("sanity/_singletons/context/field-actions",{actions:[],focused:!1,hovered:!1,onMouseEnter:()=>{},onMouseLeave:()=>{}}),Kxe=st("sanity/_singletons/context/form-builder",null),OH=st("sanity/_singletons/context/form-callbacks",null),GUe=st("sanity/_singletons/context/form-field-presence",[]),Yxe=st("sanity/_singletons/context/form-value",null),qxe=st("sanity/_singletons/context/free-trial",void 0),Zxe=st("sanity/_singletons/context/get-form-value",null),Xxe=st("sanity/_singletons/context/hovered-field",{hoveredStack:[],onMouseEnter:()=>{},onMouseLeave:()=>{}}),Jxe=st("sanity/_singletons/context/is-last-pane",!1),MH=st("sanity/_singletons/context/locale",void 0),Qxe=st("sanity/_singletons/context/mention-user",null),ewe=st("sanity/_singletons/context/navbar",{onSearchFullscreenOpenChange:()=>"",onSearchOpenChange:()=>"",searchFullscreenOpen:!1,searchFullscreenPortalEl:null,searchOpen:!1}),twe=st("sanity/_singletons/context/pane",null),nwe=st("sanity/_singletons/context/pane-layout",null);function Ns(){throw new Error("Pane is missing router context")}const sO=st("sanity/_singletons/context/pane-router",{index:0,groupIndex:0,siblingIndex:0,payload:void 0,params:{},hasGroupSiblings:!1,groupLength:0,routerPanesState:[],BackLink:()=>Ns(),ChildLink:()=>Ns(),ReferenceChildLink:()=>Ns(),handleEditReference:()=>Ns(),ParameterizedLink:()=>Ns(),replaceCurrent:()=>Ns(),closeCurrentAndAfter:()=>Ns(),closeCurrent:()=>Ns(),duplicateCurrent:()=>Ns(),setView:()=>Ns(),setParams:()=>Ns(),setPayload:()=>Ns(),navigateIntent:()=>Ns(),createPathWithParams:()=>Ns()}),rwe=st("sanity/_singletons/context/portable-text-markers",[]),PH=st("sanity/_singletons/context/portable-text-member-items",[]),iwe=st("sanity/_singletons/context/presence",[]),owe=st("sanity/_singletons/context/presence-tracker-store",null),awe=st("sanity/_singletons/context/presence-tracker-get-snapshot",null),KUe=st("sanity/_singletons/context/preview-card",{selected:!1}),swe=st("sanity/_singletons/context/reference-input-options",{}),lwe=st("sanity/_singletons/context/reference-item-ref",null),cwe=st("sanity/_singletons/context/resource-cache",null);st("sanity/_singletons/context/review-changes",null);const RH=st("sanity/_singletons/context/router",null),uwe=st("sanity/_singletons/context/router-history",null),dwe=st("sanity/_singletons/context/scheduled-publishing-enabled",null),fwe=st("sanity/_singletons/context/schedule-publish-upsell",{upsellData:null,handleOpenDialog:()=>null,upsellDialogOpen:!1,telemetryLogs:{dialogSecondaryClicked:()=>null,dialogPrimaryClicked:()=>null,panelViewed:()=>null,panelDismissed:()=>null,panelPrimaryClicked:()=>null,panelSecondaryClicked:()=>null}}),hwe=st("sanity/_singletons/context/schedules",void 0),q9=st("sanity/_singletons/context/scroll",null),pwe=st("sanity/_singletons/context/search",void 0),mwe=st("sanity/_singletons/context/sortable-item-id",null),yj=st("sanity/_singletons/context/source",null),gwe=st("sanity/_singletons/context/structure-tool",null),ywe=st("sanity/_singletons/context/tasks",null),vwe=st("sanity/_singletons/context/tasks-enabled",{enabled:!1,mode:null}),bwe=st("sanity/_singletons/context/tasks-navigation",null),xwe=st("sanity/_singletons/context/tasks-upsell",null),wwe=st("sanity/_singletons/context/tree-editing-enabled",{enabled:!1,legacyEditing:!1}),Cwe=st("sanity/_singletons/context/user-color-manager",null),kwe=st("sanity/_singletons/context/validation",[]),Swe=st("sanity/_singletons/context/virtualizer-scroll-instance",null),Ewe=st("sanity/_singletons/context/workspace",null),_we=st("sanity/_singletons/context/workspaces",null),YUe={navbar:200,navbarPopover:5e5,navbarDialog:500001,pane:100,paneHeader:[110,15e3],paneFooter:[120,2e4],paneResizer:[130,25e3],paneDialog:[140,5e3],popover:200,modal:200,movingItem:1e4,drawershade:1e6,drawer:1000001,fullscreen:12e5,toast:[100,11e3],portal:200,dropdown:200,navbarFixed:1010,fullscreenEdit:1050,popoverBackground:1060,tooltip:200,modalBackground:2e3,spinner:3e3},qUe=st("sanity/_singletons/context/z-index",YUe);function ZUe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Lc=ZUe;const Twe=Ue(Lc);var XUe=typeof Ko=="object"&&Ko&&Ko.Object===Object&&Ko,Awe=XUe,JUe=Awe,QUe=typeof self=="object"&&self&&self.Object===Object&&self,eHe=JUe||QUe||Function("return this")(),Nc=eHe,tHe=Nc,nHe=function(){return tHe.Date.now()},rHe=nHe,iHe=/\s/;function oHe(e){for(var t=e.length;t--&&iHe.test(e.charAt(t)););return t}var aHe=oHe,sHe=aHe,lHe=/^\s+/;function cHe(e){return e&&e.slice(0,sHe(e)+1).replace(lHe,"")}var jwe=cHe,uHe=Nc,dHe=uHe.Symbol,Wx=dHe,wte=Wx,Iwe=Object.prototype,fHe=Iwe.hasOwnProperty,hHe=Iwe.toString,wC=wte?wte.toStringTag:void 0;function pHe(e){var t=fHe.call(e,wC),n=e[wC];try{e[wC]=void 0;var r=!0}catch{}var i=hHe.call(e);return r&&(t?e[wC]=n:delete e[wC]),i}var mHe=pHe,gHe=Object.prototype,yHe=gHe.toString;function vHe(e){return yHe.call(e)}var bHe=vHe,Cte=Wx,xHe=mHe,wHe=bHe,CHe="[object Null]",kHe="[object Undefined]",kte=Cte?Cte.toStringTag:void 0;function SHe(e){return e==null?e===void 0?kHe:CHe:kte&&kte in Object(e)?xHe(e):wHe(e)}var tp=SHe;function EHe(e){return e!=null&&typeof e=="object"}var Ul=EHe,_He=tp,THe=Ul,AHe="[object Symbol]";function jHe(e){return typeof e=="symbol"||THe(e)&&_He(e)==AHe}var Ry=jHe,IHe=jwe,Ste=Lc,$He=Ry,Ete=0/0,DHe=/^[-+]0x[0-9a-f]+$/i,OHe=/^0b[01]+$/i,MHe=/^0o[0-7]+$/i,PHe=parseInt;function RHe(e){if(typeof e=="number")return e;if($He(e))return Ete;if(Ste(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ste(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=IHe(e);var n=OHe.test(e);return n||MHe.test(e)?PHe(e.slice(2),n?2:8):DHe.test(e)?Ete:+e}var $we=RHe,FHe=Lc,H4=rHe,_te=$we,LHe="Expected a function",NHe=Math.max,BHe=Math.min;function VHe(e,t,n){var r,i,o,a,s,l,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(LHe);t=_te(t)||0,FHe(n)&&(d=!!n.leading,f="maxWait"in n,o=f?NHe(_te(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h);function m(S){var E=r,_=i;return r=i=void 0,u=S,a=e.apply(_,E),a}function g(S){return u=S,s=setTimeout(b,t),d?m(S):a}function y(S){var E=S-l,_=S-u,T=t-E;return f?BHe(T,o-_):T}function x(S){var E=S-l,_=S-u;return l===void 0||E>=t||E<0||f&&_>=o}function b(){var S=H4();if(x(S))return v(S);s=setTimeout(b,y(S))}function v(S){return s=void 0,h&&r?m(S):(r=i=void 0,a)}function w(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function C(){return s===void 0?a:v(H4())}function k(){var S=H4(),E=x(S);if(r=arguments,i=this,l=S,E){if(s===void 0)return g(l);if(f)return clearTimeout(s),s=setTimeout(b,t),m(l)}return s===void 0&&(s=setTimeout(b,t)),a}return k.cancel=w,k.flush=C,k}var Dwe=VHe;const Gx=Ue(Dwe),og=["gray","blue","purple","magenta","red","orange","yellow","green","cyan"],zHe=["50","100","200","300","400","500","600","700","800","900","950"],vj={title:"Black",hex:"#0d0e12"},Md={title:"White",hex:"#ffffff"},qk={50:{title:"Gray 50",hex:"#f6f6f8"},100:{title:"Gray 100",hex:"#eeeef1"},200:{title:"Gray 200",hex:"#e3e4e8"},300:{title:"Gray 300",hex:"#bbbdc9"},400:{title:"Gray 400",hex:"#9499ad"},500:{title:"Gray 500",hex:"#727892"},600:{title:"Gray 600",hex:"#515870"},700:{title:"Gray 700",hex:"#383d51"},800:{title:"Gray 800",hex:"#252837"},900:{title:"Gray 900",hex:"#1b1d27"},950:{title:"Gray 950",hex:"#13141b"}},vk={50:{title:"Blue 50",hex:"#f5f8ff"},100:{title:"Blue 100",hex:"#e5edff"},200:{title:"Blue 200",hex:"#dbe5ff"},300:{title:"Blue 300",hex:"#a8bfff"},400:{title:"Blue 400",hex:"#7595ff"},500:{title:"Blue 500",hex:"#556bfc"},600:{title:"Blue 600",hex:"#4043e7"},700:{title:"Blue 700",hex:"#2927aa"},800:{title:"Blue 800",hex:"#192457"},900:{title:"Blue 900",hex:"#161a41"},950:{title:"Blue 950",hex:"#101228"}},Owe={50:{title:"Purple 50",hex:"#f8f5ff"},100:{title:"Purple 100",hex:"#f1ebff"},200:{title:"Purple 200",hex:"#ece1fe"},300:{title:"Purple 300",hex:"#ccb1fc"},400:{title:"Purple 400",hex:"#b087f7"},500:{title:"Purple 500",hex:"#8f57ef"},600:{title:"Purple 600",hex:"#721fe5"},700:{title:"Purple 700",hex:"#4c1a9e"},800:{title:"Purple 800",hex:"#2f1862"},900:{title:"Purple 900",hex:"#23173f"},950:{title:"Purple 950",hex:"#181128"}},UHe={50:{title:"Magenta 50",hex:"#fef6f9"},100:{title:"Magenta 100",hex:"#fde8ef"},200:{title:"Magenta 200",hex:"#fcdee9"},300:{title:"Magenta 300",hex:"#f7abc5"},400:{title:"Magenta 400",hex:"#f0709b"},500:{title:"Magenta 500",hex:"#e72767"},600:{title:"Magenta 600",hex:"#b11651"},700:{title:"Magenta 700",hex:"#7c1342"},800:{title:"Magenta 800",hex:"#4b1130"},900:{title:"Magenta 900",hex:"#341325"},950:{title:"Magenta 950",hex:"#1f0f14"}},X1={50:{title:"Red 50",hex:"#fff6f5"},100:{title:"Red 100",hex:"#ffe7e5"},200:{title:"Red 200",hex:"#ffdedc"},300:{title:"Red 300",hex:"#fdada5"},400:{title:"Red 400",hex:"#f77769"},500:{title:"Red 500",hex:"#ef4434"},600:{title:"Red 600",hex:"#cc2819"},700:{title:"Red 700",hex:"#8b2018"},800:{title:"Red 800",hex:"#4d1714"},900:{title:"Red 900",hex:"#321615"},950:{title:"Red 950",hex:"#1e1011"}},HHe={50:{title:"Orange 50",hex:"#fff7f0"},100:{title:"Orange 100",hex:"#ffeadb"},200:{title:"Orange 200",hex:"#ffddc7"},300:{title:"Orange 300",hex:"#ffb685"},400:{title:"Orange 400",hex:"#ff8e42"},500:{title:"Orange 500",hex:"#fa6400"},600:{title:"Orange 600",hex:"#b14802"},700:{title:"Orange 700",hex:"#7c3404"},800:{title:"Orange 800",hex:"#461e07"},900:{title:"Orange 900",hex:"#32160b"},950:{title:"Orange 950",hex:"#21120d"}},UI={50:{title:"Yellow 50",hex:"#fefae1"},100:{title:"Yellow 100",hex:"#fcf3bb"},200:{title:"Yellow 200",hex:"#f9e994"},300:{title:"Yellow 300",hex:"#f7d455"},400:{title:"Yellow 400",hex:"#f9bc15"},500:{title:"Yellow 500",hex:"#d28a04"},600:{title:"Yellow 600",hex:"#965908"},700:{title:"Yellow 700",hex:"#653a0b"},800:{title:"Yellow 800",hex:"#3b220c"},900:{title:"Yellow 900",hex:"#271a11"},950:{title:"Yellow 950",hex:"#181410"}},Z9={50:{title:"Green 50",hex:"#e7fef5"},100:{title:"Green 100",hex:"#c5fce8"},200:{title:"Green 200",hex:"#a9f9dc"},300:{title:"Green 300",hex:"#59f3ba"},400:{title:"Green 400",hex:"#0ff0a1"},500:{title:"Green 500",hex:"#04b97a"},600:{title:"Green 600",hex:"#01794f"},700:{title:"Green 700",hex:"#015133"},800:{title:"Green 800",hex:"#023120"},900:{title:"Green 900",hex:"#06231a"},950:{title:"Green 950",hex:"#071715"}},WHe={50:{title:"Cyan 50",hex:"#e7fefe"},100:{title:"Cyan 100",hex:"#c5fcfc"},200:{title:"Cyan 200",hex:"#96f8f8"},300:{title:"Cyan 300",hex:"#62efef"},400:{title:"Cyan 400",hex:"#18e2e2"},500:{title:"Cyan 500",hex:"#04b8be"},600:{title:"Cyan 600",hex:"#037782"},700:{title:"Cyan 700",hex:"#024950"},800:{title:"Cyan 800",hex:"#042f34"},900:{title:"Cyan 900",hex:"#072227"},950:{title:"Cyan 950",hex:"#0d181c"}},ln={gray:qk,blue:vk,purple:Owe,magenta:UHe,red:X1,orange:HHe,yellow:UI,green:Z9,cyan:WHe},GHe={black:vj,white:Md,...ln},mr={avatar:{sizes:[{distance:-4,size:19},{distance:-4,size:25},{distance:-8,size:33},{distance:-12,size:49}],focusRing:{offset:1,width:1}},button:{textWeight:"medium",border:{width:1},focusRing:{offset:-1,width:1}},card:{border:{width:1},focusRing:{offset:-1,width:1},shadow:{outline:.5}},container:[320,640,960,1280,1600,1920],media:[360,600,900,1200,1800,2400],layer:{dialog:{zOffset:600},popover:{zOffset:400},tooltip:{zOffset:200}},radius:[0,1,3,6,9,12,21],shadow:[null,{umbra:[0,0,0,0],penumbra:[0,0,0,0],ambient:[0,0,0,0]},{umbra:[0,3,5,-2],penumbra:[0,6,10,0],ambient:[0,1,18,1]},{umbra:[0,7,8,-4],penumbra:[0,12,17,2],ambient:[0,5,22,4]},{umbra:[0,9,11,-5],penumbra:[0,18,28,2],ambient:[0,7,34,6]},{umbra:[0,11,15,-7],penumbra:[0,24,38,3],ambient:[0,9,46,8]}],space:[0,4,8,12,20,32,52,84,136,220],input:{border:{width:1},checkbox:{size:17,focusRing:{offset:-1,width:1}},radio:{size:17,markSize:9,focusRing:{offset:-1,width:1}},switch:{width:25,height:17,padding:5,transitionDurationMs:150,transitionTimingFunction:"ease-out",focusRing:{offset:1,width:1}},select:{focusRing:{offset:-1,width:1}},text:{focusRing:{offset:-1,width:1}}},style:{button:{root:{transition:"background-color 100ms,border-color 100ms,color 100ms"}}}},KHe={code:{family:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace",weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:4,descenderHeight:4,fontSize:10,iconSize:17,lineHeight:15,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:13,iconSize:21,lineHeight:19,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:16,iconSize:25,lineHeight:23,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:19,iconSize:29,lineHeight:27,letterSpacing:0},{ascenderHeight:8,descenderHeight:8,fontSize:22,iconSize:33,lineHeight:31,letterSpacing:0}]},heading:{family:'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:700,medium:800,semibold:900,bold:900},sizes:[{ascenderHeight:5,descenderHeight:5,fontSize:13,iconSize:17,lineHeight:19,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:16,iconSize:25,lineHeight:23,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:21,iconSize:33,lineHeight:29,letterSpacing:0},{ascenderHeight:8,descenderHeight:8,fontSize:27,iconSize:41,lineHeight:35,letterSpacing:0},{ascenderHeight:9.5,descenderHeight:8.5,fontSize:33,iconSize:49,lineHeight:41,letterSpacing:0},{ascenderHeight:10.5,descenderHeight:9.5,fontSize:38,iconSize:53,lineHeight:47,letterSpacing:0}]},label:{family:'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", system-ui, sans-serif',weights:{regular:600,medium:700,semibold:800,bold:900},sizes:[{ascenderHeight:2,descenderHeight:2,fontSize:8.1,iconSize:13,lineHeight:10,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:9.5,iconSize:15,lineHeight:11,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:10.8,iconSize:17,lineHeight:12,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:12.25,iconSize:19,lineHeight:13,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:13.6,iconSize:21,lineHeight:14,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:15,iconSize:23,lineHeight:15,letterSpacing:.5}]},text:{family:'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:4,descenderHeight:4,fontSize:10,iconSize:17,lineHeight:15,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:13,iconSize:21,lineHeight:19,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:15,iconSize:25,lineHeight:23,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:18,iconSize:29,lineHeight:27,letterSpacing:0},{ascenderHeight:8,descenderHeight:8,fontSize:21,iconSize:33,lineHeight:31,letterSpacing:0}]}},Tte=new WeakMap;function da(e){var i,o,a;const t=Tte.get(e);if(t)return t;const n=jn(e,e.card.enabled),r={_blend:e._blend||(e.dark?"screen":"multiply"),_dark:e.dark,accent:n.accent,avatar:n.avatar,backdrop:e.base.shadow.ambient,badge:n.badge,bg:e.base.bg,border:e.base.border,button:{default:K_(e,e.button.default),ghost:K_(e,e.button.ghost),bleed:K_(e,e.button.bleed)},code:n.code,fg:e.base.fg,focusRing:e.base.focusRing,icon:n.muted.fg,input:{default:Ate(e.input.default),invalid:Ate(e.input.invalid)},kbd:n.kbd,link:n.link,muted:{...n.muted,bg:((i=e.selectable)==null?void 0:i.default.enabled.bg2)||e.base.bg},selectable:K_(e,e.selectable||e.muted),shadow:e.base.shadow,skeleton:{from:((o=e.skeleton)==null?void 0:o.from)||e.base.border,to:((a=e.skeleton)==null?void 0:a.to)||e.base.border},syntax:e.syntax};return Tte.set(e,r),r}function K_(e,t){return{default:{enabled:jn(e,t.default.enabled),hovered:jn(e,t.default.hovered),pressed:jn(e,t.default.pressed),selected:jn(e,t.default.selected),disabled:jn(e,t.default.disabled)},neutral:{enabled:jn(e,t.default.enabled),hovered:jn(e,t.default.hovered),pressed:jn(e,t.default.pressed),selected:jn(e,t.default.selected),disabled:jn(e,t.default.disabled)},primary:{enabled:jn(e,t.primary.enabled),hovered:jn(e,t.primary.hovered),pressed:jn(e,t.primary.pressed),selected:jn(e,t.primary.selected),disabled:jn(e,t.primary.disabled)},suggest:{enabled:jn(e,t.primary.enabled),hovered:jn(e,t.primary.hovered),pressed:jn(e,t.primary.pressed),selected:jn(e,t.primary.selected),disabled:jn(e,t.primary.disabled)},positive:{enabled:jn(e,t.positive.enabled),hovered:jn(e,t.positive.hovered),pressed:jn(e,t.positive.pressed),selected:jn(e,t.positive.selected),disabled:jn(e,t.positive.disabled)},caution:{enabled:jn(e,t.caution.enabled),hovered:jn(e,t.caution.hovered),pressed:jn(e,t.caution.pressed),selected:jn(e,t.caution.selected),disabled:jn(e,t.caution.disabled)},critical:{enabled:jn(e,t.critical.enabled),hovered:jn(e,t.critical.hovered),pressed:jn(e,t.critical.pressed),selected:jn(e,t.critical.selected),disabled:jn(e,t.critical.disabled)}}}function jn(e,t){var n,r;return{...t,avatar:{gray:{bg:e.spot.gray,fg:e.base.bg},blue:{bg:e.spot.blue,fg:e.base.bg},purple:{bg:e.spot.purple,fg:e.base.bg},magenta:{bg:e.spot.magenta,fg:e.base.bg},red:{bg:e.spot.red,fg:e.base.bg},orange:{bg:e.spot.orange,fg:e.base.bg},yellow:{bg:e.spot.yellow,fg:e.base.bg},green:{bg:e.spot.green,fg:e.base.bg},cyan:{bg:e.spot.cyan,fg:e.base.bg}},badge:{default:{bg:e.muted.default.enabled.bg,fg:e.muted.default.enabled.fg,dot:e.muted.default.enabled.muted.fg,icon:e.muted.default.enabled.muted.fg},neutral:{bg:e.muted.transparent.enabled.bg,fg:e.muted.transparent.enabled.fg,dot:e.muted.transparent.enabled.muted.fg,icon:e.muted.transparent.enabled.muted.fg},primary:{bg:e.muted.primary.enabled.bg,fg:e.muted.primary.enabled.fg,dot:e.muted.primary.enabled.muted.fg,icon:e.muted.primary.enabled.muted.fg},suggest:{bg:e.muted.primary.enabled.bg,fg:e.muted.primary.enabled.fg,dot:e.muted.primary.enabled.muted.fg,icon:e.muted.primary.enabled.muted.fg},positive:{bg:e.muted.positive.enabled.bg,fg:e.muted.positive.enabled.fg,dot:e.muted.positive.enabled.muted.fg,icon:e.muted.positive.enabled.muted.fg},caution:{bg:e.muted.caution.enabled.bg,fg:e.muted.caution.enabled.fg,dot:e.muted.caution.enabled.muted.fg,icon:e.muted.caution.enabled.muted.fg},critical:{bg:e.muted.critical.enabled.bg,fg:e.muted.critical.enabled.fg,dot:e.muted.critical.enabled.muted.fg,icon:e.muted.critical.enabled.muted.fg}},kbd:{bg:e.muted.default.enabled.bg,fg:e.muted.default.enabled.fg,border:e.muted.default.enabled.border},muted:{...e.muted.default.enabled.muted,bg:t.bg2||t.bg},skeleton:{from:((n=t.skeleton)==null?void 0:n.from)||t.border,to:((r=t.skeleton)==null?void 0:r.to)||t.border}}}function Ate(e){return{enabled:Y_(e.enabled),disabled:Y_(e.disabled),readOnly:Y_(e.readOnly),hovered:Y_(e.hovered)}}function Y_(e){return{bg:e.bg,border:e.border,fg:e.fg,muted:{bg:e.bg2},placeholder:e.placeholder}}const jte=new WeakMap;function $e(e){var r;if((r=e.sanity.v2)!=null&&r._resolved)return e.sanity.v2;const t=jte.get(e);if(t)return t;const n={_version:2,_resolved:!0,avatar:{...mr.avatar,...e.sanity.avatar},button:{...mr.button,...e.sanity.button},card:mr.card,color:da(e.sanity.color),container:e.sanity.container,font:e.sanity.fonts,input:{...mr.input,...e.sanity.input,checkbox:{...mr.input.checkbox,...e.sanity.input.checkbox},radio:{...mr.input.radio,...e.sanity.input.radio},switch:{...mr.input.switch,...e.sanity.input.switch}},layer:e.sanity.layer??mr.layer,media:e.sanity.media,radius:e.sanity.radius,shadow:e.sanity.shadows,space:e.sanity.space,style:e.sanity.styles};return jte.set(e,n),n}function Ite(e){return e._version===2}const $te=new WeakMap;function YHe(e){if(e.v2)return e.v2;const t=$te.get(e);if(t)return t;const{avatar:n,button:r,color:i,container:o,fonts:a,input:s,layer:l,media:u,radius:d,shadows:f,space:h,styles:m}=e,g={_version:2,avatar:{...mr.avatar,...n},button:{...mr.button,...r},card:mr.card,color:{light:{transparent:da(i.light.transparent),default:da(i.light.default),neutral:da(i.light.transparent),primary:da(i.light.primary),suggest:da(i.light.primary),positive:da(i.light.positive),caution:da(i.light.caution),critical:da(i.light.critical)},dark:{transparent:da(i.dark.transparent),default:da(i.dark.default),neutral:da(i.dark.transparent),primary:da(i.dark.primary),suggest:da(i.dark.primary),positive:da(i.dark.positive),caution:da(i.dark.caution),critical:da(i.dark.critical)}},container:o,font:a,input:{...mr.input,...s,checkbox:{...mr.input.checkbox,...s.checkbox},radio:{...mr.input.radio,...s.radio},switch:{...mr.input.switch,...s.switch}},layer:l??mr.layer,media:u,radius:d,shadow:f,space:h,style:m};return $te.set(e,g),g}const qHe=new WeakMap;function Mwe(e){const t=qHe.get(e);if(t)return t;const{avatar:n,button:r,color:i,container:o,font:a,input:s,media:l,radius:u,shadow:d,space:f,style:h}=e;return{_version:0,avatar:n,button:r,container:o,color:{light:{transparent:Xl(i.light.transparent),default:Xl(i.light.default),primary:Xl(i.light.primary),positive:Xl(i.light.positive),caution:Xl(i.light.caution),critical:Xl(i.light.critical)},dark:{transparent:Xl(i.dark.transparent),default:Xl(i.dark.default),primary:Xl(i.dark.primary),positive:Xl(i.dark.positive),caution:Xl(i.dark.caution),critical:Xl(i.dark.critical)}},focusRing:s.text.focusRing,fonts:a,input:s,media:l,radius:u,shadows:d,space:f,styles:h,v2:e}}function Xl(e){return{base:{bg:e.bg,fg:e.fg,border:e.border,focusRing:e.focusRing,shadow:e.shadow},button:e.button,card:e.selectable.default,dark:e._dark,input:{default:Dte(e.input.default),invalid:Dte(e.input.invalid)},muted:{...e.button.ghost,transparent:e.button.ghost.default},solid:{...e.button.default,transparent:e.button.default.default},selectable:e.selectable,spot:{gray:e.avatar.gray.bg,blue:e.avatar.blue.bg,purple:e.avatar.purple.bg,magenta:e.avatar.magenta.bg,red:e.avatar.red.bg,orange:e.avatar.orange.bg,yellow:e.avatar.yellow.bg,green:e.avatar.green.bg,cyan:e.avatar.cyan.bg},syntax:e.syntax}}function Dte(e){return{enabled:q_(e.enabled),disabled:q_(e.disabled),readOnly:q_(e.readOnly),hovered:q_(e.hovered)}}function q_(e){return{bg:e.bg,bg2:e.muted.bg,border:e.border,fg:e.fg,placeholder:e.placeholder}}const ZHe=["multiply","screen"],FH=["transparent","default","neutral","primary","suggest","positive","caution","critical"],Bc=["default","neutral","primary","suggest","positive","caution","critical"],z5=["enabled","hovered","pressed","selected","disabled"],Pwe=["default","ghost","bleed"],Rwe=["default","invalid"],Fwe=["enabled","hovered","readOnly","disabled"],XHe=og;function JHe(e){return ZHe.includes(e)}function QHe(e){return og.includes(e)}function Ote(e){return zHe.includes(e)}[...XHe];[...FH];[...Bc];[...z5];[...Rwe];[...Fwe];function W4(e){return/^\d+%$/.test(e)}function Lwe(e){const t=e.split("/");let n=t.shift()||"";const[r,i]=n.split(" ");if(Ote(r)){const o=r,a=t.shift()||"";if(W4(i)){const s=Number(i.slice(0,-1))/100;return{type:"color",tint:o,mix:s}}if(G4(a)){const s=Number(a);return{type:"color",tint:o,opacity:s}}return{type:"color",tint:o}}if(eWe(r)){const o=r,a=t.shift()||"";if(W4(i)){const s=Number(i.slice(0,-1))/100;return{type:"color",key:o,mix:s}}if(G4(a)){const s=Number(a);return{type:"color",key:o,opacity:s}}return{type:"color",key:o}}if(QHe(r)){const o=r;n=t.shift()||"";const[a,s]=n.split(" ");if(Ote(a)){const l=a,u=t.shift()||"";if(W4(s)){const d=Number(s.slice(0,-1))/100;return{type:"color",hue:o,tint:l,mix:d}}if(G4(u)){const d=Number(u);return{type:"color",hue:o,tint:l,opacity:d}}return{type:"color",hue:o,tint:l}}return{type:"hue",value:o}}if(JHe(r))return{type:"blendMode",value:r}}function eWe(e){return e==="black"||e==="white"}function G4(e){return e==="0"||/^0\.[0-9]+$/.test(e)||e==="1"}function tWe(e){let t="";return e.key==="black"||e.key==="white"?t=e.key:t=`${e.hue}/${e.tint}`,e.mix!==void 0?`${t} ${e.mix*100}%`:(e.opacity!==void 0&&(t+=`/${e.opacity}`),t)}const nWe=["500","500"];function Ne(e,t=nWe){const{hue:n,scheme:r}=e,i=Lwe(t[r==="light"?0:1]);if(!i||i.type!=="color")throw new Error(`Invalid color token: ${t[0]}`);return tWe({...i,hue:i.hue||n})}const rWe={base:{"*":{_blend:["multiply","screen"],accent:{fg:["purple/600","purple/400"]},avatar:{"*":{_blend:["screen","multiply"],bg:["500","400"],fg:["white","black"]}},backdrop:["gray/200/0.5","black/0.5"],badge:{"*":{bg:["100","900"],fg:["600","400"],icon:["500","500"],dot:["500","500"]},positive:{bg:["200 50%","900"],fg:["600","500"]},caution:{bg:["200 50%","900"],fg:["600","500"]}},bg:["50","950"],border:["200","800"],code:{bg:["50","950"],fg:["600","400"]},fg:["800","200"],focusRing:["blue/500","blue/500"],icon:["600","400"],kbd:{bg:["white","black"],fg:["600","400"],border:["200","800"]},link:{fg:["blue/600","blue/300"]},muted:{bg:["50","950"],fg:["700 75%","300 75%"]},shadow:{outline:["500/0.3","500/0.4"],umbra:["gray/500/0.1","black/0.2"],penumbra:["gray/500/0.07","black/0.14"],ambient:["gray/500/0.06","black/0.12"]},skeleton:{from:["100","900"],to:["100 50%","900 50%"]}},transparent:{bg:["50","black"]},default:{bg:["white","950"],fg:["800","200"],muted:{fg:["600","400"]}},primary:{_hue:"blue"},suggest:{_hue:"purple"},positive:{_hue:"green",shadow:{outline:["500/0.4","500/0.4"]}},caution:{_hue:"yellow",shadow:{outline:["600/0.3","500/0.4"]}},critical:{_hue:"red"}},button:{default:{"*":{"*":{_blend:["screen","multiply"],accent:{fg:["purple/300","purple/700"]},avatar:{"*":{_blend:["screen","multiply"],bg:["500","400"],fg:["white","black"]}},badge:{"*":{bg:["900","100"],fg:["400","600"],dot:["500","500"],icon:["500","500"]}},bg:["500","400"],border:["500/0","400/0"],code:{bg:["500 20%","400 20%"],fg:["200","600"]},fg:["white","black"],icon:["100 70%","900 70%"],kbd:{bg:["black","white"],fg:["200","600"],border:["800","200"]},link:{fg:["blue/200","blue/600"]},muted:{bg:["950","50"],fg:["100 70%","900 70%"]},skeleton:{from:["900","100"],to:["900 50%","100 50%"]}},hovered:{bg:["600","300"],border:["700/0","300/0"]},pressed:{bg:["700","300"]},selected:{bg:["700","300"]},disabled:{_hue:"gray",accent:{fg:["100 70%","900 70%"]},avatar:{"*":{_blend:["screen","multiply"],bg:["gray/500","gray/400"],fg:["white","black"]}},badge:{"*":{bg:["gray/700","gray/300"],fg:["white","black"],dot:["white","black"],icon:["white","black"]}},bg:["300","600"],code:{bg:["950","50"],fg:["300","600"]},fg:["300","600"],muted:{bg:["950","50"],fg:["300","600"]},kbd:{bg:["black","white"],fg:["white","black"],border:["700","300"]},link:{fg:["100 70%","900 70%"]}}},default:{"*":{avatar:{"*":{_blend:["screen","multiply"],bg:["500","400"],fg:["white","black"]}},bg:["800","200"],muted:{bg:["950","50"],fg:["400","600"]}},hovered:{bg:["900","100"]},pressed:{bg:["black","white"]},selected:{bg:["black","white"]}}},ghost:{"*":{"*":{_blend:["multiply","screen"],accent:{fg:["purple/700 60%","purple/300 70%"]},avatar:{"*":{_blend:["screen","multiply"],bg:["500","400"],fg:["white","black"]}},badge:{"*":{bg:["100","900"],fg:["600","400"],dot:["500","500"],icon:["500","500"]}},bg:["50","950"],border:["100","900"],code:{bg:["500 10%","400 10%"],fg:["700 60%","400 60%"]},fg:["600","400"],icon:["700 60%","300 60%"],kbd:{bg:["white","black"],fg:["600","400"],border:["200","800"]},link:{fg:["blue/700 60%","blue/300 60%"]},muted:{bg:["100","950"],fg:["700 60%","300 60%"]},skeleton:{from:["100","900"],to:["100 50%","900 50%"]}},hovered:{bg:["100","900"],fg:["700","300"]},pressed:{bg:["200","800"],fg:["800","200"]},selected:{bg:["200","800"],fg:["800","200"]},disabled:{_hue:"gray",accent:{fg:["200","800"]},avatar:{"*":{_blend:["screen","multiply"],bg:["gray/100","gray/900"],fg:["white","black"]}},badge:{"*":{_hue:"gray",bg:["50","950"],fg:["gray/200","gray/800"],dot:["gray/200","gray/800"],icon:["gray/200","gray/800"]}},border:["100","900"],code:{bg:["50","950"],fg:["200","800"]},fg:["400","600"],icon:["300","700"],muted:{fg:["300","700"]},kbd:{bg:["white","black"],fg:["200","800"],border:["100","900"]},link:{fg:["200","800"]}}},positive:{"*":{border:["600 20%","800"]}},caution:{"*":{border:["600 20%","800"]}}},bleed:{"*":{"*":{_blend:["multiply","screen"],accent:{fg:["purple/700 70%","purple/300 70%"]},avatar:{"*":{_blend:["screen","multiply"],bg:["500","400"],fg:["white","black"]}},badge:{"*":{bg:["100","900"],fg:["600","400"],dot:["500","500"],icon:["500","500"]}},bg:["white","black"],border:["white/0","black/0"],code:{bg:["50","950"],fg:["700 75%","300 75%"]},fg:["700","300"],icon:["700 75%","300 75%"],kbd:{bg:["white","black"],fg:["700","300"],border:["200","800"]},link:{fg:["blue/700 70%","blue/300 70%"]},muted:{bg:["100","950"],fg:["700 75%","300 75%"]},skeleton:{from:["100","900"],to:["100 50%","900 50%"]}},hovered:{bg:["50","900"],fg:["800","200"],icon:["800 70%","300 70%"]},pressed:{bg:["100","800"],fg:["800","200"],icon:["800 70%","200 70%"]},selected:{bg:["100","900"],fg:["800","200"],icon:["800 60%","200 60%"]},disabled:{_hue:"gray",accent:{fg:["200","800"]},avatar:{"*":{_blend:["screen","multiply"],bg:["gray/100","gray/900"],fg:["white","black"]}},badge:{"*":{_hue:"gray",bg:["50","950"],fg:["gray/200","gray/800"],dot:["gray/200","gray/800"],icon:["gray/200","gray/800"]}},code:{bg:["50","950"],fg:["200","800"]},fg:["400","600"],icon:["300","700"],muted:{fg:["400","600"]},kbd:{bg:["white","black"],fg:["200","800"],border:["100","900"]},link:{fg:["200","800"]}}}}},input:{"*":{"*":{_blend:["multiply","screen"],bg:["white","black"],border:["200","700"],fg:["black","200"],muted:{bg:["50","950"]},placeholder:["400","600"]},hovered:{border:["300","700"]},readOnly:{bg:["50","950"],border:["200","800"],fg:["800","200"]},disabled:{bg:["50","950"],fg:["400","600"],border:["100","900"],placeholder:["200","800 50%"]}},invalid:{"*":{_hue:"red",bg:["100","950"]}}},selectable:{"*":{"*":{_blend:["multiply","screen"],accent:{fg:["purple/700 70%","purple/300 70%"]},avatar:{"*":{_blend:["screen","multiply"],bg:["500","400"],fg:["white","black"]}},badge:{"*":{bg:["100","900"],fg:["600","400"],dot:["500","500"],icon:["500","500"]}},bg:["white","black"],border:["200","800"],code:{bg:["50","950"],fg:["600","400"]},fg:["700","300"],icon:["700 75%","300 75%"],kbd:{bg:["white","black"],fg:["600","400"],border:["200","800"]},link:{fg:["blue/700 70%","blue/300 70%"]},muted:{bg:["50","950"],fg:["700 75%","300 75%"]},skeleton:{from:["100","900"],to:["100 50%","900 50%"]}},hovered:{bg:["50","950"]},pressed:{bg:["100","900"]},selected:{_blend:["screen","multiply"],accent:{fg:["purple/300","purple/700"]},avatar:{"*":{_blend:["multiply","screen"],bg:["white","black"],fg:["black","white"]}},badge:{"*":{bg:["900","100"],fg:["400","600"],dot:["500","500"],icon:["500","500"]}},bg:["500","400"],border:["500 20%","400 20%"],code:{bg:["500 20%","400 20%"],fg:["200","600"]},fg:["white","black"],icon:["100 70%","900 70%"],kbd:{bg:["black","white"],fg:["200","600"],border:["800","200"]},link:{fg:["blue/200","blue/600"]},muted:{bg:["500 10%","400 10%"],fg:["100 70%","900 70%"]},skeleton:{from:["900","100"],to:["900 50%","100 50%"]}},disabled:{_hue:"gray",accent:{fg:["200","800"]},avatar:{"*":{_blend:["screen","multiply"],bg:["gray/100","gray/900"],fg:["white","black"]}},badge:{"*":{_hue:"gray",bg:["50","950"],fg:["gray/200","gray/800"],dot:["gray/200","gray/800"],icon:["gray/200","gray/800"]}},border:["100","900"],code:{bg:["50","950"],fg:["200","800"]},fg:["200","800"],icon:["200","800"],kbd:{bg:["white","black"],fg:["200","800"],border:["100","900"]},link:{fg:["200","800"]},muted:{bg:["50 50%","950 50%"],fg:["200","800"]}}},default:{selected:{_hue:"blue"}},critical:{disabled:{bg:["50 50%","950 50%"]}}},syntax:{atrule:["purple/600","purple/400"],attrName:["green/600","green/400"],attrValue:["yellow/600","yellow/400"],attribute:["yellow/600","yellow/400"],boolean:["purple/600","purple/400"],builtin:["purple/600","purple/400"],cdata:["yellow/600","yellow/400"],char:["yellow/600","yellow/400"],class:["orange/600","orange/400"],className:["cyan/600","cyan/400"],comment:["gray/400","gray/600"],constant:["purple/600","purple/400"],deleted:["red/600","red/400"],entity:["red/600","red/400"],function:["green/600","green/400"],hexcode:["blue/600","blue/400"],id:["purple/600","purple/400"],important:["purple/600","purple/400"],inserted:["yellow/600","yellow/400"],keyword:["magenta/600","magenta/400"],number:["purple/600","purple/400"],operator:["magenta/600","magenta/400"],property:["blue/600","blue/400"],pseudoClass:["yellow/600","yellow/400"],pseudoElement:["yellow/600","yellow/400"],punctuation:["gray/600","gray/400"],regex:["blue/600","blue/400"],selector:["red/600","red/400"],string:["yellow/600","yellow/400"],symbol:["purple/600","purple/400"],tag:["red/600","red/400"],unit:["orange/600","orange/400"],url:["red/600","red/400"],variable:["red/600","red/400"]}};function Mte(e){return!!(e&&typeof e=="object"&&!Array.isArray(e))}function Sh(...e){const t=e.filter(Boolean);return t.length===0?{}:t.reduce(iWe,{})}function iWe(e,t){for(const n of Object.keys(t)){const r=e[n],i=t[n];Mte(r)&&Mte(i)?e[n]=Sh(r,i):e[n]=i}return e}function oWe(e){const t=Sh(rWe,e);return{base:aWe(t),button:lWe(t),input:fWe(t),selectable:mWe(t),syntax:t.syntax}}function aWe(e){const t={};for(const n of FH)t[n]=sWe(e,n);return t}function sWe(e,t){var i,o,a,s;const n=Sh((i=e==null?void 0:e.base)==null?void 0:i["*"],(o=e==null?void 0:e.base)==null?void 0:o[t]),r=n._hue||((s=(a=e==null?void 0:e.base)==null?void 0:a[t])==null?void 0:s._hue)||"gray";return{...n,_hue:r,avatar:og.reduce((l,u)=>{var d,f;return{...l,[u]:Sh({_hue:u},(d=n.avatar)==null?void 0:d["*"],(f=n.avatar)==null?void 0:f[u])}},{}),badge:Bc.reduce((l,u)=>{var d,f,h,m;return{...l,[u]:{_hue:((f=(d=e==null?void 0:e.base)==null?void 0:d[u])==null?void 0:f._hue)||r,...(h=n.badge)==null?void 0:h["*"],...(m=n.badge)==null?void 0:m[u]}}},{})}}function lWe(e){const t={};for(const n of Pwe)t[n]=cWe(e,n);return t}function cWe(e,t){const n={};for(const r of Bc)n[r]=uWe(e,t,r);return n}function uWe(e,t,n){const r={};for(const i of z5)r[i]=dWe(e,n,t,i);return r}function dWe(e,t,n,r){var a,s,l,u,d,f,h,m,g,y,x,b,v,w;const i=Sh((l=(s=(a=e==null?void 0:e.button)==null?void 0:a[n])==null?void 0:s["*"])==null?void 0:l["*"],(f=(d=(u=e==null?void 0:e.button)==null?void 0:u[n])==null?void 0:d[t])==null?void 0:f["*"],(g=(m=(h=e==null?void 0:e.button)==null?void 0:h[n])==null?void 0:m["*"])==null?void 0:g[r],(b=(x=(y=e==null?void 0:e.button)==null?void 0:y[n])==null?void 0:x[t])==null?void 0:b[r]),o=i._hue||((w=(v=e==null?void 0:e.base)==null?void 0:v[t])==null?void 0:w._hue);return{...i,_hue:o,avatar:og.reduce((C,k)=>{var S,E;return{...C,[k]:Sh({_hue:k},(S=i.avatar)==null?void 0:S["*"],(E=i.avatar)==null?void 0:E[k])}},{}),badge:Bc.reduce((C,k)=>{var S,E,_,T;return{...C,[k]:{_hue:((E=(S=e==null?void 0:e.base)==null?void 0:S[k])==null?void 0:E._hue)||o,...(_=i.badge)==null?void 0:_["*"],...(T=i.badge)==null?void 0:T[k]}}},{})}}function fWe(e){const t={};for(const n of Rwe)t[n]=hWe(e,n);return t}function hWe(e,t){const n={};for(const r of Fwe)n[r]=pWe(e,t,r);return n}function pWe(e,t,n){var o,a,s,l,u,d,f,h,m,g;const r=Sh((a=(o=e==null?void 0:e.input)==null?void 0:o["*"])==null?void 0:a["*"],(l=(s=e==null?void 0:e.input)==null?void 0:s[t])==null?void 0:l["*"],(d=(u=e==null?void 0:e.input)==null?void 0:u["*"])==null?void 0:d[n],(h=(f=e==null?void 0:e.input)==null?void 0:f[t])==null?void 0:h[n]),i=r._hue||((g=(m=e==null?void 0:e.input)==null?void 0:m[t])==null?void 0:g._hue);return{...r,_hue:i}}function mWe(e){const t={};for(const n of Bc)t[n]=gWe(e,n);return t}function gWe(e,t){var r,i,o,a;const n={_hue:((i=(r=e==null?void 0:e.selectable)==null?void 0:r[t])==null?void 0:i._hue)||((a=(o=e==null?void 0:e.base)==null?void 0:o[t])==null?void 0:a._hue)};for(const s of z5)n[s]=yWe(e,t,s);return n}function yWe(e,t,n){var o,a,s,l,u,d,f,h,m,g;const r=Sh((a=(o=e==null?void 0:e.selectable)==null?void 0:o["*"])==null?void 0:a["*"],(l=(s=e==null?void 0:e.selectable)==null?void 0:s[t])==null?void 0:l["*"],(d=(u=e==null?void 0:e.selectable)==null?void 0:u["*"])==null?void 0:d[n],(h=(f=e==null?void 0:e.selectable)==null?void 0:f[t])==null?void 0:h[n]),i=r._hue||((g=(m=e==null?void 0:e.base)==null?void 0:m[t])==null?void 0:g._hue);return{...r,_hue:i,avatar:og.reduce((y,x)=>{var b,v;return{...y,[x]:Sh({_hue:x},(b=r.avatar)==null?void 0:b["*"],(v=r.avatar)==null?void 0:v[x])}},{}),badge:Bc.reduce((y,x)=>{var b,v,w,C;return{...y,[x]:{_hue:((v=(b=e==null?void 0:e.base)==null?void 0:b[x])==null?void 0:v._hue)||i,...(w=r.badge)==null?void 0:w["*"],...(C=r.badge)==null?void 0:C[x]}}},{})}}function vWe(e){const t={color:oWe(e==null?void 0:e.color)};return{light:Pte({scheme:"light"},t),dark:Pte({scheme:"dark"},t)}}function Pte(e,t){const{scheme:n}=e,r={};for(const i of FH)r[i]=bWe({scheme:n,tone:i},t);return r}function bWe(e,t){var a,s,l,u,d,f,h,m,g,y,x,b,v;const{scheme:n,tone:r}=e,i=(s=(a=t==null?void 0:t.color)==null?void 0:a.base)==null?void 0:s[r],o={hue:(i==null?void 0:i._hue)||"gray",scheme:n};return{_blend:((i==null?void 0:i._blend)||["multiply","screen"])[n==="light"?0:1],_dark:n==="dark",accent:{fg:Ne(o,(l=i==null?void 0:i.accent)==null?void 0:l.fg)},avatar:LH({scheme:n},i),backdrop:Ne(o,i==null?void 0:i.backdrop),badge:NH(i==null?void 0:i.badge,{scheme:n},t),bg:Ne(o,i==null?void 0:i.bg),border:Ne(o,i==null?void 0:i.border),button:CWe({scheme:n,tone:r},t),code:{bg:Ne(o,(u=i==null?void 0:i.code)==null?void 0:u.bg),fg:Ne(o,(d=i==null?void 0:i.code)==null?void 0:d.fg)},fg:Ne(o,i==null?void 0:i.fg),focusRing:Ne(o,i==null?void 0:i.focusRing),icon:Ne(o,i==null?void 0:i.icon),input:_We({scheme:n,tone:r},t),kbd:{bg:Ne(o,(f=i==null?void 0:i.kbd)==null?void 0:f.bg),fg:Ne(o,(h=i==null?void 0:i.kbd)==null?void 0:h.fg),border:Ne(o,(m=i==null?void 0:i.kbd)==null?void 0:m.border)},link:{fg:Ne(o,(g=i==null?void 0:i.link)==null?void 0:g.fg)},muted:{bg:Ne(o,(y=i==null?void 0:i.muted)==null?void 0:y.bg),fg:Ne(o,(x=i==null?void 0:i.muted)==null?void 0:x.fg)},selectable:TWe({scheme:n,tone:r},t),shadow:xWe({scheme:n,tone:r},t),skeleton:{from:Ne(o,(b=i==null?void 0:i.skeleton)==null?void 0:b.from),to:Ne(o,(v=i==null?void 0:i.skeleton)==null?void 0:v.to)},syntax:IWe({scheme:n},t)}}function xWe(e,t){var a,s,l,u,d,f;const{scheme:n,tone:r}=e,i=(s=(a=t==null?void 0:t.color)==null?void 0:a.base)==null?void 0:s[r],o={hue:(i==null?void 0:i._hue)||"gray",scheme:n};return{outline:Ne(o,(l=i==null?void 0:i.shadow)==null?void 0:l.outline),umbra:Ne(o,(u=i==null?void 0:i.shadow)==null?void 0:u.umbra),penumbra:Ne(o,(d=i==null?void 0:i.shadow)==null?void 0:d.penumbra),ambient:Ne(o,(f=i==null?void 0:i.shadow)==null?void 0:f.ambient)}}function LH(e,t){const{scheme:n}=e;return{gray:Sf({color:"gray",scheme:n},t),blue:Sf({color:"blue",scheme:n},t),purple:Sf({color:"purple",scheme:n},t),magenta:Sf({color:"magenta",scheme:n},t),red:Sf({color:"red",scheme:n},t),orange:Sf({color:"orange",scheme:n},t),yellow:Sf({color:"yellow",scheme:n},t),green:Sf({color:"green",scheme:n},t),cyan:Sf({color:"cyan",scheme:n},t)}}function Sf(e,t){var a;const{color:n,scheme:r}=e,i=(a=t==null?void 0:t.avatar)==null?void 0:a[n],o={hue:(i==null?void 0:i._hue)||"gray",scheme:r};return{_blend:((i==null?void 0:i._blend)||["screen","multiply"])[r==="light"?0:1],bg:Ne(o,i==null?void 0:i.bg),fg:Ne(o,i==null?void 0:i.fg)}}function NH(e,t,n){const{scheme:r}=t,i={};for(const o of Bc)i[o]=wWe(e,{scheme:r,tone:o},n);return i}function wWe(e,t,n){var s,l,u;const{scheme:r,tone:i}=t,o=e==null?void 0:e[i],a={hue:(o==null?void 0:o._hue)||((u=(l=(s=n==null?void 0:n.color)==null?void 0:s.base)==null?void 0:l[i])==null?void 0:u._hue)||"gray",scheme:r};return{bg:Ne(a,o==null?void 0:o.bg),fg:Ne(a,o==null?void 0:o.fg),dot:Ne(a,o==null?void 0:o.dot),icon:Ne(a,o==null?void 0:o.icon)}}function CWe(e,t){const{scheme:n,tone:r}=e,i={};for(const o of Pwe)i[o]=kWe({cardTone:r,scheme:n,mode:o},t);return i}function kWe(e,t){const{cardTone:n,mode:r,scheme:i}=e,o={};for(const a of Bc)o[a]=SWe({cardTone:n,mode:r,scheme:i,tone:a},t);return o}function SWe(e,t){const{cardTone:n,mode:r,scheme:i,tone:o}=e,a={};for(const s of z5)a[s]=EWe({cardTone:n,mode:r,tone:o,scheme:i,state:s},t);return a}function EWe(e,t){var h,m,g,y,x,b,v,w,C,k,S,E,_,T,A,I,j;const{cardTone:n,mode:r,tone:i,scheme:o,state:a}=e,s=(m=(h=t==null?void 0:t.color)==null?void 0:h.base)==null?void 0:m[n],l=(b=(x=(y=(g=t==null?void 0:t.color)==null?void 0:g.button)==null?void 0:y[r])==null?void 0:x[i])==null?void 0:b[a],u=(l==null?void 0:l._hue)||(s==null?void 0:s._hue)||"gray",d=(l==null?void 0:l._blend)||["screen","multiply"],f={hue:u,scheme:o};return{_blend:d[o==="light"?0:1],accent:{fg:Ne(f,(v=l==null?void 0:l.accent)==null?void 0:v.fg)},avatar:LH({scheme:o},l),badge:NH(l==null?void 0:l.badge,{scheme:o},t),bg:Ne(f,l==null?void 0:l.bg),border:Ne(f,l==null?void 0:l.border),code:{bg:Ne(f,(w=l==null?void 0:l.code)==null?void 0:w.bg),fg:Ne(f,(C=l==null?void 0:l.code)==null?void 0:C.fg)},fg:Ne(f,l==null?void 0:l.fg),icon:Ne(f,l==null?void 0:l.icon),muted:{bg:Ne(f,(k=l==null?void 0:l.muted)==null?void 0:k.bg),fg:Ne(f,(S=l==null?void 0:l.muted)==null?void 0:S.fg)},kbd:{bg:Ne(f,(E=l==null?void 0:l.kbd)==null?void 0:E.bg),fg:Ne(f,(_=l==null?void 0:l.kbd)==null?void 0:_.fg),border:Ne(f,(T=l==null?void 0:l.kbd)==null?void 0:T.border)},link:{fg:Ne(f,(A=l==null?void 0:l.link)==null?void 0:A.fg)},skeleton:{from:Ne(f,(I=l==null?void 0:l.skeleton)==null?void 0:I.from),to:Ne(f,(j=l==null?void 0:l.skeleton)==null?void 0:j.to)}}}function _We(e,t){const{scheme:n,tone:r}=e;return{default:Rte({mode:"default",scheme:n,tone:r},t),invalid:Rte({mode:"invalid",scheme:n,tone:r},t)}}function Rte(e,t){const{mode:n,scheme:r,tone:i}=e;return{enabled:Z_({mode:n,scheme:r,state:"enabled",cardTone:i},t),hovered:Z_({mode:n,scheme:r,state:"hovered",cardTone:i},t),readOnly:Z_({mode:n,scheme:r,state:"readOnly",cardTone:i},t),disabled:Z_({mode:n,scheme:r,state:"disabled",cardTone:i},t)}}function Z_(e,t){var f,h,m,g,y,x;const{cardTone:n,mode:r,scheme:i,state:o}=e,a=(h=(f=t==null?void 0:t.color)==null?void 0:f.base)==null?void 0:h[n],s=(y=(g=(m=t==null?void 0:t.color)==null?void 0:m.input)==null?void 0:g[r])==null?void 0:y[o],l=(s==null?void 0:s._hue)||(a==null?void 0:a._hue)||"gray",u=(s==null?void 0:s._blend)||["screen","multiply"],d={hue:l,scheme:i};return{_blend:u[i==="light"?0:1],bg:Ne(d,s==null?void 0:s.bg),border:Ne(d,s==null?void 0:s.border),fg:Ne(d,s==null?void 0:s.fg),muted:{bg:Ne(d,(x=s==null?void 0:s.muted)==null?void 0:x.bg)},placeholder:Ne(d,s==null?void 0:s.placeholder)}}function TWe(e,t){const{scheme:n,tone:r}=e,i={};for(const o of Bc)i[o]=AWe({cardTone:r,scheme:n,tone:o},t);return i}function AWe(e,t){const{cardTone:n,scheme:r,tone:i}=e,o={};for(const a of z5)o[a]=jWe({cardTone:n,tone:i,scheme:r,state:a},t);return o}function jWe(e,t){var f,h,m,g,y,x,b,v,w,C,k,S,E,_,T,A;const{cardTone:n,scheme:r,state:i,tone:o}=e,a=(h=(f=t==null?void 0:t.color)==null?void 0:f.base)==null?void 0:h[n],s=(y=(g=(m=t==null?void 0:t.color)==null?void 0:m.selectable)==null?void 0:g[o])==null?void 0:y[i],l=(s==null?void 0:s._hue)||(a==null?void 0:a._hue)||"gray",u=(s==null?void 0:s._blend)||["screen","multiply"],d={hue:l,scheme:r};return{_blend:u[r==="light"?0:1],accent:{fg:Ne(d,(x=s==null?void 0:s.accent)==null?void 0:x.fg)},avatar:LH({scheme:r},s),badge:NH(s==null?void 0:s.badge,{scheme:r},t),bg:Ne(d,s==null?void 0:s.bg),border:Ne(d,s==null?void 0:s.border),code:{bg:Ne(d,(b=s==null?void 0:s.code)==null?void 0:b.bg),fg:Ne(d,(v=s==null?void 0:s.code)==null?void 0:v.fg)},fg:Ne(d,s==null?void 0:s.fg),icon:Ne(d,s==null?void 0:s.icon),muted:{bg:Ne(d,(w=s==null?void 0:s.muted)==null?void 0:w.bg),fg:Ne(d,(C=s==null?void 0:s.muted)==null?void 0:C.fg)},kbd:{bg:Ne(d,(k=s==null?void 0:s.kbd)==null?void 0:k.bg),fg:Ne(d,(S=s==null?void 0:s.kbd)==null?void 0:S.fg),border:Ne(d,(E=s==null?void 0:s.kbd)==null?void 0:E.border)},link:{fg:Ne(d,(_=s==null?void 0:s.link)==null?void 0:_.fg)},skeleton:{from:Ne(d,(T=s==null?void 0:s.skeleton)==null?void 0:T.from),to:Ne(d,(A=s==null?void 0:s.skeleton)==null?void 0:A.to)}}}function IWe(e,t){var o;const{scheme:n}=e,r=(o=t==null?void 0:t.color)==null?void 0:o.syntax,i={hue:"gray",scheme:n};return{atrule:Ne(i,r==null?void 0:r.atrule),attrName:Ne(i,r==null?void 0:r.attrName),attrValue:Ne(i,r==null?void 0:r.attrValue),attribute:Ne(i,r==null?void 0:r.attribute),boolean:Ne(i,r==null?void 0:r.boolean),builtin:Ne(i,r==null?void 0:r.builtin),cdata:Ne(i,r==null?void 0:r.cdata),char:Ne(i,r==null?void 0:r.char),class:Ne(i,r==null?void 0:r.class),className:Ne(i,r==null?void 0:r.className),comment:Ne(i,r==null?void 0:r.comment),constant:Ne(i,r==null?void 0:r.constant),deleted:Ne(i,r==null?void 0:r.deleted),doctype:Ne(i,r==null?void 0:r.doctype),entity:Ne(i,r==null?void 0:r.entity),function:Ne(i,r==null?void 0:r.function),hexcode:Ne(i,r==null?void 0:r.hexcode),id:Ne(i,r==null?void 0:r.id),important:Ne(i,r==null?void 0:r.important),inserted:Ne(i,r==null?void 0:r.inserted),keyword:Ne(i,r==null?void 0:r.keyword),number:Ne(i,r==null?void 0:r.number),operator:Ne(i,r==null?void 0:r.operator),prolog:Ne(i,r==null?void 0:r.prolog),property:Ne(i,r==null?void 0:r.property),pseudoClass:Ne(i,r==null?void 0:r.pseudoClass),pseudoElement:Ne(i,r==null?void 0:r.pseudoElement),punctuation:Ne(i,r==null?void 0:r.punctuation),regex:Ne(i,r==null?void 0:r.regex),selector:Ne(i,r==null?void 0:r.selector),string:Ne(i,r==null?void 0:r.string),symbol:Ne(i,r==null?void 0:r.symbol),tag:Ne(i,r==null?void 0:r.tag),unit:Ne(i,r==null?void 0:r.unit),url:Ne(i,r==null?void 0:r.url),variable:Ne(i,r==null?void 0:r.variable)}}const $We=GHe;function K4(e,t,n){const r=(t-e)*n;return e+r}function DWe(e,t,n){return{r:K4(e.r,t.r,n),g:K4(e.g,t.g,n),b:K4(e.b,t.b,n)}}function Y4(e,t){return e*t}function OWe(e,t){return{r:Y4(e.r/255,t.r/255)*255,g:Y4(e.g/255,t.g/255)*255,b:Y4(e.b/255,t.b/255)*255}}function q4(e,t){return e+t-e*t}function MWe(e,t){return{r:q4(e.r/255,t.r/255)*255,g:q4(e.g/255,t.g/255)*255,b:q4(e.b/255,t.b/255)*255}}function PWe(e,t,n){return e*(1-n)+t*n}function RWe(e,t,n){return ml((n-e)/(t-e))}function ml(e,t=0,n=1){return Math.min(n,Math.max(t,e))}function Ef(e,t,n,r,i){return PWe(n,r,RWe(e,t,i))}function Z4(e){return Math.round(e)}function X9(e){if(e.length===4){const t=e.slice(1,2),n=e.slice(2,3),r=e.slice(3,4);return{r:parseInt(t+t,16),g:parseInt(n+n,16),b:parseInt(r+r,16)}}return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16)}}function FWe(e){const t=e.replace(/rgba\(|\)/g,"").split(",");return{r:parseInt(t[0]),g:parseInt(t[1]),b:parseInt(t[2]),a:parseFloat(t[3])}}function Nwe(e){const t=Z4(ml(Math.round(e.r),0,255)),n=Z4(ml(Math.round(e.g),0,255)),r=Z4(ml(Math.round(e.b),0,255));return"a"in e?`rgba(${t},${n},${r},${e.a})`:"#"+((1<<24)+(t<<16)+(n<<8)+r).toString(16).slice(1)}function LWe(e){const t=e.s/100,n=e.l/100,r=(1-Math.abs(2*n-1))*t,i=r*(1-Math.abs(e.h/60%2-1)),o=n-r/2;let a=0,s=0,l=0;return 0<=e.h&&e.h<60?(a=r,s=i,l=0):60<=e.h&&e.h<120?(a=i,s=r,l=0):120<=e.h&&e.h<180?(a=0,s=r,l=i):180<=e.h&&e.h<240?(a=0,s=i,l=r):240<=e.h&&e.h<300?(a=i,s=0,l=r):300<=e.h&&e.h<360&&(a=r,s=0,l=i),{r:Math.round((a+o)*255),g:Math.round((s+o)*255),b:Math.round((l+o)*255)}}const NWe="0123456789ABCDEFabcdef",BWe=/hsl\(\s*(\d+)\s*,\s*((\d+(?:\.\d+)?)%)\s*,\s*((\d+(?:\.\d+)?)%)\s*\)/i;function VWe(e){for(const t of e)if(NWe.indexOf(t)===-1)return!1;return!0}function zWe(e){return e[0]!=="#"||!(e.length===4||e.length===7)?!1:VWe(e.slice(1))}function UWe(e){const t=BWe.exec(e);if(!t)throw new Error(`parseHsl: string is not a HSL color: "${e}"`);return{h:parseInt(t[1]),s:parseFloat(t[3]),l:parseFloat(t[5])}}function bk(e){if(!e)return{r:0,g:0,b:0};if(typeof e!="string")throw new Error("parseColor: expected a string");if(zWe(e))return X9(e);if(e.startsWith("hsl("))return LWe(UWe(e));if(e.startsWith("rgba("))return FWe(e);throw new Error(`parseColor: unexpected color format: "${e}"`)}function lO(e,t){const n=bk(e);return`rgba(${n.r},${n.g},${n.b},${t})`}const as=[0,255];function HWe(e,t){const{blendMode:n}=t,r=bk(e),i=bk(t.black),o=bk(t.white),a=t.bg?bk(t.bg):n==="multiply"?o:i,s={r:[i.r,o.r],g:[i.g,o.g],b:[i.b,o.b]},l={r:ml(Ef(...s.r,...as,a.r),...as),g:ml(Ef(...s.g,...as,a.g),...as),b:ml(Ef(...s.b,...as,a.b),...as)},u={r:ml(Ef(...s.r,...as,r.r),...as),g:ml(Ef(...s.g,...as,r.g),...as),b:ml(Ef(...s.b,...as,r.b),...as)},d=n==="multiply"?OWe(l,u):MWe(l,u),f={r:ml(Ef(...as,...s.r,d.r),...s.r),g:ml(Ef(...as,...s.g,d.g),...s.g),b:ml(Ef(...as,...s.b,d.b),...s.b)};return Nwe(f)}function Je(e,t){const{bg:n,blendMode:r,colorPalette:i}=t;if(n==="white")throw new Error("Cannot blend with white background");const o=Lwe(e);if(!o||o.type!=="color")throw new Error(`Invalid color token value: ${e}`);let a="";if(o.key==="black"&&(a=CC(i.black)),o.key==="white"&&(a=CC(i.white)),o.hue&&o.tint&&(a=CC(i[o.hue][o.tint])),!a)throw new Error(`Invalid color token value: ${e}`);const s=a,l={blendMode:r,bg:n,black:CC(i.black),white:CC(i.white)};try{if(a=HWe(a,l),n&&o.mix!==void 0){const u=X9(n),d=X9(a);a=Nwe(DWe(u,d,o.mix))}}catch(u){throw console.warn("could not blend",a,l),u}return a==="#aN"&&(console.warn(`invalid color token value: ${e}`),a=s),o.opacity!==void 0&&(a=lO(a,o.opacity)),a}function CC(e){return typeof e=="string"?e:e.hex}function WWe(e,t){const n=(t==null?void 0:t.palette)??$We;return{light:Fte(n,e.light),dark:Fte(n,e.dark)}}function Fte(e,t){const n=Object.entries(t),[,r]=n.find(([l])=>l==="transparent"),[,i]=n.find(([l])=>l==="default"),o=X4(r,{colorPalette:e}),a=X4(i,{colorPalette:e}),s=a.bg;if(s==="white")throw new Error("Cannot blend with white background");return Object.fromEntries([["transparent",o],["default",a],...n.filter(([l])=>l!=="default"&&l!=="transparent").map(([l,u])=>[l,X4(u,{bg:s,colorPalette:e})])])}function X4(e,t){const{colorPalette:n,bg:r}=t,i=e._blend||"multiply",o=Je(e.bg,{colorPalette:n,bg:r,blendMode:i}),a={colorPalette:n,bg:o,blendMode:i},s=qWe(e.button,{baseBg:o,blendMode:i,colorPalette:n}),l=JWe(e.selectable,{colorPalette:n,baseBg:o,blendMode:i}),u={outline:Je(e.shadow.outline,a),umbra:Je(e.shadow.umbra,{...a,bg:void 0,colorPalette:{...n,black:"#000000"}}),penumbra:Je(e.shadow.penumbra,{...a,bg:void 0,colorPalette:{...n,black:"#000000"}}),ambient:Je(e.shadow.ambient,{...a,bg:void 0,colorPalette:{...n,black:"#000000"}})};return{_blend:i,_dark:e._dark,accent:{fg:Je(e.accent.fg,a)},avatar:Bwe(e.avatar,{baseBg:o,colorPalette:n,blendMode:i}),backdrop:Je(e.backdrop,a),badge:Vwe(e.badge,{baseBg:o,colorPalette:n,blendMode:i}),bg:o,border:Je(e.border,a),button:s,code:{bg:Je(e.code.bg,a),fg:Je(e.code.fg,a)},fg:Je(e.fg,a),focusRing:Je(e.focusRing,a),icon:Je(e.icon,a),input:XWe(e.input,{baseBg:o,colorPalette:n,blendMode:i}),kbd:GWe(e.kbd,{baseBg:o,colorPalette:n,blendMode:i}),link:{fg:Je(e.link.fg,a)},muted:{bg:Je(e.muted.bg,a),fg:Je(e.muted.fg,a)},shadow:u,skeleton:{from:Je(e.skeleton.from,a),to:Je(e.skeleton.to,a)},syntax:eGe(e.syntax,{baseBg:o,colorPalette:n,blendMode:i}),selectable:l}}function GWe(e,t){const{baseBg:n,blendMode:r,colorPalette:i}=t,o={bg:n,blendMode:r,colorPalette:i},a=Je(e.bg,o),s={bg:a,blendMode:r,colorPalette:i};return{bg:a,fg:Je(e.fg,s),border:Je(e.border,s)}}function Bwe(e,t){const n={};for(const r of og)n[r]=KWe(e[r],t);return n}function KWe(e,t){const{baseBg:n,blendMode:r,colorPalette:i}=t,o=e._blend||"multiply",a={bg:n,blendMode:r,colorPalette:i},s=Je(e.bg,a),l={bg:s,blendMode:o,colorPalette:i};return{_blend:o,bg:s,fg:Je(e.fg,l)}}function Vwe(e,t){const n={};for(const r of Bc)n[r]=YWe(e[r],t);return n}function YWe(e,t){const{baseBg:n,blendMode:r,colorPalette:i}=t,o=r,a={bg:n,blendMode:r,colorPalette:i},s=Je(e.bg,a),l={bg:s,blendMode:o,colorPalette:i};return{bg:s,dot:Je(e.dot,l),fg:Je(e.fg,l),icon:Je(e.icon,l)}}function qWe(e,t){return{default:J4(e.default,t),ghost:J4(e.ghost,t),bleed:J4(e.bleed,t)}}function J4(e,t){const n={};for(const r of Bc)n[r]=ZWe(e[r],t);return n}function ZWe(e,t){return{enabled:wd(e.enabled,t),hovered:wd(e.hovered,t),pressed:wd(e.pressed,t),selected:wd(e.selected,t),disabled:wd(e.disabled,t)}}function wd(e,t){var u,d;const{baseBg:n,blendMode:r,colorPalette:i}=t,o=e._blend||"multiply",a={bg:n,blendMode:r,colorPalette:i},s=Je(e.bg,a),l={bg:s,blendMode:o,colorPalette:i};return{_blend:o,accent:{fg:Je(e.accent.fg,l)},avatar:Bwe(e.avatar,{baseBg:s,colorPalette:i,blendMode:o}),badge:Vwe(e.badge,{baseBg:s,colorPalette:i,blendMode:o}),bg:s,border:Je(e.border,l),code:{bg:Je(e.code.bg,l),fg:Je(e.code.fg,l)},fg:Je(e.fg,l),icon:Je(e.icon,l),link:{fg:Je(e.link.fg,l)},muted:{bg:Je(e.muted.bg,l),fg:Je(e.muted.fg,l)},kbd:{bg:Je(e.kbd.bg,l),fg:Je(e.kbd.fg,l),border:Je(e.kbd.border,l)},skeleton:{from:Je((u=e.skeleton)==null?void 0:u.from,l),to:Je((d=e.skeleton)==null?void 0:d.to,l)}}}function XWe(e,t){return{default:Lte(e.default,t),invalid:Lte(e.invalid,t)}}function Lte(e,t){return{enabled:X_(e.enabled,t),hovered:X_(e.hovered,t),readOnly:X_(e.readOnly,t),disabled:X_(e.disabled,t)}}function X_(e,t){const{baseBg:n,blendMode:r,colorPalette:i}=t,o=e._blend||"multiply",a={colorPalette:i,bg:n,blendMode:r},s=Je(e.bg,a),l={colorPalette:i,bg:s,blendMode:o};return{_blend:o,bg:s,border:Je(e.border,l),fg:Je(e.fg,l),muted:{bg:Je(e.muted.bg,l)},placeholder:Je(e.placeholder,l)}}function JWe(e,t){const n={};for(const r of Bc)n[r]=QWe(e[r],t);return n}function QWe(e,t){return{enabled:wd(e.enabled,t),hovered:wd(e.hovered,t),pressed:wd(e.pressed,t),selected:wd(e.selected,t),disabled:wd(e.disabled,t)}}function eGe(e,t){const{colorPalette:n,baseBg:r,blendMode:i}=t,o={colorPalette:n,bg:r,blendMode:i};return{atrule:Je(e.atrule,o),attrName:Je(e.attrName,o),attrValue:Je(e.attrValue,o),attribute:Je(e.attribute,o),boolean:Je(e.boolean,o),builtin:Je(e.builtin,o),cdata:Je(e.cdata,o),char:Je(e.char,o),class:Je(e.class,o),className:Je(e.className,o),comment:Je(e.comment,o),constant:Je(e.constant,o),deleted:Je(e.deleted,o),doctype:Je(e.doctype,o),entity:Je(e.entity,o),function:Je(e.function,o),hexcode:Je(e.hexcode,o),id:Je(e.id,o),important:Je(e.important,o),inserted:Je(e.inserted,o),keyword:Je(e.keyword,o),number:Je(e.number,o),operator:Je(e.operator,o),prolog:Je(e.prolog,o),property:Je(e.property,o),pseudoClass:Je(e.pseudoClass,o),pseudoElement:Je(e.pseudoElement,o),punctuation:Je(e.punctuation,o),regex:Je(e.regex,o),selector:Je(e.selector,o),string:Je(e.string,o),symbol:Je(e.symbol,o),tag:Je(e.tag,o),unit:Je(e.unit,o),url:Je(e.url,o),variable:Je(e.variable,o)}}function zwe(e){const t=vWe(e),n={_version:2,avatar:(e==null?void 0:e.avatar)??mr.avatar,button:(e==null?void 0:e.button)??mr.button,card:(e==null?void 0:e.card)??mr.card,color:WWe(t,e),container:(e==null?void 0:e.container)??mr.container,font:(e==null?void 0:e.font)??KHe,input:(e==null?void 0:e.input)??mr.input,layer:(e==null?void 0:e.layer)??mr.layer,media:(e==null?void 0:e.media)??mr.media,radius:(e==null?void 0:e.radius)??mr.radius,shadow:(e==null?void 0:e.shadow)??mr.shadow,space:(e==null?void 0:e.space)??mr.space,style:(e==null?void 0:e.style)??mr.style};return Mwe(n)}function tGe(e){if("neutral"in e.badge)return e;const t=e;return{...t,badge:{...t.badge,neutral:t.badge.default,suggest:t.badge.primary},button:{bleed:{...t.button.bleed,neutral:t.button.bleed.default,suggest:t.button.bleed.primary},default:{...t.button.default,neutral:t.button.default.default,suggest:t.button.default.primary},ghost:{...t.button.ghost,neutral:t.button.ghost.default,suggest:t.button.ghost.primary}},selectable:{...t.selectable,neutral:t.selectable.default,suggest:t.selectable.primary}}}const bj=new Map;function nGe(e,t,n){const r=rGe(e,t,n);if(r)return r;const i=Ite(e)?Mwe(e):e,o=Ite(e)?e:YHe(e),a=i.color[t]||i.color.light,s=a[n]||a.default,l=i.layer||mr.layer,u=o.color[t]||o.color.light,d=u[n]||u.default,f=tGe(d),h=o.layer||mr.layer,m={sanity:{...i,color:s,layer:l,v2:{...o,_resolved:!0,color:f,layer:h}}};return iGe(e,t,n,m),m}function rGe(e,t,n){const r=bj.get(t);if(!r)return;const i=r.get(n);if(i)return i.get(e)}function iGe(e,t,n,r){bj.has(t)||bj.set(t,new Map);const i=bj.get(t);i.has(n)||i.set(n,new WeakMap),i.get(n).set(e,r)}/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @lightSyntaxTransform
 * @noflow
 * @nolint
 * @preventMunge
 * @preserve-invariant-messages
 */var oGe=Object.create,cO=Object.defineProperty,aGe=Object.getOwnPropertyDescriptor,sGe=Object.getOwnPropertyNames,lGe=Object.getPrototypeOf,cGe=Object.prototype.hasOwnProperty,uGe=(e,t)=>{for(var n in t)cO(e,n,{get:t[n],enumerable:!0})},Uwe=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of sGe(t))!cGe.call(e,i)&&i!==n&&cO(e,i,{get:()=>t[i],enumerable:!(r=aGe(t,i))||r.enumerable});return e},dGe=(e,t,n)=>(n=e!=null?oGe(lGe(e)):{},Uwe(t||!e||!e.__esModule?cO(n,"default",{value:e,enumerable:!0}):n,e)),fGe=e=>Uwe(cO({},"__esModule",{value:!0}),e),Hwe={};uGe(Hwe,{$dispatcherGuard:()=>gGe,$makeReadOnly:()=>vGe,$reset:()=>yGe,$structuralCheck:()=>kGe,c:()=>mGe,clearRenderCounterRegistry:()=>bGe,renderCounterRegistry:()=>ZS,useRenderCounter:()=>CGe});var nt=fGe(Hwe),eb=dGe(p),{useRef:hGe,useEffect:pGe,isValidElement:D0}=eb,Nte,J9=(Nte=eb.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE)!=null?Nte:eb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q9=Symbol.for("react.memo_cache_sentinel"),Bte,mGe=typeof((Bte=eb.__COMPILER_RUNTIME)==null?void 0:Bte.c)=="function"?eb.__COMPILER_RUNTIME.c:function(t){return eb.useMemo(()=>{const n=new Array(t);for(let r=0;r<t;r++)n[r]=Q9;return n[Q9]=!0,n},[])},HI={};["readContext","useCallback","useContext","useEffect","useImperativeHandle","useInsertionEffect","useLayoutEffect","useMemo","useReducer","useRef","useState","useDebugValue","useDeferredValue","useTransition","useMutableSource","useSyncExternalStore","useId","unstable_isNewReconciler","getCacheSignal","getCacheForType","useCacheRefresh"].forEach(e=>{HI[e]=()=>{throw new Error(`[React] Unexpected React hook call (${e}) from a React compiled function. Check that all hooks are called directly and named according to convention ('use[A-Z]') `)}});var Zk=null;HI.useMemoCache=e=>{if(Zk==null)throw new Error("React Compiler internal invariant violation: unexpected null dispatcher");return Zk.useMemoCache(e)};function J_(e){return J9.ReactCurrentDispatcher.current=e,J9.ReactCurrentDispatcher.current}var O0=[];function gGe(e){const t=J9.ReactCurrentDispatcher.current;if(e===0){if(O0.push(t),O0.length===1&&(Zk=t),t===HI)throw new Error("[React] Unexpected call to custom hook or component from a React compiled function. Check that (1) all hooks are called directly and named according to convention ('use[A-Z]') and (2) components are returned as JSX instead of being directly invoked.");J_(HI)}else if(e===1){const n=O0.pop();if(n==null)throw new Error("React Compiler internal error: unexpected null in guard stack");O0.length===0&&(Zk=null),J_(n)}else if(e===2)O0.push(t),J_(Zk);else if(e===3){const n=O0.pop();if(n==null)throw new Error("React Compiler internal error: unexpected null in guard stack");J_(n)}else throw new Error("React Compiler internal error: unreachable block"+e)}function yGe(e){for(let t=0;t<e.length;t++)e[t]=Q9}function vGe(){throw new Error("TODO: implement $makeReadOnly in react-compiler-runtime")}var ZS=new Map;function bGe(){for(const e of ZS.values())e.forEach(t=>{t.count=0})}function xGe(e,t){let n=ZS.get(e);n==null&&(n=new Set,ZS.set(e,n)),n.add(t)}function wGe(e,t){const n=ZS.get(e);n!=null&&n.delete(t)}function CGe(e){const t=hGe(null);t.current!=null&&(t.current.count+=1),pGe(()=>{if(t.current==null){const n={count:0};xGe(e,n),t.current=n}return()=>{t.current!==null&&wGe(e,t.current)}})}var Vte=new Set;function kGe(e,t,n,r,i,o){function a(u,d,f,h){const m=`${r}:${o} [${i}] ${n}${f} changed from ${u} to ${d} at depth ${h}`;Vte.has(m)||(Vte.add(m),console.error(m))}const s=2;function l(u,d,f,h){if(!(h>s)){if(u===d)return;if(typeof u!=typeof d)a(`type ${typeof u}`,`type ${typeof d}`,f,h);else if(typeof u=="object"){const m=Array.isArray(u),g=Array.isArray(d);if(u===null&&d!==null)a("null",`type ${typeof d}`,f,h);else if(d===null)a(`type ${typeof u}`,"null",f,h);else if(u instanceof Map)if(!(d instanceof Map))a("Map instance","other value",f,h);else if(u.size!==d.size)a(`Map instance with size ${u.size}`,`Map instance with size ${d.size}`,f,h);else for(const[y,x]of u)d.has(y)?l(x,d.get(y),`${f}.get(${y})`,h+1):a(`Map instance with key ${y}`,`Map instance without key ${y}`,f,h);else if(d instanceof Map)a("other value","Map instance",f,h);else if(u instanceof Set)if(!(d instanceof Set))a("Set instance","other value",f,h);else if(u.size!==d.size)a(`Set instance with size ${u.size}`,`Set instance with size ${d.size}`,f,h);else for(const y of d)u.has(y)||a(`Set instance without element ${y}`,`Set instance with element ${y}`,f,h);else if(d instanceof Set)a("other value","Set instance",f,h);else if(m||g)if(m!==g)a(`type ${m?"array":"object"}`,`type ${g?"array":"object"}`,f,h);else if(u.length!==d.length)a(`array with length ${u.length}`,`array with length ${d.length}`,f,h);else for(let y=0;y<u.length;y++)l(u[y],d[y],`${f}[${y}]`,h+1);else if(D0(u)||D0(d))D0(u)!==D0(d)?a(`type ${D0(u)?"React element":"object"}`,`type ${D0(d)?"React element":"object"}`,f,h):u.type!==d.type?a(`React element of type ${u.type}`,`React element of type ${d.type}`,f,h):l(u.props,d.props,`[props of ${f}]`,h+1);else{for(const y in d)y in u||a(`object without key ${y}`,`object with key ${y}`,f,h);for(const y in u)y in d?l(u[y],d[y],`${f}.${y}`,h+1):a(`object with key ${y}`,`object without key ${y}`,f,h)}}else{if(typeof u=="function")return;isNaN(u)||isNaN(d)?isNaN(u)!==isNaN(d)&&a(`${isNaN(u)?"NaN":"non-NaN value"}`,`${isNaN(d)?"NaN":"non-NaN value"}`,f,h):u!==d&&a(u,d,f,h)}}}l(e,t,"",0)}var e7=function(e,t){return e7=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},e7(e,t)};function Hl(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e7(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Yo=function(){return Yo=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Yo.apply(this,arguments)};function SGe(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):i(d.value).then(s,l)}u((r=r.apply(e,t||[])).next())})}function Wwe(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(d){return l([u,d])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function J1(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ws(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function Mo(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function tb(e){return this instanceof tb?(this.v=e,this):new tb(e)}function EGe(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(m){return function(g){return Promise.resolve(g).then(m,f)}}function s(m,g){r[m]&&(i[m]=function(y){return new Promise(function(x,b){o.push([m,y,x,b])>1||l(m,y)})},g&&(i[m]=g(i[m])))}function l(m,g){try{u(r[m](g))}catch(y){h(o[0][3],y)}}function u(m){m.value instanceof tb?Promise.resolve(m.value.v).then(d,f):h(o[0][2],m)}function d(m){l("next",m)}function f(m){l("throw",m)}function h(m,g){m(g),o.shift(),o.length&&l(o[0][0],o[0][1])}}function _Ge(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof J1=="function"?J1(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(a){return new Promise(function(s,l){a=e[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}var ai="-ms-",Xk="-moz-",ir="-webkit-",Gwe="comm",uO="rule",BH="decl",TGe="@import",AGe="@namespace",Kwe="@keyframes",jGe="@layer",Ywe=Math.abs,VH=String.fromCharCode,t7=Object.assign;function IGe(e,t){return zo(e,0)^45?(((t<<2^zo(e,0))<<2^zo(e,1))<<2^zo(e,2))<<2^zo(e,3):0}function qwe(e){return e.trim()}function Mf(e,t){return(e=t.exec(e))?e[0]:e}function an(e,t,n){return e.replace(t,n)}function xj(e,t,n){return e.indexOf(t,n)}function zo(e,t){return e.charCodeAt(t)|0}function Q1(e,t,n){return e.slice(t,n)}function uu(e){return e.length}function Zwe(e){return e.length}function xk(e,t){return t.push(e),e}function $Ge(e,t){return e.map(t).join("")}function zte(e,t){return e.filter(function(n){return!Mf(n,t)})}var dO=1,Fb=1,Xwe=0,Dc=0,_o=0,Kx="";function fO(e,t,n,r,i,o,a,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:dO,column:Fb,length:a,return:"",siblings:s}}function Op(e,t){return t7(fO("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function M0(e){for(;e.root;)e=Op(e.root,{children:[e]});xk(e,e.siblings)}function DGe(){return _o}function OGe(){return _o=Dc>0?zo(Kx,--Dc):0,Fb--,_o===10&&(Fb=1,dO--),_o}function ku(){return _o=Dc<Xwe?zo(Kx,Dc++):0,Fb++,_o===10&&(Fb=1,dO++),_o}function om(){return zo(Kx,Dc)}function wj(){return Dc}function hO(e,t){return Q1(Kx,e,t)}function XS(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function MGe(e){return dO=Fb=1,Xwe=uu(Kx=e),Dc=0,[]}function PGe(e){return Kx="",e}function Q4(e){return qwe(hO(Dc-1,n7(e===91?e+2:e===40?e+1:e)))}function RGe(e){for(;(_o=om())&&_o<33;)ku();return XS(e)>2||XS(_o)>3?"":" "}function FGe(e,t){for(;--t&&ku()&&!(_o<48||_o>102||_o>57&&_o<65||_o>70&&_o<97););return hO(e,wj()+(t<6&&om()==32&&ku()==32))}function n7(e){for(;ku();)switch(_o){case e:return Dc;case 34:case 39:e!==34&&e!==39&&n7(_o);break;case 40:e===41&&n7(e);break;case 92:ku();break}return Dc}function LGe(e,t){for(;ku()&&e+_o!==47+10;)if(e+_o===42+42&&om()===47)break;return"/*"+hO(t,Dc-1)+"*"+VH(e===47?e:ku())}function NGe(e){for(;!XS(om());)ku();return hO(e,Dc)}function BGe(e){return PGe(Cj("",null,null,null,[""],e=MGe(e),0,[0],e))}function Cj(e,t,n,r,i,o,a,s,l){for(var u=0,d=0,f=a,h=0,m=0,g=0,y=1,x=1,b=1,v=0,w="",C=i,k=o,S=r,E=w;x;)switch(g=v,v=ku()){case 40:if(g!=108&&zo(E,f-1)==58){xj(E+=an(Q4(v),"&","&\f"),"&\f",Ywe(u?s[u-1]:0))!=-1&&(b=-1);break}case 34:case 39:case 91:E+=Q4(v);break;case 9:case 10:case 13:case 32:E+=RGe(g);break;case 92:E+=FGe(wj()-1,7);continue;case 47:switch(om()){case 42:case 47:xk(VGe(LGe(ku(),wj()),t,n,l),l),(XS(g||1)==5||XS(om()||1)==5)&&uu(E)&&Q1(E,-1,void 0)!==" "&&(E+=" ");break;default:E+="/"}break;case 123*y:s[u++]=uu(E)*b;case 125*y:case 59:case 0:switch(v){case 0:case 125:x=0;case 59+d:b==-1&&(E=an(E,/\f/g,"")),m>0&&(uu(E)-f||y===0&&g===47)&&xk(m>32?Hte(E+";",r,n,f-1,l):Hte(an(E," ","")+";",r,n,f-2,l),l);break;case 59:E+=";";default:if(xk(S=Ute(E,t,n,u,d,i,s,w,C=[],k=[],f,o),o),v===123)if(d===0)Cj(E,t,S,S,C,o,f,s,k);else{switch(h){case 99:if(zo(E,3)===110)break;case 108:if(zo(E,2)===97)break;default:d=0;case 100:case 109:case 115:}d?Cj(e,S,S,r&&xk(Ute(e,S,S,0,0,i,s,w,i,C=[],f,k),k),i,k,f,s,r?C:k):Cj(E,S,S,S,[""],k,0,s,k)}}u=d=m=0,y=b=1,w=E="",f=a;break;case 58:f=1+uu(E),m=g;default:if(y<1){if(v==123)--y;else if(v==125&&y++==0&&OGe()==125)continue}switch(E+=VH(v),v*y){case 38:b=d>0?1:(E+="\f",-1);break;case 44:s[u++]=(uu(E)-1)*b,b=1;break;case 64:om()===45&&(E+=Q4(ku())),h=om(),d=f=uu(w=E+=NGe(wj())),v++;break;case 45:g===45&&uu(E)==2&&(y=0)}}return o}function Ute(e,t,n,r,i,o,a,s,l,u,d,f){for(var h=i-1,m=i===0?o:[""],g=Zwe(m),y=0,x=0,b=0;y<r;++y)for(var v=0,w=Q1(e,h+1,h=Ywe(x=a[y])),C=e;v<g;++v)(C=qwe(x>0?m[v]+" "+w:an(w,/&\f/g,m[v])))&&(l[b++]=C);return fO(e,t,n,i===0?uO:s,l,u,d,f)}function VGe(e,t,n,r){return fO(e,t,n,Gwe,VH(DGe()),Q1(e,2,-2),0,r)}function Hte(e,t,n,r,i){return fO(e,t,n,BH,Q1(e,0,r),Q1(e,r+1,-1),r,i)}function Jwe(e,t,n){switch(IGe(e,t)){case 5103:return ir+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:case 6391:case 5879:case 5623:case 6135:case 4599:return ir+e+e;case 4855:return ir+e.replace("add","source-over").replace("substract","source-out").replace("intersect","source-in").replace("exclude","xor")+e;case 4789:return Xk+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ir+e+Xk+e+ai+e+e;case 5936:switch(zo(e,t+11)){case 114:return ir+e+ai+an(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ir+e+ai+an(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ir+e+ai+an(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return ir+e+ai+e+e;case 6165:return ir+e+ai+"flex-"+e+e;case 5187:return ir+e+an(e,/(\w+).+(:[^]+)/,ir+"box-$1$2"+ai+"flex-$1$2")+e;case 5443:return ir+e+ai+"flex-item-"+an(e,/flex-|-self/g,"")+(Mf(e,/flex-|baseline/)?"":ai+"grid-row-"+an(e,/flex-|-self/g,""))+e;case 4675:return ir+e+ai+"flex-line-pack"+an(e,/align-content|flex-|-self/g,"")+e;case 5548:return ir+e+ai+an(e,"shrink","negative")+e;case 5292:return ir+e+ai+an(e,"basis","preferred-size")+e;case 6060:return ir+"box-"+an(e,"-grow","")+ir+e+ai+an(e,"grow","positive")+e;case 4554:return ir+an(e,/([^-])(transform)/g,"$1"+ir+"$2")+e;case 6187:return an(an(an(e,/(zoom-|grab)/,ir+"$1"),/(image-set)/,ir+"$1"),e,"")+e;case 5495:case 3959:return an(e,/(image-set\([^]*)/,ir+"$1$`$1");case 4968:return an(an(e,/(.+:)(flex-)?(.*)/,ir+"box-pack:$3"+ai+"flex-pack:$3"),/space-between/,"justify")+ir+e+e;case 4200:if(!Mf(e,/flex-|baseline/))return ai+"grid-column-align"+Q1(e,t)+e;break;case 2592:case 3360:return ai+an(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,i){return t=i,Mf(r.props,/grid-\w+-end/)})?~xj(e+(n=n[t].value),"span",0)?e:ai+an(e,"-start","")+e+ai+"grid-row-span:"+(~xj(n,"span",0)?Mf(n,/\d+/):+Mf(n,/\d+/)-+Mf(e,/\d+/))+";":ai+an(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return Mf(r.props,/grid-\w+-start/)})?e:ai+an(an(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return an(e,/(.+)-inline(.+)/,ir+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(uu(e)-1-t>6)switch(zo(e,t+1)){case 109:if(zo(e,t+4)!==45)break;case 102:return an(e,/(.+:)(.+)-([^]+)/,"$1"+ir+"$2-$3$1"+Xk+(zo(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~xj(e,"stretch",0)?Jwe(an(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return an(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,o,a,s,l,u){return ai+i+":"+o+u+(a?ai+i+"-span:"+(s?l:+l-+o)+u:"")+e});case 4949:if(zo(e,t+6)===121)return an(e,":",":"+ir)+e;break;case 6444:switch(zo(e,zo(e,14)===45?18:11)){case 120:return an(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ir+(zo(e,14)===45?"inline-":"")+"box$3$1"+ir+"$2$3$1"+ai+"$2box$3")+e;case 100:return an(e,":",":"+ai)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return an(e,"scroll-","scroll-snap-")+e}return e}function WI(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function zGe(e,t,n,r){switch(e.type){case jGe:if(e.children.length)break;case TGe:case AGe:case BH:return e.return=e.return||e.value;case Gwe:return"";case Kwe:return e.return=e.value+"{"+WI(e.children,r)+"}";case uO:if(!uu(e.value=e.props.join(",")))return""}return uu(n=WI(e.children,r))?e.return=e.value+"{"+n+"}":""}function UGe(e){var t=Zwe(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}function HGe(e){return function(t){t.root||(t=t.return)&&e(t)}}function WGe(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case BH:e.return=Jwe(e.value,e.length,n);return;case Kwe:return WI([Op(e,{value:an(e.value,"@","@"+ir)})],r);case uO:if(e.length)return $Ge(n=e.props,function(i){switch(Mf(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":M0(Op(e,{props:[an(i,/:(read-\w+)/,":"+Xk+"$1")]})),M0(Op(e,{props:[i]})),t7(e,{props:zte(n,r)});break;case"::placeholder":M0(Op(e,{props:[an(i,/:(plac\w+)/,":"+ir+"input-$1")]})),M0(Op(e,{props:[an(i,/:(plac\w+)/,":"+Xk+"$1")]})),M0(Op(e,{props:[an(i,/:(plac\w+)/,ai+"input-$1")]})),M0(Op(e,{props:[i]})),t7(e,{props:zte(n,r)});break}return""})}}var GGe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Lb=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",Qwe="active",eCe="data-styled-version",pO="6.3.9",zH=`/*!sc*/
`,Jk=typeof window<"u"&&typeof document<"u",Ec=Fe.createContext===void 0,KGe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:(typeof process<"u"&&process.env!==void 0,!1)),YGe={},UH=Object.freeze([]),Nb=Object.freeze({});function tCe(e,t,n){return n===void 0&&(n=Nb),e.theme!==n.theme&&e.theme||t||n.theme}var nCe=new Set(["a","abbr","address","area","article","aside","audio","b","bdi","bdo","blockquote","body","button","br","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","map","mark","menu","meter","nav","object","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","slot","small","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tspan","use"]),qGe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ZGe=/(^-|-$)/g;function Wte(e){return e.replace(qGe,"-").replace(ZGe,"")}var XGe=/(a)(d)/gi,Gte=function(e){return String.fromCharCode(e+(e>25?39:97))};function r7(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Gte(t%52)+n;return(Gte(t%52)+n).replace(XGe,"$1-$2")}var e6,o1=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},rCe=function(e){return o1(5381,e)};function HH(e){return r7(rCe(e)>>>0)}function JGe(e){return e.displayName||e.name||"Component"}function t6(e){return typeof e=="string"&&!0}var iCe=typeof Symbol=="function"&&Symbol.for,oCe=iCe?Symbol.for("react.memo"):60115,QGe=iCe?Symbol.for("react.forward_ref"):60112,eKe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},tKe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},aCe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},nKe=((e6={})[QGe]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},e6[oCe]=aCe,e6);function Kte(e){return("type"in(t=e)&&t.type.$$typeof)===oCe?aCe:"$$typeof"in e?nKe[e.$$typeof]:eKe;var t}var rKe=Object.defineProperty,iKe=Object.getOwnPropertyNames,Yte=Object.getOwnPropertySymbols,oKe=Object.getOwnPropertyDescriptor,aKe=Object.getPrototypeOf,qte=Object.prototype;function sCe(e,t,n){if(typeof t!="string"){if(qte){var r=aKe(t);r&&r!==qte&&sCe(e,r,n)}var i=iKe(t);Yte&&(i=i.concat(Yte(t)));for(var o=Kte(e),a=Kte(t),s=0;s<i.length;++s){var l=i[s];if(!(l in tKe||n&&n[l]||a&&l in a||o&&l in o)){var u=oKe(t,l);try{rKe(e,l,u)}catch{}}}}return e}function ey(e){return typeof e=="function"}function WH(e){return typeof e=="object"&&"styledComponentId"in e}function h1(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function GI(e,t){return e.join(t||"")}function JS(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function i7(e,t,n){if(n===void 0&&(n=!1),!n&&!JS(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=i7(e[r],t[r]);else if(JS(t))for(var r in t)e[r]=i7(e[r],t[r]);return e}function GH(e,t){Object.defineProperty(e,"toString",{value:t})}function Lm(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var sKe=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t,this._cGroup=0,this._cIndex=0}return e.prototype.indexOfGroup=function(t){if(t===this._cGroup)return this._cIndex;var n=this._cIndex;if(t>this._cGroup)for(var r=this._cGroup;r<t;r++)n+=this.groupSizes[r];else for(r=this._cGroup-1;r>=t;r--)n-=this.groupSizes[r];return this._cGroup=t,this._cIndex=n,n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,o=i;t>=o;)if((o<<=1)<0)throw Lm(16,"".concat(t));this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var a=i;a<o;a++)this.groupSizes[a]=0}for(var s=this.indexOfGroup(t+1),l=0,u=(a=0,n.length);a<u;a++)this.tag.insertRule(s,n[a])&&(this.groupSizes[t]++,s++,l++);l>0&&this._cGroup>t&&(this._cIndex+=l)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),i=r+n;this.groupSizes[t]=0;for(var o=r;o<i;o++)this.tag.deleteRule(r);n>0&&this._cGroup>t&&(this._cIndex-=n)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],i=this.indexOfGroup(t),o=i+r,a=i;a<o;a++)n+=this.tag.getRule(a)+zH;return n},e}(),kj=new Map,KI=new Map,Sj=1,bv=function(e){if(kj.has(e))return kj.get(e);for(;KI.has(Sj);)Sj++;var t=Sj++;return kj.set(e,t),KI.set(t,e),t},lKe=function(e,t){Sj=t+1,kj.set(e,t),KI.set(t,e)},cKe="style[".concat(Lb,"][").concat(eCe,'="').concat(pO,'"]'),uKe=new RegExp("^".concat(Lb,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Zte=function(e){return typeof ShadowRoot<"u"&&e instanceof ShadowRoot||"host"in e&&e.nodeType===11},o7=function(e){if(!e)return document;if(Zte(e))return e;if("getRootNode"in e){var t=e.getRootNode();if(Zte(t))return t}return document},dKe=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},fKe=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(zH),i=[],o=0,a=r.length;o<a;o++){var s=r[o].trim();if(s){var l=s.match(uKe);if(l){var u=0|parseInt(l[1],10),d=l[2];u!==0&&(lKe(d,u),dKe(e,d,l[3]),e.getTag().insertRules(u,i)),i.length=0}else i.push(s)}}},n6=function(e){for(var t=o7(e.options.target).querySelectorAll(cKe),n=0,r=t.length;n<r;n++){var i=t[n];i&&i.getAttribute(Lb)!==Qwe&&(fKe(e,i),i.parentNode&&i.parentNode.removeChild(i))}};function hKe(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var lCe=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(s){var l=Array.from(s.querySelectorAll("style[".concat(Lb,"]")));return l[l.length-1]}(n),o=i!==void 0?i.nextSibling:null;r.setAttribute(Lb,Qwe),r.setAttribute(eCe,pO);var a=hKe();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},pKe=function(){function e(t){this.element=lCe(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){var r;if(n.sheet)return n.sheet;for(var i=(r=n.getRootNode().styleSheets)!==null&&r!==void 0?r:document.styleSheets,o=0,a=i.length;o<a;o++){var s=i[o];if(s.ownerNode===n)return s}throw Lm(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),mKe=function(){function e(t){this.element=lCe(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),gKe=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(t===this.length?this.rules.push(n):this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),Xte=Jk,yKe={isServer:!Jk,useCSSOMInjection:!KGe},YI=function(){function e(t,n,r){t===void 0&&(t=Nb),n===void 0&&(n={});var i=this;this.options=Yo(Yo({},yKe),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&Jk&&Xte&&(Xte=!1,n6(this)),GH(this,function(){return function(o){for(var a=o.getTag(),s=a.length,l="",u=function(f){var h=function(b){return KI.get(b)}(f);if(h===void 0)return"continue";var m=o.names.get(h);if(m===void 0||!m.size)return"continue";var g=a.getGroup(f);if(g.length===0)return"continue";var y=Lb+".g"+f+'[id="'+h+'"]',x="";m.forEach(function(b){b.length>0&&(x+=b+",")}),l+=g+y+'{content:"'+x+'"}'+zH},d=0;d<s;d++)u(d);return l}(i)})}return e.registerId=function(t){return bv(t)},e.prototype.rehydrate=function(){!this.server&&Jk&&n6(this)},e.prototype.reconstructWithOptions=function(t,n){n===void 0&&(n=!0);var r=new e(Yo(Yo({},this.options),t),this.gs,n&&this.names||void 0);return!this.server&&Jk&&t.target!==this.options.target&&o7(this.options.target)!==o7(t.target)&&n6(r),r},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new gKe(i):r?new pKe(i):new mKe(i)}(this.options),new sKe(t)));var t},e.prototype.hasNameForId=function(t,n){var r,i;return(i=(r=this.names.get(t))===null||r===void 0?void 0:r.has(n))!==null&&i!==void 0&&i},e.prototype.registerName=function(t,n){bv(t);var r=this.names.get(t);r?r.add(n):this.names.set(t,new Set([n]))},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(bv(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(bv(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),vKe=/&/g,Pf=47,a1=42;function Jte(e){if(e.indexOf("}")===-1)return!1;for(var t=e.length,n=0,r=0,i=!1,o=0;o<t;o++){var a=e.charCodeAt(o);if(r!==0||i||a!==Pf||e.charCodeAt(o+1)!==a1)if(i)a===a1&&e.charCodeAt(o+1)===Pf&&(i=!1,o++);else if(a!==34&&a!==39||o!==0&&e.charCodeAt(o-1)===92){if(r===0){if(a===123)n++;else if(a===125&&--n<0)return!0}}else r===0?r=a:r===a&&(r=0);else i=!0,o++}return n!==0||r!==0}function cCe(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=cCe(n.children,t)),n})}function bKe(e){var t,n,r,i=e===void 0?Nb:e,o=i.options,a=o===void 0?Nb:o,s=i.plugins,l=s===void 0?UH:s,u=function(g,y,x){return x.startsWith(n)&&x.endsWith(n)&&x.replaceAll(n,"").length>0?".".concat(t):g},d=l.slice();d.push(function(g){g.type===uO&&g.value.includes("&")&&(r||(r=new RegExp("\\".concat(n,"\\b"),"g")),g.props[0]=g.props[0].replace(vKe,n).replace(r,u))}),a.prefix&&d.push(WGe),d.push(zGe);var f=[],h=UGe(d.concat(HGe(function(g){return f.push(g)}))),m=function(g,y,x,b){y===void 0&&(y=""),x===void 0&&(x=""),b===void 0&&(b="&"),t=b,n=y,r=void 0;var v=function(C){if(!Jte(C))return C;for(var k=C.length,S="",E=0,_=0,T=0,A=!1,I=0;I<k;I++){var j=C.charCodeAt(I);if(T!==0||A||j!==Pf||C.charCodeAt(I+1)!==a1)if(A)j===a1&&C.charCodeAt(I+1)===Pf&&(A=!1,I++);else if(j!==34&&j!==39||I!==0&&C.charCodeAt(I-1)===92){if(T===0)if(j===123)_++;else if(j===125){if(--_<0){for(var $=I+1;$<k;){var D=C.charCodeAt($);if(D===59||D===10)break;$++}$<k&&C.charCodeAt($)===59&&$++,_=0,I=$-1,E=$;continue}_===0&&(S+=C.substring(E,I+1),E=I+1)}else j===59&&_===0&&(S+=C.substring(E,I+1),E=I+1)}else T===0?T=j:T===j&&(T=0);else A=!0,I++}if(E<k){var O=C.substring(E);Jte(O)||(S+=O)}return S}(function(C){if(C.indexOf("//")===-1)return C;for(var k=C.length,S=[],E=0,_=0,T=0,A=0;_<k;){var I=C.charCodeAt(_);if(I!==34&&I!==39||_!==0&&C.charCodeAt(_-1)===92)if(T===0)if(I===Pf&&_+1<k&&C.charCodeAt(_+1)===a1){for(_+=2;_+1<k&&(C.charCodeAt(_)!==a1||C.charCodeAt(_+1)!==Pf);)_++;_+=2}else if(I===40&&_>=3&&(32|C.charCodeAt(_-1))==108&&(32|C.charCodeAt(_-2))==114&&(32|C.charCodeAt(_-3))==117)A=1,_++;else if(A>0)I===41?A--:I===40&&A++,_++;else if(I===a1&&_+1<k&&C.charCodeAt(_+1)===Pf)_>E&&S.push(C.substring(E,_)),E=_+=2;else if(I===Pf&&_+1<k&&C.charCodeAt(_+1)===Pf){for(_>E&&S.push(C.substring(E,_));_<k&&C.charCodeAt(_)!==10;)_++;E=_}else _++;else _++;else T===0?T=I:T===I&&(T=0),_++}return E===0?C:(E<k&&S.push(C.substring(E)),S.join(""))}(g)),w=BGe(x||y?"".concat(x," ").concat(y," { ").concat(v," }"):v);return a.namespace&&(w=cCe(w,a.namespace)),f=[],WI(w,h),f};return m.hash=l.length?l.reduce(function(g,y){return y.name||Lm(15),o1(g,y.name)},5381).toString():"",m}var xKe=new YI,a7=bKe(),s7={shouldForwardProp:void 0,styleSheet:xKe,stylis:a7},uCe=Ec?{Provider:function(e){return e.children},Consumer:function(e){return(0,e.children)(s7)}}:Fe.createContext(s7);uCe.Consumer;Ec||Fe.createContext(void 0);function l7(){return Ec?s7:Fe.useContext(uCe)}var dCe=function(){function e(t,n){var r=this;this.inject=function(i,o){o===void 0&&(o=a7);var a=r.name+o.hash;i.hasNameForId(r.id,a)||i.insertRules(r.id,a,o(r.rules,a,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,GH(this,function(){throw Lm(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=a7),this.name+t.hash},e}();function wKe(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in GGe||e.startsWith("--")?String(t).trim():"".concat(t,"px")}var CKe=function(e){return e>="A"&&e<="Z"};function Qte(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;CKe(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var fCe=function(e){return e==null||e===!1||e===""},hCe=function(e){var t=[];for(var n in e){var r=e[n];e.hasOwnProperty(n)&&!fCe(r)&&(Array.isArray(r)&&r.isCss||ey(r)?t.push("".concat(Qte(n),":"),r,";"):JS(r)?t.push.apply(t,Mo(Mo(["".concat(n," {")],hCe(r),!1),["}"],!1)):t.push("".concat(Qte(n),": ").concat(wKe(n,r),";")))}return t};function Sm(e,t,n,r,i){if(i===void 0&&(i=[]),typeof e=="string")return e&&i.push(e),i;if(fCe(e))return i;if(WH(e))return i.push(".".concat(e.styledComponentId)),i;if(ey(e)){if(!ey(a=e)||a.prototype&&a.prototype.isReactComponent||!t)return i.push(e),i;var o=e(t);return Sm(o,t,n,r,i)}var a;if(e instanceof dCe)return n?(e.inject(n,r),i.push(e.getName(r))):i.push(e),i;if(JS(e)){for(var s=hCe(e),l=0;l<s.length;l++)i.push(s[l]);return i}if(!Array.isArray(e))return i.push(e.toString()),i;for(l=0;l<e.length;l++)Sm(e[l],t,n,r,i);return i}function pCe(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(ey(n)&&!WH(n))return!1}return!0}var kKe=rCe(pO),SKe=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&pCe(t),this.componentId=n,this.baseHash=o1(kKe,n),this.baseStyle=r,YI.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r).className:"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=h1(i,this.staticRulesId);else{var o=GI(Sm(this.rules,t,n,r)),a=r7(o1(this.baseHash,o)>>>0);if(!n.hasNameForId(this.componentId,a)){var s=r(o,".".concat(a),void 0,this.componentId);n.insertRules(this.componentId,a,s)}i=h1(i,a),this.staticRulesId=a}else{for(var l=o1(this.baseHash,r.hash),u="",d=0;d<this.rules.length;d++){var f=this.rules[d];if(typeof f=="string")u+=f;else if(f){var h=GI(Sm(f,t,n,r));l=o1(o1(l,String(d)),h),u+=h}}if(u){var m=r7(l>>>0);if(!n.hasNameForId(this.componentId,m)){var g=r(u,".".concat(m),void 0,this.componentId);n.insertRules(this.componentId,m,g)}i=h1(i,m)}}return{className:i,css:typeof window>"u"?n.getTag().getGroup(bv(this.componentId)):""}},e}(),Bb=Ec?{Provider:function(e){return e.children},Consumer:function(e){return(0,e.children)(void 0)}}:Fe.createContext(void 0);Bb.Consumer;function mCe(){var e=Ec?void 0:Fe.useContext(Bb);if(!e)throw Lm(18);return e}function EKe(e){if(Ec)return e.children;var t=Fe.useContext(Bb),n=Fe.useMemo(function(){return function(r,i){if(!r)throw Lm(14);if(ey(r)){var o=r(i);return o}if(Array.isArray(r)||typeof r!="object")throw Lm(8);return i?Yo(Yo({},i),r):r}(e.theme,t)},[e.theme,t]);return e.children?Fe.createElement(Bb.Provider,{value:n},e.children):null}var r6={};function _Ke(e,t,n){var r=WH(e),i=e,o=!t6(e),a=t.attrs,s=a===void 0?UH:a,l=t.componentId,u=l===void 0?function(C,k){var S=typeof C!="string"?"sc":Wte(C);r6[S]=(r6[S]||0)+1;var E="".concat(S,"-").concat(HH(pO+S+r6[S]));return k?"".concat(k,"-").concat(E):E}(t.displayName,t.parentComponentId):l,d=t.displayName,f=d===void 0?function(C){return t6(C)?"styled.".concat(C):"Styled(".concat(JGe(C),")")}(e):d,h=t.displayName&&t.componentId?"".concat(Wte(t.displayName),"-").concat(t.componentId):t.componentId||u,m=r&&i.attrs?i.attrs.concat(s).filter(Boolean):s,g=t.shouldForwardProp;if(r&&i.shouldForwardProp){var y=i.shouldForwardProp;if(t.shouldForwardProp){var x=t.shouldForwardProp;g=function(C,k){return y(C,k)&&x(C,k)}}else g=y}var b=new SKe(n,h,r?i.componentStyle:void 0);function v(C,k){return function(S,E,_){var T=S.attrs,A=S.componentStyle,I=S.defaultProps,j=S.foldedComponentIds,$=S.styledComponentId,D=S.target,O=Ec?void 0:Fe.useContext(Bb),M=l7(),P=S.shouldForwardProp||M.shouldForwardProp,F=tCe(E,O,I)||(Ec?void 0:Nb),L=function(se,G,K){for(var q,X=Yo(Yo({},G),{className:void 0,theme:K}),ie=0;ie<se.length;ie+=1){var te=ey(q=se[ie])?q(X):q;for(var de in te)de==="className"?X.className=h1(X.className,te[de]):de==="style"?X.style=Yo(Yo({},X.style),te[de]):X[de]=te[de]}return"className"in G&&typeof G.className=="string"&&(X.className=h1(X.className,G.className)),X}(T,E,F),U=L.as||D,H={};for(var N in L)L[N]===void 0||N[0]==="$"||N==="as"||N==="theme"&&L.theme===F||(N==="forwardedAs"?H.as=L.forwardedAs:P&&!P(N,U)||(H[N]=L[N]));var Y=function(se,G){var K=l7(),q=se.generateAndInjectStyles(G,K.styleSheet,K.stylis);return q}(A,L),J=Y.className,ee=Y.css,oe=h1(j,$);J&&(oe+=" "+J),L.className&&(oe+=" "+L.className),H[t6(U)&&!nCe.has(U)?"class":"className"]=oe,_&&(H.ref=_);var re=p.createElement(U,H);return Ec&&ee?Fe.createElement(Fe.Fragment,null,Fe.createElement("style",{precedence:"styled-components",href:"sc-".concat($,"-").concat(J),children:ee}),re):re}(w,C,k)}v.displayName=f;var w=Fe.forwardRef(v);return w.attrs=m,w.componentStyle=b,w.displayName=f,w.shouldForwardProp=g,w.foldedComponentIds=r?h1(i.foldedComponentIds,i.styledComponentId):"",w.styledComponentId=h,w.target=r?i.target:e,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(C){this._foldedDefaultProps=r?function(k){for(var S=[],E=1;E<arguments.length;E++)S[E-1]=arguments[E];for(var _=0,T=S;_<T.length;_++)i7(k,T[_],!0);return k}({},i.defaultProps,C):C}}),GH(w,function(){return".".concat(w.styledComponentId)}),o&&sCe(w,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function ene(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var tne=function(e){return Object.assign(e,{isCss:!0})};function he(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(ey(e)||JS(e))return tne(Sm(ene(UH,Mo([e],t,!0))));var r=e;return t.length===0&&r.length===1&&typeof r[0]=="string"?Sm(r):tne(Sm(ene(r,t)))}function c7(e,t,n){if(n===void 0&&(n=Nb),!t)throw Lm(1,t);var r=function(i){for(var o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];return e(t,n,he.apply(void 0,Mo([i],o,!1)))};return r.attrs=function(i){return c7(e,t,Yo(Yo({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return c7(e,t,Yo(Yo({},n),i))},r}var gCe=function(e){return c7(_Ke,e)},R=gCe;nCe.forEach(function(e){R[e]=gCe(e)});var TKe=function(){function e(t,n){this.rules=t,this.componentId=n,this.isStatic=pCe(t),YI.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,n,r,i){var o=i(GI(Sm(this.rules,n,r,i)),""),a=this.componentId+t;r.insertRules(a,a,o)},e.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,n,r,i){t>2&&YI.registerId(this.componentId+t);var o=this.componentId+t;this.isStatic?r.hasNameForId(o,o)||this.createStyles(t,n,r,i):(this.removeStyles(t,r),this.createStyles(t,n,r,i))},e}();function AKe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=he.apply(void 0,Mo([e],t,!1)),i="sc-global-".concat(HH(JSON.stringify(r))),o=new TKe(r,i),a=new WeakMap,s=function(u){var d=l7(),f=Ec?void 0:Fe.useContext(Bb),h=a.get(d.styleSheet);if(h===void 0&&(h=d.styleSheet.allocateGSInstance(i),a.set(d.styleSheet,h)),(typeof window>"u"||!d.styleSheet.server)&&l(h,u,d.styleSheet,f,d.stylis),Ec||Fe.useLayoutEffect(function(){return d.styleSheet.server||l(h,u,d.styleSheet,f,d.stylis),function(){var y;o.removeStyles(h,d.styleSheet),y=d.styleSheet.options.target,typeof document<"u"&&(y??document).querySelectorAll('style[data-styled-global="'.concat(i,'"]')).forEach(function(x){return x.remove()})}},[h,u,d.styleSheet,f,d.stylis]),Ec){var m=i+h,g=typeof window>"u"?d.styleSheet.getTag().getGroup(bv(m)):"";if(g)return Fe.createElement("style",{key:"".concat(i,"-").concat(h),"data-styled-global":i,children:g})}return null};function l(u,d,f,h,m){if(o.isStatic)o.renderStyles(u,YGe,f,m);else{var g=Yo(Yo({},d),{theme:tCe(d,h,s.defaultProps)});o.renderStyles(u,g,f,m)}}return Fe.memo(s)}function Fy(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=GI(he.apply(void 0,Mo([e],t,!1))),i=HH(r);return new dCe(i,r)}var yCe={exports:{}},Lr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KH=Symbol.for("react.transitional.element"),YH=Symbol.for("react.portal"),mO=Symbol.for("react.fragment"),gO=Symbol.for("react.strict_mode"),yO=Symbol.for("react.profiler"),vO=Symbol.for("react.consumer"),bO=Symbol.for("react.context"),xO=Symbol.for("react.forward_ref"),wO=Symbol.for("react.suspense"),CO=Symbol.for("react.suspense_list"),kO=Symbol.for("react.memo"),SO=Symbol.for("react.lazy"),jKe=Symbol.for("react.view_transition"),IKe=Symbol.for("react.client.reference");function Vc(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case KH:switch(e=e.type,e){case mO:case yO:case gO:case wO:case CO:case jKe:return e;default:switch(e=e&&e.$$typeof,e){case bO:case xO:case SO:case kO:return e;case vO:return e;default:return t}}case YH:return t}}}Lr.ContextConsumer=vO;Lr.ContextProvider=bO;Lr.Element=KH;Lr.ForwardRef=xO;Lr.Fragment=mO;Lr.Lazy=SO;Lr.Memo=kO;Lr.Portal=YH;Lr.Profiler=yO;Lr.StrictMode=gO;Lr.Suspense=wO;Lr.SuspenseList=CO;Lr.isContextConsumer=function(e){return Vc(e)===vO};Lr.isContextProvider=function(e){return Vc(e)===bO};Lr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===KH};Lr.isForwardRef=function(e){return Vc(e)===xO};Lr.isFragment=function(e){return Vc(e)===mO};Lr.isLazy=function(e){return Vc(e)===SO};Lr.isMemo=function(e){return Vc(e)===kO};Lr.isPortal=function(e){return Vc(e)===YH};Lr.isProfiler=function(e){return Vc(e)===yO};Lr.isStrictMode=function(e){return Vc(e)===gO};Lr.isSuspense=function(e){return Vc(e)===wO};Lr.isSuspenseList=function(e){return Vc(e)===CO};Lr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===mO||e===yO||e===gO||e===wO||e===CO||typeof e=="object"&&e!==null&&(e.$$typeof===SO||e.$$typeof===kO||e.$$typeof===bO||e.$$typeof===vO||e.$$typeof===xO||e.$$typeof===IKe||e.getModuleId!==void 0)};Lr.typeOf=Vc;yCe.exports=Lr;var Hd=yCe.exports;const $Ke=Ue(Hd),DKe=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"checkmark",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M5.5 11.5L10.5 16.5L19.5 7.60001",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),vCe=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M17 10L12.5 14.5L8 10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),OKe=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M10 8L14.5 12.5L10 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),qH=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"close",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M18 7L7 18M7 7L18 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),MKe=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),bCe=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"spinner",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),PKe=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"toggle-arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M10.5 16V9L16 12.5L10.5 16Z",fill:"currentColor",stroke:"currentColor",strokeLinejoin:"round"})})}),xCe=["top","right","bottom","left"],nne=["start","end"],rne=xCe.reduce((e,t)=>e.concat(t,t+"-"+nne[0],t+"-"+nne[1]),[]),Vb=Math.min,j1=Math.max,qI=Math.round,Q_=Math.floor,Pd=e=>({x:e,y:e}),RKe={left:"right",right:"left",bottom:"top",top:"bottom"},FKe={start:"end",end:"start"};function u7(e,t,n){return j1(e,Vb(t,n))}function Ly(e,t){return typeof e=="function"?e(t):e}function Eh(e){return e.split("-")[0]}function Rd(e){return e.split("-")[1]}function wCe(e){return e==="x"?"y":"x"}function ZH(e){return e==="y"?"height":"width"}const LKe=new Set(["top","bottom"]);function am(e){return LKe.has(Eh(e))?"y":"x"}function XH(e){return wCe(am(e))}function CCe(e,t,n){n===void 0&&(n=!1);const r=Rd(e),i=XH(e),o=ZH(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=XI(a)),[a,XI(a)]}function NKe(e){const t=XI(e);return[ZI(e),t,ZI(t)]}function ZI(e){return e.replace(/start|end/g,t=>FKe[t])}const ine=["left","right"],one=["right","left"],BKe=["top","bottom"],VKe=["bottom","top"];function zKe(e,t,n){switch(e){case"top":case"bottom":return n?t?one:ine:t?ine:one;case"left":case"right":return t?BKe:VKe;default:return[]}}function UKe(e,t,n,r){const i=Rd(e);let o=zKe(Eh(e),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(ZI)))),o}function XI(e){return e.replace(/left|right|bottom|top/g,t=>RKe[t])}function HKe(e){return{top:0,right:0,bottom:0,left:0,...e}}function kCe(e){return typeof e!="number"?HKe(e):{top:e,right:e,bottom:e,left:e}}function JI(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function ane(e,t,n){let{reference:r,floating:i}=e;const o=am(t),a=XH(t),s=ZH(a),l=Eh(t),u=o==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[s]/2-i[s]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Rd(t)){case"start":m[a]-=h*(n&&u?-1:1);break;case"end":m[a]+=h*(n&&u?-1:1);break}return m}async function SCe(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Ly(t,e),g=kCe(m),x=s[h?f==="floating"?"reference":"floating":f],b=JI(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(x)))==null||n?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:d,strategy:l})),v=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),C=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},k=JI(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:v,offsetParent:w,strategy:l}):v);return{top:(b.top-k.top+g.top)/C.y,bottom:(k.bottom-b.bottom+g.bottom)/C.y,left:(b.left-k.left+g.left)/C.x,right:(k.right-b.right+g.right)/C.x}}const WKe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=ane(u,r,l),h=r,m={},g=0;for(let x=0;x<s.length;x++){var y;const{name:b,fn:v}=s[x],{x:w,y:C,data:k,reset:S}=await v({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:m,rects:u,platform:{...a,detectOverflow:(y=a.detectOverflow)!=null?y:SCe},elements:{reference:e,floating:t}});d=w??d,f=C??f,m={...m,[b]:{...m[b],...k}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:d,y:f}=ane(u,h,l)),x=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:m}},GKe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=t,{element:u,padding:d=0}=Ly(e,t)||{};if(u==null)return{};const f=kCe(d),h={x:n,y:r},m=XH(i),g=ZH(m),y=await a.getDimensions(u),x=m==="y",b=x?"top":"left",v=x?"bottom":"right",w=x?"clientHeight":"clientWidth",C=o.reference[g]+o.reference[m]-h[m]-o.floating[g],k=h[m]-o.reference[m],S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let E=S?S[w]:0;(!E||!await(a.isElement==null?void 0:a.isElement(S)))&&(E=s.floating[w]||o.floating[g]);const _=C/2-k/2,T=E/2-y[g]/2-1,A=Vb(f[b],T),I=Vb(f[v],T),j=A,$=E-y[g]-I,D=E/2-y[g]/2+_,O=u7(j,D,$),M=!l.arrow&&Rd(i)!=null&&D!==O&&o.reference[g]/2-(D<j?A:I)-y[g]/2<0,P=M?D<j?D-j:D-$:0;return{[m]:h[m]+P,data:{[m]:O,centerOffset:D-O-P,...M&&{alignmentOffset:P}},reset:M}}});function KKe(e,t,n){return(e?[...n.filter(i=>Rd(i)===e),...n.filter(i=>Rd(i)!==e)]:n.filter(i=>Eh(i)===i)).filter(i=>e?Rd(i)===e||(t?ZI(i)!==i:!1):!0)}const YKe=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,i;const{rects:o,middlewareData:a,placement:s,platform:l,elements:u}=t,{crossAxis:d=!1,alignment:f,allowedPlacements:h=rne,autoAlignment:m=!0,...g}=Ly(e,t),y=f!==void 0||h===rne?KKe(f||null,m,h):h,x=await l.detectOverflow(t,g),b=((n=a.autoPlacement)==null?void 0:n.index)||0,v=y[b];if(v==null)return{};const w=CCe(v,o,await(l.isRTL==null?void 0:l.isRTL(u.floating)));if(s!==v)return{reset:{placement:y[0]}};const C=[x[Eh(v)],x[w[0]],x[w[1]]],k=[...((r=a.autoPlacement)==null?void 0:r.overflows)||[],{placement:v,overflows:C}],S=y[b+1];if(S)return{data:{index:b+1,overflows:k},reset:{placement:S}};const E=k.map(A=>{const I=Rd(A.placement);return[A.placement,I&&d?A.overflows.slice(0,2).reduce((j,$)=>j+$,0):A.overflows[0],A.overflows]}).sort((A,I)=>A[1]-I[1]),T=((i=E.filter(A=>A[2].slice(0,Rd(A[0])?2:3).every(I=>I<=0))[0])==null?void 0:i[0])||E[0][0];return T!==s?{data:{index:b+1,overflows:k},reset:{placement:T}}:{}}}},qKe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...x}=Ly(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const b=Eh(i),v=am(s),w=Eh(s)===s,C=await(l.isRTL==null?void 0:l.isRTL(u.floating)),k=h||(w||!y?[XI(s)]:NKe(s)),S=g!=="none";!h&&S&&k.push(...UKe(s,y,g,C));const E=[s,...k],_=await l.detectOverflow(t,x),T=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&T.push(_[b]),f){const D=CCe(i,a,C);T.push(_[D[0]],_[D[1]])}if(A=[...A,{placement:i,overflows:T}],!T.every(D=>D<=0)){var I,j;const D=(((I=o.flip)==null?void 0:I.index)||0)+1,O=E[D];if(O&&(!(f==="alignment"?v!==am(O):!1)||A.every(F=>am(F.placement)===v?F.overflows[0]>0:!0)))return{data:{index:D,overflows:A},reset:{placement:O}};let M=(j=A.filter(P=>P.overflows[0]<=0).sort((P,F)=>P.overflows[1]-F.overflows[1])[0])==null?void 0:j.placement;if(!M)switch(m){case"bestFit":{var $;const P=($=A.filter(F=>{if(S){const L=am(F.placement);return L===v||L==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(L=>L>0).reduce((L,U)=>L+U,0)]).sort((F,L)=>F[1]-L[1])[0])==null?void 0:$[0];P&&(M=P);break}case"initialPlacement":M=s;break}if(i!==M)return{reset:{placement:M}}}return{}}}};function sne(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function lne(e){return xCe.some(t=>e[t]>=0)}const ZKe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:r}=t,{strategy:i="referenceHidden",...o}=Ly(e,t);switch(i){case"referenceHidden":{const a=await r.detectOverflow(t,{...o,elementContext:"reference"}),s=sne(a,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:lne(s)}}}case"escaped":{const a=await r.detectOverflow(t,{...o,altBoundary:!0}),s=sne(a,n.floating);return{data:{escapedOffsets:s,escaped:lne(s)}}}default:return{}}}}},XKe=new Set(["left","top"]);async function JKe(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Eh(n),s=Rd(n),l=am(n)==="y",u=XKe.has(a)?-1:1,d=o&&l?-1:1,f=Ly(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof g=="number"&&(m=s==="end"?g*-1:g),l?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const QKe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=t,l=await JKe(t,e);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},eYe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i,platform:o}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:l={fn:b=>{let{x:v,y:w}=b;return{x:v,y:w}}},...u}=Ly(e,t),d={x:n,y:r},f=await o.detectOverflow(t,u),h=am(Eh(i)),m=wCe(h);let g=d[m],y=d[h];if(a){const b=m==="y"?"top":"left",v=m==="y"?"bottom":"right",w=g+f[b],C=g-f[v];g=u7(w,g,C)}if(s){const b=h==="y"?"top":"left",v=h==="y"?"bottom":"right",w=y+f[b],C=y-f[v];y=u7(w,y,C)}const x=l.fn({...t,[m]:g,[h]:y});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[m]:a,[h]:s}}}}}};function EO(){return typeof window<"u"}function Yx(e){return ECe(e)?(e.nodeName||"").toLowerCase():"#document"}function Tl(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function tf(e){var t;return(t=(ECe(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function ECe(e){return EO()?e instanceof Node||e instanceof Tl(e).Node:!1}function Du(e){return EO()?e instanceof Element||e instanceof Tl(e).Element:!1}function Wd(e){return EO()?e instanceof HTMLElement||e instanceof Tl(e).HTMLElement:!1}function cne(e){return!EO()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Tl(e).ShadowRoot}const tYe=new Set(["inline","contents"]);function U5(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Ou(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!tYe.has(i)}const nYe=new Set(["table","td","th"]);function rYe(e){return nYe.has(Yx(e))}const iYe=[":popover-open",":modal"];function _O(e){return iYe.some(t=>{try{return e.matches(t)}catch{return!1}})}const oYe=["transform","translate","scale","rotate","perspective"],aYe=["transform","translate","scale","rotate","perspective","filter"],sYe=["paint","layout","strict","content"];function JH(e){const t=QH(),n=Du(e)?Ou(e):e;return oYe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||aYe.some(r=>(n.willChange||"").includes(r))||sYe.some(r=>(n.contain||"").includes(r))}function lYe(e){let t=Nm(e);for(;Wd(t)&&!zb(t);){if(JH(t))return t;if(_O(t))return null;t=Nm(t)}return null}function QH(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const cYe=new Set(["html","body","#document"]);function zb(e){return cYe.has(Yx(e))}function Ou(e){return Tl(e).getComputedStyle(e)}function TO(e){return Du(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Nm(e){if(Yx(e)==="html")return e;const t=e.assignedSlot||e.parentNode||cne(e)&&e.host||tf(e);return cne(t)?t.host:t}function _Ce(e){const t=Nm(e);return zb(t)?e.ownerDocument?e.ownerDocument.body:e.body:Wd(t)&&U5(t)?t:_Ce(t)}function QS(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=_Ce(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),a=Tl(i);if(o){const s=d7(a);return t.concat(a,a.visualViewport||[],U5(i)?i:[],s&&n?QS(s):[])}return t.concat(i,QS(i,[],n))}function d7(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function TCe(e){const t=Ou(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Wd(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,s=qI(n)!==o||qI(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function eW(e){return Du(e)?e:e.contextElement}function nb(e){const t=eW(e);if(!Wd(t))return Pd(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=TCe(t);let a=(o?qI(n.width):n.width)/r,s=(o?qI(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const uYe=Pd(0);function ACe(e){const t=Tl(e);return!QH()||!t.visualViewport?uYe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function dYe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Tl(e)?!1:t}function ty(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=eW(e);let a=Pd(1);t&&(r?Du(r)&&(a=nb(r)):a=nb(e));const s=dYe(o,n,r)?ACe(o):Pd(0);let l=(i.left+s.x)/a.x,u=(i.top+s.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(o){const h=Tl(o),m=r&&Du(r)?Tl(r):r;let g=h,y=d7(g);for(;y&&r&&m!==g;){const x=nb(y),b=y.getBoundingClientRect(),v=Ou(y),w=b.left+(y.clientLeft+parseFloat(v.paddingLeft))*x.x,C=b.top+(y.clientTop+parseFloat(v.paddingTop))*x.y;l*=x.x,u*=x.y,d*=x.x,f*=x.y,l+=w,u+=C,g=Tl(y),y=d7(g)}}return JI({width:d,height:f,x:l,y:u})}function AO(e,t){const n=TO(e).scrollLeft;return t?t.left+n:ty(tf(e)).left+n}function jCe(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-AO(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function fYe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",a=tf(r),s=t?_O(t.floating):!1;if(r===a||s&&o)return n;let l={scrollLeft:0,scrollTop:0},u=Pd(1);const d=Pd(0),f=Wd(r);if((f||!f&&!o)&&((Yx(r)!=="body"||U5(a))&&(l=TO(r)),Wd(r))){const m=ty(r);u=nb(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=a&&!f&&!o?jCe(a,l):Pd(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-l.scrollTop*u.y+d.y+h.y}}function hYe(e){return Array.from(e.getClientRects())}function pYe(e){const t=tf(e),n=TO(e),r=e.ownerDocument.body,i=j1(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=j1(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+AO(e);const s=-n.scrollTop;return Ou(r).direction==="rtl"&&(a+=j1(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}const une=25;function mYe(e,t){const n=Tl(e),r=tf(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const d=QH();(!d||d&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}const u=AO(r);if(u<=0){const d=r.ownerDocument,f=d.body,h=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(r.clientWidth-f.clientWidth-m);g<=une&&(o-=g)}else u<=une&&(o+=u);return{width:o,height:a,x:s,y:l}}const gYe=new Set(["absolute","fixed"]);function yYe(e,t){const n=ty(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Wd(e)?nb(e):Pd(1),a=e.clientWidth*o.x,s=e.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:a,height:s,x:l,y:u}}function dne(e,t,n){let r;if(t==="viewport")r=mYe(e,n);else if(t==="document")r=pYe(tf(e));else if(Du(t))r=yYe(t,n);else{const i=ACe(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return JI(r)}function ICe(e,t){const n=Nm(e);return n===t||!Du(n)||zb(n)?!1:Ou(n).position==="fixed"||ICe(n,t)}function vYe(e,t){const n=t.get(e);if(n)return n;let r=QS(e,[],!1).filter(s=>Du(s)&&Yx(s)!=="body"),i=null;const o=Ou(e).position==="fixed";let a=o?Nm(e):e;for(;Du(a)&&!zb(a);){const s=Ou(a),l=JH(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&gYe.has(i.position)||U5(a)&&!l&&ICe(e,a))?r=r.filter(d=>d!==a):i=s,a=Nm(a)}return t.set(e,r),r}function bYe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?_O(t)?[]:vYe(t,this._c):[].concat(n),r],s=a[0],l=a.reduce((u,d)=>{const f=dne(t,d,i);return u.top=j1(f.top,u.top),u.right=Vb(f.right,u.right),u.bottom=Vb(f.bottom,u.bottom),u.left=j1(f.left,u.left),u},dne(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function xYe(e){const{width:t,height:n}=TCe(e);return{width:t,height:n}}function wYe(e,t,n){const r=Wd(t),i=tf(t),o=n==="fixed",a=ty(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=Pd(0);function u(){l.x=AO(i)}if(r||!r&&!o)if((Yx(t)!=="body"||U5(i))&&(s=TO(t)),r){const m=ty(t,!0,o,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else i&&u();o&&!r&&i&&u();const d=i&&!r&&!o?jCe(i,s):Pd(0),f=a.left+s.scrollLeft-l.x-d.x,h=a.top+s.scrollTop-l.y-d.y;return{x:f,y:h,width:a.width,height:a.height}}function i6(e){return Ou(e).position==="static"}function fne(e,t){if(!Wd(e)||Ou(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return tf(e)===n&&(n=n.ownerDocument.body),n}function $Ce(e,t){const n=Tl(e);if(_O(e))return n;if(!Wd(e)){let i=Nm(e);for(;i&&!zb(i);){if(Du(i)&&!i6(i))return i;i=Nm(i)}return n}let r=fne(e,t);for(;r&&rYe(r)&&i6(r);)r=fne(r,t);return r&&zb(r)&&i6(r)&&!JH(r)?n:r||lYe(e)||n}const CYe=async function(e){const t=this.getOffsetParent||$Ce,n=this.getDimensions,r=await n(e.floating);return{reference:wYe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function kYe(e){return Ou(e).direction==="rtl"}const SYe={convertOffsetParentRelativeRectToViewportRelativeRect:fYe,getDocumentElement:tf,getClippingRect:bYe,getOffsetParent:$Ce,getElementRects:CYe,getClientRects:hYe,getDimensions:xYe,getScale:nb,isElement:Du,isRTL:kYe};function DCe(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function EYe(e,t){let n=null,r;const i=tf(e);function o(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(s||t(),!h||!m)return;const g=Q_(f),y=Q_(i.clientWidth-(d+h)),x=Q_(i.clientHeight-(f+m)),b=Q_(d),w={rootMargin:-g+"px "+-y+"px "+-x+"px "+-b+"px",threshold:j1(0,Vb(1,l))||1};let C=!0;function k(S){const E=S[0].intersectionRatio;if(E!==l){if(!C)return a();E?a(!1,E):r=setTimeout(()=>{a(!1,1e-7)},1e3)}E===1&&!DCe(u,e.getBoundingClientRect())&&a(),C=!1}try{n=new IntersectionObserver(k,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(k,w)}n.observe(e)}return a(!0),o}function OCe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=eW(e),d=i||o?[...u?QS(u):[],...QS(t)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),o&&b.addEventListener("resize",n)});const f=u&&s?EYe(u,n):null;let h=-1,m=null;a&&(m=new ResizeObserver(b=>{let[v]=b;v&&v.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),n()}),u&&!l&&m.observe(u),m.observe(t));let g,y=l?ty(e):null;l&&x();function x(){const b=ty(e);y&&!DCe(y,b)&&n(),y=b,g=requestAnimationFrame(x)}return n(),()=>{var b;d.forEach(v=>{i&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,l&&cancelAnimationFrame(g)}}const _Ye=SCe,TYe=QKe,AYe=YKe,jYe=eYe,IYe=qKe,$Ye=ZKe,hne=GKe,DYe=(e,t,n)=>{const r=new Map,i={platform:SYe,...n},o={...i.platform,_c:r};return WKe(e,t,{...i,platform:o})};var MCe={exports:{}},Wl={},PCe={exports:{}},RCe={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,L){var U=F.length;F.push(L);e:for(;0<U;){var H=U-1>>>1,N=F[H];if(0<i(N,L))F[H]=L,F[U]=N,U=H;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var L=F[0],U=F.pop();if(U!==L){F[0]=U;e:for(var H=0,N=F.length,Y=N>>>1;H<Y;){var J=2*(H+1)-1,ee=F[J],oe=J+1,re=F[oe];if(0>i(ee,U))oe<N&&0>i(re,ee)?(F[H]=re,F[oe]=U,H=oe):(F[H]=ee,F[J]=U,H=J);else if(oe<N&&0>i(re,U))F[H]=re,F[oe]=U,H=oe;else break e}}return L}function i(F,L){var U=F.sortIndex-L.sortIndex;return U!==0?U:F.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],d=1,f=null,h=3,m=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=F)r(u),L.sortIndex=L.expirationTime,t(l,L);else break;L=n(u)}}function C(F){if(y=!1,w(F),!g)if(n(l)!==null)g=!0,M(k);else{var L=n(u);L!==null&&P(C,L.startTime-F)}}function k(F,L){g=!1,y&&(y=!1,b(_),_=-1),m=!0;var U=h;try{for(w(L),f=n(l);f!==null&&(!(f.expirationTime>L)||F&&!I());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var N=H(f.expirationTime<=L);L=e.unstable_now(),typeof N=="function"?f.callback=N:f===n(l)&&r(l),w(L)}else r(l);f=n(l)}if(f!==null)var Y=!0;else{var J=n(u);J!==null&&P(C,J.startTime-L),Y=!1}return Y}finally{f=null,h=U,m=!1}}var S=!1,E=null,_=-1,T=5,A=-1;function I(){return!(e.unstable_now()-A<T)}function j(){if(E!==null){var F=e.unstable_now();A=F;var L=!0;try{L=E(!0,F)}finally{L?$():(S=!1,E=null)}}else S=!1}var $;if(typeof v=="function")$=function(){v(j)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,O=D.port2;D.port1.onmessage=j,$=function(){O.postMessage(null)}}else $=function(){x(j,0)};function M(F){E=F,S||(S=!0,$())}function P(F,L){_=x(function(){F(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,M(k))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(F){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var U=h;h=L;try{return F()}finally{h=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,L){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var U=h;h=F;try{return L()}finally{h=U}},e.unstable_scheduleCallback=function(F,L,U){var H=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?H+U:H):U=H,F){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=U+N,F={id:d++,callback:L,priorityLevel:F,startTime:U,expirationTime:N,sortIndex:-1},U>H?(F.sortIndex=U,t(u,F),n(l)===null&&F===n(u)&&(y?(b(_),_=-1):y=!0,P(C,U-H))):(F.sortIndex=N,t(l,F),g||m||(g=!0,M(k))),F},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(F){var L=h;return function(){var U=h;h=L;try{return F.apply(this,arguments)}finally{h=U}}}})(RCe);PCe.exports=RCe;var OYe=PCe.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MYe=p,Ml=OYe;function ze(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var FCe=new Set,e2={};function Ny(e,t){Ub(e,t),Ub(e+"Capture",t)}function Ub(e,t){for(e2[e]=t,e=0;e<t.length;e++)FCe.add(t[e])}var _h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f7=Object.prototype.hasOwnProperty,PYe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pne={},mne={};function RYe(e){return f7.call(mne,e)?!0:f7.call(pne,e)?!1:PYe.test(e)?mne[e]=!0:(pne[e]=!0,!1)}function FYe(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function LYe(e,t,n,r){if(t===null||typeof t>"u"||FYe(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ks(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var ka={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ka[e]=new ks(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ka[t]=new ks(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ka[e]=new ks(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ka[e]=new ks(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ka[e]=new ks(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ka[e]=new ks(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ka[e]=new ks(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ka[e]=new ks(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ka[e]=new ks(e,5,!1,e.toLowerCase(),null,!1,!1)});var tW=/[\-:]([a-z])/g;function nW(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(tW,nW);ka[t]=new ks(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(tW,nW);ka[t]=new ks(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(tW,nW);ka[t]=new ks(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ka[e]=new ks(e,1,!1,e.toLowerCase(),null,!1,!1)});ka.xlinkHref=new ks("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ka[e]=new ks(e,1,!1,e.toLowerCase(),null,!0,!0)});function rW(e,t,n,r){var i=ka.hasOwnProperty(t)?ka[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(LYe(t,n,i,r)&&(n=null),r||i===null?RYe(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var np=MYe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eT=Symbol.for("react.element"),xv=Symbol.for("react.portal"),wv=Symbol.for("react.fragment"),iW=Symbol.for("react.strict_mode"),h7=Symbol.for("react.profiler"),LCe=Symbol.for("react.provider"),NCe=Symbol.for("react.context"),oW=Symbol.for("react.forward_ref"),p7=Symbol.for("react.suspense"),m7=Symbol.for("react.suspense_list"),aW=Symbol.for("react.memo"),Bp=Symbol.for("react.lazy"),BCe=Symbol.for("react.offscreen"),gne=Symbol.iterator;function kC(e){return e===null||typeof e!="object"?null:(e=gne&&e[gne]||e["@@iterator"],typeof e=="function"?e:null)}var Wi=Object.assign,o6;function wk(e){if(o6===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);o6=t&&t[1]||""}return`
`+o6+e}var a6=!1;function s6(e,t){if(!e||a6)return"";a6=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{a6=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?wk(e):""}function NYe(e){switch(e.tag){case 5:return wk(e.type);case 16:return wk("Lazy");case 13:return wk("Suspense");case 19:return wk("SuspenseList");case 0:case 2:case 15:return e=s6(e.type,!1),e;case 11:return e=s6(e.type.render,!1),e;case 1:return e=s6(e.type,!0),e;default:return""}}function g7(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wv:return"Fragment";case xv:return"Portal";case h7:return"Profiler";case iW:return"StrictMode";case p7:return"Suspense";case m7:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case NCe:return(e.displayName||"Context")+".Consumer";case LCe:return(e._context.displayName||"Context")+".Provider";case oW:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case aW:return t=e.displayName||null,t!==null?t:g7(e.type)||"Memo";case Bp:t=e._payload,e=e._init;try{return g7(e(t))}catch{}}return null}function BYe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return g7(t);case 8:return t===iW?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bm(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function VCe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function VYe(e){var t=VCe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tT(e){e._valueTracker||(e._valueTracker=VYe(e))}function zCe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=VCe(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function QI(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function y7(e,t){var n=t.checked;return Wi({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function yne(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Bm(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function UCe(e,t){t=t.checked,t!=null&&rW(e,"checked",t,!1)}function v7(e,t){UCe(e,t);var n=Bm(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?b7(e,t.type,n):t.hasOwnProperty("defaultValue")&&b7(e,t.type,Bm(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vne(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function b7(e,t,n){(t!=="number"||QI(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ck=Array.isArray;function rb(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Bm(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function x7(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ze(91));return Wi({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bne(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ze(92));if(Ck(n)){if(1<n.length)throw Error(ze(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Bm(n)}}function HCe(e,t){var n=Bm(t.value),r=Bm(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function xne(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function WCe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function w7(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?WCe(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var nT,GCe=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(nT=nT||document.createElement("div"),nT.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=nT.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function t2(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Qk={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zYe=["Webkit","ms","Moz","O"];Object.keys(Qk).forEach(function(e){zYe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qk[t]=Qk[e]})});function KCe(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Qk.hasOwnProperty(e)&&Qk[e]?(""+t).trim():t+"px"}function YCe(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=KCe(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var UYe=Wi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function C7(e,t){if(t){if(UYe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ze(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ze(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ze(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ze(62))}}function k7(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var S7=null;function sW(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var E7=null,ib=null,ob=null;function wne(e){if(e=G5(e)){if(typeof E7!="function")throw Error(ze(280));var t=e.stateNode;t&&(t=OO(t),E7(e.stateNode,e.type,t))}}function qCe(e){ib?ob?ob.push(e):ob=[e]:ib=e}function ZCe(){if(ib){var e=ib,t=ob;if(ob=ib=null,wne(e),t)for(e=0;e<t.length;e++)wne(t[e])}}function XCe(e,t){return e(t)}function JCe(){}var l6=!1;function QCe(e,t,n){if(l6)return e(t,n);l6=!0;try{return XCe(e,t,n)}finally{l6=!1,(ib!==null||ob!==null)&&(JCe(),ZCe())}}function n2(e,t){var n=e.stateNode;if(n===null)return null;var r=OO(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ze(231,t,typeof n));return n}var _7=!1;if(_h)try{var SC={};Object.defineProperty(SC,"passive",{get:function(){_7=!0}}),window.addEventListener("test",SC,SC),window.removeEventListener("test",SC,SC)}catch{_7=!1}function HYe(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var eS=!1,e3=null,t3=!1,T7=null,WYe={onError:function(e){eS=!0,e3=e}};function GYe(e,t,n,r,i,o,a,s,l){eS=!1,e3=null,HYe.apply(WYe,arguments)}function KYe(e,t,n,r,i,o,a,s,l){if(GYe.apply(this,arguments),eS){if(eS){var u=e3;eS=!1,e3=null}else throw Error(ze(198));t3||(t3=!0,T7=u)}}function By(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function eke(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cne(e){if(By(e)!==e)throw Error(ze(188))}function YYe(e){var t=e.alternate;if(!t){if(t=By(e),t===null)throw Error(ze(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Cne(i),e;if(o===r)return Cne(i),t;o=o.sibling}throw Error(ze(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(ze(189))}}if(n.alternate!==r)throw Error(ze(190))}if(n.tag!==3)throw Error(ze(188));return n.stateNode.current===n?e:t}function tke(e){return e=YYe(e),e!==null?nke(e):null}function nke(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nke(e);if(t!==null)return t;e=e.sibling}return null}var rke=Ml.unstable_scheduleCallback,kne=Ml.unstable_cancelCallback,qYe=Ml.unstable_shouldYield,ZYe=Ml.unstable_requestPaint,uo=Ml.unstable_now,XYe=Ml.unstable_getCurrentPriorityLevel,lW=Ml.unstable_ImmediatePriority,ike=Ml.unstable_UserBlockingPriority,n3=Ml.unstable_NormalPriority,JYe=Ml.unstable_LowPriority,oke=Ml.unstable_IdlePriority,jO=null,Fd=null;function QYe(e){if(Fd&&typeof Fd.onCommitFiberRoot=="function")try{Fd.onCommitFiberRoot(jO,e,void 0,(e.current.flags&128)===128)}catch{}}var Su=Math.clz32?Math.clz32:nqe,eqe=Math.log,tqe=Math.LN2;function nqe(e){return e>>>=0,e===0?32:31-(eqe(e)/tqe|0)|0}var rT=64,iT=4194304;function kk(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function r3(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=kk(s):(o&=a,o!==0&&(r=kk(o)))}else a=n&~i,a!==0?r=kk(a):o!==0&&(r=kk(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Su(t),i=1<<n,r|=e[n],t&=~i;return r}function rqe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iqe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Su(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=rqe(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function A7(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ake(){var e=rT;return rT<<=1,!(rT&4194240)&&(rT=64),e}function c6(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function H5(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Su(t),e[t]=n}function oqe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Su(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function cW(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Su(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var br=0;function ske(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lke,uW,cke,uke,dke,j7=!1,oT=[],Em=null,_m=null,Tm=null,r2=new Map,i2=new Map,qp=[],aqe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sne(e,t){switch(e){case"focusin":case"focusout":Em=null;break;case"dragenter":case"dragleave":_m=null;break;case"mouseover":case"mouseout":Tm=null;break;case"pointerover":case"pointerout":r2.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":i2.delete(t.pointerId)}}function EC(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=G5(t),t!==null&&uW(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function sqe(e,t,n,r,i){switch(t){case"focusin":return Em=EC(Em,e,t,n,r,i),!0;case"dragenter":return _m=EC(_m,e,t,n,r,i),!0;case"mouseover":return Tm=EC(Tm,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return r2.set(o,EC(r2.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,i2.set(o,EC(i2.get(o)||null,e,t,n,r,i)),!0}return!1}function fke(e){var t=p1(e.target);if(t!==null){var n=By(t);if(n!==null){if(t=n.tag,t===13){if(t=eke(n),t!==null){e.blockedOn=t,dke(e.priority,function(){cke(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ej(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=I7(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);S7=r,n.target.dispatchEvent(r),S7=null}else return t=G5(n),t!==null&&uW(t),e.blockedOn=n,!1;t.shift()}return!0}function Ene(e,t,n){Ej(e)&&n.delete(t)}function lqe(){j7=!1,Em!==null&&Ej(Em)&&(Em=null),_m!==null&&Ej(_m)&&(_m=null),Tm!==null&&Ej(Tm)&&(Tm=null),r2.forEach(Ene),i2.forEach(Ene)}function _C(e,t){e.blockedOn===t&&(e.blockedOn=null,j7||(j7=!0,Ml.unstable_scheduleCallback(Ml.unstable_NormalPriority,lqe)))}function o2(e){function t(i){return _C(i,e)}if(0<oT.length){_C(oT[0],e);for(var n=1;n<oT.length;n++){var r=oT[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Em!==null&&_C(Em,e),_m!==null&&_C(_m,e),Tm!==null&&_C(Tm,e),r2.forEach(t),i2.forEach(t),n=0;n<qp.length;n++)r=qp[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<qp.length&&(n=qp[0],n.blockedOn===null);)fke(n),n.blockedOn===null&&qp.shift()}var ab=np.ReactCurrentBatchConfig,i3=!0;function cqe(e,t,n,r){var i=br,o=ab.transition;ab.transition=null;try{br=1,dW(e,t,n,r)}finally{br=i,ab.transition=o}}function uqe(e,t,n,r){var i=br,o=ab.transition;ab.transition=null;try{br=4,dW(e,t,n,r)}finally{br=i,ab.transition=o}}function dW(e,t,n,r){if(i3){var i=I7(e,t,n,r);if(i===null)b6(e,t,r,o3,n),Sne(e,r);else if(sqe(i,e,t,n,r))r.stopPropagation();else if(Sne(e,r),t&4&&-1<aqe.indexOf(e)){for(;i!==null;){var o=G5(i);if(o!==null&&lke(o),o=I7(e,t,n,r),o===null&&b6(e,t,r,o3,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else b6(e,t,r,null,n)}}var o3=null;function I7(e,t,n,r){if(o3=null,e=sW(r),e=p1(e),e!==null)if(t=By(e),t===null)e=null;else if(n=t.tag,n===13){if(e=eke(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return o3=e,null}function hke(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XYe()){case lW:return 1;case ike:return 4;case n3:case JYe:return 16;case oke:return 536870912;default:return 16}default:return 16}}var sm=null,fW=null,_j=null;function pke(){if(_j)return _j;var e,t=fW,n=t.length,r,i="value"in sm?sm.value:sm.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return _j=i.slice(e,1<r?1-r:void 0)}function Tj(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function aT(){return!0}function _ne(){return!1}function Gl(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?aT:_ne,this.isPropagationStopped=_ne,this}return Wi(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=aT)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=aT)},persist:function(){},isPersistent:aT}),t}var qx={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hW=Gl(qx),W5=Wi({},qx,{view:0,detail:0}),dqe=Gl(W5),u6,d6,TC,IO=Wi({},W5,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pW,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==TC&&(TC&&e.type==="mousemove"?(u6=e.screenX-TC.screenX,d6=e.screenY-TC.screenY):d6=u6=0,TC=e),u6)},movementY:function(e){return"movementY"in e?e.movementY:d6}}),Tne=Gl(IO),fqe=Wi({},IO,{dataTransfer:0}),hqe=Gl(fqe),pqe=Wi({},W5,{relatedTarget:0}),f6=Gl(pqe),mqe=Wi({},qx,{animationName:0,elapsedTime:0,pseudoElement:0}),gqe=Gl(mqe),yqe=Wi({},qx,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vqe=Gl(yqe),bqe=Wi({},qx,{data:0}),Ane=Gl(bqe),xqe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wqe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cqe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kqe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cqe[e])?!!t[e]:!1}function pW(){return kqe}var Sqe=Wi({},W5,{key:function(e){if(e.key){var t=xqe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Tj(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wqe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pW,charCode:function(e){return e.type==="keypress"?Tj(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tj(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Eqe=Gl(Sqe),_qe=Wi({},IO,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jne=Gl(_qe),Tqe=Wi({},W5,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pW}),Aqe=Gl(Tqe),jqe=Wi({},qx,{propertyName:0,elapsedTime:0,pseudoElement:0}),Iqe=Gl(jqe),$qe=Wi({},IO,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dqe=Gl($qe),Oqe=[9,13,27,32],mW=_h&&"CompositionEvent"in window,tS=null;_h&&"documentMode"in document&&(tS=document.documentMode);var Mqe=_h&&"TextEvent"in window&&!tS,mke=_h&&(!mW||tS&&8<tS&&11>=tS),Ine=String.fromCharCode(32),$ne=!1;function gke(e,t){switch(e){case"keyup":return Oqe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yke(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cv=!1;function Pqe(e,t){switch(e){case"compositionend":return yke(t);case"keypress":return t.which!==32?null:($ne=!0,Ine);case"textInput":return e=t.data,e===Ine&&$ne?null:e;default:return null}}function Rqe(e,t){if(Cv)return e==="compositionend"||!mW&&gke(e,t)?(e=pke(),_j=fW=sm=null,Cv=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mke&&t.locale!=="ko"?null:t.data;default:return null}}var Fqe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dne(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Fqe[e.type]:t==="textarea"}function vke(e,t,n,r){qCe(r),t=a3(t,"onChange"),0<t.length&&(n=new hW("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var nS=null,a2=null;function Lqe(e){jke(e,0)}function $O(e){var t=Ev(e);if(zCe(t))return e}function Nqe(e,t){if(e==="change")return t}var bke=!1;if(_h){var h6;if(_h){var p6="oninput"in document;if(!p6){var One=document.createElement("div");One.setAttribute("oninput","return;"),p6=typeof One.oninput=="function"}h6=p6}else h6=!1;bke=h6&&(!document.documentMode||9<document.documentMode)}function Mne(){nS&&(nS.detachEvent("onpropertychange",xke),a2=nS=null)}function xke(e){if(e.propertyName==="value"&&$O(a2)){var t=[];vke(t,a2,e,sW(e)),QCe(Lqe,t)}}function Bqe(e,t,n){e==="focusin"?(Mne(),nS=t,a2=n,nS.attachEvent("onpropertychange",xke)):e==="focusout"&&Mne()}function Vqe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $O(a2)}function zqe(e,t){if(e==="click")return $O(t)}function Uqe(e,t){if(e==="input"||e==="change")return $O(t)}function Hqe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mu=typeof Object.is=="function"?Object.is:Hqe;function s2(e,t){if(Mu(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f7.call(t,i)||!Mu(e[i],t[i]))return!1}return!0}function Pne(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rne(e,t){var n=Pne(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pne(n)}}function wke(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wke(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cke(){for(var e=window,t=QI();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=QI(e.document)}return t}function gW(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Wqe(e){var t=Cke(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&wke(n.ownerDocument.documentElement,n)){if(r!==null&&gW(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Rne(n,o);var a=Rne(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Gqe=_h&&"documentMode"in document&&11>=document.documentMode,kv=null,$7=null,rS=null,D7=!1;function Fne(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;D7||kv==null||kv!==QI(r)||(r=kv,"selectionStart"in r&&gW(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rS&&s2(rS,r)||(rS=r,r=a3($7,"onSelect"),0<r.length&&(t=new hW("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kv)))}function sT(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sv={animationend:sT("Animation","AnimationEnd"),animationiteration:sT("Animation","AnimationIteration"),animationstart:sT("Animation","AnimationStart"),transitionend:sT("Transition","TransitionEnd")},m6={},kke={};_h&&(kke=document.createElement("div").style,"AnimationEvent"in window||(delete Sv.animationend.animation,delete Sv.animationiteration.animation,delete Sv.animationstart.animation),"TransitionEvent"in window||delete Sv.transitionend.transition);function DO(e){if(m6[e])return m6[e];if(!Sv[e])return e;var t=Sv[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in kke)return m6[e]=t[n];return e}var Ske=DO("animationend"),Eke=DO("animationiteration"),_ke=DO("animationstart"),Tke=DO("transitionend"),Ake=new Map,Lne="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ag(e,t){Ake.set(e,t),Ny(t,[e])}for(var g6=0;g6<Lne.length;g6++){var y6=Lne[g6],Kqe=y6.toLowerCase(),Yqe=y6[0].toUpperCase()+y6.slice(1);ag(Kqe,"on"+Yqe)}ag(Ske,"onAnimationEnd");ag(Eke,"onAnimationIteration");ag(_ke,"onAnimationStart");ag("dblclick","onDoubleClick");ag("focusin","onFocus");ag("focusout","onBlur");ag(Tke,"onTransitionEnd");Ub("onMouseEnter",["mouseout","mouseover"]);Ub("onMouseLeave",["mouseout","mouseover"]);Ub("onPointerEnter",["pointerout","pointerover"]);Ub("onPointerLeave",["pointerout","pointerover"]);Ny("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ny("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ny("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ny("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ny("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ny("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sk="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qqe=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sk));function Nne(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,KYe(r,t,void 0,e),e.currentTarget=null}function jke(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Nne(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Nne(i,s,u),o=l}}}if(t3)throw e=T7,t3=!1,T7=null,e}function si(e,t){var n=t[F7];n===void 0&&(n=t[F7]=new Set);var r=e+"__bubble";n.has(r)||(Ike(t,e,2,!1),n.add(r))}function v6(e,t,n){var r=0;t&&(r|=4),Ike(n,e,r,t)}var lT="_reactListening"+Math.random().toString(36).slice(2);function l2(e){if(!e[lT]){e[lT]=!0,FCe.forEach(function(n){n!=="selectionchange"&&(qqe.has(n)||v6(n,!1,e),v6(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[lT]||(t[lT]=!0,v6("selectionchange",!1,t))}}function Ike(e,t,n,r){switch(hke(t)){case 1:var i=cqe;break;case 4:i=uqe;break;default:i=dW}n=i.bind(null,t,n,e),i=void 0,!_7||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function b6(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=p1(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}QCe(function(){var u=o,d=sW(n),f=[];e:{var h=Ake.get(e);if(h!==void 0){var m=hW,g=e;switch(e){case"keypress":if(Tj(n)===0)break e;case"keydown":case"keyup":m=Eqe;break;case"focusin":g="focus",m=f6;break;case"focusout":g="blur",m=f6;break;case"beforeblur":case"afterblur":m=f6;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Tne;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=hqe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Aqe;break;case Ske:case Eke:case _ke:m=gqe;break;case Tke:m=Iqe;break;case"scroll":m=dqe;break;case"wheel":m=Dqe;break;case"copy":case"cut":case"paste":m=vqe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=jne}var y=(t&4)!==0,x=!y&&e==="scroll",b=y?h!==null?h+"Capture":null:h;y=[];for(var v=u,w;v!==null;){w=v;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,b!==null&&(C=n2(v,b),C!=null&&y.push(c2(v,C,w)))),x)break;v=v.return}0<y.length&&(h=new m(h,g,null,n,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==S7&&(g=n.relatedTarget||n.fromElement)&&(p1(g)||g[Th]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?p1(g):null,g!==null&&(x=By(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(y=Tne,C="onMouseLeave",b="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(y=jne,C="onPointerLeave",b="onPointerEnter",v="pointer"),x=m==null?h:Ev(m),w=g==null?h:Ev(g),h=new y(C,v+"leave",m,n,d),h.target=x,h.relatedTarget=w,C=null,p1(d)===u&&(y=new y(b,v+"enter",g,n,d),y.target=w,y.relatedTarget=x,C=y),x=C,m&&g)t:{for(y=m,b=g,v=0,w=y;w;w=P0(w))v++;for(w=0,C=b;C;C=P0(C))w++;for(;0<v-w;)y=P0(y),v--;for(;0<w-v;)b=P0(b),w--;for(;v--;){if(y===b||b!==null&&y===b.alternate)break t;y=P0(y),b=P0(b)}y=null}else y=null;m!==null&&Bne(f,h,m,y,!1),g!==null&&x!==null&&Bne(f,x,g,y,!0)}}e:{if(h=u?Ev(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var k=Nqe;else if(Dne(h))if(bke)k=Uqe;else{k=Vqe;var S=Bqe}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=zqe);if(k&&(k=k(e,u))){vke(f,k,n,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&b7(h,"number",h.value)}switch(S=u?Ev(u):window,e){case"focusin":(Dne(S)||S.contentEditable==="true")&&(kv=S,$7=u,rS=null);break;case"focusout":rS=$7=kv=null;break;case"mousedown":D7=!0;break;case"contextmenu":case"mouseup":case"dragend":D7=!1,Fne(f,n,d);break;case"selectionchange":if(Gqe)break;case"keydown":case"keyup":Fne(f,n,d)}var E;if(mW)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Cv?gke(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(mke&&n.locale!=="ko"&&(Cv||_!=="onCompositionStart"?_==="onCompositionEnd"&&Cv&&(E=pke()):(sm=d,fW="value"in sm?sm.value:sm.textContent,Cv=!0)),S=a3(u,_),0<S.length&&(_=new Ane(_,e,null,n,d),f.push({event:_,listeners:S}),E?_.data=E:(E=yke(n),E!==null&&(_.data=E)))),(E=Mqe?Pqe(e,n):Rqe(e,n))&&(u=a3(u,"onBeforeInput"),0<u.length&&(d=new Ane("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}jke(f,t)})}function c2(e,t,n){return{instance:e,listener:t,currentTarget:n}}function a3(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=n2(e,n),o!=null&&r.unshift(c2(e,o,i)),o=n2(e,t),o!=null&&r.push(c2(e,o,i))),e=e.return}return r}function P0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bne(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=n2(n,o),l!=null&&a.unshift(c2(n,l,s))):i||(l=n2(n,o),l!=null&&a.push(c2(n,l,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Zqe=/\r\n?/g,Xqe=/\u0000|\uFFFD/g;function Vne(e){return(typeof e=="string"?e:""+e).replace(Zqe,`
`).replace(Xqe,"")}function cT(e,t,n){if(t=Vne(t),Vne(e)!==t&&n)throw Error(ze(425))}function s3(){}var O7=null,M7=null;function P7(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var R7=typeof setTimeout=="function"?setTimeout:void 0,Jqe=typeof clearTimeout=="function"?clearTimeout:void 0,zne=typeof Promise=="function"?Promise:void 0,Qqe=typeof queueMicrotask=="function"?queueMicrotask:typeof zne<"u"?function(e){return zne.resolve(null).then(e).catch(eZe)}:R7;function eZe(e){setTimeout(function(){throw e})}function x6(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),o2(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);o2(t)}function Am(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Une(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Zx=Math.random().toString(36).slice(2),Cd="__reactFiber$"+Zx,u2="__reactProps$"+Zx,Th="__reactContainer$"+Zx,F7="__reactEvents$"+Zx,tZe="__reactListeners$"+Zx,nZe="__reactHandles$"+Zx;function p1(e){var t=e[Cd];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Th]||n[Cd]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Une(e);e!==null;){if(n=e[Cd])return n;e=Une(e)}return t}e=n,n=e.parentNode}return null}function G5(e){return e=e[Cd]||e[Th],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ev(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ze(33))}function OO(e){return e[u2]||null}var L7=[],_v=-1;function sg(e){return{current:e}}function pi(e){0>_v||(e.current=L7[_v],L7[_v]=null,_v--)}function Xr(e,t){_v++,L7[_v]=e.current,e.current=t}var Vm={},Qa=sg(Vm),el=sg(!1),ny=Vm;function Hb(e,t){var n=e.type.contextTypes;if(!n)return Vm;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function tl(e){return e=e.childContextTypes,e!=null}function l3(){pi(el),pi(Qa)}function Hne(e,t,n){if(Qa.current!==Vm)throw Error(ze(168));Xr(Qa,t),Xr(el,n)}function $ke(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ze(108,BYe(e)||"Unknown",i));return Wi({},n,r)}function c3(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vm,ny=Qa.current,Xr(Qa,e),Xr(el,el.current),!0}function Wne(e,t,n){var r=e.stateNode;if(!r)throw Error(ze(169));n?(e=$ke(e,t,ny),r.__reactInternalMemoizedMergedChildContext=e,pi(el),pi(Qa),Xr(Qa,e)):pi(el),Xr(el,n)}var zf=null,MO=!1,w6=!1;function Dke(e){zf===null?zf=[e]:zf.push(e)}function rZe(e){MO=!0,Dke(e)}function lg(){if(!w6&&zf!==null){w6=!0;var e=0,t=br;try{var n=zf;for(br=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zf=null,MO=!1}catch(i){throw zf!==null&&(zf=zf.slice(e+1)),rke(lW,lg),i}finally{br=t,w6=!1}}return null}var Tv=[],Av=0,u3=null,d3=0,lc=[],cc=0,ry=null,Qf=1,eh="";function Kg(e,t){Tv[Av++]=d3,Tv[Av++]=u3,u3=e,d3=t}function Oke(e,t,n){lc[cc++]=Qf,lc[cc++]=eh,lc[cc++]=ry,ry=e;var r=Qf;e=eh;var i=32-Su(r)-1;r&=~(1<<i),n+=1;var o=32-Su(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qf=1<<32-Su(t)+i|n<<i|r,eh=o+e}else Qf=1<<o|n<<i|r,eh=e}function yW(e){e.return!==null&&(Kg(e,1),Oke(e,1,0))}function vW(e){for(;e===u3;)u3=Tv[--Av],Tv[Av]=null,d3=Tv[--Av],Tv[Av]=null;for(;e===ry;)ry=lc[--cc],lc[cc]=null,eh=lc[--cc],lc[cc]=null,Qf=lc[--cc],lc[cc]=null}var Al=null,Sl=null,Ai=!1,fu=null;function Mke(e,t){var n=yc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Gne(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Al=e,Sl=Am(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Al=e,Sl=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ry!==null?{id:Qf,overflow:eh}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=yc(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Al=e,Sl=null,!0):!1;default:return!1}}function N7(e){return(e.mode&1)!==0&&(e.flags&128)===0}function B7(e){if(Ai){var t=Sl;if(t){var n=t;if(!Gne(e,t)){if(N7(e))throw Error(ze(418));t=Am(n.nextSibling);var r=Al;t&&Gne(e,t)?Mke(r,n):(e.flags=e.flags&-4097|2,Ai=!1,Al=e)}}else{if(N7(e))throw Error(ze(418));e.flags=e.flags&-4097|2,Ai=!1,Al=e}}}function Kne(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Al=e}function uT(e){if(e!==Al)return!1;if(!Ai)return Kne(e),Ai=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!P7(e.type,e.memoizedProps)),t&&(t=Sl)){if(N7(e))throw Pke(),Error(ze(418));for(;t;)Mke(e,t),t=Am(t.nextSibling)}if(Kne(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ze(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Sl=Am(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Sl=null}}else Sl=Al?Am(e.stateNode.nextSibling):null;return!0}function Pke(){for(var e=Sl;e;)e=Am(e.nextSibling)}function Wb(){Sl=Al=null,Ai=!1}function bW(e){fu===null?fu=[e]:fu.push(e)}var iZe=np.ReactCurrentBatchConfig;function AC(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ze(309));var r=n.stateNode}if(!r)throw Error(ze(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(ze(284));if(!n._owner)throw Error(ze(290,e))}return e}function dT(e,t){throw e=Object.prototype.toString.call(t),Error(ze(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yne(e){var t=e._init;return t(e._payload)}function Rke(e){function t(b,v){if(e){var w=b.deletions;w===null?(b.deletions=[v],b.flags|=16):w.push(v)}}function n(b,v){if(!e)return null;for(;v!==null;)t(b,v),v=v.sibling;return null}function r(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function i(b,v){return b=Dm(b,v),b.index=0,b.sibling=null,b}function o(b,v,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<v?(b.flags|=2,v):w):(b.flags|=2,v)):(b.flags|=1048576,v)}function a(b){return e&&b.alternate===null&&(b.flags|=2),b}function s(b,v,w,C){return v===null||v.tag!==6?(v=A6(w,b.mode,C),v.return=b,v):(v=i(v,w),v.return=b,v)}function l(b,v,w,C){var k=w.type;return k===wv?d(b,v,w.props.children,C,w.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Bp&&Yne(k)===v.type)?(C=i(v,w.props),C.ref=AC(b,v,w),C.return=b,C):(C=Mj(w.type,w.key,w.props,null,b.mode,C),C.ref=AC(b,v,w),C.return=b,C)}function u(b,v,w,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=j6(w,b.mode,C),v.return=b,v):(v=i(v,w.children||[]),v.return=b,v)}function d(b,v,w,C,k){return v===null||v.tag!==7?(v=$1(w,b.mode,C,k),v.return=b,v):(v=i(v,w),v.return=b,v)}function f(b,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=A6(""+v,b.mode,w),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case eT:return w=Mj(v.type,v.key,v.props,null,b.mode,w),w.ref=AC(b,null,v),w.return=b,w;case xv:return v=j6(v,b.mode,w),v.return=b,v;case Bp:var C=v._init;return f(b,C(v._payload),w)}if(Ck(v)||kC(v))return v=$1(v,b.mode,w,null),v.return=b,v;dT(b,v)}return null}function h(b,v,w,C){var k=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:s(b,v,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case eT:return w.key===k?l(b,v,w,C):null;case xv:return w.key===k?u(b,v,w,C):null;case Bp:return k=w._init,h(b,v,k(w._payload),C)}if(Ck(w)||kC(w))return k!==null?null:d(b,v,w,C,null);dT(b,w)}return null}function m(b,v,w,C,k){if(typeof C=="string"&&C!==""||typeof C=="number")return b=b.get(w)||null,s(v,b,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case eT:return b=b.get(C.key===null?w:C.key)||null,l(v,b,C,k);case xv:return b=b.get(C.key===null?w:C.key)||null,u(v,b,C,k);case Bp:var S=C._init;return m(b,v,w,S(C._payload),k)}if(Ck(C)||kC(C))return b=b.get(w)||null,d(v,b,C,k,null);dT(v,C)}return null}function g(b,v,w,C){for(var k=null,S=null,E=v,_=v=0,T=null;E!==null&&_<w.length;_++){E.index>_?(T=E,E=null):T=E.sibling;var A=h(b,E,w[_],C);if(A===null){E===null&&(E=T);break}e&&E&&A.alternate===null&&t(b,E),v=o(A,v,_),S===null?k=A:S.sibling=A,S=A,E=T}if(_===w.length)return n(b,E),Ai&&Kg(b,_),k;if(E===null){for(;_<w.length;_++)E=f(b,w[_],C),E!==null&&(v=o(E,v,_),S===null?k=E:S.sibling=E,S=E);return Ai&&Kg(b,_),k}for(E=r(b,E);_<w.length;_++)T=m(E,b,_,w[_],C),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?_:T.key),v=o(T,v,_),S===null?k=T:S.sibling=T,S=T);return e&&E.forEach(function(I){return t(b,I)}),Ai&&Kg(b,_),k}function y(b,v,w,C){var k=kC(w);if(typeof k!="function")throw Error(ze(150));if(w=k.call(w),w==null)throw Error(ze(151));for(var S=k=null,E=v,_=v=0,T=null,A=w.next();E!==null&&!A.done;_++,A=w.next()){E.index>_?(T=E,E=null):T=E.sibling;var I=h(b,E,A.value,C);if(I===null){E===null&&(E=T);break}e&&E&&I.alternate===null&&t(b,E),v=o(I,v,_),S===null?k=I:S.sibling=I,S=I,E=T}if(A.done)return n(b,E),Ai&&Kg(b,_),k;if(E===null){for(;!A.done;_++,A=w.next())A=f(b,A.value,C),A!==null&&(v=o(A,v,_),S===null?k=A:S.sibling=A,S=A);return Ai&&Kg(b,_),k}for(E=r(b,E);!A.done;_++,A=w.next())A=m(E,b,_,A.value,C),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?_:A.key),v=o(A,v,_),S===null?k=A:S.sibling=A,S=A);return e&&E.forEach(function(j){return t(b,j)}),Ai&&Kg(b,_),k}function x(b,v,w,C){if(typeof w=="object"&&w!==null&&w.type===wv&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case eT:e:{for(var k=w.key,S=v;S!==null;){if(S.key===k){if(k=w.type,k===wv){if(S.tag===7){n(b,S.sibling),v=i(S,w.props.children),v.return=b,b=v;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Bp&&Yne(k)===S.type){n(b,S.sibling),v=i(S,w.props),v.ref=AC(b,S,w),v.return=b,b=v;break e}n(b,S);break}else t(b,S);S=S.sibling}w.type===wv?(v=$1(w.props.children,b.mode,C,w.key),v.return=b,b=v):(C=Mj(w.type,w.key,w.props,null,b.mode,C),C.ref=AC(b,v,w),C.return=b,b=C)}return a(b);case xv:e:{for(S=w.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(b,v.sibling),v=i(v,w.children||[]),v.return=b,b=v;break e}else{n(b,v);break}else t(b,v);v=v.sibling}v=j6(w,b.mode,C),v.return=b,b=v}return a(b);case Bp:return S=w._init,x(b,v,S(w._payload),C)}if(Ck(w))return g(b,v,w,C);if(kC(w))return y(b,v,w,C);dT(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(b,v.sibling),v=i(v,w),v.return=b,b=v):(n(b,v),v=A6(w,b.mode,C),v.return=b,b=v),a(b)):n(b,v)}return x}var Gb=Rke(!0),Fke=Rke(!1),f3=sg(null),h3=null,jv=null,xW=null;function wW(){xW=jv=h3=null}function CW(e){var t=f3.current;pi(f3),e._currentValue=t}function V7(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function sb(e,t){h3=e,xW=jv=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qs=!0),e.firstContext=null)}function Oc(e){var t=e._currentValue;if(xW!==e)if(e={context:e,memoizedValue:t,next:null},jv===null){if(h3===null)throw Error(ze(308));jv=e,h3.dependencies={lanes:0,firstContext:e}}else jv=jv.next=e;return t}var m1=null;function kW(e){m1===null?m1=[e]:m1.push(e)}function Lke(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,kW(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ah(e,r)}function Ah(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vp=!1;function SW(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nke(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function uh(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jm(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Zn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ah(e,n)}return i=r.interleaved,i===null?(t.next=t,kW(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ah(e,n)}function Aj(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,cW(e,n)}}function qne(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function p3(e,t,n,r){var i=e.updateQueue;Vp=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==a&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,d=u=l=null,s=o;do{var h=s.lane,m=s.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,y=s;switch(h=t,m=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=Wi({},f,h);break e;case 2:Vp=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);oy|=a,e.lanes=a,e.memoizedState=f}}function Zne(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ze(191,i));i.call(r)}}}var K5={},Ld=sg(K5),d2=sg(K5),f2=sg(K5);function g1(e){if(e===K5)throw Error(ze(174));return e}function EW(e,t){switch(Xr(f2,t),Xr(d2,e),Xr(Ld,K5),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:w7(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=w7(t,e)}pi(Ld),Xr(Ld,t)}function Kb(){pi(Ld),pi(d2),pi(f2)}function Bke(e){g1(f2.current);var t=g1(Ld.current),n=w7(t,e.type);t!==n&&(Xr(d2,e),Xr(Ld,n))}function _W(e){d2.current===e&&(pi(Ld),pi(d2))}var Fi=sg(0);function m3(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var C6=[];function TW(){for(var e=0;e<C6.length;e++)C6[e]._workInProgressVersionPrimary=null;C6.length=0}var jj=np.ReactCurrentDispatcher,k6=np.ReactCurrentBatchConfig,iy=0,Hi=null,Uo=null,ia=null,g3=!1,iS=!1,h2=0,oZe=0;function Oa(){throw Error(ze(321))}function AW(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mu(e[n],t[n]))return!1;return!0}function jW(e,t,n,r,i,o){if(iy=o,Hi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,jj.current=e===null||e.memoizedState===null?cZe:uZe,e=n(r,i),iS){o=0;do{if(iS=!1,h2=0,25<=o)throw Error(ze(301));o+=1,ia=Uo=null,t.updateQueue=null,jj.current=dZe,e=n(r,i)}while(iS)}if(jj.current=y3,t=Uo!==null&&Uo.next!==null,iy=0,ia=Uo=Hi=null,g3=!1,t)throw Error(ze(300));return e}function IW(){var e=h2!==0;return h2=0,e}function dd(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ia===null?Hi.memoizedState=ia=e:ia=ia.next=e,ia}function Mc(){if(Uo===null){var e=Hi.alternate;e=e!==null?e.memoizedState:null}else e=Uo.next;var t=ia===null?Hi.memoizedState:ia.next;if(t!==null)ia=t,Uo=e;else{if(e===null)throw Error(ze(310));Uo=e,e={memoizedState:Uo.memoizedState,baseState:Uo.baseState,baseQueue:Uo.baseQueue,queue:Uo.queue,next:null},ia===null?Hi.memoizedState=ia=e:ia=ia.next=e}return ia}function p2(e,t){return typeof t=="function"?t(e):t}function S6(e){var t=Mc(),n=t.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=e;var r=Uo,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var d=u.lane;if((iy&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,Hi.lanes|=d,oy|=d}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,Mu(r,t.memoizedState)||(Qs=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Hi.lanes|=o,oy|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function E6(e){var t=Mc(),n=t.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Mu(o,t.memoizedState)||(Qs=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Vke(){}function zke(e,t){var n=Hi,r=Mc(),i=t(),o=!Mu(r.memoizedState,i);if(o&&(r.memoizedState=i,Qs=!0),r=r.queue,$W(Wke.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ia!==null&&ia.memoizedState.tag&1){if(n.flags|=2048,m2(9,Hke.bind(null,n,r,i,t),void 0,null),la===null)throw Error(ze(349));iy&30||Uke(n,t,i)}return i}function Uke(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Hi.updateQueue,t===null?(t={lastEffect:null,stores:null},Hi.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Hke(e,t,n,r){t.value=n,t.getSnapshot=r,Gke(t)&&Kke(e)}function Wke(e,t,n){return n(function(){Gke(t)&&Kke(e)})}function Gke(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Mu(e,n)}catch{return!0}}function Kke(e){var t=Ah(e,1);t!==null&&Eu(t,e,1,-1)}function Xne(e){var t=dd();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p2,lastRenderedState:e},t.queue=e,e=e.dispatch=lZe.bind(null,Hi,e),[t.memoizedState,e]}function m2(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Hi.updateQueue,t===null?(t={lastEffect:null,stores:null},Hi.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Yke(){return Mc().memoizedState}function Ij(e,t,n,r){var i=dd();Hi.flags|=e,i.memoizedState=m2(1|t,n,void 0,r===void 0?null:r)}function PO(e,t,n,r){var i=Mc();r=r===void 0?null:r;var o=void 0;if(Uo!==null){var a=Uo.memoizedState;if(o=a.destroy,r!==null&&AW(r,a.deps)){i.memoizedState=m2(t,n,o,r);return}}Hi.flags|=e,i.memoizedState=m2(1|t,n,o,r)}function Jne(e,t){return Ij(8390656,8,e,t)}function $W(e,t){return PO(2048,8,e,t)}function qke(e,t){return PO(4,2,e,t)}function Zke(e,t){return PO(4,4,e,t)}function Xke(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jke(e,t,n){return n=n!=null?n.concat([e]):null,PO(4,4,Xke.bind(null,t,e),n)}function DW(){}function Qke(e,t){var n=Mc();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&AW(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function eSe(e,t){var n=Mc();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&AW(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function tSe(e,t,n){return iy&21?(Mu(n,t)||(n=ake(),Hi.lanes|=n,oy|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qs=!0),e.memoizedState=n)}function aZe(e,t){var n=br;br=n!==0&&4>n?n:4,e(!0);var r=k6.transition;k6.transition={};try{e(!1),t()}finally{br=n,k6.transition=r}}function nSe(){return Mc().memoizedState}function sZe(e,t,n){var r=$m(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rSe(e))iSe(t,n);else if(n=Lke(e,t,n,r),n!==null){var i=vs();Eu(n,e,r,i),oSe(n,t,r)}}function lZe(e,t,n){var r=$m(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rSe(e))iSe(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Mu(s,a)){var l=t.interleaved;l===null?(i.next=i,kW(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Lke(e,t,i,r),n!==null&&(i=vs(),Eu(n,e,r,i),oSe(n,t,r))}}function rSe(e){var t=e.alternate;return e===Hi||t!==null&&t===Hi}function iSe(e,t){iS=g3=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oSe(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,cW(e,n)}}var y3={readContext:Oc,useCallback:Oa,useContext:Oa,useEffect:Oa,useImperativeHandle:Oa,useInsertionEffect:Oa,useLayoutEffect:Oa,useMemo:Oa,useReducer:Oa,useRef:Oa,useState:Oa,useDebugValue:Oa,useDeferredValue:Oa,useTransition:Oa,useMutableSource:Oa,useSyncExternalStore:Oa,useId:Oa,unstable_isNewReconciler:!1},cZe={readContext:Oc,useCallback:function(e,t){return dd().memoizedState=[e,t===void 0?null:t],e},useContext:Oc,useEffect:Jne,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ij(4194308,4,Xke.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ij(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ij(4,2,e,t)},useMemo:function(e,t){var n=dd();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=dd();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=sZe.bind(null,Hi,e),[r.memoizedState,e]},useRef:function(e){var t=dd();return e={current:e},t.memoizedState=e},useState:Xne,useDebugValue:DW,useDeferredValue:function(e){return dd().memoizedState=e},useTransition:function(){var e=Xne(!1),t=e[0];return e=aZe.bind(null,e[1]),dd().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Hi,i=dd();if(Ai){if(n===void 0)throw Error(ze(407));n=n()}else{if(n=t(),la===null)throw Error(ze(349));iy&30||Uke(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Jne(Wke.bind(null,r,o,e),[e]),r.flags|=2048,m2(9,Hke.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=dd(),t=la.identifierPrefix;if(Ai){var n=eh,r=Qf;n=(r&~(1<<32-Su(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=h2++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=oZe++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},uZe={readContext:Oc,useCallback:Qke,useContext:Oc,useEffect:$W,useImperativeHandle:Jke,useInsertionEffect:qke,useLayoutEffect:Zke,useMemo:eSe,useReducer:S6,useRef:Yke,useState:function(){return S6(p2)},useDebugValue:DW,useDeferredValue:function(e){var t=Mc();return tSe(t,Uo.memoizedState,e)},useTransition:function(){var e=S6(p2)[0],t=Mc().memoizedState;return[e,t]},useMutableSource:Vke,useSyncExternalStore:zke,useId:nSe,unstable_isNewReconciler:!1},dZe={readContext:Oc,useCallback:Qke,useContext:Oc,useEffect:$W,useImperativeHandle:Jke,useInsertionEffect:qke,useLayoutEffect:Zke,useMemo:eSe,useReducer:E6,useRef:Yke,useState:function(){return E6(p2)},useDebugValue:DW,useDeferredValue:function(e){var t=Mc();return Uo===null?t.memoizedState=e:tSe(t,Uo.memoizedState,e)},useTransition:function(){var e=E6(p2)[0],t=Mc().memoizedState;return[e,t]},useMutableSource:Vke,useSyncExternalStore:zke,useId:nSe,unstable_isNewReconciler:!1};function cu(e,t){if(e&&e.defaultProps){t=Wi({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function z7(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Wi({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var RO={isMounted:function(e){return(e=e._reactInternals)?By(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=vs(),i=$m(e),o=uh(r,i);o.payload=t,n!=null&&(o.callback=n),t=jm(e,o,i),t!==null&&(Eu(t,e,i,r),Aj(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=vs(),i=$m(e),o=uh(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=jm(e,o,i),t!==null&&(Eu(t,e,i,r),Aj(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=vs(),r=$m(e),i=uh(n,r);i.tag=2,t!=null&&(i.callback=t),t=jm(e,i,r),t!==null&&(Eu(t,e,r,n),Aj(t,e,r))}};function Qne(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!s2(n,r)||!s2(i,o):!0}function aSe(e,t,n){var r=!1,i=Vm,o=t.contextType;return typeof o=="object"&&o!==null?o=Oc(o):(i=tl(t)?ny:Qa.current,r=t.contextTypes,o=(r=r!=null)?Hb(e,i):Vm),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=RO,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ere(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&RO.enqueueReplaceState(t,t.state,null)}function U7(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},SW(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Oc(o):(o=tl(t)?ny:Qa.current,i.context=Hb(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(z7(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&RO.enqueueReplaceState(i,i.state,null),p3(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Yb(e,t){try{var n="",r=t;do n+=NYe(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function _6(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function H7(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fZe=typeof WeakMap=="function"?WeakMap:Map;function sSe(e,t,n){n=uh(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){b3||(b3=!0,eN=r),H7(e,t)},n}function lSe(e,t,n){n=uh(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){H7(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){H7(e,t),typeof r!="function"&&(Im===null?Im=new Set([this]):Im.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function tre(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new fZe;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_Ze.bind(null,e,t,n),t.then(e,e))}function nre(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rre(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=uh(-1,1),t.tag=2,jm(n,t,1))),n.lanes|=1),e)}var hZe=np.ReactCurrentOwner,Qs=!1;function us(e,t,n,r){t.child=e===null?Fke(t,null,n,r):Gb(t,e.child,n,r)}function ire(e,t,n,r,i){n=n.render;var o=t.ref;return sb(t,i),r=jW(e,t,n,r,o,i),n=IW(),e!==null&&!Qs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,jh(e,t,i)):(Ai&&n&&yW(t),t.flags|=1,us(e,t,r,i),t.child)}function ore(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!BW(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,cSe(e,t,o,r,i)):(e=Mj(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:s2,n(a,r)&&e.ref===t.ref)return jh(e,t,i)}return t.flags|=1,e=Dm(o,r),e.ref=t.ref,e.return=t,t.child=e}function cSe(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(s2(o,r)&&e.ref===t.ref)if(Qs=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Qs=!0);else return t.lanes=e.lanes,jh(e,t,i)}return W7(e,t,n,r,i)}function uSe(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xr($v,gl),gl|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xr($v,gl),gl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Xr($v,gl),gl|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Xr($v,gl),gl|=r;return us(e,t,i,n),t.child}function dSe(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function W7(e,t,n,r,i){var o=tl(n)?ny:Qa.current;return o=Hb(t,o),sb(t,i),n=jW(e,t,n,r,o,i),r=IW(),e!==null&&!Qs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,jh(e,t,i)):(Ai&&r&&yW(t),t.flags|=1,us(e,t,n,i),t.child)}function are(e,t,n,r,i){if(tl(n)){var o=!0;c3(t)}else o=!1;if(sb(t,i),t.stateNode===null)$j(e,t),aSe(t,n,r),U7(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Oc(u):(u=tl(n)?ny:Qa.current,u=Hb(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&ere(t,a,r,u),Vp=!1;var h=t.memoizedState;a.state=h,p3(t,r,a,i),l=t.memoizedState,s!==r||h!==l||el.current||Vp?(typeof d=="function"&&(z7(t,n,d,r),l=t.memoizedState),(s=Vp||Qne(t,n,s,r,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Nke(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:cu(t.type,s),a.props=u,f=t.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Oc(l):(l=tl(n)?ny:Qa.current,l=Hb(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==l)&&ere(t,a,r,l),Vp=!1,h=t.memoizedState,a.state=h,p3(t,r,a,i);var g=t.memoizedState;s!==f||h!==g||el.current||Vp?(typeof m=="function"&&(z7(t,n,m,r),g=t.memoizedState),(u=Vp||Qne(t,n,u,r,h,g,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return G7(e,t,n,r,o,i)}function G7(e,t,n,r,i,o){dSe(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Wne(t,n,!1),jh(e,t,o);r=t.stateNode,hZe.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Gb(t,e.child,null,o),t.child=Gb(t,null,s,o)):us(e,t,s,o),t.memoizedState=r.state,i&&Wne(t,n,!0),t.child}function fSe(e){var t=e.stateNode;t.pendingContext?Hne(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Hne(e,t.context,!1),EW(e,t.containerInfo)}function sre(e,t,n,r,i){return Wb(),bW(i),t.flags|=256,us(e,t,n,r),t.child}var K7={dehydrated:null,treeContext:null,retryLane:0};function Y7(e){return{baseLanes:e,cachePool:null,transitions:null}}function hSe(e,t,n){var r=t.pendingProps,i=Fi.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Xr(Fi,i&1),e===null)return B7(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=NO(a,r,0,null),e=$1(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Y7(n),t.memoizedState=K7,e):OW(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return pZe(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Dm(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Dm(s,o):(o=$1(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?Y7(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=K7,r}return o=e.child,e=o.sibling,r=Dm(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function OW(e,t){return t=NO({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fT(e,t,n,r){return r!==null&&bW(r),Gb(t,e.child,null,n),e=OW(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pZe(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=_6(Error(ze(422))),fT(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=NO({mode:"visible",children:r.children},i,0,null),o=$1(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Gb(t,e.child,null,a),t.child.memoizedState=Y7(a),t.memoizedState=K7,o);if(!(t.mode&1))return fT(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(ze(419)),r=_6(o,r,void 0),fT(e,t,a,r)}if(s=(a&e.childLanes)!==0,Qs||s){if(r=la,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ah(e,i),Eu(r,e,i,-1))}return NW(),r=_6(Error(ze(421))),fT(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=TZe.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Sl=Am(i.nextSibling),Al=t,Ai=!0,fu=null,e!==null&&(lc[cc++]=Qf,lc[cc++]=eh,lc[cc++]=ry,Qf=e.id,eh=e.overflow,ry=t),t=OW(t,r.children),t.flags|=4096,t)}function lre(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),V7(e.return,t,n)}function T6(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function pSe(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(us(e,t,r.children,n),r=Fi.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lre(e,n,t);else if(e.tag===19)lre(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Xr(Fi,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&m3(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),T6(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&m3(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}T6(t,!0,n,null,o);break;case"together":T6(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $j(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jh(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),oy|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ze(153));if(t.child!==null){for(e=t.child,n=Dm(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Dm(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mZe(e,t,n){switch(t.tag){case 3:fSe(t),Wb();break;case 5:Bke(t);break;case 1:tl(t.type)&&c3(t);break;case 4:EW(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Xr(f3,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Xr(Fi,Fi.current&1),t.flags|=128,null):n&t.child.childLanes?hSe(e,t,n):(Xr(Fi,Fi.current&1),e=jh(e,t,n),e!==null?e.sibling:null);Xr(Fi,Fi.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return pSe(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xr(Fi,Fi.current),r)break;return null;case 22:case 23:return t.lanes=0,uSe(e,t,n)}return jh(e,t,n)}var mSe,q7,gSe,ySe;mSe=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};q7=function(){};gSe=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,g1(Ld.current);var o=null;switch(n){case"input":i=y7(e,i),r=y7(e,r),o=[];break;case"select":i=Wi({},i,{value:void 0}),r=Wi({},r,{value:void 0}),o=[];break;case"textarea":i=x7(e,i),r=x7(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=s3)}C7(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(e2.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(e2.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&si("scroll",e),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};ySe=function(e,t,n,r){n!==r&&(t.flags|=4)};function jC(e,t){if(!Ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ma(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function gZe(e,t,n){var r=t.pendingProps;switch(vW(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ma(t),null;case 1:return tl(t.type)&&l3(),Ma(t),null;case 3:return r=t.stateNode,Kb(),pi(el),pi(Qa),TW(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(uT(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fu!==null&&(rN(fu),fu=null))),q7(e,t),Ma(t),null;case 5:_W(t);var i=g1(f2.current);if(n=t.type,e!==null&&t.stateNode!=null)gSe(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ze(166));return Ma(t),null}if(e=g1(Ld.current),uT(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Cd]=t,r[u2]=o,e=(t.mode&1)!==0,n){case"dialog":si("cancel",r),si("close",r);break;case"iframe":case"object":case"embed":si("load",r);break;case"video":case"audio":for(i=0;i<Sk.length;i++)si(Sk[i],r);break;case"source":si("error",r);break;case"img":case"image":case"link":si("error",r),si("load",r);break;case"details":si("toggle",r);break;case"input":yne(r,o),si("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},si("invalid",r);break;case"textarea":bne(r,o),si("invalid",r)}C7(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&cT(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&cT(r.textContent,s,e),i=["children",""+s]):e2.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&si("scroll",r)}switch(n){case"input":tT(r),vne(r,o,!0);break;case"textarea":tT(r),xne(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=s3)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=WCe(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Cd]=t,e[u2]=r,mSe(e,t,!1,!1),t.stateNode=e;e:{switch(a=k7(n,r),n){case"dialog":si("cancel",e),si("close",e),i=r;break;case"iframe":case"object":case"embed":si("load",e),i=r;break;case"video":case"audio":for(i=0;i<Sk.length;i++)si(Sk[i],e);i=r;break;case"source":si("error",e),i=r;break;case"img":case"image":case"link":si("error",e),si("load",e),i=r;break;case"details":si("toggle",e),i=r;break;case"input":yne(e,r),i=y7(e,r),si("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Wi({},r,{value:void 0}),si("invalid",e);break;case"textarea":bne(e,r),i=x7(e,r),si("invalid",e);break;default:i=r}C7(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?YCe(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&GCe(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&t2(e,l):typeof l=="number"&&t2(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(e2.hasOwnProperty(o)?l!=null&&o==="onScroll"&&si("scroll",e):l!=null&&rW(e,o,l,a))}switch(n){case"input":tT(e),vne(e,r,!1);break;case"textarea":tT(e),xne(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Bm(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?rb(e,!!r.multiple,o,!1):r.defaultValue!=null&&rb(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=s3)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ma(t),null;case 6:if(e&&t.stateNode!=null)ySe(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ze(166));if(n=g1(f2.current),g1(Ld.current),uT(t)){if(r=t.stateNode,n=t.memoizedProps,r[Cd]=t,(o=r.nodeValue!==n)&&(e=Al,e!==null))switch(e.tag){case 3:cT(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cT(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cd]=t,t.stateNode=r}return Ma(t),null;case 13:if(pi(Fi),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ai&&Sl!==null&&t.mode&1&&!(t.flags&128))Pke(),Wb(),t.flags|=98560,o=!1;else if(o=uT(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(ze(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ze(317));o[Cd]=t}else Wb(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ma(t),o=!1}else fu!==null&&(rN(fu),fu=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Fi.current&1?qo===0&&(qo=3):NW())),t.updateQueue!==null&&(t.flags|=4),Ma(t),null);case 4:return Kb(),q7(e,t),e===null&&l2(t.stateNode.containerInfo),Ma(t),null;case 10:return CW(t.type._context),Ma(t),null;case 17:return tl(t.type)&&l3(),Ma(t),null;case 19:if(pi(Fi),o=t.memoizedState,o===null)return Ma(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)jC(o,!1);else{if(qo!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=m3(e),a!==null){for(t.flags|=128,jC(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Xr(Fi,Fi.current&1|2),t.child}e=e.sibling}o.tail!==null&&uo()>qb&&(t.flags|=128,r=!0,jC(o,!1),t.lanes=4194304)}else{if(!r)if(e=m3(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),jC(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ai)return Ma(t),null}else 2*uo()-o.renderingStartTime>qb&&n!==1073741824&&(t.flags|=128,r=!0,jC(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=uo(),t.sibling=null,n=Fi.current,Xr(Fi,r?n&1|2:n&1),t):(Ma(t),null);case 22:case 23:return LW(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?gl&1073741824&&(Ma(t),t.subtreeFlags&6&&(t.flags|=8192)):Ma(t),null;case 24:return null;case 25:return null}throw Error(ze(156,t.tag))}function yZe(e,t){switch(vW(t),t.tag){case 1:return tl(t.type)&&l3(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Kb(),pi(el),pi(Qa),TW(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _W(t),null;case 13:if(pi(Fi),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ze(340));Wb()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pi(Fi),null;case 4:return Kb(),null;case 10:return CW(t.type._context),null;case 22:case 23:return LW(),null;case 24:return null;default:return null}}var hT=!1,Ha=!1,vZe=typeof WeakSet=="function"?WeakSet:Set,ht=null;function Iv(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Yi(e,t,r)}else n.current=null}function Z7(e,t,n){try{n()}catch(r){Yi(e,t,r)}}var cre=!1;function bZe(e,t){if(O7=i3,e=Cke(),gW(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===i&&(s=a),h===o&&++d===r&&(l=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(M7={focusedElem:e,selectionRange:n},i3=!1,ht=t;ht!==null;)if(t=ht,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ht=e;else for(;ht!==null;){t=ht;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,x=g.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?y:cu(t.type,y),x);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ze(163))}}catch(C){Yi(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,ht=e;break}ht=t.return}return g=cre,cre=!1,g}function oS(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Z7(t,n,o)}i=i.next}while(i!==r)}}function FO(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function X7(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function vSe(e){var t=e.alternate;t!==null&&(e.alternate=null,vSe(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Cd],delete t[u2],delete t[F7],delete t[tZe],delete t[nZe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bSe(e){return e.tag===5||e.tag===3||e.tag===4}function ure(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bSe(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function J7(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=s3));else if(r!==4&&(e=e.child,e!==null))for(J7(e,t,n),e=e.sibling;e!==null;)J7(e,t,n),e=e.sibling}function Q7(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Q7(e,t,n),e=e.sibling;e!==null;)Q7(e,t,n),e=e.sibling}var ha=null,du=!1;function Sp(e,t,n){for(n=n.child;n!==null;)xSe(e,t,n),n=n.sibling}function xSe(e,t,n){if(Fd&&typeof Fd.onCommitFiberUnmount=="function")try{Fd.onCommitFiberUnmount(jO,n)}catch{}switch(n.tag){case 5:Ha||Iv(n,t);case 6:var r=ha,i=du;ha=null,Sp(e,t,n),ha=r,du=i,ha!==null&&(du?(e=ha,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ha.removeChild(n.stateNode));break;case 18:ha!==null&&(du?(e=ha,n=n.stateNode,e.nodeType===8?x6(e.parentNode,n):e.nodeType===1&&x6(e,n),o2(e)):x6(ha,n.stateNode));break;case 4:r=ha,i=du,ha=n.stateNode.containerInfo,du=!0,Sp(e,t,n),ha=r,du=i;break;case 0:case 11:case 14:case 15:if(!Ha&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Z7(n,t,a),i=i.next}while(i!==r)}Sp(e,t,n);break;case 1:if(!Ha&&(Iv(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Yi(n,t,s)}Sp(e,t,n);break;case 21:Sp(e,t,n);break;case 22:n.mode&1?(Ha=(r=Ha)||n.memoizedState!==null,Sp(e,t,n),Ha=r):Sp(e,t,n);break;default:Sp(e,t,n)}}function dre(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new vZe),t.forEach(function(r){var i=AZe.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function nu(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:ha=s.stateNode,du=!1;break e;case 3:ha=s.stateNode.containerInfo,du=!0;break e;case 4:ha=s.stateNode.containerInfo,du=!0;break e}s=s.return}if(ha===null)throw Error(ze(160));xSe(o,a,i),ha=null,du=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Yi(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wSe(t,e),t=t.sibling}function wSe(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nu(t,e),td(e),r&4){try{oS(3,e,e.return),FO(3,e)}catch(y){Yi(e,e.return,y)}try{oS(5,e,e.return)}catch(y){Yi(e,e.return,y)}}break;case 1:nu(t,e),td(e),r&512&&n!==null&&Iv(n,n.return);break;case 5:if(nu(t,e),td(e),r&512&&n!==null&&Iv(n,n.return),e.flags&32){var i=e.stateNode;try{t2(i,"")}catch(y){Yi(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&UCe(i,o),k7(s,a);var u=k7(s,o);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?YCe(i,f):d==="dangerouslySetInnerHTML"?GCe(i,f):d==="children"?t2(i,f):rW(i,d,f,u)}switch(s){case"input":v7(i,o);break;case"textarea":HCe(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?rb(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?rb(i,!!o.multiple,o.defaultValue,!0):rb(i,!!o.multiple,o.multiple?[]:"",!1))}i[u2]=o}catch(y){Yi(e,e.return,y)}}break;case 6:if(nu(t,e),td(e),r&4){if(e.stateNode===null)throw Error(ze(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Yi(e,e.return,y)}}break;case 3:if(nu(t,e),td(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{o2(t.containerInfo)}catch(y){Yi(e,e.return,y)}break;case 4:nu(t,e),td(e);break;case 13:nu(t,e),td(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(RW=uo())),r&4&&dre(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ha=(u=Ha)||d,nu(t,e),Ha=u):nu(t,e),td(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ht=e,d=e.child;d!==null;){for(f=ht=d;ht!==null;){switch(h=ht,m=h.child,h.tag){case 0:case 11:case 14:case 15:oS(4,h,h.return);break;case 1:Iv(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){Yi(r,n,y)}}break;case 5:Iv(h,h.return);break;case 22:if(h.memoizedState!==null){hre(f);continue}}m!==null?(m.return=h,ht=m):hre(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=KCe("display",a))}catch(y){Yi(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Yi(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:nu(t,e),td(e),r&4&&dre(e);break;case 21:break;default:nu(t,e),td(e)}}function td(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(bSe(n)){var r=n;break e}n=n.return}throw Error(ze(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(t2(i,""),r.flags&=-33);var o=ure(e);Q7(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=ure(e);J7(e,s,a);break;default:throw Error(ze(161))}}catch(l){Yi(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xZe(e,t,n){ht=e,CSe(e)}function CSe(e,t,n){for(var r=(e.mode&1)!==0;ht!==null;){var i=ht,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||hT;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Ha;s=hT;var u=Ha;if(hT=a,(Ha=l)&&!u)for(ht=i;ht!==null;)a=ht,l=a.child,a.tag===22&&a.memoizedState!==null?pre(i):l!==null?(l.return=a,ht=l):pre(i);for(;o!==null;)ht=o,CSe(o),o=o.sibling;ht=i,hT=s,Ha=u}fre(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ht=o):fre(e)}}function fre(e){for(;ht!==null;){var t=ht;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ha||FO(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ha)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:cu(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Zne(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Zne(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&o2(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ze(163))}Ha||t.flags&512&&X7(t)}catch(h){Yi(t,t.return,h)}}if(t===e){ht=null;break}if(n=t.sibling,n!==null){n.return=t.return,ht=n;break}ht=t.return}}function hre(e){for(;ht!==null;){var t=ht;if(t===e){ht=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ht=n;break}ht=t.return}}function pre(e){for(;ht!==null;){var t=ht;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{FO(4,t)}catch(l){Yi(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Yi(t,i,l)}}var o=t.return;try{X7(t)}catch(l){Yi(t,o,l)}break;case 5:var a=t.return;try{X7(t)}catch(l){Yi(t,a,l)}}}catch(l){Yi(t,t.return,l)}if(t===e){ht=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ht=s;break}ht=t.return}}var wZe=Math.ceil,v3=np.ReactCurrentDispatcher,MW=np.ReactCurrentOwner,_c=np.ReactCurrentBatchConfig,Zn=0,la=null,Ao=null,xa=0,gl=0,$v=sg(0),qo=0,g2=null,oy=0,LO=0,PW=0,aS=null,Zs=null,RW=0,qb=1/0,Rf=null,b3=!1,eN=null,Im=null,pT=!1,lm=null,x3=0,sS=0,tN=null,Dj=-1,Oj=0;function vs(){return Zn&6?uo():Dj!==-1?Dj:Dj=uo()}function $m(e){return e.mode&1?Zn&2&&xa!==0?xa&-xa:iZe.transition!==null?(Oj===0&&(Oj=ake()),Oj):(e=br,e!==0||(e=window.event,e=e===void 0?16:hke(e.type)),e):1}function Eu(e,t,n,r){if(50<sS)throw sS=0,tN=null,Error(ze(185));H5(e,n,r),(!(Zn&2)||e!==la)&&(e===la&&(!(Zn&2)&&(LO|=n),qo===4&&Zp(e,xa)),nl(e,r),n===1&&Zn===0&&!(t.mode&1)&&(qb=uo()+500,MO&&lg()))}function nl(e,t){var n=e.callbackNode;iqe(e,t);var r=r3(e,e===la?xa:0);if(r===0)n!==null&&kne(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&kne(n),t===1)e.tag===0?rZe(mre.bind(null,e)):Dke(mre.bind(null,e)),Qqe(function(){!(Zn&6)&&lg()}),n=null;else{switch(ske(r)){case 1:n=lW;break;case 4:n=ike;break;case 16:n=n3;break;case 536870912:n=oke;break;default:n=n3}n=ISe(n,kSe.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function kSe(e,t){if(Dj=-1,Oj=0,Zn&6)throw Error(ze(327));var n=e.callbackNode;if(lb()&&e.callbackNode!==n)return null;var r=r3(e,e===la?xa:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=w3(e,r);else{t=r;var i=Zn;Zn|=2;var o=ESe();(la!==e||xa!==t)&&(Rf=null,qb=uo()+500,I1(e,t));do try{SZe();break}catch(s){SSe(e,s)}while(1);wW(),v3.current=o,Zn=i,Ao!==null?t=0:(la=null,xa=0,t=qo)}if(t!==0){if(t===2&&(i=A7(e),i!==0&&(r=i,t=nN(e,i))),t===1)throw n=g2,I1(e,0),Zp(e,r),nl(e,uo()),n;if(t===6)Zp(e,r);else{if(i=e.current.alternate,!(r&30)&&!CZe(i)&&(t=w3(e,r),t===2&&(o=A7(e),o!==0&&(r=o,t=nN(e,o))),t===1))throw n=g2,I1(e,0),Zp(e,r),nl(e,uo()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ze(345));case 2:Yg(e,Zs,Rf);break;case 3:if(Zp(e,r),(r&130023424)===r&&(t=RW+500-uo(),10<t)){if(r3(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){vs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=R7(Yg.bind(null,e,Zs,Rf),t);break}Yg(e,Zs,Rf);break;case 4:if(Zp(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Su(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=uo()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wZe(r/1960))-r,10<r){e.timeoutHandle=R7(Yg.bind(null,e,Zs,Rf),r);break}Yg(e,Zs,Rf);break;case 5:Yg(e,Zs,Rf);break;default:throw Error(ze(329))}}}return nl(e,uo()),e.callbackNode===n?kSe.bind(null,e):null}function nN(e,t){var n=aS;return e.current.memoizedState.isDehydrated&&(I1(e,t).flags|=256),e=w3(e,t),e!==2&&(t=Zs,Zs=n,t!==null&&rN(t)),e}function rN(e){Zs===null?Zs=e:Zs.push.apply(Zs,e)}function CZe(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Mu(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zp(e,t){for(t&=~PW,t&=~LO,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Su(t),r=1<<n;e[n]=-1,t&=~r}}function mre(e){if(Zn&6)throw Error(ze(327));lb();var t=r3(e,0);if(!(t&1))return nl(e,uo()),null;var n=w3(e,t);if(e.tag!==0&&n===2){var r=A7(e);r!==0&&(t=r,n=nN(e,r))}if(n===1)throw n=g2,I1(e,0),Zp(e,t),nl(e,uo()),n;if(n===6)throw Error(ze(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yg(e,Zs,Rf),nl(e,uo()),null}function FW(e,t){var n=Zn;Zn|=1;try{return e(t)}finally{Zn=n,Zn===0&&(qb=uo()+500,MO&&lg())}}function ay(e){lm!==null&&lm.tag===0&&!(Zn&6)&&lb();var t=Zn;Zn|=1;var n=_c.transition,r=br;try{if(_c.transition=null,br=1,e)return e()}finally{br=r,_c.transition=n,Zn=t,!(Zn&6)&&lg()}}function LW(){gl=$v.current,pi($v)}function I1(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Jqe(n)),Ao!==null)for(n=Ao.return;n!==null;){var r=n;switch(vW(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&l3();break;case 3:Kb(),pi(el),pi(Qa),TW();break;case 5:_W(r);break;case 4:Kb();break;case 13:pi(Fi);break;case 19:pi(Fi);break;case 10:CW(r.type._context);break;case 22:case 23:LW()}n=n.return}if(la=e,Ao=e=Dm(e.current,null),xa=gl=t,qo=0,g2=null,PW=LO=oy=0,Zs=aS=null,m1!==null){for(t=0;t<m1.length;t++)if(n=m1[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}m1=null}return e}function SSe(e,t){do{var n=Ao;try{if(wW(),jj.current=y3,g3){for(var r=Hi.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}g3=!1}if(iy=0,ia=Uo=Hi=null,iS=!1,h2=0,MW.current=null,n===null||n.return===null){qo=1,g2=t,Ao=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=xa,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=nre(a);if(m!==null){m.flags&=-257,rre(m,a,s,o,t),m.mode&1&&tre(o,u,t),t=m,l=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(l),t.updateQueue=y}else g.add(l);break e}else{if(!(t&1)){tre(o,u,t),NW();break e}l=Error(ze(426))}}else if(Ai&&s.mode&1){var x=nre(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),rre(x,a,s,o,t),bW(Yb(l,s));break e}}o=l=Yb(l,s),qo!==4&&(qo=2),aS===null?aS=[o]:aS.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var b=sSe(o,l,t);qne(o,b);break e;case 1:s=l;var v=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Im===null||!Im.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var C=lSe(o,s,t);qne(o,C);break e}}o=o.return}while(o!==null)}TSe(n)}catch(k){t=k,Ao===n&&n!==null&&(Ao=n=n.return);continue}break}while(1)}function ESe(){var e=v3.current;return v3.current=y3,e===null?y3:e}function NW(){(qo===0||qo===3||qo===2)&&(qo=4),la===null||!(oy&268435455)&&!(LO&268435455)||Zp(la,xa)}function w3(e,t){var n=Zn;Zn|=2;var r=ESe();(la!==e||xa!==t)&&(Rf=null,I1(e,t));do try{kZe();break}catch(i){SSe(e,i)}while(1);if(wW(),Zn=n,v3.current=r,Ao!==null)throw Error(ze(261));return la=null,xa=0,qo}function kZe(){for(;Ao!==null;)_Se(Ao)}function SZe(){for(;Ao!==null&&!qYe();)_Se(Ao)}function _Se(e){var t=jSe(e.alternate,e,gl);e.memoizedProps=e.pendingProps,t===null?TSe(e):Ao=t,MW.current=null}function TSe(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=yZe(n,t),n!==null){n.flags&=32767,Ao=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qo=6,Ao=null;return}}else if(n=gZe(n,t,gl),n!==null){Ao=n;return}if(t=t.sibling,t!==null){Ao=t;return}Ao=t=e}while(t!==null);qo===0&&(qo=5)}function Yg(e,t,n){var r=br,i=_c.transition;try{_c.transition=null,br=1,EZe(e,t,n,r)}finally{_c.transition=i,br=r}return null}function EZe(e,t,n,r){do lb();while(lm!==null);if(Zn&6)throw Error(ze(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ze(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(oqe(e,o),e===la&&(Ao=la=null,xa=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pT||(pT=!0,ISe(n3,function(){return lb(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=_c.transition,_c.transition=null;var a=br;br=1;var s=Zn;Zn|=4,MW.current=null,bZe(e,n),wSe(n,e),Wqe(M7),i3=!!O7,M7=O7=null,e.current=n,xZe(n),ZYe(),Zn=s,br=a,_c.transition=o}else e.current=n;if(pT&&(pT=!1,lm=e,x3=i),o=e.pendingLanes,o===0&&(Im=null),QYe(n.stateNode),nl(e,uo()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(b3)throw b3=!1,e=eN,eN=null,e;return x3&1&&e.tag!==0&&lb(),o=e.pendingLanes,o&1?e===tN?sS++:(sS=0,tN=e):sS=0,lg(),null}function lb(){if(lm!==null){var e=ske(x3),t=_c.transition,n=br;try{if(_c.transition=null,br=16>e?16:e,lm===null)var r=!1;else{if(e=lm,lm=null,x3=0,Zn&6)throw Error(ze(331));var i=Zn;for(Zn|=4,ht=e.current;ht!==null;){var o=ht,a=o.child;if(ht.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(ht=u;ht!==null;){var d=ht;switch(d.tag){case 0:case 11:case 15:oS(8,d,o)}var f=d.child;if(f!==null)f.return=d,ht=f;else for(;ht!==null;){d=ht;var h=d.sibling,m=d.return;if(vSe(d),d===u){ht=null;break}if(h!==null){h.return=m,ht=h;break}ht=m}}}var g=o.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}ht=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ht=a;else e:for(;ht!==null;){if(o=ht,o.flags&2048)switch(o.tag){case 0:case 11:case 15:oS(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,ht=b;break e}ht=o.return}}var v=e.current;for(ht=v;ht!==null;){a=ht;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,ht=w;else e:for(a=v;ht!==null;){if(s=ht,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:FO(9,s)}}catch(k){Yi(s,s.return,k)}if(s===a){ht=null;break e}var C=s.sibling;if(C!==null){C.return=s.return,ht=C;break e}ht=s.return}}if(Zn=i,lg(),Fd&&typeof Fd.onPostCommitFiberRoot=="function")try{Fd.onPostCommitFiberRoot(jO,e)}catch{}r=!0}return r}finally{br=n,_c.transition=t}}return!1}function gre(e,t,n){t=Yb(n,t),t=sSe(e,t,1),e=jm(e,t,1),t=vs(),e!==null&&(H5(e,1,t),nl(e,t))}function Yi(e,t,n){if(e.tag===3)gre(e,e,n);else for(;t!==null;){if(t.tag===3){gre(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Im===null||!Im.has(r))){e=Yb(n,e),e=lSe(t,e,1),t=jm(t,e,1),e=vs(),t!==null&&(H5(t,1,e),nl(t,e));break}}t=t.return}}function _Ze(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=vs(),e.pingedLanes|=e.suspendedLanes&n,la===e&&(xa&n)===n&&(qo===4||qo===3&&(xa&130023424)===xa&&500>uo()-RW?I1(e,0):PW|=n),nl(e,t)}function ASe(e,t){t===0&&(e.mode&1?(t=iT,iT<<=1,!(iT&130023424)&&(iT=4194304)):t=1);var n=vs();e=Ah(e,t),e!==null&&(H5(e,t,n),nl(e,n))}function TZe(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ASe(e,n)}function AZe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ze(314))}r!==null&&r.delete(t),ASe(e,n)}var jSe;jSe=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||el.current)Qs=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Qs=!1,mZe(e,t,n);Qs=!!(e.flags&131072)}else Qs=!1,Ai&&t.flags&1048576&&Oke(t,d3,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$j(e,t),e=t.pendingProps;var i=Hb(t,Qa.current);sb(t,n),i=jW(null,t,r,e,i,n);var o=IW();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tl(r)?(o=!0,c3(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,SW(t),i.updater=RO,t.stateNode=i,i._reactInternals=t,U7(t,r,e,n),t=G7(null,t,r,!0,o,n)):(t.tag=0,Ai&&o&&yW(t),us(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch($j(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=IZe(r),e=cu(r,e),i){case 0:t=W7(null,t,r,e,n);break e;case 1:t=are(null,t,r,e,n);break e;case 11:t=ire(null,t,r,e,n);break e;case 14:t=ore(null,t,r,cu(r.type,e),n);break e}throw Error(ze(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:cu(r,i),W7(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:cu(r,i),are(e,t,r,i,n);case 3:e:{if(fSe(t),e===null)throw Error(ze(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Nke(e,t),p3(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Yb(Error(ze(423)),t),t=sre(e,t,r,n,i);break e}else if(r!==i){i=Yb(Error(ze(424)),t),t=sre(e,t,r,n,i);break e}else for(Sl=Am(t.stateNode.containerInfo.firstChild),Al=t,Ai=!0,fu=null,n=Fke(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wb(),r===i){t=jh(e,t,n);break e}us(e,t,r,n)}t=t.child}return t;case 5:return Bke(t),e===null&&B7(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,P7(r,i)?a=null:o!==null&&P7(r,o)&&(t.flags|=32),dSe(e,t),us(e,t,a,n),t.child;case 6:return e===null&&B7(t),null;case 13:return hSe(e,t,n);case 4:return EW(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Gb(t,null,r,n):us(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:cu(r,i),ire(e,t,r,i,n);case 7:return us(e,t,t.pendingProps,n),t.child;case 8:return us(e,t,t.pendingProps.children,n),t.child;case 12:return us(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Xr(f3,r._currentValue),r._currentValue=a,o!==null)if(Mu(o.value,a)){if(o.children===i.children&&!el.current){t=jh(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=uh(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),V7(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(ze(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),V7(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}us(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,sb(t,n),i=Oc(i),r=r(i),t.flags|=1,us(e,t,r,n),t.child;case 14:return r=t.type,i=cu(r,t.pendingProps),i=cu(r.type,i),ore(e,t,r,i,n);case 15:return cSe(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:cu(r,i),$j(e,t),t.tag=1,tl(r)?(e=!0,c3(t)):e=!1,sb(t,n),aSe(t,r,i),U7(t,r,i,n),G7(null,t,r,!0,e,n);case 19:return pSe(e,t,n);case 22:return uSe(e,t,n)}throw Error(ze(156,t.tag))};function ISe(e,t){return rke(e,t)}function jZe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yc(e,t,n,r){return new jZe(e,t,n,r)}function BW(e){return e=e.prototype,!(!e||!e.isReactComponent)}function IZe(e){if(typeof e=="function")return BW(e)?1:0;if(e!=null){if(e=e.$$typeof,e===oW)return 11;if(e===aW)return 14}return 2}function Dm(e,t){var n=e.alternate;return n===null?(n=yc(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mj(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")BW(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case wv:return $1(n.children,i,o,t);case iW:a=8,i|=8;break;case h7:return e=yc(12,n,t,i|2),e.elementType=h7,e.lanes=o,e;case p7:return e=yc(13,n,t,i),e.elementType=p7,e.lanes=o,e;case m7:return e=yc(19,n,t,i),e.elementType=m7,e.lanes=o,e;case BCe:return NO(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case LCe:a=10;break e;case NCe:a=9;break e;case oW:a=11;break e;case aW:a=14;break e;case Bp:a=16,r=null;break e}throw Error(ze(130,e==null?e:typeof e,""))}return t=yc(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function $1(e,t,n,r){return e=yc(7,e,r,t),e.lanes=n,e}function NO(e,t,n,r){return e=yc(22,e,r,t),e.elementType=BCe,e.lanes=n,e.stateNode={isHidden:!1},e}function A6(e,t,n){return e=yc(6,e,null,t),e.lanes=n,e}function j6(e,t,n){return t=yc(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $Ze(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=c6(0),this.expirationTimes=c6(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=c6(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function VW(e,t,n,r,i,o,a,s,l){return e=new $Ze(e,t,n,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=yc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},SW(o),e}function DZe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xv,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function $Se(e){if(!e)return Vm;e=e._reactInternals;e:{if(By(e)!==e||e.tag!==1)throw Error(ze(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tl(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ze(171))}if(e.tag===1){var n=e.type;if(tl(n))return $ke(e,n,t)}return t}function DSe(e,t,n,r,i,o,a,s,l){return e=VW(n,r,!0,e,i,o,a,s,l),e.context=$Se(null),n=e.current,r=vs(),i=$m(n),o=uh(r,i),o.callback=t??null,jm(n,o,i),e.current.lanes=i,H5(e,i,r),nl(e,r),e}function BO(e,t,n,r){var i=t.current,o=vs(),a=$m(i);return n=$Se(n),t.context===null?t.context=n:t.pendingContext=n,t=uh(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=jm(i,t,a),e!==null&&(Eu(e,i,a,o),Aj(e,i,a)),a}function C3(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yre(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function zW(e,t){yre(e,t),(e=e.alternate)&&yre(e,t)}function OZe(){return null}var OSe=typeof reportError=="function"?reportError:function(e){console.error(e)};function UW(e){this._internalRoot=e}VO.prototype.render=UW.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ze(409));BO(e,t,null,null)};VO.prototype.unmount=UW.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ay(function(){BO(null,e,null,null)}),t[Th]=null}};function VO(e){this._internalRoot=e}VO.prototype.unstable_scheduleHydration=function(e){if(e){var t=uke();e={blockedOn:null,target:e,priority:t};for(var n=0;n<qp.length&&t!==0&&t<qp[n].priority;n++);qp.splice(n,0,e),n===0&&fke(e)}};function HW(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zO(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vre(){}function MZe(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=C3(a);o.call(u)}}var a=DSe(t,r,e,0,null,!1,!1,"",vre);return e._reactRootContainer=a,e[Th]=a.current,l2(e.nodeType===8?e.parentNode:e),ay(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=C3(l);s.call(u)}}var l=VW(e,0,!1,null,null,!1,!1,"",vre);return e._reactRootContainer=l,e[Th]=l.current,l2(e.nodeType===8?e.parentNode:e),ay(function(){BO(t,l,n,r)}),l}function UO(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=C3(a);s.call(l)}}BO(t,a,e,i)}else a=MZe(n,t,e,i,r);return C3(a)}lke=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=kk(t.pendingLanes);n!==0&&(cW(t,n|1),nl(t,uo()),!(Zn&6)&&(qb=uo()+500,lg()))}break;case 13:ay(function(){var r=Ah(e,1);if(r!==null){var i=vs();Eu(r,e,1,i)}}),zW(e,1)}};uW=function(e){if(e.tag===13){var t=Ah(e,134217728);if(t!==null){var n=vs();Eu(t,e,134217728,n)}zW(e,134217728)}};cke=function(e){if(e.tag===13){var t=$m(e),n=Ah(e,t);if(n!==null){var r=vs();Eu(n,e,t,r)}zW(e,t)}};uke=function(){return br};dke=function(e,t){var n=br;try{return br=e,t()}finally{br=n}};E7=function(e,t,n){switch(t){case"input":if(v7(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=OO(r);if(!i)throw Error(ze(90));zCe(r),v7(r,i)}}}break;case"textarea":HCe(e,n);break;case"select":t=n.value,t!=null&&rb(e,!!n.multiple,t,!1)}};XCe=FW;JCe=ay;var PZe={usingClientEntryPoint:!1,Events:[G5,Ev,OO,qCe,ZCe,FW]},IC={findFiberByHostInstance:p1,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RZe={bundleType:IC.bundleType,version:IC.version,rendererPackageName:IC.rendererPackageName,rendererConfig:IC.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:np.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tke(e),e===null?null:e.stateNode},findFiberByHostInstance:IC.findFiberByHostInstance||OZe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mT=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mT.isDisabled&&mT.supportsFiber)try{jO=mT.inject(RZe),Fd=mT}catch{}}Wl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PZe;Wl.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!HW(t))throw Error(ze(200));return DZe(e,t,null,n)};Wl.createRoot=function(e,t){if(!HW(e))throw Error(ze(299));var n=!1,r="",i=OSe;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=VW(e,1,!1,null,null,n,!1,r,i),e[Th]=t.current,l2(e.nodeType===8?e.parentNode:e),new UW(t)};Wl.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ze(188)):(e=Object.keys(e).join(","),Error(ze(268,e)));return e=tke(t),e=e===null?null:e.stateNode,e};Wl.flushSync=function(e){return ay(e)};Wl.hydrate=function(e,t,n){if(!zO(t))throw Error(ze(200));return UO(null,e,t,!0,n)};Wl.hydrateRoot=function(e,t,n){if(!HW(e))throw Error(ze(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=OSe;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=DSe(t,null,e,1,n??null,i,!1,o,a),e[Th]=t.current,l2(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new VO(t)};Wl.render=function(e,t,n){if(!zO(t))throw Error(ze(200));return UO(null,e,t,!1,n)};Wl.unmountComponentAtNode=function(e){if(!zO(e))throw Error(ze(40));return e._reactRootContainer?(ay(function(){UO(null,null,e,!1,function(){e._reactRootContainer=null,e[Th]=null})}),!0):!1};Wl.unstable_batchedUpdates=FW;Wl.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zO(n))throw Error(ze(200));if(e==null||e._reactInternals===void 0)throw Error(ze(38));return UO(e,t,n,!1,r)};Wl.version="18.3.1-next-f1338f8080-20240426";function MSe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(MSe)}catch(e){console.error(e)}}MSe(),MCe.exports=Wl;var th=MCe.exports;const FZe=Ue(th);var LZe=typeof document<"u",NZe=function(){},Pj=LZe?p.useLayoutEffect:NZe;function k3(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!k3(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!k3(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function PSe(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function bre(e,t){const n=PSe(e);return Math.round(t*n)/n}function I6(e){const t=p.useRef(e);return Pj(()=>{t.current=e}),t}function RSe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:u}=e,[d,f]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(r);k3(h,r)||m(r);const[g,y]=p.useState(null),[x,b]=p.useState(null),v=p.useCallback(F=>{F!==S.current&&(S.current=F,y(F))},[]),w=p.useCallback(F=>{F!==E.current&&(E.current=F,b(F))},[]),C=o||g,k=a||x,S=p.useRef(null),E=p.useRef(null),_=p.useRef(d),T=l!=null,A=I6(l),I=I6(i),j=I6(u),$=p.useCallback(()=>{if(!S.current||!E.current)return;const F={placement:t,strategy:n,middleware:h};I.current&&(F.platform=I.current),DYe(S.current,E.current,F).then(L=>{const U={...L,isPositioned:j.current!==!1};D.current&&!k3(_.current,U)&&(_.current=U,th.flushSync(()=>{f(U)}))})},[h,t,n,I,j]);Pj(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[u]);const D=p.useRef(!1);Pj(()=>(D.current=!0,()=>{D.current=!1}),[]),Pj(()=>{if(C&&(S.current=C),k&&(E.current=k),C&&k){if(A.current)return A.current(C,k,$);$()}},[C,k,$,A,T]);const O=p.useMemo(()=>({reference:S,floating:E,setReference:v,setFloating:w}),[v,w]),M=p.useMemo(()=>({reference:C,floating:k}),[C,k]),P=p.useMemo(()=>{const F={position:n,left:0,top:0};if(!M.floating)return F;const L=bre(M.floating,d.x),U=bre(M.floating,d.y);return s?{...F,transform:"translate("+L+"px, "+U+"px)",...PSe(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:U}},[n,s,M.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:$,refs:O,elements:M,floatingStyles:P}),[d,$,O,M,P])}const BZe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?hne({element:r.current,padding:i}).fn(n):{}:r?hne({element:r,padding:i}).fn(n):{}}}},FSe=(e,t)=>({...TYe(e),options:[e,t]}),LSe=(e,t)=>({...jYe(e),options:[e,t]}),NSe=(e,t)=>({...IYe(e),options:[e,t]}),VZe=(e,t)=>({...AYe(e),options:[e,t]}),zZe=(e,t)=>({...$Ye(e),options:[e,t]}),BSe=(e,t)=>({...BZe(e),options:[e,t]}),WW=p.createContext({});function GW(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const VSe=typeof window<"u",zSe=VSe?p.useLayoutEffect:p.useEffect,HO=p.createContext(null);function KW(e,t){e.indexOf(t)===-1&&e.push(t)}function YW(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Gd=(e,t,n)=>n>t?t:n<e?e:n;function xre(e,t){return t?`${e}. For more information and steps for solving, visit https://motion.dev/troubleshooting/${t}`:e}let Y5=()=>{},sy=()=>{};var fxe;typeof process<"u"&&((fxe=process.env)==null?void 0:fxe.NODE_ENV)!=="production"&&(Y5=(e,t,n)=>{!e&&typeof console<"u"&&console.warn(xre(t,n))},sy=(e,t,n)=>{if(!e)throw new Error(xre(t,n))});const Ih={},USe=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function HSe(e){return typeof e=="object"&&e!==null}const WSe=e=>/^0[^.\s]+$/u.test(e);function qW(e){let t;return()=>(t===void 0&&(t=e()),t)}const Tc=e=>e,UZe=(e,t)=>n=>t(e(n)),q5=(...e)=>e.reduce(UZe),y2=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};let ZW=class{constructor(){this.subscriptions=[]}add(t){return KW(this.subscriptions,t),()=>YW(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const a=this.subscriptions[o];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};const _u=e=>e*1e3,vc=e=>e/1e3;function GSe(e,t){return t?e*(1e3/t):0}const KSe=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,HZe=1e-7,WZe=12;function GZe(e,t,n,r,i){let o,a,s=0;do a=t+(n-t)/2,o=KSe(a,r,i)-e,o>0?n=a:t=a;while(Math.abs(o)>HZe&&++s<WZe);return a}function Z5(e,t,n,r){if(e===t&&n===r)return Tc;const i=o=>GZe(o,0,1,e,n);return o=>o===0||o===1?o:KSe(i(o),t,r)}const YSe=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,qSe=e=>t=>1-e(1-t),ZSe=Z5(.33,1.53,.69,.99),XW=qSe(ZSe),XSe=YSe(XW),JSe=e=>(e*=2)<1?.5*XW(e):.5*(2-Math.pow(2,-10*(e-1))),JW=e=>1-Math.sin(Math.acos(e)),QSe=qSe(JW),e2e=YSe(JW),KZe=Z5(.42,0,1,1),YZe=Z5(0,0,.58,1),t2e=Z5(.42,0,.58,1),qZe=e=>Array.isArray(e)&&typeof e[0]!="number",n2e=e=>Array.isArray(e)&&typeof e[0]=="number",wre={linear:Tc,easeIn:KZe,easeInOut:t2e,easeOut:YZe,circIn:JW,circInOut:e2e,circOut:QSe,backIn:XW,backInOut:XSe,backOut:ZSe,anticipate:JSe},ZZe=e=>typeof e=="string",Cre=e=>{if(n2e(e)){sy(e.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[t,n,r,i]=e;return Z5(t,n,r,i)}else if(ZZe(e))return sy(wre[e]!==void 0,`Invalid easing type '${e}'`,"invalid-easing-type"),wre[e];return e},gT=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],kre={value:null,addProjectionMetrics:null};function XZe(e,t){let n=new Set,r=new Set,i=!1,o=!1;const a=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1},l=0;function u(f){a.has(f)&&(d.schedule(f),e()),l++,f(s)}const d={schedule:(f,h=!1,m=!1)=>{const y=m&&i?n:r;return h&&a.add(f),y.has(f)||y.add(f),f},cancel:f=>{r.delete(f),a.delete(f)},process:f=>{if(s=f,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),t&&kre.value&&kre.value.frameloop[t].push(l),l=0,n.clear(),i=!1,o&&(o=!1,d.process(f))}};return d}const JZe=40;function r2e(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=gT.reduce((w,C)=>(w[C]=XZe(o,t?C:void 0),w),{}),{setup:s,read:l,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:m,postRender:g}=a,y=()=>{const w=Ih.useManualTiming?i.timestamp:performance.now();n=!1,Ih.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,JZe),1)),i.timestamp=w,i.isProcessing=!0,s.process(i),l.process(i),u.process(i),d.process(i),f.process(i),h.process(i),m.process(i),g.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(y))},x=()=>{n=!0,r=!0,i.isProcessing||e(y)};return{schedule:gT.reduce((w,C)=>{const k=a[C];return w[C]=(S,E=!1,_=!1)=>(n||x(),k.schedule(S,E,_)),w},{}),cancel:w=>{for(let C=0;C<gT.length;C++)a[gT[C]].cancel(w)},state:i,steps:a}}const{schedule:Qr,cancel:zm,state:pa,steps:$6}=r2e(typeof requestAnimationFrame<"u"?requestAnimationFrame:Tc,!0);let Rj;function QZe(){Rj=void 0}const ps={now:()=>(Rj===void 0&&ps.set(pa.isProcessing||Ih.useManualTiming?pa.timestamp:performance.now()),Rj),set:e=>{Rj=e,queueMicrotask(QZe)}},i2e=e=>t=>typeof t=="string"&&t.startsWith(e),o2e=i2e("--"),eXe=i2e("var(--"),QW=e=>eXe(e)?tXe.test(e.split("/*")[0].trim()):!1,tXe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Sre(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Xx={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},v2={...Xx,transform:e=>Gd(0,1,e)},yT={...Xx,default:1},lS=e=>Math.round(e*1e5)/1e5,eG=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nXe(e){return e==null}const rXe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,tG=(e,t)=>n=>!!(typeof n=="string"&&rXe.test(n)&&n.startsWith(e)||t&&!nXe(n)&&Object.prototype.hasOwnProperty.call(n,t)),a2e=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,o,a,s]=r.match(eG);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(a),alpha:s!==void 0?parseFloat(s):1}},iXe=e=>Gd(0,255,e),D6={...Xx,transform:e=>Math.round(iXe(e))},y1={test:tG("rgb","red"),parse:a2e("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+D6.transform(e)+", "+D6.transform(t)+", "+D6.transform(n)+", "+lS(v2.transform(r))+")"};function oXe(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const iN={test:tG("#"),parse:oXe,transform:y1.transform},X5=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Mp=X5("deg"),Nd=X5("%"),vt=X5("px"),aXe=X5("vh"),sXe=X5("vw"),Ere=(()=>({...Nd,parse:e=>Nd.parse(e)/100,transform:e=>Nd.transform(e*100)}))(),Dv={test:tG("hsl","hue"),parse:a2e("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Nd.transform(lS(t))+", "+Nd.transform(lS(n))+", "+lS(v2.transform(r))+")"},ko={test:e=>y1.test(e)||iN.test(e)||Dv.test(e),parse:e=>y1.test(e)?y1.parse(e):Dv.test(e)?Dv.parse(e):iN.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?y1.transform(e):Dv.transform(e),getAnimatableNone:e=>{const t=ko.parse(e);return t.alpha=0,ko.transform(t)}},lXe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function cXe(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(eG))==null?void 0:t.length)||0)+(((n=e.match(lXe))==null?void 0:n.length)||0)>0}const s2e="number",l2e="color",uXe="var",dXe="var(",_re="${}",fXe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function b2(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const s=t.replace(fXe,l=>(ko.test(l)?(r.color.push(o),i.push(l2e),n.push(ko.parse(l))):l.startsWith(dXe)?(r.var.push(o),i.push(uXe),n.push(l)):(r.number.push(o),i.push(s2e),n.push(parseFloat(l))),++o,_re)).split(_re);return{values:n,split:s,indexes:r,types:i}}function c2e(e){return b2(e).values}function u2e(e){const{split:t,types:n}=b2(e),r=t.length;return i=>{let o="";for(let a=0;a<r;a++)if(o+=t[a],i[a]!==void 0){const s=n[a];s===s2e?o+=lS(i[a]):s===l2e?o+=ko.transform(i[a]):o+=i[a]}return o}}const hXe=e=>typeof e=="number"?0:ko.test(e)?ko.getAnimatableNone(e):e;function pXe(e){const t=c2e(e);return u2e(e)(t.map(hXe))}const Um={test:cXe,parse:c2e,createTransformer:u2e,getAnimatableNone:pXe};function O6(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function mXe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,a=0;if(!t)i=o=a=n;else{const s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;i=O6(l,s,e+1/3),o=O6(l,s,e),a=O6(l,s,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}function S3(e,t){return n=>n>0?t:e}const Li=(e,t,n)=>e+(t-e)*n,M6=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},gXe=[iN,y1,Dv],yXe=e=>gXe.find(t=>t.test(e));function Tre(e){const t=yXe(e);if(Y5(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let n=t.parse(e);return t===Dv&&(n=mXe(n)),n}const Are=(e,t)=>{const n=Tre(e),r=Tre(t);if(!n||!r)return S3(e,t);const i={...n};return o=>(i.red=M6(n.red,r.red,o),i.green=M6(n.green,r.green,o),i.blue=M6(n.blue,r.blue,o),i.alpha=Li(n.alpha,r.alpha,o),y1.transform(i))},oN=new Set(["none","hidden"]);function vXe(e,t){return oN.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function bXe(e,t){return n=>Li(e,t,n)}function nG(e){return typeof e=="number"?bXe:typeof e=="string"?QW(e)?S3:ko.test(e)?Are:CXe:Array.isArray(e)?d2e:typeof e=="object"?ko.test(e)?Are:xXe:S3}function d2e(e,t){const n=[...e],r=n.length,i=e.map((o,a)=>nG(o)(o,t[a]));return o=>{for(let a=0;a<r;a++)n[a]=i[a](o);return n}}function xXe(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=nG(e[i])(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function wXe(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],a=e.indexes[o][r[o]],s=e.values[a]??0;n[i]=s,r[o]++}return n}const CXe=(e,t)=>{const n=Um.createTransformer(t),r=b2(e),i=b2(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?oN.has(e)&&!i.values.length||oN.has(t)&&!r.values.length?vXe(e,t):q5(d2e(wXe(r,i),i.values),n):(Y5(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),S3(e,t))};function f2e(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Li(e,t,n):nG(e)(e,t)}const kXe=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Qr.update(t,n),stop:()=>zm(t),now:()=>pa.isProcessing?pa.timestamp:ps.now()}},h2e=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)r+=Math.round(e(o/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},E3=2e4;function rG(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<E3;)t+=n,r=e.next(t);return t>=E3?1/0:t}function SXe(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(rG(r),E3);return{type:"keyframes",ease:o=>r.next(i*o).value/t,duration:vc(i)}}const EXe=5;function p2e(e,t,n){const r=Math.max(t-EXe,0);return GSe(n-e(r),t-r)}const Ri={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},P6=.001;function _Xe({duration:e=Ri.duration,bounce:t=Ri.bounce,velocity:n=Ri.velocity,mass:r=Ri.mass}){let i,o;Y5(e<=_u(Ri.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let a=1-t;a=Gd(Ri.minDamping,Ri.maxDamping,a),e=Gd(Ri.minDuration,Ri.maxDuration,vc(e)),a<1?(i=u=>{const d=u*a,f=d*e,h=d-n,m=aN(u,a),g=Math.exp(-f);return P6-h/m*g},o=u=>{const f=u*a*e,h=f*n+n,m=Math.pow(a,2)*Math.pow(u,2)*e,g=Math.exp(-f),y=aN(Math.pow(u,2),a);return(-i(u)+P6>0?-1:1)*((h-m)*g)/y}):(i=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-P6+d*f},o=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const s=5/e,l=AXe(i,o,s);if(e=_u(e),isNaN(l))return{stiffness:Ri.stiffness,damping:Ri.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:e}}}const TXe=12;function AXe(e,t,n){let r=n;for(let i=1;i<TXe;i++)r=r-e(r)/t(r);return r}function aN(e,t){return e*Math.sqrt(1-t*t)}const jXe=["duration","bounce"],IXe=["stiffness","damping","mass"];function jre(e,t){return t.some(n=>e[n]!==void 0)}function $Xe(e){let t={velocity:Ri.velocity,stiffness:Ri.stiffness,damping:Ri.damping,mass:Ri.mass,isResolvedFromDuration:!1,...e};if(!jre(e,IXe)&&jre(e,jXe))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Gd(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Ri.mass,stiffness:i,damping:o}}else{const n=_Xe(e);t={...t,...n,mass:Ri.mass},t.isResolvedFromDuration=!0}return t}function _3(e=Ri.visualDuration,t=Ri.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],s={done:!1,value:o},{stiffness:l,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=$Xe({...n,velocity:-vc(n.velocity||0)}),g=h||0,y=u/(2*Math.sqrt(l*d)),x=a-o,b=vc(Math.sqrt(l/d)),v=Math.abs(x)<5;r||(r=v?Ri.restSpeed.granular:Ri.restSpeed.default),i||(i=v?Ri.restDelta.granular:Ri.restDelta.default);let w;if(y<1){const k=aN(b,y);w=S=>{const E=Math.exp(-y*b*S);return a-E*((g+y*b*x)/k*Math.sin(k*S)+x*Math.cos(k*S))}}else if(y===1)w=k=>a-Math.exp(-b*k)*(x+(g+b*x)*k);else{const k=b*Math.sqrt(y*y-1);w=S=>{const E=Math.exp(-y*b*S),_=Math.min(k*S,300);return a-E*((g+y*b*x)*Math.sinh(_)+k*x*Math.cosh(_))/k}}const C={calculatedDuration:m&&f||null,next:k=>{const S=w(k);if(m)s.done=k>=f;else{let E=k===0?g:0;y<1&&(E=k===0?_u(g):p2e(w,k,S));const _=Math.abs(E)<=r,T=Math.abs(a-S)<=i;s.done=_&&T}return s.value=s.done?a:S,s},toString:()=>{const k=Math.min(rG(C),E3),S=h2e(E=>C.next(k*E).value,k,30);return k+"ms "+S},toTransition:()=>{}};return C}_3.applyToOptions=e=>{const t=SXe(e,100,_3);return e.ease=t.ease,e.duration=_u(t.duration),e.type="keyframes",e};function sN({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:s,max:l,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=_=>s!==void 0&&_<s||l!==void 0&&_>l,g=_=>s===void 0?l:l===void 0||Math.abs(s-_)<Math.abs(l-_)?s:l;let y=n*t;const x=f+y,b=a===void 0?x:a(x);b!==x&&(y=b-f);const v=_=>-y*Math.exp(-_/r),w=_=>b+v(_),C=_=>{const T=v(_),A=w(_);h.done=Math.abs(T)<=u,h.value=h.done?b:A};let k,S;const E=_=>{m(h.value)&&(k=_,S=_3({keyframes:[h.value,g(h.value)],velocity:p2e(w,_,h.value),damping:i,stiffness:o,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:_=>{let T=!1;return!S&&k===void 0&&(T=!0,C(_),E(_)),k!==void 0&&_>=k?S.next(_-k):(!T&&C(_),h)}}}function DXe(e,t,n){const r=[],i=n||Ih.mix||f2e,o=e.length-1;for(let a=0;a<o;a++){let s=i(e[a],e[a+1]);if(t){const l=Array.isArray(t)?t[a]||Tc:t;s=q5(l,s)}r.push(s)}return r}function OXe(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(sy(o===t.length,"Both input and output ranges must be the same length","range-length"),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=DXe(t,r,i),l=s.length,u=d=>{if(a&&d<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=y2(e[f],e[f+1],d);return s[f](h)};return n?d=>u(Gd(e[0],e[o-1],d)):u}function MXe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=y2(0,t,r);e.push(Li(n,1,i))}}function PXe(e){const t=[0];return MXe(t,e.length-1),t}function RXe(e,t){return e.map(n=>n*t)}function FXe(e,t){return e.map(()=>t||t2e).splice(0,e.length-1)}function cS({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=qZe(r)?r.map(Cre):Cre(r),o={done:!1,value:t[0]},a=RXe(n&&n.length===t.length?n:PXe(t),e),s=OXe(a,t,{ease:Array.isArray(i)?i:FXe(t,i)});return{calculatedDuration:e,next:l=>(o.value=s(l),o.done=l>=e,o)}}const LXe=e=>e!==null;function iG(e,{repeat:t,repeatType:n="loop"},r,i=1){const o=e.filter(LXe),s=i<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!s||r===void 0?o[s]:r}const NXe={decay:sN,inertia:sN,tween:cS,keyframes:cS,spring:_3};function m2e(e){typeof e.type=="string"&&(e.type=NXe[e.type])}class oG{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const BXe=e=>e/100;class aG extends oG{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==ps.now()&&this.tick(ps.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;m2e(t);const{type:n=cS,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:a=0}=t;let{keyframes:s}=t;const l=n||cS;l!==cS&&typeof s[0]!="number"&&(this.mixKeyframes=q5(BXe,f2e(s[0],s[1])),s=[0,100]);const u=l({...t,keyframes:s});o==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...s].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=rG(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:s,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:m,type:g,onUpdate:y,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const b=this.currentTime-u*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?b<0:b>i;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let w=this.currentTime,C=r;if(f){const _=Math.min(this.currentTime,i)/s;let T=Math.floor(_),A=_%1;!A&&_>=1&&(A=1),A===1&&T--,T=Math.min(T,f+1),!!(T%2)&&(h==="reverse"?(A=1-A,m&&(A-=m/s)):h==="mirror"&&(C=a)),w=Gd(0,1,A)*s}const k=v?{done:!1,value:d[0]}:C.next(w);o&&(k.value=o(k.value));let{done:S}=k;!v&&l!==null&&(S=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return E&&g!==sN&&(k.value=iG(d,this.options,x,this.speed)),y&&y(k.value),E&&this.finish(),k}then(t,n){return this.finished.then(t,n)}get duration(){return vc(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+vc(t)}get time(){return vc(this.currentTime)}set time(t){var n;t=_u(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ps.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=vc(this.currentTime))}play(){var i,o;if(this.isStopped)return;const{driver:t=kXe,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(o=(i=this.options).onPlay)==null||o.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ps.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function VXe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const v1=e=>e*180/Math.PI,lN=e=>{const t=v1(Math.atan2(e[1],e[0]));return cN(t)},zXe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:lN,rotateZ:lN,skewX:e=>v1(Math.atan(e[1])),skewY:e=>v1(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},cN=e=>(e=e%360,e<0&&(e+=360),e),Ire=lN,$re=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Dre=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),UXe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$re,scaleY:Dre,scale:e=>($re(e)+Dre(e))/2,rotateX:e=>cN(v1(Math.atan2(e[6],e[5]))),rotateY:e=>cN(v1(Math.atan2(-e[2],e[0]))),rotateZ:Ire,rotate:Ire,skewX:e=>v1(Math.atan(e[4])),skewY:e=>v1(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function uN(e){return e.includes("scale")?1:0}function dN(e,t){if(!e||e==="none")return uN(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=UXe,i=n;else{const s=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=zXe,i=s}if(!i)return uN(t);const o=r[t],a=i[1].split(",").map(WXe);return typeof o=="function"?o(a):a[o]}const HXe=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return dN(n,t)};function WXe(e){return parseFloat(e.trim())}const Jx=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qx=(()=>new Set(Jx))(),Ore=e=>e===Xx||e===vt,GXe=new Set(["x","y","z"]),KXe=Jx.filter(e=>!GXe.has(e));function YXe(e){const t=[];return KXe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const cm={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>dN(t,"x"),y:(e,{transform:t})=>dN(t,"y")};cm.translateX=cm.x;cm.translateY=cm.y;const D1=new Set;let fN=!1,hN=!1,pN=!1;function g2e(){if(hN){const e=Array.from(D1).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=YXe(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,a])=>{var s;(s=r.getValue(o))==null||s.set(a)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}hN=!1,fN=!1,D1.forEach(e=>e.complete(pN)),D1.clear()}function y2e(){D1.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(hN=!0)})}function qXe(){pN=!0,y2e(),g2e(),pN=!1}class sG{constructor(t,n,r,i,o,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(D1.add(this),fN||(fN=!0,Qr.read(y2e),Qr.resolveKeyframes(g2e))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const o=i==null?void 0:i.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const s=r.readValue(n,a);s!=null&&(t[0]=s)}t[0]===void 0&&(t[0]=a),i&&o===void 0&&i.set(t[0])}VXe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),D1.delete(this)}cancel(){this.state==="scheduled"&&(D1.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ZXe=e=>e.startsWith("--");function XXe(e,t,n){ZXe(t)?e.style.setProperty(t,n):e.style[t]=n}const JXe=qW(()=>window.ScrollTimeline!==void 0),QXe={};function eJe(e,t){const n=qW(e);return()=>QXe[t]??n()}const v2e=eJe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ek=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Mre={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ek([0,.65,.55,1]),circOut:Ek([.55,0,1,.45]),backIn:Ek([.31,.01,.66,-.59]),backOut:Ek([.33,1.53,.69,.99])};function b2e(e,t){if(e)return typeof e=="function"?v2e()?h2e(e,t):"ease-out":n2e(e)?Ek(e):Array.isArray(e)?e.map(n=>b2e(n,t)||Mre.easeOut):Mre[e]}function tJe(e,t,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:a="loop",ease:s="easeOut",times:l}={},u=void 0){const d={[t]:n};l&&(d.offset=l);const f=b2e(s,i);Array.isArray(f)&&(d.easing=f);const h={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function x2e(e){return typeof e=="function"&&"applyToOptions"in e}function nJe({type:e,...t}){return x2e(e)&&v2e()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class rJe extends oG{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:s,onComplete:l}=t;this.isPseudoElement=!!o,this.allowFlatten=a,this.options=t,sy(typeof t.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const u=nJe(t);this.animation=tJe(n,r,i,u,o),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const d=iG(i,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(d):XXe(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,r,i;const t=(n=this.options)==null?void 0:n.element;!this.isPseudoElement&&(t!=null&&t.isConnected)&&((i=(r=this.animation).commitStyles)==null||i.call(r))}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return vc(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+vc(t)}get time(){return vc(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=_u(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&JXe()?(this.animation.timeline=t,Tc):n(this)}}const w2e={anticipate:JSe,backInOut:XSe,circInOut:e2e};function iJe(e){return e in w2e}function oJe(e){typeof e.ease=="string"&&iJe(e.ease)&&(e.ease=w2e[e.ease])}const R6=10;class aJe extends rJe{constructor(t){oJe(t),m2e(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...a}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const s=new aG({...a,autoplay:!1}),l=Math.max(R6,ps.now()-this.startTime),u=Gd(0,R6,l-R6);n.setWithVelocity(s.sample(Math.max(0,l-u)).value,s.sample(l).value,u),s.stop()}}const Pre=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Um.test(e)||e==="0")&&!e.startsWith("url("));function sJe(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function lJe(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],a=Pre(i,t),s=Pre(o,t);return Y5(a===s,`You are trying to animate ${t} from "${i}" to "${o}". "${a?o:i}" is not an animatable value.`,"value-not-animatable"),!a||!s?!1:sJe(e)||(n==="spring"||x2e(n))&&r}function mN(e){e.duration=0,e.type="keyframes"}const cJe=new Set(["opacity","clipPath","filter","transform"]),uJe=qW(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function dJe(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:o,type:a}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return uJe()&&n&&cJe.has(n)&&(n!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&o!==0&&a!=="inertia"}const fJe=40;class hJe extends oG{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",keyframes:s,name:l,motionValue:u,element:d,...f}){var g;super(),this.stop=()=>{var y,x;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=ps.now();const h={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:a,name:l,motionValue:u,element:d,...f},m=(d==null?void 0:d.KeyframeResolver)||sG;this.keyframeResolver=new m(s,(y,x,b)=>this.onKeyframesResolved(y,x,h,!b),l,u,d),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,n,r,i){var x,b;this.keyframeResolver=void 0;const{name:o,type:a,velocity:s,delay:l,isHandoff:u,onUpdate:d}=r;this.resolvedAt=ps.now(),lJe(t,o,a,s)||((Ih.instantAnimations||!l)&&(d==null||d(iG(t,r,n))),t[0]=t[t.length-1],mN(r),r.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>fJe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},m=!u&&dJe(h),g=(b=(x=h.motionValue)==null?void 0:x.owner)==null?void 0:b.current,y=m?new aJe({...h,element:g}):new aG(h);y.finished.then(()=>{this.notifyFinished()}).catch(Tc),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),qXe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function C2e(e,t,n,r=0,i=1){const o=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),a=e.size,s=(a-1)*r;return typeof n=="function"?n(o,a):i===1?o*r:s-o*r}const pJe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function mJe(e){const t=pJe.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}const gJe=4;function k2e(e,t,n=1){sy(n<=gJe,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[r,i]=mJe(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const a=o.trim();return USe(a)?parseFloat(a):a}return QW(i)?k2e(i,t,n+1):i}const yJe={type:"spring",stiffness:500,damping:25,restSpeed:10},vJe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),bJe={type:"keyframes",duration:.8},xJe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wJe=(e,{keyframes:t})=>t.length>2?bJe:Qx.has(e)?e.startsWith("scale")?vJe(t[1]):yJe:xJe,CJe=e=>e!==null;function kJe(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(CJe),o=t&&n!=="loop"&&t%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}function S2e(e,t){if(e!=null&&e.inherit&&t){const{inherit:n,...r}=e;return{...t,...r}}return e}function lG(e,t){const n=(e==null?void 0:e[t])??(e==null?void 0:e.default)??e;return n!==e?S2e(n,e):n}function SJe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:s,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const cG=(e,t,n,r={},i,o)=>a=>{const s=lG(r,e)||{},l=s.delay||r.delay||0;let{elapsed:u=0}=r;u=u-_u(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...s,delay:-u,onUpdate:h=>{t.set(h),s.onUpdate&&s.onUpdate(h)},onComplete:()=>{a(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:o?void 0:i};SJe(s)||Object.assign(d,wJe(e,d)),d.duration&&(d.duration=_u(d.duration)),d.repeatDelay&&(d.repeatDelay=_u(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(mN(d),d.delay===0&&(f=!0)),(Ih.instantAnimations||Ih.skipAnimations||i!=null&&i.shouldSkipAnimations)&&(f=!0,mN(d),d.delay=0),d.allowFlatten=!s.type&&!s.ease,f&&!o&&t.get()!==void 0){const h=kJe(d.keyframes,s);if(h!==void 0){Qr.update(()=>{d.onUpdate(h),d.onComplete()});return}}return s.isSync?new aG(d):new hJe(d)};function Rre(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function uG(e,t,n,r){if(typeof t=="function"){const[i,o]=Rre(r);t=t(n!==void 0?n:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=Rre(r);t=t(n!==void 0?n:e.custom,i,o)}return t}function cb(e,t,n){const r=e.getProps();return uG(r,t,n!==void 0?n:r.custom,e)}const E2e=new Set(["width","height","top","left","right","bottom",...Jx]),Fre=30,EJe=e=>!isNaN(parseFloat(e));let _Je=class{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var o;const i=ps.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=ps.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=EJe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new ZW);const r=this.events[t].add(n);return t==="change"?()=>{r(),Qr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ps.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Fre)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Fre);return GSe(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function Zb(e,t){return new _Je(e,t)}const gN=e=>Array.isArray(e);function TJe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Zb(n))}function AJe(e){return gN(e)?e[e.length-1]||0:e}function jJe(e,t){const n=cb(e,t);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const a in o){const s=AJe(o[a]);TJe(e,a,s)}}const Ya=e=>!!(e&&e.getVelocity);function IJe(e){return!!(Ya(e)&&e.add)}function yN(e,t){const n=e.getValue("willChange");if(IJe(n))return n.add(t);if(!n&&Ih.WillChange){const r=new Ih.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function dG(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const $Je="framerAppearId",_2e="data-"+dG($Je);function T2e(e){return e.props[_2e]}function DJe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function A2e(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o,transitionEnd:a,...s}=t;const l=e.getDefaultTransition();o=o?S2e(o,l):l;const u=o==null?void 0:o.reduceMotion;r&&(o=r);const d=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const h in s){const m=e.getValue(h,e.latestValues[h]??null),g=s[h];if(g===void 0||f&&DJe(f,h))continue;const y={delay:n,...lG(o||{},h)},x=m.get();if(x!==void 0&&!m.isAnimating&&!Array.isArray(g)&&g===x&&!y.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const C=T2e(e);if(C){const k=window.MotionHandoffAnimation(C,h,Qr);k!==null&&(y.startTime=k,b=!0)}}yN(e,h);const v=u??e.shouldReduceMotion;m.start(cG(h,m,g,v&&E2e.has(h)?{type:!1}:y,e,b));const w=m.animation;w&&d.push(w)}if(a){const h=()=>Qr.update(()=>{a&&jJe(e,a)});d.length?Promise.all(d).then(h):h()}return d}function vN(e,t,n={}){var l;const r=cb(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(A2e(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=i;return OJe(e,t,u,d,f,h,n)}:()=>Promise.resolve(),{when:s}=i;if(s){const[u,d]=s==="beforeChildren"?[o,a]:[a,o];return u().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function OJe(e,t,n=0,r=0,i=0,o=1,a){const s=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),s.push(vN(l,t,{...a,delay:n+(typeof r=="function"?0:r)+C2e(e.variantChildren,l,r,i,o)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(s)}function MJe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>vN(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=vN(e,t,n);else{const i=typeof t=="function"?cb(e,t,n.custom):t;r=Promise.all(A2e(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const PJe={test:e=>e==="auto",parse:e=>e},j2e=e=>t=>t.test(e),I2e=[Xx,vt,Nd,Mp,sXe,aXe,PJe],Lre=e=>I2e.find(j2e(e));function RJe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||WSe(e):!0}const FJe=new Set(["brightness","contrast","saturate","opacity"]);function LJe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(eG)||[];if(!r)return e;const i=n.replace(r,"");let o=FJe.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const NJe=/\b([a-z-]*)\(.*?\)/gu,bN={...Um,getAnimatableNone:e=>{const t=e.match(NJe);return t?t.map(LJe).join(" "):e}},Nre={...Xx,transform:Math.round},BJe={rotate:Mp,rotateX:Mp,rotateY:Mp,rotateZ:Mp,scale:yT,scaleX:yT,scaleY:yT,scaleZ:yT,skew:Mp,skewX:Mp,skewY:Mp,distance:vt,translateX:vt,translateY:vt,translateZ:vt,x:vt,y:vt,z:vt,perspective:vt,transformPerspective:vt,opacity:v2,originX:Ere,originY:Ere,originZ:vt},fG={borderWidth:vt,borderTopWidth:vt,borderRightWidth:vt,borderBottomWidth:vt,borderLeftWidth:vt,borderRadius:vt,borderTopLeftRadius:vt,borderTopRightRadius:vt,borderBottomRightRadius:vt,borderBottomLeftRadius:vt,width:vt,maxWidth:vt,height:vt,maxHeight:vt,top:vt,right:vt,bottom:vt,left:vt,inset:vt,insetBlock:vt,insetBlockStart:vt,insetBlockEnd:vt,insetInline:vt,insetInlineStart:vt,insetInlineEnd:vt,padding:vt,paddingTop:vt,paddingRight:vt,paddingBottom:vt,paddingLeft:vt,paddingBlock:vt,paddingBlockStart:vt,paddingBlockEnd:vt,paddingInline:vt,paddingInlineStart:vt,paddingInlineEnd:vt,margin:vt,marginTop:vt,marginRight:vt,marginBottom:vt,marginLeft:vt,marginBlock:vt,marginBlockStart:vt,marginBlockEnd:vt,marginInline:vt,marginInlineStart:vt,marginInlineEnd:vt,fontSize:vt,backgroundPositionX:vt,backgroundPositionY:vt,...BJe,zIndex:Nre,fillOpacity:v2,strokeOpacity:v2,numOctaves:Nre},VJe={...fG,color:ko,backgroundColor:ko,outlineColor:ko,fill:ko,stroke:ko,borderColor:ko,borderTopColor:ko,borderRightColor:ko,borderBottomColor:ko,borderLeftColor:ko,filter:bN,WebkitFilter:bN},$2e=e=>VJe[e];function D2e(e,t){let n=$2e(e);return n!==bN&&(n=Um),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const zJe=new Set(["auto","none","0"]);function UJe(e,t,n){let r=0,i;for(;r<e.length&&!i;){const o=e[r];typeof o=="string"&&!zJe.has(o)&&b2(o).values.length&&(i=e[r]),r++}if(i&&n)for(const o of t)e[o]=D2e(n,i)}class HJe extends sG{constructor(t,n,r,i,o){super(t,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let f=t[d];if(typeof f=="string"&&(f=f.trim(),QW(f))){const h=k2e(f,n.current);h!==void 0&&(t[d]=h),d===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!E2e.has(r)||t.length!==2)return;const[i,o]=t,a=Lre(i),s=Lre(o),l=Sre(i),u=Sre(o);if(l!==u&&cm[r]){this.needsMeasurement=!0;return}if(a!==s)if(Ore(a)&&Ore(s))for(let d=0;d<t.length;d++){const f=t[d];typeof f=="string"&&(t[d]=parseFloat(f))}else cm[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||RJe(t[i]))&&r.push(i);r.length&&UJe(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=cm[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var s;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=cm[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(s=this.removedTransforms)!=null&&s.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function O2e(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;t&&(r=t.current);const i=(n==null?void 0:n[e])??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e).filter(r=>r!=null)}const M2e=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function xN(e){return HSe(e)&&"offsetHeight"in e}const{schedule:hG,cancel:fgr}=r2e(queueMicrotask,!1),su={x:!1,y:!1};function P2e(){return su.x||su.y}function WJe(e){return e==="x"||e==="y"?su[e]?null:(su[e]=!0,()=>{su[e]=!1}):su.x||su.y?null:(su.x=su.y=!0,()=>{su.x=su.y=!1})}function R2e(e,t){const n=O2e(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function GJe(e){return!(e.pointerType==="touch"||P2e())}function KJe(e,t,n={}){const[r,i,o]=R2e(e,n);return r.forEach(a=>{let s=!1,l=!1,u;const d=()=>{a.removeEventListener("pointerleave",g)},f=x=>{u&&(u(x),u=void 0),d()},h=x=>{s=!1,window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",h),l&&(l=!1,f(x))},m=()=>{s=!0,window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",h,i)},g=x=>{if(x.pointerType!=="touch"){if(s){l=!0;return}f(x)}},y=x=>{if(!GJe(x))return;l=!1;const b=t(a,x);typeof b=="function"&&(u=b,a.addEventListener("pointerleave",g,i))};a.addEventListener("pointerenter",y,i),a.addEventListener("pointerdown",m,i)}),o}const F2e=(e,t)=>t?e===t?!0:F2e(e,t.parentElement):!1,pG=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,YJe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function qJe(e){return YJe.has(e.tagName)||e.isContentEditable===!0}const ZJe=new Set(["INPUT","SELECT","TEXTAREA"]);function XJe(e){return ZJe.has(e.tagName)||e.isContentEditable===!0}const Fj=new WeakSet;function Bre(e){return t=>{t.key==="Enter"&&e(t)}}function F6(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const JJe=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Bre(()=>{if(Fj.has(n))return;F6(n,"down");const i=Bre(()=>{F6(n,"up")}),o=()=>F6(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Vre(e){return pG(e)&&!P2e()}const zre=new WeakSet;function QJe(e,t,n={}){const[r,i,o]=R2e(e,n),a=s=>{const l=s.currentTarget;if(!Vre(s)||zre.has(s))return;Fj.add(l),n.stopPropagation&&zre.add(s);const u=t(l,s),d=(m,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),Fj.has(l)&&Fj.delete(l),Vre(m)&&typeof u=="function"&&u(m,{success:g})},f=m=>{d(m,l===window||l===document||n.useGlobalTarget||F2e(l,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return r.forEach(s=>{(n.useGlobalTarget?window:s).addEventListener("pointerdown",a,i),xN(s)&&(s.addEventListener("focus",u=>JJe(u,i)),!qJe(s)&&!s.hasAttribute("tabindex")&&(s.tabIndex=0))}),o}function mG(e){return HSe(e)&&"ownerSVGElement"in e}const Lj=new WeakMap;let Pp;const L2e=(e,t,n)=>(r,i)=>i&&i[0]?i[0][e+"Size"]:mG(r)&&"getBBox"in r?r.getBBox()[t]:r[n],eQe=L2e("inline","width","offsetWidth"),tQe=L2e("block","height","offsetHeight");function nQe({target:e,borderBoxSize:t}){var n;(n=Lj.get(e))==null||n.forEach(r=>{r(e,{get width(){return eQe(e,t)},get height(){return tQe(e,t)}})})}function rQe(e){e.forEach(nQe)}function iQe(){typeof ResizeObserver>"u"||(Pp=new ResizeObserver(rQe))}function oQe(e,t){Pp||iQe();const n=O2e(e);return n.forEach(r=>{let i=Lj.get(r);i||(i=new Set,Lj.set(r,i)),i.add(t),Pp==null||Pp.observe(r)}),()=>{n.forEach(r=>{const i=Lj.get(r);i==null||i.delete(t),i!=null&&i.size||Pp==null||Pp.unobserve(r)})}}const Nj=new Set;let Ov;function aQe(){Ov=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Nj.forEach(t=>t(e))},window.addEventListener("resize",Ov)}function sQe(e){return Nj.add(e),Ov||aQe(),()=>{Nj.delete(e),!Nj.size&&typeof Ov=="function"&&(window.removeEventListener("resize",Ov),Ov=void 0)}}function Ure(e,t){return typeof e=="function"?sQe(e):oQe(e,t)}function lQe(e){return mG(e)&&e.tagName==="svg"}const cQe=[...I2e,ko,Um],uQe=e=>cQe.find(j2e(e)),Hre=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mv=()=>({x:Hre(),y:Hre()}),Wre=()=>({min:0,max:0}),Vo=()=>({x:Wre(),y:Wre()}),wN={current:null},N2e={current:!1},dQe=typeof window<"u";function fQe(){if(N2e.current=!0,!!dQe)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>wN.current=e.matches;e.addEventListener("change",t),t()}else wN.current=!1}const hQe=new WeakMap;function WO(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function x2(e){return typeof e=="string"||Array.isArray(e)}const gG=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yG=["initial",...gG];function GO(e){return WO(e.animate)||yG.some(t=>x2(e[t]))}function B2e(e){return!!(GO(e)||e.variants)}function pQe(e,t,n){for(const r in t){const i=t[r],o=n[r];if(Ya(i))e.addValue(r,i);else if(Ya(o))e.addValue(r,Zb(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const a=e.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=e.getStaticValue(r);e.addValue(r,Zb(a!==void 0?a:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Gre=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let T3={};function V2e(e){T3=e}function mQe(){return T3}let gQe=class{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,skipAnimations:o,blockInitialAnimation:a,visualState:s},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=sG,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=ps.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Qr.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=s;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=o,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=GO(n),this.isVariantNode=B2e(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const g=h[m];u[m]!==void 0&&Ya(g)&&g.set(u[m])}}mount(t){var n,r;if(this.hasBeenMounted)for(const i in this.initialValues)(n=this.values.get(i))==null||n.jump(this.initialValues[i]),this.latestValues[i]=this.initialValues[i];this.current=t,hQe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(N2e.current||fQe(),this.shouldReduceMotion=wN.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var t;this.projection&&this.projection.unmount(),zm(this.notifyUpdate),zm(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Qx.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Qr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in T3){const n=T3[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Vo()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Gre.length;r++){const i=Gre[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,a=t[o];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=pQe(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Zb(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(USe(r)||WSe(r))?r=parseFloat(r):!uQe(r)&&Um.test(n)&&(r=D2e(t,n)),this.setBaseTarget(t,Ya(r)?r.get():r)),Ya(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=uG(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);a&&(r=a[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Ya(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new ZW),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){hG.render(this.render)}},z2e=class extends gQe{constructor(){super(...arguments),this.KeyframeResolver=HJe}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const r=t.style;return r?r[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ya(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}},cg=class{constructor(t){this.isMounted=!1,this.node=t}update(){}};function U2e({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function yQe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function vQe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function L6(e){return e===void 0||e===1}function CN({scale:e,scaleX:t,scaleY:n}){return!L6(e)||!L6(t)||!L6(n)}function qg(e){return CN(e)||H2e(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function H2e(e){return Kre(e.x)||Kre(e.y)}function Kre(e){return e&&e!=="0%"}function A3(e,t,n){const r=e-n,i=t*r;return n+i}function Yre(e,t,n,r,i){return i!==void 0&&(e=A3(e,i,r)),A3(e,n,r)+t}function kN(e,t=0,n=1,r,i){e.min=Yre(e.min,t,n,r,i),e.max=Yre(e.max,t,n,r,i)}function W2e(e,{x:t,y:n}){kN(e.x,t.translate,t.scale,t.originPoint),kN(e.y,n.translate,n.scale,n.originPoint)}const qre=.999999999999,Zre=1.0000000000001;function bQe(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,a;for(let s=0;s<i;s++){o=n[s],a=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Rv(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,W2e(e,a)),r&&qg(o.latestValues)&&Rv(e,o.latestValues))}t.x<Zre&&t.x>qre&&(t.x=1),t.y<Zre&&t.y>qre&&(t.y=1)}function Pv(e,t){e.min=e.min+t,e.max=e.max+t}function Xre(e,t,n,r,i=.5){const o=Li(e.min,e.max,i);kN(e,t,n,o,r)}function Rv(e,t){Xre(e.x,t.x,t.scaleX,t.scale,t.originX),Xre(e.y,t.y,t.scaleY,t.scale,t.originY)}function G2e(e,t){return U2e(vQe(e.getBoundingClientRect(),t))}function xQe(e,t,n){const r=G2e(e,n),{scroll:i}=t;return i&&(Pv(r.x,i.offset.x),Pv(r.y,i.offset.y)),r}const wQe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},CQe=Jx.length;function kQe(e,t,n){let r="",i=!0;for(let o=0;o<CQe;o++){const a=Jx[o],s=e[a];if(s===void 0)continue;let l=!0;if(typeof s=="number")l=s===(a.startsWith("scale")?1:0);else{const u=parseFloat(s);l=a.startsWith("scale")?u===1:u===0}if(!l||n){const u=M2e(s,fG[a]);if(!l){i=!1;const d=wQe[a]||a;r+=`${d}(${u}) `}n&&(t[a]=u)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function vG(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let a=!1,s=!1;for(const l in t){const u=t[l];if(Qx.has(l)){a=!0;continue}else if(o2e(l)){i[l]=u;continue}else{const d=M2e(u,fG[l]);l.startsWith("origin")?(s=!0,o[l]=d):r[l]=d}}if(t.transform||(a||n?r.transform=kQe(t,e.transform,n):r.transform&&(r.transform="none")),s){const{originX:l="50%",originY:u="50%",originZ:d=0}=o;r.transformOrigin=`${l} ${u} ${d}`}}function K2e(e,{style:t,vars:n},r,i){const o=e.style;let a;for(a in t)o[a]=t[a];i==null||i.applyProjectionStyles(o,r);for(a in n)o.setProperty(a,n[a])}function Jre(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const $C={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(vt.test(e))e=parseFloat(e);else return e;const n=Jre(e,t.target.x),r=Jre(e,t.target.y);return`${n}% ${r}%`}},SQe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Um.parse(e);if(i.length>5)return r;const o=Um.createTransformer(e),a=typeof i[0]!="number"?1:0,s=n.x.scale*t.x,l=n.y.scale*t.y;i[0+a]/=s,i[1+a]/=l;const u=Li(s,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),o(i)}},SN={borderRadius:{...$C,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$C,borderTopRightRadius:$C,borderBottomLeftRadius:$C,borderBottomRightRadius:$C,boxShadow:SQe};function Y2e(e,{layout:t,layoutId:n}){return Qx.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!SN[e]||e==="opacity")}function bG(e,t,n){var a;const r=e.style,i=t==null?void 0:t.style,o={};if(!r)return o;for(const s in r)(Ya(r[s])||i&&Ya(i[s])||Y2e(s,e)||((a=n==null?void 0:n.getValue(s))==null?void 0:a.liveStyle)!==void 0)&&(o[s]=r[s]);return o}function EQe(e){return window.getComputedStyle(e)}let _Qe=class extends z2e{constructor(){super(...arguments),this.type="html",this.renderInstance=K2e}readValueFromInstance(t,n){var r;if(Qx.has(n))return(r=this.projection)!=null&&r.isProjecting?uN(n):HXe(t,n);{const i=EQe(t),o=(o2e(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return G2e(t,n)}build(t,n,r){vG(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return bG(t,n,r)}};const TQe={offset:"stroke-dashoffset",array:"stroke-dasharray"},AQe={offset:"strokeDashoffset",array:"strokeDasharray"};function jQe(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?TQe:AQe;e[o.offset]=`${-r}`,e[o.array]=`${t} ${n}`}const IQe=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function q2e(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:a=0,...s},l,u,d){if(vG(e,s,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox);for(const m of IQe)f[m]!==void 0&&(h[m]=f[m],delete f[m]);t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&jQe(f,i,o,a,!1)}const Z2e=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),X2e=e=>typeof e=="string"&&e.toLowerCase()==="svg";function $Qe(e,t,n,r){K2e(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Z2e.has(i)?i:dG(i),t.attrs[i])}function J2e(e,t,n){const r=bG(e,t,n);for(const i in e)if(Ya(e[i])||Ya(t[i])){const o=Jx.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=e[i]}return r}let DQe=class extends z2e{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Vo}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Qx.has(n)){const r=$2e(n);return r&&r.default||0}return n=Z2e.has(n)?n:dG(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return J2e(t,n,r)}build(t,n,r){q2e(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){$Qe(t,n,r,i)}mount(t){this.isSVGTag=X2e(t.tagName),super.mount(t)}};const OQe=yG.length;function Q2e(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Q2e(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<OQe;n++){const r=yG[n],i=e.props[r];(x2(i)||i===!1)&&(t[r]=i)}return t}function e5e(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const MQe=[...gG].reverse(),PQe=gG.length;function RQe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>MJe(e,n,r)))}function FQe(e){let t=RQe(e),n=Qre(),r=!0;const i=l=>(u,d)=>{var h;const f=cb(e,d,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:g,...y}=f;u={...u,...y,...g}}return u};function o(l){t=l(e)}function a(l){const{props:u}=e,d=Q2e(e.parent)||{},f=[],h=new Set;let m={},g=1/0;for(let x=0;x<PQe;x++){const b=MQe[x],v=n[b],w=u[b]!==void 0?u[b]:d[b],C=x2(w),k=b===l?v.isActive:null;k===!1&&(g=x);let S=w===d[b]&&w!==u[b]&&C;if(S&&r&&e.manuallyAnimateOnMount&&(S=!1),v.protectedKeys={...m},!v.isActive&&k===null||!w&&!v.prevProp||WO(w)||typeof w=="boolean")continue;const E=LQe(v.prevProp,w);let _=E||b===l&&v.isActive&&!S&&C||x>g&&C,T=!1;const A=Array.isArray(w)?w:[w];let I=A.reduce(i(b),{});k===!1&&(I={});const{prevResolvedValues:j={}}=v,$={...j,...I},D=P=>{_=!0,h.has(P)&&(T=!0,h.delete(P)),v.needsAnimating[P]=!0;const F=e.getValue(P);F&&(F.liveStyle=!1)};for(const P in $){const F=I[P],L=j[P];if(m.hasOwnProperty(P))continue;let U=!1;gN(F)&&gN(L)?U=!e5e(F,L):U=F!==L,U?F!=null?D(P):h.add(P):F!==void 0&&h.has(P)?D(P):v.protectedKeys[P]=!0}v.prevProp=w,v.prevResolvedValues=I,v.isActive&&(m={...m,...I}),r&&e.blockInitialAnimation&&(_=!1);const O=S&&E;_&&(!O||T)&&f.push(...A.map(P=>{const F={type:b};if(typeof P=="string"&&r&&!O&&e.manuallyAnimateOnMount&&e.parent){const{parent:L}=e,U=cb(L,P);if(L.enteringChildren&&U){const{delayChildren:H}=U.transition||{};F.delay=C2e(L.enteringChildren,e,H)}}return{animation:P,options:F}}))}if(h.size){const x={};if(typeof u.initial!="boolean"){const b=cb(e,Array.isArray(u.initial)?u.initial[0]:u.initial);b&&b.transition&&(x.transition=b.transition)}h.forEach(b=>{const v=e.getBaseTarget(b),w=e.getValue(b);w&&(w.liveStyle=!0),x[b]=v??null}),f.push({animation:x})}let y=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(f):Promise.resolve()}function s(l,u){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(l,u)}),n[l].isActive=u;const d=a(l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:a,setActive:s,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Qre()}}}function LQe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!e5e(t,e):!1}function Pg(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Qre(){return{animate:Pg(!0),whileInView:Pg(),whileHover:Pg(),whileTap:Pg(),whileDrag:Pg(),whileFocus:Pg(),exit:Pg()}}function eie(e,t){e.min=t.min,e.max=t.max}function ru(e,t){eie(e.x,t.x),eie(e.y,t.y)}function tie(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const t5e=1e-4,NQe=1-t5e,BQe=1+t5e,n5e=.01,VQe=0-n5e,zQe=0+n5e;function ms(e){return e.max-e.min}function UQe(e,t,n){return Math.abs(e-t)<=n}function nie(e,t,n,r=.5){e.origin=r,e.originPoint=Li(t.min,t.max,e.origin),e.scale=ms(n)/ms(t),e.translate=Li(n.min,n.max,e.origin)-e.originPoint,(e.scale>=NQe&&e.scale<=BQe||isNaN(e.scale))&&(e.scale=1),(e.translate>=VQe&&e.translate<=zQe||isNaN(e.translate))&&(e.translate=0)}function uS(e,t,n,r){nie(e.x,t.x,n.x,r?r.originX:void 0),nie(e.y,t.y,n.y,r?r.originY:void 0)}function rie(e,t,n){e.min=n.min+t.min,e.max=e.min+ms(t)}function HQe(e,t,n){rie(e.x,t.x,n.x),rie(e.y,t.y,n.y)}function iie(e,t,n){e.min=t.min-n.min,e.max=e.min+ms(t)}function j3(e,t,n){iie(e.x,t.x,n.x),iie(e.y,t.y,n.y)}function oie(e,t,n,r,i){return e-=t,e=A3(e,1/n,r),i!==void 0&&(e=A3(e,1/i,r)),e}function WQe(e,t=0,n=1,r=.5,i,o=e,a=e){if(Nd.test(t)&&(t=parseFloat(t),t=Li(a.min,a.max,t/100)-a.min),typeof t!="number")return;let s=Li(o.min,o.max,r);e===o&&(s-=t),e.min=oie(e.min,t,n,s,i),e.max=oie(e.max,t,n,s,i)}function aie(e,t,[n,r,i],o,a){WQe(e,t[n],t[r],t[i],t.scale,o,a)}const GQe=["x","scaleX","originX"],KQe=["y","scaleY","originY"];function sie(e,t,n,r){aie(e.x,t,GQe,n?n.x:void 0,r?r.x:void 0),aie(e.y,t,KQe,n?n.y:void 0,r?r.y:void 0)}function lie(e){return e.translate===0&&e.scale===1}function r5e(e){return lie(e.x)&&lie(e.y)}function cie(e,t){return e.min===t.min&&e.max===t.max}function YQe(e,t){return cie(e.x,t.x)&&cie(e.y,t.y)}function uie(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function i5e(e,t){return uie(e.x,t.x)&&uie(e.y,t.y)}function die(e){return ms(e.x)/ms(e.y)}function fie(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function fd(e){return[e("x"),e("y")]}function qQe(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((i||o||a)&&(r=`translate3d(${i}px, ${o}px, ${a}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),g&&(r+=`skewY(${g}deg) `)}const s=e.x.scale*t.x,l=e.y.scale*t.y;return(s!==1||l!==1)&&(r+=`scale(${s}, ${l})`),r||"none"}const o5e=["TopLeft","TopRight","BottomLeft","BottomRight"],ZQe=o5e.length,hie=e=>typeof e=="string"?parseFloat(e):e,pie=e=>typeof e=="number"||vt.test(e);function XQe(e,t,n,r,i,o){i?(e.opacity=Li(0,n.opacity??1,JQe(r)),e.opacityExit=Li(t.opacity??1,0,QQe(r))):o&&(e.opacity=Li(t.opacity??1,n.opacity??1,r));for(let a=0;a<ZQe;a++){const s=`border${o5e[a]}Radius`;let l=mie(t,s),u=mie(n,s);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||pie(l)===pie(u)?(e[s]=Math.max(Li(hie(l),hie(u),r),0),(Nd.test(u)||Nd.test(l))&&(e[s]+="%")):e[s]=u}(t.rotate||n.rotate)&&(e.rotate=Li(t.rotate||0,n.rotate||0,r))}function mie(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const JQe=a5e(0,.5,QSe),QQe=a5e(.5,.95,Tc);function a5e(e,t,n){return r=>r<e?0:r>t?1:n(y2(e,t,r))}function eet(e,t,n){const r=Ya(e)?e:Zb(e);return r.start(cG("",r,t,n)),r.animation}function w2(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const tet=(e,t)=>e.depth-t.depth;let net=class{constructor(){this.children=[],this.isDirty=!1}add(t){KW(this.children,t),this.isDirty=!0}remove(t){YW(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(tet),this.isDirty=!1,this.children.forEach(t)}};function ret(e,t){const n=ps.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(zm(r),e(o-t))};return Qr.setup(r,!0),()=>zm(r)}function Bj(e){return Ya(e)?e.get():e}let iet=class{constructor(){this.members=[]}add(t){KW(this.members,t),t.scheduleRender()}remove(t){if(YW(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender();const i=r.options.layoutDependency,o=t.options.layoutDependency;i!==void 0&&o!==void 0&&i===o||(t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};const Vj={hasAnimatedSinceResize:!0,hasEverUpdated:!1},N6=["","X","Y","Z"],oet=1e3;let aet=0;function B6(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function s5e(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=T2e(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Qr,!(i||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&s5e(r)}function l5e({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},s=t==null?void 0:t()){this.id=aet++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(uet),this.nodes.forEach(pet),this.nodes.forEach(met),this.nodes.forEach(det)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new net)}addEventListener(a,s){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new ZW),this.eventHandlers.get(a).add(s)}notifyListeners(a,...s){const l=this.eventHandlers.get(a);l&&l.notify(...s)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=mG(a)&&!lQe(a),this.instance=a;const{layoutId:s,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||s)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;Qr.read(()=>{f=window.innerWidth}),e(a,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=ret(h,250),Vj.hasAnimatedSinceResize&&(Vj.hasAnimatedSinceResize=!1,this.nodes.forEach(vie)))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&u&&(s||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||xet,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=u.getProps(),b=!this.targetLayout||!i5e(this.targetLayout,m),v=!f&&h;if(this.options.layoutRoot||this.resumeFrom||v||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...lG(g,"layout"),onPlay:y,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(d,v)}else f||vie(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),zm(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(get),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&s5e(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gie);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(yie);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(het),this.nodes.forEach(set),this.nodes.forEach(cet)):this.nodes.forEach(yie),this.clearAllSnapshots();const s=ps.now();pa.delta=Gd(0,1e3/60,s-pa.timestamp),pa.timestamp=s,pa.isProcessing=!0,$6.update.process(pa),$6.preRender.process(pa),$6.render.process(pa),pa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hG.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fet),this.sharedNodes.forEach(yet)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ms(this.snapshot.measuredBox.x)&&!ms(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Vo(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let s=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(s=!1),s&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,s=this.projectionDelta&&!r5e(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(s||qg(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return a&&(l=this.removeTransform(l)),wet(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return Vo();const s=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(Cet))){const{scroll:d}=this.root;d&&(Pv(s.x,d.offset.x),Pv(s.y,d.offset.y))}return s}removeElementScroll(a){var l;const s=Vo();if(ru(s,a),(l=this.scroll)!=null&&l.wasRoot)return s;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&ru(s,a),Pv(s.x,f.offset.x),Pv(s.y,f.offset.y))}return s}applyTransform(a,s=!1){const l=Vo();ru(l,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!s&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Rv(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),qg(d.latestValues)&&Rv(l,d.latestValues)}return qg(this.latestValues)&&Rv(l,this.latestValues),l}removeTransform(a){const s=Vo();ru(s,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!qg(u.latestValues))continue;CN(u.latestValues)&&u.updateSnapshot();const d=Vo(),f=u.measurePageBox();ru(d,f),sie(s,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return qg(this.latestValues)&&sie(s,this.latestValues),s}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var m;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==s;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!this.layout||!(d||f))return;this.resolvedRelativeTargetAt=pa.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Vo(),this.targetWithTransforms=Vo()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),HQe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ru(this.target,this.layout.layoutBox),W2e(this.target,this.targetDelta)):ru(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||CN(this.parent.latestValues)||H2e(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,s,l){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vo(),this.relativeTargetOrigin=Vo(),j3(this.relativeTargetOrigin,s,l),ru(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var g;const a=this.getLead(),s=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===pa.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;ru(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;bQe(this.layoutCorrected,this.treeScale,this.path,s),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Vo());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tie(this.prevProjectionDelta.x,this.projectionDelta.x),tie(this.prevProjectionDelta.y,this.projectionDelta.y)),uS(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!fie(this.projectionDelta.x,this.prevProjectionDelta.x)||!fie(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var s;if((s=this.options.visualElement)==null||s.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Mv(),this.projectionDelta=Mv(),this.projectionDeltaWithTransform=Mv()}setAnimationOrigin(a,s=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},f=Mv();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const h=Vo(),m=l?l.source:void 0,g=this.layout?this.layout.source:void 0,y=m!==g,x=this.getStack(),b=!x||x.members.length<=1,v=!!(y&&!b&&this.options.crossfade===!0&&!this.path.some(bet));this.animationProgress=0;let w;this.mixTargetDelta=C=>{const k=C/1e3;bie(f.x,a.x,k),bie(f.y,a.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(j3(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vet(this.relativeTarget,this.relativeTargetOrigin,h,k),w&&YQe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Vo()),ru(w,this.relativeTarget)),y&&(this.animationValues=d,XQe(d,u,this.latestValues,k,v,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var s,l,u;this.notifyListeners("animationStart"),(s=this.currentAnimation)==null||s.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(zm(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qr.update(()=>{Vj.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Zb(0)),this.currentAnimation=eet(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(oet),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:s,target:l,layout:u,latestValues:d}=a;if(!(!s||!l||!u)){if(this!==a&&this.layout&&u&&c5e(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Vo();const f=ms(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+f;const h=ms(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+h}ru(s,l),Rv(s,d),uS(this.projectionDeltaWithTransform,this.layoutCorrected,s,d)}}registerSharedNode(a,s){this.sharedNodes.has(a)||this.sharedNodes.set(a,new iet),this.sharedNodes.get(a).add(s);const u=s.options.initialPromotionConfig;s.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(s):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())==null?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())==null?void 0:s.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:s,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let s=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(s=!0),!s)return;const u={};l.z&&B6("z",a,u,this.animationValues);for(let d=0;d<N6.length;d++)B6(`rotate${N6[d]}`,a,u,this.animationValues),B6(`skew${N6[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,s){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Bj(s==null?void 0:s.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Bj(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!qg(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=qQe(this.projectionDeltaWithTransform,this.treeScale,d);l&&(f=l(d,f)),a.transform=f;const{x:h,y:m}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in SN){if(d[g]===void 0)continue;const{correct:y,applyTo:x,isCSSVariable:b}=SN[g],v=f==="none"?d[g]:y(d[g],u);if(x){const w=x.length;for(let C=0;C<w;C++)a[x[C]]=v}else b?this.options.visualElement.renderState.vars[g]=v:a[g]=v}this.options.layoutId&&(a.pointerEvents=u===this?Bj(s==null?void 0:s.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var s;return(s=a.currentAnimation)==null?void 0:s.stop()}),this.root.nodes.forEach(gie),this.root.sharedNodes.clear()}}}function set(e){e.updateLayout()}function cet(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:o}=e.options,a=t.source!==e.layout.source;o==="size"?fd(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=ms(h);h.min=r[f].min,h.max=h.min+m}):c5e(o,t.layoutBox,r)&&fd(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=ms(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const s=Mv();uS(s,r,t.layoutBox);const l=Mv();a?uS(l,e.applyTransform(i,!0),t.measuredBox):uS(l,r,t.layoutBox);const u=!r5e(s);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const g=Vo();j3(g,t.layoutBox,h.layoutBox);const y=Vo();j3(y,r,m.layoutBox),i5e(g,y)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:s,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function uet(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function det(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function fet(e){e.clearSnapshot()}function gie(e){e.clearMeasurements()}function yie(e){e.isLayoutDirty=!1}function het(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function vie(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function pet(e){e.resolveTargetDelta()}function met(e){e.calcProjection()}function get(e){e.resetSkewAndRotation()}function yet(e){e.removeLeadSnapshot()}function bie(e,t,n){e.translate=Li(t.translate,0,n),e.scale=Li(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function xie(e,t,n,r){e.min=Li(t.min,n.min,r),e.max=Li(t.max,n.max,r)}function vet(e,t,n,r){xie(e.x,t.x,n.x,r),xie(e.y,t.y,n.y,r)}function bet(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const xet={duration:.45,ease:[.4,0,.1,1]},wie=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Cie=wie("applewebkit/")&&!wie("chrome/")?Math.round:Tc;function kie(e){e.min=Cie(e.min),e.max=Cie(e.max)}function wet(e){kie(e.x),kie(e.y)}function c5e(e,t,n){return e==="position"||e==="preserve-aspect"&&!UQe(die(t),die(n),.2)}function Cet(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const ket=l5e({attachResizeListener:(e,t)=>w2(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),V6={current:void 0},u5e=l5e({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!V6.current){const e=new ket({});e.mount(window),e.setOptions({layoutScroll:!0}),V6.current=e}return V6.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),xG=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Sie(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Eet(...e){return t=>{let n=!1;const r=e.map(i=>{const o=Sie(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():Sie(e[i],null)}}}}function _et(...e){return p.useCallback(Eet(...e),e)}let Tet=class extends p.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=n.offsetParent,i=xN(r)&&r.offsetWidth||0,o=xN(r)&&r.offsetHeight||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left,a.bottom=o-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}};function Aet({children:e,isPresent:t,anchorX:n,anchorY:r,root:i,pop:o}){var h;const a=p.useId(),s=p.useRef(null),l=p.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:u}=p.useContext(xG),d=((h=e.props)==null?void 0:h.ref)??(e==null?void 0:e.ref),f=_et(s,d);return p.useInsertionEffect(()=>{const{width:m,height:g,top:y,left:x,right:b,bottom:v}=l.current;if(t||o===!1||!s.current||!m||!g)return;const w=n==="left"?`left: ${x}`:`right: ${b}`,C=r==="bottom"?`bottom: ${v}`:`top: ${y}`;s.current.dataset.motionPopId=a;const k=document.createElement("style");u&&(k.nonce=u);const S=i??document.head;return S.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${g}px !important;
            ${w}px !important;
            ${C}px !important;
          }
        `),()=>{S.contains(k)&&S.removeChild(k)}},[t]),c.jsx(Tet,{isPresent:t,childRef:s,sizeRef:l,pop:o,children:o===!1?e:p.cloneElement(e,{ref:f})})}const jet=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:a,anchorX:s,anchorY:l,root:u})=>{const d=GW(Iet),f=p.useId();let h=!0,m=p.useMemo(()=>(h=!1,{id:f,initial:t,isPresent:n,custom:i,onExitComplete:g=>{d.set(g,!0);for(const y of d.values())if(!y)return;r&&r()},register:g=>(d.set(g,!1),()=>d.delete(g))}),[n,d,r]);return o&&h&&(m={...m}),p.useMemo(()=>{d.forEach((g,y)=>d.set(y,!1))},[n]),p.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),e=c.jsx(Aet,{pop:a==="popLayout",isPresent:n,anchorX:s,anchorY:l,root:u,children:e}),c.jsx(HO.Provider,{value:m,children:e})};function Iet(){return new Map}function d5e(e=!0){const t=p.useContext(HO);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,o=p.useId();p.useEffect(()=>{if(e)return i(o)},[e]);const a=p.useCallback(()=>e&&r&&r(o),[o,r,e]);return!n&&r?[!1,a]:[!0]}const vT=e=>e.key||"";function Eie(e){const t=[];return p.Children.forEach(e,n=>{p.isValidElement(n)&&t.push(n)}),t}const wG=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:a=!1,anchorX:s="left",anchorY:l="top",root:u})=>{const[d,f]=d5e(a),h=p.useMemo(()=>Eie(e),[e]),m=a&&!d?[]:h.map(vT),g=p.useRef(!0),y=p.useRef(h),x=GW(()=>new Map),b=p.useRef(new Set),[v,w]=p.useState(h),[C,k]=p.useState(h);zSe(()=>{g.current=!1,y.current=h;for(let _=0;_<C.length;_++){const T=vT(C[_]);m.includes(T)?(x.delete(T),b.current.delete(T)):x.get(T)!==!0&&x.set(T,!1)}},[C,m.length,m.join("-")]);const S=[];if(h!==v){let _=[...h];for(let T=0;T<C.length;T++){const A=C[T],I=vT(A);m.includes(I)||(_.splice(T,0,A),S.push(A))}return o==="wait"&&S.length&&(_=S),k(Eie(_)),w(h),null}const{forceRender:E}=p.useContext(WW);return c.jsx(c.Fragment,{children:C.map(_=>{const T=vT(_),A=a&&!d?!1:h===C||m.includes(T),I=()=>{if(b.current.has(T))return;if(b.current.add(T),x.has(T))x.set(T,!0);else return;let j=!0;x.forEach($=>{$||(j=!1)}),j&&(E==null||E(),k(y.current),a&&(f==null||f()),r&&r())};return c.jsx(jet,{isPresent:A,initial:!g.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:o,root:u,onExitComplete:A?void 0:I,anchorX:s,anchorY:l,children:_},T)})})},f5e=p.createContext({strict:!1}),_ie={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Tie=!1;function $et(){if(Tie)return;const e={};for(const t in _ie)e[t]={isEnabled:n=>_ie[t].some(r=>!!n[r])};V2e(e),Tie=!0}function h5e(){return $et(),mQe()}function Det(e){const t=h5e();for(const n in e)t[n]={...t[n],...e[n]};V2e(t)}const Oet=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function I3(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Oet.has(e)}let p5e=e=>!I3(e);function Met(e){typeof e=="function"&&(p5e=t=>t.startsWith("on")?!I3(t):e(t))}try{Met(require("@emotion/is-prop-valid").default)}catch{}function Pet(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(p5e(i)||n===!0&&I3(i)||!t&&!I3(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const KO=p.createContext({});function Ret(e,t){if(GO(e)){const{initial:n,animate:r}=e;return{initial:n===!1||x2(n)?n:void 0,animate:x2(r)?r:void 0}}return e.inherit!==!1?t:{}}function Fet(e){const{initial:t,animate:n}=Ret(e,p.useContext(KO));return p.useMemo(()=>({initial:t,animate:n}),[Aie(t),Aie(n)])}function Aie(e){return Array.isArray(e)?e.join(" "):e}const CG=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function m5e(e,t,n){for(const r in t)!Ya(t[r])&&!Y2e(r,n)&&(e[r]=t[r])}function Let({transformTemplate:e},t){return p.useMemo(()=>{const n=CG();return vG(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Net(e,t){const n=e.style||{},r={};return m5e(r,n,e),Object.assign(r,Let(e,t)),r}function Bet(e,t){const n={},r=Net(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const g5e=()=>({...CG(),attrs:{}});function Vet(e,t,n,r){const i=p.useMemo(()=>{const o=g5e();return q2e(o,t,X2e(r),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};m5e(o,e.style,e),i.style={...o,...i.style}}return i}const zet=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kG(e){return typeof e!="string"||e.includes("-")?!1:!!(zet.indexOf(e)>-1||/[A-Z]/u.test(e))}function Uet(e,t,n,{latestValues:r},i,o=!1,a){const l=(a??kG(e)?Vet:Bet)(t,r,i,e),u=Pet(t,typeof e=="string",o),d=e!==p.Fragment?{...u,...l,ref:n}:{},{children:f}=t,h=p.useMemo(()=>Ya(f)?f.get():f,[f]);return p.createElement(e,{...d,children:h})}function Het({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:Wet(n,r,i,e),renderState:t()}}function Wet(e,t,n,r){const i={},o=r(e,{});for(const h in o)i[h]=Bj(o[h]);let{initial:a,animate:s}=e;const l=GO(e),u=B2e(e);t&&u&&!l&&e.inherit!==!1&&(a===void 0&&(a=t.initial),s===void 0&&(s=t.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const f=d?s:a;if(f&&typeof f!="boolean"&&!WO(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const g=uG(e,h[m]);if(g){const{transitionEnd:y,transition:x,...b}=g;for(const v in b){let w=b[v];if(Array.isArray(w)){const C=d?w.length-1:0;w=w[C]}w!==null&&(i[v]=w)}for(const v in y)i[v]=y[v]}}}return i}const y5e=e=>(t,n)=>{const r=p.useContext(KO),i=p.useContext(HO),o=()=>Het(e,t,r,i);return n?o():GW(o)},Get=y5e({scrapeMotionValuesFromProps:bG,createRenderState:CG}),Ket=y5e({scrapeMotionValuesFromProps:J2e,createRenderState:g5e}),Yet=Symbol.for("motionComponentSymbol");function qet(e,t,n){const r=p.useRef(n);p.useInsertionEffect(()=>{r.current=n});const i=p.useRef(null);return p.useCallback(o=>{var s;o&&((s=e.onMount)==null||s.call(e,o)),t&&(o?t.mount(o):t.unmount());const a=r.current;if(typeof a=="function")if(o){const l=a(o);typeof l=="function"&&(i.current=l)}else i.current?(i.current(),i.current=null):a(o);else a&&(a.current=o)},[t])}const v5e=p.createContext({});function X0(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Zet(e,t,n,r,i,o){var w,C;const{visualElement:a}=p.useContext(KO),s=p.useContext(f5e),l=p.useContext(HO),u=p.useContext(xG),d=u.reducedMotion,f=u.skipAnimations,h=p.useRef(null),m=p.useRef(!1);r=r||s.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:d,skipAnimations:f,isSVG:o}),m.current&&h.current&&(h.current.manuallyAnimateOnMount=!0));const g=h.current,y=p.useContext(v5e);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&Xet(h.current,n,i,y);const x=p.useRef(!1);p.useInsertionEffect(()=>{g&&x.current&&g.update(n,l)});const b=n[_2e],v=p.useRef(!!b&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,b))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,b)));return zSe(()=>{m.current=!0,g&&(x.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),v.current&&g.animationState&&g.animationState.animateChanges())}),p.useEffect(()=>{g&&(!v.current&&g.animationState&&g.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,b)}),v.current=!1),g.enteringChildren=void 0)}),g}function Xet(e,t,n,r){const{layoutId:i,layout:o,drag:a,dragConstraints:s,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:b5e(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!a||s&&X0(s),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:u})}function b5e(e){if(e)return e.options.allowProjection!==!1?e.projection:b5e(e.parent)}function z6(e,{forwardMotionProps:t=!1,type:n}={},r,i){r&&Det(r);const o=n?n==="svg":kG(e),a=o?Ket:Get;function s(u,d){let f;const h={...p.useContext(xG),...u,layoutId:Jet(u)},{isStatic:m}=h,g=Fet(u),y=a(u,m);if(!m&&VSe){Qet();const x=ett(h);f=x.MeasureLayout,g.visualElement=Zet(e,y,h,i,x.ProjectionNode,o)}return c.jsxs(KO.Provider,{value:g,children:[f&&g.visualElement?c.jsx(f,{visualElement:g.visualElement,...h}):null,Uet(e,u,qet(y,g.visualElement,d),y,m,t,o)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=p.forwardRef(s);return l[Yet]=e,l}function Jet({layoutId:e}){const t=p.useContext(WW).id;return t&&e!==void 0?t+"-"+e:e}function Qet(e,t){p.useContext(f5e).strict}function ett(e){const t=h5e(),{drag:n,layout:r}=t;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n!=null&&n.isEnabled(e)||r!=null&&r.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function ttt(e,t){if(typeof Proxy>"u")return z6;const n=new Map,r=(o,a)=>z6(o,a,e,t),i=(o,a)=>r(o,a);return new Proxy(i,{get:(o,a)=>a==="create"?r:(n.has(a)||n.set(a,z6(a,void 0,e,t)),n.get(a))})}const ntt=(e,t)=>t.isSVG??kG(e)?new DQe(t):new _Qe(t,{allowProjection:e!==p.Fragment});let rtt=class extends cg{constructor(t){super(t),t.animationState||(t.animationState=FQe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();WO(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}},itt=0,ott=class extends cg{constructor(){super(...arguments),this.id=itt++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}};const att={animation:{Feature:rtt},exit:{Feature:ott}};function J5(e){return{point:{x:e.pageX,y:e.pageY}}}const stt=e=>t=>pG(t)&&e(t,J5(t));function dS(e,t,n,r){return w2(e,t,stt(n),r)}const x5e=({current:e})=>e?e.ownerDocument.defaultView:null,jie=(e,t)=>Math.abs(e-t);function ltt(e,t){const n=jie(e.x,t.x),r=jie(e.y,t.y);return Math.sqrt(n**2+r**2)}const Iie=new Set(["auto","scroll"]);let w5e=class{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:a=3,element:s}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=m=>{this.handleScroll(m.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=H6(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,y=ltt(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!y)return;const{point:x}=m,{timestamp:b}=pa;this.history.push({...x,timestamp:b});const{onStart:v,onMove:w}=this.handlers;g||(v&&v(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,m)},this.handlePointerMove=(m,g)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=U6(g,this.transformPagePoint),Qr.update(this.updatePoint,!0)},this.handlePointerUp=(m,g)=>{this.end();const{onEnd:y,onSessionEnd:x,resumeAnimation:b}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=H6(m.type==="pointercancel"?this.lastMoveEventInfo:U6(g,this.transformPagePoint),this.history);this.startEvent&&y&&y(m,v),x&&x(m,v)},!pG(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const l=J5(t),u=U6(l,this.transformPagePoint),{point:d}=u,{timestamp:f}=pa;this.history=[{...d,timestamp:f}];const{onSessionStart:h}=n;h&&h(t,H6(u,this.history)),this.removeListeners=q5(dS(this.contextWindow,"pointermove",this.handlePointerMove),dS(this.contextWindow,"pointerup",this.handlePointerUp),dS(this.contextWindow,"pointercancel",this.handlePointerUp)),s&&this.startScrollTracking(s)}startScrollTracking(t){let n=t.parentElement;for(;n;){const r=getComputedStyle(n);(Iie.has(r.overflowX)||Iie.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const r=t===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},o={x:i.x-n.x,y:i.y-n.y};o.x===0&&o.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(t,i),Qr.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),zm(this.updatePoint)}};function U6(e,t){return t?{point:t(e.point)}:e}function $ie(e,t){return{x:e.x-t.x,y:e.y-t.y}}function H6({point:e},t){return{point:e,delta:$ie(e,C5e(t)),offset:$ie(e,ctt(t)),velocity:utt(t,.1)}}function ctt(e){return e[0]}function C5e(e){return e[e.length-1]}function utt(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=C5e(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>_u(t)));)n--;if(!r)return{x:0,y:0};r===e[0]&&e.length>2&&i.timestamp-r.timestamp>_u(t)*2&&(r=e[1]);const o=vc(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function dtt(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Li(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Li(n,e,r.max):Math.min(e,n)),e}function Die(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function ftt(e,{top:t,left:n,bottom:r,right:i}){return{x:Die(e.x,n,i),y:Die(e.y,t,r)}}function Oie(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function htt(e,t){return{x:Oie(e.x,t.x),y:Oie(e.y,t.y)}}function ptt(e,t){let n=.5;const r=ms(e),i=ms(t);return i>r?n=y2(t.min,t.max-r,e.min):r>i&&(n=y2(e.min,e.max-i,t.min)),Gd(0,1,n)}function mtt(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const EN=.35;function gtt(e=EN){return e===!1?e=0:e===!0&&(e=EN),{x:Mie(e,"left","right"),y:Mie(e,"top","bottom")}}function Mie(e,t,n){return{min:Pie(e,t),max:Pie(e,n)}}function Pie(e,t){return typeof e=="number"?e:e[t]||0}const ytt=new WeakMap;let vtt=class{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vo(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=f=>{n&&this.snapToCursor(J5(f).point),this.stopAnimation()},a=(f,h)=>{const{drag:m,dragPropagation:g,onDragStart:y}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=WJe(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fd(b=>{let v=this.getAxisMotionValue(b).get()||0;if(Nd.test(v)){const{projection:w}=this.visualElement;if(w&&w.layout){const C=w.layout.layoutBox[b];C&&(v=ms(C)*(parseFloat(v)/100))}}this.originPoint[b]=v}),y&&Qr.update(()=>y(f,h),!1,!0),yN(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},s=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:y,onDrag:x}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:b}=h;if(g&&this.currentDirection===null){this.currentDirection=xtt(b),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),x&&Qr.update(()=>x(f,h),!1,!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>{const{dragSnapToOrigin:f}=this.getProps();(f||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:d}=this.getProps();this.panSession=new w5e(t,{onSessionStart:o,onStart:a,onMove:s,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:x5e(this.visualElement),element:this.visualElement.current})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:s}=this.getProps();s&&Qr.postRender(()=>s(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!bT(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=dtt(a,this.constraints[t],this.elastic[t])),o.set(a)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;t&&X0(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=ftt(r.layoutBox,t):this.constraints=!1,this.elastic=gtt(n),i!==this.constraints&&!X0(t)&&r&&this.constraints&&!this.hasMutatedConstraints&&fd(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=mtt(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!X0(t))return!1;const r=t.current;sy(r!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=xQe(r,i.root,this.visualElement.getTransformPagePoint());let a=htt(i.layout.layoutBox,o);if(n){const s=n(yQe(a));this.hasMutatedConstraints=!!s,s&&(a=U2e(s))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},u=fd(d=>{if(!bT(d,n,this.currentDirection))return;let f=l&&l[d]||{};a&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(s)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return yN(this.visualElement,t),r.start(cG(t,r,0,n,this.visualElement,!1))}stopAnimation(){fd(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){fd(n=>{const{drag:r}=this.getProps();if(!bT(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:s}=i.layout.layoutBox[n],l=o.get()||0;o.set(t[n]-Li(a,s,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!X0(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};fd(a=>{const s=this.getAxisMotionValue(a);if(s&&this.constraints!==!1){const l=s.get();i[a]=ptt({min:l,max:l},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),fd(a=>{if(!bT(a,t,null))return;const s=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];s.set(Li(l,u,i[a]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;ytt.set(this.visualElement,this);const t=this.visualElement.current,n=dS(t,"pointerdown",u=>{const{drag:d,dragListener:f=!0}=this.getProps(),h=u.target,m=h!==t&&XJe(h);d&&f&&!m&&this.start(u)});let r;const i=()=>{const{dragConstraints:u}=this.getProps();X0(u)&&u.current&&(this.constraints=this.resolveRefConstraints(),r||(r=btt(t,u.current,()=>this.scalePositionWithinConstraints())))},{projection:o}=this.visualElement,a=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Qr.read(i);const s=w2(window,"resize",()=>this.scalePositionWithinConstraints()),l=o.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(fd(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=u[f].translate,h.set(h.get()+u[f].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),l&&l(),r&&r()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:a=EN,dragMomentum:s=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:a,dragMomentum:s}}};function Rie(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function btt(e,t,n){const r=Ure(e,Rie(n)),i=Ure(t,Rie(n));return()=>{r(),i()}}function bT(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function xtt(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}let wtt=class extends cg{constructor(t){super(t),this.removeGroupControls=Tc,this.removeListeners=Tc,this.controls=new vtt(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Tc}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}};const W6=e=>(t,n)=>{e&&Qr.update(()=>e(t,n),!1,!0)};let Ctt=class extends cg{constructor(){super(...arguments),this.removePointerDownListener=Tc}onPointerDown(t){this.session=new w5e(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:x5e(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:W6(t),onStart:W6(n),onMove:W6(r),onEnd:(o,a)=>{delete this.session,i&&Qr.postRender(()=>i(o,a))}}}mount(){this.removePointerDownListener=dS(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}},G6=!1,ktt=class extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),G6&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Vj.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:a}=r;return a&&(a.isPresent=o,t.layoutDependency!==n&&a.setOptions({...a.options,layoutDependency:n}),G6=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==o?a.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?a.promote():a.relegate()||Qr.postRender(()=>{const s=a.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),hG.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;G6=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}};function k5e(e){const[t,n]=d5e(),r=p.useContext(WW);return c.jsx(ktt,{...e,layoutGroup:r,switchLayoutGroup:p.useContext(v5e),isPresent:t,safeToRemove:n})}const Stt={pan:{Feature:Ctt},drag:{Feature:wtt,ProjectionNode:u5e,MeasureLayout:k5e}};function Fie(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&Qr.postRender(()=>o(t,J5(t)))}let Ett=class extends cg{mount(){const{current:t}=this.node;t&&(this.unmount=KJe(t,(n,r)=>(Fie(this.node,r,"Start"),i=>Fie(this.node,i,"End"))))}unmount(){}},_tt=class extends cg{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=q5(w2(this.node.current,"focus",()=>this.onFocus()),w2(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};function Lie(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&Qr.postRender(()=>o(t,J5(t)))}let Ttt=class extends cg{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:n,propagate:r}=this.node.props;this.unmount=QJe(t,(i,o)=>(Lie(this.node,o,"Start"),(a,{success:s})=>Lie(this.node,a,s?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:(r==null?void 0:r.tap)===!1})}unmount(){}};const _N=new WeakMap,K6=new WeakMap,Att=e=>{const t=_N.get(e.target);t&&t(e)},jtt=e=>{e.forEach(Att)};function Itt({root:e,...t}){const n=e||document;K6.has(n)||K6.set(n,{});const r=K6.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(jtt,{root:e,...t})),r[i]}function $tt(e,t,n){const r=Itt(t);return _N.set(e,n),r.observe(e),()=>{_N.delete(e),r.unobserve(e)}}const Dtt={some:0,all:1};let Ott=class extends cg{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Dtt[i]},s=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(l)};return $tt(this.node.current,a,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Mtt(t,n))&&this.startObserver()}unmount(){}};function Mtt({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Ptt={inView:{Feature:Ott},tap:{Feature:Ttt},focus:{Feature:_tt},hover:{Feature:Ett}},Rtt={layout:{ProjectionNode:u5e,MeasureLayout:k5e}},Ftt={...att,...Ptt,...Stt,...Rtt},ug=ttt(Ftt,ntt);var O1=[],Ltt=function(){return O1.some(function(e){return e.activeTargets.length>0})},Ntt=function(){return O1.some(function(e){return e.skippedTargets.length>0})},Nie="ResizeObserver loop completed with undelivered notifications.",Btt=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:Nie}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=Nie),window.dispatchEvent(e)},C2;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(C2||(C2={}));var M1=function(e){return Object.freeze(e)},Vtt=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,M1(this)}return e}(),S5e=function(){function e(t,n,r,i){return this.x=t,this.y=n,this.width=r,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,M1(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,i=t.top,o=t.right,a=t.bottom,s=t.left,l=t.width,u=t.height;return{x:n,y:r,top:i,right:o,bottom:a,left:s,width:l,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),SG=function(e){return e instanceof SVGElement&&"getBBox"in e},E5e=function(e){if(SG(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,o=i.offsetWidth,a=i.offsetHeight;return!(o||a||e.getClientRects().length)},Bie=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},ztt=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},fS=typeof window<"u"?window:{},xT=new WeakMap,Vie=/auto|scroll/,Utt=/^tb|vertical/,Htt=/msie|trident/i.test(fS.navigator&&fS.navigator.userAgent),nd=function(e){return parseFloat(e||"0")},ub=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new Vtt((n?t:e)||0,(n?e:t)||0)},zie=M1({devicePixelContentBoxSize:ub(),borderBoxSize:ub(),contentBoxSize:ub(),contentRect:new S5e(0,0,0,0)}),_5e=function(e,t){if(t===void 0&&(t=!1),xT.has(e)&&!t)return xT.get(e);if(E5e(e))return xT.set(e,zie),zie;var n=getComputedStyle(e),r=SG(e)&&e.ownerSVGElement&&e.getBBox(),i=!Htt&&n.boxSizing==="border-box",o=Utt.test(n.writingMode||""),a=!r&&Vie.test(n.overflowY||""),s=!r&&Vie.test(n.overflowX||""),l=r?0:nd(n.paddingTop),u=r?0:nd(n.paddingRight),d=r?0:nd(n.paddingBottom),f=r?0:nd(n.paddingLeft),h=r?0:nd(n.borderTopWidth),m=r?0:nd(n.borderRightWidth),g=r?0:nd(n.borderBottomWidth),y=r?0:nd(n.borderLeftWidth),x=f+u,b=l+d,v=y+m,w=h+g,C=s?e.offsetHeight-w-e.clientHeight:0,k=a?e.offsetWidth-v-e.clientWidth:0,S=i?x+v:0,E=i?b+w:0,_=r?r.width:nd(n.width)-S-k,T=r?r.height:nd(n.height)-E-C,A=_+x+k+v,I=T+b+C+w,j=M1({devicePixelContentBoxSize:ub(Math.round(_*devicePixelRatio),Math.round(T*devicePixelRatio),o),borderBoxSize:ub(A,I,o),contentBoxSize:ub(_,T,o),contentRect:new S5e(f,l,_,T)});return xT.set(e,j),j},T5e=function(e,t,n){var r=_5e(e,n),i=r.borderBoxSize,o=r.contentBoxSize,a=r.devicePixelContentBoxSize;switch(t){case C2.DEVICE_PIXEL_CONTENT_BOX:return a;case C2.BORDER_BOX:return i;default:return o}},Wtt=function(){function e(t){var n=_5e(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=M1([n.borderBoxSize]),this.contentBoxSize=M1([n.contentBoxSize]),this.devicePixelContentBoxSize=M1([n.devicePixelContentBoxSize])}return e}(),A5e=function(e){if(E5e(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},Gtt=function(){var e=1/0,t=[];O1.forEach(function(a){if(a.activeTargets.length!==0){var s=[];a.activeTargets.forEach(function(u){var d=new Wtt(u.target),f=A5e(u.target);s.push(d),u.lastReportedSize=T5e(u.target,u.observedBox),f<e&&(e=f)}),t.push(function(){a.callback.call(a.observer,s,a.observer)}),a.activeTargets.splice(0,a.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var i=r[n];i()}return e},Uie=function(e){O1.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(i){i.isActive()&&(A5e(i.target)>e?n.activeTargets.push(i):n.skippedTargets.push(i))})})},Ktt=function(){var e=0;for(Uie(e);Ltt();)e=Gtt(),Uie(e);return Ntt()&&Btt(),e>0},Y6,j5e=[],Ytt=function(){return j5e.splice(0).forEach(function(e){return e()})},qtt=function(e){if(!Y6){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return Ytt()}).observe(n,r),Y6=function(){n.textContent="".concat(t?t--:t++)}}j5e.push(e),Y6()},Ztt=function(e){qtt(function(){requestAnimationFrame(e)})},zj=0,Xtt=function(){return!!zj},Jtt=250,Qtt={attributes:!0,characterData:!0,childList:!0,subtree:!0},Hie=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Wie=function(e){return e===void 0&&(e=0),Date.now()+e},q6=!1,ent=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=Jtt),!q6){q6=!0;var r=Wie(t);Ztt(function(){var i=!1;try{i=Ktt()}finally{if(q6=!1,t=r-Wie(),!Xtt())return;i?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,Qtt)};document.body?n():fS.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Hie.forEach(function(n){return fS.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),Hie.forEach(function(n){return fS.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),TN=new ent,Gie=function(e){!zj&&e>0&&TN.start(),zj+=e,!zj&&TN.stop()},tnt=function(e){return!SG(e)&&!ztt(e)&&getComputedStyle(e).display==="inline"},nnt=function(){function e(t,n){this.target=t,this.observedBox=n||C2.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=T5e(this.target,this.observedBox,!0);return tnt(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),rnt=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),wT=new WeakMap,Kie=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},CT=function(){function e(){}return e.connect=function(t,n){var r=new rnt(t,n);wT.set(t,r)},e.observe=function(t,n,r){var i=wT.get(t),o=i.observationTargets.length===0;Kie(i.observationTargets,n)<0&&(o&&O1.push(i),i.observationTargets.push(new nnt(n,r&&r.box)),Gie(1),TN.schedule())},e.unobserve=function(t,n){var r=wT.get(t),i=Kie(r.observationTargets,n),o=r.observationTargets.length===1;i>=0&&(o&&O1.splice(O1.indexOf(r),1),r.observationTargets.splice(i,1),Gie(-1))},e.disconnect=function(t){var n=this,r=wT.get(t);r.observationTargets.slice().forEach(function(i){return n.unobserve(t,i.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),EG=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");CT.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Bie(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");CT.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Bie(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");CT.unobserve(this,t)},e.prototype.disconnect=function(){CT.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const int=Fe.createContext(!0);function Yie(){throw new Error("A function wrapped in useEffectEvent can't be called during rendering.")}const ont="use"in Fe?()=>{try{return Fe.use(int)}catch{return!1}}:()=>!1;function YO(e){const t=Fe.useRef(Yie);return Fe.useInsertionEffect(()=>{t.current=e},[e]),(...n)=>{ont()&&Yie();const r=t.current;return r(...n)}}const _G=lO,ly=zwe(),Q5=[],Om={},Fv={card:{initial:{scale:.97,willChange:"transform"},hidden:{opacity:0},visible:{opacity:1,transition:{when:"beforeChildren",duration:.1}},scaleIn:{scale:1},scaleOut:{scale:.97}},children:{hidden:{opacity:0},visible:{opacity:1}},transition:{type:"spring",visualDuration:.2,bounce:.25}};function ant(e){return TG(e)||AG(e)}function nf(e){return e instanceof Node&&e.nodeType===Node.ELEMENT_NODE}function TG(e){return nf(e)&&e.nodeName==="A"}function snt(e){return nf(e)&&e.nodeName==="INPUT"}function AG(e){return nf(e)&&e.nodeName==="BUTTON"}function lnt(e){return nf(e)&&e.nodeName==="SELECT"}function cnt(e){return nf(e)&&e.nodeName==="TEXTAREA"}function AN(e,t){return e.contains(t)||e===t}function unt(e){if(!(e instanceof Element))return!1;const t=window.getComputedStyle(e);return t.overflowX.includes("auto")||t.overflowX.includes("scroll")||t.overflowY.includes("auto")||t.overflowY.includes("scroll")}function dnt(e,t){return e.reduce((n,r)=>(n[r]=t,n),{})}function Te(e){return e===0?0:`${e/16}rem`}function Ut(e,t,n){return((t==null?void 0:t.map(n))||[]).map((r,i)=>i===0?r:{[`@media screen and (min-width: ${e[i-1]}px)`]:r})}function qie(e,t){return e===void 0?t||Q5:Array.isArray(e)?e:[e]}function Ys(e,t,n=Q5){if(!Array.isArray(n))throw new Error("the property must be array of numbers");if(n.length===0)return null;const{media:r,space:i}=$e(e);return Ut(r,n,o=>dnt(t,Te(i[o])))}function Xb(e,t){const{$size:n,$weight:r}=t,{font:i,media:o}=$e(t.theme),{family:a,sizes:s,weights:l}=i[e],u=r&&l[r]||l.regular,d=s[2],f={position:"relative",fontFamily:a,fontWeight:`${u}`,padding:"1px 0",margin:0,"&:before":{content:'""',display:"block",height:0},"&:after":{content:'""',display:"block",height:0},"& > code, & > span":{display:"block"},"&:not([hidden])":{display:"block"}};if(!n)return Xb.warned||(console.warn("No size specified for responsive font",{fontKey:e,$size:n,props:t,base:f}),Xb.warned=!0),[f];const h=Ut(o,n,m=>fnt(s[m]||d));return[f,...h]}function fnt(e){const{ascenderHeight:t,descenderHeight:n,fontSize:r,iconSize:i,letterSpacing:o,lineHeight:a}=e,s=t+n,l=a-s,u=(l-i)/2,d=Math.floor(r*1.125/2)*2+1,f=(l-d)/2;return{fontSize:Te(r),lineHeight:`calc(${a} / ${r})`,letterSpacing:Te(o),transform:`translateY(${Te(n)})`,"&:before":{marginTop:`calc(${Te(0-s)} - 1px)`},"&:after":{marginBottom:"-1px"},"& svg:not([data-sanity-icon])":{fontSize:`calc(${d} / 16 * 1rem)`,margin:Te(f)},"& [data-sanity-icon]":{fontSize:`calc(${i} / 16 * 1rem)`,margin:Te(u)}}}function hnt(e){return Xb("code",e)}function pnt(e){return Xb("heading",e)}function mnt(e){return Xb("label",e)}function jG(e){const{media:t}=$e(e.theme);return Ut(t,e.$align,n=>({textAlign:n}))}function gnt(e){return Xb("text",e)}function De(e,t){const n=nt.c(3);let r;n[0]!==t||n[1]!==e?(r=()=>[qie(e,t),JSON.stringify(e??t)],n[0]=t,n[1]=e,n[2]=r):r=n[2];const[i,o]=p.useState(r),[a,s]=i,l=JSON.stringify(e??t);return l!==s&&o([qie(e,t),l]),a}function On(e,t,n){const r=nt.c(9),i=t===void 0?ynt:t;let o;r[0]!==n||r[1]!==i||r[2]!==e?(o=d=>{if(!e)return;const f=d.target;if(!(f instanceof Node))return;const h=n==null?void 0:n();if(h&&!h.contains(f))return;const m=i().flat();for(const g of m)if(g&&(f===g||g.contains(f)))return;e(d)},r[0]=n,r[1]=i,r[2]=e,r[3]=o):o=r[3];const a=YO(o),s=!!e;let l;r[4]!==s||r[5]!==a?(l=()=>{if(!s)return;const d=f=>a(f);return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},r[4]=s,r[5]=a,r[6]=l):l=r[6];let u;r[7]!==s?(u=[s],r[7]=s,r[8]=u):u=r[8],p.useEffect(l,u),p.useDebugValue(e?"MouseDown On":"MouseDown Off")}function ynt(){return Q5}function eE(e,t){const n=nt.c(4);let r,i;n[0]!==t||n[1]!==e?(r=()=>{var o;(o=e.current)==null||o.setCustomValidity(t||"")},i=[t,e],n[0]=t,n[1]=e,n[2]=r,n[3]=i):(r=n[2],i=n[3]),p.useEffect(r,i)}const I5e=typeof document<"u"&&typeof window<"u"&&window.ResizeObserver?window.ResizeObserver:EG,vnt=xnt();function bnt(){return{subscribe(e,t){const n=new I5e(([r])=>{t({_contentRect:r.contentRect,border:{width:r.borderBoxSize[0].inlineSize,height:r.borderBoxSize[0].blockSize},content:{width:r.contentRect.width,height:r.contentRect.height}})});return n.observe(e),()=>{n.unobserve(e),n.disconnect()}}}}function xnt(){const e=new WeakMap,t=new WeakMap;return{subscribe(n,r){const i=t.get(n)||[];let o=e.get(n);return t.has(n)||(t.set(n,i),o=bnt().subscribe(n,a=>{for(const s of i)s(a)})),i.push(r),()=>{const a=i.indexOf(r);a>-1&&i.splice(a,1),i.length===0&&o&&o()}}}}function tE(e){const t=nt.c(3),[n,r]=p.useState(null);let i,o;return t[0]!==e?(i=()=>{if(e)return vnt.subscribe(e,r)},o=[e],t[0]=e,t[1]=i,t[2]=o):(i=t[1],o=t[2]),p.useEffect(i,o),n}function Ss(e){const t=nt.c(5);let n;t[0]!==e?(n=a=>e(a),t[0]=e,t[1]=n):n=t[1];const r=YO(n);let i;t[2]!==r?(i=()=>{const a=s=>r(s);return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},t[2]=r,t[3]=i):i=t[3];let o;t[4]===Symbol.for("react.memo_cache_sentinel")?(o=[],t[4]=o):o=t[4],p.useEffect(i,o)}function $5e(e,t){const n=nt.c(4);p.useDebugValue(e);let r;n[0]!==e?(r=o=>{const a=window.matchMedia(e);return a.addEventListener("change",o),()=>a.removeEventListener("change",o)},n[0]=e,n[1]=r):r=n[1];let i;return n[2]!==e?(i=()=>window.matchMedia(e).matches,n[2]=e,n[3]=i):i=n[3],p.useSyncExternalStore(r,i,t)}function wnt(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const qf=wnt();function rp(e,t){const n=Symbol.for(e);return typeof document>"u"?p.createContext(t):(qf[n]=qf[n]||p.createContext(t),qf[n])}const jN=rp("@sanity/ui/context/theme",null);function k2(e){const t=nt.c(15),n=p.useContext(jN),{children:r}=e,i=e.scheme??((n==null?void 0:n.scheme)||"light"),o=e.theme??((n==null?void 0:n.theme)||null),a=e.tone??((n==null?void 0:n.tone)||"default");let s;e:{if(!o){s=null;break e}let m;t[0]!==o||t[1]!==i||t[2]!==a?(m={version:0,theme:o,scheme:i,tone:a},t[0]=o,t[1]=i,t[2]=a,t[3]=m):m=t[3],s=m}const l=s;let u;e:{if(!o){u=null;break e}let m;t[4]!==o||t[5]!==i||t[6]!==a?(m=nGe(o,i,a),t[4]=o,t[5]=i,t[6]=a,t[7]=m):m=t[7],u=m}const d=u;if(!d){let m;return t[8]===Symbol.for("react.memo_cache_sentinel")?(m=c.jsx("pre",{children:'ThemeProvider: no "theme" property provided'}),t[8]=m):m=t[8],m}let f;t[9]!==r||t[10]!==d?(f=c.jsx(EKe,{theme:d,children:r}),t[9]=r,t[10]=d,t[11]=f):f=t[11];let h;return t[12]!==f||t[13]!==l?(h=c.jsx(jN.Provider,{value:l,children:f}),t[12]=f,t[13]=l,t[14]=h):h=t[14],h}k2.displayName="ThemeProvider";function ew(){const e=p.useContext(jN);if(!e)throw new Error("useRootTheme(): missing context value");return e}function IG(e){const t=nt.c(5),{children:n,scheme:r,tone:i}=e,o=ew(),a=r||o.scheme;let s;return t[0]!==n||t[1]!==o.theme||t[2]!==a||t[3]!==i?(s=c.jsx(k2,{scheme:a,theme:o.theme,tone:i,children:n}),t[0]=n,t[1]=o.theme,t[2]=a,t[3]=i,t[4]=s):s=t[4],s}IG.displayName="ThemeColorProvider";function tw(){return mCe()}function ip(){const e=nt.c(2),t=mCe();let n;return e[0]!==t?(n=$e(t),e[0]=t,e[1]=n):n=e[1],n}function Cnt(e,t){return t===0?`screen and (max-width: ${e[t]-1}px)`:t===e.length?`screen and (min-width: ${e[t-1]}px)`:`screen and (min-width: ${e[t-1]}px) and (max-width: ${e[t]-1}px)`}function knt(e){const t=e.length;let n;const r=()=>{if(!n){n=[];for(let i=t;i>-1;i-=1){const o=Cnt(e,i);n.push({index:i,mq:window.matchMedia(o)})}}return n};return{getSnapshot:()=>{for(const{index:i,mq:o}of r())if(o.matches)return i;return 0},subscribe:i=>{const o=[];for(const{mq:a}of r()){const s=()=>{a.matches&&i()};a.addEventListener("change",s),o.push(()=>a.removeEventListener("change",s))}return()=>{for(const a of o)a()}}}}function Snt(){return 0}function Vy(){const e=nt.c(2),{media:t}=ip();let n;e[0]!==t?(n=knt(t),e[0]=t,e[1]=n):n=e[1];const r=n;return p.useSyncExternalStore(r.subscribe,r.getSnapshot,Snt)}function Ent(e){return $5e("(prefers-color-scheme: dark)",e===void 0?_nt:e)}function _nt(){return!1}function qO(e){return $5e("(prefers-reduced-motion: reduce)",e===void 0?Tnt:e)}function Tnt(){return!1}function Ant(){return[jnt,Int,$nt,Dnt,Ont]}function jnt(e){var i;const{card:t,media:n}=$e(e.theme),r=`${((i=t.border)==null?void 0:i.width)??1}px solid var(--card-border-color)`;return Ut(n,e.$border,o=>o?{"&&":{border:r}}:{"&&":{border:0}})}function Int(e){var i;const{card:t,media:n}=$e(e.theme),r=`${((i=t.border)==null?void 0:i.width)??1}px solid var(--card-border-color)`;return Ut(n,e.$borderTop,o=>o?{"&&":{borderTop:r}}:{"&&":{borderTop:0}})}function $nt(e){var i;const{card:t,media:n}=$e(e.theme),r=`${((i=t.border)==null?void 0:i.width)??1}px solid var(--card-border-color)`;return Ut(n,e.$borderRight,o=>o?{"&&":{borderRight:r}}:{"&&":{borderRight:0}})}function Dnt(e){var i;const{card:t,media:n}=$e(e.theme),r=`${((i=t.border)==null?void 0:i.width)??1}px solid var(--card-border-color)`;return Ut(n,e.$borderBottom,o=>o?{"&&":{borderBottom:r}}:{"&&":{borderBottom:0}})}function Ont(e){var i;const{card:t,media:n}=$e(e.theme),r=`${((i=t.border)==null?void 0:i.width)??1}px solid var(--card-border-color)`;return Ut(n,e.$borderLeft,o=>o?{"&&":{borderLeft:r}}:{"&&":{borderLeft:0}})}const Mnt={'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},Pnt={content:"content-box",border:"border-box"},Rnt={stretch:"stretch",fill:"100%"};function Fnt(){return Mnt}function Lnt(){return[Bnt,Vnt,znt,Nnt]}function Nnt(e){const{media:t}=$e(e.theme);return Ut(t,e.$display,n=>({"&:not([hidden])":{display:n}}))}function Bnt(e){const{media:t}=$e(e.theme);return Ut(t,e.$sizing,n=>({boxSizing:Pnt[n]}))}function Vnt(e){const{media:t}=$e(e.theme);return Ut(t,e.$height,n=>({height:Rnt[n]}))}function znt(e){const{media:t}=$e(e.theme);return Ut(t,e.$overflow,n=>({overflow:n}))}const Unt={minWidth:0,minHeight:0};function D5e(){return[Unt,Hnt]}function Hnt(e){const{media:t}=$e(e.theme);return e.$flex?Ut(t,e.$flex,n=>({flex:`${n}`})):Q5}const Wnt={"&&:not([hidden])":{display:"flex"}};function Gnt(){return[Wnt,Knt,Ynt,qnt,Znt,Xnt]}function Knt(e){const{media:t}=$e(e.theme);return Ut(t,e.$align,n=>({alignItems:n}))}function Ynt(e){const{media:t,space:n}=$e(e.theme);return Ut(t,e.$gap,r=>({gap:r?Te(n[r]):void 0}))}function qnt(e){const{media:t}=$e(e.theme);return Ut(t,e.$wrap,n=>({flexWrap:n}))}function Znt(e){const{media:t}=$e(e.theme);return Ut(t,e.$justify,n=>({justifyContent:n}))}function Xnt(e){const{media:t}=$e(e.theme);return Ut(t,e.$direction,n=>({flexDirection:n}))}function qi(e){return`inset 0 0 0 ${e.width}px ${e.color}`}function Ac(e){const{base:t,border:n,focusRing:r}=e,i=r.offset+r.width,o=0-r.offset,a=t?t.bg:"var(--card-bg-color)";return[o>0&&`inset 0 0 0 ${o}px var(--card-focus-ring-color)`,n&&qi(n),o<0&&`0 0 0 ${0-o}px ${a}`,i>0&&`0 0 0 ${i}px var(--card-focus-ring-color)`].filter(Boolean).join(",")}function Jnt(){return[trt,nrt,rrt,irt,ort,art]}const Qnt={auto:"auto",full:"1 / -1"},ert={auto:"auto",full:"1 / -1"};function trt(e){const{media:t}=$e(e.theme);return Ut(t,e.$row,n=>typeof n=="number"?{gridRow:`span ${n} / span ${n}`}:{gridRow:Qnt[n]})}function nrt(e){const{media:t}=$e(e.theme);return Ut(t,e.$rowStart,n=>({gridRowStart:`${n}`}))}function rrt(e){const{media:t}=$e(e.theme);return Ut(t,e.$rowEnd,n=>({gridRowEnd:`${n}`}))}function irt(e){const{media:t}=$e(e.theme);return Ut(t,e.$column,n=>typeof n=="number"?{gridColumn:`span ${n} / span ${n}`}:{gridColumn:ert[n]})}function ort(e){const{media:t}=$e(e.theme);return Ut(t,e.$columnStart,n=>({gridColumnStart:`${n}`}))}function art(e){const{media:t}=$e(e.theme);return Ut(t,e.$columnEnd,n=>({gridColumnEnd:`${n}`}))}const srt={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},lrt={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},crt={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"};function urt(){return[srt,drt,frt,hrt,prt,mrt,grt,yrt,vrt]}function drt(e){const{media:t}=$e(e.theme);return Ut(t,e.$autoFlow,n=>({gridAutoFlow:n}))}function frt(e){const{media:t}=$e(e.theme);return Ut(t,e.$autoRows,n=>({gridAutoRows:n&&crt[n]}))}function hrt(e){const{media:t}=$e(e.theme);return Ut(t,e.$autoCols,n=>({gridAutoColumns:n&&lrt[n]}))}function prt(e){const{media:t}=$e(e.theme);return Ut(t,e.$columns,n=>({gridTemplateColumns:n&&`repeat(${n},minmax(0,1fr));`}))}function mrt(e){const{media:t}=$e(e.theme);return Ut(t,e.$rows,n=>({gridTemplateRows:n&&`repeat(${n},minmax(0,1fr));`}))}function grt(e){const{media:t,space:n}=$e(e.theme);return Ut(t,e.$gap,r=>({gridGap:r?Te(n[r]):void 0}))}function yrt(e){const{media:t,space:n}=$e(e.theme);return Ut(t,e.$gapX,r=>({columnGap:r?Te(n[r]):void 0}))}function vrt(e){const{media:t,space:n}=$e(e.theme);return Ut(t,e.$gapY,r=>({rowGap:r?Te(n[r]):void 0}))}function $G(e){const{$fontSize:t,$iconLeft:n,$iconRight:r,$padding:i,$space:o}=e,{font:a,media:s,space:l}=$e(e.theme),u=Math.max(i.length,o.length,t.length),d=[],f=[],h=[];for(let m=0;m<u;m+=1)h[m]=t[m]===void 0?h[m-1]:t[m],d[m]=i[m]===void 0?d[m-1]:i[m],f[m]=o[m]===void 0?f[m-1]:o[m];return Ut(s,d,(m,g)=>{const y=a.text.sizes[h[g]]||a.text.sizes[2],x=y.lineHeight-y.ascenderHeight-y.descenderHeight,b=l[d[g]],v=l[f[g]],w={paddingTop:Te(b-y.ascenderHeight),paddingRight:Te(b),paddingBottom:Te(b-y.descenderHeight),paddingLeft:Te(b)};return r&&(w.paddingRight=Te(b+x+v)),n&&(w.paddingLeft=Te(b+x+v)),w})}function brt(e){return $G({...e,$iconRight:!0})}const xrt=he`
  &:not([hidden]) {
    display: flex;
  }

  align-items: center;
`;function O5e(){return xrt}function M5e(e){const{$scheme:t,$tone:n,$weight:r}=e,{color:i,font:o}=$e(e.theme);return he`
    appearance: none;
    background: none;
    border: 0;
    border-radius: 0;
    outline: none;
    width: 100%;
    box-sizing: border-box;
    font-family: ${o.text.family};
    font-weight: ${r&&o.text.weights[r]||o.text.weights.regular};
    margin: 0;
    position: relative;
    z-index: 1;
    display: block;

    /* NOTE: This is a hack to disable Chromes autofill styles */
    &:-webkit-autofill,
    &:-webkit-autofill:hover,
    &:-webkit-autofill:focus,
    &:-webkit-autofill:active {
      -webkit-text-fill-color: var(--input-fg-color) !important;
      transition: background-color 5000s;
      transition-delay: 86400s /* 24h */;
    }

    /* &:is(textarea) */
    &[data-as='textarea'] {
      resize: none;
    }

    color: var(--input-fg-color);

    &::placeholder {
      color: var(--input-placeholder-color);
    }

    &[data-scheme='${t}'][data-tone='${n}'] {
      --input-fg-color: ${i.input.default.enabled.fg};
      --input-placeholder-color: ${i.input.default.enabled.placeholder};

      /* enabled */
      &:not(:invalid):not(:disabled):not(:read-only) {
        --input-fg-color: ${i.input.default.enabled.fg};
        --input-placeholder-color: ${i.input.default.enabled.placeholder};
      }

      /* disabled */
      &:not(:invalid):disabled {
        --input-fg-color: ${i.input.default.disabled.fg};
        --input-placeholder-color: ${i.input.default.disabled.placeholder};
      }

      /* invalid */
      &:invalid {
        --input-fg-color: ${i.input.invalid.enabled.fg};
        --input-placeholder-color: ${i.input.invalid.enabled.placeholder};
      }

      /* readOnly */
      &:read-only {
        --input-fg-color: ${i.input.default.readOnly.fg};
        --input-placeholder-color: ${i.input.default.readOnly.placeholder};
      }
    }
  `}function P5e(e){const{font:t,media:n}=$e(e.theme);return Ut(n,e.$fontSize,r=>{const i=t.text.sizes[r]||t.text.sizes[2];return{fontSize:Te(i.fontSize),lineHeight:`${i.lineHeight/i.fontSize}`}})}function R5e(e){const{$hasPrefix:t,$hasSuffix:n,$scheme:r,$tone:i,$unstableDisableFocusRing:o}=e,{color:a,input:s}=$e(e.theme);return he`
    --input-box-shadow: none;

    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: block;
    pointer-events: none;
    z-index: 0;

    background-color: var(--card-bg-color);
    box-shadow: var(--input-box-shadow);

    border-top-left-radius: ${t?0:void 0};
    border-bottom-left-radius: ${t?0:void 0};
    border-top-right-radius: ${n?0:void 0};
    border-bottom-right-radius: ${n?0:void 0};

    &[data-scheme='${r}'][data-tone='${i}'] {
      --card-bg-color: ${a.input.default.enabled.bg};
      --card-fg-color: ${a.input.default.enabled.fg};

      /* enabled */
      *:not(:disabled) + &[data-border] {
        --input-box-shadow: ${qi({color:a.input.default.enabled.border,width:s.border.width})};
      }

      /* invalid */
      *:not(:disabled):invalid + & {
        --card-bg-color: ${a.input.invalid.enabled.bg};
        --card-fg-color: ${a.input.invalid.enabled.fg};

        &[data-border] {
          --input-box-shadow: ${qi({color:a.input.invalid.enabled.border,width:s.border.width})};
        }
      }

      /* focused */
      *:not(:disabled):focus + & {
        &[data-border] {
          --input-box-shadow: ${o?void 0:Ac({border:{color:a.input.default.enabled.border,width:s.border.width},focusRing:s.text.focusRing})};
        }

        &:not([data-border]) {
          --input-box-shadow: ${o?void 0:Ac({focusRing:s.text.focusRing})};
        }
      }

      /* disabled */
      *:not(:invalid):disabled + & {
        --card-bg-color: ${a.input.default.disabled.bg} !important;
        --card-fg-color: ${a.input.default.disabled.fg} !important;
        --card-icon-color: ${a.input.default.disabled.fg} !important;

        &[data-border] {
          --input-box-shadow: ${qi({color:a.input.default.disabled.border,width:s.border.width})};
        }
      }

      *:invalid:disabled + & {
        --card-bg-color: ${a.input.invalid.disabled.bg} !important;
        --card-fg-color: ${a.input.invalid.disabled.fg} !important;
        --card-icon-color: ${a.input.invalid.disabled.fg} !important;

        &[data-border] {
          --input-box-shadow: ${qi({color:a.input.invalid.disabled.border,width:s.border.width})};
        }
      }

      /* readOnly */
      *:not(:invalid):read-only + & {
        --card-bg-color: ${a.input.default.readOnly.bg} !important;
        --card-fg-color: ${a.input.default.readOnly.fg} !important;
      }

      *:invalid:read-only + & {
        --card-bg-color: ${a.input.invalid.readOnly.bg} !important;
        --card-fg-color: ${a.input.invalid.readOnly.fg} !important;
      }

      /* hovered */
      @media (hover: hover) {
        *:not(:disabled):not(:read-only):not(:invalid):hover + & {
          --card-bg-color: ${a.input.default.hovered.bg};
          --card-fg-color: ${a.input.default.hovered.fg};
        }

        *:invalid:not(:disabled):not(:read-only):hover + & {
          --card-bg-color: ${a.input.invalid.hovered.bg};
          --card-fg-color: ${a.input.invalid.hovered.fg};
        }

        *:not(:disabled):not(:read-only):not(:invalid):not(:focus):hover + &[data-border] {
          --input-box-shadow: ${qi({color:a.input.default.hovered.border,width:s.border.width})};
        }

        *:invalid:not(:disabled):not(:read-only):not(:focus):hover + &[data-border] {
          --input-box-shadow: ${qi({color:a.input.invalid.hovered.border,width:s.border.width})};
        }
      }
    }
  `}function wrt(e){const{theme:t}=e;return[Ys(t,["margin"],e.$margin),Ys(t,["marginLeft","marginRight"],e.$marginX),Ys(t,["marginTop","marginBottom"],e.$marginY),Ys(t,["marginTop"],e.$marginTop),Ys(t,["marginRight"],e.$marginRight),Ys(t,["marginBottom"],e.$marginBottom),Ys(t,["marginLeft"],e.$marginLeft)].filter(Boolean)}function F5e(e){const{theme:t}=e;return[Ys(t,["padding"],e.$padding),Ys(t,["paddingLeft","paddingRight"],e.$paddingX),Ys(t,["paddingTop","paddingBottom"],e.$paddingY),Ys(t,["paddingTop"],e.$paddingTop),Ys(t,["paddingRight"],e.$paddingRight),Ys(t,["paddingBottom"],e.$paddingBottom),Ys(t,["paddingLeft"],e.$paddingLeft)].filter(Boolean)}function op(e){const{media:t,radius:n}=$e(e.theme);return Ut(t,e.$radius,r=>{let i=0;return typeof r=="number"&&(i=Te(n[r])),r==="full"&&(i="9999px"),{borderRadius:i}})}function Z6(e,t){return`${e.map(Te).join(" ")} ${t}`}function Crt(e,t=1){if(!e)return Om;const n=`0 0 0 ${Te(t)} var(--card-shadow-outline-color)`,r=Z6(e.umbra,"var(--card-shadow-umbra-color)"),i=Z6(e.penumbra,"var(--card-shadow-penumbra-color)"),o=Z6(e.ambient,"var(--card-shadow-ambient-color)");return{boxShadow:`${n}, ${r}, ${i}, ${o}`}}function krt(e){const{card:t,media:n,shadow:r}=$e(e.theme);return Ut(n,e.$shadow,i=>Crt(r[i],t.shadow.outline))}const DG=R.span.withConfig({displayName:"SpanWithTextOverflow",componentId:"sc-ol2i3b-0"})`display:block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;overflow:clip;`;function Srt(e){const{$accent:t,$muted:n}=e,{font:r}=$e(e.theme);return he`
    text-transform: uppercase;

    ${t&&he`
      color: var(--card-accent-fg-color);
    `}

    ${n&&he`
      color: var(--card-muted-fg-color);
    `}

    & code {
      font-family: ${r.code.family};
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `}const Ert=R.div.withConfig({displayName:"StyledLabel",componentId:"sc-1luap7z-0"})(mnt,jG,Srt),nw=p.forwardRef(function(e,t){const n=nt.c(22);let r,i,o,a,s,l,u,d;n[0]!==e?({accent:r,align:i,children:o,muted:s,size:l,textOverflow:u,weight:d,...a}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=u,n[8]=d):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],u=n[7],d=n[8]);const f=s===void 0?!1:s,h=l===void 0?2:l;let m=o;if(u==="ellipsis"){let b;n[9]!==m?(b=c.jsx(DG,{children:m}),n[9]=m,n[10]=b):b=n[10],m=b}else{let b;n[11]!==m?(b=c.jsx("span",{children:m}),n[11]=m,n[12]=b):b=n[12],m=b}const g=De(i),y=De(h);let x;return n[13]!==r||n[14]!==m||n[15]!==f||n[16]!==t||n[17]!==a||n[18]!==g||n[19]!==y||n[20]!==d?(x=c.jsx(Ert,{"data-ui":"Label",...a,$accent:r,$align:g,$muted:f,$size:y,$weight:d,ref:t,children:m}),n[13]=r,n[14]=m,n[15]=f,n[16]=t,n[17]=a,n[18]=g,n[19]=y,n[20]=d,n[21]=x):x=n[21],x});nw.displayName="ForwardRef(Label)";const rw={root:Trt,arrow:_rt,bgStroke:$rt,stroke:Drt,initials:Irt,image:jrt};function _rt(){return{position:"absolute",boxSizing:"border-box",zIndex:"0",opacity:"0",transition:"all 0.2s linear",transform:"rotate(-90deg) translate3d(0, 6px, 0)",left:0,right:0,top:0,bottom:0,"& > svg":{width:"11px",height:"7px",position:"absolute",top:"-5px",left:"50%",transform:"translateX(-6px)","&:not([hidden])":{display:"block"}},"[data-arrow-position='inside'] > &":{transform:"rotate(-90deg) translate3d(0, 6px, 0)",opacity:"0"},"[data-arrow-position='top'] > &":{opacity:"1",transform:"rotate(0deg)"},"[data-arrow-position='bottom'] > &":{opacity:"1",transform:"rotate(-180deg)"}}}function Trt(e){const{$color:t}=e,{avatar:n}=$e(e.theme);return{"--avatar-bg-color":`var(--card-avatar-${t}-bg-color)`,"--avatar-fg-color":`var(--card-avatar-${t}-fg-color)`,backgroundColor:"var(--avatar-bg-color)",position:"relative",boxSizing:"border-box",userSelect:"none",boxShadow:"0 0 0 1px var(--card-bg-color)",'&[data-status="inactive"]':{opacity:"0.5"},"&>svg":{"&:not([hidden])":{display:"block"}},'&[data-as="button"]':{WebkitFontSmoothing:"inherit",appearance:"none",margin:0,padding:0,border:0,font:"inherit",color:"inherit",outline:"none","&:focus":{boxShadow:Ac({focusRing:n.focusRing})},"&:focus:not(:focus-visible)":{boxShadow:"none"}}}}function Art(e){const{avatar:t,media:n}=$e(e.theme);return Ut(n,e.$size,r=>{const i=t.sizes[r]||t.sizes[0];return{width:Te(i.size),height:Te(i.size),borderRadius:Te(i.size/2),"&>svg":{width:Te(i.size),height:Te(i.size),borderRadius:Te(i.size/2)}}})}function jrt(){return{position:"relative"}}function Irt(){return{width:"100%",height:"100%",color:"var(--avatar-fg-color)",alignItems:"center",justifyContent:"center",textTransform:"uppercase",textAlign:"center",borderRadius:"50%","&:not([hidden])":{display:"flex"}}}function $rt(){return{strokeWidth:"4px",stroke:"var(--card-bg-color)"}}function Drt(){return{strokeWidth:"2px",stroke:"var(--avatar-bg-color)",'[data-status="editing"] &':{strokeDasharray:"2 4",strokeLinecap:"round"}}}const Ort=R.div.withConfig({displayName:"StyledAvatar",componentId:"sc-1rj7kl0-0"})(Art,rw.root),Mrt=R.div.withConfig({displayName:"Arrow",componentId:"sc-1rj7kl0-1"})(rw.arrow),Prt=R.ellipse.withConfig({displayName:"BgStroke",componentId:"sc-1rj7kl0-2"})(rw.bgStroke),Rrt=R.ellipse.withConfig({displayName:"Stroke",componentId:"sc-1rj7kl0-3"})(rw.stroke),Frt=R.div.withConfig({displayName:"Initials",componentId:"sc-1rj7kl0-4"})(rw.initials),Lrt=R(nw).withConfig({displayName:"InitialsLabel",componentId:"sc-1rj7kl0-5"})({color:"inherit"}),Nrt=R.svg.withConfig({displayName:"AvatarImage",componentId:"sc-1rj7kl0-6"})(rw.image),OG=p.forwardRef(function(e,t){const n=nt.c(52);let r,i,o,a,s,l,u,d,f,h,m,g;n[0]!==e?({__unstable_hideInnerStroke:r,as:a,color:f,src:d,title:g,initials:s,onImageLoadError:l,arrowPosition:o,animateArrowFrom:i,status:h,size:m,...u}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=u,n[8]=d,n[9]=f,n[10]=h,n[11]=m,n[12]=g):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],u=n[7],d=n[8],f=n[9],h=n[10],m=n[11],g=n[12]);const y=f===void 0?"gray":f,x=h===void 0?"online":h,b=m===void 0?1:m,{avatar:v}=ip(),w=$Ke.isValidElementType(a)?a:"div",C=De(b),k=(v.sizes[C[0]]||v.sizes[0]).size,S=k/2,E=p.useId(),[_,T]=p.useState(i||o||"inside"),[A,I]=p.useState(!1),j=`avatar-image-${E}`;let $,D;n[13]!==_||n[14]!==o?($=()=>{if(_===o)return;const oe=requestAnimationFrame(()=>T(o));return()=>cancelAnimationFrame(oe)},D=[_,o],n[13]=_,n[14]=o,n[15]=$,n[16]=D):($=n[15],D=n[16]),p.useEffect($,D);let O,M;n[17]!==d?(O=()=>{d&&I(!1)},M=[d],n[17]=d,n[18]=O,n[19]=M):(O=n[18],M=n[19]),p.useEffect(O,M);let P;n[20]!==l?(P=()=>{I(!0),l&&l(new Error("Avatar: the image failed to load"))},n[20]=l,n[21]=P):P=n[21];const F=P;let L;n[22]!==C?(L=C.map(Brt),n[22]=C,n[23]=L):L=n[23];const U=L,H=typeof w=="string"?w:void 0;let N;n[24]!==y?(N=c.jsx(Mrt,{children:c.jsx("svg",{width:"11",height:"7",viewBox:"0 0 11 7",fill:"none",children:c.jsx("path",{d:"M6.67948 1.50115L11 7L0 7L4.32052 1.50115C4.92109 0.736796 6.07891 0.736795 6.67948 1.50115Z",fill:y})})}),n[24]=y,n[25]=N):N=n[25];let Y;n[26]!==r||n[27]!==S||n[28]!==k||n[29]!==F||n[30]!==A||n[31]!==j||n[32]!==d?(Y=!A&&d&&c.jsxs(Nrt,{viewBox:`0 0 ${k} ${k}`,fill:"none",children:[c.jsx("defs",{children:c.jsx("pattern",{id:j,patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:c.jsx("image",{href:d,width:"1",height:"1",onError:F})})}),c.jsx("circle",{cx:S,cy:S,r:S,fill:`url(#${j})`}),!r&&c.jsx(Prt,{cx:S,cy:S,rx:S,ry:S,vectorEffect:"non-scaling-stroke"}),c.jsx(Rrt,{cx:S,cy:S,rx:S,ry:S,vectorEffect:"non-scaling-stroke"})]}),n[26]=r,n[27]=S,n[28]=k,n[29]=F,n[30]=A,n[31]=j,n[32]=d,n[33]=Y):Y=n[33];let J;n[34]!==A||n[35]!==s||n[36]!==U||n[37]!==d?(J=(A||!d)&&s&&c.jsx(c.Fragment,{children:c.jsx(Frt,{children:c.jsx(Lrt,{forwardedAs:"span",size:U,weight:"medium",children:s})})}),n[34]=A,n[35]=s,n[36]=U,n[37]=d,n[38]=J):J=n[38];let ee;return n[39]!==_||n[40]!==w||n[41]!==y||n[42]!==t||n[43]!==u||n[44]!==C||n[45]!==x||n[46]!==N||n[47]!==Y||n[48]!==J||n[49]!==H||n[50]!==g?(ee=c.jsxs(Ort,{as:w,"data-as":H,"data-ui":"Avatar",...u,$color:y,$size:C,"aria-label":g,"data-arrow-position":_,"data-status":x,ref:t,title:g,children:[N,Y,J]}),n[39]=_,n[40]=w,n[41]=y,n[42]=t,n[43]=u,n[44]=C,n[45]=x,n[46]=N,n[47]=Y,n[48]=J,n[49]=H,n[50]=g,n[51]=ee):ee=n[51],ee});OG.displayName="ForwardRef(Avatar)";function Brt(e){return e===1?1:e===2?3:e===3?5:0}function Vrt(e){const{avatar:t,media:n}=$e(e.theme);return Ut(n,e.$size,r=>{const i=t.sizes[r];return i?{borderRadius:Te(i.size/2),minWidth:Te(i.size),height:Te(i.size)}:Om})}function zrt(e){const{space:t}=$e(e.theme);return he`
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    user-select: none;
    color: inherit;
    color: var(--card-fg-color);
    background: var(--card-bg-color);
    box-shadow:
      0 0 0 1px var(--card-bg-color),
      inset 0 0 0 1px var(--card-hairline-hard-color);
    padding: 0 ${Te(t[2])};

    &:not([hidden]) {
      display: flex;
    }
  `}const Urt=R.div.withConfig({displayName:"StyledAvatarCounter",componentId:"sc-1ydx86y-0"})(Vrt,zrt),$3=p.forwardRef(function(e,t){const n=nt.c(9),{count:r,size:i}=e,o=De(i===void 0?1:i);let a;n[0]!==o?(a=o.map(Hrt),n[0]=o,n[1]=a):a=n[1];const s=a;let l;n[2]!==r||n[3]!==s?(l=c.jsx(nw,{as:"span",size:s,weight:"medium",children:r}),n[2]=r,n[3]=s,n[4]=l):l=n[4];let u;return n[5]!==t||n[6]!==o||n[7]!==l?(u=c.jsx(Urt,{$size:o,"data-ui":"AvatarCounter",ref:t,children:l}),n[5]=t,n[6]=o,n[7]=l,n[8]=u):u=n[8],u});$3.displayName="ForwardRef(AvatarCounter)";function Hrt(e){return e===1?1:e===2?3:e===3?5:0}const Wrt=he`
  white-space: nowrap;

  & > div {
    vertical-align: top;

    &:not([hidden]) {
      display: inline-block;
    }
  }
`;function Grt(){return Wrt}function Krt(e){const{avatar:t,media:n}=$e(e.theme);return Ut(n,e.$size,r=>{const i=t.sizes[r];return i?{"& > div + div":{marginLeft:Te(i.distance)}}:Om})}const Yrt=R.div.withConfig({displayName:"StyledAvatarStack",componentId:"sc-cysmbb-0"})(Krt,Grt),nE=p.forwardRef(function(e,t){const n=nt.c(22);let r,i,o,a;n[0]!==e?({children:r,maxLength:o,size:a,...i}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a):(r=n[1],i=n[2],o=n[3],a=n[4]);const s=o===void 0?4:o,l=a===void 0?1:a,u=p.Children.toArray(r).filter(p.isValidElement),d=Math.max(s,0),f=De(l),h=u.length,m=d-1,g=h-m,y=g>1?u.slice(g,h):u,x=Yrt,b="AvatarStack";let v;n[5]!==h||n[6]!==f?(v=h===0&&c.jsx("div",{children:c.jsx($3,{count:h,size:f})}),n[5]=h,n[6]=f,n[7]=v):v=n[7];let w;n[8]!==g||n[9]!==h||n[10]!==f?(w=h!==0&&g>1&&c.jsx("div",{children:c.jsx($3,{count:g,size:f})}),n[8]=g,n[9]=h,n[10]=f,n[11]=w):w=n[11];let C;n[12]!==f?(C=(E,_)=>c.jsx("div",{children:p.cloneElement(E,{size:f})},String(_)),n[12]=f,n[13]=C):C=n[13];const k=y.map(C);let S;return n[14]!==x||n[15]!==t||n[16]!==i||n[17]!==f||n[18]!==v||n[19]!==w||n[20]!==k?(S=c.jsxs(x,{"data-ui":b,...i,ref:t,$size:f,children:[v,w,k]}),n[14]=x,n[15]=t,n[16]=i,n[17]=f,n[18]=v,n[19]=w,n[20]=k,n[21]=S):S=n[21],S});nE.displayName="ForwardRef(AvatarStack)";const qrt=R.div.withConfig({displayName:"StyledBox",componentId:"sc-1hhky9f-0"})(Fnt,D5e,Lnt,Jnt,wrt,F5e),V=p.forwardRef(function(e,t){const n=nt.c(59);let r,i,o,a,s,l,u,d,f,h,m,g,y,x,b,v,w,C,k,S,E,_,T,A,I,j,$;n[0]!==e?({as:A,column:r,columnStart:o,columnEnd:i,display:I,flex:a,height:s,margin:j,marginX:h,marginY:m,marginTop:f,marginRight:d,marginBottom:l,marginLeft:u,overflow:g,padding:$,paddingX:w,paddingY:C,paddingTop:v,paddingRight:b,paddingBottom:y,paddingLeft:x,row:S,rowStart:_,rowEnd:E,sizing:T,...k}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=u,n[8]=d,n[9]=f,n[10]=h,n[11]=m,n[12]=g,n[13]=y,n[14]=x,n[15]=b,n[16]=v,n[17]=w,n[18]=C,n[19]=k,n[20]=S,n[21]=E,n[22]=_,n[23]=T,n[24]=A,n[25]=I,n[26]=j,n[27]=$):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],u=n[7],d=n[8],f=n[9],h=n[10],m=n[11],g=n[12],y=n[13],x=n[14],b=n[15],v=n[16],w=n[17],C=n[18],k=n[19],S=n[20],E=n[21],_=n[22],T=n[23],A=n[24],I=n[25],j=n[26],$=n[27]);const D=A===void 0?"div":A,O=I===void 0?"block":I,M=j===void 0?0:j,P=$===void 0?0:$,F=typeof D=="string"?D:void 0,L=De(r),U=De(o),H=De(i),N=De(O),Y=De(a),J=De(s),ee=De(M),oe=De(h),re=De(m),se=De(f),G=De(d),K=De(l),q=De(u),X=De(g),ie=De(P),te=De(w),de=De(C),pe=De(v),ve=De(b),Ce=De(y),xe=De(x),Ae=De(S),Re=De(_),we=De(E),ye=De(T);let ke;return n[28]!==D||n[29]!==e.children||n[30]!==t||n[31]!==k||n[32]!==J||n[33]!==ee||n[34]!==oe||n[35]!==re||n[36]!==se||n[37]!==G||n[38]!==K||n[39]!==q||n[40]!==X||n[41]!==ie||n[42]!==te||n[43]!==de||n[44]!==pe||n[45]!==ve||n[46]!==Ce||n[47]!==xe||n[48]!==Ae||n[49]!==Re||n[50]!==we||n[51]!==ye||n[52]!==F||n[53]!==L||n[54]!==U||n[55]!==H||n[56]!==N||n[57]!==Y?(ke=c.jsx(qrt,{"data-as":F,"data-ui":"Box",...k,$column:L,$columnStart:U,$columnEnd:H,$display:N,$flex:Y,$height:J,$margin:ee,$marginX:oe,$marginY:re,$marginTop:se,$marginRight:G,$marginBottom:K,$marginLeft:q,$overflow:X,$padding:ie,$paddingX:te,$paddingY:de,$paddingTop:pe,$paddingRight:ve,$paddingBottom:Ce,$paddingLeft:xe,$row:Ae,$rowStart:Re,$rowEnd:we,$sizing:ye,as:D,ref:t,children:e.children}),n[28]=D,n[29]=e.children,n[30]=t,n[31]=k,n[32]=J,n[33]=ee,n[34]=oe,n[35]=re,n[36]=se,n[37]=G,n[38]=K,n[39]=q,n[40]=X,n[41]=ie,n[42]=te,n[43]=de,n[44]=pe,n[45]=ve,n[46]=Ce,n[47]=xe,n[48]=Ae,n[49]=Re,n[50]=we,n[51]=ye,n[52]=F,n[53]=L,n[54]=U,n[55]=H,n[56]=N,n[57]=Y,n[58]=ke):ke=n[58],ke});V.displayName="ForwardRef(Box)";function Zrt(e){const{$accent:t,$muted:n}=e,{font:r}=$e(e.theme);return he`
    color: var(--card-fg-color);

    ${t&&he`
      color: var(--card-accent-fg-color);
    `}

    ${n&&he`
      color: var(--card-muted-fg-color);
    `}

    & code {
      font-family: ${r.code.family};
      border-radius: 1px;
      background-color: var(--card-code-bg-color);
      color: var(--card-code-fg-color);
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & strong {
      font-weight: ${r.text.weights.bold};
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
      color: var(--card-icon-color);

      & path {
        vector-effect: non-scaling-stroke !important;
      }
    }
  `}const Xrt=R.div.withConfig({displayName:"StyledText",componentId:"sc-11ov82j-0"})(gnt,jG,Zrt),B=p.forwardRef(function(e,t){const n=nt.c(22);let r,i,o,a,s,l,u,d;n[0]!==e?({accent:a,align:r,children:i,muted:s,size:l,textOverflow:u,weight:d,...o}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=u,n[8]=d):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],u=n[7],d=n[8]);const f=a===void 0?!1:a,h=s===void 0?!1:s,m=l===void 0?2:l;let g=i;if(u==="ellipsis"){let w;n[9]!==g?(w=c.jsx(DG,{children:g}),n[9]=g,n[10]=w):w=n[10],g=w}const y=De(r),x=De(m);let b;n[11]!==g?(b=c.jsx("span",{children:g}),n[11]=g,n[12]=b):b=n[12];let v;return n[13]!==f||n[14]!==h||n[15]!==t||n[16]!==o||n[17]!==y||n[18]!==x||n[19]!==b||n[20]!==d?(v=c.jsx(Xrt,{"data-ui":"Text",...o,$accent:f,$align:y,$muted:h,ref:t,$size:x,$weight:d,children:b}),n[13]=f,n[14]=h,n[15]=t,n[16]=o,n[17]=y,n[18]=x,n[19]=b,n[20]=d,n[21]=v):v=n[21],v});B.displayName="ForwardRef(Text)";function Jrt(e){const{$tone:t}=e;return{"--card-bg-color":`var(--card-badge-${t}-bg-color)`,"--card-fg-color":`var(--card-badge-${t}-fg-color)`,backgroundColor:"var(--card-bg-color)",cursor:"default","&:not([hidden])":{display:"inline-block",verticalAlign:"top"}}}const Qrt=R(V).withConfig({displayName:"StyledBadge",componentId:"sc-5u140l-0"})(op,Jrt),$a=p.forwardRef(function(e,t){const n=nt.c(17);let r,i,o,a,s,l;if(n[0]!==e){const{children:b,fontSize:v,mode:w,padding:C,radius:k,tone:S,...E}=e;r=b,o=v,a=C,s=k,l=S,i=E,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l}else r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6];const u=o===void 0?1:o,d=a===void 0?1:a,f=s===void 0?"full":s,h=l===void 0?"default":l,m=De(f),g=De(d);let y;n[7]!==r||n[8]!==u?(y=c.jsx(B,{size:u,children:r}),n[7]=r,n[8]=u,n[9]=y):y=n[9];let x;return n[10]!==t||n[11]!==i||n[12]!==m||n[13]!==g||n[14]!==y||n[15]!==h?(x=c.jsx(Qrt,{"data-ui":"Badge",...i,$tone:h,$radius:m,padding:g,ref:t,children:y}),n[10]=t,n[11]=i,n[12]=m,n[13]=g,n[14]=y,n[15]=h,n[16]=x):x=n[16],x});$a.displayName="ForwardRef(Badge)";const eit=R(V).withConfig({displayName:"StyledFlex",componentId:"sc-oxesg3-0"})(D5e,Gnt),W=p.forwardRef(function(e,t){const n=nt.c(17);let r,i,o,a,s,l,u;n[0]!==e?({align:r,as:i,direction:l,gap:o,justify:a,wrap:u,...s}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=u):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],u=n[7]);const d=l===void 0?"row":l,f=De(r),h=De(d),m=De(o),g=De(a),y=De(u);let x;return n[8]!==i||n[9]!==t||n[10]!==s||n[11]!==f||n[12]!==h||n[13]!==m||n[14]!==g||n[15]!==y?(x=c.jsx(eit,{"data-ui":"Flex",...s,$align:f,$direction:h,$gap:m,$justify:g,$wrap:y,forwardedAs:i,ref:t}),n[8]=i,n[9]=t,n[10]=s,n[11]=f,n[12]=h,n[13]=m,n[14]=g,n[15]=y,n[16]=x):x=n[16],x});W.displayName="ForwardRef(Flex)";const tit=Fy`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`,nit=R(B).withConfig({displayName:"StyledSpinner",componentId:"sc-124hnd0-0"})`& > span > svg{animation:${tit} 500ms linear infinite;}`,dg=p.forwardRef(function(e,t){const n=nt.c(4);let r;n[0]===Symbol.for("react.memo_cache_sentinel")?(r=c.jsx(bCe,{}),n[0]=r):r=n[0];let i;return n[1]!==e||n[2]!==t?(i=c.jsx(nit,{"data-ui":"Spinner",...e,ref:t,children:r}),n[1]=e,n[2]=t,n[3]=i):i=n[3],i});dg.displayName="ForwardRef(Spinner)";function In(e,t,n=!1){var r,i,o,a,s,l,u,d;return{"--card-backdrop-color":e.backdrop,"--card-focus-ring-color":e.focusRing,"--card-shadow-outline-color":e.shadow.outline,"--card-shadow-umbra-color":e.shadow.umbra,"--card-shadow-penumbra-color":e.shadow.penumbra,"--card-shadow-ambient-color":e.shadow.ambient,"--card-accent-fg-color":t.accent.fg,"--card-avatar-gray-bg-color":t.avatar.gray.bg,"--card-avatar-gray-fg-color":t.avatar.gray.fg,"--card-avatar-blue-bg-color":t.avatar.blue.bg,"--card-avatar-blue-fg-color":t.avatar.blue.fg,"--card-avatar-purple-bg-color":t.avatar.purple.bg,"--card-avatar-purple-fg-color":t.avatar.purple.fg,"--card-avatar-magenta-bg-color":t.avatar.magenta.bg,"--card-avatar-magenta-fg-color":t.avatar.magenta.fg,"--card-avatar-red-bg-color":t.avatar.red.bg,"--card-avatar-red-fg-color":t.avatar.red.fg,"--card-avatar-orange-bg-color":t.avatar.orange.bg,"--card-avatar-orange-fg-color":t.avatar.orange.fg,"--card-avatar-yellow-bg-color":t.avatar.yellow.bg,"--card-avatar-yellow-fg-color":t.avatar.yellow.fg,"--card-avatar-green-bg-color":t.avatar.green.bg,"--card-avatar-green-fg-color":t.avatar.green.fg,"--card-avatar-cyan-bg-color":t.avatar.cyan.bg,"--card-avatar-cyan-fg-color":t.avatar.cyan.fg,"--card-bg-color":t.bg,"--card-bg-image":n?`repeating-conic-gradient(${t.bg} 0% 25%, ${t.muted.bg} 0% 50%)`:void 0,"--card-border-color":t.border,"--card-badge-default-bg-color":t.badge.default.bg,"--card-badge-default-dot-color":t.badge.default.dot,"--card-badge-default-fg-color":t.badge.default.fg,"--card-badge-default-icon-color":t.badge.default.icon,"--card-badge-neutral-bg-color":(r=t.badge.neutral)==null?void 0:r.bg,"--card-badge-neutral-dot-color":(i=t.badge.neutral)==null?void 0:i.dot,"--card-badge-neutral-fg-color":(o=t.badge.neutral)==null?void 0:o.fg,"--card-badge-neutral-icon-color":(a=t.badge.neutral)==null?void 0:a.icon,"--card-badge-primary-bg-color":t.badge.primary.bg,"--card-badge-primary-dot-color":t.badge.primary.dot,"--card-badge-primary-fg-color":t.badge.primary.fg,"--card-badge-primary-icon-color":t.badge.primary.icon,"--card-badge-suggest-bg-color":(s=t.badge.suggest)==null?void 0:s.bg,"--card-badge-suggest-dot-color":(l=t.badge.suggest)==null?void 0:l.dot,"--card-badge-suggest-fg-color":(u=t.badge.suggest)==null?void 0:u.fg,"--card-badge-suggest-icon-color":(d=t.badge.suggest)==null?void 0:d.icon,"--card-badge-positive-bg-color":t.badge.positive.bg,"--card-badge-positive-dot-color":t.badge.positive.dot,"--card-badge-positive-fg-color":t.badge.positive.fg,"--card-badge-positive-icon-color":t.badge.positive.icon,"--card-badge-caution-bg-color":t.badge.caution.bg,"--card-badge-caution-dot-color":t.badge.caution.dot,"--card-badge-caution-fg-color":t.badge.caution.fg,"--card-badge-caution-icon-color":t.badge.caution.icon,"--card-badge-critical-bg-color":t.badge.critical.bg,"--card-badge-critical-dot-color":t.badge.critical.dot,"--card-badge-critical-fg-color":t.badge.critical.fg,"--card-badge-critical-icon-color":t.badge.critical.icon,"--card-code-bg-color":t.code.bg,"--card-code-fg-color":t.code.fg,"--card-fg-color":t.fg,"--card-icon-color":t.icon,"--card-kbd-bg-color":t.kbd.bg,"--card-kbd-border-color":t.kbd.border,"--card-kbd-fg-color":t.kbd.fg,"--card-link-fg-color":t.link.fg,"--card-muted-bg-color":t.muted.bg,"--card-muted-fg-color":t.muted.fg,"--card-skeleton-color-from":t.skeleton.from,"--card-skeleton-color-to":t.skeleton.to,"--card-bg2-color":t.muted.bg,"--card-link-color":t.link.fg,"--card-hairline-soft-color":t.border,"--card-hairline-hard-color":t.border}}function rit(e){const{$width:t}=e,{style:n}=$e(e.theme);return he`
    ${n==null?void 0:n.button};

    -webkit-font-smoothing: inherit;
    appearance: none;
    display: inline-flex;
    align-items: center;
    font: inherit;
    border: 0;
    outline: none;
    user-select: none;
    text-decoration: none;
    border: 0;
    box-sizing: border-box;
    padding: 0;
    margin: 0;
    white-space: nowrap;
    text-align: left;
    position: relative;
    vertical-align: top;

    ${t==="fill"&&he`
      width: -moz-available;
      width: -webkit-fill-available;
      width: stretch;
    `}

    & > span {
      display: block;
      flex: 1;
      min-width: 0;
      border-radius: inherit;
    }

    &::-moz-focus-inner {
      border: 0;
      padding: 0;
    }
  `}function Zie(...e){return e.filter(Boolean).join(",")}function iit(e){var d;const{$mode:t}=e,{button:n,color:r,style:i}=$e(e.theme),o=e.$mode==="ghost",a=r.button[t]||r.button.default,s=a[e.$tone]||a.default,l={width:n.border.width,color:"var(--card-border-color)"},u=void 0;return[In(r,s.enabled),{backgroundColor:"var(--card-bg-color)",color:"var(--card-fg-color)",boxShadow:qi(l),'&:disabled, &[data-disabled="true"]':In(r,s.disabled),"&:not([data-disabled='true'])":{boxShadow:Zie(qi(l),o?u:void 0),"&:focus":{boxShadow:Ac({base:r,border:{width:2,color:r.bg},focusRing:n.focusRing})},"&:focus:not(:focus-visible)":{boxShadow:Zie(qi(l),o?u:void 0)},"@media (hover: hover)":{"&:hover":In(r,s.hovered),"&:active":In(r,s.pressed),"&[data-hovered]":In(r,s.hovered)},"&[data-selected]":In(r,s.pressed)}},(d=i==null?void 0:i.button)==null?void 0:d.root].filter(Boolean)}const oit=R.button.withConfig({displayName:"StyledButton",componentId:"sc-aaekt4-0"})(op,rit,iit),ait=R.div.withConfig({displayName:"LoadingBox",componentId:"sc-aaekt4-1"})`position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;background-color:var(--card-bg-color);border-radius:inherit;z-index:1;box-shadow:inherit;`,zt=p.forwardRef(function(e,t){const n=nt.c(66);let r,i,o,a,s,l,u,d,f,h,m,g,y,x,b,v,w,C,k,S,E,_,T,A,I,j;n[0]!==e?({children:o,disabled:a,fontSize:x,icon:r,iconRight:i,justify:b,loading:s,mode:v,padding:w,paddingX:h,paddingY:m,paddingTop:f,paddingBottom:l,paddingLeft:u,paddingRight:d,radius:C,selected:y,space:k,text:T,textAlign:A,textWeight:I,tone:S,type:E,muted:_,width:j,...g}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=u,n[8]=d,n[9]=f,n[10]=h,n[11]=m,n[12]=g,n[13]=y,n[14]=x,n[15]=b,n[16]=v,n[17]=w,n[18]=C,n[19]=k,n[20]=S,n[21]=E,n[22]=_,n[23]=T,n[24]=A,n[25]=I,n[26]=j):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],u=n[7],d=n[8],f=n[9],h=n[10],m=n[11],g=n[12],y=n[13],x=n[14],b=n[15],v=n[16],w=n[17],C=n[18],k=n[19],S=n[20],E=n[21],_=n[22],T=n[23],A=n[24],I=n[25],j=n[26]);const $=x===void 0?1:x,D=b===void 0?"center":b,O=v===void 0?"default":v,M=w===void 0?3:w,P=C===void 0?2:C,F=k===void 0?3:k,L=S===void 0?"default":S,U=E===void 0?"button":E,H=_===void 0?!1:_,{button:N}=ip(),Y=De(D),J=De(M),ee=De(h),oe=De(m),re=De(f),se=De(l),G=De(u),K=De(d),q=De(P),X=De(F);let ie;n[27]!==J||n[28]!==se||n[29]!==G||n[30]!==K||n[31]!==re||n[32]!==ee||n[33]!==oe?(ie={padding:J,paddingX:ee,paddingY:oe,paddingTop:re,paddingBottom:se,paddingLeft:G,paddingRight:K},n[27]=J,n[28]=se,n[29]=G,n[30]=K,n[31]=re,n[32]=ee,n[33]=oe,n[34]=ie):ie=n[34];const te=ie,de=!!(s||a),pe=y?"":void 0,ve=!!(s||a);let Ce;n[35]!==s?(Ce=!!s&&c.jsx(ait,{children:c.jsx(dg,{})}),n[35]=s,n[36]=Ce):Ce=n[36];let xe;n[37]!==r||n[38]!==i||n[39]!==te||n[40]!==N||n[41]!==$||n[42]!==Y||n[43]!==H||n[44]!==X||n[45]!==T||n[46]!==A||n[47]!==I?(xe=(r||T||i)&&c.jsx(V,{as:"span",...te,children:c.jsxs(W,{as:"span",justify:Y,gap:X,children:[r&&c.jsxs(B,{size:$,children:[p.isValidElement(r)&&r,Hd.isValidElementType(r)&&c.jsx(r,{})]}),T&&c.jsx(V,{children:c.jsx(B,{muted:H,align:A,size:$,textOverflow:"ellipsis",weight:I??N.textWeight,children:T})}),i&&c.jsxs(B,{size:$,children:[p.isValidElement(i)&&i,Hd.isValidElementType(i)&&c.jsx(i,{})]})]})}),n[37]=r,n[38]=i,n[39]=te,n[40]=N,n[41]=$,n[42]=Y,n[43]=H,n[44]=X,n[45]=T,n[46]=A,n[47]=I,n[48]=xe):xe=n[48];let Ae;n[49]!==te||n[50]!==o?(Ae=o&&c.jsx(V,{as:"span",...te,children:o}),n[49]=te,n[50]=o,n[51]=Ae):Ae=n[51];let Re;return n[52]!==O||n[53]!==q||n[54]!==t||n[55]!==g||n[56]!==de||n[57]!==pe||n[58]!==ve||n[59]!==Ce||n[60]!==xe||n[61]!==Ae||n[62]!==L||n[63]!==U||n[64]!==j?(Re=c.jsxs(oit,{"data-ui":"Button",...g,$mode:O,$radius:q,$tone:L,"data-disabled":de,"data-selected":pe,disabled:ve,ref:t,type:U,$width:j,children:[Ce,xe,Ae]}),n[52]=O,n[53]=q,n[54]=t,n[55]=g,n[56]=de,n[57]=pe,n[58]=ve,n[59]=Ce,n[60]=xe,n[61]=Ae,n[62]=L,n[63]=U,n[64]=j,n[65]=Re):Re=n[65],Re});zt.displayName="ForwardRef(Button)";function sit(e){return[lit(e),cit(e)]}function lit(e){const{$checkered:t}=e,{space:n}=$e(e.theme);return he`
    ${t&&he`
      background-size: ${n[3]}px ${n[3]}px;
      background-position: 50% 50%;
      background-image: var(--card-bg-image);
    `}

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -moz-available;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      outline: none;
      text-decoration: none;
    }

    /* &:is(pre) */
    &[data-as='pre'] {
      font: inherit;
    }
  `}function cit(e){var l;const{$checkered:t,$focusRing:n,$muted:r}=e,{card:i,color:o,style:a}=$e(e.theme),s={width:i.border.width,color:"var(--card-border-color)"};return he`
    color-scheme: ${o._dark?"dark":"light"};

    ${In(o,o,t)}

    background-color: ${r?"var(--card-muted-bg-color)":"var(--card-bg-color)"};
    color: var(--card-fg-color);

    /* &:is(button) */
    &[data-as='button'] {
      --card-focus-ring-box-shadow: none;

      cursor: default;
      box-shadow: var(--card-focus-ring-box-shadow);

      &:disabled {
        ${In(o,o.selectable.default.disabled,t)}
      }

      &:not(:disabled) {
        &[data-pressed] {
          ${In(o,o.selectable.default.pressed,t)}
        }

        &[data-selected] {
          ${In(o,o.selectable.default.selected,t)}
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              ${In(o,o.selectable.default.hovered,t)}
            }

            &:active {
              ${In(o,o.selectable.default.pressed,t)}
            }
          }
        }

        &:focus-visible {
          --card-focus-ring-box-shadow: ${n?Ac({base:o,border:s,focusRing:i.focusRing}):void 0};
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      cursor: pointer;
      box-shadow: var(--card-focus-ring-box-shadow);

      &[data-disabled] {
        ${In(o,o.selectable.default.disabled,t)}
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          ${In(o,o.selectable.default.pressed,t)}
        }

        &[data-selected] {
          ${In(o,o.selectable.default.selected,t)}
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              ${In(o,o.selectable.default.hovered,t)}
            }

            &:active {
              ${In(o,o.selectable.default.pressed,t)}
            }
          }
        }

        &:focus-visible {
          --card-focus-ring-box-shadow: ${n?Ac({base:o,border:s,focusRing:i.focusRing}):void 0};
        }
      }
    }

    ${(l=a==null?void 0:a.card)==null?void 0:l.root}
  `}const uit=R(V).withConfig({displayName:"StyledCard",componentId:"sc-osnro2-0"})(Ant,op,krt,sit),le=p.forwardRef(function(e,t){const n=nt.c(42);let r,i,o,a,s,l,u,d,f,h,m,g,y,x,b,v;n[0]!==e?({__unstable_checkered:y,__unstable_focusRing:x,as:r,border:i,borderTop:l,borderRight:s,borderBottom:o,borderLeft:a,muted:u,pressed:d,radius:b,scheme:h,selected:m,shadow:g,tone:v,...f}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=u,n[8]=d,n[9]=f,n[10]=h,n[11]=m,n[12]=g,n[13]=y,n[14]=x,n[15]=b,n[16]=v):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],u=n[7],d=n[8],f=n[9],h=n[10],m=n[11],g=n[12],y=n[13],x=n[14],b=n[15],v=n[16]);const w=y===void 0?!1:y,C=x===void 0?!1:x,k=b===void 0?0:b,S=v===void 0?"default":v,E=Hd.isValidElementType(r)?r:"div",_=ew(),T=S==="inherit"?_.tone:S,A=typeof E=="string"?E:void 0,I=_.scheme,j=De(i),$=De(l),D=De(s),O=De(o),M=De(a),P=De(k),F=De(g),L=w?"":void 0,U=d?"":void 0,H=m?"":void 0;let N;n[17]!==E||n[18]!==w||n[19]!==C||n[20]!==u||n[21]!==t||n[22]!==f||n[23]!==_.scheme||n[24]!==m||n[25]!==M||n[26]!==P||n[27]!==F||n[28]!==L||n[29]!==U||n[30]!==H||n[31]!==A||n[32]!==j||n[33]!==$||n[34]!==D||n[35]!==O||n[36]!==T?(N=c.jsx(uit,{"data-as":A,"data-scheme":I,"data-ui":"Card","data-tone":T,...f,$border:j,$borderTop:$,$borderRight:D,$borderBottom:O,$borderLeft:M,$checkered:w,$focusRing:C,$muted:u,$radius:P,$shadow:F,$tone:T,"data-checkered":L,"data-pressed":U,"data-selected":H,forwardedAs:E,ref:t,selected:m}),n[17]=E,n[18]=w,n[19]=C,n[20]=u,n[21]=t,n[22]=f,n[23]=_.scheme,n[24]=m,n[25]=M,n[26]=P,n[27]=F,n[28]=L,n[29]=U,n[30]=H,n[31]=A,n[32]=j,n[33]=$,n[34]=D,n[35]=O,n[36]=T,n[37]=N):N=n[37];let Y;return n[38]!==h||n[39]!==N||n[40]!==T?(Y=c.jsx(IG,{scheme:h,tone:T,children:N}),n[38]=h,n[39]=N,n[40]=T,n[41]=Y):Y=n[41],Y});le.displayName="ForwardRef(Card)";function dit(){return he`
    position: relative;
    display: inline-block;
  `}function fit(e){const{color:t,input:n,radius:r}=$e(e.theme),{focusRing:i}=n.checkbox;return he`
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    outline: none;
    opacity: 0;
    z-index: 1;
    padding: 0;
    margin: 0;

    & + span {
      position: relative;
      display: block;
      height: ${Te(n.checkbox.size)};
      width: ${Te(n.checkbox.size)};
      box-sizing: border-box;
      box-shadow: ${qi({color:t.input.default.enabled.border,width:n.border.width})};
      border-radius: ${Te(r[2])};
      line-height: 1;
      background-color: ${t.input.default.enabled.bg};

      & > svg {
        display: block;
        position: absolute;
        opacity: 0;
        height: 100%;
        width: 100%;

        & > path {
          vector-effect: non-scaling-stroke;
          stroke-width: 1.5px !important;
        }
      }
    }

    &:checked + span {
      background: ${t.input.default.enabled.fg};
      box-shadow: ${qi({color:t.input.default.enabled.fg,width:n.border.width})};
      color: ${t.input.default.enabled.bg};
    }

    /* focus */
    &:not(:disabled):focus:focus-visible + span {
      box-shadow: ${Ac({focusRing:i})};
    }

    /* focus when checked - uses a different offset */
    &:not(:disabled):focus:focus-visible&:checked + span {
      box-shadow: ${Ac({focusRing:{width:1,offset:1}})};
    }

    &[data-error] + span {
      background-color: ${t.input.invalid.enabled.border};
      box-shadow: ${qi({width:n.border.width,color:t.input.invalid.enabled.muted.bg})};
      color: ${t.input.default.disabled.fg};
    }
    &[data-error]&:checked + span {
      background-color: ${t.input.invalid.enabled.muted.bg};
      color: ${t.input.default.enabled.bg};
    }
    &[data-error]&:checked&:not(:disabled):focus:focus-visible + span {
      box-shadow: ${Ac({border:{width:n.border.width,color:t.input.invalid.readOnly.muted.bg},focusRing:{width:1,offset:1}})};
    }

    &:disabled + span {
      background-color: ${t.input.default.disabled.bg};
      box-shadow: ${qi({width:n.border.width,color:t.input.default.disabled.border})};
      color: ${t.input.default.disabled.fg};
    }
    &:disabled&:checked + span {
      background-color: ${t.input.default.disabled.muted.bg};
    }

    &[data-read-only] + span {
      background-color: ${t.input.default.readOnly.bg};
      box-shadow: ${qi({width:n.border.width,color:t.input.default.readOnly.border})};
      color: ${t.input.default.readOnly.fg};
    }

    &[data-read-only]&:checked + span {
      background-color: ${t.input.default.readOnly.muted.bg};
    }

    &:checked + span > svg:first-child {
      opacity: 1;
    }
    &:indeterminate + span > svg:last-child {
      opacity: 1;
    }
  `}const hit=R.div.withConfig({displayName:"StyledCheckbox",componentId:"sc-1l5mt2l-0"})(dit),pit=R.input.withConfig({displayName:"Input",componentId:"sc-1l5mt2l-1"})(fit),fg=p.forwardRef(function(e,t){const n=nt.c(25);let r,i,o,a,s,l,u,d;n[0]!==e?({checked:r,className:i,disabled:a,indeterminate:s,customValidity:o,readOnly:l,style:d,...u}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=u,n[8]=d):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],u=n[7],d=n[8]);const f=p.useRef(null);let h;n[9]===Symbol.for("react.memo_cache_sentinel")?(h=()=>f.current,n[9]=h):h=n[9],p.useImperativeHandle(t,h);let m,g;n[10]!==s?(m=()=>{f.current&&(f.current.indeterminate=s||!1)},g=[s],n[10]=s,n[11]=m,n[12]=g):(m=n[11],g=n[12]),p.useEffect(m,g),eE(f,o);const y=!a&&l?"":void 0,x=o?"":void 0,b=a||l;let v;n[13]!==r||n[14]!==l||n[15]!==u||n[16]!==y||n[17]!==x||n[18]!==b?(v=c.jsx(pit,{"data-read-only":y,"data-error":x,...u,checked:r,disabled:b,type:"checkbox",readOnly:l,ref:f}),n[13]=r,n[14]=l,n[15]=u,n[16]=y,n[17]=x,n[18]=b,n[19]=v):v=n[19];let w;n[20]===Symbol.for("react.memo_cache_sentinel")?(w=c.jsxs("span",{children:[c.jsx(DKe,{}),c.jsx(MKe,{})]}),n[20]=w):w=n[20];let C;return n[21]!==i||n[22]!==d||n[23]!==v?(C=c.jsxs(hit,{className:i,"data-ui":"Checkbox",style:d,children:[v,w]}),n[21]=i,n[22]=d,n[23]=v,n[24]=C):C=n[24],C});fg.displayName="ForwardRef(Checkbox)";function mit({theme:e}){const{color:{syntax:t}}=$e(e);return{"&.atrule":{color:t.atrule},"&.attr-name":{color:t.attrName},"&.attr-value":{color:t.attrValue},"&.attribute":{color:t.attribute},"&.boolean":{color:t.boolean},"&.builtin":{color:t.builtin},"&.cdata":{color:t.cdata},"&.char":{color:t.char},"&.class":{color:t.class},"&.class-name":{color:t.className},"&.comment":{color:t.comment},"&.constant":{color:t.constant},"&.deleted":{color:t.deleted},"&.doctype":{color:t.doctype},"&.entity":{color:t.entity},"&.function":{color:t.function},"&.hexcode":{color:t.hexcode},"&.id":{color:t.id},"&.important":{color:t.important},"&.inserted":{color:t.inserted},"&.keyword":{color:t.keyword},"&.number":{color:t.number},"&.operator":{color:t.operator},"&.prolog":{color:t.prolog},"&.property":{color:t.property},"&.pseudo-class":{color:t.pseudoClass},"&.pseudo-element":{color:t.pseudoElement},"&.punctuation":{color:t.punctuation},"&.regex":{color:t.regex},"&.selector":{color:t.selector},"&.string":{color:t.string},"&.symbol":{color:t.symbol},"&.tag":{color:t.tag},"&.unit":{color:t.unit},"&.url":{color:t.url},"&.variable":{color:t.variable}}}function git(){return he`
    color: var(--card-code-fg-color);

    & code {
      font-family: inherit;

      &.refractor .token {
        ${mit}
      }
    }

    & a {
      color: inherit;
      text-decoration: underline;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `}const yit=p.lazy(()=>My(()=>import("./refractor-d114fc5a.js"),[])),vit=R.pre.withConfig({displayName:"StyledCode",componentId:"sc-4dymyn-0"})(git,hnt),Vi=p.forwardRef(function(e,t){const n=nt.c(20);let r,i,o,a,s;n[0]!==e?({children:r,language:i,size:a,weight:s,...o}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5]);const l=De(a===void 0?2:a);let u;n[6]!==r?(u=c.jsx("code",{children:r}),n[6]=r,n[7]=u):u=n[7];let d;n[8]!==r||n[9]!==i?(d=c.jsx(yit,{language:i,value:r}),n[8]=r,n[9]=i,n[10]=d):d=n[10];let f;n[11]!==u||n[12]!==d?(f=c.jsx(p.Suspense,{fallback:u,children:d}),n[11]=u,n[12]=d,n[13]=f):f=n[13];let h;return n[14]!==t||n[15]!==o||n[16]!==l||n[17]!==f||n[18]!==s?(h=c.jsx(vit,{"data-ui":"Code",...o,$size:l,$weight:s,ref:t,children:f}),n[14]=t,n[15]=o,n[16]=l,n[17]=f,n[18]=s,n[19]=h):h=n[19],h});Vi.displayName="ForwardRef(Code)";const bit={width:"100%",margin:"0 auto"};function xit(){return bit}function wit(e){const{container:t,media:n}=$e(e.theme);return Ut(n,e.$width,r=>({maxWidth:r==="auto"?"none":Te(t[r])}))}const Cit=R(V).withConfig({displayName:"StyledContainer",componentId:"sc-wyroop-0"})(xit,wit),Ii=p.forwardRef(function(e,t){const n=nt.c(9);let r,i,o;n[0]!==e?({as:r,width:o,...i}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o):(r=n[1],i=n[2],o=n[3]);const a=De(o===void 0?2:o);let s;return n[4]!==r||n[5]!==t||n[6]!==i||n[7]!==a?(s=c.jsx(Cit,{"data-ui":"Container",...i,$width:a,forwardedAs:r,ref:t}),n[4]=r,n[5]=t,n[6]=i,n[7]=a,n[8]=s):s=n[8],s});Ii.displayName="ForwardRef(Container)";const kit=R(V).withConfig({displayName:"StyledGrid",componentId:"sc-v8t8oz-0"})(urt),Xn=p.forwardRef(function(e,t){const n=nt.c(26);let r,i,o,a,s,l,u,d,f,h,m;n[0]!==e?({as:r,autoRows:a,autoCols:i,autoFlow:o,columns:l,gap:u,gapX:d,gapY:f,rows:m,children:s,...h}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=u,n[8]=d,n[9]=f,n[10]=h,n[11]=m):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],u=n[7],d=n[8],f=n[9],h=n[10],m=n[11]);const g=typeof r=="string"?r:void 0,y=De(a),x=De(i),b=De(o),v=De(l),w=De(u),C=De(d),k=De(f),S=De(m);let E;return n[12]!==r||n[13]!==s||n[14]!==t||n[15]!==h||n[16]!==g||n[17]!==y||n[18]!==x||n[19]!==b||n[20]!==v||n[21]!==w||n[22]!==C||n[23]!==k||n[24]!==S?(E=c.jsx(kit,{"data-as":g,"data-ui":"Grid",...h,$autoRows:y,$autoCols:x,$autoFlow:b,$columns:v,$gap:w,$gapX:C,$gapY:k,$rows:S,forwardedAs:r,ref:t,children:s}),n[12]=r,n[13]=s,n[14]=t,n[15]=h,n[16]=g,n[17]=y,n[18]=x,n[19]=b,n[20]=v,n[21]=w,n[22]=C,n[23]=k,n[24]=S,n[25]=E):E=n[25],E});Xn.displayName="ForwardRef(Grid)";function Sit(e){const{$accent:t,$muted:n}=e,{font:r}=$e(e.theme);return he`
    ${t&&he`
      color: var(--card-accent-fg-color);
    `}

    ${n&&he`
      color: var(--card-muted-fg-color);
    `}

    & code {
      font-family: ${r.code.family};
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & strong {
      font-weight: ${r.heading.weights.bold};
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `}const Eit=R.div.withConfig({displayName:"StyledHeading",componentId:"sc-137lwim-0"})(Sit,jG,pnt),vo=p.forwardRef(function(e,t){const n=nt.c(22);let r,i,o,a,s,l,u,d;n[0]!==e?({accent:a,align:r,children:i,muted:s,size:l,textOverflow:u,weight:d,...o}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=u,n[8]=d):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],u=n[7],d=n[8]);const f=a===void 0?!1:a,h=s===void 0?!1:s,m=l===void 0?2:l;let g=i;if(u==="ellipsis"){let w;n[9]!==g?(w=c.jsx(DG,{children:g}),n[9]=g,n[10]=w):w=n[10],g=w}const y=De(r),x=De(m);let b;n[11]!==g?(b=c.jsx("span",{children:g}),n[11]=g,n[12]=b):b=n[12];let v;return n[13]!==f||n[14]!==h||n[15]!==t||n[16]!==o||n[17]!==y||n[18]!==x||n[19]!==b||n[20]!==d?(v=c.jsx(Eit,{"data-ui":"Heading",...o,$accent:f,$align:y,$muted:h,$size:x,$weight:d,ref:t,children:b}),n[13]=f,n[14]=h,n[15]=t,n[16]=o,n[17]=y,n[18]=x,n[19]=b,n[20]=d,n[21]=v):v=n[21],v});vo.displayName="ForwardRef(Heading)";function _it(){return{lineHeight:"0","&&:not([hidden])":{display:"block"},"& > div":{display:"inline-block",verticalAlign:"middle"}}}function Tit(e){const{media:t,space:n}=$e(e.theme);return Ut(t,e.$space,r=>{const i=Te(r===.5?n[1]/2:n[r]);return{margin:`-${i} 0 0 -${i}`,"& > div":{padding:`${i} 0 0 ${i}`}}})}const Ait=R(V).withConfig({displayName:"StyledInline",componentId:"sc-1pkiy6j-0"})(_it,Tit),Wn=p.forwardRef(function(e,t){const n=nt.c(13);let r,i,o,a;n[0]!==e?({as:r,children:i,space:a,...o}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a):(r=n[1],i=n[2],o=n[3],a=n[4]);let s;n[5]!==i?(s=p.Children.map(i,jit),n[5]=i,n[6]=s):s=n[6];const l=s,u=De(a),d=t;let f;return n[7]!==r||n[8]!==l||n[9]!==o||n[10]!==u||n[11]!==d?(f=c.jsx(Ait,{"data-ui":"Inline",...o,$space:u,forwardedAs:r,ref:d,children:l}),n[7]=r,n[8]=l,n[9]=o,n[10]=u,n[11]=d,n[12]=f):f=n[12],f});Wn.displayName="ForwardRef(Inline)";function jit(e){return e&&c.jsx("div",{children:e})}function Iit(){return he`
    --card-bg-color: var(--card-kbd-bg-color);
    --card-border-color: var(--card-kbd-border-color);
    --card-fg-color: var(--card-kbd-fg-color);

    box-shadow: inset 0 0 0 1px var(--card-border-color);
    background: var(--card-bg-color);
    font: inherit;

    vertical-align: top;

    &:not([hidden]) {
      display: inline-block;
    }
  `}const $it=R.kbd.withConfig({displayName:"StyledKBD",componentId:"sc-1w7yd8w-0"})(op,Iit),L5e=p.forwardRef(function(e,t){const n=nt.c(17);let r,i,o,a,s;n[0]!==e?({children:r,fontSize:o,padding:a,radius:s,...i}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5]);const l=o===void 0?0:o,u=a===void 0?1:a,d=De(s===void 0?2:s);let f;n[6]!==r||n[7]!==l?(f=c.jsx(B,{as:"span",size:l,weight:"semibold",children:r}),n[6]=r,n[7]=l,n[8]=f):f=n[8];let h;n[9]!==u||n[10]!==f?(h=c.jsx(V,{as:"span",padding:u,children:f}),n[9]=u,n[10]=f,n[11]=h):h=n[11];let m;return n[12]!==t||n[13]!==i||n[14]!==d||n[15]!==h?(m=c.jsx($it,{"data-ui":"KBD",...i,$radius:d,ref:t,children:h}),n[12]=t,n[13]=i,n[14]=d,n[15]=h,n[16]=m):m=n[16],m});L5e.displayName="ForwardRef(KBD)";const N5e={name:"@sanity/ui/origin",fn({middlewareData:e,placement:t,rects:n}){var f,h;const[r]=t.split("-"),i=n.floating.width,o=n.floating.height,a=((f=e.shift)==null?void 0:f.x)||0,s=((h=e.shift)==null?void 0:h.y)||0;if(i<=0||o<=0)return{};const l=["bottom","top"].includes(r),{originX:u,originY:d}=l?{originX:Xie(.5-a/i,0,1),originY:r==="bottom"?0:1}:{originX:r==="left"?1:0,originY:Xie(.5-s/o,0,1)};return{data:{originX:u,originY:d}}}};function Xie(e,t,n){return Math.min(Math.max(e,t),n)}function Jie(e,t,n){const r=t.x-e.x,i=t.y-e.y,o=Math.sqrt(r*r+i*i);return IN(e,t,Math.min(1,n/o))}function IN(e,t,n){return{x:e.x+(t.x-e.x)*n,y:e.y+(t.y-e.y)*n}}function Dit(e){const t=e.length,n=[];for(let r=0;r<t;r+=1){const i=e[r],o=e[r-1],a=e[r+1];if(o&&i.radius){const s=Jie(i,o,i.radius),l=Jie(i,a,i.radius),u=IN(s,i,.5),d=IN(i,l,.5);n.push({type:"point",...s}),n.push({type:"curve",curveEnd:l,startControl:u,endControl:d})}else n.push({type:"point",...i})}return n}function Oit(e){return e.map((t,n)=>t.type==="point"?`${n===0?"M":"L"} ${t.x} ${t.y}`:t.type==="curve"?`C ${t.startControl.x} ${t.startControl.y} ${t.endControl.x} ${t.endControl.y} ${t.curveEnd.x} ${t.curveEnd.y}`:"").join(" ")}const Mit=R.div.withConfig({displayName:"StyledArrow",componentId:"sc-12vzy6c-0"})(({$w:e})=>he`
    position: absolute;
    width: ${e}px;
    height: ${e}px;

    :empty + & {
      display: none;
    }

    & > svg {
      display: block;
      line-height: 0;
      transform-origin: ${e/2}px ${e/2}px;
    }

    [data-placement^='top'] > & {
      bottom: -${e}px;

      & > svg {
        transform: rotate(0);
      }
    }

    [data-placement^='right'] > & {
      left: -${e}px;

      & > svg {
        transform: rotate(90deg);
      }
    }

    [data-placement^='left'] > & {
      right: -${e}px;

      & > svg {
        transform: rotate(-90deg);
      }
    }

    [data-placement^='bottom'] > & {
      top: -${e}px;

      & > svg {
        transform: rotate(180deg);
      }
    }
  `),Pit=R.path.withConfig({displayName:"StrokePath",componentId:"sc-12vzy6c-1"})`stroke:var(--card-shadow-outline-color);`,Rit=R.path.withConfig({displayName:"ShapePath",componentId:"sc-12vzy6c-2"})`fill:var(--card-bg-color);`,MG=p.forwardRef(function(e,t){const n=nt.c(29);let r,i,o,a;n[0]!==e?({width:a,height:r,radius:o,...i}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a):(r=n[1],i=n[2],o=n[3],a=n[4]);const s=o===void 0?0:o,{card:l}=ip(),u=l.shadow.outline,d=a/2;let f;if(n[5]!==d||n[6]!==r||n[7]!==s||n[8]!==a){const S=[{x:0,y:0},{x:s,y:0,radius:s},{x:d,y:r-1,radius:s},{x:a-s,y:0,radius:s},{x:a,y:0}],E=Dit(S);f=Oit(E),n[5]=d,n[6]=r,n[7]=s,n[8]=a,n[9]=f}else f=n[9];const h=f,m=`${h}`,g=`${h} M ${a} -1 M 0 -1 Z`,y=`0 0 ${a} ${a}`;let x;n[10]!==u||n[11]!==a?(x=c.jsx("mask",{id:"stroke-mask",children:c.jsx("rect",{x:0,y:u,width:a,height:a,fill:"white"})}),n[10]=u,n[11]=a,n[12]=x):x=n[12];const b=u*2;let v;n[13]!==m||n[14]!==b?(v=c.jsx(Pit,{d:m,mask:"url(#stroke-mask)",strokeWidth:b}),n[13]=m,n[14]=b,n[15]=v):v=n[15];let w;n[16]!==g?(w=c.jsx(Rit,{d:g}),n[16]=g,n[17]=w):w=n[17];let C;n[18]!==y||n[19]!==x||n[20]!==v||n[21]!==w||n[22]!==a?(C=c.jsxs("svg",{width:a,height:a,viewBox:y,children:[x,v,w]}),n[18]=y,n[19]=x,n[20]=v,n[21]=w,n[22]=a,n[23]=C):C=n[23];let k;return n[24]!==t||n[25]!==i||n[26]!==C||n[27]!==a?(k=c.jsx(Mit,{...i,$w:a,ref:t,children:C}),n[24]=t,n[25]=i,n[26]=C,n[27]=a,n[28]=k):k=n[28],k});MG.displayName="ForwardRef(Arrow)";const B5e=rp("@sanity/ui/context/boundaryElement",null);function $h(e){const t=nt.c(5),{children:n,element:r}=e;let i;t[0]!==r?(i={version:0,element:r},t[0]=r,t[1]=i):i=t[1];const o=i;let a;return t[2]!==n||t[3]!==o?(a=c.jsx(B5e.Provider,{value:o,children:n}),t[2]=n,t[3]=o,t[4]=a):a=t[4],a}$h.displayName="BoundaryElementProvider";function rE(e){return!!(e&&typeof e=="object"&&!Array.isArray(e))}const Fit={version:0,element:null};function zy(){const e=p.useContext(B5e);if(e&&(!rE(e)||e.version!==0))throw new Error("useBoundaryElement(): the context value is not compatible");return e||Fit}function Lit(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]>t&&n.push(r);return n}function Nit(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]<=t&&n.push(r);return n}const ZO=p.forwardRef(function(e,t){var v;const n=nt.c(18),r=ip();let i,o,a;n[0]!==e?({children:o,media:i,...a}=e,n[0]=e,n[1]=i,n[2]=o,n[3]=a):(i=n[1],o=n[2],a=n[3]);const s=i??r.media,[l,u]=p.useState(null),d=((v=tE(l))==null?void 0:v.border.width)??window.innerWidth;let f;if(n[4]!==s||n[5]!==d){const w=Lit(s,d);f=w.length?w.join(" "):void 0,n[4]=s,n[5]=d,n[6]=f}else f=n[6];const h=f;let m;if(n[7]!==s||n[8]!==d){const w=Nit(s,d);m=w.length?w.join(" "):void 0,n[7]=s,n[8]=d,n[9]=m}else m=n[9];const g=m;let y,x;n[10]!==l?(y=()=>l,x=[l],n[10]=l,n[11]=y,n[12]=x):(y=n[11],x=n[12]),p.useImperativeHandle(t,y,x);let b;return n[13]!==o||n[14]!==h||n[15]!==g||n[16]!==a?(b=c.jsx("div",{"data-ui":"ElementQuery",...a,"data-eq-max":h,"data-eq-min":g,ref:u,children:o}),n[13]=o,n[14]=h,n[15]=g,n[16]=a,n[17]=b):b=n[17],b});ZO.displayName="ForwardRef(ElementQuery)";function V5e(e){if(!rE(e)||e.version!==0)throw new Error("the context value is not compatible");if(!e)throw new Error("components using `useLayer()` should be wrapped in a <LayerProvider>.");if(e.version===0)return e;throw new Error("could not get layer context")}const $N=rp("@sanity/ui/context/layer",null);function Pl(e){const t=nt.c(19),{children:n,zOffset:r}=e,i=r===void 0?0:r,o=p.useContext($N);let a;t[0]!==o?(a=o&&V5e(o),t[0]=o,t[1]=a):a=t[1];const s=a,l=s==null?void 0:s.registerChild,u=((s==null?void 0:s.level)??0)+1,d=De(i),f=d.length-1,h=Math.min(Vy(),f),m=s?s.zIndex+d[h]:d[h];let g;t[2]===Symbol.for("react.memo_cache_sentinel")?(g={},t[2]=g):g=t[2];const[,y]=p.useState(g),[x,b]=p.useState(0),v=x===0;let w;t[3]!==l||t[4]!==y?(w=A=>{const I=l==null?void 0:l(A);return A!==void 0?y(j=>{const $=j[A]??0,D={...j,[A]:$+1};return b(Object.keys(D).length),D}):b(Vit),()=>{A!==void 0?y(j=>{const $={...j};return $[A]===1?(delete $[A],b(Object.keys($).length)):$[A]=$[A]-1,$}):b(Bit),I==null||I()}},t[3]=l,t[4]=y,t[5]=w):w=t[5];const C=w;let k,S;t[6]!==u||t[7]!==l?(k=()=>l==null?void 0:l(u),S=[u,l],t[6]=u,t[7]=l,t[8]=k,t[9]=S):(k=t[8],S=t[9]),p.useEffect(k,S);let E;t[10]!==v||t[11]!==u||t[12]!==C||t[13]!==x||t[14]!==m?(E={version:0,isTopLayer:v,level:u,registerChild:C,size:x,zIndex:m},t[10]=v,t[11]=u,t[12]=C,t[13]=x,t[14]=m,t[15]=E):E=t[15];const _=E;let T;return t[16]!==n||t[17]!==_?(T=c.jsx($N.Provider,{value:_,children:n}),t[16]=n,t[17]=_,t[18]=T):T=t[18],T}function Bit(e){return e-1}function Vit(e){return e+1}Pl.displayName="LayerProvider";function ns(){const e=nt.c(2),t=p.useContext($N);if(!t)throw new Error("useLayer(): missing context value");try{let n;return e[0]!==t?(n=V5e(t),e[0]=t,e[1]=n):n=e[1],n}catch(n){const r=n;throw r instanceof Error?new Error(`useLayer(): ${r.message}`):new Error(`useLayer(): ${r}`)}}const zit=R.div.withConfig({displayName:"StyledLayer",componentId:"sc-16kojrv-0"})({position:"relative"}),Uit=p.forwardRef(function(e,t){const n=nt.c(22);let r,i,o,a,s;n[0]!==e?({children:r,onActivate:i,onFocus:o,style:s,...a}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5]);const l=s===void 0?Om:s,{zIndex:u,isTopLayer:d}=ns(),f=p.useRef(null),h=p.useRef(null),m=p.useRef(d);let g;n[6]===Symbol.for("react.memo_cache_sentinel")?(g=()=>h.current,n[6]=g):g=n[6],p.useImperativeHandle(t,g);let y,x;n[7]!==d||n[8]!==i?(y=()=>{m.current!==d&&d&&(i==null||i({activeElement:f.current})),m.current=d},x=[d,i],n[7]=d,n[8]=i,n[9]=y,n[10]=x):(y=n[9],x=n[10]),p.useEffect(y,x);let b;n[11]!==d||n[12]!==o?(b=k=>{o==null||o(k);const S=h.current,E=document.activeElement;!d||!S||!E||nf(E)&&AN(S,E)&&(f.current=E)},n[11]=d,n[12]=o,n[13]=b):b=n[13];const v=b;let w;n[14]!==l||n[15]!==u?(w={...l,zIndex:u},n[14]=l,n[15]=u,n[16]=w):w=n[16];let C;return n[17]!==r||n[18]!==v||n[19]!==a||n[20]!==w?(C=c.jsx(zit,{...a,"data-ui":"Layer",onFocus:v,ref:h,style:w,children:r}),n[17]=r,n[18]=v,n[19]=a,n[20]=w,n[21]=C):C=n[21],C}),al=p.forwardRef(function(e,t){const n=nt.c(11);let r,i,o;n[0]!==e?({children:r,zOffset:o,...i}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o):(r=n[1],i=n[2],o=n[3]);const a=o===void 0?1:o;let s;n[4]!==r||n[5]!==t||n[6]!==i?(s=c.jsx(Uit,{...i,ref:t,children:r}),n[4]=r,n[5]=t,n[6]=i,n[7]=s):s=n[7];let l;return n[8]!==s||n[9]!==a?(l=c.jsx(Pl,{zOffset:a,children:s}),n[8]=s,n[9]=a,n[10]=l):l=n[10],l});al.displayName="ForwardRef(Layer)";const z5e="@sanity/ui/context/portal",J0=Symbol.for(`${z5e}/element`);qf[J0]=null;const Hit={version:0,boundaryElement:null,get element(){return typeof document>"u"?null:(qf[J0]||(qf[J0]=document.createElement("div"),qf[J0].setAttribute("data-portal",""),document.body.appendChild(qf[J0])),qf[J0])}},U5e=rp(z5e,Hit);function ap(){const e=p.useContext(U5e);if(!e)throw new Error("usePortal(): missing context value");if(!rE(e)||e.version!==0)throw new Error("usePortal(): the context value is not compatible");return e}function hg(e){var s;const t=nt.c(3),{children:n,__unstable_name:r}=e,i=ap(),o=(r?i.elements&&i.elements[r]:i.element)||((s=i.elements)==null?void 0:s.default);if(!o)return null;let a;return t[0]!==n||t[1]!==o?(a=th.createPortal(n,o),t[0]=n,t[1]=o,t[2]=a):a=t[2],a}hg.displayName="Portal";function iw(e){const t=nt.c(7),{boundaryElement:n,children:r,element:i,__unstable_elements:o}=e,a=Yit(o),s=p.useSyncExternalStore(Kit,Git,Wit),l=n||null,u=i||s;let d;t[0]!==a||t[1]!==l||t[2]!==u?(d={version:0,boundaryElement:l,element:u,elements:a},t[0]=a,t[1]=l,t[2]=u,t[3]=d):d=t[3];const f=d;let h;return t[4]!==r||t[5]!==f?(h=c.jsx(U5e.Provider,{value:f,children:r}),t[4]=r,t[5]=f,t[6]=h):h=t[6],h}function Wit(){return null}function Git(){return document.body}iw.displayName="PortalProvider";const Kit=()=>()=>{};function Yit(e){const t=p.useRef(e);return qit(t.current,e)||(t.current=e),t.current}function qit(e,t){if(!e||!t)return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length!==r.length?!1:n.every(i=>e[i]===t[i])}const Zit=R.div.withConfig({displayName:"StyledSrOnly",componentId:"sc-mubr0c-0"})`display:block;width:0;height:0;position:absolute;overflow:hidden;overflow:clip;`,Xit=p.forwardRef(function(e,t){const n=nt.c(4),{as:r,children:i}=e;let o;return n[0]!==r||n[1]!==i||n[2]!==t?(o=c.jsx(Zit,{"aria-hidden":!0,as:r,"data-ui":"SrOnly",ref:t,children:i}),n[0]=r,n[1]=i,n[2]=t,n[3]=o):o=n[3],o});Xit.displayName="ForwardRef(SrOnly)";const Jit=R.div.withConfig({displayName:"StyledVirtualList",componentId:"sc-dlqsj4-0"})`position:relative;`,Qie=R.div.withConfig({displayName:"ItemWrapper",componentId:"sc-dlqsj4-1"})`position:absolute;left:0;right:0;`,Qit=p.forwardRef(function(e,t){const n=nt.c(56);let r,i,o,a,s,l,u;n[0]!==e?({as:s,gap:l,getItemKey:r,items:u,onChange:i,renderItem:o,...a}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=u):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],u=n[7]);const d=s===void 0?"div":s,f=l===void 0?0:l;let h;n[8]!==u?(h=u===void 0?[]:u,n[8]=u,n[9]=h):h=n[9];const m=h,{space:g}=ip(),y=p.useRef(null),x=p.useRef(null),[b,v]=p.useState(0),[w,C]=p.useState(0),[k,S]=p.useState(-1);let E;n[10]===Symbol.for("react.memo_cache_sentinel")?(E=()=>y.current,n[10]=E):E=n[10],p.useImperativeHandle(t,E);let _;n[11]===Symbol.for("react.memo_cache_sentinel")?(_=()=>{if(!x.current)return;const J=x.current.firstChild;J instanceof HTMLElement&&S(J.offsetHeight)},n[11]=_):_=n[11];let T;n[12]!==o?(T=[o],n[12]=o,n[13]=T):T=n[13],p.useEffect(_,T);let A,I;n[14]===Symbol.for("react.memo_cache_sentinel")?(A=()=>{if(!y.current)return;const J=eot(y.current.parentNode);if(J){if(!(J instanceof HTMLElement))return;const re=()=>{v(J.scrollTop)};J.addEventListener("scroll",re,{passive:!0});const se=new I5e(G=>{C(G[0].contentRect.height)});return se.observe(J),re(),()=>{J.removeEventListener("scroll",re),se.unobserve(J),se.disconnect()}}const ee=()=>{v(window.scrollY)},oe=()=>{C(window.innerHeight)};return window.addEventListener("scroll",ee,{passive:!0}),window.addEventListener("resize",oe),C(window.innerHeight),ee(),()=>{window.removeEventListener("scroll",ee),window.removeEventListener("resize",oe)}},I=[],n[14]=A,n[15]=I):(A=n[14],I=n[15]),p.useEffect(A,I);const j=m.length,$=k?j*(k+g[f])-g[f]:0,D=$?Math.max(Math.floor(b/$*j)-2,0):0,O=$?Math.ceil((b+w)/$*j)+1:0;let M,P;n[16]!==D||n[17]!==f||n[18]!==k||n[19]!==i||n[20]!==w||n[21]!==b||n[22]!==g||n[23]!==O?(P=()=>{i&&i({fromIndex:D,gap:g[f],itemHeight:k,scrollHeight:w,scrollTop:b,toIndex:O})},M=[D,f,k,i,w,b,g,O],n[16]=D,n[17]=f,n[18]=k,n[19]=i,n[20]=w,n[21]=b,n[22]=g,n[23]=O,n[24]=M,n[25]=P):(M=n[24],P=n[25]),p.useEffect(P,M);let F;e:{if(!o||m.length===0){F=null;break e}if(k===-1){let ee;n[26]!==m[0]||n[27]!==o?(ee=o(m[0]),n[26]=m[0],n[27]=o,n[28]=ee):ee=n[28];let oe;n[29]!==ee?(oe=[c.jsx(Qie,{children:ee},0)],n[29]=ee,n[30]=oe):oe=n[30],F=oe;break e}let J;if(n[31]!==D||n[32]!==f||n[33]!==r||n[34]!==k||n[35]!==m||n[36]!==o||n[37]!==g||n[38]!==O){let ee;n[40]!==D||n[41]!==f||n[42]!==r||n[43]!==k||n[44]!==o||n[45]!==g?(ee=(oe,re)=>{const se=D+re,G=o(oe),K=r?r(oe,se):se;return c.jsx(Qie,{style:{top:se*(k+g[f])},children:G},K)},n[40]=D,n[41]=f,n[42]=r,n[43]=k,n[44]=o,n[45]=g,n[46]=ee):ee=n[46],J=m.slice(D,O).map(ee),n[31]=D,n[32]=f,n[33]=r,n[34]=k,n[35]=m,n[36]=o,n[37]=g,n[38]=O,n[39]=J}else J=n[39];F=J}const L=F;let U;n[47]!==$?(U={height:$},n[47]=$,n[48]=U):U=n[48];const H=U;let N;n[49]!==L||n[50]!==H?(N=c.jsx("div",{ref:x,style:H,children:L}),n[49]=L,n[50]=H,n[51]=N):N=n[51];let Y;return n[52]!==d||n[53]!==a||n[54]!==N?(Y=c.jsx(Jit,{as:d,"data-ui":"VirtualList",...a,ref:y,children:N}),n[52]=d,n[53]=a,n[54]=N,n[55]=Y):Y=n[55],Y});Qit.displayName="ForwardRef(VirtualList)";function eot(e){let t=e;for(;t&&!unt(t);)t=t.parentNode;return t}function H5e(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const tot=4,Q0=4,not=19,rot=8,iot=2,W5e=[0,0,0,0],oot={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};function aot(e){const{apply:t,margins:n,padding:r=0}=e;return{name:"@sanity/ui/size",async fn(i){const{elements:o,placement:a,platform:s,rects:l}=i,{floating:u,reference:d}=l,f=await _Ye(i,{altBoundary:!0,boundary:e.boundaryElement||void 0,elementContext:"floating",padding:r,rootBoundary:"viewport"});let h=1/0,m=1/0;const g=u.width,y=u.height;a.includes("top")&&(h=g-(f.left+f.right),m=y-f.top),a.includes("right")&&(h=g-f.right,m=y-(f.top+f.bottom)),a.includes("bottom")&&(h=g-(f.left+f.right),m=y-f.bottom),a.includes("left")&&(h=g-f.left,m=y-(f.top+f.bottom)),t({availableWidth:h-n[1]-n[3],availableHeight:m-n[0]-n[2],elements:o,referenceWidth:d.width-n[1]-n[3]});const x=await s.getDimensions(o.floating),b=x.height,v=x.width;return g!==v||y!==b?{reset:{rects:!0}}:{}}}}function sot(e){const{container:t,mediaIndex:n,width:r}=e,i=r[n],o=i===void 0?r[r.length-1]:i;return typeof o=="number"?t[o]:void 0}function lot(e){const{boundaryWidth:t,currentWidth:n}=e;if(!(n===void 0&&t===void 0))return Math.min(n??1/0,(t||1/0)-Q0*2)}const cot=R(ug.create(le)).withConfig({displayName:"MotionCard",componentId:"sc-ihg31s-0"})`&:not([hidden]){display:flex;}flex-direction:column;width:max-content;min-width:min-content;will-change:transform;`,uot=R(ug.create(W)).withConfig({displayName:"MotionFlex",componentId:"sc-ihg31s-1"})`will-change:opacity;`,G5e=p.memo(p.forwardRef(function(e,t){const n=nt.c(66);let r,i,o,a,s,l,u,d,f,h,m,g,y,x,b,v,w,C,k,S,E,_;n[0]!==e?({__unstable_margins:u,animate:r,arrow:i,arrowRef:o,arrowX:a,arrowY:s,children:l,padding:m,placement:g,originX:d,originY:f,overflow:h,radius:y,scheme:b,shadow:v,strategy:w,style:C,tone:k,width:S,x:E,y:_,...x}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=u,n[8]=d,n[9]=f,n[10]=h,n[11]=m,n[12]=g,n[13]=y,n[14]=x,n[15]=b,n[16]=v,n[17]=w,n[18]=C,n[19]=k,n[20]=S,n[21]=E,n[22]=_):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],u=n[7],d=n[8],f=n[9],h=n[10],m=n[11],g=n[12],y=n[13],x=n[14],b=n[15],v=n[16],w=n[17],C=n[18],k=n[19],S=n[20],E=n[21],_=n[22]);const{zIndex:T}=ns(),A=u||W5e,I=(E??0)+A[3],j=(_??0)+A[0],$=r?"transform":void 0;let D;n[23]!==d||n[24]!==f||n[25]!==w||n[26]!==C||n[27]!==$||n[28]!==S||n[29]!==I||n[30]!==j||n[31]!==T?(D={left:I,originX:d,originY:f,position:w,top:j,width:S,zIndex:T,willChange:$,...C},n[23]=d,n[24]=f,n[25]=w,n[26]=C,n[27]=$,n[28]=S,n[29]=I,n[30]=j,n[31]=T,n[32]=D):D=n[32];const O=D,M=a!==null?a:void 0,P=s!==null?s:void 0;let F;n[33]!==M||n[34]!==P?(F={left:M,top:P,right:void 0,bottom:void 0},n[33]=M,n[34]=P,n[35]=F):F=n[35];const L=F,U=x;let H;n[36]!==r?(H=r?["hidden","initial"]:void 0,n[36]=r,n[37]=H):H=n[37];let N;n[38]!==r?(N=r?["visible","scaleIn"]:void 0,n[38]=r,n[39]=N):N=n[39];let Y;n[40]!==r?(Y=r?["hidden","scaleOut"]:void 0,n[40]=r,n[41]=Y):Y=n[41];let J;n[42]!==l||n[43]!==m?(J=c.jsx(W,{direction:"column",flex:1,padding:m,children:l}),n[42]=l,n[43]=m,n[44]=J):J=n[44];let ee;n[45]!==h||n[46]!==J?(ee=c.jsx(uot,{"data-ui":"Popover__wrapper",direction:"column",flex:1,overflow:h,variants:Fv.children,transition:Fv.transition,children:J}),n[45]=h,n[46]=J,n[47]=ee):ee=n[47];let oe;n[48]!==i||n[49]!==o||n[50]!==L?(oe=i&&c.jsx(MG,{ref:o,style:L,width:not,height:rot,radius:iot}),n[48]=i,n[49]=o,n[50]=L,n[51]=oe):oe=n[51];let re;return n[52]!==g||n[53]!==y||n[54]!==t||n[55]!==O||n[56]!==b||n[57]!==v||n[58]!==ee||n[59]!==oe||n[60]!==U||n[61]!==H||n[62]!==N||n[63]!==Y||n[64]!==k?(re=c.jsxs(cot,{"data-ui":"Popover",...U,"data-placement":g,radius:y,ref:t,scheme:b,shadow:v,sizing:"border",style:O,tone:k,variants:Fv.card,transition:Fv.transition,initial:H,animate:N,exit:Y,children:[ee,oe]}),n[52]=g,n[53]=y,n[54]=t,n[55]=O,n[56]=b,n[57]=v,n[58]=ee,n[59]=oe,n[60]=U,n[61]=H,n[62]=N,n[63]=Y,n[64]=k,n[65]=re):re=n[65],re}));G5e.displayName="Memo(ForwardRef(PopoverCard))";const dot=()=>{const e=nt.c(2),{zIndex:t}=ns();let n;return e[0]!==t?(n=c.jsx("div",{style:{height:"100vh",inset:0,position:"fixed",width:"100vw",zIndex:t}}),e[0]=t,e[1]=n):n=e[1],n},pg=p.memo(p.forwardRef(function(e,t){var We,ct,qe,Zt,Ur,ro;const{container:n,layer:r}=ip(),i=zy(),{__unstable_margins:o=W5e,animate:a=!1,arrow:s=!1,boundaryElement:l=i.element,children:u,constrainSize:d=!1,content:f,disabled:h,fallbackPlacements:m=e.fallbackPlacements??oot[e.placement??"bottom"],matchReferenceWidth:g,floatingBoundary:y=e.boundaryElement??i.element,modal:x,onActivate:b,open:v,overflow:w="hidden",padding:C,placement:k="bottom",placementStrategy:S="flip",portal:E,preventOverflow:_=!0,radius:T=3,referenceBoundary:A=e.boundaryElement??i.element,referenceElement:I,scheme:j,shadow:$=3,tone:D="inherit",width:O="auto",zOffset:M=r.popover.zOffset,updateRef:P,...F}=e,L=qO()?!1:a,U=(We=tE(l))==null?void 0:We.border,H=De(C),N=De(T),Y=De($),J=De(O),ee=De(M),oe=p.useRef(null),re=p.useRef(null),se="viewport";p.useImperativeHandle(t,()=>oe.current);const G=Vy(),K=d||_?U==null?void 0:U.width:void 0,q=sot({container:n,mediaIndex:G,width:J}),X=p.useRef(q);p.useEffect(()=>{X.current=q},[q]);const ie=lot({boundaryWidth:K,currentWidth:q}),te=p.useRef(ie);p.useEffect(()=>{te.current=ie},[ie]);const de=p.useRef(void 0);p.useEffect(()=>{const tn=oe.current;if(!v||!tn)return;const kn=de.current;g?kn!==void 0&&(tn.style.width=`${kn}px`):q!==void 0&&(tn.style.width=`${q}px`),typeof ie=="number"&&(tn.style.maxWidth=`${ie}px`)},[q,g,ie,v]);const pe=p.useMemo(()=>{const tn=[];return(d||_)&&(S==="autoPlacement"?tn.push(VZe({allowedPlacements:[k].concat(m)})):tn.push(NSe({boundary:y||void 0,fallbackPlacements:m,padding:Q0,rootBoundary:se}))),tn.push(FSe({mainAxis:tot})),(d||g)&&tn.push(aot({apply({availableWidth:kn,availableHeight:rt,elements:$t,referenceWidth:Yn}){de.current=Yn;const dn=X.current,ii=te.current;g?$t.floating.style.width=`${Yn}px`:dn!==void 0&&($t.floating.style.width=`${dn}px`),d&&($t.floating.style.maxWidth=`${Math.min(kn,ii??1/0)}px`,$t.floating.style.maxHeight=`${rt}px`)},boundaryElement:y||void 0,margins:o,padding:Q0})),_&&tn.push(LSe({boundary:y||void 0,rootBoundary:se,padding:Q0})),s&&tn.push(BSe({element:re,padding:Q0})),L&&tn.push(N5e),tn.push(zZe({boundary:A||void 0,padding:Q0,strategy:"referenceHidden"})),tn},[L,s,d,m,k,S,y,o,g,_,A]),{x:ve,y:Ce,middlewareData:xe,placement:Ae,refs:Re,strategy:we,update:ye}=RSe({middleware:pe,placement:k,whileElementsMounted:OCe,elements:I?{reference:I}:void 0}),ke=(ct=xe.hide)==null?void 0:ct.referenceHidden,be=(qe=xe.arrow)==null?void 0:qe.x,Ee=(Zt=xe.arrow)==null?void 0:Zt.y,ce=(Ur=xe["@sanity/ui/origin"])==null?void 0:Ur.originX,_e=(ro=xe["@sanity/ui/origin"])==null?void 0:ro.originY,Ie=p.useCallback(tn=>{re.current=tn},[]),Me=p.useCallback(tn=>{oe.current=tn,Re.setFloating(tn)},[Re]),Le=p.useCallback(tn=>{Re.setReference(tn);const kn=H5e(u);typeof kn=="function"?kn(tn):kn&&(kn.current=tn)},[u,Re]),et=p.useMemo(()=>I?u:u?p.cloneElement(u,{ref:Le}):null,[u,I,Le]);if(p.useEffect(()=>{P&&(typeof P=="function"?P(ye):P&&(P.current=ye))},[ye,P]),h)return u||c.jsx(c.Fragment,{});const Ct=c.jsxs(Pl,{zOffset:ee,children:[x&&c.jsx(dot,{}),c.jsx(G5e,{...F,__unstable_margins:o,animate:L,arrow:s,arrowRef:Ie,arrowX:be,arrowY:Ee,hidden:ke,overflow:w,padding:H,placement:Ae,radius:N,ref:Me,scheme:j,shadow:Y,originX:ce,originY:_e,strategy:we,tone:D,width:g?de.current:q,x:ve,y:Ce,children:f})]}),Ge=v&&(E?c.jsx(hg,{__unstable_name:typeof E=="string"?E:void 0,children:Ct}):Ct);return c.jsxs(c.Fragment,{children:[L?c.jsx(wG,{children:Ge}):Ge,et]})}));pg.displayName="Memo(ForwardRef(Popover))";function fot(){return he`
    position: relative;

    &:not([hidden]) {
      display: inline-block;
    }

    &[data-read-only] {
      outline: 1px solid red;
    }
  `}function hot(e){const{color:t,input:n}=$e(e.theme),r=(n.radio.size-n.radio.markSize)/2;return he`
    appearance: none;
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    z-index: 1;
    padding: 0;
    margin: 0;
    border-radius: ${Te(n.radio.size/2)};
    border: none;

    /* enabled */
    & + span {
      display: block;
      position: relative;
      height: ${Te(n.radio.size)};
      width: ${Te(n.radio.size)};
      border-radius: ${Te(n.radio.size/2)};
      background: ${t.input.default.enabled.bg};
      box-shadow: ${qi({color:t.input.default.enabled.border,width:n.border.width})};

      &::after {
        content: '';
        position: absolute;
        top: ${Te(r)};
        left: ${Te(r)};
        height: ${Te(n.radio.markSize)};
        width: ${Te(n.radio.markSize)};
        border-radius: ${Te(n.radio.markSize/2)};
        background: ${t.input.default.enabled.fg};
        opacity: 0;
      }
    }

    /* focused */
    &:not(:disabled):focus + span {
      box-shadow: ${Ac({border:{width:n.border.width,color:t.input.default.enabled.border},focusRing:n.radio.focusRing})};
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: ${qi({color:t.input.default.enabled.border,width:n.border.width})};
    }

    &:checked + span::after {
      opacity: 1;
    }

    /* customValidity */
    &[data-error] + span {
      background-color: ${t.input.invalid.enabled.border};
      box-shadow: ${qi({width:n.border.width,color:t.input.invalid.enabled.muted.bg})};
      &::after {
        background: ${t.input.invalid.enabled.muted.bg};
      }
    }

    /* read only */
    &[data-read-only] + span {
      box-shadow: 0 0 0 1px ${t.input.default.readOnly.border};
      background: ${t.input.default.readOnly.bg};

      &::after {
        background: ${t.input.default.readOnly.border};
      }
    }

    /* disabled */
    &:not([data-read-only]):disabled + span {
      box-shadow: 0 0 0 1px ${t.input.default.disabled.border};
      background: ${t.input.default.disabled.bg};

      &::after {
        background: ${t.input.default.disabled.border};
      }
    }
  `}const pot=R.div.withConfig({displayName:"StyledRadio",componentId:"sc-ccrwkf-0"})(fot),mot=R.input.withConfig({displayName:"Input",componentId:"sc-ccrwkf-1"})(hot),K5e=p.forwardRef(function(e,t){const n=nt.c(19);let r,i,o,a,s,l;n[0]!==e?({className:r,disabled:o,style:l,customValidity:i,readOnly:a,...s}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6]);const u=p.useRef(null);let d;n[7]===Symbol.for("react.memo_cache_sentinel")?(d=()=>u.current,n[7]=d):d=n[7],p.useImperativeHandle(t,d),eE(u,i);const f=!o&&a?"":void 0,h=i?"":void 0,m=o||a;let g;n[8]!==a||n[9]!==s||n[10]!==f||n[11]!==h||n[12]!==m?(g=c.jsx(mot,{"data-read-only":f,"data-error":h,...s,disabled:m,readOnly:a,ref:u,type:"radio"}),n[8]=a,n[9]=s,n[10]=f,n[11]=h,n[12]=m,n[13]=g):g=n[13];let y;n[14]===Symbol.for("react.memo_cache_sentinel")?(y=c.jsx("span",{}),n[14]=y):y=n[14];let x;return n[15]!==r||n[16]!==l||n[17]!==g?(x=c.jsxs(pot,{className:r,"data-ui":"Radio",style:l,children:[g,y]}),n[15]=r,n[16]=l,n[17]=g,n[18]=x):x=n[18],x});K5e.displayName="ForwardRef(Radio)";function got(){return he`
    position: relative;
    width: -moz-available;
    width: -webkit-fill-available;
    width: stretch;

    &:not([hidden]) {
      display: inline-block;
    }
  `}function yot(e){const{font:t}=$e(e.theme);return he`
    -webkit-font-smoothing: antialiased;
    appearance: none;
    border: 0;
    font-family: ${t.text.family};
    color: inherit;
    width: 100%;
    outline: none;
    margin: 0;

    &:disabled {
      opacity: 1;
    }
  `}function vot(e){const{color:t,input:n}=$e(e.theme);return he`
    /* enabled */
    background-color: ${t.input.default.enabled.bg};
    color: ${t.input.default.enabled.fg};
    box-shadow: ${qi({color:t.input.default.enabled.border,width:n.border.width})};

    /* hovered */
    @media (hover: hover) {
      &:not(:disabled):hover {
        background-color: ${t.input.default.hovered.bg};
        color: ${t.input.default.hovered.fg};
        box-shadow: ${qi({color:t.input.default.hovered.border,width:n.border.width})};
      }
    }

    /* focused */
    &:not(:disabled):focus {
      box-shadow: ${Ac({border:{width:n.border.width,color:t.input.default.enabled.border},focusRing:n.select.focusRing})};
    }

    /* read-only */
    &[data-read-only] {
      background-color: ${t.input.default.readOnly.bg};
      color: ${t.input.default.readOnly.fg};
      box-shadow: ${qi({color:t.input.default.readOnly.border,width:n.border.width})};
    }

    /* disabled */
    &:not([data-read-only]):disabled {
      background-color: ${t.input.default.disabled.bg};
      color: ${t.input.default.disabled.fg};
      box-shadow: ${qi({color:t.input.default.disabled.border,width:n.border.width})};
    }
  `}function bot(e){return{fontSize:Te(e.fontSize),lineHeight:`${Te(e.lineHeight)}`}}function xot(e){const{$fontSize:t}=e,{font:n,media:r}=$e(e.theme);return Ut(r,t,i=>bot(n.text.sizes[i]||n.text.sizes[2]))}function wot(){return[op,yot,vot,xot,brt]}function Cot(e){const{color:t}=$e(e.theme);return he`
    pointer-events: none;
    position: absolute;
    top: 0;
    right: 0;

    /* enabled */
    --card-fg-color: ${t.input.default.enabled.fg};

    /* hover */
    @media (hover: hover) {
      select:not(disabled):not(:read-only):hover + && {
        --card-fg-color: ${t.input.default.hovered.fg};
      }
    }

    /* disabled */
    select:disabled + && {
      --card-fg-color: ${t.input.default.disabled.fg};
    }

    /* read-only */
    select[data-read-only] + && {
      --card-fg-color: ${t.input.default.readOnly.fg};
    }
  `}const PG={root:got,input:wot,iconBox:Cot},kot=R.div.withConfig({displayName:"StyledSelect",componentId:"sc-5mxno7-0"})(PG.root),Sot=R.select.withConfig({displayName:"Input",componentId:"sc-5mxno7-1"})(PG.input),Eot=R(V).withConfig({displayName:"IconBox",componentId:"sc-5mxno7-2"})(PG.iconBox),Pc=p.forwardRef(function(e,t){const n=nt.c(29);let r,i,o,a,s,l,u,d,f;n[0]!==e?({children:r,customValidity:i,disabled:o,fontSize:l,padding:u,radius:d,readOnly:a,space:f,...s}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=u,n[8]=d,n[9]=f):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],u=n[7],d=n[8],f=n[9]);const h=l===void 0?2:l,m=u===void 0?3:u,g=d===void 0?2:d,y=f===void 0?3:f,x=p.useRef(null);let b;n[10]===Symbol.for("react.memo_cache_sentinel")?(b=()=>x.current,n[10]=b):b=n[10],p.useImperativeHandle(t,b),eE(x,i);const v=!o&&a?"":void 0,w=De(h),C=De(m),k=De(g),S=De(y),E=o||a;let _;n[11]!==r||n[12]!==s||n[13]!==E||n[14]!==v||n[15]!==w||n[16]!==C||n[17]!==k||n[18]!==S?(_=c.jsx(Sot,{"data-read-only":v,"data-ui":"Select",...s,$fontSize:w,$padding:C,$radius:k,$space:S,disabled:E,ref:x,children:r}),n[11]=r,n[12]=s,n[13]=E,n[14]=v,n[15]=w,n[16]=C,n[17]=k,n[18]=S,n[19]=_):_=n[19];let T;n[20]===Symbol.for("react.memo_cache_sentinel")?(T=c.jsx(vCe,{}),n[20]=T):T=n[20];let A;n[21]!==h?(A=c.jsx(B,{size:h,children:T}),n[21]=h,n[22]=A):A=n[22];let I;n[23]!==m||n[24]!==A?(I=c.jsx(Eot,{padding:m,children:A}),n[23]=m,n[24]=A,n[25]=I):I=n[25];let j;return n[26]!==_||n[27]!==I?(j=c.jsxs(kot,{"data-ui":"Select",children:[_,I]}),n[26]=_,n[27]=I,n[28]=j):j=n[28],j});Pc.displayName="ForwardRef(Select)";const _ot={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"},gridTemplateColumns:"minmax(0, 1fr)",gridAutoRows:"min-content"};function Tot(){return _ot}function Aot(e){const{media:t,space:n}=$e(e.theme);return Ut(t,e.$space,r=>({gridGap:Te(n[r])}))}const jot=R(V).withConfig({displayName:"StyledStack",componentId:"sc-8dpfq2-0"})(Tot,Aot),ae=p.forwardRef(function(e,t){const n=nt.c(10);let r,i,o;n[0]!==e?({as:r,space:o,...i}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o):(r=n[1],i=n[2],o=n[3]);const a=typeof r=="string"?r:void 0,s=De(o);let l;return n[4]!==r||n[5]!==t||n[6]!==i||n[7]!==a||n[8]!==s?(l=c.jsx(jot,{"data-as":a,"data-ui":"Stack",...i,$space:s,forwardedAs:r,ref:t}),n[4]=r,n[5]=t,n[6]=i,n[7]=a,n[8]=s,n[9]=l):l=n[9],l});ae.displayName="ForwardRef(Stack)";function Iot(){return he`
    position: relative;
    &:not([hidden]) {
      display: inline-block;
    }
  `}function $ot(){return he`
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    padding: 0;
    margin: 0;

    /* Place the input element above the representation element */
    z-index: 1;
  `}function Dot(e){const{color:t,input:n}=$e(e.theme);return he`
    --switch-bg-color: ${t.input.default.enabled.border};
    --switch-fg-color: ${t.input.default.enabled.bg};
    --switch-box-shadow: none;

    &:not([hidden]) {
      display: block;
    }
    position: relative;
    width: ${Te(n.switch.width)};
    height: ${Te(n.switch.height)};
    border-radius: ${Te(n.switch.height/2)};

    /* Make sure its not possible to interact with the wrapper element */
    pointer-events: none;

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 1;
      box-shadow: var(--switch-box-shadow);
      border-radius: inherit;
    }

    /* Focus styles */
    input:focus + && {
      --switch-box-shadow: ${Ac({focusRing:n.switch.focusRing})};
    }

    input:focus:not(:focus-visible) + && {
      --switch-box-shadow: none;
    }

    input:checked + && {
      --switch-bg-color: ${t.input.default.enabled.fg};
      --switch-fg-color: ${t.input.default.enabled.bg};
    }

    @media (hover: hover) {
      input:not(:disabled):hover + && {
        --switch-bg-color: ${t.input.default.hovered.border};
        --switch-fg-color: ${t.input.default.hovered.bg};
      }

      input:not(:disabled):checked:hover + && {
        --switch-bg-color: ${t.input.default.enabled.fg};
        --switch-fg-color: ${t.input.default.enabled.bg};
      }
    }

    input:not([data-read-only]):disabled + && {
      --switch-bg-color: ${t.input.default.disabled.border};
      --switch-fg-color: ${t.input.default.disabled.bg};
    }

    input[data-read-only]:disabled + && {
      --switch-bg-color: ${t.input.default.readOnly.border};
      --switch-fg-color: ${t.input.default.readOnly.bg};
    }

    input:checked[data-read-only]:disabled + && {
      --switch-bg-color: ${t.input.default.readOnly.fg};
      --switch-fg-color: ${t.input.default.readOnly.bg};
    }
  `}function Oot(e){const{input:t}=$e(e.theme);return he`
    &:not([hidden]) {
      display: block;
    }
    background-color: var(--switch-bg-color);
    position: absolute;
    left: 0;
    top: 0;
    width: ${Te(t.switch.width)};
    height: ${Te(t.switch.height)};
    border-radius: ${Te(t.switch.height/2)};
  `}function Mot(e){const{$indeterminate:t}=e,{input:n}=$e(e.theme),r=n.switch.width,i=n.switch.height,o=n.switch.padding,a=i-n.switch.padding*2,s=r-o*2-a,l=r/2-a/2-o,u=t!==!0&&e.$checked===!0;return he`
    &:not([hidden]) {
      display: block;
    }
    position: absolute;
    left: ${Te(o)};
    top: ${Te(o)};
    height: ${Te(a)};
    width: ${Te(a)};
    border-radius: ${Te(a/2)};
    transition-property: transform;
    transition-duration: ${n.switch.transitionDurationMs}ms;
    transition-timing-function: ${n.switch.transitionTimingFunction};
    background: var(--switch-fg-color);
    transform: translate3d(0, 0, 0);
    box-shadow: 0px 1px 0px 0px rgba(0, 0, 0, 0.05);

    ${u&&he`
      transform: translate3d(${s}px, 0, 0);
    `}

    ${t&&he`
      transform: translate3d(${l}px, 0, 0);
    `}
  `}const Pot=R.span.withConfig({displayName:"StyledSwitch",componentId:"sc-dw1foe-0"})(Iot),Rot=R.input.withConfig({displayName:"Input",componentId:"sc-dw1foe-1"})($ot),Fot=R.span.withConfig({displayName:"Representation",componentId:"sc-dw1foe-2"})(Dot),Lot=R.span.withConfig({displayName:"Track",componentId:"sc-dw1foe-3"})(Oot),Not=R.span.withConfig({displayName:"Thumb",componentId:"sc-dw1foe-4"})(Mot),XO=p.forwardRef(function(e,t){const n=nt.c(26);let r,i,o,a,s,l,u;n[0]!==e?({checked:r,className:i,disabled:o,indeterminate:a,readOnly:s,style:u,...l}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=u):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],u=n[7]);const d=p.useRef(null);let f;n[8]===Symbol.for("react.memo_cache_sentinel")?(f=()=>d.current,n[8]=f):f=n[8],p.useImperativeHandle(t,f);let h,m;n[9]!==a?(h=()=>{d.current&&(d.current.indeterminate=a||!1)},m=[a],n[9]=a,n[10]=h,n[11]=m):(h=n[10],m=n[11]),p.useEffect(h,m);const g=!o&&s?"":void 0,y=a!==!0&&r,x=o||s;let b;n[12]!==l||n[13]!==g||n[14]!==y||n[15]!==x?(b=c.jsx(Rot,{"data-read-only":g,...l,checked:y,disabled:x,type:"checkbox",ref:d}),n[12]=l,n[13]=g,n[14]=y,n[15]=x,n[16]=b):b=n[16];let v;n[17]===Symbol.for("react.memo_cache_sentinel")?(v=c.jsx(Lot,{}),n[17]=v):v=n[17];let w;n[18]!==r||n[19]!==a?(w=c.jsxs(Fot,{"aria-hidden":!0,"data-name":"representation",children:[v,c.jsx(Not,{$checked:r,$indeterminate:a})]}),n[18]=r,n[19]=a,n[20]=w):w=n[20];let C;return n[21]!==i||n[22]!==u||n[23]!==b||n[24]!==w?(C=c.jsxs(Pot,{className:i,"data-ui":"Switch",style:u,children:[b,w]}),n[21]=i,n[22]=u,n[23]=b,n[24]=w,n[25]=C):C=n[25],C});XO.displayName="ForwardRef(Switch)";const Bot=R.span.withConfig({displayName:"StyledTextArea",componentId:"sc-1d6h1o8-0"})(O5e),Vot=R.span.withConfig({displayName:"InputRoot",componentId:"sc-1d6h1o8-1"})`flex:1;min-width:0;display:block;position:relative;`,zot=R.textarea.withConfig({displayName:"Input",componentId:"sc-1d6h1o8-2"})($G,M5e,P5e),Uot=R.div.withConfig({displayName:"Presentation",componentId:"sc-1d6h1o8-3"})(op,R5e),Y5e=p.forwardRef(function(e,t){const n=nt.c(29);let r,i,o,a,s,l,u,d,f;n[0]!==e?({border:a,customValidity:i,disabled:s,fontSize:l,padding:u,radius:d,weight:f,__unstable_disableFocusRing:r,...o}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=u,n[8]=d,n[9]=f):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],u=n[7],d=n[8],f=n[9]);const h=a===void 0?!0:a,m=s===void 0?!1:s,g=l===void 0?2:l,y=u===void 0?3:u,x=d===void 0?2:d,b=p.useRef(null),v=ew();let w;n[10]===Symbol.for("react.memo_cache_sentinel")?(w=()=>b.current,n[10]=w):w=n[10],p.useImperativeHandle(t,w),eE(b,i);const C=v.scheme,k=v.tone,S=De(g),E=De(y),_=v.scheme,T=De(0);let A;n[11]!==m||n[12]!==o||n[13]!==v.scheme||n[14]!==v.tone||n[15]!==T||n[16]!==S||n[17]!==E||n[18]!==f?(A=c.jsx(zot,{"data-as":"textarea","data-scheme":C,"data-tone":k,...o,$fontSize:S,$padding:E,$scheme:_,$space:T,$tone:v.tone,$weight:f,disabled:m,ref:b}),n[11]=m,n[12]=o,n[13]=v.scheme,n[14]=v.tone,n[15]=T,n[16]=S,n[17]=E,n[18]=f,n[19]=A):A=n[19];const I=De(x),j=h?"":void 0;let $;n[20]!==r||n[21]!==v.scheme||n[22]!==v.tone||n[23]!==I||n[24]!==j?($=c.jsx(Uot,{$radius:I,$unstableDisableFocusRing:r,$scheme:v.scheme,$tone:v.tone,"data-border":j,"data-scheme":v.scheme,"data-tone":v.tone}),n[20]=r,n[21]=v.scheme,n[22]=v.tone,n[23]=I,n[24]=j,n[25]=$):$=n[25];let D;return n[26]!==A||n[27]!==$?(D=c.jsx(Bot,{"data-ui":"TextArea",children:c.jsxs(Vot,{children:[A,$]})}),n[26]=A,n[27]=$,n[28]=D):D=n[28],D});Y5e.displayName="ForwardRef(TextArea)";const Hot={zIndex:2},Wot=R(le).attrs({forwardedAs:"span"}).withConfig({displayName:"StyledTextInput",componentId:"sc-h62wco-0"})(O5e),Got=R.span.withConfig({displayName:"InputRoot",componentId:"sc-h62wco-1"})`flex:1;min-width:0;display:block;position:relative;`,Kot=R(le).attrs({forwardedAs:"span"}).withConfig({displayName:"Prefix",componentId:"sc-h62wco-2"})`border-top-right-radius:0;border-bottom-right-radius:0;& > span{display:block;margin:-1px;}`,Yot=R(le).attrs({forwardedAs:"span"}).withConfig({displayName:"Suffix",componentId:"sc-h62wco-3"})`border-top-left-radius:0;border-bottom-left-radius:0;& > span{display:block;margin:-1px;}`,qot=R.input.withConfig({displayName:"Input",componentId:"sc-h62wco-4"})($G,M5e,P5e),Zot=R.span.withConfig({displayName:"Presentation",componentId:"sc-h62wco-5"})(op,R5e),Xot=R(V).withConfig({displayName:"LeftBox",componentId:"sc-h62wco-6"})`position:absolute;top:0;left:0;`,Jot=R(V).withConfig({displayName:"RightBox",componentId:"sc-h62wco-7"})`position:absolute;top:0;right:0;`,Qot=R(le).withConfig({displayName:"RightCard",componentId:"sc-h62wco-8"})`background-color:transparent;position:absolute;top:0;right:0;`,eat=R(zt).withConfig({displayName:"TextInputClearButton",componentId:"sc-h62wco-9"})({"&:not([hidden])":{display:"block"}}),ei=p.forwardRef(function(e,t){const n=nt.c(84);let r,i,o,a,s,l,u,d,f,h,m,g,y,x,b,v,w,C;n[0]!==e?({__unstable_disableFocusRing:o,border:m,clearButton:a,disabled:g,fontSize:y,icon:r,iconRight:i,onClear:l,padding:x,prefix:u,radius:b,readOnly:d,space:v,suffix:h,customValidity:s,type:w,weight:C,...f}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=u,n[8]=d,n[9]=f,n[10]=h,n[11]=m,n[12]=g,n[13]=y,n[14]=x,n[15]=b,n[16]=v,n[17]=w,n[18]=C):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],u=n[7],d=n[8],f=n[9],h=n[10],m=n[11],g=n[12],y=n[13],x=n[14],b=n[15],v=n[16],w=n[17],C=n[18]);const k=m===void 0?!0:m,S=g===void 0?!1:g,E=y===void 0?2:y,_=x===void 0?3:x,T=b===void 0?2:b,A=v===void 0?3:v,I=w===void 0?"text":w,j=p.useRef(null),$=ew(),D=De(E),O=De(_),M=De(T),P=De(A),F=!!a,L=!!r,U=!!i,H=!!h,N=!!u;let Y;n[19]===Symbol.for("react.memo_cache_sentinel")?(Y=()=>j.current,n[19]=Y):Y=n[19],p.useImperativeHandle(t,Y),eE(j,s);const J=tat;let ee;n[20]!==l?(ee=ce=>{var _e;ce.preventDefault(),ce.stopPropagation(),l&&l(),(_e=j.current)==null||_e.focus()},n[20]=l,n[21]=ee):ee=n[21];const oe=ee;let re;n[22]!==u||n[23]!==M?(re=u&&c.jsx(Kot,{borderTop:!0,borderLeft:!0,borderBottom:!0,radius:M,sizing:"border",tone:"inherit",children:c.jsx("span",{children:u})}),n[22]=u,n[23]=M,n[24]=re):re=n[24];const se=re,G=k?"":void 0;let K;n[25]!==r||n[26]!==D||n[27]!==O?(K=r&&c.jsx(Xot,{padding:O,children:c.jsxs(B,{size:D,children:[p.isValidElement(r)&&r,Hd.isValidElementType(r)&&c.jsx(r,{})]})}),n[25]=r,n[26]=D,n[27]=O,n[28]=K):K=n[28];let q;n[29]!==F||n[30]!==i||n[31]!==D||n[32]!==O?(q=!F&&i&&c.jsx(Jot,{padding:O,children:c.jsxs(B,{size:D,children:[p.isValidElement(i)&&i,Hd.isValidElementType(i)&&c.jsx(i,{})]})}),n[29]=F,n[30]=i,n[31]=D,n[32]=O,n[33]=q):q=n[33];let X;n[34]!==N||n[35]!==H||n[36]!==o||n[37]!==M||n[38]!==$.scheme||n[39]!==$.tone||n[40]!==G||n[41]!==K||n[42]!==q?(X=c.jsxs(Zot,{$hasPrefix:N,$unstableDisableFocusRing:o,$hasSuffix:H,$radius:M,$scheme:$.scheme,$tone:$.tone,"data-border":G,"data-scheme":$.scheme,"data-tone":$.tone,children:[K,q]}),n[34]=N,n[35]=H,n[36]=o,n[37]=M,n[38]=$.scheme,n[39]=$.tone,n[40]=G,n[41]=K,n[42]=q,n[43]=X):X=n[43];const ie=X;let te;n[44]!==O?(te=O.map(nat),n[44]=O,n[45]=te):te=n[45];const de=te;let pe;n[46]!==O?(pe=O.map(rat),n[46]=O,n[47]=pe):pe=n[47];const ve=pe,Ce=typeof a=="object"?a:Om;let xe;n[48]!==a||n[49]!==de||n[50]!==ve||n[51]!==Ce||n[52]!==s||n[53]!==S||n[54]!==D||n[55]!==oe||n[56]!==M||n[57]!==d?(xe=!S&&!d&&a&&c.jsx(Qot,{forwardedAs:"span",padding:de,style:Hot,tone:s?"critical":"inherit",children:c.jsx(eat,{"aria-label":"Clear","data-qa":"clear-button",fontSize:D,icon:qH,mode:"bleed",padding:ve,radius:M,...Ce,onClick:oe,onMouseDown:J})}),n[48]=a,n[49]=de,n[50]=ve,n[51]=Ce,n[52]=s,n[53]=S,n[54]=D,n[55]=oe,n[56]=M,n[57]=d,n[58]=xe):xe=n[58];const Ae=xe;let Re;n[59]!==M||n[60]!==h?(Re=h&&c.jsx(Yot,{borderTop:!0,borderRight:!0,borderBottom:!0,radius:M,sizing:"border",tone:"inherit",children:c.jsx("span",{children:h})}),n[59]=M,n[60]=h,n[61]=Re):Re=n[61];const we=Re,ye=U||F;let ke;n[62]!==L||n[63]!==S||n[64]!==D||n[65]!==O||n[66]!==d||n[67]!==f||n[68]!==$.scheme||n[69]!==$.tone||n[70]!==P||n[71]!==ye||n[72]!==I||n[73]!==C?(ke=c.jsx(qot,{"data-as":"input","data-scheme":$.scheme,"data-tone":$.tone,...f,$fontSize:D,$iconLeft:L,$iconRight:ye,$padding:O,$scheme:$.scheme,$space:P,$tone:$.tone,$weight:C,disabled:S,readOnly:d,ref:j,type:I}),n[62]=L,n[63]=S,n[64]=D,n[65]=O,n[66]=d,n[67]=f,n[68]=$.scheme,n[69]=$.tone,n[70]=P,n[71]=ye,n[72]=I,n[73]=C,n[74]=ke):ke=n[74];let be;n[75]!==Ae||n[76]!==ie||n[77]!==ke?(be=c.jsxs(Got,{children:[ke,ie,Ae]}),n[75]=Ae,n[76]=ie,n[77]=ke,n[78]=be):be=n[78];let Ee;return n[79]!==se||n[80]!==$.tone||n[81]!==we||n[82]!==be?(Ee=c.jsxs(Wot,{"data-ui":"TextInput",tone:$.tone,children:[se,be,we]}),n[79]=se,n[80]=$.tone,n[81]=we,n[82]=be,n[83]=Ee):Ee=n[83],Ee});ei.displayName="ForwardRef(TextInput)";function tat(e){e.preventDefault(),e.stopPropagation()}function nat(e){return e===0?0:e===1||e===2?1:e-2}function rat(e){return e===0||e===1?0:e===2?1:e-1}function DN(e){const t=nt.c(3),[n,r]=p.useState(e),i=p.useRef(void 0);let o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=(l,u)=>{const d=()=>{r(l)};if(i.current&&(clearTimeout(i.current),i.current=void 0),!u)return d();i.current=setTimeout(d,u)},t[0]=o):o=t[0];const a=o;let s;return t[1]!==n?(s=[n,a],t[1]=n,t[2]=s):s=t[2],s}const iat=15,oat=6,aat=2,sat=4,kT=4,lat={top:["top-end","top-start","bottom","left","right"],"top-start":["top","top-end","bottom-start","left-start","right-start"],"top-end":["top","top-start","bottom-end","left-end","right-end"],bottom:["bottom-end","bottom-start","top","left","right"],"bottom-start":["bottom","bottom-end","top-start","left-start","right-start"],"bottom-end":["bottom","bottom-start","top-end","left-end","right-end"],left:["left-end","left-start","right","top","bottom"],"left-start":["left","left-end","right-start","top-start","bottom-start"],"left-end":["left","left-start","right-end","top-end","bottom-end"],right:["right-end","right-start","left","top","bottom"],"right-start":["right","right-end","left-start","top-start","bottom-start"],"right-end":["right","right-start","left-end","top-end","bottom-end"]},cat=R(ug.create(le)).withConfig({displayName:"MotionCard",componentId:"sc-1xn138w-0"})`will-change:transform;`,q5e=p.memo(p.forwardRef(function(e,t){const n=nt.c(48);let r,i,o,a,s,l,u,d,f,h,m,g,y,x,b;n[0]!==e?({animate:r,arrow:i,arrowRef:o,arrowX:a,arrowY:s,children:l,originX:u,originY:d,padding:f,placement:h,radius:m,scheme:y,shadow:x,style:b,...g}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=u,n[8]=d,n[9]=f,n[10]=h,n[11]=m,n[12]=g,n[13]=y,n[14]=x,n[15]=b):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],u=n[7],d=n[8],f=n[9],h=n[10],m=n[11],g=n[12],y=n[13],x=n[14],b=n[15]);const v=r?"transform":void 0;let w;n[16]!==u||n[17]!==d||n[18]!==b||n[19]!==v?(w={originX:u,originY:d,willChange:v,...b},n[16]=u,n[17]=d,n[18]=b,n[19]=v,n[20]=w):w=n[20];const C=w,k=a!==null?a:void 0,S=s!==null?s:void 0;let E;n[21]!==k||n[22]!==S?(E={left:k,top:S,right:void 0,bottom:void 0},n[21]=k,n[22]=S,n[23]=E):E=n[23];const _=E,T=g;let A;n[24]!==r?(A=r?["hidden","initial"]:void 0,n[24]=r,n[25]=A):A=n[25];let I;n[26]!==r?(I=r?["visible","scaleIn"]:void 0,n[26]=r,n[27]=I):I=n[27];let j;n[28]!==r?(j=r?["hidden","scaleOut"]:void 0,n[28]=r,n[29]=j):j=n[29];let $;n[30]!==i||n[31]!==o||n[32]!==_?($=i&&c.jsx(MG,{ref:o,style:_,width:iat,height:oat,radius:aat}),n[30]=i,n[31]=o,n[32]=_,n[33]=$):$=n[33];let D;return n[34]!==l||n[35]!==f||n[36]!==h||n[37]!==m||n[38]!==t||n[39]!==C||n[40]!==y||n[41]!==x||n[42]!==T||n[43]!==A||n[44]!==I||n[45]!==j||n[46]!==$?(D=c.jsxs(cat,{"data-ui":"Tooltip__card",...T,"data-placement":h,padding:f,radius:m,ref:t,scheme:y,shadow:x,style:C,variants:Fv.card,transition:Fv.transition,initial:A,animate:I,exit:j,children:[l,$]}),n[34]=l,n[35]=f,n[36]=h,n[37]=m,n[38]=t,n[39]=C,n[40]=y,n[41]=x,n[42]=T,n[43]=A,n[44]=I,n[45]=j,n[46]=$,n[47]=D):D=n[47],D}));q5e.displayName="Memo(ForwardRef(TooltipCard))";const Z5e=rp("@sanity/ui/context/tooltipDelayGroup",null);function X5e(e){const t=nt.c(9),{children:n,delay:r}=e,[i,o]=DN(!1),[a,s]=DN(null),l=typeof r=="number"?r:(r==null?void 0:r.open)||0,u=typeof r=="number"?r:(r==null?void 0:r.close)||0,d=i?1:l;let f;t[0]!==u||t[1]!==a||t[2]!==o||t[3]!==s||t[4]!==d?(f={setIsGroupActive:o,openTooltipId:a,setOpenTooltipId:s,openDelay:d,closeDelay:u},t[0]=u,t[1]=a,t[2]=o,t[3]=s,t[4]=d,t[5]=f):f=t[5];const h=f;let m;return t[6]!==n||t[7]!==h?(m=c.jsx(Z5e.Provider,{value:h,children:n}),t[6]=n,t[7]=h,t[8]=m):m=t[8],m}X5e.displayName="TooltipDelayGroupProvider";function uat(){return p.useContext(Z5e)}const dat=R(al).withConfig({displayName:"StyledTooltip",componentId:"sc-13f2zvh-0"})`pointer-events:none;`,D3=p.forwardRef(function(e,t){var Ie,Me,Le,et,Ct;const n=zy(),{layer:r}=ip(),{animate:i=!1,arrow:o=!1,boundaryElement:a=n==null?void 0:n.element,children:s,content:l,disabled:u,fallbackPlacements:d=e.fallbackPlacements??lat[e.placement??"bottom"],padding:f=2,placement:h="bottom",portal:m,radius:g=2,scheme:y,shadow:x=2,zOffset:b=r.tooltip.zOffset,delay:v,...w}=e,C=qO()?!1:i,k=De(d),S=p.useRef(null),[E,_]=p.useState(null),T=p.useRef(null),A="viewport",[I,j]=p.useState(0);p.useImperativeHandle(t,()=>S.current);const $=ap(),D=typeof m=="string"?((Ie=$.elements)==null?void 0:Ie[m])||null:$.element,O=p.useMemo(()=>{const Ge=[];return Ge.push(NSe({boundary:a||void 0,fallbackPlacements:k,padding:kT,rootBoundary:A})),Ge.push(FSe({mainAxis:sat})),Ge.push(LSe({boundary:a||void 0,rootBoundary:A,padding:kT})),o&&Ge.push(BSe({element:T,padding:kT})),C&&Ge.push(N5e),Ge},[C,o,a,k]),{floatingStyles:M,placement:P,middlewareData:F,refs:L,update:U}=RSe({middleware:O,placement:h,whileElementsMounted:OCe,elements:{reference:E}}),H=(Me=F.arrow)==null?void 0:Me.x,N=(Le=F.arrow)==null?void 0:Le.y,Y=(et=F["@sanity/ui/origin"])==null?void 0:et.originX,J=(Ct=F["@sanity/ui/origin"])==null?void 0:Ct.originY,ee=p.useId(),[oe,re]=DN(!1),se=uat(),{setIsGroupActive:G,setOpenTooltipId:K}=se||{},q=oe||(se==null?void 0:se.openTooltipId)===ee,X=se!==null,ie=typeof v=="number"?v:(v==null?void 0:v.open)||0,te=typeof v=="number"?v:(v==null?void 0:v.close)||0,de=X?se.openDelay:ie,pe=X?se.closeDelay:te,ve=p.useCallback((Ge,We)=>{if(X)if(Ge){const ct=We?0:de;G==null||G(Ge,ct),K==null||K(ee,ct)}else{const ct=pe>200?pe:200;G==null||G(Ge,ct),K==null||K(null,We?0:pe)}else re(Ge,We?0:Ge?de:pe)},[X,de,G,K,ee,pe,re]),Ce=p.useCallback(Ge=>{var We,ct;ve(!1),(ct=(We=s==null?void 0:s.props)==null?void 0:We.onBlur)==null||ct.call(We,Ge)},[s==null?void 0:s.props,ve]),xe=p.useCallback(Ge=>{var We,ct;ve(!1,!0),(ct=s==null?void 0:(We=s.props).onClick)==null||ct.call(We,Ge)},[s==null?void 0:s.props,ve]),Ae=p.useCallback(Ge=>{var We,ct;ve(!1,!0),(ct=s==null?void 0:(We=s.props).onContextMenu)==null||ct.call(We,Ge)},[s==null?void 0:s.props,ve]),Re=p.useCallback(Ge=>{var We,ct;ve(!0),(ct=(We=s==null?void 0:s.props)==null?void 0:We.onFocus)==null||ct.call(We,Ge)},[s==null?void 0:s.props,ve]),we=p.useCallback(Ge=>{var We,ct;ve(!0),(ct=(We=s==null?void 0:s.props)==null?void 0:We.onMouseEnter)==null||ct.call(We,Ge)},[s==null?void 0:s.props,ve]),ye=p.useCallback(Ge=>{var We,ct;ve(!1),(ct=(We=s==null?void 0:s.props)==null?void 0:We.onMouseLeave)==null||ct.call(We,Ge)},[s==null?void 0:s.props,ve]);fat({handleIsOpenChange:ve,referenceElement:E,showTooltip:q,isInsideGroup:X}),p.useEffect(()=>{u&&q&&ve(!1)},[u,ve,q]),p.useEffect(()=>{!l&&q&&ve(!1)},[l,ve,q]),p.useEffect(()=>{if(!q)return;function Ge(We){We.key==="Escape"&&ve(!1,!0)}return window.addEventListener("keydown",Ge),()=>{window.removeEventListener("keydown",Ge)}},[ve,q]),p.useLayoutEffect(()=>{const Ge=[...a?[a.offsetWidth]:[],(D==null?void 0:D.offsetWidth)||document.body.offsetWidth];j(Math.min(...Ge)-kT*2)},[a,D]);const ke=p.useCallback(Ge=>{T.current=Ge,U()},[U]),be=p.useCallback(Ge=>{S.current=Ge,L.setFloating(Ge)},[L]),Ee=p.useMemo(()=>s?p.cloneElement(s,{onBlur:Ce,onFocus:Re,onMouseEnter:we,onMouseLeave:ye,onClick:xe,onContextMenu:Ae,ref:_}):null,[s,Ce,xe,Ae,Re,we,ye]);if(p.useImperativeHandle(s?H5e(s):null,()=>E,[E]),!Ee)return c.jsx(c.Fragment,{});if(u)return Ee;const ce=c.jsx(dat,{"data-ui":"Tooltip",...w,ref:be,style:{...M,maxWidth:I>0?`${I}px`:void 0},zOffset:b,children:c.jsx(q5e,{...w,animate:C,arrow:o,arrowRef:ke,arrowX:H,arrowY:N,originX:Y,originY:J,padding:f,placement:P,radius:g,ref:be,scheme:y,shadow:x,children:l})}),_e=q&&(m?c.jsx(hg,{__unstable_name:typeof m=="string"?m:void 0,children:ce}):ce);return c.jsxs(c.Fragment,{children:[C?c.jsx(wG,{children:_e}):_e,Ee]})});D3.displayName="ForwardRef(Tooltip)";function fat(e){const t=nt.c(10),{handleIsOpenChange:n,referenceElement:r,showTooltip:i,isInsideGroup:o}=e;let a;t[0]!==n||t[1]!==r?(a=(d,f)=>{r&&(r===d||d instanceof Node&&r.contains(d)||(n(!1),f()))},t[0]=n,t[1]=r,t[2]=a):a=t[2];const s=YO(a);let l;t[3]!==o||t[4]!==s||t[5]!==i?(l=()=>{if(!i||o)return;const d=f=>{s(f.target,()=>window.removeEventListener("mousemove",d))};return window.addEventListener("mousemove",d),()=>window.removeEventListener("mousemove",d)},t[3]=o,t[4]=s,t[5]=i,t[6]=l):l=t[6];let u;t[7]!==o||t[8]!==i?(u=[o,i],t[7]=o,t[8]=i,t[9]=u):u=t[9],p.useEffect(l,u)}const hat=R.kbd.withConfig({displayName:"StyledHotkeys",componentId:"sc-b37mge-0"})`font:inherit;padding:1px;&:not([hidden]){display:block;}`,pat=R(L5e).withConfig({displayName:"Key",componentId:"sc-b37mge-1"})`&:not([hidden]){display:block;}`,RG=p.forwardRef(function(e,t){const n=nt.c(24);let r,i,o,a,s,l;n[0]!==e?({fontSize:r,keys:i,padding:o,radius:a,space:l,...s}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6]);const u=De(l===void 0?.5:l);if(!i||i.length===0){let m;return n[7]===Symbol.for("react.memo_cache_sentinel")?(m=c.jsx(c.Fragment,{}),n[7]=m):m=n[7],m}let d;if(n[8]!==r||n[9]!==i||n[10]!==o||n[11]!==a){let m;n[13]!==r||n[14]!==o||n[15]!==a?(m=(g,y)=>c.jsx(pat,{fontSize:r,padding:o,radius:a,children:g},y),n[13]=r,n[14]=o,n[15]=a,n[16]=m):m=n[16],d=i.map(m),n[8]=r,n[9]=i,n[10]=o,n[11]=a,n[12]=d}else d=n[12];let f;n[17]!==u||n[18]!==d?(f=c.jsx(Wn,{as:"span",space:u,children:d}),n[17]=u,n[18]=d,n[19]=f):f=n[19];let h;return n[20]!==t||n[21]!==s||n[22]!==f?(h=c.jsx(hat,{"data-ui":"Hotkeys",...s,ref:t,children:f}),n[20]=t,n[21]=s,n[22]=f,n[23]=h):h=n[23],h});RG.displayName="ForwardRef(Hotkeys)";const J5e=rp("@sanity/ui/context/menu",null);function mat(e){return TG(e)&&e.getAttribute("data-disabled")!=="true"||AG(e)&&!e.disabled}function R0(e){return e.filter(mat)}function gat(e,t){const n=[];let r=t;for(;r!==e;){const i=r.parentElement;if(!i)return n;const o=Array.from(i.childNodes).indexOf(r);if(n.unshift(o),i===e)return n;r=i}return n}const eoe=[];function yat(e,t){if(!e)return;const n=new WeakMap;for(const i of t)n.set(i,gat(e,i));const r=(i,o)=>{const a=n.get(i)||eoe,s=n.get(o)||eoe,l=Math.max(a.length,s.length);for(let u=0;u<l;u+=1){const d=a[u]||-1,f=s[u]||-1;if(d!==f)return d-f}return 0};t.sort(r)}function vat(e){const{onKeyDown:t,originElement:n,shouldFocus:r,rootElementRef:i}=e,o=p.useRef([]),[a,s]=p.useState(-1),l=p.useRef(a),u=p.useMemo(()=>o.current[a]||null,[a]),d=!!i.current,f=p.useCallback(x=>{s(x),l.current=x},[]),h=p.useCallback((x,b)=>{if(!x)return()=>{};if(o.current.indexOf(x)===-1&&(o.current.push(x),yat(i.current,o.current)),b){const v=o.current.indexOf(x);f(v)}return()=>{const v=o.current.indexOf(x);v>-1&&o.current.splice(v,1)}},[i,f]),m=p.useCallback(x=>{if(x.key==="Tab"){n&&n.focus();return}if(x.key==="Home"){x.preventDefault(),x.stopPropagation();const b=R0(o.current)[0];if(!b)return;const v=o.current.indexOf(b);f(v);return}if(x.key==="End"){x.preventDefault(),x.stopPropagation();const b=R0(o.current),v=b[b.length-1];if(!v)return;const w=o.current.indexOf(v);f(w);return}if(x.key==="ArrowUp"){x.preventDefault(),x.stopPropagation();const b=R0(o.current),v=b.length;if(v===0)return;const w=o.current[l.current];let C=b.indexOf(w);C=(C-1+v)%v;const k=b[C],S=o.current.indexOf(k);f(S);return}if(x.key==="ArrowDown"){x.preventDefault(),x.stopPropagation();const b=R0(o.current),v=b.length;if(v===0)return;const w=o.current[l.current];let C=b.indexOf(w);C=(C+1)%v;const k=b[C],S=o.current.indexOf(k);f(S);return}t&&t(x)},[t,n,f]),g=p.useCallback(x=>{const b=x.currentTarget,v=o.current.indexOf(b);f(v)},[f]),y=p.useCallback(()=>{var x;f(-2),(x=i.current)==null||x.focus()},[i,f]);return p.useEffect(()=>{if(!d)return;const x=requestAnimationFrame(()=>{var b;if(a===-1){if(r==="first"){const v=R0(o.current)[0];if(v){const w=o.current.indexOf(v);f(w)}}if(r==="last"){const v=R0(o.current),w=v[v.length-1];if(w){const C=o.current.indexOf(w);f(C)}}return}(b=o.current[a]||null)==null||b.focus()});return()=>cancelAnimationFrame(x)},[a,d,f,r]),{activeElement:u,activeIndex:a,handleItemMouseEnter:g,handleItemMouseLeave:y,handleKeyDown:m,mount:h}}const bat=R(V).withConfig({displayName:"StyledMenu",componentId:"sc-xt0tnv-0"})`outline:none;overflow:auto;`,Nt=p.forwardRef(function(e,t){const n=nt.c(50);let r,i,o,a,s,l,u,d,f,h,m,g;if(n[0]!==e){const{children:J,focusFirst:ee,focusLast:oe,onClickOutside:re,onEscape:se,onItemClick:G,onItemSelect:K,onKeyDown:q,originElement:X,padding:ie,registerElement:te,shouldFocus:de,space:pe,...ve}=e;i=J,o=re,a=se,s=G,l=K,u=q,d=X,m=ie,f=te,r=de,g=pe,h=ve,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=u,n[8]=d,n[9]=f,n[10]=h,n[11]=m,n[12]=g}else r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],u=n[7],d=n[8],f=n[9],h=n[10],m=n[11],g=n[12];const y=m===void 0?1:m,x=g===void 0?1:g,b=r??(e.focusFirst&&"first"||e.focusLast&&"last"||null),v=p.useRef(null);let w;n[13]===Symbol.for("react.memo_cache_sentinel")?(w=()=>v.current,n[13]=w):w=n[13],p.useImperativeHandle(t,w);const{isTopLayer:C}=ns();let k;n[14]!==u||n[15]!==d||n[16]!==b?(k={onKeyDown:u,originElement:d,shouldFocus:b,rootElementRef:v},n[14]=u,n[15]=d,n[16]=b,n[17]=k):k=n[17];const{activeElement:S,activeIndex:E,handleItemMouseEnter:_,handleItemMouseLeave:T,handleKeyDown:A,mount:I}=vat(k),j=p.useRef(null);let $;n[18]!==f?($=J=>{j.current&&(j.current(),j.current=null),v.current=J,v.current&&f&&(j.current=f(v.current))},n[18]=f,n[19]=$):$=n[19];const D=$;let O,M;n[20]!==E||n[21]!==l?(O=()=>{l&&l(E)},M=[E,l],n[20]=E,n[21]=l,n[22]=O,n[23]=M):(O=n[22],M=n[23]),p.useEffect(O,M);let P;n[24]===Symbol.for("react.memo_cache_sentinel")?(P=()=>[v.current],n[24]=P):P=n[24],On(C&&o,P);let F;n[25]!==C||n[26]!==a?(F=J=>{C&&J.key==="Escape"&&(J.stopPropagation(),a&&a())},n[25]=C,n[26]=a,n[27]=F):F=n[27],Ss(F);let L;n[28]!==S||n[29]!==E||n[30]!==_||n[31]!==T||n[32]!==I||n[33]!==o||n[34]!==a||n[35]!==s||n[36]!==f?(L={version:0,activeElement:S,activeIndex:E,mount:I,onClickOutside:o,onEscape:a,onItemClick:s,onItemMouseEnter:_,onItemMouseLeave:T,registerElement:f,onMouseEnter:_,onMouseLeave:T},n[28]=S,n[29]=E,n[30]=_,n[31]=T,n[32]=I,n[33]=o,n[34]=a,n[35]=s,n[36]=f,n[37]=L):L=n[37];const U=L;let H;n[38]!==i||n[39]!==x?(H=c.jsx(ae,{space:x,children:i}),n[38]=i,n[39]=x,n[40]=H):H=n[40];let N;n[41]!==A||n[42]!==D||n[43]!==y||n[44]!==h||n[45]!==H?(N=c.jsx(bat,{"data-ui":"Menu",...h,onKeyDown:A,padding:y,ref:D,role:"menu",tabIndex:-1,children:H}),n[41]=A,n[42]=D,n[43]=y,n[44]=h,n[45]=H,n[46]=N):N=n[46];let Y;return n[47]!==N||n[48]!==U?(Y=c.jsx(J5e.Provider,{value:U,children:N}),n[47]=N,n[48]=U,n[49]=Y):Y=n[49],Y});Nt.displayName="ForwardRef(Menu)";const Tr=R.hr.withConfig({displayName:"MenuDivider",componentId:"sc-uhoxwu-0"})`height:1px;border:0;background:var(--card-hairline-soft-color);margin:0;`;Tr.displayName="MenuDivider";function xat(){return he`
    background-color: inherit;
    color: inherit;

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -moz-available;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      text-decoration: none;
    }
  `}function wat(e){var o;const{$tone:t}=e,{color:n,style:r}=$e(e.theme),i=n.selectable[t];return he`
    ${In(n,i.enabled)}

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);
    outline: none;

    /* &:is(button) */
    &[data-as='button'] {
      &:disabled {
        ${In(n,i.disabled)}
      }

      &:not(:disabled) {
        &[aria-pressed='true'] {
          ${In(n,i.pressed)}
        }

        &[data-selected],
        &[aria-selected='true'] > & {
          ${In(n,i.selected)}
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              ${In(n,i.hovered)}
            }

            &:active {
              ${In(n,i.pressed)}
            }
          }
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      &[data-disabled] {
        ${In(n,i.disabled)}
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          ${In(n,i.pressed)}
        }

        &[data-selected] {
          ${In(n,i.selected)}
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              ${In(n,i.hovered)}
            }
            &:active {
              ${In(n,i.pressed)}
            }
          }
        }
      }
    }

    ${(o=r==null?void 0:r.card)==null?void 0:o.root}
  `}const FG=R(V).withConfig({displayName:"Selectable",componentId:"sc-1w01ang-0"})(op,xat,wat);FG.displayName="Selectable";function Q5e(){const e=p.useContext(J5e);if(!e)throw new Error("useMenu(): missing context value");if(!rE(e)||e.version!==0)throw new Error("useMenu(): the context value is not compatible");return e}function eEe(e){const t=nt.c(79);let n,r,i,o,a,s,l,u,d,f,h,m,g;t[0]!==e?({as:l,children:r,fontSize:u,icon:n,menu:i,onClick:o,padding:d,popover:a,radius:f,space:h,text:g,tone:m,...s}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=l,t[8]=u,t[9]=d,t[10]=f,t[11]=h,t[12]=m,t[13]=g):(n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],d=t[9],f=t[10],h=t[11],m=t[12],g=t[13]);const y=l===void 0?"button":l,x=u===void 0?1:u,b=d===void 0?3:d,v=f===void 0?2:f,w=h===void 0?3:h,C=m===void 0?"default":m,k=Q5e(),{scheme:S}=ew(),{activeElement:E,mount:_,onClickOutside:T,onEscape:A,onItemClick:I,onItemMouseEnter:j,registerElement:$}=k,D=j??k.onMouseEnter,[O,M]=p.useState(null),[P,F]=p.useState(!1),[L,U]=p.useState(null),H=!!E&&E===O,[N,Y]=p.useState(!1);let J;t[14]!==D?(J=Zt=>{Y(!1),D(Zt),F(!0)},t[14]=D,t[15]=J):J=t[15];const ee=J;let oe;t[16]!==O?(oe=Zt=>{Zt.key==="ArrowLeft"&&(Zt.stopPropagation(),F(!1),requestAnimationFrame(()=>{O==null||O.focus()}))},t[16]=O,t[17]=oe):oe=t[17];const re=oe;let se;t[18]!==o?(se=Zt=>{o==null||o(Zt),U("first"),F(!0)},t[18]=o,t[19]=se):se=t[19];const G=se;let K;t[20]!==I?(K=()=>{F(!1),I==null||I()},t[20]=I,t[21]=K):K=t[21];const q=K;let X;t[22]===Symbol.for("react.memo_cache_sentinel")?(X=()=>Y(!0),t[22]=X):X=t[22];const ie=X;let te,de;t[23]!==_||t[24]!==O?(te=()=>_(O),de=[_,O],t[23]=_,t[24]=O,t[25]=te,t[26]=de):(te=t[25],de=t[26]),p.useEffect(te,de);let pe,ve;t[27]!==H?(pe=()=>{H||F(!1)},ve=[H],t[27]=H,t[28]=pe,t[29]=ve):(pe=t[28],ve=t[29]),p.useEffect(pe,ve);let Ce,xe;t[30]!==P?(Ce=()=>{P||Y(!1)},xe=[P],t[30]=P,t[31]=Ce,t[32]=xe):(Ce=t[31],xe=t[32]),p.useEffect(Ce,xe);let Ae,Re;t[33]!==L?(Ae=()=>{if(!L)return;const Zt=requestAnimationFrame(()=>U(null));return()=>cancelAnimationFrame(Zt)},Re=[L],t[33]=L,t[34]=Ae,t[35]=Re):(Ae=t[34],Re=t[35]),p.useEffect(Ae,Re);let we;t[36]!==r||t[37]!==q||t[38]!==re||t[39]!==i||t[40]!==T||t[41]!==A||t[42]!==$||t[43]!==L?(we=c.jsx(Nt,{...i,onClickOutside:T,onEscape:A,onItemClick:q,onKeyDown:re,onMouseEnter:ie,registerElement:$,shouldFocus:L,children:r}),t[36]=r,t[37]=q,t[38]=re,t[39]=i,t[40]=T,t[41]=A,t[42]=$,t[43]=L,t[44]=we):we=t[44];const ye=we;let ke;t[45]===Symbol.for("react.memo_cache_sentinel")?(ke=Zt=>{const Ur=Zt.currentTarget;if(document.activeElement===Ur&&Zt.key==="ArrowRight"){U("first"),F(!0),Y(!0);return}},t[45]=ke):ke=t[45];const be=ke,Ee=y==="button"?N:void 0,ce=y!=="button"?N:void 0,_e=!N&&H?"":void 0,Ie=De(v),Me=y==="button"?"button":void 0;let Le;t[46]!==n||t[47]!==x?(Le=n&&c.jsxs(B,{size:x,children:[p.isValidElement(n)&&n,Hd.isValidElementType(n)&&c.jsx(n,{})]}),t[46]=n,t[47]=x,t[48]=Le):Le=t[48];let et;t[49]!==x||t[50]!==g?(et=c.jsx(V,{flex:1,children:c.jsx(B,{size:x,textOverflow:"ellipsis",weight:"medium",children:g})}),t[49]=x,t[50]=g,t[51]=et):et=t[51];let Ct;t[52]===Symbol.for("react.memo_cache_sentinel")?(Ct=c.jsx(OKe,{}),t[52]=Ct):Ct=t[52];let Ge;t[53]!==x?(Ge=c.jsx(B,{size:x,children:Ct}),t[53]=x,t[54]=Ge):Ge=t[54];let We;t[55]!==b||t[56]!==w||t[57]!==Le||t[58]!==et||t[59]!==Ge?(We=c.jsxs(W,{gap:w,padding:b,children:[Le,et,Ge]}),t[55]=b,t[56]=w,t[57]=Le,t[58]=et,t[59]=Ge,t[60]=We):We=t[60];let ct;t[61]!==y||t[62]!==G||t[63]!==ee||t[64]!==s||t[65]!==S||t[66]!==Ee||t[67]!==ce||t[68]!==_e||t[69]!==Ie||t[70]!==Me||t[71]!==We||t[72]!==C?(ct=c.jsx(FG,{"data-as":y,"data-ui":"MenuGroup",forwardedAs:y,...s,"aria-pressed":Ee,"data-pressed":ce,"data-selected":_e,$radius:Ie,$tone:C,$scheme:S,onClick:G,onKeyDown:be,onMouseEnter:ee,ref:M,tabIndex:-1,type:Me,children:We}),t[61]=y,t[62]=G,t[63]=ee,t[64]=s,t[65]=S,t[66]=Ee,t[67]=ce,t[68]=_e,t[69]=Ie,t[70]=Me,t[71]=We,t[72]=C,t[73]=ct):ct=t[73];let qe;return t[74]!==ye||t[75]!==P||t[76]!==a||t[77]!==ct?(qe=c.jsx(pg,{...a,content:ye,"data-ui":"MenuGroup__popover",open:P,children:ct}),t[74]=ye,t[75]=P,t[76]=a,t[77]=ct,t[78]=qe):qe=t[78],qe}eEe.displayName="MenuGroup";const Uy=p.forwardRef(function(e,t){const n=nt.c(73);let r,i,o,a,s,l,u,d,f,h,m,g,y,x,b,v,w,C,k,S,E,_;n[0]!==e?({as:v,children:o,disabled:a,fontSize:w,hotkeys:s,icon:r,iconRight:i,onClick:l,padding:C,paddingX:m,paddingY:g,paddingTop:h,paddingRight:f,paddingBottom:u,paddingLeft:d,pressed:y,radius:k,selected:b,space:S,text:_,tone:E,...x}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=u,n[8]=d,n[9]=f,n[10]=h,n[11]=m,n[12]=g,n[13]=y,n[14]=x,n[15]=b,n[16]=v,n[17]=w,n[18]=C,n[19]=k,n[20]=S,n[21]=E,n[22]=_):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],u=n[7],d=n[8],f=n[9],h=n[10],m=n[11],g=n[12],y=n[13],x=n[14],b=n[15],v=n[16],w=n[17],C=n[18],k=n[19],S=n[20],E=n[21],_=n[22]);const T=v===void 0?"button":v,A=w===void 0?1:w,I=C===void 0?3:C,j=k===void 0?2:k,$=S===void 0?3:S,D=E===void 0?"default":E,{scheme:O}=ew(),M=Q5e(),{activeElement:P,mount:F,onItemClick:L,onItemMouseEnter:U,onItemMouseLeave:H}=M,N=U??M.onMouseEnter,Y=H??M.onMouseLeave,[J,ee]=p.useState(null),oe=!!P&&P===J,re=p.useRef(null);let se;n[23]===Symbol.for("react.memo_cache_sentinel")?(se=()=>re.current,n[23]=se):se=n[23],p.useImperativeHandle(t,se);let G,K;n[24]!==F||n[25]!==J||n[26]!==b?(G=()=>F(J,b),K=[F,J,b],n[24]=F,n[25]=J,n[26]=b,n[27]=G,n[28]=K):(G=n[27],K=n[28]),p.useEffect(G,K);let q;n[29]!==a||n[30]!==l||n[31]!==L?(q=Me=>{a||(l&&l(Me),L&&L())},n[29]=a,n[30]=l,n[31]=L,n[32]=q):q=n[32];const X=q;let ie;n[33]!==I||n[34]!==u||n[35]!==d||n[36]!==f||n[37]!==h||n[38]!==m||n[39]!==g?(ie={padding:I,paddingX:m,paddingY:g,paddingTop:h,paddingRight:f,paddingBottom:u,paddingLeft:d},n[33]=I,n[34]=u,n[35]=d,n[36]=f,n[37]=h,n[38]=m,n[39]=g,n[40]=ie):ie=n[40];const te=ie,de=De(A);let pe;n[41]!==de?(pe=de.map(Cat),n[41]=de,n[42]=pe):pe=n[42];const ve=pe;let Ce;n[43]===Symbol.for("react.memo_cache_sentinel")?(Ce=Me=>{re.current=Me,ee(Me)},n[43]=Ce):Ce=n[43];const xe=Ce,Ae=T!=="button"&&y?"":void 0,Re=oe?"":void 0,we=a?"":void 0,ye=De(j),ke=De(0),be=a?"default":D,Ee=T==="button"?"button":void 0;let ce;n[44]!==r||n[45]!==i||n[46]!==A||n[47]!==s||n[48]!==ve||n[49]!==te||n[50]!==$||n[51]!==_?(ce=(r||_||i)&&c.jsxs(W,{as:"span",gap:$,align:"center",...te,children:[r&&c.jsxs(B,{size:A,children:[p.isValidElement(r)&&r,Hd.isValidElementType(r)&&c.jsx(r,{})]}),_&&c.jsx(V,{flex:1,children:c.jsx(B,{size:A,textOverflow:"ellipsis",weight:"medium",children:_})}),s&&c.jsx(RG,{fontSize:ve,keys:s,style:{marginTop:-4,marginBottom:-4}}),i&&c.jsxs(B,{size:A,children:[p.isValidElement(i)&&i,Hd.isValidElementType(i)&&c.jsx(i,{})]})]}),n[44]=r,n[45]=i,n[46]=A,n[47]=s,n[48]=ve,n[49]=te,n[50]=$,n[51]=_,n[52]=ce):ce=n[52];let _e;n[53]!==o||n[54]!==te?(_e=o&&c.jsx(V,{as:"span",...te,children:o}),n[53]=o,n[54]=te,n[55]=_e):_e=n[55];let Ie;return n[56]!==T||n[57]!==a||n[58]!==X||n[59]!==N||n[60]!==Y||n[61]!==x||n[62]!==O||n[63]!==Ae||n[64]!==Re||n[65]!==we||n[66]!==ye||n[67]!==ke||n[68]!==be||n[69]!==Ee||n[70]!==ce||n[71]!==_e?(Ie=c.jsxs(FG,{"data-ui":"MenuItem",role:"menuitem",...x,"data-pressed":Ae,"data-selected":Re,"data-disabled":we,forwardedAs:T,$radius:ye,$padding:ke,$tone:be,$scheme:O,disabled:a,onClick:X,onMouseEnter:N,onMouseLeave:Y,ref:xe,tabIndex:-1,type:Ee,children:[ce,_e]}),n[56]=T,n[57]=a,n[58]=X,n[59]=N,n[60]=Y,n[61]=x,n[62]=O,n[63]=Ae,n[64]=Re,n[65]=we,n[66]=ye,n[67]=ke,n[68]=be,n[69]=Ee,n[70]=ce,n[71]=_e,n[72]=Ie):Ie=n[72],Ie});Uy.displayName="ForwardRef(MenuItem)";function Cat(e){return e-1}const kat=R(zt).withConfig({displayName:"CustomButton",componentId:"sc-1kns779-0"})`max-width:100%;`,LG=p.forwardRef(function(e,t){const n=nt.c(30);let r,i,o,a,s,l,u,d,f,h;n[0]!==e?({icon:i,id:o,focused:r,fontSize:f,label:a,onClick:s,onFocus:l,padding:h,selected:d,...u}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s,n[6]=l,n[7]=u,n[8]=d,n[9]=f,n[10]=h):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],l=n[6],u=n[7],d=n[8],f=n[9],h=n[10]);const m=f===void 0?1:f,g=h===void 0?2:h,y=p.useRef(null),x=p.useRef(!1);let b;n[11]===Symbol.for("react.memo_cache_sentinel")?(b=()=>y.current,n[11]=b):b=n[11],p.useImperativeHandle(t,b);let v;n[12]===Symbol.for("react.memo_cache_sentinel")?(v=()=>{x.current=!1},n[12]=v):v=n[12];const w=v;let C;n[13]!==l?(C=I=>{x.current=!0,l&&l(I)},n[13]=l,n[14]=C):C=n[14];const k=C;let S,E;n[15]!==r?(S=()=>{r&&!x.current&&(y.current&&y.current.focus(),x.current=!0)},E=[r],n[15]=r,n[16]=S,n[17]=E):(S=n[16],E=n[17]),p.useEffect(S,E);const _=d?"true":"false",T=d?0:-1;let A;return n[18]!==m||n[19]!==k||n[20]!==i||n[21]!==o||n[22]!==a||n[23]!==s||n[24]!==g||n[25]!==u||n[26]!==d||n[27]!==_||n[28]!==T?(A=c.jsx(kat,{"data-ui":"Tab",...u,"aria-selected":_,fontSize:m,icon:i,id:o,mode:"bleed",onClick:s,onBlur:w,onFocus:k,padding:g,ref:y,role:"tab",selected:d,tabIndex:T,text:a,type:"button"}),n[18]=m,n[19]=k,n[20]=i,n[21]=o,n[22]=a,n[23]=s,n[24]=g,n[25]=u,n[26]=d,n[27]=_,n[28]=T,n[29]=A):A=n[29],A});LG.displayName="ForwardRef(Tab)";const Sat=R(Wn).withConfig({displayName:"CustomInline",componentId:"sc-5cm04m-0"})`& > div{display:inline-block;vertical-align:middle;max-width:100%;box-sizing:border-box;}`,ow=p.forwardRef(function(e,t){const n=nt.c(15);let r,i;n[0]!==e?({children:r,...i}=e,n[0]=e,n[1]=r,n[2]=i):(r=n[1],i=n[2]);const[o,a]=p.useState(-1);let s;if(n[3]!==r||n[4]!==o){const m=p.Children.toArray(r).filter(p.isValidElement);let g;n[6]!==o?(g=(y,x)=>p.cloneElement(y,{focused:o===x,key:x,onFocus:()=>a(x)}),n[6]=o,n[7]=g):g=n[7],s=m.map(g),n[3]=r,n[4]=o,n[5]=s}else s=n[5];const l=s,u=l.length;let d;n[8]!==u?(d=m=>{m.key==="ArrowLeft"&&a(g=>(g+u-1)%u),m.key==="ArrowRight"&&a(g=>(g+1)%u)},n[8]=u,n[9]=d):d=n[9];const f=d;let h;return n[10]!==f||n[11]!==t||n[12]!==i||n[13]!==l?(h=c.jsx(Sat,{"data-ui":"TabList",...i,onKeyDown:f,ref:t,role:"tablist",children:l}),n[10]=f,n[11]=t,n[12]=i,n[13]=l,n[14]=h):h=n[14],h});ow.displayName="ForwardRef(TabList)";function ON(e){const t=requestAnimationFrame(e);return()=>{cancelAnimationFrame(t)}}function Eat(e){let t=null;const n=ON(()=>{t=ON(e)});return()=>{t&&t(),n()}}function _at(e){return!!document.activeElement&&e.contains(document.activeElement)}function Tat(e){return e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null?!0:TG(e)?!!e.href&&e.rel!=="ignore":snt(e)?e.type!=="hidden"&&e.type!=="file"&&!e.disabled:AG(e)||lnt(e)||cnt(e)?!e.disabled:!1}function tEe(e){if(!Tat(e))return!1;try{e.focus()}catch{}return document.activeElement===e}function cy(e){for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];if(nf(n)&&(tEe(n)||cy(n)))return!0}return!1}function NG(e){for(let t=e.childNodes.length-1;t>=0;t--){const n=e.childNodes[t];if(nf(n)&&(tEe(n)||NG(n)))return!0}return!1}function uy(e){var t;return((t=tE(e))==null?void 0:t._contentRect)||null}class aw extends p.Component{constructor(){super(...arguments);Z(this,"state",{error:null})}static getDerivedStateFromError(n){return{error:n}}componentDidCatch(n,r){this.props.onCatch({error:n,info:r})}render(){const{error:n}=this.state;if(n){const r=typeof(n==null?void 0:n.message)=="string"?n.message:"Error";return c.jsx(Vi,{children:r})}return this.props.children}}const Aat=R.div.withConfig({displayName:"StyledAutocomplete",componentId:"sc-1igauft-0"})`line-height:0;`,jat=R(V).withConfig({displayName:"ListBox",componentId:"sc-1igauft-1"})`& > ul{list-style:none;padding:0;margin:0;}`,Iat=Fy`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`,$at=R(bCe).withConfig({displayName:"AnimatedSpinnerIcon",componentId:"sc-1igauft-2"})`animation:${Iat} 500ms linear infinite;`;function Dat(e){const t=nt.c(11),{children:n,id:r,onSelect:i,selected:o,value:a}=e;let s;t[0]!==i||t[1]!==a?(s=()=>{setTimeout(()=>{i(a)},0)},t[0]=i,t[1]=a,t[2]=s):s=t[2];const l=s;let u;t[3]!==l?(u=h=>{h.key==="Enter"&&!ant(h.currentTarget)&&l()},t[3]=l,t[4]=u):u=t[4];const d=u;let f;return t[5]!==n||t[6]!==l||t[7]!==d||t[8]!==r||t[9]!==o?(f=c.jsx("li",{"aria-selected":o,"data-ui":"AutocompleteOption",id:r,role:"option",onClick:l,onKeyDown:d,children:n}),t[5]=n,t[6]=l,t[7]=d,t[8]=r,t[9]=o,t[10]=f):f=t[10],f}function Oat(e,t){return t.type==="input/change"?{...e,activeValue:null,focused:!0,query:t.query}:t.type==="input/focus"?{...e,focused:!0}:t.type==="root/blur"?{...e,focused:!1,query:null}:t.type==="root/clear"?{...e,activeValue:null,query:null,value:null}:t.type==="root/escape"?{...e,focused:!1,query:null}:t.type==="root/open"?{...e,query:e.query||t.query}:t.type==="root/setActiveValue"?{...e,activeValue:t.value,listFocused:t.listFocused||e.listFocused}:t.type==="root/setListFocused"?{...e,listFocused:t.listFocused}:t.type==="value/change"?{...e,activeValue:t.value,query:null,value:t.value}:e}const Mat=["Control","Shift","Alt","Enter","Home","End","PageUp","PageDown","Meta","Tab","CapsLock"],Pat="bottom-start",Rat=["bottom-start","top-start"],Fat=(e,t)=>t?t.value:e,Lat=(e,t)=>t.value.toLowerCase().indexOf(e.toLowerCase())>-1,nEe=p.forwardRef(function(e,t){const{border:n=!0,customValidity:r,disabled:i,filterOption:o,fontSize:a=2,icon:s,id:l,listBox:u=Om,loading:d,onBlur:f,onChange:h,onFocus:m,onQueryChange:g,onSelect:y,openButton:x,openOnFocus:b,options:v,padding:w=3,popover:C=Om,prefix:k,radius:S=2,readOnly:E,relatedElements:_,renderOption:T,renderPopover:A,renderValue:I=Fat,suffix:j,value:$,...D}=e,[O,M]=p.useReducer(Oat,{activeValue:$||null,focused:!1,listFocused:!1,query:null,value:$||null}),{activeValue:P,focused:F,listFocused:L,query:U,value:H}=O,N=p.useCallback(({value:rt})=>c.jsx(le,{"data-as":"button",padding:w,radius:2,tone:"inherit",children:c.jsx(B,{size:a,textOverflow:"ellipsis",children:rt})}),[a,w]),Y=typeof T=="function"?T:N,J=typeof o=="function"?o:Lat,ee=p.useRef(null),oe=p.useRef(null),re=p.useRef(null),se=p.useRef(null),G=p.useRef(!1),K=p.useRef(H),q=p.useRef($),X=p.useRef(!1);p.useImperativeHandle(t,()=>re.current);const ie=`${l}-listbox`,te=Array.isArray(v)?v:Q5,de=De(w),pe=p.useMemo(()=>H!==null?te.find(rt=>rt.value===H):void 0,[te,H]),ve=p.useMemo(()=>te.filter(rt=>U?J(U,rt):!0),[J,te,U]),Ce=ve.length,xe=P?`${l}-option-${P}`:void 0,Ae=U!==null&&d||F&&U!==null,Re=p.useCallback(rt=>{setTimeout(()=>{if(X.current)return;const $t=(_||[]).concat(ee.current?[ee.current]:[],oe.current?[oe.current]:[]);let Yn=!1;if(document.activeElement){for(const dn of $t)if(dn===document.activeElement||dn.contains(document.activeElement)){Yn=!0;break}}Yn===!1&&(M({type:"root/blur"}),X.current=!1,g&&g(null),f&&f(rt))},0)},[f,g,_]),we=p.useCallback(rt=>{const $t=se.current,Yn=rt.target instanceof HTMLElement?rt.target:null,dn=($t==null?void 0:$t.contains(Yn))||!1;dn!==G.current&&(G.current=dn,M({type:"root/setListFocused",listFocused:dn}))},[]),ye=p.useCallback(rt=>{var $t;M({type:"value/change",value:rt}),X.current=!1,y&&y(rt),K.current=rt,h&&h(rt),g&&g(null),($t=re.current)==null||$t.focus()},[h,y,g]),ke=p.useCallback(rt=>{var dn,ii;if(rt.key==="ArrowDown"){if(rt.preventDefault(),!Ce)return;const Mi=ve.find(os=>os.value===P),Fs=Mi?ve.indexOf(Mi):-1,Er=ve[(Fs+1)%Ce];Er&&M({type:"root/setActiveValue",value:Er.value,listFocused:!0});return}if(rt.key==="ArrowUp"){if(rt.preventDefault(),!Ce)return;const Mi=ve.find(os=>os.value===P),Fs=Mi?ve.indexOf(Mi):-1,Er=ve[Fs===-1?Ce-1:(Ce+Fs-1)%Ce];Er&&M({type:"root/setActiveValue",value:Er.value,listFocused:!0});return}if(rt.key==="Escape"){M({type:"root/escape"}),X.current=!1,g&&g(null),(dn=re.current)==null||dn.focus();return}const $t=rt.target,Yn=se.current;if((Yn===$t||Yn!=null&&Yn.contains($t))&&!Mat.includes(rt.key)){(ii=re.current)==null||ii.focus();return}},[P,ve,Ce,g]),be=p.useCallback(rt=>{const $t=rt.currentTarget.value;M({type:"input/change",query:$t}),g&&g($t)},[g]),Ee=p.useCallback(()=>{M({type:"root/open",query:H?I(H,pe):""})},[pe,I,H]),ce=p.useCallback(rt=>{F||(M({type:"input/focus"}),m&&m(rt),b&&Ee())},[F,m,b,Ee]),_e=p.useCallback(()=>{X.current=!0},[]),Ie=p.useCallback(()=>{X.current=!1},[]),Me=p.useCallback(()=>{var rt;M({type:"root/clear"}),K.current="",h&&h(""),g&&g(null),(rt=re.current)==null||rt.focus()},[h,g]),Le=p.useCallback(()=>{M({type:"input/focus"})},[]);p.useEffect(()=>{if($!==q.current){q.current=$,$!==void 0&&(M({type:"value/change",value:$}),K.current=$);return}$!==K.current&&(K.current=$||null,M({type:"value/change",value:$||null}))},[$]),p.useEffect(()=>{!F&&K.current&&M({type:"root/setActiveValue",value:K.current})},[F]),p.useEffect(()=>{const rt=se.current;if(!rt)return;const $t=ve.find(Yn=>Yn.value===P);if($t){const Yn=ve.indexOf($t),dn=rt.childNodes[Yn];if(dn){if(_at(dn))return;cy(dn)}}},[P,ve]);const et=p.useMemo(()=>{if(!d&&!i&&H)return{"aria-label":"Clear",onFocus:Le}},[i,Le,d,H]),Ct=p.useMemo(()=>de.map(rt=>rt===0?0:rt===1||rt===2?1:rt-2),[de]),Ge=p.useMemo(()=>de.map(rt=>Math.max(rt-1,0)),[de]),We=p.useMemo(()=>typeof x=="object"?x:Om,[x]),ct=p.useCallback(rt=>{Ee(),We.onClick&&We.onClick(rt),ON(()=>{var $t;return($t=re.current)==null?void 0:$t.focus()})},[We,Ee]),qe=p.useMemo(()=>!i&&!E&&x?c.jsx(V,{"aria-hidden":Ae,padding:Ct,children:c.jsx(zt,{"aria-label":"Open",disabled:Ae,fontSize:a,icon:vCe,mode:"bleed",padding:Ge,...We,onClick:ct})}):void 0,[i,Ae,a,ct,x,Ct,Ge,We,E]),Zt=p.useMemo(()=>U===null?H!==null?I(H,pe):"":U,[pe,U,I,H]),Ur=c.jsx(ei,{...D,"aria-activedescendant":xe,"aria-autocomplete":"list","aria-expanded":Ae,"aria-owns":ie,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",border:n,clearButton:et,customValidity:r,disabled:i,fontSize:a,icon:s,iconRight:d&&$at,id:l,inputMode:"search",onChange:be,onClear:Me,onFocus:ce,padding:de,prefix:k,radius:S,readOnly:E,ref:re,role:"combobox",spellCheck:!1,suffix:j||qe,value:Zt}),ro=p.useCallback(rt=>{var $t;rt.key==="Tab"&&L&&(($t=re.current)==null||$t.focus())},[L]),tn=p.useMemo(()=>ve.length===0?null:c.jsx(jat,{"data-ui":"AutoComplete__results",onKeyDown:ro,padding:1,...u,tabIndex:-1,children:c.jsx(ae,{as:"ul","aria-multiselectable":!1,"data-ui":"AutoComplete__resultsList",id:ie,ref:se,role:"listbox",space:1,children:ve.map(rt=>{const $t=P!==null?rt.value===P:pe===rt;return c.jsx(Dat,{id:`${l}-option-${rt.value}`,onSelect:ye,selected:$t,value:rt.value,children:p.cloneElement(Y(rt),{disabled:d,selected:$t,tabIndex:L&&$t?0:-1})},rt.value)})})}),[P,pe,ve,ye,ro,l,u,ie,L,d,Y]),kn=p.useMemo(()=>A?A({content:tn,hidden:!Ae,inputElement:re.current,onMouseEnter:_e,onMouseLeave:Ie},oe):Ce===0?null:c.jsx(pg,{arrow:!1,constrainSize:!0,content:tn,fallbackPlacements:Rat,matchReferenceWidth:!0,onMouseEnter:_e,onMouseLeave:Ie,open:Ae,overflow:"auto",placement:Pat,portal:!0,radius:S,ref:oe,referenceElement:re.current,...C}),[tn,Ae,Ce,_e,Ie,C,S,A]);return c.jsxs(Aat,{"data-ui":"Autocomplete",onBlur:Re,onFocus:we,onKeyDown:ke,ref:ee,children:[Ur,kn]})});nEe.displayName="ForwardRef(Autocomplete)";const JO=nEe,Nat=R.ol.withConfig({displayName:"StyledBreadcrumbs",componentId:"sc-1es8h8q-0"})`margin:0;padding:0;display:flex;list-style:none;align-items:center;white-space:nowrap;line-height:0;`,Bat=R(zt).withConfig({displayName:"ExpandButton",componentId:"sc-1es8h8q-1"})`appearance:none;margin:-4px;`,BG=p.forwardRef(function(e,t){const n=nt.c(44);let r,i,o,a,s;n[0]!==e?({children:r,maxLength:i,separator:a,space:s,...o}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a,n[5]=s):(r=n[1],i=n[2],o=n[3],a=n[4],s=n[5]);const l=De(s===void 0?2:s),[u,d]=p.useState(!1),f=p.useRef(null),h=p.useRef(null);let m;n[6]===Symbol.for("react.memo_cache_sentinel")?(m=()=>d(!1),n[6]=m):m=n[6];const g=m;let y;n[7]===Symbol.for("react.memo_cache_sentinel")?(y=()=>d(!0),n[7]=y):y=n[7];const x=y;let b;n[8]===Symbol.for("react.memo_cache_sentinel")?(b=()=>[f.current,h.current],n[8]=b):b=n[8],On(g,b);let v;n[9]!==r?(v=p.Children.toArray(r).filter(p.isValidElement),n[9]=r,n[10]=v):v=n[10];const w=v;let C;e:{const _=w.length;if(i&&_>i){const T=Math.ceil(i/2),A=Math.floor(i/2);let I;if(n[11]!==A||n[12]!==T||n[13]!==_||n[14]!==u||n[15]!==w||n[16]!==l){const j=w.slice(0,T-1);let $;n[18]!==A||n[19]!==T||n[20]!==_||n[21]!==w?($=w.slice(T-1,_-A),n[18]=A,n[19]=T,n[20]=_,n[21]=w,n[22]=$):$=n[22];let D;n[23]!==l||n[24]!==$?(D=c.jsx(ae,{as:"ol",overflow:"auto",padding:l,space:l,children:$}),n[23]=l,n[24]=$,n[25]=D):D=n[25];const O=u?g:x;let M;n[26]!==u||n[27]!==O?(M=c.jsx(Bat,{fontSize:1,mode:"bleed",onClick:O,padding:1,ref:f,selected:u,text:""}),n[26]=u,n[27]=O,n[28]=M):M=n[28];let P;n[29]!==u||n[30]!==M||n[31]!==D?(P=c.jsx(pg,{constrainSize:!0,content:D,open:u,placement:"top",portal:!0,ref:h,children:M},"button"),n[29]=u,n[30]=M,n[31]=D,n[32]=P):P=n[32],I=[...j,P,...w.slice(_-A)],n[11]=A,n[12]=T,n[13]=_,n[14]=u,n[15]=w,n[16]=l,n[17]=I}else I=n[17];C=I;break e}C=w}const k=C;let S;if(n[33]!==k||n[34]!==a||n[35]!==l){let _;n[37]!==a||n[38]!==l?(_=(T,A)=>c.jsxs(p.Fragment,{children:[A>0&&c.jsx(V,{"aria-hidden":!0,as:"li",paddingX:l,children:a||c.jsx(B,{muted:!0,children:"/"})}),c.jsx(V,{as:"li",children:T})]},A),n[37]=a,n[38]=l,n[39]=_):_=n[39],S=k.map(_),n[33]=k,n[34]=a,n[35]=l,n[36]=S}else S=n[36];let E;return n[40]!==t||n[41]!==o||n[42]!==S?(E=c.jsx(Nat,{"data-ui":"Breadcrumbs",...o,ref:t,children:S}),n[40]=t,n[41]=o,n[42]=S,n[43]=E):E=n[43],E});BG.displayName="ForwardRef(Breadcrumbs)";function Vat({theme:e}){const{color:t}=$e(e);return{"&:not([hidden])":{display:"flex"},top:0,left:0,right:0,bottom:0,alignItems:"center",justifyContent:"center",outline:"none",background:t.backdrop}}function zat(e){const{media:t}=$e(e.theme);return Ut(t,e.$position,n=>({"&&":{position:n}}))}function Uat(e){return e.$animate?he`
    @keyframes zoomIn {
      from {
        opacity: 0;
        transform: scale(0.95);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }
    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    animation: fadeIn 200ms ease-out;
    // Animates the dialog card.
    & > [data-ui='DialogCard'] {
      animation: zoomIn 200ms ease-out;
    }
  `:he``}const rEe=rp("@sanity/ui/context/dialog",{version:0});function Hat(){return p.useContext(rEe)}function MN(e,t,n){return!e||!t?!0:AN(e,n)||AN(t,n)}const Wat=R(al).withConfig({displayName:"StyledDialog",componentId:"sc-4n4xb3-0"})(F5e,Vat,zat,Uat),Gat=R(Ii).withConfig({displayName:"DialogContainer",componentId:"sc-4n4xb3-1"})`&:not([hidden]){display:flex;}width:100%;height:100%;flex-direction:column;align-items:center;justify-content:center;`,Kat=R(le).withConfig({displayName:"DialogCardRoot",componentId:"sc-4n4xb3-2"})`&:not([hidden]){display:flex;}width:100%;min-height:0;max-height:100%;overflow:hidden;overflow:clip;`,Yat=R(W).withConfig({displayName:"DialogLayout",componentId:"sc-4n4xb3-3"})`flex:1;min-height:0;width:100%;`,qat=R(V).withConfig({displayName:"DialogHeader",componentId:"sc-4n4xb3-4"})`position:relative;z-index:2;`,Zat=R(V).withConfig({displayName:"DialogContent",componentId:"sc-4n4xb3-5"})`position:relative;z-index:1;overflow:auto;outline:none;`,Xat=R(V).withConfig({displayName:"DialogFooter",componentId:"sc-4n4xb3-6"})`position:relative;z-index:3;`,iEe=p.forwardRef(function(e,t){var re;const n=nt.c(38),{__unstable_autoFocus:r,__unstable_hideCloseButton:i,children:o,contentRef:a,footer:s,header:l,id:u,onClickOutside:d,onClose:f,portal:h,radius:m,scheme:g,shadow:y,width:x}=e,b=ap(),v=h?((re=b.elements)==null?void 0:re[h])||null:b.element,w=zy().element,C=De(m),k=De(y),S=De(x),E=p.useRef(null),_=p.useRef(null),T=ns(),{isTopLayer:A}=T,I=`${u}_label`,j=!!f&&i===!1,$=!!l||j;let D;n[0]===Symbol.for("react.memo_cache_sentinel")?(D=()=>E.current,n[0]=D):D=n[0],p.useImperativeHandle(t,D);let O;n[1]===Symbol.for("react.memo_cache_sentinel")?(O=()=>_.current,n[1]=O):O=n[1],p.useImperativeHandle(a,O);let M,P;n[2]!==r?(M=()=>{r&&E.current&&cy(E.current)},P=[r,E],n[2]=r,n[3]=M,n[4]=P):(M=n[3],P=n[4]),p.useEffect(M,P);let F;n[5]!==w||n[6]!==A||n[7]!==f||n[8]!==v?(F=se=>{if(!A||!f)return;const G=document.activeElement;G&&!MN(w,v,G)||se.key==="Escape"&&(se.preventDefault(),se.stopPropagation(),f())},n[5]=w,n[6]=A,n[7]=f,n[8]=v,n[9]=F):F=n[9],Ss(F);let L;n[10]!==w||n[11]!==A||n[12]!==d||n[13]!==v?(L=A&&d&&(se=>{const G=se.target;G&&!MN(w,v,G)||d()}),n[10]=w,n[11]=A,n[12]=d,n[13]=v,n[14]=L):L=n[14];let U;n[15]===Symbol.for("react.memo_cache_sentinel")?(U=()=>[E.current],n[15]=U):U=n[15],On(L,U);let H;n[16]!==l||n[17]!==I||n[18]!==f||n[19]!==j||n[20]!==$?(H=$&&c.jsx(qat,{children:c.jsxs(W,{align:"flex-start",padding:3,children:[c.jsx(V,{flex:1,padding:2,children:l&&c.jsx(B,{id:I,size:1,weight:"semibold",children:l})}),j&&c.jsx(V,{flex:"none",children:c.jsx(zt,{"aria-label":"Close dialog",disabled:!f,icon:qH,mode:"bleed",onClick:f,padding:2})})]})}),n[16]=l,n[17]=I,n[18]=f,n[19]=j,n[20]=$,n[21]=H):H=n[21];let N;n[22]!==o?(N=c.jsx(Zat,{flex:1,ref:_,tabIndex:-1,children:o}),n[22]=o,n[23]=N):N=n[23];let Y;n[24]!==s?(Y=s&&c.jsx(Xat,{children:s}),n[24]=s,n[25]=Y):Y=n[25];let J;n[26]!==H||n[27]!==N||n[28]!==Y?(J=c.jsxs(Yat,{direction:"column",children:[H,N,Y]}),n[26]=H,n[27]=N,n[28]=Y,n[29]=J):J=n[29];let ee;n[30]!==C||n[31]!==g||n[32]!==k||n[33]!==J?(ee=c.jsx(Kat,{radius:C,ref:E,scheme:g,shadow:k,children:J}),n[30]=C,n[31]=g,n[32]=k,n[33]=J,n[34]=ee):ee=n[34];let oe;return n[35]!==ee||n[36]!==S?(oe=c.jsx(Gat,{"data-ui":"DialogCard",width:S,children:ee}),n[35]=ee,n[36]=S,n[37]=oe):oe=n[37],oe});iEe.displayName="ForwardRef(DialogCard)";const QO=p.forwardRef(function(e,t){var ye;const n=nt.c(60),r=Hat(),{layer:i}=ip();let o,a,s,l,u,d,f,h,m,g,y,x,b,v,w,C,k,S,E,_,T;n[0]!==e?({__unstable_autoFocus:w,__unstable_hideCloseButton:C,cardRadius:k,cardShadow:S,children:s,contentRef:l,footer:u,header:d,id:f,onActivate:h,onClickOutside:m,onClose:g,onFocus:y,padding:E,portal:x,position:o,scheme:v,width:_,zOffset:a,animate:T,...b}=e,n[0]=e,n[1]=o,n[2]=a,n[3]=s,n[4]=l,n[5]=u,n[6]=d,n[7]=f,n[8]=h,n[9]=m,n[10]=g,n[11]=y,n[12]=x,n[13]=b,n[14]=v,n[15]=w,n[16]=C,n[17]=k,n[18]=S,n[19]=E,n[20]=_,n[21]=T):(o=n[1],a=n[2],s=n[3],l=n[4],u=n[5],d=n[6],f=n[7],h=n[8],m=n[9],g=n[10],y=n[11],x=n[12],b=n[13],v=n[14],w=n[15],C=n[16],k=n[17],S=n[18],E=n[19],_=n[20],T=n[21]);const A=w===void 0?!0:w,I=C===void 0?!1:C,j=k===void 0?4:k,$=S===void 0?3:S,D=E===void 0?3:E,O=_===void 0?0:_,M=T===void 0?!1:T,P=o??(r.position||"fixed"),F=a??(r.zOffset||i.dialog.zOffset),L=qO()?!1:M,U=ap(),H=x?((ye=U.elements)==null?void 0:ye[x])||null:U.element,N=zy().element,Y=De(j),J=De(D),ee=De(P),oe=De(O),re=De(F),se=p.useRef(null),G=p.useRef(null),K=p.useRef(null),q=p.useRef(null);let X;n[22]!==y?(X=ke=>{y==null||y(ke);const be=ke.target,Ee=K.current;if(Ee&&be===se.current){NG(Ee);return}if(Ee&&be===G.current){cy(Ee);return}nf(ke.target)&&(q.current=ke.target)},n[22]=y,n[23]=X):X=n[23];const ie=X,te=`${f}_label`,de=p.useRef(void 0);let pe;n[24]!==N||n[25]!==H?(pe=()=>{de.current&&clearTimeout(de.current),de.current=setTimeout(()=>{const ke=document.activeElement;if(ke&&!MN(N,H,ke)){const be=q.current;if(!be||!document.body.contains(be)){const Ee=K.current;Ee&&cy(Ee);return}be.focus()}},0)},n[24]=N,n[25]=H,n[26]=pe):pe=n[26];const ve=pe;let Ce;n[27]===Symbol.for("react.memo_cache_sentinel")?(Ce=c.jsx("div",{ref:se,tabIndex:0}),n[27]=Ce):Ce=n[27];let xe;n[28]!==A||n[29]!==Y||n[30]!==$||n[31]!==s||n[32]!==l||n[33]!==u||n[34]!==d||n[35]!==I||n[36]!==f||n[37]!==m||n[38]!==g||n[39]!==x||n[40]!==v||n[41]!==oe?(xe=c.jsx(iEe,{__unstable_autoFocus:A,__unstable_hideCloseButton:I,contentRef:l,footer:u,header:d,id:f,onClickOutside:m,onClose:g,portal:x,radius:Y,ref:K,scheme:v,shadow:$,width:oe,children:s}),n[28]=A,n[29]=Y,n[30]=$,n[31]=s,n[32]=l,n[33]=u,n[34]=d,n[35]=I,n[36]=f,n[37]=m,n[38]=g,n[39]=x,n[40]=v,n[41]=oe,n[42]=xe):xe=n[42];let Ae;n[43]===Symbol.for("react.memo_cache_sentinel")?(Ae=c.jsx("div",{ref:G,tabIndex:0}),n[43]=Ae):Ae=n[43];let Re;n[44]!==L||n[45]!==ie||n[46]!==ve||n[47]!==f||n[48]!==te||n[49]!==h||n[50]!==J||n[51]!==ee||n[52]!==t||n[53]!==b||n[54]!==xe||n[55]!==re?(Re=c.jsxs(Wat,{...b,$animate:L,$padding:J,$position:ee,"aria-labelledby":te,"aria-modal":!0,"data-ui":"Dialog",id:f,onActivate:h,onClick:ve,onFocus:ie,ref:t,role:"dialog",zOffset:re,children:[Ce,xe,Ae]}),n[44]=L,n[45]=ie,n[46]=ve,n[47]=f,n[48]=te,n[49]=h,n[50]=J,n[51]=ee,n[52]=t,n[53]=b,n[54]=xe,n[55]=re,n[56]=Re):Re=n[56];let we;return n[57]!==x||n[58]!==Re?(we=c.jsx(hg,{__unstable_name:x,children:Re}),n[57]=x,n[58]=Re,n[59]=we):we=n[59],we});QO.displayName="ForwardRef(Dialog)";function O3(e){const t=nt.c(6),{children:n,position:r,zOffset:i}=e;let o;t[0]!==r||t[1]!==i?(o={version:0,position:r,zOffset:i},t[0]=r,t[1]=i,t[2]=o):o=t[2];const a=o;let s;return t[3]!==n||t[4]!==a?(s=c.jsx(rEe.Provider,{value:a,children:n}),t[3]=n,t[4]=a,t[5]=s):s=t[5],s}O3.displayName="DialogProvider";const oEe=p.forwardRef(function(e,t){const n=nt.c(62),{__unstable_disableRestoreFocusOnClose:r,boundaryElement:i,button:o,id:a,menu:s,onClose:l,onOpen:u,placement:d,popoverScheme:f,portal:h,popover:m,popoverRadius:g,preventOverflow:y}=e,x=r===void 0?!1:r,b=h===void 0?!0:h,[v,w]=p.useState(!1),[C,k]=p.useState(null),[S,E]=p.useState(null);let _;n[0]===Symbol.for("react.memo_cache_sentinel")?(_=[],n[0]=_):_=n[0];const[T,A]=p.useState(_),I=p.useRef(v);let j,$;n[1]!==u||n[2]!==v?(j=()=>{u&&v&&!I.current&&u()},$=[u,v],n[1]=u,n[2]=v,n[3]=j,n[4]=$):(j=n[3],$=n[4]),p.useEffect(j,$);let D,O;n[5]!==l||n[6]!==v?(D=()=>{l&&!v&&I.current&&l()},O=[l,v],n[5]=l,n[6]=v,n[7]=D,n[8]=O):(D=n[7],O=n[8]),p.useEffect(D,O);let M,P;n[9]!==v?(M=()=>{I.current=v},P=[v],n[9]=v,n[10]=M,n[11]=P):(M=n[10],P=n[11]),p.useEffect(M,P);let F;n[12]===Symbol.for("react.memo_cache_sentinel")?(F=()=>{w(Jat),k(null)},n[12]=F):F=n[12];const L=F;let U;n[13]!==v?(U=be=>{v&&be.preventDefault()},n[13]=v,n[14]=U):U=n[14];const H=U;let N;n[15]===Symbol.for("react.memo_cache_sentinel")?(N=be=>{if(be.key==="ArrowDown"||be.key==="Enter"||be.key===" "){be.preventDefault(),w(!0),k("first");return}if(be.key==="ArrowUp"){be.preventDefault(),w(!0),k("last");return}},n[15]=N):N=n[15];const Y=N;let J;n[16]!==S||n[17]!==T?(J=be=>{const Ee=be.target;if(Ee instanceof Node&&!(S&&(Ee===S||S.contains(Ee)))){for(const ce of T)if(Ee===ce||ce.contains(Ee))return;w(!1)}},n[16]=S,n[17]=T,n[18]=J):J=n[18];const ee=J;let oe;n[19]!==S||n[20]!==x?(oe=()=>{w(!1),!x&&S&&S.focus()},n[19]=S,n[20]=x,n[21]=oe):oe=n[21];const re=oe;let se;n[22]!==T?(se=be=>{const Ee=be.relatedTarget;if(Ee instanceof Node){for(const ce of T)if(ce===Ee||ce.contains(Ee))return;w(!1)}},n[22]=T,n[23]=se):se=n[23];const G=se;let K;n[24]!==S||n[25]!==x?(K=()=>{w(!1),!x&&S&&S.focus()},n[24]=S,n[25]=x,n[26]=K):K=n[26];const q=K;let X;n[27]===Symbol.for("react.memo_cache_sentinel")?(X=be=>(A(Ee=>Ee.concat([be])),()=>A(Ee=>Ee.filter(ce=>ce!==be))),n[27]=X):X=n[27];const ie=X;let te;n[28]!==S||n[29]!==G||n[30]!==q||n[31]!==ee||n[32]!==re||n[33]!==a||n[34]!==s||n[35]!==C?(te=s&&p.cloneElement(s,{"aria-labelledby":a,onBlurCapture:G,onClickOutside:ee,onEscape:re,onItemClick:q,originElement:S,registerElement:ie,shouldFocus:C}),n[28]=S,n[29]=G,n[30]=q,n[31]=ee,n[32]=re,n[33]=a,n[34]=s,n[35]=C,n[36]=te):te=n[36];const de=te;let pe;n[37]!==o||n[38]!==H||n[39]!==a||n[40]!==v?(pe=o&&p.cloneElement(o,{"data-ui":"MenuButton",id:a,onClick:L,onKeyDown:Y,onMouseDown:H,"aria-haspopup":!0,"aria-expanded":v,ref:E,selected:o.props.selected??v}),n[37]=o,n[38]=H,n[39]=a,n[40]=v,n[41]=pe):pe=n[41];const ve=pe;let Ce,xe;n[42]!==S?(Ce=()=>S,xe=[S],n[42]=S,n[43]=Ce,n[44]=xe):(Ce=n[43],xe=n[44]),p.useImperativeHandle(t,Ce,xe);let Ae;n[45]!==m?(Ae=m||{},n[45]=m,n[46]=Ae):Ae=n[46];let Re;n[47]!==i||n[48]!==d||n[49]!==g||n[50]!==f||n[51]!==b||n[52]!==y||n[53]!==Ae?(Re={boundaryElement:i,overflow:"auto",placement:d,portal:b,preventOverflow:y,radius:g,scheme:f,...Ae},n[47]=i,n[48]=d,n[49]=g,n[50]=f,n[51]=b,n[52]=y,n[53]=Ae,n[54]=Re):Re=n[54];const we=Re;let ye;n[55]!==ve?(ye=ve||c.jsx(c.Fragment,{}),n[55]=ve,n[56]=ye):ye=n[56];let ke;return n[57]!==de||n[58]!==v||n[59]!==we||n[60]!==ye?(ke=c.jsx(pg,{"data-ui":"MenuButton__popover",...we,content:de,open:v,children:ye}),n[57]=de,n[58]=v,n[59]=we,n[60]=ye,n[61]=ke):ke=n[61],ke});oEe.displayName="ForwardRef(MenuButton)";function Jat(e){return!e}const Qat=Fy`
  0% {
    background-position: 100%;
  }
  100% {
    background-position: -100%;
  }
`,est=he`
  background-image: linear-gradient(
    to right,
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-to),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from)
  );
  background-position: 100%;
  background-size: 200% 100%;
  background-attachment: fixed;
  animation-name: ${Qat};
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
  animation-duration: 2000ms;
`,tst=he`
  opacity: ${({$visible:e})=>e?1:0};
  transition: opacity 200ms ease-in;

  @media screen and (prefers-reduced-motion: no-preference) {
    ${({$animated:e})=>e?est:he`
            background-color: var(--card-skeleton-color-from);
          `}
  }

  @media screen and (prefers-reduced-motion: reduce) {
    background-color: var(--card-skeleton-color-from);
  }
`,nst=R(V).withConfig({displayName:"StyledSkeleton",componentId:"sc-ebtpni-0"})(op,tst),rf=p.forwardRef(function(e,t){const n=nt.c(14);let r,i,o,a;n[0]!==e?({animated:a,delay:r,radius:i,...o}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a):(r=n[1],i=n[2],o=n[3],a=n[4]);const s=a===void 0?!1:a,[l,u]=p.useState(!r);let d,f;n[5]!==r?(d=()=>{if(!r)return u(!0);const g=setTimeout(()=>{u(!0)},r);return()=>{clearTimeout(g)}},f=[r],n[5]=r,n[6]=d,n[7]=f):(d=n[6],f=n[7]),p.useEffect(d,f);const h=De(i);let m;return n[8]!==s||n[9]!==t||n[10]!==o||n[11]!==h||n[12]!==l?(m=c.jsx(nst,{...o,$animated:s,$radius:h,$visible:l,ref:t}),n[8]=s,n[9]=t,n[10]=o,n[11]=h,n[12]=l,n[13]=m):m=n[13],m});rf.displayName="ForwardRef(Skeleton)";const eM=R(rf).withConfig({displayName:"StyledSkeleton",componentId:"sc-2p7a1v-0"})(e=>{const{$size:t,$style:n}=e,{font:r,media:i}=$e(e.theme),o=r[n];return Ut(i,t,a=>{const s=o.sizes[a];return{height:s.lineHeight-s.ascenderHeight-s.descenderHeight}})}),wr=p.forwardRef(function(e,t){const n=nt.c(7);let r,i;n[0]!==e?({size:i,...r}=e,n[0]=e,n[1]=r,n[2]=i):(r=n[1],i=n[2]);const o=De(i===void 0?2:i);let a;return n[3]!==o||n[4]!==t||n[5]!==r?(a=c.jsx(eM,{...r,$size:o,ref:t,$style:"text"}),n[3]=o,n[4]=t,n[5]=r,n[6]=a):a=n[6],a});wr.displayName="ForwardRef(TextSkeleton)";const rst=p.forwardRef(function(e,t){const n=nt.c(7);let r,i;n[0]!==e?({size:i,...r}=e,n[0]=e,n[1]=r,n[2]=i):(r=n[1],i=n[2]);const o=De(i===void 0?2:i);let a;return n[3]!==o||n[4]!==t||n[5]!==r?(a=c.jsx(eM,{...r,$size:o,ref:t,$style:"label"}),n[3]=o,n[4]=t,n[5]=r,n[6]=a):a=n[6],a});rst.displayName="ForwardRef(LabelSkeleton)";const ist=p.forwardRef(function(e,t){const n=nt.c(7);let r,i;n[0]!==e?({size:i,...r}=e,n[0]=e,n[1]=r,n[2]=i):(r=n[1],i=n[2]);const o=De(i===void 0?2:i);let a;return n[3]!==o||n[4]!==t||n[5]!==r?(a=c.jsx(eM,{...r,$size:o,ref:t,$style:"heading"}),n[3]=o,n[4]=t,n[5]=r,n[6]=a):a=n[6],a});ist.displayName="ForwardRef(HeadingSkeleton)";const ost=p.forwardRef(function(e,t){const n=nt.c(7);let r,i;n[0]!==e?({size:i,...r}=e,n[0]=e,n[1]=r,n[2]=i):(r=n[1],i=n[2]);const o=De(i===void 0?2:i);let a;return n[3]!==o||n[4]!==t||n[5]!==r?(a=c.jsx(eM,{...r,$size:o,ref:t,$style:"code"}),n[3]=o,n[4]=t,n[5]=r,n[6]=a):a=n[6],a});ost.displayName="ForwardRef(CodeSkeleton)";const aEe=p.forwardRef(function(e,t){const n=nt.c(9);let r,i;n[0]!==e?({flex:r,...i}=e,n[0]=e,n[1]=r,n[2]=i):(r=n[1],i=n[2]);const o=e.tabIndex===void 0?0:e.tabIndex;let a;return n[3]!==r||n[4]!==e.children||n[5]!==t||n[6]!==i||n[7]!==o?(a=c.jsx(V,{"data-ui":"TabPanel",...i,flex:r,ref:t,role:"tabpanel",tabIndex:o,children:e.children}),n[3]=r,n[4]=e.children,n[5]=t,n[6]=i,n[7]=o,n[8]=a):a=n[8],a});aEe.displayName="ForwardRef(TabPanel)";const Uj=2,ast={error:"critical",warning:"caution",success:"positive",info:"neutral"},sst={error:"critical",warning:"caution",success:"positive",info:"neutral"},lst=R(W).withConfig({displayName:"TextBox",componentId:"sc-1rr7rxo-0"})`overflow-x:auto;`,cst=R(le).withConfig({displayName:"StyledToast",componentId:"sc-1rr7rxo-1"})`pointer-events:all;width:100%;position:relative;overflow:hidden;overflow:clip;&[data-has-duration]{padding-bottom:calc(${Uj}px / 2);}`,ust=R.div.withConfig({displayName:"LoadingBar",componentId:"sc-1rr7rxo-2"})`display:flex;position:absolute;bottom:0px;top:0px;left:0px;right:0px;pointer-events:none;z-index:-1;overflow:hidden;overflow:clip;background:transparent;align-items:flex-end;will-change:opacity;`,dst=R(le).withConfig({displayName:"LoadingBarMask",componentId:"sc-1rr7rxo-3"})`position:absolute;top:0;left:-${Uj}px;right:-${Uj}px;bottom:${Uj}px;z-index:1;`,fst=R(le).withConfig({displayName:"LoadingBarProgress",componentId:"sc-1rr7rxo-4"})`display:block;height:100%;width:100%;transform-origin:0% 50%;background-color:${e=>{const{color:t}=$e(e.theme);return t.button.default[e.tone].enabled.bg}};`,hst={error:"alert",warning:"alert",success:"alert",info:"alert"},pst=1e3*60*60*24*24;function sEe(e){const t=nt.c(50);let n,r,i,o,a,s,l,u,d;t[0]!==e?({closable:n,description:r,duration:i,onClose:o,radius:l,title:u,status:s,updatedAt:d,...a}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=l,t[8]=u,t[9]=d):(n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],d=t[9]);const f=l===void 0?3:l,h=s?ast[s]:"default",m=s?sst[s]:"default",g=s?hst[s]:"status",y=qO()?0:.26;let x;t[10]!==y?(x=y?{type:"spring",visualDuration:y,bounce:.25}:{duration:0},t[10]=y,t[11]=x):x=t[11];const b=x,v=i&&isFinite(i)&&i<pst;let w;t[12]===Symbol.for("react.memo_cache_sentinel")?(w=["hidden","initial"],t[12]=w):w=t[12];const C=w;let k;t[13]===Symbol.for("react.memo_cache_sentinel")?(k=["visible","slideIn"],t[13]=k):k=t[13];const S=k;let E;t[14]===Symbol.for("react.memo_cache_sentinel")?(E=["hidden","slideOut"],t[14]=E):E=t[14];const _=E,T=v?"":void 0;let A;t[15]!==u?(A=u&&c.jsx(B,{size:1,weight:"medium",children:u}),t[15]=u,t[16]=A):A=t[16];let I;t[17]!==r||t[18]!==b?(I=r&&c.jsx(vst,{muted:!0,size:1,variants:X6,transition:b,children:r}),t[17]=r,t[18]=b,t[19]=I):I=t[19];let j;t[20]!==A||t[21]!==I?(j=c.jsx(lst,{flex:1,padding:3,children:c.jsxs(ae,{space:3,children:[A,I]})}),t[20]=A,t[21]=I,t[22]=j):j=t[22];let $;t[23]!==m||t[24]!==n||t[25]!==o?($=n&&c.jsx(V,{padding:1,children:c.jsx(zt,{as:"button",icon:qH,mode:"bleed",padding:2,tone:m,onClick:o,style:{verticalAlign:"top"}})}),t[23]=m,t[24]=n,t[25]=o,t[26]=$):$=t[26];let D;t[27]!==j||t[28]!==$||t[29]!==b?(D=c.jsxs(yst,{align:"flex-start",variants:X6,transition:b,children:[j,$]}),t[27]=j,t[28]=$,t[29]=b,t[30]=D):D=t[30];let O;t[31]!==h||t[32]!==i||t[33]!==v||t[34]!==o||t[35]!==f||t[36]!==b||t[37]!==d||t[38]!==y?(O=v&&c.jsxs(bst,{variants:X6,transition:b,children:[c.jsx(dst,{tone:h,radius:f}),c.jsx(xst,{tone:h,initial:{scaleX:0},animate:{scaleX:1},transition:{delay:y,duration:i/1e3,ease:"linear"},onAnimationComplete:o},`progress-${d}`)]}),t[31]=h,t[32]=i,t[33]=v,t[34]=o,t[35]=f,t[36]=b,t[37]=d,t[38]=y,t[39]=O):O=t[39];let M;return t[40]!==h||t[41]!==f||t[42]!==a||t[43]!==g||t[44]!==D||t[45]!==O||t[46]!==T||t[47]!==b||t[48]!==y?(M=c.jsxs(gst,{"data-ui":"Toast",role:g,...a,"data-has-duration":T,custom:y,radius:f,shadow:2,tone:h,forwardedAs:"li",layout:"position",variants:mst,initial:C,animate:S,exit:_,transition:b,children:[D,O]}),t[40]=h,t[41]=f,t[42]=a,t[43]=g,t[44]=D,t[45]=O,t[46]=T,t[47]=b,t[48]=y,t[49]=M):M=t[49],M}sEe.displayName="Toast";const mst={initial:{y:32,scale:.5,zIndex:1},hidden:{opacity:0},visible:e=>e?{opacity:1,transition:{when:"beforeChildren",staggerChildren:e/3,duration:e/3}}:{opacity:1},slideIn:{y:0,scale:1},slideOut:{zIndex:0,scale:.75}},X6={initial:{willChange:"transform"},hidden:{opacity:0},visible:{opacity:1}},gst=ug.create(cst),yst=ug.create(W),vst=ug.create(B),bst=ug.create(ust),xst=ug.create(fst);function wst(){return p.useSyncExternalStore(Sst,kst,Cst)}function Cst(){return!1}function kst(){return!0}const Sst=()=>()=>{},lEe=rp("@sanity/ui/context/toast",null);function cEe(e){const t=nt.c(9),{children:n,padding:r,paddingX:i,paddingY:o,gap:a}=e,s=r===void 0?4:r,l=a===void 0?3:a,{zIndex:u}=ns();let d;t[0]!==u?(d={zIndex:u},t[0]=u,t[1]=d):d=t[1];let f;return t[2]!==n||t[3]!==l||t[4]!==s||t[5]!==i||t[6]!==o||t[7]!==d?(f=c.jsx(Est,{forwardedAs:"ul","data-ui":"ToastProvider",padding:s,paddingX:i,paddingY:o,gap:l,columns:1,style:d,children:n}),t[2]=n,t[3]=l,t[4]=s,t[5]=i,t[6]=o,t[7]=d,t[8]=f):f=t[8],f}cEe.displayName="ToastLayer";const Est=R(Xn).withConfig({displayName:"StyledLayer",componentId:"sc-1tbwn58-0"})`box-sizing:border-box;position:fixed;right:0;bottom:0;list-style:none;pointer-events:none;max-width:420px;width:100%;`;let _st=0;function Tst(){return String(_st++)}function uEe(e){const t=nt.c(13),{children:n,padding:r,paddingX:i,paddingY:o,gap:a,zOffset:s}=e,l=s===void 0?1:s;let u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u=[],t[0]=u):u=t[0];const[d,f]=p.useState(u),h=wst();let m;t[1]===Symbol.for("react.memo_cache_sentinel")?(m={version:0,push:b=>{const v=b.id||Tst(),w=b.duration||5e3;return p.startTransition(()=>{f(C=>{if(w===.01)return C.filter(S=>S.id!==v);const k=()=>p.startTransition(()=>f(S=>S.filter(E=>E.id!==v)));return[...C.filter(S=>S.id!==v),{dismiss:k,id:v,updatedAt:Date.now(),params:{...b,duration:w}}]})}),v}},t[1]=m):m=t[1];const g=m;let y;t[2]!==a||t[3]!==h||t[4]!==r||t[5]!==i||t[6]!==o||t[7]!==d||t[8]!==l?(y=h&&c.jsx(Pl,{zOffset:l,children:c.jsx(cEe,{padding:r,paddingX:i,paddingY:o,gap:a,children:c.jsx(wG,{initial:!1,mode:"popLayout",children:d.map(Ast)})})}),t[2]=a,t[3]=h,t[4]=r,t[5]=i,t[6]=o,t[7]=d,t[8]=l,t[9]=y):y=t[9];let x;return t[10]!==n||t[11]!==y?(x=c.jsxs(lEe.Provider,{value:g,children:[n,y]}),t[10]=n,t[11]=y,t[12]=x):x=t[12],x}function Ast(e){const{dismiss:t,id:n,params:r,updatedAt:i}=e;return c.jsx(sEe,{closable:r.closable,description:r.description,onClose:t,status:r.status,title:r.title,duration:r.duration,updatedAt:i},n)}uEe.displayName="ToastProvider";function Nr(){const e=p.useContext(lEe);if(!e)throw new Error("useToast(): missing context value");if(!rE(e)||e.version!==0)throw new Error("useToast(): the context value is not compatible");return e}function jst(e,t,n){var a;const r=t.indexOf(n),i=t.slice(0,r),o=i.length;for(let s=o-1;s>=0;s-=1){const l=i[s].getAttribute("data-tree-key");if(!l)continue;const u=l.split("/");u.pop();const d=[];let f=!0;for(let h=0;h<u.length;h+=1){d.push(u[h]);const m=d.join("/");if(!((a=e[m])!=null&&a.expanded)){f=!1;break}}if(f)return i[s]}return null}function Ist(e,t,n){var a;const r=t.indexOf(n),i=t.slice(r),o=t.length;for(let s=1;s<o;s+=1){if(!i[s])continue;const l=i[s].getAttribute("data-tree-key");if(!l)continue;const u=l.split("/");u.pop();const d=[];let f=!0;for(let h=0;h<u.length;h+=1){d.push(u[h]);const m=d.join("/");if(!((a=e[m])!=null&&a.expanded)){f=!1;break}}if(f)return i[s]}return null}function toe(e){if(e.getAttribute("role")==="treeitem"&&e.focus(),e.getAttribute("role")==="none"){const t=e.firstChild;t&&t instanceof HTMLElement&&t.focus()}}const M3=rp("@sanity/ui/context/tree",null),$st=p.memo(p.forwardRef(function(e,t){const n=nt.c(37);let r,i,o,a;n[0]!==e?({children:r,space:a,onFocus:i,...o}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=o,n[4]=a):(r=n[1],i=n[2],o=n[3],a=n[4]);const s=a===void 0?1:a,l=p.useRef(null),[u,d]=p.useState(null),f=p.useRef(u);let h;n[5]===Symbol.for("react.memo_cache_sentinel")?(h=[],n[5]=h):h=n[5];const m=h;let g;n[6]===Symbol.for("react.memo_cache_sentinel")?(g=[],n[6]=g):g=n[6];const[y,x]=p.useState(g);let b;n[7]===Symbol.for("react.memo_cache_sentinel")?(b={},n[7]=b):b=n[7];const[v,w]=p.useState(b),C=p.useRef(v);let k;n[8]===Symbol.for("react.memo_cache_sentinel")?(k=()=>l.current,n[8]=k):k=n[8],p.useImperativeHandle(t,k);let S,E;n[9]!==u?(S=()=>{f.current=u},E=[u],n[9]=u,n[10]=S,n[11]=E):(S=n[10],E=n[11]),p.useEffect(S,E);let _,T;n[12]!==v?(_=()=>{C.current=v},T=[v],n[12]=v,n[13]=_,n[14]=T):(_=n[13],T=n[14]),p.useEffect(_,T);let A;n[15]===Symbol.for("react.memo_cache_sentinel")?(A=(ee,oe,re,se)=>(w(G=>({...G,[oe]:{element:ee,expanded:re}})),se&&d(ee),()=>{w(G=>{const K={...G};return delete K[oe],K})}),n[15]=A):A=n[15];const I=A;let j;n[16]===Symbol.for("react.memo_cache_sentinel")?(j=(ee,oe)=>{w(re=>{const se=re[ee];return se?{...re,[ee]:{...se,expanded:oe}}:re})},n[16]=j):j=n[16];const $=j,D=u||y[0]||null;let O;n[17]!==s||n[18]!==v||n[19]!==D?(O={version:0,focusedElement:D,level:0,path:m,registerItem:I,setExpanded:$,setFocusedElement:d,space:s,state:v},n[17]=s,n[18]=v,n[19]=D,n[20]=O):O=n[20];const M=O;let P;n[21]!==y?(P=ee=>{var oe;if(f.current){if(ee.key==="ArrowDown"){ee.preventDefault();const re=Ist(C.current,y,f.current);re&&(toe(re),d(re));return}if(ee.key==="ArrowUp"){ee.preventDefault();const re=jst(C.current,y,f.current);re&&(toe(re),d(re));return}if(ee.key==="ArrowLeft"){ee.preventDefault();const re=f.current.getAttribute("data-tree-key");if(!re)return;const se=C.current[re];if(!se)return;if(se.expanded)w(G=>{const K=G[re];return K?{...G,[re]:{...K,expanded:!1}}:G});else{const G=re.split("/");G.pop();const K=G.join("/"),q=K&&C.current[K];q&&(q.element.focus(),d(q.element))}return}if(ee.key==="ArrowRight"){ee.preventDefault();const re=f.current.getAttribute("data-tree-key");if(!re)return;(oe=C.current[re])!=null&&oe.expanded||w(se=>{const G=se[re];return G?{...se,[re]:{...G,expanded:!0}}:se});return}}},n[21]=y,n[22]=P):P=n[22];const F=P;let L;n[23]!==i?(L=ee=>{d(ee.target),i==null||i(ee)},n[23]=i,n[24]=L):L=n[24];const U=L;let H;n[25]===Symbol.for("react.memo_cache_sentinel")?(H=()=>{if(!l.current)return;const ee=Array.from(l.current.querySelectorAll('[data-ui="TreeItem"]'));x(ee)},n[25]=H):H=n[25];let N;n[26]!==r?(N=[r],n[26]=r,n[27]=N):N=n[27],p.useEffect(H,N);let Y;n[28]!==r||n[29]!==U||n[30]!==F||n[31]!==o||n[32]!==s?(Y=c.jsx(ae,{as:"ul","data-ui":"Tree",...o,onFocus:U,onKeyDown:F,ref:l,role:"tree",space:s,children:r}),n[28]=r,n[29]=U,n[30]=F,n[31]=o,n[32]=s,n[33]=Y):Y=n[33];let J;return n[34]!==M||n[35]!==Y?(J=c.jsx(M3.Provider,{value:M,children:Y}),n[34]=M,n[35]=Y,n[36]=J):J=n[36],J}));$st.displayName="Memo(ForwardRef(Tree))";function Dst(){return he`
    &[role='none'] > [role='treeitem'] {
      outline: none;
      cursor: default;
      border-radius: 3px;

      background-color: var(--card-bg-color);
      color: var(--treeitem-fg-color);

      &:focus {
        position: relative;
      }
    }

    &[role='treeitem'] {
      outline: none;

      & > div {
        cursor: default;
        border-radius: 3px;

        background-color: var(--card-bg-color);
        color: var(--treeitem-fg-color);
      }

      &:focus > div {
        position: relative;
      }
    }
  `}function Ost(e){const t="default",{color:n}=$e(e.theme),r=n.selectable[t];return he`
    &[role='none'] {
      & > [role='treeitem'] {
        ${In(n,r.enabled)}
      }

      &[data-selected] > [role='treeitem'] {
        ${In(n,r.pressed)}
      }

      @media (hover: hover) {
        &:not([data-selected]) > [role='treeitem']:not(:focus):hover {
          ${In(n,r.hovered)}
        }

        & > [role='treeitem']:focus {
          ${In(n,r.selected)}
        }
      }
    }

    &[role='treeitem'] {
      & > [data-ui='TreeItem__box'] {
        ${In(n,r.enabled)}
      }

      &[data-selected] > [data-ui='TreeItem__box'] {
        ${In(n,r.pressed)}
      }

      @media (hover: hover) {
        &:not([data-selected]):not(:focus) > [data-ui='TreeItem__box']:hover {
          ${In(n,r.hovered)}
        }

        &:focus > [data-ui='TreeItem__box'] {
          ${In(n,r.selected)}
        }
      }
    }
  `}function Mst(e){const{$level:t}=e,{space:n}=$e(e.theme);return he`
    padding-left: ${Te(n[2]*t)};

    &[data-as='a'] {
      text-decoration: none;
    }
  `}function dEe(){const e=p.useContext(M3);if(!e)throw new Error("Tree: missing context value");return e}const noe=p.memo(function(e){const t=nt.c(9);let n,r,i;t[0]!==e?({children:n,expanded:i,...r}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i):(n=t[1],r=t[2],i=t[3]);const o=i===void 0?!1:i,a=dEe(),s=!o;let l;return t[4]!==n||t[5]!==r||t[6]!==s||t[7]!==a.space?(l=c.jsx(ae,{as:"ul","data-ui":"TreeGroup",...r,hidden:s,marginTop:a.space,role:"group",space:a.space,children:n}),t[4]=n,t[5]=r,t[6]=s,t[7]=a.space,t[8]=l):l=t[8],l}),roe=p.memo(R.li.withConfig({displayName:"StyledTreeItem",componentId:"sc-iiskig-0"})(Dst,Ost)),ioe=R(V).attrs({forwardedAs:"a"}).withConfig({displayName:"TreeItemBox",componentId:"sc-iiskig-1"})(Mst),Pst=R(B).withConfig({displayName:"ToggleArrowText",componentId:"sc-iiskig-2"})`& > svg{transition:transform 100ms;}`,Rst=p.memo(function(e){const{children:t,expanded:n=!1,fontSize:r=1,href:i,icon:o,id:a,linkAs:s,muted:l,onClick:u,padding:d=2,selected:f=!1,space:h=2,text:m,weight:g,...y}=e,x=p.useRef(null),b=p.useRef(null),v=dEe(),{path:w,registerItem:C,setExpanded:k,setFocusedElement:S}=v,E=p.useId(),_=a||E,T=p.useMemo(()=>w.concat([_||""]),[_,w]),A=T.join("/"),I=v.state[A],j=v.focusedElement===x.current,$=(I==null?void 0:I.expanded)===void 0?n:(I==null?void 0:I.expanded)||!1,D=v.focusedElement&&v.focusedElement===x.current?0:-1,O=p.useMemo(()=>({...v,level:v.level+1,path:T}),[T,v]),M=p.useCallback(L=>{u&&u(L);const U=L.target;U instanceof HTMLElement&&(U.getAttribute("data-ui")==="TreeItem"||U.closest('[data-ui="TreeItem__box"]'))&&(L.stopPropagation(),k(A,!$),S(x.current))},[$,A,u,k,S]),P=p.useCallback(L=>{var U;j&&L.key==="Enter"&&((U=b.current||x.current)==null||U.click())},[j]);p.useEffect(()=>{if(x.current)return C(x.current,T.join("/"),$,f)},[$,T,C,f]);const F=c.jsxs(W,{padding:d,children:[c.jsxs(V,{marginRight:h,style:{visibility:o||t?"visible":"hidden",pointerEvents:"none"},children:[o&&c.jsx(B,{muted:l,size:r,weight:g,children:c.jsx(o,{})}),!o&&c.jsx(Pst,{muted:l,size:r,weight:g,children:c.jsx(PKe,{style:{transform:$?"rotate(90deg)":void 0}})})]}),c.jsx(V,{flex:1,children:c.jsx(B,{muted:l,size:r,textOverflow:"ellipsis",weight:g,children:m})})]});return i?c.jsxs(roe,{"data-selected":f?"":void 0,"data-tree-id":_,"data-tree-key":A,"data-ui":"TreeItem",...y,onClick:M,ref:x,role:"none",children:[c.jsx(ioe,{$level:v.level,"aria-expanded":$,as:s,"data-ui":"TreeItem__box",href:i,ref:b,role:"treeitem",tabIndex:D,children:F}),c.jsx(M3.Provider,{value:O,children:t&&c.jsx(noe,{hidden:!$,children:t})})]}):c.jsxs(roe,{"data-selected":f?"":void 0,"data-ui":"TreeItem","data-tree-id":_,"data-tree-key":A,...y,"aria-expanded":$,onClick:M,onKeyDown:P,ref:x,role:"treeitem",tabIndex:D,children:[c.jsx(ioe,{$level:v.level,as:"div","data-ui":"TreeItem__box",children:F}),c.jsx(M3.Provider,{value:O,children:t&&c.jsx(noe,{expanded:$,children:t})})]})});Rst.displayName="Memo(TreeItem)";function fEe(){const e=Object.create(null);let t=0;function n(i){const o=t++;return e[o]=i,function(){delete e[o]}}function r(i){for(const o in e)e[o](i)}return{publish:r,subscribe:n}}var hEe={exports:{}},Sr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VG=Symbol.for("react.element"),zG=Symbol.for("react.portal"),tM=Symbol.for("react.fragment"),nM=Symbol.for("react.strict_mode"),rM=Symbol.for("react.profiler"),iM=Symbol.for("react.provider"),oM=Symbol.for("react.context"),Fst=Symbol.for("react.server_context"),aM=Symbol.for("react.forward_ref"),sM=Symbol.for("react.suspense"),lM=Symbol.for("react.suspense_list"),cM=Symbol.for("react.memo"),uM=Symbol.for("react.lazy"),Lst=Symbol.for("react.offscreen"),pEe;pEe=Symbol.for("react.module.reference");function zc(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case VG:switch(e=e.type,e){case tM:case rM:case nM:case sM:case lM:return e;default:switch(e=e&&e.$$typeof,e){case Fst:case oM:case aM:case uM:case cM:case iM:return e;default:return t}}case zG:return t}}}Sr.ContextConsumer=oM;Sr.ContextProvider=iM;Sr.Element=VG;Sr.ForwardRef=aM;Sr.Fragment=tM;Sr.Lazy=uM;Sr.Memo=cM;Sr.Portal=zG;Sr.Profiler=rM;Sr.StrictMode=nM;Sr.Suspense=sM;Sr.SuspenseList=lM;Sr.isAsyncMode=function(){return!1};Sr.isConcurrentMode=function(){return!1};Sr.isContextConsumer=function(e){return zc(e)===oM};Sr.isContextProvider=function(e){return zc(e)===iM};Sr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===VG};Sr.isForwardRef=function(e){return zc(e)===aM};Sr.isFragment=function(e){return zc(e)===tM};Sr.isLazy=function(e){return zc(e)===uM};Sr.isMemo=function(e){return zc(e)===cM};Sr.isPortal=function(e){return zc(e)===zG};Sr.isProfiler=function(e){return zc(e)===rM};Sr.isStrictMode=function(e){return zc(e)===nM};Sr.isSuspense=function(e){return zc(e)===sM};Sr.isSuspenseList=function(e){return zc(e)===lM};Sr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===tM||e===rM||e===nM||e===sM||e===lM||e===Lst||typeof e=="object"&&e!==null&&(e.$$typeof===uM||e.$$typeof===cM||e.$$typeof===iM||e.$$typeof===oM||e.$$typeof===aM||e.$$typeof===pEe||e.getModuleId!==void 0)};Sr.typeOf=zc;hEe.exports=Sr;var Dh=hEe.exports;function Nst(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const ooe={};function PN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&ooe[t[0]]||(typeof t[0]=="string"&&(ooe[t[0]]=new Date),Nst(...t))}const mEe=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}};function aoe(e,t,n){e.loadNamespaces(t,mEe(e,n))}function soe(e,t,n,r){typeof n=="string"&&(n=[n]),n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,mEe(e,r))}function Bst(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=t.languages[0],i=t.options?t.options.fallbackLng:!1,o=t.languages[t.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(s,l)=>{const u=t.services.backendConnector.state[`${s}|${l}`];return u===-1||u===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(r,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||a(r,e)&&(!i||a(o,e)))}function Vst(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?(PN("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(i,o)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!o(i.isLanguageChangingTo,e))return!1}}):Bst(e,t,n)}const zst=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Ust={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Hst=e=>Ust[e],Wst=e=>e.replace(zst,Hst);let RN={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Wst};function Gst(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};RN={...RN,...e}}function Kst(){return RN}let gEe;function Yst(e){gEe=e}function qst(){return gEe}const Zst={type:"3rdParty",init(e){Gst(e.options.react),Yst(e)}},yEe=p.createContext();class Xst{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Jst=(e,t)=>{const n=p.useRef();return p.useEffect(()=>{n.current=t?n.current:e},[e,t]),n.current};function vEe(e,t,n,r){return e.getFixedT(t,n,r)}function Qst(e,t,n,r){return p.useCallback(vEe(e,t,n,r),[e,t,n,r])}function sw(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=t,{i18n:r,defaultNS:i}=p.useContext(yEe)||{},o=n||r||qst();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new Xst),!o){PN("You will need to pass in an i18next instance by using initReactI18next");const C=(S,E)=>typeof E=="string"?E:E&&typeof E=="object"&&typeof E.defaultValue=="string"?E.defaultValue:Array.isArray(S)?S[S.length-1]:S,k=[C,{},!1];return k.t=C,k.i18n={},k.ready=!1,k}o.options.react&&o.options.react.wait!==void 0&&PN("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...Kst(),...o.options.react,...t},{useSuspense:s,keyPrefix:l}=a;let u=e||i||o.options&&o.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(u);const d=(o.isInitialized||o.initializedStoreOnce)&&u.every(C=>Vst(C,o,a)),f=Qst(o,t.lng||null,a.nsMode==="fallback"?u:u[0],l),h=()=>f,[m,g]=p.useState(h);let y=u.join();t.lng&&(y=`${t.lng}${y}`);const x=Jst(y),b=p.useRef(!0);p.useEffect(()=>{const{bindI18n:C,bindI18nStore:k}=a;b.current=!0,!d&&!s&&(t.lng?soe(o,t.lng,u,()=>{b.current&&g(h)}):aoe(o,u,()=>{b.current&&g(()=>vEe(o,t.lng||null,a.nsMode==="fallback"?u:u[0],l))})),d&&x&&x!==y&&b.current&&g(h);function S(){b.current&&g(h)}return C&&o&&o.on(C,S),k&&o&&o.store.on(k,S),()=>{b.current=!1,C&&o&&C.split(" ").forEach(E=>o.off(E,S)),k&&o&&k.split(" ").forEach(E=>o.store.off(E,S))}},[o,y]);const v=p.useRef(!0);p.useEffect(()=>{b.current&&!v.current&&g(h),v.current=!1},[o,l]);const w=[m,o,d];if(w.t=m,w.i18n=o,w.ready=d,d||!d&&!s)return w;throw new Promise(C=>{t.lng?soe(o,t.lng,u,()=>C()):aoe(o,u,()=>C())})}function elt(e){let{i18n:t,defaultNS:n,children:r}=e;const i=p.useMemo(()=>({i18n:t,defaultNS:n}),[t,n]);return p.createElement(yEe.Provider,{value:i},r)}function lw({children:e,condition:t,wrapper:n}){return t?n(e):e}const tlt={space:3,padding:3},nlt={space:2,padding:2},rlt=R.span`
  display: inline-flex;
`,ge=p.forwardRef(function({size:e="default",mode:t="default",paddingY:n,tone:r="default",tooltipProps:i,...o},a){const s=p.useCallback(l=>c.jsx(Et,{content:i==null?void 0:i.content,portal:!0,...i,children:c.jsx(rlt,{children:l})}),[i]);return c.jsx(lw,{condition:!!i,wrapper:s,children:c.jsx(zt,{...o,...e==="default"?nlt:tlt,paddingY:n,ref:a,mode:t,tone:r})})}),no=p.forwardRef(function({bodyHeight:e,children:t,footer:n,padding:r=!0,...i},o){const{t:a}=sw();return c.jsx(QO,{...i,animate:!0,ref:o,footer:((n==null?void 0:n.confirmButton)||(n==null?void 0:n.cancelButton))&&c.jsxs(W,{width:"full",gap:3,justify:"flex-end",padding:3,children:[i.onClose&&c.jsx(zt,{mode:"bleed",padding:2,text:a("common.dialog.cancel-button.text"),tone:"default",onClick:i.onClose,"data-testid":"cancel-button",...n.cancelButton}),n.confirmButton&&c.jsx(zt,{mode:"default",padding:2,text:a("common.dialog.confirm-button.text"),tone:"critical","data-testid":"confirm-button",...n.confirmButton})]}),children:c.jsx(V,{height:e,padding:r?4:0,children:t})})}),Jt=p.forwardRef(function(e,t){return c.jsx(oEe,{...e,ref:t,popover:{...e.popover,animate:!0}})}),UG=e=>c.jsx(eEe,{...e,fontSize:1,padding:3});function HG({makePlatformAware:e=!0,keys:t=[],...n}){const r=e?t.map(ilt):t;return c.jsx(RG,{...n,keys:r})}const loe=typeof navigator>"u"||typeof navigator.platform!="string"?!1:/Mac|iPod|iPhone|iPad/.test(navigator.platform||"");function ilt(e){const t=e.toLowerCase();return t==="alt"&&loe?coe(e,"option"):t==="option"&&!loe?coe(e,"alt"):e}function coe(e,t){const n=e.length;return t.replace(/./g,(r,i)=>i<n&&e[i]===e[i].toUpperCase()?r.toUpperCase():r)}const J6=1,olt=0,alt=R(B)`
  margin-top: 2px;
`,slt=R(V)`
  height: 25px;
  width: 25px;
  overflow: hidden;
`,Qe=p.forwardRef(function({badgeText:e,children:t,disabled:n,hotkeys:r,icon:i,iconRight:o,preview:a=null,renderMenuItem:s,text:l,tooltipProps:u,__unstable_subtitle:d,__unstable_space:f,...h},m){const g=p.useMemo(()=>c.jsxs(W,{align:"center",gap:2,children:[a&&c.jsx(slt,{style:{opacity:n?.25:void 0},paddingRight:f?1:0,children:c.jsx(W,{align:"center",height:"fill",justify:"center",children:a})}),i&&c.jsx(V,{paddingRight:1,children:c.jsxs(B,{size:J6,children:[p.isValidElement(i)&&i,Dh.isValidElementType(i)&&p.createElement(i)]})}),l&&c.jsxs(ae,{flex:1,space:d?1:2,paddingLeft:d?1:0,children:[c.jsx(B,{size:J6,textOverflow:"ellipsis",weight:"medium",children:l}),d&&c.jsx(alt,{size:olt,textOverflow:"ellipsis",weight:"medium",muted:!0,children:d})]}),(e||r||o)&&c.jsxs(W,{align:"center",gap:3,marginLeft:3,children:[r&&c.jsx(HG,{keys:r,style:{marginTop:-4,marginBottom:-4}}),e&&c.jsx($a,{fontSize:0,style:{marginTop:-4,marginBottom:-4},children:e}),o&&c.jsxs(B,{size:J6,children:[p.isValidElement(o)&&o,Dh.isValidElementType(o)&&p.createElement(o)]})]})]}),[a,n,f,i,l,d,e,r,o]),y=p.useCallback(x=>c.jsx(Et,{content:u==null?void 0:u.content,portal:!0,...u,children:c.jsx("div",{children:x})}),[u]);return c.jsx(lw,{condition:!!u,wrapper:y,children:c.jsx(Uy,{disabled:n,paddingLeft:a?1:3,paddingRight:3,paddingY:a?1:3,ref:m,...h,children:typeof t>"u"&&typeof s=="function"?s(g):g})})}),Fn=p.forwardRef(function(e,t){return c.jsx(pg,{...e,animate:!0,ref:t})}),S2=p.forwardRef(function({tone:e="default",...t},n){return c.jsx(LG,{...t,muted:!0,padding:2,ref:n,tone:e})}),bEe={open:400},uoe={animate:!0,arrow:!1,boundaryElement:null,delay:bEe,fallbackPlacements:["bottom-start","bottom-end","top-start","top-end"],placement:"bottom",portal:!0},Et=p.forwardRef(function(e,t){const{content:n,hotkeys:r,...i}=e;return typeof n=="string"?c.jsx(D3,{...uoe,content:c.jsxs(W,{align:"center",children:[n&&c.jsx(V,{flex:1,padding:1,children:c.jsx(B,{size:1,children:n})}),r&&c.jsx(V,{flex:"none",children:c.jsx(HG,{keys:r})})]}),padding:1,ref:t,...i}):c.jsx(D3,{...uoe,content:n,ref:t,...i})}),Sa=e=>c.jsx(X5e,{delay:bEe,children:e.children}),llt="https://docs.sanity.io/help/";function xEe(e){return llt+e}function clt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var WG=clt,ult=tp,dlt=Ul,flt="[object Arguments]";function hlt(e){return dlt(e)&&ult(e)==flt}var plt=hlt,doe=plt,mlt=Ul,wEe=Object.prototype,glt=wEe.hasOwnProperty,ylt=wEe.propertyIsEnumerable,vlt=doe(function(){return arguments}())?doe:function(e){return mlt(e)&&glt.call(e,"callee")&&!ylt.call(e,"callee")},dM=vlt,blt=Array.isArray,bo=blt,foe=Wx,xlt=dM,wlt=bo,hoe=foe?foe.isConcatSpreadable:void 0;function Clt(e){return wlt(e)||xlt(e)||!!(hoe&&e&&e[hoe])}var klt=Clt,Slt=WG,Elt=klt;function CEe(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=Elt),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?CEe(s,t-1,n,r,i):Slt(i,s):r||(i[i.length]=s)}return i}var cw=CEe;function _lt(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Gu=_lt,Tlt=bo,Alt=Ry,jlt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ilt=/^\w*$/;function $lt(e,t){if(Tlt(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Alt(e)?!0:Ilt.test(e)||!jlt.test(e)||t!=null&&e in Object(t)}var GG=$lt,Dlt=tp,Olt=Lc,Mlt="[object AsyncFunction]",Plt="[object Function]",Rlt="[object GeneratorFunction]",Flt="[object Proxy]";function Llt(e){if(!Olt(e))return!1;var t=Dlt(e);return t==Plt||t==Rlt||t==Mlt||t==Flt}var kEe=Llt,Nlt=Nc,Blt=Nlt["__core-js_shared__"],Vlt=Blt,Q6=Vlt,poe=function(){var e=/[^.]+$/.exec(Q6&&Q6.keys&&Q6.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function zlt(e){return!!poe&&poe in e}var Ult=zlt,Hlt=Function.prototype,Wlt=Hlt.toString;function Glt(e){if(e!=null){try{return Wlt.call(e)}catch{}try{return e+""}catch{}}return""}var SEe=Glt,Klt=kEe,Ylt=Ult,qlt=Lc,Zlt=SEe,Xlt=/[\\^$.*+?()[\]{}|]/g,Jlt=/^\[object .+?Constructor\]$/,Qlt=Function.prototype,ect=Object.prototype,tct=Qlt.toString,nct=ect.hasOwnProperty,rct=RegExp("^"+tct.call(nct).replace(Xlt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ict(e){if(!qlt(e)||Ylt(e))return!1;var t=Klt(e)?rct:Jlt;return t.test(Zlt(e))}var oct=ict;function act(e,t){return e==null?void 0:e[t]}var sct=act,lct=oct,cct=sct;function uct(e,t){var n=cct(e,t);return lct(n)?n:void 0}var Hy=uct,dct=Hy,fct=dct(Object,"create"),fM=fct,moe=fM;function hct(){this.__data__=moe?moe(null):{},this.size=0}var pct=hct;function mct(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var gct=mct,yct=fM,vct="__lodash_hash_undefined__",bct=Object.prototype,xct=bct.hasOwnProperty;function wct(e){var t=this.__data__;if(yct){var n=t[e];return n===vct?void 0:n}return xct.call(t,e)?t[e]:void 0}var Cct=wct,kct=fM,Sct=Object.prototype,Ect=Sct.hasOwnProperty;function _ct(e){var t=this.__data__;return kct?t[e]!==void 0:Ect.call(t,e)}var Tct=_ct,Act=fM,jct="__lodash_hash_undefined__";function Ict(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Act&&t===void 0?jct:t,this}var $ct=Ict,Dct=pct,Oct=gct,Mct=Cct,Pct=Tct,Rct=$ct;function uw(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}uw.prototype.clear=Dct;uw.prototype.delete=Oct;uw.prototype.get=Mct;uw.prototype.has=Pct;uw.prototype.set=Rct;var Fct=uw;function Lct(){this.__data__=[],this.size=0}var Nct=Lct;function Bct(e,t){return e===t||e!==e&&t!==t}var iE=Bct,Vct=iE;function zct(e,t){for(var n=e.length;n--;)if(Vct(e[n][0],t))return n;return-1}var hM=zct,Uct=hM,Hct=Array.prototype,Wct=Hct.splice;function Gct(e){var t=this.__data__,n=Uct(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Wct.call(t,n,1),--this.size,!0}var Kct=Gct,Yct=hM;function qct(e){var t=this.__data__,n=Yct(t,e);return n<0?void 0:t[n][1]}var Zct=qct,Xct=hM;function Jct(e){return Xct(this.__data__,e)>-1}var Qct=Jct,eut=hM;function tut(e,t){var n=this.__data__,r=eut(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var nut=tut,rut=Nct,iut=Kct,out=Zct,aut=Qct,sut=nut;function dw(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}dw.prototype.clear=rut;dw.prototype.delete=iut;dw.prototype.get=out;dw.prototype.has=aut;dw.prototype.set=sut;var pM=dw,lut=Hy,cut=Nc,uut=lut(cut,"Map"),KG=uut,goe=Fct,dut=pM,fut=KG;function hut(){this.size=0,this.__data__={hash:new goe,map:new(fut||dut),string:new goe}}var put=hut;function mut(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var gut=mut,yut=gut;function vut(e,t){var n=e.__data__;return yut(t)?n[typeof t=="string"?"string":"hash"]:n.map}var mM=vut,but=mM;function xut(e){var t=but(this,e).delete(e);return this.size-=t?1:0,t}var wut=xut,Cut=mM;function kut(e){return Cut(this,e).get(e)}var Sut=kut,Eut=mM;function _ut(e){return Eut(this,e).has(e)}var Tut=_ut,Aut=mM;function jut(e,t){var n=Aut(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Iut=jut,$ut=put,Dut=wut,Out=Sut,Mut=Tut,Put=Iut;function fw(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}fw.prototype.clear=$ut;fw.prototype.delete=Dut;fw.prototype.get=Out;fw.prototype.has=Mut;fw.prototype.set=Put;var YG=fw,EEe=YG,Rut="Expected a function";function qG(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Rut);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(qG.Cache||EEe),n}qG.Cache=EEe;var _Ee=qG;const gM=Ue(_Ee);var Fut=_Ee,Lut=500;function Nut(e){var t=Fut(e,function(r){return n.size===Lut&&n.clear(),r}),n=t.cache;return t}var But=Nut,Vut=But,zut=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Uut=/\\(\\)?/g,Hut=Vut(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(zut,function(n,r,i,o){t.push(i?o.replace(Uut,"$1"):r||n)}),t}),TEe=Hut,yoe=Wx,Wut=Gu,Gut=bo,Kut=Ry,Yut=1/0,voe=yoe?yoe.prototype:void 0,boe=voe?voe.toString:void 0;function AEe(e){if(typeof e=="string")return e;if(Gut(e))return Wut(e,AEe)+"";if(Kut(e))return boe?boe.call(e):"";var t=e+"";return t=="0"&&1/e==-Yut?"-0":t}var jEe=AEe,qut=jEe;function Zut(e){return e==null?"":qut(e)}var Uc=Zut,Xut=bo,Jut=GG,Qut=TEe,edt=Uc;function tdt(e,t){return Xut(e)?e:Jut(e,t)?[e]:Qut(edt(e))}var hw=tdt,ndt=Ry,rdt=1/0;function idt(e){if(typeof e=="string"||ndt(e))return e;var t=e+"";return t=="0"&&1/e==-rdt?"-0":t}var Wy=idt,odt=hw,adt=Wy;function sdt(e,t){t=odt(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[adt(t[n++])];return n&&n==r?e:void 0}var oE=sdt,ldt=pM;function cdt(){this.__data__=new ldt,this.size=0}var udt=cdt;function ddt(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var fdt=ddt;function hdt(e){return this.__data__.get(e)}var pdt=hdt;function mdt(e){return this.__data__.has(e)}var gdt=mdt,ydt=pM,vdt=KG,bdt=YG,xdt=200;function wdt(e,t){var n=this.__data__;if(n instanceof ydt){var r=n.__data__;if(!vdt||r.length<xdt-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new bdt(r)}return n.set(e,t),this.size=n.size,this}var Cdt=wdt,kdt=pM,Sdt=udt,Edt=fdt,_dt=pdt,Tdt=gdt,Adt=Cdt;function pw(e){var t=this.__data__=new kdt(e);this.size=t.size}pw.prototype.clear=Sdt;pw.prototype.delete=Edt;pw.prototype.get=_dt;pw.prototype.has=Tdt;pw.prototype.set=Adt;var ZG=pw,jdt="__lodash_hash_undefined__";function Idt(e){return this.__data__.set(e,jdt),this}var $dt=Idt;function Ddt(e){return this.__data__.has(e)}var Odt=Ddt,Mdt=YG,Pdt=$dt,Rdt=Odt;function P3(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Mdt;++t<n;)this.add(e[t])}P3.prototype.add=P3.prototype.push=Pdt;P3.prototype.has=Rdt;var yM=P3;function Fdt(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ldt=Fdt;function Ndt(e,t){return e.has(t)}var vM=Ndt,Bdt=yM,Vdt=Ldt,zdt=vM,Udt=1,Hdt=2;function Wdt(e,t,n,r,i,o){var a=n&Udt,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(e),d=o.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=n&Hdt?new Bdt:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var g=e[f],y=t[f];if(r)var x=a?r(y,g,f,t,e,o):r(g,y,f,e,t,o);if(x!==void 0){if(x)continue;h=!1;break}if(m){if(!Vdt(t,function(b,v){if(!zdt(m,v)&&(g===b||i(g,b,n,r,o)))return m.push(v)})){h=!1;break}}else if(!(g===y||i(g,y,n,r,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var IEe=Wdt,Gdt=Nc,Kdt=Gdt.Uint8Array,$Ee=Kdt;function Ydt(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var DEe=Ydt;function qdt(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var XG=qdt,xoe=Wx,woe=$Ee,Zdt=iE,Xdt=IEe,Jdt=DEe,Qdt=XG,eft=1,tft=2,nft="[object Boolean]",rft="[object Date]",ift="[object Error]",oft="[object Map]",aft="[object Number]",sft="[object RegExp]",lft="[object Set]",cft="[object String]",uft="[object Symbol]",dft="[object ArrayBuffer]",fft="[object DataView]",Coe=xoe?xoe.prototype:void 0,e8=Coe?Coe.valueOf:void 0;function hft(e,t,n,r,i,o,a){switch(n){case fft:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case dft:return!(e.byteLength!=t.byteLength||!o(new woe(e),new woe(t)));case nft:case rft:case aft:return Zdt(+e,+t);case ift:return e.name==t.name&&e.message==t.message;case sft:case cft:return e==t+"";case oft:var s=Jdt;case lft:var l=r&eft;if(s||(s=Qdt),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=tft,a.set(e,t);var d=Xdt(s(e),s(t),r,i,o,a);return a.delete(e),d;case uft:if(e8)return e8.call(e)==e8.call(t)}return!1}var pft=hft,mft=WG,gft=bo;function yft(e,t,n){var r=t(e);return gft(e)?r:mft(r,n(e))}var OEe=yft;function vft(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}var MEe=vft;function bft(){return[]}var PEe=bft,xft=MEe,wft=PEe,Cft=Object.prototype,kft=Cft.propertyIsEnumerable,koe=Object.getOwnPropertySymbols,Sft=koe?function(e){return e==null?[]:(e=Object(e),xft(koe(e),function(t){return kft.call(e,t)}))}:wft,JG=Sft;function Eft(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var _ft=Eft,R3={exports:{}};function Tft(){return!1}var Aft=Tft;R3.exports;(function(e,t){var n=Nc,r=Aft,i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;e.exports=u})(R3,R3.exports);var bM=R3.exports,jft=9007199254740991,Ift=/^(?:0|[1-9]\d*)$/;function $ft(e,t){var n=typeof e;return t=t??jft,!!t&&(n=="number"||n!="symbol"&&Ift.test(e))&&e>-1&&e%1==0&&e<t}var xM=$ft,Dft=9007199254740991;function Oft(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Dft}var QG=Oft,Mft=tp,Pft=QG,Rft=Ul,Fft="[object Arguments]",Lft="[object Array]",Nft="[object Boolean]",Bft="[object Date]",Vft="[object Error]",zft="[object Function]",Uft="[object Map]",Hft="[object Number]",Wft="[object Object]",Gft="[object RegExp]",Kft="[object Set]",Yft="[object String]",qft="[object WeakMap]",Zft="[object ArrayBuffer]",Xft="[object DataView]",Jft="[object Float32Array]",Qft="[object Float64Array]",eht="[object Int8Array]",tht="[object Int16Array]",nht="[object Int32Array]",rht="[object Uint8Array]",iht="[object Uint8ClampedArray]",oht="[object Uint16Array]",aht="[object Uint32Array]",ci={};ci[Jft]=ci[Qft]=ci[eht]=ci[tht]=ci[nht]=ci[rht]=ci[iht]=ci[oht]=ci[aht]=!0;ci[Fft]=ci[Lft]=ci[Zft]=ci[Nft]=ci[Xft]=ci[Bft]=ci[Vft]=ci[zft]=ci[Uft]=ci[Hft]=ci[Wft]=ci[Gft]=ci[Kft]=ci[Yft]=ci[qft]=!1;function sht(e){return Rft(e)&&Pft(e.length)&&!!ci[Mft(e)]}var lht=sht;function cht(e){return function(t){return e(t)}}var mw=cht,F3={exports:{}};F3.exports;(function(e,t){var n=Awe,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s})(F3,F3.exports);var eK=F3.exports,uht=lht,dht=mw,Soe=eK,Eoe=Soe&&Soe.isTypedArray,fht=Eoe?dht(Eoe):uht,tK=fht,hht=_ft,pht=dM,mht=bo,ght=bM,yht=xM,vht=tK,bht=Object.prototype,xht=bht.hasOwnProperty;function wht(e,t){var n=mht(e),r=!n&&pht(e),i=!n&&!r&&ght(e),o=!n&&!r&&!i&&vht(e),a=n||r||i||o,s=a?hht(e.length,String):[],l=s.length;for(var u in e)(t||xht.call(e,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||yht(u,l)))&&s.push(u);return s}var REe=wht,Cht=Object.prototype;function kht(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Cht;return e===n}var wM=kht;function Sht(e,t){return function(n){return e(t(n))}}var FEe=Sht,Eht=FEe,_ht=Eht(Object.keys,Object),Tht=_ht,Aht=wM,jht=Tht,Iht=Object.prototype,$ht=Iht.hasOwnProperty;function Dht(e){if(!Aht(e))return jht(e);var t=[];for(var n in Object(e))$ht.call(e,n)&&n!="constructor"&&t.push(n);return t}var LEe=Dht,Oht=kEe,Mht=QG;function Pht(e){return e!=null&&Mht(e.length)&&!Oht(e)}var mg=Pht,Rht=REe,Fht=LEe,Lht=mg;function Nht(e){return Lht(e)?Rht(e):Fht(e)}var of=Nht,Bht=OEe,Vht=JG,zht=of;function Uht(e){return Bht(e,zht,Vht)}var NEe=Uht,_oe=NEe,Hht=1,Wht=Object.prototype,Ght=Wht.hasOwnProperty;function Kht(e,t,n,r,i,o){var a=n&Hht,s=_oe(e),l=s.length,u=_oe(t),d=u.length;if(l!=d&&!a)return!1;for(var f=l;f--;){var h=s[f];if(!(a?h in t:Ght.call(t,h)))return!1}var m=o.get(e),g=o.get(t);if(m&&g)return m==t&&g==e;var y=!0;o.set(e,t),o.set(t,e);for(var x=a;++f<l;){h=s[f];var b=e[h],v=t[h];if(r)var w=a?r(v,b,h,t,e,o):r(b,v,h,e,t,o);if(!(w===void 0?b===v||i(b,v,n,r,o):w)){y=!1;break}x||(x=h=="constructor")}if(y&&!x){var C=e.constructor,k=t.constructor;C!=k&&"constructor"in e&&"constructor"in t&&!(typeof C=="function"&&C instanceof C&&typeof k=="function"&&k instanceof k)&&(y=!1)}return o.delete(e),o.delete(t),y}var Yht=Kht,qht=Hy,Zht=Nc,Xht=qht(Zht,"DataView"),Jht=Xht,Qht=Hy,ept=Nc,tpt=Qht(ept,"Promise"),npt=tpt,rpt=Hy,ipt=Nc,opt=rpt(ipt,"Set"),BEe=opt,apt=Hy,spt=Nc,lpt=apt(spt,"WeakMap"),VEe=lpt,FN=Jht,LN=KG,NN=npt,BN=BEe,VN=VEe,zEe=tp,gw=SEe,Toe="[object Map]",cpt="[object Object]",Aoe="[object Promise]",joe="[object Set]",Ioe="[object WeakMap]",$oe="[object DataView]",upt=gw(FN),dpt=gw(LN),fpt=gw(NN),hpt=gw(BN),ppt=gw(VN),Zg=zEe;(FN&&Zg(new FN(new ArrayBuffer(1)))!=$oe||LN&&Zg(new LN)!=Toe||NN&&Zg(NN.resolve())!=Aoe||BN&&Zg(new BN)!=joe||VN&&Zg(new VN)!=Ioe)&&(Zg=function(e){var t=zEe(e),n=t==cpt?e.constructor:void 0,r=n?gw(n):"";if(r)switch(r){case upt:return $oe;case dpt:return Toe;case fpt:return Aoe;case hpt:return joe;case ppt:return Ioe}return t});var yw=Zg,t8=ZG,mpt=IEe,gpt=pft,ypt=Yht,Doe=yw,Ooe=bo,Moe=bM,vpt=tK,bpt=1,Poe="[object Arguments]",Roe="[object Array]",ST="[object Object]",xpt=Object.prototype,Foe=xpt.hasOwnProperty;function wpt(e,t,n,r,i,o){var a=Ooe(e),s=Ooe(t),l=a?Roe:Doe(e),u=s?Roe:Doe(t);l=l==Poe?ST:l,u=u==Poe?ST:u;var d=l==ST,f=u==ST,h=l==u;if(h&&Moe(e)){if(!Moe(t))return!1;a=!0,d=!1}if(h&&!d)return o||(o=new t8),a||vpt(e)?mpt(e,t,n,r,i,o):gpt(e,t,l,n,r,i,o);if(!(n&bpt)){var m=d&&Foe.call(e,"__wrapped__"),g=f&&Foe.call(t,"__wrapped__");if(m||g){var y=m?e.value():e,x=g?t.value():t;return o||(o=new t8),i(y,x,n,r,o)}}return h?(o||(o=new t8),ypt(e,t,n,r,i,o)):!1}var Cpt=wpt,kpt=Cpt,Loe=Ul;function UEe(e,t,n,r,i){return e===t?!0:e==null||t==null||!Loe(e)&&!Loe(t)?e!==e&&t!==t:kpt(e,t,n,r,UEe,i)}var nK=UEe,Spt=ZG,Ept=nK,_pt=1,Tpt=2;function Apt(e,t,n,r){var i=n.length,o=i,a=!r;if(e==null)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=n[i];var l=s[0],u=e[l],d=s[1];if(a&&s[2]){if(u===void 0&&!(l in e))return!1}else{var f=new Spt;if(r)var h=r(u,d,l,e,t,f);if(!(h===void 0?Ept(d,u,_pt|Tpt,r,f):h))return!1}}return!0}var jpt=Apt,Ipt=Lc;function $pt(e){return e===e&&!Ipt(e)}var HEe=$pt,Dpt=HEe,Opt=of;function Mpt(e){for(var t=Opt(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Dpt(i)]}return t}var Ppt=Mpt;function Rpt(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var WEe=Rpt,Fpt=jpt,Lpt=Ppt,Npt=WEe;function Bpt(e){var t=Lpt(e);return t.length==1&&t[0][2]?Npt(t[0][0],t[0][1]):function(n){return n===e||Fpt(n,e,t)}}var Vpt=Bpt,zpt=oE;function Upt(e,t,n){var r=e==null?void 0:zpt(e,t);return r===void 0?n:r}var GEe=Upt;const yr=Ue(GEe);function Hpt(e,t){return e!=null&&t in Object(e)}var Wpt=Hpt,Gpt=hw,Kpt=dM,Ypt=bo,qpt=xM,Zpt=QG,Xpt=Wy;function Jpt(e,t,n){t=Gpt(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var a=Xpt(t[r]);if(!(o=e!=null&&n(e,a)))break;e=e[a]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&Zpt(i)&&qpt(a,i)&&(Ypt(e)||Kpt(e)))}var Qpt=Jpt,emt=Wpt,tmt=Qpt;function nmt(e,t){return e!=null&&tmt(e,t,emt)}var KEe=nmt,rmt=nK,imt=GEe,omt=KEe,amt=GG,smt=HEe,lmt=WEe,cmt=Wy,umt=1,dmt=2;function fmt(e,t){return amt(e)&&smt(t)?lmt(cmt(e),t):function(n){var r=imt(n,e);return r===void 0&&r===t?omt(n,e):rmt(t,r,umt|dmt)}}var hmt=fmt;function pmt(e){return e}var Gy=pmt;const YEe=Ue(Gy);function mmt(e){return function(t){return t==null?void 0:t[e]}}var gmt=mmt,ymt=oE;function vmt(e){return function(t){return ymt(t,e)}}var bmt=vmt,xmt=gmt,wmt=bmt,Cmt=GG,kmt=Wy;function Smt(e){return Cmt(e)?xmt(kmt(e)):wmt(e)}var Emt=Smt,_mt=Vpt,Tmt=hmt,Amt=Gy,jmt=bo,Imt=Emt;function $mt(e){return typeof e=="function"?e:e==null?Amt:typeof e=="object"?jmt(e)?Tmt(e[0],e[1]):_mt(e):Imt(e)}var gg=$mt;function Dmt(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(n(o[l],l,o)===!1)break}return t}}var Omt=Dmt,Mmt=Omt,Pmt=Mmt(),Rmt=Pmt,Fmt=Rmt,Lmt=of;function Nmt(e,t){return e&&Fmt(e,t,Lmt)}var Bmt=Nmt,Vmt=mg;function zmt(e,t){return function(n,r){if(n==null)return n;if(!Vmt(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var Umt=zmt,Hmt=Bmt,Wmt=Umt,Gmt=Wmt(Hmt),qEe=Gmt,Kmt=qEe,Ymt=mg;function qmt(e,t){var n=-1,r=Ymt(e)?Array(e.length):[];return Kmt(e,function(i,o,a){r[++n]=t(i,o,a)}),r}var ZEe=qmt;function Zmt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Xmt=Zmt,Noe=Ry;function Jmt(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,o=Noe(e),a=t!==void 0,s=t===null,l=t===t,u=Noe(t);if(!s&&!u&&!o&&e>t||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&e<t||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var Qmt=Jmt,egt=Qmt;function tgt(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var l=egt(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return e.index-t.index}var ngt=tgt,n8=Gu,rgt=oE,igt=gg,ogt=ZEe,agt=Xmt,sgt=mw,lgt=ngt,cgt=Gy,ugt=bo;function dgt(e,t,n){t.length?t=n8(t,function(o){return ugt(o)?function(a){return rgt(a,o.length===1?o[0]:o)}:o}):t=[cgt];var r=-1;t=n8(t,sgt(igt));var i=ogt(e,function(o,a,s){var l=n8(t,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return agt(i,function(o,a){return lgt(o,a,n)})}var XEe=dgt;function fgt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var JEe=fgt,hgt=JEe,Boe=Math.max;function pgt(e,t,n){return t=Boe(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Boe(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),hgt(e,this,s)}}var QEe=pgt;function mgt(e){return function(){return e}}var ggt=mgt,ygt=Hy,vgt=function(){try{var e=ygt(Object,"defineProperty");return e({},"",{}),e}catch{}}(),e_e=vgt,bgt=ggt,Voe=e_e,xgt=Gy,wgt=Voe?function(e,t){return Voe(e,"toString",{configurable:!0,enumerable:!1,value:bgt(t),writable:!0})}:xgt,Cgt=wgt,kgt=800,Sgt=16,Egt=Date.now;function _gt(e){var t=0,n=0;return function(){var r=Egt(),i=Sgt-(r-n);if(n=r,i>0){if(++t>=kgt)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Tgt=_gt,Agt=Cgt,jgt=Tgt,Igt=jgt(Agt),t_e=Igt,$gt=Gy,Dgt=QEe,Ogt=t_e;function Mgt(e,t){return Ogt(Dgt(e,t,$gt),e+"")}var Ky=Mgt,Pgt=iE,Rgt=mg,Fgt=xM,Lgt=Lc;function Ngt(e,t,n){if(!Lgt(n))return!1;var r=typeof t;return(r=="number"?Rgt(n)&&Fgt(t,n.length):r=="string"&&t in n)?Pgt(n[t],e):!1}var CM=Ngt,Bgt=cw,Vgt=XEe,zgt=Ky,zoe=CM,Ugt=zgt(function(e,t){if(e==null)return[];var n=t.length;return n>1&&zoe(e,t[0],t[1])?t=[]:n>2&&zoe(t[0],t[1],t[2])&&(t=[t[0]]),Vgt(e,Bgt(t,1),[])}),Hgt=Ugt;const yg=Ue(Hgt);function Yy(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function El(e){return Yy(e)&&typeof e._ref=="string"}function Wgt(e){return Yy(e)&&El(e.asset)&&e.asset._ref.startsWith("image-")}function n_e(e){return Yy(e)&&typeof e._ref=="string"&&typeof e._dataset=="string"&&typeof e._projectId=="string"}function Ggt(e){return Yy(e)&&typeof e._id=="string"&&typeof e._type=="string"}function Mm(e){return Yy(e)&&typeof e._type=="string"}function Pu(e){return Yy(e)&&typeof e._key=="string"}function rK(e){return e.level==="error"}function r_e(e){return e.level==="warning"}function Kgt(e){return e.level==="info"}const Ygt=/_key\s*==\s*['"](.*)['"]/,qgt=/^\d*:\d*$/;function rl(e){return typeof e=="number"||typeof e=="string"&&/^\[\d+\]$/.test(e)}function Cr(e){return typeof e=="string"?Ygt.test(e.trim()):typeof e=="object"&&"_key"in e}function Jb(e){if(typeof e=="string"&&qgt.test(e))return!0;if(!Array.isArray(e)||e.length!==2)return!1;const[t,n]=e;return(typeof t=="number"||t==="")&&(typeof n=="number"||n==="")}function Hj(e){return!!e&&(typeof e=="object"||typeof e=="function")}function qa(e){return Hj(e)&&typeof e._type=="string"&&Array.isArray(e.children)&&e.children.every(t=>Hj(t))&&("markDefs"in e?Array.isArray(e.markDefs)&&e.markDefs.every(t=>Hj(t)):!0)&&("style"in e?typeof e.style=="string":!0)}function jl(e){return Hj(e)&&e._type==="span"&&typeof e.text=="string"&&("marks"in e?Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"):!0)}function Ea(e){return!!e&&(typeof e=="object"||typeof e=="function")}function Zgt(e){if(!Qo(e))return!1;let t=e;for(;t;){if(t.name==="document")return!0;t=t.type}return!1}function Qo(e){return Ea(e)?e.jsonType==="object":!1}function sl(e){return Ea(e)?e.jsonType==="array":!1}function P1(e){return sl(e)&&e.of.some(t=>o_e(t))}function sp(e){return sl(e)&&e.of.every(t=>Qo(t))}function kM(e){return sl(e)&&e.of.every(t=>SM(t))}function aE(e){return Ea(e)?e.jsonType==="boolean":!1}function iK(e){return Ea(e)?e.jsonType==="string":!1}function Hm(e){return Ea(e)?e.jsonType==="number":!1}function SM(e){return aE(e)||iK(e)||Hm(e)}function Il(e){return Ea(e)&&(e.name==="reference"||Il(e.type))}function db(e){return Ea(e)&&(e.name==="image"||db(e.type))}function E2(e){return Ea(e)&&(e.name==="file"||E2(e.type))}function i_e(e){return Ea(e)?typeof e.deprecated<"u":!1}function oK(e){return Ea(e)&&(e.name==="crossDatasetReference"||oK(e.type))}function aK(e){return typeof e=="object"&&e!==null&&"title"in e&&"value"in e}function Xgt(e){return Ea(e)?Array.isArray(e.annotations)&&Array.isArray(e.decorators):!1}function o_e(e){if(!Ea(e)||!Array.isArray(e.fields))return!1;const t=e.fields.find(Woe),n=e.fields.find(Uoe),r=e.fields.find(Hoe);return Woe(t)&&Uoe(n)&&Hoe(r)}function Uoe(e){return!Ea(e)||e.name!=="style"?!1:Ea(e.type)&&e.type.jsonType==="string"}function Hoe(e){return!Ea(e)||e.name!=="listItem"?!1:Ea(e.type)&&e.type.jsonType==="string"}function Woe(e){return!Ea(e)||e.name!=="children"||!sl(e.type)?!1:e.type.of.some(Xgt)}function sK(e,t){return e}function qs(e,t){return e}function Jgt(e,t){return e}function Qgt(e){return Yy(e)&&typeof e.current=="string"}function e1t(e){return e.level==="error"}function t1t(e){return e.level==="warning"}/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function L3(){return L3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L3.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function N3(){return N3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N3.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function F0(e,t,n){var r,i=(r=n.initialDeps)!=null?r:[],o;return function(){var a;n.key&&n.debug!=null&&n.debug()&&(a=Date.now());var s=e(),l=s.length!==i.length||s.some(function(g,y){return i[y]!==g});if(!l)return o;i=s;var u;if(n.key&&n.debug!=null&&n.debug()&&(u=Date.now()),o=t.apply(void 0,s),n.key&&n.debug!=null&&n.debug()){var d=Math.round((Date.now()-a)*100)/100,f=Math.round((Date.now()-u)*100)/100,h=f/16,m=function(y,x){for(y=String(y);y.length<x;)y=" "+y;return y};console.info("%c "+m(f,5)+" /"+m(d,5)+" ms",`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(`+Math.max(0,Math.min(120-120*h,120))+"deg 100% 31%);",n==null?void 0:n.key)}return n==null||n.onChange==null||n.onChange(o),o}}function r8(e,t){if(e===void 0)throw new Error("Unexpected undefined"+(t?": "+t:""));return e}var n1t=function(t,n){return Math.abs(t-n)<1};/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var r1t=function(t){return t},a_e=function(t){for(var n=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),i=[],o=n;o<=r;o++)i.push(o);return i},i1t=function(t,n){var r=t.scrollElement;if(r){var i=function(s){var l=s.width,u=s.height;n({width:Math.round(l),height:Math.round(u)})};i(r.getBoundingClientRect());var o=new ResizeObserver(function(a){var s=a[0];if(s!=null&&s.borderBoxSize){var l=s.borderBoxSize[0];if(l){i({width:l.inlineSize,height:l.blockSize});return}}i(r.getBoundingClientRect())});return o.observe(r,{box:"border-box"}),function(){o.unobserve(r)}}},o1t=function(t,n){var r=t.scrollElement;if(r){var i=function(){n(r[t.options.horizontal?"scrollLeft":"scrollTop"])};return i(),r.addEventListener("scroll",i,{passive:!0}),function(){r.removeEventListener("scroll",i)}}},a1t=function(t,n,r){if(n!=null&&n.borderBoxSize){var i=n.borderBoxSize[0];if(i){var o=Math.round(i[r.options.horizontal?"inlineSize":"blockSize"]);return o}}return Math.round(t.getBoundingClientRect()[r.options.horizontal?"width":"height"])},s_e=function(t,n,r){var i,o,a=n.adjustments,s=a===void 0?0:a,l=n.behavior,u=t+s;(i=r.scrollElement)==null||i.scrollTo==null||i.scrollTo((o={},o[r.options.horizontal?"left":"top"]=u,o.behavior=l,o))},s1t=function(t){var n=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=function(){var r=null,i=function(){return r||(typeof ResizeObserver<"u"?r=new ResizeObserver(function(a){a.forEach(function(s){n._measureElement(s.target,s)})}):null)};return{disconnect:function(){var a;return(a=i())==null?void 0:a.disconnect()},observe:function(a){var s;return(s=i())==null?void 0:s.observe(a,{box:"border-box"})},unobserve:function(a){var s;return(s=i())==null?void 0:s.unobserve(a)}}}(),this.range={startIndex:0,endIndex:0},this.setOptions=function(r){Object.entries(r).forEach(function(i){var o=i[0],a=i[1];typeof a>"u"&&delete r[o]}),n.options=N3({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:r1t,rangeExtractor:a_e,onChange:function(){},measureElement:a1t,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},r)},this.notify=function(){n.options.onChange==null||n.options.onChange(n)},this.cleanup=function(){n.unsubs.filter(Boolean).forEach(function(r){return r()}),n.unsubs=[],n.scrollElement=null},this._didMount=function(){return n.measureElementCache.forEach(n.observer.observe),function(){n.observer.disconnect(),n.cleanup()}},this._willUpdate=function(){var r=n.options.getScrollElement();n.scrollElement!==r&&(n.cleanup(),n.scrollElement=r,n._scrollToOffset(n.scrollOffset,{adjustments:void 0,behavior:void 0}),n.unsubs.push(n.options.observeElementRect(n,function(i){var o=n.scrollRect;n.scrollRect=i,(n.options.horizontal?i.width!==o.width:i.height!==o.height)&&n.maybeNotify()})),n.unsubs.push(n.options.observeElementOffset(n,function(i){n.scrollAdjustments=0,n.scrollOffset!==i&&(n.isScrollingTimeoutId!==null&&(clearTimeout(n.isScrollingTimeoutId),n.isScrollingTimeoutId=null),n.isScrolling=!0,n.scrollDirection=n.scrollOffset<i?"forward":"backward",n.scrollOffset=i,n.maybeNotify(),n.isScrollingTimeoutId=setTimeout(function(){n.isScrollingTimeoutId=null,n.isScrolling=!1,n.scrollDirection=null,n.maybeNotify()},n.options.scrollingDelay))})))},this.getSize=function(){return n.scrollRect[n.options.horizontal?"width":"height"]},this.memoOptions=F0(function(){return[n.options.count,n.options.paddingStart,n.options.scrollMargin,n.options.getItemKey]},function(r,i,o,a){return n.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:i,scrollMargin:o,getItemKey:a}},{key:!1}),this.getFurthestMeasurement=function(r,i){for(var o=new Map,a=new Map,s=i-1;s>=0;s--){var l=r[s];if(!o.has(l.lane)){var u=a.get(l.lane);if(u==null||l.end>u.end?a.set(l.lane,l):l.end<u.end&&o.set(l.lane,!0),o.size===n.options.lanes)break}}return a.size===n.options.lanes?Array.from(a.values()).sort(function(d,f){return d.end-f.end})[0]:void 0},this.getMeasurements=F0(function(){return[n.memoOptions(),n.itemSizeCache]},function(r,i){var o=r.count,a=r.paddingStart,s=r.scrollMargin,l=r.getItemKey,u=n.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,n.pendingMeasuredCacheIndexes):0;n.pendingMeasuredCacheIndexes=[];for(var d=n.measurementsCache.slice(0,u),f=u;f<o;f++){var h=l(f),m=n.options.lanes===1?d[f-1]:n.getFurthestMeasurement(d,f),g=m?m.end:a+s,y=i.get(h),x=typeof y=="number"?y:n.options.estimateSize(f),b=g+x,v=m?m.lane:f%n.options.lanes;d[f]={index:f,start:g,size:x,end:b,key:h,lane:v}}return n.measurementsCache=d,d},{key:!1,debug:function(){return n.options.debug}}),this.calculateRange=F0(function(){return[n.getMeasurements(),n.getSize(),n.scrollOffset]},function(r,i,o){return n.range=l1t({measurements:r,outerSize:i,scrollOffset:o})},{key:!1,debug:function(){return n.options.debug}}),this.maybeNotify=F0(function(){var r=n.calculateRange();return[r.startIndex,r.endIndex,n.isScrolling]},function(){n.notify()},{key:!1,debug:function(){return n.options.debug},initialDeps:[this.range.startIndex,this.range.endIndex,this.isScrolling]}),this.getIndexes=F0(function(){return[n.options.rangeExtractor,n.calculateRange(),n.options.overscan,n.options.count]},function(r,i,o,a){return r(N3({},i,{overscan:o,count:a}))},{key:!1,debug:function(){return n.options.debug}}),this.indexFromElement=function(r){var i=n.options.indexAttribute,o=r.getAttribute(i);return o?parseInt(o,10):(console.warn("Missing attribute name '"+i+"={index}' on measured element."),-1)},this._measureElement=function(r,i){var o,a=n.indexFromElement(r),s=n.measurementsCache[a];if(s){var l=n.measureElementCache.get(s.key);if(!r.isConnected){n.observer.unobserve(r),r===l&&n.measureElementCache.delete(s.key);return}l!==r&&(l&&n.observer.unobserve(l),n.observer.observe(r),n.measureElementCache.set(s.key,r));var u=n.options.measureElement(r,i,n),d=(o=n.itemSizeCache.get(s.key))!=null?o:s.size,f=u-d;f!==0&&(s.start<n.scrollOffset&&n._scrollToOffset(n.scrollOffset,{adjustments:n.scrollAdjustments+=f,behavior:void 0}),n.pendingMeasuredCacheIndexes.push(a),n.itemSizeCache=new Map(n.itemSizeCache.set(s.key,u)),n.notify())}},this.measureElement=function(r){r&&n._measureElement(r,void 0)},this.getVirtualItems=F0(function(){return[n.getIndexes(),n.getMeasurements()]},function(r,i){for(var o=[],a=0,s=r.length;a<s;a++){var l=r[a],u=i[l];o.push(u)}return o},{key:!1,debug:function(){return n.options.debug}}),this.getVirtualItemForOffset=function(r){var i=n.getMeasurements();return r8(i[l_e(0,i.length-1,function(o){return r8(i[o]).start},r)])},this.getOffsetForAlignment=function(r,i){var o=n.getSize();i==="auto"&&(r<=n.scrollOffset?i="start":r>=n.scrollOffset+o?i="end":i="start"),i==="start"?r=r:i==="end"?r=r-o:i==="center"&&(r=r-o/2);var a=n.options.horizontal?"scrollWidth":"scrollHeight",s=n.scrollElement?"document"in n.scrollElement?n.scrollElement.document.documentElement[a]:n.scrollElement[a]:0,l=s-n.getSize();return Math.max(Math.min(l,r),0)},this.getOffsetForIndex=function(r,i){i===void 0&&(i="auto"),r=Math.max(0,Math.min(r,n.options.count-1));var o=r8(n.getMeasurements()[r]);if(i==="auto")if(o.end>=n.scrollOffset+n.getSize()-n.options.scrollPaddingEnd)i="end";else if(o.start<=n.scrollOffset+n.options.scrollPaddingStart)i="start";else return[n.scrollOffset,i];var a=i==="end"?o.end+n.options.scrollPaddingEnd:o.start-n.options.scrollPaddingStart;return[n.getOffsetForAlignment(a,i),i]},this.isDynamicMode=function(){return n.measureElementCache.size>0},this.cancelScrollToIndex=function(){n.scrollToIndexTimeoutId!==null&&(clearTimeout(n.scrollToIndexTimeoutId),n.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(r,i){var o=i===void 0?{}:i,a=o.align,s=a===void 0?"start":a,l=o.behavior;n.cancelScrollToIndex(),l==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.getOffsetForAlignment(r,s),{adjustments:void 0,behavior:l})},this.scrollToIndex=function(r,i){var o=i===void 0?{}:i,a=o.align,s=a===void 0?"auto":a,l=o.behavior;r=Math.max(0,Math.min(r,n.options.count-1)),n.cancelScrollToIndex(),l==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var u=n.getOffsetForIndex(r,s),d=u[0],f=u[1];n._scrollToOffset(d,{adjustments:void 0,behavior:l}),l!=="smooth"&&n.isDynamicMode()&&(n.scrollToIndexTimeoutId=setTimeout(function(){n.scrollToIndexTimeoutId=null;var h=n.measureElementCache.has(n.options.getItemKey(r));if(h){var m=n.getOffsetForIndex(r,f),g=m[0];n1t(g,n.scrollOffset)||n.scrollToIndex(r,{align:f,behavior:l})}else n.scrollToIndex(r,{align:f,behavior:l})}))},this.scrollBy=function(r,i){var o=i===void 0?{}:i,a=o.behavior;n.cancelScrollToIndex(),a==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.scrollOffset+r,{adjustments:void 0,behavior:a})},this.getTotalSize=function(){var r;return(((r=n.getMeasurements()[n.options.count-1])==null?void 0:r.end)||n.options.paddingStart)-n.options.scrollMargin+n.options.paddingEnd},this._scrollToOffset=function(r,i){var o=i.adjustments,a=i.behavior;n.options.scrollToFn(r,{behavior:a,adjustments:o},n)},this.measure=function(){n.itemSizeCache=new Map,n.notify()},this.setOptions(t),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(function(r){n.itemSizeCache.set(r.key,r.size)}),this.maybeNotify()},l_e=function(t,n,r,i){for(;t<=n;){var o=(t+n)/2|0,a=r(o);if(a<i)t=o+1;else if(a>i)n=o-1;else return o}return t>0?t-1:0};function l1t(e){for(var t=e.measurements,n=e.outerSize,r=e.scrollOffset,i=t.length-1,o=function(u){return t[u].start},a=l_e(0,i,o,r),s=a;s<i&&t[s].end<r+n;)s++;return{startIndex:a,endIndex:s}}/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var c1t=typeof document<"u"?p.useLayoutEffect:p.useEffect;function u1t(e){var t=p.useReducer(function(){return{}},{})[1],n=L3({},e,{onChange:function(a){t(),e.onChange==null||e.onChange(a)}}),r=p.useState(function(){return new s1t(n)}),i=r[0];return i.setOptions(n),p.useEffect(function(){return i._didMount()},[]),c1t(function(){return i._willUpdate()}),i}function lK(e){return u1t(L3({observeElementRect:i1t,observeElementOffset:o1t,scrollToFn:s_e},e))}var d1t=Dwe,f1t=Lc,h1t="Expected a function";function p1t(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(h1t);return f1t(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),d1t(e,t,{leading:r,maxWait:t,trailing:i})}var m1t=p1t;const sE=Ue(m1t),Wm=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"access-denied",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M18.1568 6.84315C21.281 9.96734 21.281 15.0327 18.1568 18.1569C15.0326 21.281 9.96733 21.281 6.84313 18.1569C3.71894 15.0327 3.71894 9.96734 6.84313 6.84315C9.96733 3.71895 15.0326 3.71895 18.1568 6.84315ZM18.1568 6.84315L6.844 18.156",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),g1t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"activity",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M21 15H19L15.5 7L11 18L8 12L6 15H4",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),zN=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"add-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M8 12.4H17M12.5 8V17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),cK=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"add-comment",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M13 6.5H7.5C6.39543 6.5 5.5 7.39543 5.5 8.5V14.5C5.5 15.6046 6.39543 16.5 7.5 16.5H9.5V20.5L13.5 16.5H16.5C17.6046 16.5 18.5 15.6046 18.5 14.5V12M15 6.5H22M18.5 10V3",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),lE=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"add-document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 4.5H18.5V12M11.5 4.5L6.5 9.5M11.5 4.5V9.5H6.5M6.5 9.5V19.5H11M20 17.5H16.5M16.5 17.5H13M16.5 17.5V14M16.5 17.5V21",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),ca=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"add",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M12.5 5V20M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),EM=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"add-user",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M7.17857 15.2368C6.10714 15.7632 4.5 16.8158 4.5 20.5H19.5C19.5 16.8158 18.2589 15.943 16.8214 15.2368C15.75 14.7105 13.6071 14.7105 13.6071 13.1316C13.6071 11.5526 14.6786 10.7632 14.6786 8.65789C14.6786 6.55263 13.6071 5.5 12 5.5C10.3929 5.5 9.32142 6.55263 9.32142 8.65789C9.32142 10.7632 10.3929 11.5526 10.3929 13.1316C10.3929 14.7105 8.25 14.7105 7.17857 15.2368Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M20.5 6V13M17 9.5H24",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),y1t=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"api",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M5.93047 13.2107L6.66782 10.3728H6.73089L7.45854 13.2107H5.93047ZM8.17164 16H9.66089L7.56041 9H5.93047L3.82999 16H5.20767L5.65396 14.2876H7.73505L8.17164 16Z",fill:"currentColor"}),c.jsx("path",{d:"M10.5389 9V16H11.9166V13.7782H13.0323C14.541 13.7782 15.5015 12.8517 15.5015 11.3964C15.5015 9.92654 14.5701 9 13.1003 9H10.5389ZM11.9166 10.1303H12.751C13.6533 10.1303 14.1044 10.5475 14.1044 11.3867C14.1044 12.2308 13.6533 12.6431 12.751 12.6431H11.9166V10.1303Z",fill:"currentColor"}),c.jsx("path",{d:"M21.1675 16V14.8164H19.717V10.1836H21.1675V9H16.8889V10.1836H18.3393V14.8164H16.8889V16H21.1675Z",fill:"currentColor"})]})}),v1t=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"archive",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M12.5 10V17M20.5 7.5V20.5H4.5V7.5L7.5 4.5H17.5L20.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M4.5 7.5H20.5M16 14L12.5 17.5L9 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),c_e=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"arrow-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M12.5 19.5V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M18 14L12.5 19.5L7 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),cE=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"arrow-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M5.5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11 18L5.5 12.5L11 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),u_e=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M19.5 12.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M14 7L19.5 12.5L14 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),b1t=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"arrow-top-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M16.5 8.5L7 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M9 8.5H16.5V16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),x1t=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"arrow-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M7 11L12.5 5.5L18 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M12.5 5.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),w1t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"asterisk",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M12.5 4V21M16.75 5.13879L8.25 19.8612M19.8612 8.25L5.13878 16.75M4.00002 12.5H21M5.13881 8.25L19.8612 16.75M8.25002 5.13879L16.75 19.8612",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),C1t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"bar-chart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M5.5 5V19.5H20M8.5 18V13M11.5 18V9M14.5 18V11M17.5 18V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),k1t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"basket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M8.5 10.5H5L6.5 19.5H18.5L20 10.5H16.5M8.5 10.5L10.2721 5.18377C10.4082 4.77543 10.7903 4.5 11.2208 4.5H13.7792C14.2097 4.5 14.5918 4.77543 14.7279 5.18377L16.5 10.5M8.5 10.5H16.5M8.5 10.5L9.5 19.5M16.5 10.5L15.5 19.5M12.5 10.5V19.5M19.5 13.5H5.5M19 16.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),S1t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"bell",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M10.5 17.5V18.5C10.5 20 11.5 20.5 12.5 20.5C13.5 20.5 14.5 20 14.5 18.5V17.5M5.5 17.5C6.5 16 6.5 15 6.5 12C6.5 8 8.5 5.5 12.5 5.5C16.5 5.5 18.5 8 18.5 12C18.5 15 18.5 16 19.5 17.5H5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),E1t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"bill",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M6.50001 5.5C8.50003 5.5 8.50003 8 8.50003 8V9.5M6.50001 5.5C4.5 5.5 4.5 8 4.5 8L4.50001 9.5H8.50003M6.50001 5.5C6.50001 5.5 15.8333 5.5 17.6667 5.5C19.5 5.5 19.5 8.5 19.5 8.5V20L17.6667 19L15.8333 20L14 19L12.1667 20L10.3334 19L8.50003 20V9.5M11 12.5H15M11 9.5H16M11 15.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),uE=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"binary-document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M9.5 12.5V17.5M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM12.5 12.5V17.5H15.5V12.5H12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})]})}),d_e=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"block-content",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 7.60002L11 7.60003V6.40003L21 6.40002V7.60002Z",fill:"currentColor"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 11.2667L12.4833 11.2667V10.0667L21 10.0667V11.2667Z",fill:"currentColor"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 14.9334H13.9254V13.7334L21 13.7334V14.9334Z",fill:"currentColor"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 18.6002H4V17.4002H21V18.6002Z",fill:"currentColor"}),c.jsx("path",{d:"M9.86438 15.6H11.2L8.27623 7.60003H6.92377L4 15.6H5.29072L6.0371 13.4767H9.12362L9.86438 15.6ZM7.53546 9.05255H7.63086L8.80374 12.4344H6.35698L7.53546 9.05255Z",fill:"currentColor"})]})}),f_e=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"block-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M5 19.5H20M5 5.5H20M6.5 8.5H18.5V16.5H6.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_1t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"blockquote",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M10 17.5H19M6 7.5H19M10 12.5H17M6.5 12V18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),h_e=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"bold",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M13.2087 18C15.5322 18 16.9731 16.793 16.9731 14.8844C16.9731 13.4812 15.9245 12.3949 14.4836 12.2892V12.1534C15.6001 11.9875 16.4526 10.9841 16.4526 9.82991C16.4526 8.14761 15.1927 7.11409 13.0804 7.11409H8.32019V18H13.2087ZM10.5985 8.85674H12.4995C13.5859 8.85674 14.212 9.37727 14.212 10.2448C14.212 11.1199 13.5406 11.6254 12.3109 11.6254H10.5985V8.85674ZM10.5985 16.2574V13.1643H12.575C13.9178 13.1643 14.6496 13.6924 14.6496 14.6882C14.6496 15.7066 13.9404 16.2574 12.6278 16.2574H10.5985Z",fill:"currentColor"})})}),uK=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"bolt",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M18 11.5L9 21L11 13.5H7L16 4L14 11.5H18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),T1t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"book",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M19.5 18V7C19.5 7 18.5 6.5 16.5 6.5C14.5 6.5 12.5 7.5 12.5 7.5M19.5 18V18.5C19.5 18.5 18 18.5 16 18.5C14 18.5 12.5 18.5 12.5 18.5M19.5 18C19.5 18 18.5 17.5 16.5 17.5C14.5 17.5 12.5 18.5 12.5 18.5M5.5 18V7C5.5 7 6.5 6.5 8.5 6.5C10.5 6.5 12.5 7.5 12.5 7.5M5.5 18V18.5C5.5 18.5 7 18.5 9 18.5C11 18.5 12.5 18.5 12.5 18.5M5.5 18C5.5 18 6.5 17.5 8.5 17.5C10.5 17.5 12.5 18.5 12.5 18.5M12.5 18.5V7.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),A1t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"bookmark-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M7.5 6.5V19.5L12.5 14.5L17.5 19.5V6.5C17.5 5.94772 17.0523 5.5 16.5 5.5H8.5C7.94772 5.5 7.5 5.94772 7.5 6.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),j1t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"bookmark",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M7.5 6.5V19.5L12.5 14.5L17.5 19.5V6.5C17.5 5.94772 17.0523 5.5 16.5 5.5H8.5C7.94772 5.5 7.5 5.94772 7.5 6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),I1t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"bottle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M7.5 17.5L17.5 17.5M17.5 13C17.5 12.087 17.5 11.3518 17.5 11C17.5 8.5 14.5 9 14.5 7.37494L14.5 5.5M17.5 13C17.5 15.1229 17.5 18.7543 17.5 20.5022C17.5 21.0545 17.0523 21.5 16.5 21.5L8.5 21.5C7.94772 21.5 7.5 21.0547 7.5 20.5024C7.5 18.8157 7.5 15.3546 7.5 13M17.5 13L7.5 13M7.5 13C7.5 12.2538 7.5 11.5648 7.5 11C7.5 8.5 10.5 9 10.5 7.37494L10.5 5.5M10.5 5.5L10.5 3.99999C10.5 3.72385 10.7239 3.49999 11 3.49999L14 3.49999C14.2761 3.49999 14.5 3.72385 14.5 3.99999L14.5 5.5M10.5 5.5L14.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$1t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"bug",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M8.5 9.5V8.9C8.16863 8.9 7.9 9.16863 7.9 9.5H8.5ZM16.5 9.5H17.1C17.1 9.16863 16.8314 8.9 16.5 8.9V9.5ZM8.5 10.1H9.5V8.9H8.5V10.1ZM9.5 10.1H15.5V8.9H9.5V10.1ZM15.5 10.1H16.5V8.9H15.5V10.1ZM15.9 9.5V13.5H17.1V9.5H15.9ZM15.9 13.5C15.9 14.395 15.678 15.0264 15.3758 15.4797C15.0711 15.9367 14.6605 16.2489 14.2317 16.4633C13.8005 16.6789 13.3621 16.7897 13.0264 16.8457C12.8599 16.8734 12.7226 16.887 12.6291 16.8937C12.5825 16.897 12.5472 16.8986 12.5249 16.8994C12.5138 16.8997 12.506 16.8999 12.5018 16.9C12.4997 16.9 12.4984 16.9 12.4981 16.9C12.498 16.9 12.4981 16.9 12.4984 16.9C12.4985 16.9 12.4987 16.9 12.499 16.9C12.4991 16.9 12.4994 16.9 12.4995 16.9C12.4997 16.9 12.5 16.9 12.5 17.5C12.5 18.1 12.5003 18.1 12.5006 18.1C12.5008 18.1 12.5011 18.1 12.5014 18.1C12.5019 18.1 12.5025 18.1 12.5031 18.1C12.5044 18.1 12.5059 18.1 12.5077 18.1C12.5112 18.0999 12.5157 18.0999 12.5212 18.0998C12.532 18.0996 12.5467 18.0993 12.5649 18.0987C12.6013 18.0975 12.6519 18.0951 12.7146 18.0907C12.8399 18.0817 13.0151 18.0641 13.2236 18.0293C13.6379 17.9603 14.1995 17.8211 14.7683 17.5367C15.3395 17.2511 15.9289 16.8133 16.3742 16.1453C16.822 15.4736 17.1 14.605 17.1 13.5H15.9ZM12.5 17.5C12.5 16.9 12.5003 16.9 12.5005 16.9C12.5006 16.9 12.5009 16.9 12.501 16.9C12.5013 16.9 12.5015 16.9 12.5016 16.9C12.5019 16.9 12.502 16.9 12.5019 16.9C12.5016 16.9 12.5003 16.9 12.4982 16.9C12.494 16.8999 12.4862 16.8997 12.4751 16.8994C12.4528 16.8986 12.4175 16.897 12.3709 16.8937C12.2774 16.887 12.1401 16.8734 11.9736 16.8457C11.6379 16.7897 11.1995 16.6789 10.7683 16.4633C10.3395 16.2489 9.92894 15.9367 9.62423 15.4797C9.32203 15.0264 9.1 14.395 9.1 13.5H7.9C7.9 14.605 8.17797 15.4736 8.62577 16.1453C9.07106 16.8133 9.66049 17.2511 10.2317 17.5367C10.8005 17.8211 11.3621 17.9603 11.7764 18.0293C11.9849 18.0641 12.1601 18.0817 12.2854 18.0907C12.3481 18.0951 12.3987 18.0975 12.4351 18.0987C12.4533 18.0993 12.468 18.0996 12.4788 18.0998C12.4843 18.0999 12.4888 18.0999 12.4923 18.1C12.4941 18.1 12.4956 18.1 12.4969 18.1C12.4975 18.1 12.4981 18.1 12.4986 18.1C12.4989 18.1 12.4992 18.1 12.4994 18.1C12.4997 18.1 12.5 18.1 12.5 17.5ZM9.1 13.5V9.5H7.9V13.5H9.1ZM9.5 9.5C10.1 9.5 10.1 9.50028 10.1 9.50055C10.1 9.50063 10.1 9.50089 10.1 9.50104C10.1 9.50134 10.1 9.5016 10.1 9.50182C10.1 9.50225 10.1 9.5025 10.1 9.50259C10.1 9.50276 10.1 9.50224 10.1 9.50107C10.1001 9.49872 10.1002 9.49374 10.1004 9.4863C10.1009 9.4714 10.102 9.44678 10.1043 9.41384C10.1091 9.34776 10.1188 9.24944 10.1387 9.12989C10.179 8.88793 10.2586 8.5745 10.4117 8.26833C10.5636 7.96451 10.782 7.67894 11.0984 7.46798C11.4111 7.25953 11.855 7.1 12.5 7.1V5.9C11.645 5.9 10.9639 6.11547 10.4328 6.46952C9.90549 6.82106 9.56143 7.28549 9.33834 7.73167C9.11643 8.1755 9.00846 8.61207 8.95504 8.93261C8.92809 9.09431 8.91438 9.23036 8.90738 9.32835C8.90388 9.37744 8.90203 9.41727 8.90107 9.44632C8.90058 9.46085 8.90031 9.47272 8.90017 9.48172C8.9001 9.48622 8.90005 9.49001 8.90003 9.49306C8.90002 9.49459 8.90001 9.49593 8.90001 9.49709C8.9 9.49767 8.9 9.4982 8.9 9.49869C8.9 9.49893 8.9 9.49926 8.9 9.49938C8.9 9.4997 8.9 9.5 9.5 9.5ZM12.5 7.1C13.145 7.1 13.5889 7.25953 13.9016 7.46798C14.218 7.67894 14.4364 7.96451 14.5883 8.26833C14.7414 8.5745 14.821 8.88793 14.8613 9.12989C14.8812 9.24944 14.8909 9.34776 14.8957 9.41384C14.898 9.44678 14.8991 9.4714 14.8996 9.4863C14.8998 9.49374 14.8999 9.49872 14.9 9.50107C14.9 9.50224 14.9 9.50276 14.9 9.50259C14.9 9.5025 14.9 9.50225 14.9 9.50182C14.9 9.5016 14.9 9.50134 14.9 9.50104C14.9 9.50089 14.9 9.50063 14.9 9.50055C14.9 9.50028 14.9 9.5 15.5 9.5C16.1 9.5 16.1 9.4997 16.1 9.49938C16.1 9.49926 16.1 9.49893 16.1 9.49869C16.1 9.4982 16.1 9.49767 16.1 9.49709C16.1 9.49593 16.1 9.49459 16.1 9.49306C16.0999 9.49001 16.0999 9.48622 16.0998 9.48172C16.0997 9.47272 16.0994 9.46085 16.0989 9.44632C16.098 9.41727 16.0961 9.37744 16.0926 9.32835C16.0856 9.23036 16.0719 9.09431 16.045 8.93261C15.9915 8.61207 15.8836 8.1755 15.6617 7.73167C15.4386 7.28549 15.0945 6.82106 14.5672 6.46952C14.0361 6.11547 13.355 5.9 12.5 5.9V7.1ZM11.9 9.5V17.5H13.1V9.5H11.9ZM8.5 9.9C7.71525 9.9 7.10887 9.51034 6.67426 9.07574C6.45859 8.86006 6.29547 8.64279 6.18673 8.47968C6.1327 8.39863 6.09302 8.33235 6.06782 8.28825C6.05524 8.26624 6.04634 8.24988 6.04113 8.24011C6.03853 8.23523 6.03685 8.232 6.0361 8.23055C6.03573 8.22983 6.03559 8.22955 6.03568 8.22973C6.03573 8.22982 6.03583 8.23003 6.03599 8.23035C6.03607 8.23051 6.03617 8.2307 6.03628 8.23092C6.03634 8.23103 6.03643 8.23122 6.03646 8.23127C6.03656 8.23147 6.03666 8.23167 5.5 8.5C4.96334 8.76833 4.96345 8.76855 4.96357 8.76877C4.96361 8.76886 4.96372 8.76909 4.96381 8.76926C4.96398 8.7696 4.96417 8.76997 4.96437 8.77038C4.96478 8.77119 4.96525 8.77212 4.96579 8.77317C4.96685 8.77527 4.96818 8.77786 4.96976 8.78092C4.97292 8.78704 4.9771 8.79505 4.98231 8.80481C4.99272 8.82434 5.00726 8.85094 5.02593 8.88362C5.06323 8.9489 5.1173 9.03887 5.18827 9.14532C5.32953 9.35721 5.54141 9.63994 5.82574 9.92426C6.39113 10.4897 7.28475 11.1 8.5 11.1V9.9ZM16.5 11.1C17.7153 11.1 18.6089 10.4897 19.1743 9.92426C19.4586 9.63994 19.6705 9.35721 19.8117 9.14532C19.8827 9.03887 19.9368 8.9489 19.9741 8.88362C19.9927 8.85094 20.0073 8.82434 20.0177 8.80481C20.0229 8.79505 20.0271 8.78704 20.0302 8.78092C20.0318 8.77786 20.0331 8.77527 20.0342 8.77317C20.0347 8.77212 20.0352 8.77119 20.0356 8.77038C20.0358 8.76997 20.036 8.7696 20.0362 8.76926C20.0363 8.76909 20.0364 8.76886 20.0364 8.76877C20.0365 8.76855 20.0367 8.76833 19.5 8.5C18.9633 8.23167 18.9634 8.23147 18.9635 8.23127C18.9636 8.23122 18.9637 8.23103 18.9637 8.23092C18.9638 8.2307 18.9639 8.23051 18.964 8.23035C18.9642 8.23003 18.9643 8.22982 18.9643 8.22973C18.9644 8.22955 18.9643 8.22983 18.9639 8.23055C18.9632 8.232 18.9615 8.23523 18.9589 8.24011C18.9537 8.24988 18.9448 8.26624 18.9322 8.28825C18.907 8.33235 18.8673 8.39863 18.8133 8.47968C18.7045 8.64279 18.5414 8.86006 18.3257 9.07574C17.8911 9.51034 17.2847 9.9 16.5 9.9V11.1ZM16.5 13.1H20V11.9H16.5V13.1ZM16.5 15.1C17.2847 15.1 17.8911 15.4897 18.3257 15.9243C18.5414 16.1399 18.7045 16.3572 18.8133 16.5203C18.8673 16.6014 18.907 16.6676 18.9322 16.7117C18.9448 16.7338 18.9537 16.7501 18.9589 16.7599C18.9615 16.7648 18.9632 16.768 18.9639 16.7694C18.9643 16.7702 18.9644 16.7705 18.9643 16.7703C18.9643 16.7702 18.9642 16.77 18.964 16.7697C18.9639 16.7695 18.9638 16.7693 18.9637 16.7691C18.9637 16.769 18.9636 16.7688 18.9635 16.7687C18.9634 16.7685 18.9633 16.7683 19.5 16.5C20.0367 16.2317 20.0365 16.2315 20.0364 16.2312C20.0364 16.2311 20.0363 16.2309 20.0362 16.2307C20.036 16.2304 20.0358 16.23 20.0356 16.2296C20.0352 16.2288 20.0347 16.2279 20.0342 16.2268C20.0331 16.2247 20.0318 16.2221 20.0302 16.2191C20.0271 16.213 20.0229 16.205 20.0177 16.1952C20.0073 16.1757 19.9927 16.1491 19.9741 16.1164C19.9368 16.0511 19.8827 15.9611 19.8117 15.8547C19.6705 15.6428 19.4586 15.3601 19.1743 15.0757C18.6089 14.5103 17.7153 13.9 16.5 13.9V15.1ZM8.5 13.9C7.28475 13.9 6.39113 14.5103 5.82574 15.0757C5.54141 15.3601 5.32953 15.6428 5.18827 15.8547C5.1173 15.9611 5.06323 16.0511 5.02593 16.1164C5.00726 16.1491 4.99272 16.1757 4.98231 16.1952C4.9771 16.205 4.97292 16.213 4.96976 16.2191C4.96818 16.2221 4.96685 16.2247 4.96579 16.2268C4.96525 16.2279 4.96478 16.2288 4.96437 16.2296C4.96417 16.23 4.96398 16.2304 4.96381 16.2307C4.96372 16.2309 4.96361 16.2311 4.96357 16.2312C4.96345 16.2315 4.96334 16.2317 5.5 16.5C6.03666 16.7683 6.03656 16.7685 6.03646 16.7687C6.03643 16.7688 6.03634 16.769 6.03628 16.7691C6.03617 16.7693 6.03607 16.7695 6.03599 16.7697C6.03583 16.77 6.03573 16.7702 6.03568 16.7703C6.03559 16.7705 6.03573 16.7702 6.0361 16.7694C6.03685 16.768 6.03853 16.7648 6.04113 16.7599C6.04634 16.7501 6.05524 16.7338 6.06782 16.7117C6.09302 16.6676 6.1327 16.6014 6.18673 16.5203C6.29547 16.3572 6.45859 16.1399 6.67426 15.9243C7.10887 15.4897 7.71525 15.1 8.5 15.1V13.9ZM8.5 11.9H5V13.1H8.5V11.9Z",fill:"currentColor"})})}),D1t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"bulb-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H14V20.5C14 21.0523 13.5523 21.5 13 21.5H12C11.4477 21.5 11 21.0523 11 20.5V19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10C18 11.94 17.3978 12.9767 16.4272 14.3368Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2})})}),_M=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"bulb-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M9.5 16.5H15.5M11 20V20.5C11 21.0523 11.4477 21.5 12 21.5H13C13.5523 21.5 14 21.0523 14 20.5V20M18 10C18 11.94 17.3978 12.9767 16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10Z",stroke:"currentColor",strokeWidth:1.2})})}),ba=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"calendar",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M5.5 18.5H19.5V6.5H5.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16.5 8V4M8.5 8V4M8 12.5H10M8 15.5H10M11.5 12.5H13.5M11.5 15.5H13.5M15 12.5H17M15 15.5H17M12.5 8V4M5.5 9.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),O1t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"case",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M9 8.5122V6C9 5.44772 9.44772 5 10 5H15C15.5523 5 16 5.44772 16 6V8.5122M4.5 12V18.5C4.5 19.0523 4.94772 19.5 5.5 19.5H19.5C20.0523 19.5 20.5 19.0523 20.5 18.5V12M4.5 12V9.5122C4.5 8.95991 4.94772 8.5122 5.5 8.5122H19.5C20.0523 8.5122 20.5 8.95991 20.5 9.5122V12M4.5 12L11.7978 14.7367C12.2505 14.9064 12.7495 14.9064 13.2022 14.7367L20.5 12",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),M1t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"chart-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M5.5 5V19.5H20M7.5 16L11.5 11.5L15.5 14L19.5 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),qy=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"checkmark-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M9.5 12.1316L11.7414 14.5L16 10M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_a=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"checkmark",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M5.5 11.5L10.5 16.5L19.5 7.60001",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ea=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M17 10L12.5 14.5L8 10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),vg=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M15 17L10.5 12.5L15 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Es=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M10 8L14.5 12.5L10 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),p_e=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M8 15L12.5 10.5L17 15",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Qb=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),m_e=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"clipboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M8 5.5H6.5V19.5H18.5V5.5H17M12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),P1t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"clipboard-image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M8 5.5H6.5V19.5H10.5M17 5.5H18.5V11.5M10.5 18.5L12.73 15.8983C13.1327 15.4285 13.8613 15.4335 14.2575 15.909L15.299 17.1588C15.6754 17.6105 16.3585 17.6415 16.7743 17.2257L16.9903 17.0097C17.2947 16.7053 17.7597 16.6298 18.1447 16.8223L20.5 18M10.5 11.5H20.5V21.5H10.5V11.5ZM12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),dK=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"clock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M12.5 8V12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),R1t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"close-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M9.5 15.5L12.5 12.5M12.5 12.5L15.5 9.5M12.5 12.5L9.5 9.5M12.5 12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),eo=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"close",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M18 7L7 18M7 7L18 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),F1t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"code-block",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M11 15L8.5 12.5L11 10M14 10L16.5 12.5L14 15M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),g_e=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"code",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M11 16L7.5 12.5L11 9M14 9L17.5 12.5L14 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),fK=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"cog",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M14.0666 6.19428L13.719 5.32531C13.5196 4.82685 13.0369 4.5 12.5 4.5C11.9631 4.5 11.4804 4.82685 11.281 5.32531L10.9334 6.19428C10.7984 6.53187 10.5328 6.80068 10.1969 6.93982C9.86098 7.07896 9.48313 7.07666 9.14894 6.93343L8.2887 6.56476C7.79525 6.35328 7.22276 6.46353 6.84315 6.84315C6.46353 7.22276 6.35328 7.79525 6.56476 8.2887L6.93343 9.14894C7.07666 9.48313 7.07896 9.86098 6.93982 10.1969C6.80068 10.5328 6.53187 10.7984 6.19428 10.9334L5.32531 11.281C4.82685 11.4804 4.5 11.9631 4.5 12.5C4.5 13.0369 4.82685 13.5196 5.32531 13.719L6.19428 14.0666C6.53187 14.2016 6.80068 14.4672 6.93982 14.8031C7.07896 15.139 7.07666 15.5169 6.93343 15.8511L6.56476 16.7113C6.35328 17.2048 6.46353 17.7772 6.84315 18.1569C7.22276 18.5365 7.79525 18.6467 8.2887 18.4352L9.14894 18.0666C9.48314 17.9233 9.86099 17.921 10.1969 18.0602C10.5328 18.1993 10.7984 18.4681 10.9334 18.8057L11.281 19.6747C11.4804 20.1732 11.9631 20.5 12.5 20.5C13.0369 20.5 13.5196 20.1731 13.719 19.6747L14.0666 18.8057C14.2016 18.4681 14.4672 18.1993 14.8031 18.0602C15.139 17.921 15.5169 17.9233 15.8511 18.0666L16.7113 18.4352C17.2047 18.6467 17.7772 18.5365 18.1569 18.1569C18.5365 17.7772 18.6467 17.2047 18.4352 16.7113L18.0666 15.8511C17.9233 15.5169 17.921 15.139 18.0602 14.8031C18.1993 14.4672 18.4681 14.2016 18.8057 14.0666L19.6747 13.719C20.1731 13.5196 20.5 13.0369 20.5 12.5C20.5 11.9631 20.1731 11.4804 19.6747 11.281L18.8057 10.9334C18.4681 10.7984 18.1993 10.5328 18.0602 10.1969C17.921 9.86098 17.9233 9.48313 18.0666 9.14894L18.4352 8.2887C18.6467 7.79525 18.5365 7.22276 18.1569 6.84314C17.7772 6.46353 17.2048 6.35328 16.7113 6.56476L15.8511 6.93343C15.5169 7.07666 15.139 7.07896 14.8031 6.93982C14.4672 6.80068 14.2016 6.53187 14.0666 6.19428Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),y_e=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"collapse",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M6 14.5L10.5 14.5V19M19 10.5H14.5L14.5 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10.5 14.5L6 19M14.5 10.5L19 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),L1t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"color-wheel",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M9.43853 5.10896L11.1606 9.26642M13.8394 15.7336L15.5615 19.891M15.7336 11.1606L19.891 9.43853M9.26642 13.8394L5.10896 15.5615M5.3139 9.52342L9.23359 11.147M15.7664 13.853L19.6861 15.4766M13.853 9.23359L15.4766 5.3139M9.52342 19.6861L11.147 15.7664M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5ZM16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),hK=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M7.5 16.5H9.5V20.5L13.5 16.5H17.5C18.6046 16.5 19.5 15.6046 19.5 14.5V8.5C19.5 7.39543 18.6046 6.5 17.5 6.5H7.5C6.39543 6.5 5.5 7.39543 5.5 8.5V14.5C5.5 15.6046 6.39543 16.5 7.5 16.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),N1t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"component",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M8.5 8.5L12.5 12.5M12.5 12.5L16.5 16.5M12.5 12.5L16.5 8.5M12.5 12.5L8.5 16.5M12.5 4L21 12.5L12.5 21L4 12.5L12.5 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),B1t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"compose",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M17 6L19 8M14 5.5H5.5V19.5H19.5V11M9 16L9.5 13.5L19 4L21 6L11.5 15.5L9 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),V1t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"compose-sparkles",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M11 3.5V5M11 5V6.5M11 5H12.5M11 5H9.5M17 9L9.5 16.5L9 19L11.5 18.5L19 11M17 9L19 7L21 9L19 11M17 9L19 11M4.5 10C4.5 10 5.72308 9.87692 6.3 9.3C6.87692 8.72308 7 7.5 7 7.5C7 7.5 7.12308 8.72308 7.7 9.3C8.27692 9.87692 9.5 10 9.5 10C9.5 10 8.27692 10.1231 7.7 10.7C7.12308 11.2769 7 12.5 7 12.5C7 12.5 6.87692 11.2769 6.3 10.7C5.72308 10.1231 4.5 10 4.5 10Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})})}),z1t=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"confetti",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M16.5 6.25C16.9142 6.25 17.25 5.91421 17.25 5.5C17.25 5.08579 16.9142 4.75 16.5 4.75C16.0858 4.75 15.75 5.08579 15.75 5.5C15.75 5.91421 16.0858 6.25 16.5 6.25Z",fill:"currentColor"}),c.jsx("path",{d:"M19.5 16.25C19.9142 16.25 20.25 15.9142 20.25 15.5C20.25 15.0858 19.9142 14.75 19.5 14.75C19.0858 14.75 18.75 15.0858 18.75 15.5C18.75 15.9142 19.0858 16.25 19.5 16.25Z",fill:"currentColor"}),c.jsx("path",{d:"M13 4C11 6 14.5 5.5 12.5 7.5M21 12C19 14 19.5 10.5 17.5 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16.066 16.4904C15.3965 17.1598 13.1126 15.9613 10.9647 13.8135C8.81684 11.6656 7.61835 9.38165 8.28782 8.71218M16.066 16.4904C16.7355 15.8209 15.537 13.537 13.3891 11.3891C11.2412 9.2412 8.95729 8.04271 8.28782 8.71218M16.066 16.4904C15.8661 16.6902 15.6277 16.8474 15.3657 16.952L6.99288 20.296C6.26931 20.5849 5.44878 20.4193 4.9038 19.8744C4.35883 19.3294 4.19324 18.5089 4.48221 17.7853L7.82614 9.41242C7.93077 9.15042 8.08793 8.91208 8.28782 8.71218M20 5C20 14 11.5 5.32688 11.5 14.3269",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),pK=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"controls",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M6.5 5V7.5M6.5 7.5C5.39543 7.5 4.5 8.39543 4.5 9.5C4.5 10.6046 5.39543 11.5 6.5 11.5M6.5 7.5C7.60457 7.5 8.5 8.39543 8.5 9.5C8.5 10.6046 7.60457 11.5 6.5 11.5M6.5 11.5V20M12.5 5V13.5M12.5 13.5C11.3954 13.5 10.5 14.3954 10.5 15.5C10.5 16.6046 11.3954 17.5 12.5 17.5M12.5 13.5C13.6046 13.5 14.5 14.3954 14.5 15.5C14.5 16.6046 13.6046 17.5 12.5 17.5M12.5 17.5V20M18.5 5V7.5M18.5 7.5C17.3954 7.5 16.5 8.39543 16.5 9.5C16.5 10.6046 17.3954 11.5 18.5 11.5M18.5 7.5C19.6046 7.5 20.5 8.39543 20.5 9.5C20.5 10.6046 19.6046 11.5 18.5 11.5M18.5 11.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ru=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"copy",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M8.5 8.5H5.5V20.5H16.5V16.5M19.5 4.5H8.5V16.5H19.5V4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),U1t=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"credit-card",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M20.5 9.5H4.5V11.5H20.5V9.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7 15.5H14M5.5 18.5H19.5C20.0523 18.5 20.5 18.0523 20.5 17.5V7.5C20.5 6.94772 20.0523 6.5 19.5 6.5H5.5C4.94772 6.5 4.5 6.94772 4.5 7.5V17.5C4.5 18.0523 4.94772 18.5 5.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),v_e=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"crop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M9.5 5V15.5H20M5 9.5H15.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),H1t=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"cube",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M12.5 22V13M12.5 13L4.5 8M12.5 13L20.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),W1t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"dashboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M14.5 19.5V12.5M10.5 12.5V5.5M5.5 12.5H19.5M5.5 19.5H19.5V5.5H5.5V19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),G1t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"database",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M18.5 7V17.5C18.5 19.0594 16.0504 20.5 12.5 20.5C8.9496 20.5 6.5 19.0594 6.5 17.5V7M18.5 7C18.5 8.45543 15.8137 9.5 12.5 9.5C9.18629 9.5 6.5 8.45543 6.5 7C6.5 5.54457 9.18629 4.5 12.5 4.5C15.8137 4.5 18.5 5.54457 18.5 7Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),b_e=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"desktop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M4.5 13.5V15.5C4.5 16.0523 4.94772 16.5 5.5 16.5H12.5M4.5 13.5V6.5C4.5 5.94772 4.94772 5.5 5.5 5.5H19.5C20.0523 5.5 20.5 5.94772 20.5 6.5V13.5M4.5 13.5H20.5M20.5 13.5V15.5C20.5 16.0523 20.0523 16.5 19.5 16.5H12.5M12.5 16.5V19.5M12.5 19.5H8M12.5 19.5H17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),K1t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"diamond",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M21 10.5L12.5 21M21 10.5L18 5.5H11M21 10.5H16M12.5 21L4 10.5M12.5 21L9 10.5M12.5 21L16 10.5M4 10.5L7 5.5H11M4 10.5H9M9 10.5H12.5H16M9 10.5L11 5.5M16 10.5L14.5 5.5H11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Kd=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M18.5 20.5H6.5V9.5L11.5 4.5H18.5V20.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Y1t=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"document-pdf",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M12.7127 13.8012L12.7193 13.77C12.8488 13.2366 13.0117 12.5716 12.8845 11.969C12.7997 11.4937 12.4493 11.3084 12.1503 11.295C11.7977 11.2794 11.483 11.4803 11.4049 11.7726C11.2576 12.3082 11.3893 13.0402 11.6303 13.973C11.3268 14.6961 10.8425 15.7472 10.4877 16.3721C9.8271 16.7135 8.94113 17.2402 8.80946 17.9053C8.78268 18.028 8.81392 18.1842 8.88757 18.3248C8.97014 18.481 9.10181 18.6015 9.25579 18.6596C9.32274 18.6841 9.40308 18.7042 9.49681 18.7042C9.88959 18.7042 10.5256 18.3873 11.3736 16.9322C11.5031 16.8898 11.637 16.8452 11.7664 16.8006C12.3734 16.5953 13.0028 16.381 13.5718 16.2851C14.2012 16.622 14.9175 16.8385 15.404 16.8385C15.8861 16.8385 16.0758 16.5529 16.1472 16.381C16.2722 16.0797 16.2119 15.7004 16.0088 15.4973C15.7143 15.2072 14.9979 15.1313 13.882 15.2696C13.3331 14.9349 12.9738 14.4796 12.7127 13.8012ZM10.2645 17.1911C9.95431 17.6419 9.71998 17.8673 9.59278 17.9655C9.7423 17.691 10.0346 17.4009 10.2645 17.1911ZM12.2195 11.9355C12.3355 12.1341 12.3199 12.7345 12.2306 13.038C12.1213 12.5939 12.1056 11.9645 12.1704 11.8909L12.2195 11.9355ZM12.1837 14.6247C12.4225 15.0376 12.7238 15.3924 13.0563 15.6557C12.5743 15.7651 12.1346 15.9458 11.7419 16.1065C11.6481 16.1445 11.5566 16.1824 11.4674 16.2181C11.7642 15.6803 12.0119 15.071 12.1837 14.6247ZM15.6562 16.0864L15.6428 16.1065C15.6428 16.1065 15.4375 16.2315 14.6497 15.9213C15.5558 15.8789 15.6562 16.0864 15.6562 16.0864Z",fill:"currentColor"}),c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),q1t=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"document-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M6.5 14V20.5H18.5V14M6.5 11V9.5L11.5 4.5H18.5V11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Z1t=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"document-sheet",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10.4 19V16.4M10.4 16.4L10.4 13.4M10.4 16.4H8M10.4 16.4H14.4M10.4 13.4V11M10.4 13.4H8M10.4 13.4H14.4M14.4 19V16.4M14.4 16.4V13.4M14.4 16.4H17M14.4 13.4V11M14.4 13.4H17M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),mK=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"documents",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M10.5 4.5V9.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16.5 7.5H19.5V21.5H8.5V18.5M10.5 4.5H16.5V18.5H5.5V9.5L10.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),X1t=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"document-text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16 13H9M14 16H9M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),J1t=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"document-video",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M11.5 16.5V13.5L14 15L11.5 16.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Q1t=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"document-word",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M12.4699 13.4588H12.5263L13.6328 17H14.5435L16 12H14.9952L14.0656 15.7214H14.0129L12.929 12H12.0672L10.9984 15.7214H10.9419L10.0124 12H9L10.4565 17H11.371L12.4699 13.4588Z",fill:"currentColor"}),c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),eyt=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"document-zip",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M15 4.5L13.5 5L15.5 6L13.5 7L15.5 8L13.5 9L15.5 10L13.5 11L14.5 11.5V13M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM13.5 13H15.5L16 17H13L13.5 13Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),x_e=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"dot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("circle",{cx:12.5,cy:12.5,r:2.5,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2})})}),tyt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"double-chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M17 7.5C15.6332 8.86683 12.5 12 12.5 12L8 7.5M17 12.5C15.6332 13.8668 12.5 17 12.5 17L8 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),w_e=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"double-chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M12.5 17L8 12.5L12.5 8M17.5 17L13 12.5L17.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),gK=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"double-chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M12.5 8L17 12.5L12.5 17M7.5 8L12 12.5L7.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),nyt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"double-chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M8 12.5L12.5 8L17 12.5M8 17.5L12.5 13L17 17.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),yK=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"download",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M19.5 17V19.5H5.5V17M12.5 16L12.5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),C_e=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"drag-handle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M9.5 8C10.3284 8 11 7.32843 11 6.5C11 5.67157 10.3284 5 9.5 5C8.67157 5 8 5.67157 8 6.5C8 7.32843 8.67157 8 9.5 8Z",fill:"currentColor"}),c.jsx("path",{d:"M9.5 14C10.3284 14 11 13.3284 11 12.5C11 11.6716 10.3284 11 9.5 11C8.67157 11 8 11.6716 8 12.5C8 13.3284 8.67157 14 9.5 14Z",fill:"currentColor"}),c.jsx("path",{d:"M11 18.5C11 19.3284 10.3284 20 9.5 20C8.67157 20 8 19.3284 8 18.5C8 17.6716 8.67157 17 9.5 17C10.3284 17 11 17.6716 11 18.5Z",fill:"currentColor"}),c.jsx("path",{d:"M15.5 8C16.3284 8 17 7.32843 17 6.5C17 5.67157 16.3284 5 15.5 5C14.6716 5 14 5.67157 14 6.5C14 7.32843 14.6716 8 15.5 8Z",fill:"currentColor"}),c.jsx("path",{d:"M17 12.5C17 13.3284 16.3284 14 15.5 14C14.6716 14 14 13.3284 14 12.5C14 11.6716 14.6716 11 15.5 11C16.3284 11 17 11.6716 17 12.5Z",fill:"currentColor"}),c.jsx("path",{d:"M15.5 20C16.3284 20 17 19.3284 17 18.5C17 17.6716 16.3284 17 15.5 17C14.6716 17 14 17.6716 14 18.5C14 19.3284 14.6716 20 15.5 20Z",fill:"currentColor"})]})}),ryt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"drop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M18.5 14.5C18.5 18 16 20.5 12.5 20.5C9 20.5 6.5 18 6.5 14.5C6.5 11 9.5 7.50001 12.5 4.5C15.5 7.5 18.5 11 18.5 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),hS=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"earth-americas",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M7 13L5.5 9L10 5H15V10L14 9H11L9.5 11L10.5 12H12V13L13 14.5H15.5L18.5 17L15.5 19.5L10.5 20V17L12.5 15L9 13L7 10.5V13Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),iyt=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"earth-globe",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M20.5 12.5H4.5M12.5 20.5C12.5 20.5 9.5 17.5 9.5 12.5C9.5 7.5 12.5 4.5 12.5 4.5C12.5 4.5 15.5 7.5 15.5 12.5C15.5 17.5 12.5 20.5 12.5 20.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Oh=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"edit",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),dE=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"ellipsis-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M6.5 11C7.32843 11 8 11.6716 8 12.5C8 13.3284 7.32843 14 6.5 14C5.67157 14 5 13.3284 5 12.5C5 11.6716 5.67157 11 6.5 11Z",fill:"currentColor"}),c.jsx("path",{d:"M12.5 11C13.3284 11 14 11.6716 14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11Z",fill:"currentColor"}),c.jsx("path",{d:"M18.5 11C19.3284 11 20 11.6716 20 12.5C20 13.3284 19.3284 14 18.5 14C17.6716 14 17 13.3284 17 12.5C17 11.6716 17.6716 11 18.5 11Z",fill:"currentColor"})]})}),oyt=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"ellipsis-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M14 6.5C14 7.32843 13.3284 8 12.5 8C11.6716 8 11 7.32843 11 6.5C11 5.67157 11.6716 5 12.5 5C13.3284 5 14 5.67157 14 6.5Z",fill:"currentColor"}),c.jsx("path",{d:"M14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11C13.3284 11 14 11.6716 14 12.5Z",fill:"currentColor"}),c.jsx("path",{d:"M14 18.5C14 19.3284 13.3284 20 12.5 20C11.6716 20 11 19.3284 11 18.5C11 17.6716 11.6716 17 12.5 17C13.3284 17 14 17.6716 14 18.5Z",fill:"currentColor"})]})}),ayt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"empty",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M12.5 21V19.1111M8.25 19.8614L9.19445 18.2255M5.13878 16.7501L6.77461 15.8057M4 12.5H5.8889M5.13872 8.2499L6.77455 9.19436M8.25004 5.13876L9.19449 6.7746M12.5 5.88891V4M15.8055 6.77465L16.75 5.1388M18.2254 9.19449L19.8612 8.25004M19.1111 12.5001H21M18.2254 15.8056L19.8612 16.7501M15.8056 18.2255L16.75 19.8614",stroke:"currentColor",strokeWidth:1.2})})}),syt=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"enter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M6 14.5H19.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10 18.5L6 14.5L10 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),lyt=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"enter-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M19 14.5H5.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M15 18.5L19 14.5L15 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),cyt=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"envelope",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M20.5 18.5H4.5V6.5H20.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M20.5 18.5L17.75 15.5L15 12.5M4.5 18.5L10 12.5M20.5 6.5L12.5 15L4.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),uyt=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"equal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M7.5 4.5H3.5V20.5H7.5",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M17.5 20.5L21.5 20.5L21.5 4.5L17.5 4.5",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M9 10.5H16",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M9 14.5H16",stroke:"currentColor",strokeWidth:1.2})]})}),dyt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"error-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5ZM13 14.5V16H12V14.5H13ZM12 9V13H13V9H12Z",fill:"currentColor"})})}),ua=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"error-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M12.5 16V14.5M12.5 9V13M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),fyt=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"error-screen",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M10 8.5L15 13.5M15 8.5L10 13.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M12.5 16.5H5.5C4.94772 16.5 4.5 16.0523 4.5 15.5V6.5C4.5 5.94771 4.94772 5.5 5.5 5.5H19.5C20.0523 5.5 20.5 5.94772 20.5 6.5V15.5C20.5 16.0523 20.0523 16.5 19.5 16.5H12.5ZM12.5 16.5V19.5M12.5 19.5H8M12.5 19.5H17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),k_e=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"expand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M14 6.5H18.5V11M11 18.5H6.5V14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M18.5 6.5L14 11M6.5 18.5L11 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),hyt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"eye-closed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M7 15.5L5.5 17.5M20.5 12.5C19.8612 13.5647 19.041 14.6294 18.0008 15.501M18.0008 15.501C16.5985 16.676 14.7965 17.5 12.5 17.5M18.0008 15.501L18 15.5M18.0008 15.501L19.5 17.5M12.5 17.5C8.5 17.5 6 15 4.5 12.5M12.5 17.5V20M15.5 17L16.5 19.5M9.5 17L8.5 19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),S_e=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"eye-open",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.39999 12.5C9.39999 10.7879 10.7879 9.39999 12.5 9.39999C14.2121 9.39999 15.6 10.7879 15.6 12.5C15.6 14.2121 14.2121 15.6 12.5 15.6C10.7879 15.6 9.39999 14.2121 9.39999 12.5Z",fill:"currentColor"}),c.jsx("path",{d:"M12.5 7.5C8.5 7.5 6 10 4.5 12.5C6 15 8.5 17.5 12.5 17.5C16.5 17.5 19 15 20.5 12.5C19 10 16.5 7.5 12.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),pyt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"face-happy",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M10.5 9V12M14.5 9V12M8.5 14C8.5 14 9.50001 16.5 12.5 16.5C15.5 16.5 16.5 14 16.5 14M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),myt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"face-indifferent",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M10.5 9V12M14.5 9V12M8.5 15.5C8.5 15.5 9.50001 15.5 12.5 15.5C15.5 15.5 16.5 15.5 16.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),gyt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"face-sad",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M10.5 9V12M14.5 9V12M8.5 16.5C8.5 16.5 9.50001 14.5 12.5 14.5C15.5 14.5 16.5 16.5 16.5 16.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),yyt=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"feedback",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M10 11.5V12H9.5L9.5 11.5H10Z",fill:"currentColor"}),c.jsx("path",{d:"M13 11.5V12H12.5V11.5H13Z",fill:"currentColor"}),c.jsx("path",{d:"M16 11.5V12H15.5V11.5H16Z",fill:"currentColor"}),c.jsx("path",{d:"M10 11.5V12H9.5L9.5 11.5H10Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M13 11.5V12H12.5V11.5H13Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16 11.5V12H15.5V11.5H16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.5 16.5H9.5V20.5L13.5 16.5H17.5C18.6046 16.5 19.5 15.6046 19.5 14.5V8.5C19.5 7.39543 18.6046 6.5 17.5 6.5H7.5C6.39543 6.5 5.5 7.39543 5.5 8.5V14.5C5.5 15.6046 6.39543 16.5 7.5 16.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),vyt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"filter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M6 7.5H19M8 12.5H17M10 17.5H15",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),E_e=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"folder",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M11.5 8.5H19.5V18.5H5.5V5.5H10.5L11.5 8.5ZM11.5 8.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),byt=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"generate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M9 5.30423C6.33576 6.60253 4.5 9.33688 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5V14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16 11L12.5 14.5L9 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),xyt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"github",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.507 4C7.80286 4 4 7.8309 4 12.5702C4 16.3587 6.43663 19.5655 9.81687 20.7005C10.2395 20.7858 10.3943 20.5161 10.3943 20.2892C10.3943 20.0905 10.3804 19.4094 10.3804 18.6999C8.01391 19.2108 7.52112 17.6782 7.52112 17.6782C7.14081 16.685 6.57732 16.4297 6.57732 16.4297C5.80279 15.9047 6.63374 15.9047 6.63374 15.9047C7.49291 15.9615 7.94374 16.7844 7.94374 16.7844C8.70417 18.0897 9.92953 17.7209 10.4225 17.4938C10.4929 16.9404 10.7184 16.5573 10.9578 16.3445C9.07037 16.1459 7.08457 15.4081 7.08457 12.1161C7.08457 11.1796 7.42239 10.4134 7.95767 9.81757C7.87321 9.60478 7.57736 8.72489 8.04229 7.54724C8.04229 7.54724 8.76059 7.32017 10.3802 8.42695C11.0736 8.23935 11.7887 8.14392 12.507 8.14312C13.2253 8.14312 13.9576 8.24255 14.6337 8.42695C16.2535 7.32017 16.9718 7.54724 16.9718 7.54724C17.4367 8.72489 17.1407 9.60478 17.0562 9.81757C17.6056 10.4134 17.9295 11.1796 17.9295 12.1161C17.9295 15.4081 15.9437 16.1316 14.0422 16.3445C14.3521 16.6141 14.6196 17.1248 14.6196 17.9337C14.6196 19.0829 14.6057 20.0053 14.6057 20.289C14.6057 20.5161 14.7606 20.7858 15.1831 20.7006C18.5633 19.5653 21 16.3587 21 12.5702C21.0139 7.8309 17.1971 4 12.507 4Z",fill:"currentColor"})})}),wyt=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"groq",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M13 13H21L13 21L13 13Z",fill:"currentColor"}),c.jsx("path",{d:"M12 12V4L4 12H12Z",fill:"currentColor"}),c.jsx("path",{d:"M12 13H4L12 21V13Z",fill:"currentColor"})]})}),Cyt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"hash",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.33894 16.1002H5.44615L5.63077 14.9002H8.52356L9.26202 10.1002H6.36923L6.55384 8.90018H9.44663L9.89281 6H11.1069L10.6608 8.90018H15.4466L15.8928 6H17.1069L16.6608 8.90018H19.5539L19.3693 10.1002H16.4761L15.7377 14.9002H18.6308L18.4462 16.1002H15.5531L15.1069 19H13.8928L14.3389 16.1002H9.55306L9.10693 19H7.89281L8.33894 16.1002ZM10.4761 10.1002L9.73767 14.9002H14.5236L15.262 10.1002H10.4761Z",fill:"currentColor"})})}),kyt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"heart-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Syt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"heart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ex=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"help-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Eyt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"highlight",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M17.5311 13.7141L8.02451 8.22547M17.5311 13.7141L20.25 9.00478M17.5311 13.7141L16.5 15.5L13.232 16.134L12 18L11.4142 17.6485M8.02451 8.22547L10.75 3.50479M8.02451 8.22547L6.99999 9.99998L7.99999 13L6.99999 15L7.58576 15.3514M7.58576 15.3514L4.90192 20L10.0566 20L11.4142 17.6485M7.58576 15.3514L11.4142 17.6485M13 20H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_yt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"home",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M14.5 18.5V12.5H10.5V18.5M5.5 11.5V18.5H19.5V11.5L12.5 5.5L5.5 11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Tyt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"ice-cream",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M9.5 13.5L12.5 20.5L15.5 13.5M12.5 8.26389C11.9692 7.78885 11.2684 7.5 10.5 7.5C8.84315 7.5 7.5 8.84315 7.5 10.5C7.5 12.1569 8.84315 13.5 10.5 13.5C11.2684 13.5 11.9692 13.2111 12.5 12.7361M9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5M17.5 10.5C17.5 12.1569 16.1569 13.5 14.5 13.5C12.8431 13.5 11.5 12.1569 11.5 10.5C11.5 8.84315 12.8431 7.5 14.5 7.5C16.1569 7.5 17.5 8.84315 17.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Fu=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M5.5 15.5L8.79289 12.2071C9.18342 11.8166 9.81658 11.8166 10.2071 12.2071L12.8867 14.8867C13.2386 15.2386 13.7957 15.2782 14.1938 14.9796L15.1192 14.2856C15.3601 14.1049 15.6696 14.0424 15.9618 14.1154L19.5 15M5.5 6.5H19.5V18.5H5.5V6.5ZM15.5 10.5C15.5 11.0523 15.0523 11.5 14.5 11.5C13.9477 11.5 13.5 11.0523 13.5 10.5C13.5 9.94772 13.9477 9.5 14.5 9.5C15.0523 9.5 15.5 9.94772 15.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ayt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"image-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M5.5 11V6.5H19.5V11M5.5 14V18.5H19.5V14M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),jyt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"images",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M18.5 7.5H20.5V19.5H6.5V17.5M4.5 14.5L7.79289 11.2071C8.18342 10.8166 8.81658 10.8166 9.20711 11.2071L11.8867 13.8867C12.2386 14.2386 12.7957 14.2782 13.1938 13.9796L14.1192 13.2856C14.3601 13.1049 14.6696 13.0424 14.9618 13.1154L18.5 14M4.5 5.5H18.5V17.5H4.5V5.5ZM14.5 9.5C14.5 10.0523 14.0523 10.5 13.5 10.5C12.9477 10.5 12.5 10.0523 12.5 9.5C12.5 8.94772 12.9477 8.5 13.5 8.5C14.0523 8.5 14.5 8.94772 14.5 9.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Iyt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"inbox",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M9 8.5H8.17703C7.76813 8.5 7.40042 8.74895 7.24856 9.12861L5.5 13.5M5.5 13.5V17.5C5.5 18.0523 5.94302 18.5 6.4953 18.5C9.00381 18.5 15.5919 18.5 18.504 18.5C19.0563 18.5 19.5 18.0523 19.5 17.5V13.5M5.5 13.5H8.5L10 15.5H15L16.5 13.5H19.5M19.5 13.5L17.7514 9.12861C17.5996 8.74895 17.2319 8.5 16.823 8.5H16M12.5 5V12.5M12.5 12.5L15 10M12.5 12.5L10 10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$yt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"info-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5ZM12 10.5V9H13V10.5H12ZM13 16V12H12V16H13Z",fill:"currentColor"})})}),bg=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"info-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M12.5 10.5V9M12.5 12V16M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),__e=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"inline-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M5.5 5V20M19.5 5V20M8.5 6.5H16.5V18.5H8.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Dyt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"inline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M12.5 6.5H19.5V18.5H12.5M12.5 6.5H5.5V18.5H12.5M12.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),vK=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"insert-above",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M14.5 10.5556L10.5 10.5556M12.5 12.5L12.5 8.5M18.5 5.5L6.5 5.5M18.5 19.5L6.5 19.5L6.5 15.5L18.5 15.5L18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),bK=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"insert-below",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M10.5 14.5H14.5M12.5 12.5V16.5M6.5 19.5H18.5M6.5 5.5H18.5V9.5H6.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),T_e=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"italic",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M10.43 18H11.7276L13.4551 9.86763H12.1576L10.43 18ZM13.3042 8.29849C13.8021 8.29849 14.2095 7.89112 14.2095 7.39322C14.2095 6.89532 13.8021 6.48795 13.3042 6.48795C12.8063 6.48795 12.399 6.89532 12.399 7.39322C12.399 7.89112 12.8063 8.29849 13.3042 8.29849Z",fill:"currentColor"})})}),Oyt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"joystick",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M9.5 16V14.5H15.5V16M13.5 10.5V14.5M11.5 10.5V14.5M15.5 7.5C15.5 9.15685 14.1569 10.5 12.5 10.5C10.8431 10.5 9.5 9.15685 9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5ZM18.5 19.5H6.5C5.94772 19.5 5.5 19.0523 5.5 18.5V17.5C5.5 16.9477 5.94772 16.5 6.5 16.5H18.5C19.0523 16.5 19.5 16.9477 19.5 17.5V18.5C19.5 19.0523 19.0523 19.5 18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),A_e=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"json",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M11 5.5H9.5C8.39543 5.5 7.5 6.39543 7.5 7.5V12.5M7.5 12.5H4M7.5 12.5V17.5C7.5 18.6046 8.39543 19.5 9.5 19.5H11M14 5.5H15.5C16.6046 5.5 17.5 6.39543 17.5 7.5V12.5M17.5 12.5H21M17.5 12.5V17.5C17.5 18.6046 16.6046 19.5 15.5 19.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),lp=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"launch",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M12 7.5H6.5V18.5H17.5V13M19.5 5.5L10.5 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M14 5.5H19.5V11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),xK=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"leave",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M14.5 15V18.5H5.5V6.5H14.5V10M9 12.5H21.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M18 9L21.5 12.5L18 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Myt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"lemon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M10.6569 10.3431L6.41422 14.5858C7.58579 15.7574 9.12132 16.3431 10.6569 16.3431M10.6569 10.3431L14.8995 6.1005C16.0711 7.27208 16.6569 8.80761 16.6569 10.3431M10.6569 10.3431L10.6569 16.3431M10.6569 10.3431L16.6569 10.3431M10.6569 10.3431L14.8995 14.5858M14.8995 14.5858C13.7279 15.7574 12.1924 16.3431 10.6569 16.3431M14.8995 14.5858C16.0711 13.4142 16.6569 11.8787 16.6569 10.3431M16.3137 4.68629C19.4379 7.81049 19.4379 12.8758 16.3137 16C13.1895 19.1242 8.12419 19.1242 5 16L16.3137 4.68629Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Pyt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"linkedin",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M20.0249 20H16.9137V15.1278C16.9137 13.9659 16.893 12.4704 15.2956 12.4704C13.6753 12.4704 13.4273 13.7362 13.4273 15.0432V19.9997H10.3162V9.98042H13.3028V11.3496H13.3447C13.6436 10.8386 14.0755 10.4182 14.5944 10.1332C15.1134 9.8482 15.6999 9.7092 16.2915 9.7312C19.4448 9.7312 20.0262 11.8054 20.0262 14.5036L20.0249 20ZM6.80572 8.6109C6.44863 8.6109 6.0996 8.50507 5.80265 8.30683C5.50571 8.10848 5.27427 7.82653 5.13757 7.4967C5.00086 7.16677 4.96502 6.80378 5.03463 6.45356C5.10423 6.10334 5.27613 5.78157 5.52858 5.52903C5.78103 5.2765 6.10271 5.10448 6.45293 5.03476C6.80315 4.96502 7.16614 5.00072 7.49607 5.13731C7.826 5.2739 8.10796 5.50526 8.30641 5.80212C8.50486 6.09894 8.6108 6.44798 8.6109 6.80507C8.6109 7.04216 8.56422 7.277 8.47352 7.49606C8.38283 7.71512 8.24995 7.91422 8.0823 8.08187C7.91466 8.24952 7.71567 8.3826 7.4966 8.4733C7.27765 8.5641 7.04281 8.61079 6.80572 8.6109ZM8.36136 20H5.24695V9.98042H8.36136V20Z",fill:"currentColor"})})}),Rl=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"link",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M11 12.5L12.5 14C13.281 14.781 14.719 14.781 15.5 14L18.5 11C19.281 10.219 19.281 8.78105 18.5 8L18 7.5C17.2189 6.71895 15.781 6.71895 15 7.5L13 9.5M12 15.5L10 17.5C9.21895 18.281 7.78105 18.281 7 17.5L6.5 17C5.71895 16.219 5.71896 14.781 6.5 14L9.50001 11C10.2811 10.219 11.719 10.2189 12.5 11L14 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),j_e=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"link-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M18.5 11C19.281 10.219 19.281 8.78108 18.5 8.00003L18 7.50003C17.2189 6.71898 15.781 6.71898 15 7.50003L13 9.50003M15.5 14C14.7189 14.7811 13.281 14.7811 12.5 14M6.5 14C5.71895 14.7811 5.71894 16.219 6.49999 17L6.99999 17.5C7.78104 18.2811 9.21894 18.2811 9.99999 17.5L12 15.5M12.5 11C11.719 10.219 10.281 10.219 9.5 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ryt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"list",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M6 6.5H19M6 14.5H19M6 10.5H19M6 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Fyt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"lock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M15.5 11.5V8.5C15.5 6.5 14 5.5 12.5 5.5C11 5.5 9.5 6.5 9.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Lyt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"logo-js",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM12.5254 16.1572C12.5254 17.4189 11.7742 18.1536 10.4792 18.1536C9.24243 18.1536 8.49121 17.4189 8.45801 16.2942V16.261H9.67407V16.2859C9.69897 16.7466 9.9729 17.0703 10.4626 17.0703C10.9939 17.0703 11.272 16.7507 11.272 16.1489V12.011H12.5254V16.1572ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),Nyt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"logo-ts",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM11.0769 18H9.82349V13.0444H8.02637V12.011H12.874V13.0444H11.0769V18ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),Byt=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"marker",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 14 15.5 17.5 12.5 20.5C9.5 17.5 6.5 14 6.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M14 10.5C14 11.3284 13.3284 12 12.5 12C11.6716 12 11 11.3284 11 10.5C11 9.67157 11.6716 9 12.5 9C13.3284 9 14 9.67157 14 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Vyt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"marker-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M7.39787 14C8.51075 16.2897 10.5054 18.5054 12.5 20.5C14.4946 18.5054 16.4892 16.2897 17.6021 14M6.52009 11C6.50681 10.8334 6.5 10.6667 6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 10.6667 18.4932 10.8334 18.4799 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),I_e=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"master-detail",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M9.5 6.5V10.5M9.5 10.5V14.5M9.5 10.5H5.5M9.5 14.5V18.5M9.5 14.5H5.5M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$_e=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"menu",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M6 7.5H19M6 17.5H19M6 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),zyt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"microphone",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M12.5 16.5C15.8137 16.5 18.5 13.8137 18.5 10.5V10M12.5 16.5C9.18629 16.5 6.5 13.8137 6.5 10.5V10M12.5 16.5V20.5M8 20.5H17M15.5 10.5C15.5 12.1569 14.1569 13.5 12.5 13.5C10.8431 13.5 9.5 12.1569 9.5 10.5V7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5V10.5Z",stroke:"currentColor",strokeWidth:1.2})})}),Uyt=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"microphone-slash",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M17.8162 14.412C18.6231 13.3173 19.1 11.9644 19.1 10.5V10H17.9V10.5C17.9 11.6324 17.5514 12.6834 16.9557 13.5516L17.8162 14.412Z",fill:"currentColor"}),c.jsx("path",{d:"M14.2171 15.6213L15.1446 16.5488C14.5091 16.8271 13.8213 17.0081 13.1 17.0731V19.9H17V21.1H7.99999V19.9H11.9V17.0731C8.53609 16.77 5.89999 13.9429 5.89999 10.5V10H7.09999V10.5C7.09999 13.4824 9.51766 15.9 12.5 15.9C13.1003 15.9 13.6777 15.8021 14.2171 15.6213Z",fill:"currentColor"}),c.jsx("path",{d:"M15.6494 12.2453C15.9365 11.7283 16.1 11.1333 16.1 10.5V7.50002C16.1 5.5118 14.4882 3.90002 12.5 3.90002C11.0945 3.90002 9.87704 4.70551 9.2842 5.88007L10.2038 6.79966C10.5035 5.81583 11.4181 5.10002 12.5 5.10002C13.8255 5.10002 14.9 6.17454 14.9 7.50002V10.5C14.9 10.7968 14.8461 11.0811 14.7476 11.3435L15.6494 12.2453Z",fill:"currentColor"}),c.jsx("path",{d:"M8.89999 10.3042L12.6909 14.0951C12.6277 14.0984 12.564 14.1 12.5 14.1C10.5118 14.1 8.89999 12.4882 8.89999 10.5V10.3042Z",fill:"currentColor"}),c.jsx("path",{d:"M19 18L6 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Hyt=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"mobile-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M7.5 6.5C7.5 5.39543 8.39543 4.5 9.5 4.5H15.5C16.6046 4.5 17.5 5.39543 17.5 6.5V18.5C17.5 19.6046 16.6046 20.5 15.5 20.5H9.5C8.39543 20.5 7.5 19.6046 7.5 18.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M13.5 17.5C13.5 18.0523 13.0523 18.5 12.5 18.5C11.9477 18.5 11.5 18.0523 11.5 17.5C11.5 16.9477 11.9477 16.5 12.5 16.5C13.0523 16.5 13.5 16.9477 13.5 17.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),D_e=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"moon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M19.6065 16.1775C18.9417 16.387 18.234 16.5 17.5 16.5C13.634 16.5 10.5 13.366 10.5 9.5C10.5 7.54163 11.3042 5.77109 12.6004 4.50062C12.567 4.50021 12.5335 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C15.5924 20.5 18.275 18.7454 19.6065 16.1775Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),O_e=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"number",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.0165 17.6336H3.83636V16.4336H21.0165V17.6336Z",fill:"currentColor"}),c.jsx("path",{d:"M7.09808 13.3967V7.508H5.74066L3.83636 8.78241V10.091L5.65277 8.88495H5.74066V13.3967H3.84125V14.5539H8.89984V13.3967H7.09808Z",fill:"currentColor"}),c.jsx("path",{d:"M9.81781 9.63202V9.66132H11.1069V9.62714C11.1069 8.95331 11.5756 8.49432 12.2739 8.49432C12.9575 8.49432 13.4018 8.89471 13.4018 9.50507C13.4018 9.9787 13.1528 10.3498 12.1909 11.3117L9.89594 13.5822V14.5539H14.8618V13.3869H11.7807V13.299L13.1577 11.9855C14.3491 10.843 14.7543 10.1838 14.7543 9.41229C14.7543 8.19159 13.7729 7.36639 12.3178 7.36639C10.8383 7.36639 9.81781 8.28436 9.81781 9.63202Z",fill:"currentColor"}),c.jsx("path",{d:"M17.6694 11.4631H18.5092C19.3198 11.4631 19.8422 11.8683 19.8422 12.4982C19.8422 13.1183 19.3295 13.5139 18.5239 13.5139C17.767 13.5139 17.2592 13.133 17.2104 12.5324H15.9262C15.9897 13.8508 17.0248 14.6955 18.5629 14.6955C20.1401 14.6955 21.2192 13.841 21.2192 12.591C21.2192 11.6584 20.6528 11.0334 19.7006 10.9211V10.8332C20.4721 10.6769 20.9457 10.0666 20.9457 9.23651C20.9457 8.12323 19.9741 7.36639 18.5434 7.36639C17.0541 7.36639 16.1118 8.17694 16.0629 9.50018H17.2983C17.3422 8.88007 17.8061 8.48456 18.4995 8.48456C19.2075 8.48456 19.6567 8.85565 19.6567 9.44159C19.6567 10.0324 19.1977 10.4182 18.4946 10.4182H17.6694V11.4631Z",fill:"currentColor"})]})}),Wyt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"ok-hand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M15.9957 11.5C14.8197 10.912 11.9957 9 10.4957 9C8.9957 9 5.17825 11.7674 6 13C7 14.5 9.15134 11.7256 10.4957 12C11.8401 12.2744 13 13.5 13 14.5C13 15.5 11.8401 16.939 10.4957 16.5C9.15134 16.061 8.58665 14.3415 7.4957 14C6.21272 13.5984 5.05843 14.6168 5.5 15.5C5.94157 16.3832 7.10688 17.6006 8.4957 19C9.74229 20.2561 11.9957 21.5 14.9957 20C17.9957 18.5 18.5 16.2498 18.5 13C18.5 11.5 13.7332 5.36875 11.9957 4.5C10.9957 4 10 5 10.9957 6.5C11.614 7.43149 13.5 9.27705 14 10.3751M15.5 8C15.5 8 15.3707 7.5 14.9957 6C14.4957 4 15.9957 3.5 16.4957 4.5C17.1281 5.76491 18.2872 10.9147 18.4957 13",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),M_e=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"olist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M10 7.5H19M10 12.5H19M10 17.5H19M5 18.5H7.5L7 17.5L7.5 16.5H5M5 6.5H6.5V8.5M5 8.5H6.5M6.5 8.5H8M8 13.5H6L7 11.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Gyt=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"overage",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M18.5 11V6.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M6.5 18.5L9 16L12 13L18.5 6.5M3 13.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Kyt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"package",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M12.5 13V22M12.5 13L4.5 8M12.5 13L20.5 8M8.5 5.5L16.5 10.5M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),P_e=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"panel-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M10.5 6.5H19.5V18.5H10.5M10.5 6.5H5.5V18.5H10.5M10.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),R_e=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"panel-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M14.5 6.5H19.5V18.5H14.5M14.5 6.5H5.5V18.5H14.5M14.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Yyt=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"pause",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",fill:"currentColor"}),c.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",fill:"currentColor"}),c.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",stroke:"currentColor",strokeWidth:1.2})]})}),qyt=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"pin-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M17 15H8V13.5C8 12 10.5 11 10.5 11V9L8.5 7V6H16.5V7L14.5 9V11C14.5 11 17 12 17 13.5V15Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M12 15L12.5 20L13 15",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Zyt=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"pin",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M12 15L12.5 20L13 15",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M17 15H8V13.5C8 12 10.5 11 10.5 11V9L8.5 7V6H16.5V7L14.5 9V11C14.5 11 17 12 17 13.5V15Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Xyt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"pin-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M7.39787 14C8.51075 16.2897 10.5054 18.5054 12.5 20.5C14.4946 18.5054 16.4892 16.2897 17.6021 14M6.52009 11C6.50681 10.8334 6.5 10.6667 6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 10.6667 18.4932 10.8334 18.4799 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Jyt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"play",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M7.5 18.5V6.5L17.5 12.5L7.5 18.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Qyt=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"plug",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M13.25 8.5L16.75 5M16.25 11.5L19.75 8M9.25 15.5L5.25 19.5M7.75 14L9.75 12C8.25 10 8.75 9 9.75 8C10.15 7.6 11.25 6.5 11.25 6.5L18.25 13.5C18.25 13.5 17.3825 14.3675 16.75 15C15.75 16 14.75 16.5 12.75 15L10.75 17L7.75 14Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),e0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"presentation",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M10.5 18H5.5V8.5H19.5V18H14.5M10.5 18L9 22M10.5 18H14.5M14.5 18L16 22M4.5 8.5H20.5V6.5H4.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),t0t=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"progress-50",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M17 12.5C17 14.9853 14.9853 17 12.5 17V8C14.9853 8 17 10.0147 17 12.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),n0t=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"progress-75",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M12.5 17C14.9853 17 17 14.9853 17 12.5C17 10.0147 14.9853 8 12.5 8V12.5H8C8 14.9853 10.0147 17 12.5 17Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),r0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"projects",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M21 17.5H14M17.5 14V21M5.5 14.5H10.5V19.5H5.5V14.5ZM14.5 5.5H19.5V10.5H14.5V5.5ZM5.5 5.5H10.5V10.5H5.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),fb=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"publish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M4.99997 5.50006H20M12.5 9.00005V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.5 14L12.5 9.00006L17.5 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),fE=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"read-only",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M15 7L18 10M10 12L7 15L6 19L10 18L13 15M12 10L17 5L20 8L15 13M19 19L5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),i0t=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"redo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),o0t=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"refresh",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M19.5 13.5C19.5 17.366 16.366 20.5 12.5 20.5C8.63401 20.5 5.5 17.366 5.5 13.5C5.5 9.63401 8.63401 6.5 12.5 6.5H15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 10.5L15.5 6.5L11.5 2.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),a0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"remove-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M8 12.4H17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),s0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Mh=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"reset",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M7 11L4.56189 13.5L2 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M9.50001 15.5L15.5 9.5M9.5 9.5L15.5 15.5M4.56189 13.5C4.52104 13.1724 4.5 12.8387 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C9.75033 20.5 7.32466 19.1128 5.88468 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),wK=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"restore",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M5.88468 17C7.32466 19.1128 9.75033 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5V13.5M12.5 8V12.5L15.5 15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7 11L4.5 13.5L2 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),l0t=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"retrieve",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M16 14L12.5 10.5L9 14M5.5 7.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M12.5 10.5L12.5 17.5M19.5 7.5V19.5H5.5V7.5L7.5 5.5H17.5L19.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),c0t=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"retry",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),CK=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"revert",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),u0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"robot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M12.5 15.5V17.5M12.5 8.5V6.5M12.5 6.5C13.3284 6.5 14 5.82843 14 5C14 4.17157 13.3284 3.5 12.5 3.5C11.6716 3.5 11 4.17157 11 5C11 5.82843 11.6716 6.5 12.5 6.5ZM20.5 20.5V19.5C20.5 18.3954 19.6046 17.5 18.5 17.5H6.5C5.39543 17.5 4.5 18.3954 4.5 19.5V20.5H20.5ZM11.5 12C11.5 12.5523 11.0523 13 10.5 13C9.94772 13 9.5 12.5523 9.5 12C9.5 11.4477 9.94772 11 10.5 11C11.0523 11 11.5 11.4477 11.5 12ZM15.5 12C15.5 12.5523 15.0523 13 14.5 13C13.9477 13 13.5 12.5523 13.5 12C13.5 11.4477 13.9477 11 14.5 11C15.0523 11 15.5 11.4477 15.5 12ZM8.5 15.5H16.5C17.6046 15.5 18.5 14.6046 18.5 13.5V10.5C18.5 9.39543 17.6046 8.5 16.5 8.5H8.5C7.39543 8.5 6.5 9.39543 6.5 10.5V13.5C6.5 14.6046 7.39543 15.5 8.5 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),d0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"rocket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M12.5 20.5L15.5 14M11 9.49999L4.5 12.5M9 14C9 14 7.54688 14.9531 6.5 16C5.5 17 4.5 20.5 4.5 20.5C4.5 20.5 8 19.5 9 18.5C10 17.5 11 16 11 16M9 14C9 14 10.1 9.9 12.5 7.5C15.5 4.5 20.5 4.5 20.5 4.5C20.5 4.5 20.5 9.5 17.5 12.5C15.7492 14.2508 11 16 11 16L9 14ZM16.5 9.99999C16.5 10.8284 15.8284 11.5 15 11.5C14.1716 11.5 13.5 10.8284 13.5 9.99999C13.5 9.17157 14.1716 8.49999 15 8.49999C15.8284 8.49999 16.5 9.17157 16.5 9.99999Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),f0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"schema",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M12.5 9.5V12.5M12.5 12.5H8.5V15.5M12.5 12.5H16.5V15.5M10.5 5.5H14.5V9.5H10.5V5.5ZM6.5 15.5H10.5V19.5H6.5V15.5ZM14.5 15.5H18.5V19.5H14.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),wa=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"search",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M15.0355 15.0355L20 20M16.5 11.5C16.5 14.2614 14.2614 16.5 11.5 16.5C8.73858 16.5 6.5 14.2614 6.5 11.5C6.5 8.73858 8.73858 6.5 11.5 6.5C14.2614 6.5 16.5 8.73858 16.5 11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),F_e=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"select",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M16 15L12.5 18.5L9 15M9 10L12.5 6.5L16 10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),h0t=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"share",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M15 10.5H18.5V19.5H6.5L6.5 10.5H10M12.5 16V3.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M9 7L12.5 3.5L16 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),_2=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"sort",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M8.5 18.5V6M16.5 19V6.5M12 15L8.5 18.5L5 15M13 10L16.5 6.5L20 10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),p0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"sparkle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M10.5 10.5C8.5 12.5 5 12.5 5 12.5C5 12.5 8.5 12.5 10.5 14.5C12.5 16.5 12.5 20 12.5 20C12.5 20 12.5 16.5 14.5 14.5C16.5 12.5 20 12.5 20 12.5C20 12.5 16.5 12.5 14.5 10.5C12.5 8.5 12.5 5 12.5 5C12.5 5 12.5 8.5 10.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),m0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"sparkles",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M11 3.5V5M11 5V6.5M11 5H12.5M11 5H9.5M9.5 15C9.5 15 12.2308 14.7692 13.5 13.5C14.7692 12.2308 15 9.5 15 9.5C15 9.5 15.2308 12.2308 16.5 13.5C17.7692 14.7692 20.5 15 20.5 15C20.5 15 17.7692 15.2308 16.5 16.5C15.2308 17.7692 15 20.5 15 20.5C15 20.5 14.7692 17.7692 13.5 16.5C12.2308 15.2308 9.5 15 9.5 15ZM4.5 10C4.5 10 5.72308 9.87692 6.3 9.3C6.87692 8.72308 7 7.5 7 7.5C7 7.5 7.12308 8.72308 7.7 9.3C8.27692 9.87692 9.5 10 9.5 10C9.5 10 8.27692 10.1231 7.7 10.7C7.12308 11.2769 7 12.5 7 12.5C7 12.5 6.87692 11.2769 6.3 10.7C5.72308 10.1231 4.5 10 4.5 10Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})})}),kK=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"spinner",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),g0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"split-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M19.5 10.5V20.5H5.5V10.5M19.5 10.5H5.5M19.5 10.5V4.5H5.5V10.5M12.5 13V15.5M12.5 18V15.5M12.5 15.5H15M12.5 15.5H10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),L_e=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"split-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M10.5 5.5V19.5M13 12.5H15.5M18 12.5H15.5M15.5 12.5V15M15.5 12.5V10M4.5 5.5H20.5V19.5H4.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),y0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"square",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("rect",{x:5.5,y:5.5,width:14,height:14,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),SK=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"stack-compact",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M5.5 15.5V18.5H19.5V15.5M5.5 15.5H19.5M5.5 15.5V9.5M19.5 15.5V9.5M5.5 9.5V6.5H19.5V9.5M5.5 9.5H19.5M5.5 12.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),N_e=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"stack",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M5.5 12.5H19.5M5.5 18.5H19.5V6.5H5.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),v0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"star-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M12.5 5L14.3956 9.89092L19.6329 10.1824L15.5672 13.4966L16.9084 18.5676L12.5 15.725L8.09161 18.5676L9.43284 13.4966L5.36708 10.1824L10.6044 9.89092L12.5 5Z",fill:"currentColor",stroke:"currentColor",strokeLinejoin:"round"})})}),b0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"star",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M12.5 5L14.3956 9.89092L19.6329 10.1824L15.5672 13.4966L16.9084 18.5676L12.5 15.725L8.09161 18.5676L9.43284 13.4966L5.36708 10.1824L10.6044 9.89092L12.5 5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),x0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"stop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("rect",{x:7.5,y:7.5,width:10,height:10,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),B_e=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"strikethrough",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M12.5656 7.73438C11.0656 7.73438 10.0734 8.48438 10.0734 9.625C10.0734 10.2317 10.3649 10.6613 11.0519 11H8.90358C8.71703 10.6199 8.62813 10.1801 8.62813 9.67188C8.62813 7.75781 10.2297 6.46094 12.6125 6.46094C14.7922 6.46094 16.4172 7.75781 16.5344 9.57812H15.1203C14.925 8.42188 13.9719 7.73438 12.5656 7.73438Z",fill:"currentColor"}),c.jsx("path",{d:"M12.4875 18.2656C10.0969 18.2656 8.44844 17 8.3 15.0547H9.72188C9.89375 16.2344 11.0188 16.9844 12.6203 16.9844C14.1359 16.9844 15.2531 16.1641 15.2531 15.0469C15.2531 14.6375 15.1255 14.292 14.8589 14H16.5912C16.6638 14.266 16.6984 14.5566 16.6984 14.875C16.6984 16.9453 15.0656 18.2656 12.4875 18.2656Z",fill:"currentColor"}),c.jsx("path",{d:"M7 13.1H18V11.9H7V13.1Z",fill:"currentColor"})]})}),ev=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"string",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M11.6748 15.5227H13.1855L9.87842 6.36304H8.34863L5.0415 15.5227H6.50146L7.3457 13.0916H10.8369L11.6748 15.5227ZM9.04053 8.02612H9.14844L10.4751 11.8982H7.70752L9.04053 8.02612Z",fill:"currentColor"}),c.jsx("path",{d:"M16.8101 14.488C16.0674 14.488 15.5278 14.1262 15.5278 13.5042C15.5278 12.8948 15.9595 12.571 16.9116 12.5076L18.6001 12.3997V12.9773C18.6001 13.8342 17.8384 14.488 16.8101 14.488ZM16.4609 15.637C17.3687 15.637 18.124 15.2434 18.5366 14.5515H18.6445V15.5227H19.9585V10.8C19.9585 9.34009 18.981 8.47681 17.248 8.47681C15.6802 8.47681 14.563 9.23853 14.4233 10.4255H15.7437C15.896 9.93677 16.4229 9.65747 17.1846 9.65747C18.1177 9.65747 18.6001 10.0701 18.6001 10.8V11.3967L16.7275 11.5046C15.0835 11.6062 14.1567 12.3235 14.1567 13.5676C14.1567 14.8308 15.1279 15.637 16.4609 15.637Z",fill:"currentColor"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.9585 18.637L5.0415 18.637V17.437L19.9585 17.437V18.637Z",fill:"currentColor"})]})}),V_e=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"sun",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M19 12.5H22M3 12.5H6M12.5 6V3M12.5 22V19M17.3891 7.61091L19.5104 5.48959M5.48959 19.5104L7.61091 17.3891M7.61091 7.61091L5.48959 5.48959M19.5104 19.5104L17.3891 17.3891M16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),vw=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"sync",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M13.5 4.5H12.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 15.6631 6.33576 18.3975 9 19.6958M11.5 20.5H12.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 9.33688 18.6642 6.60253 16 5.30423",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),w0t=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"tablet-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M5.5 5.5C5.5 4.94772 5.94772 4.5 6.5 4.5H18.5C19.0523 4.5 19.5 4.94772 19.5 5.5V19.5C19.5 20.0523 19.0523 20.5 18.5 20.5H6.5C5.94772 20.5 5.5 20.0523 5.5 19.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M13 18C13 18.2761 12.7761 18.5 12.5 18.5C12.2239 18.5 12 18.2761 12 18C12 17.7239 12.2239 17.5 12.5 17.5C12.7761 17.5 13 17.7239 13 18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),C0t=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"tag",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M12.5 20L5 20L5 12.5L12.5 5L20 12.5L12.5 20Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11 15.5C11 16.3284 10.3284 17 9.5 17C8.67157 17 8 16.3284 8 15.5C8 14.6716 8.67157 14 9.5 14C10.3284 14 11 14.6716 11 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),k0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"tags",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M12.1562 7.93179L13.9717 6.11633L20.3553 12.5L13.9717 18.8836L10.6855 18.8836M11.0283 18.8836L17.4119 12.5L11.0283 6.11633L4.64462 12.5L4.64462 18.8836L11.0283 18.8836ZM9.75153 15.0534C9.75153 15.7585 9.17992 16.3302 8.47481 16.3302C7.76969 16.3302 7.19808 15.7585 7.19808 15.0534C7.19808 14.3483 7.76969 13.7767 8.47481 13.7767C9.17992 13.7767 9.75153 14.3483 9.75153 15.0534Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),S0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"target",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M12.5 3V10M22 12.5H15M12.5 22V15M3 12.5H10M19 12.5C19 16.0899 16.0899 19 12.5 19C8.91015 19 6 16.0899 6 12.5C6 8.91015 8.91015 6 12.5 6C16.0899 6 19 8.91015 19 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),TM=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"task",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M20.5 10.75V19.75H4.5V10.75M20.5 10.75V5.75H17.5M20.5 10.75H4.5M4.5 10.75V5.75H7.5M7.5 5.75H17.5M7.5 5.75V8.25M7.5 5.75V3.25M17.5 5.75V8.25M17.5 5.75V3.25M9.7002 14.7358L11.7002 16.7358L15.3002 13.1758",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),E0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"terminal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M8.5 9.5L11.5 12.5L8.5 15.5M13 15.5H17M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M7.5 9V6.5H17.5V9M12.5 18.5V6.5M10 18.5H15",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),T0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"th-large",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M12.5 6.5V12.5M12.5 12.5V18.5M12.5 12.5H19.5M12.5 12.5H5.5M19.5 12.5V6.5H5.5V12.5M19.5 12.5V18.5H5.5V12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),A0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"th-list",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M9.5 6.5V10.5M9.5 10.5V14.5M9.5 10.5H19.5M9.5 10.5H5.5M9.5 14.5V18.5M9.5 14.5H19.5M9.5 14.5H5.5M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),j0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"thumbs-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M9.5 15C9.5 15 12.5 16.5 12.5 18C12.5 19.5 13.5 19.5 13.5 19.5C13.5 19.5 14.5 19.5 14.5 18C14.5 16.5 14.5 15.5 14.5 15.5H18C18 15.5 18 15.5 18 15.5C18 15.5 19 15.5 19 14.5C19 13.5 19.5 14 19.5 13C19.5 12 19 11.5 19 10.5C19 9.5 18 9.5 18 8.5C18 7.5 17 7.5 16.5 7.5C16 7.5 9.5 7.5 9.5 7.5M9.5 7.5H6.5V15.5H9.5V7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),I0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"thumbs-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M9.5 10C9.5 10 12.5 8.5 12.5 7C12.5 5.5 13.5 5.5 13.5 5.5C13.5 5.5 14.5 5.5 14.5 7C14.5 8.5 14.5 9.5 14.5 9.5H18C18 9.5 18 9.5 18 9.5C18 9.5 19 9.5 19 10.5C19 11.5 19.5 11 19.5 12C19.5 13 19 13.5 19 14.5C19 15.5 18 15.5 18 16.5C18 17.5 17 17.5 16.5 17.5C16 17.5 9.5 17.5 9.5 17.5M9.5 17.5H6.5V9.5H9.5V17.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"tiers",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M16.5 14.5L20.5 16.5L12.5 20.5L4.5 16.5L8.5 14.5M16.5 10.5L20.5 12.5L12.5 16.5L4.5 12.5L8.5 10.5M12.5 12.5L20.5 8.5L12.5 4.5L4.5 8.5L12.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),D0t=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"timeline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M12.5 5V20",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{d:"M5 8.5H11M7 12.5H11M9 16.5H11M13 16.5H20M13 12.5H18M13 8.5H16",stroke:"currentColor",strokeWidth:1.2})]})}),EK=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"toggle-arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M10.5 16V9L16 12.5L10.5 16Z",fill:"currentColor",stroke:"currentColor",strokeLinejoin:"round"})})}),O0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"token",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M17.5711 12.5C17.5711 15.2614 15.3325 17.5 12.5711 17.5M7.57107 12.5C7.57107 9.73858 9.80964 7.5 12.5711 7.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),M0t=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"transfer",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M19.5 16.5H6M5.5 8.5L19 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M16 13L19.5 16.5L16 20M9 12L5.5 8.5L9 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),P0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"translate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.4 5.4H4V6.6H13.2189C13.1612 6.78478 13.0895 6.99578 13.0025 7.22211C12.7032 8.00031 12.2402 8.91125 11.5757 9.57574L10 11.1515L9.42426 10.5757C8.72102 9.8725 8.25297 9.16987 7.96199 8.64611C7.81668 8.38455 7.71617 8.16874 7.65305 8.02146C7.62151 7.94787 7.59937 7.89154 7.5857 7.85534C7.57886 7.83725 7.57415 7.8242 7.57144 7.81657L7.56886 7.80922C7.56886 7.80922 7.56921 7.81026 7 8C6.43079 8.18974 6.43091 8.19009 6.43091 8.19009L6.43133 8.19135L6.43206 8.19351L6.4341 8.19948L6.44052 8.21786C6.44587 8.23292 6.45336 8.25357 6.46313 8.27942C6.48266 8.33112 6.5113 8.40369 6.55008 8.49416C6.62758 8.67501 6.74582 8.92795 6.91301 9.22889C7.24703 9.83013 7.77898 10.6275 8.57574 11.4243L9.15147 12L4.57964 16.5718L4.57655 16.5749L4.57577 16.5757L5.4243 17.4242L5.42688 17.4216L10.0368 12.8117L12.6159 14.9609L13.3841 14.0391L10.8888 11.9597L12.4243 10.4243C13.2598 9.58875 13.7968 8.49969 14.1225 7.65289C14.2818 7.23863 14.395 6.87072 14.4696 6.6H16V5.4H10.6V4H9.4V5.4ZM17.4405 10L21.553 19.7672H20.2509L19.1279 17.1H14.8721L13.7491 19.7672H12.447L16.5595 10H17.4405ZM15.3773 15.9H18.6227L17 12.0462L15.3773 15.9Z",fill:"currentColor"})})}),$i=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"trash",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M5 6.5H20M10 6.5V4.5C10 3.94772 10.4477 3.5 11 3.5H14C14.5523 3.5 15 3.94772 15 4.5V6.5M12.5 9V17M15.5 9L15 17M9.5 9L10 17M18.5 6.5L17.571 18.5767C17.5309 19.0977 17.0965 19.5 16.574 19.5H8.42603C7.90349 19.5 7.46905 19.0977 7.42898 18.5767L6.5 6.5H18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),R0t=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"trend-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M4.5 18.5L11.5 10.5L13.5 14.5L20.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M20.5 11V6.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),F0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"triangle-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M20.5 18.5H4.5L12.5 5.5L20.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),L0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"trolley",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M8 17.5L5.81763 6.26772C5.71013 5.81757 5.30779 5.5 4.84498 5.5H3M8 17.5H17M8 17.5C8.82843 17.5 9.5 18.1716 9.5 19C9.5 19.8284 8.82843 20.5 8 20.5C7.17157 20.5 6.5 19.8284 6.5 19C6.5 18.1716 7.17157 17.5 8 17.5ZM17 17.5C17.8284 17.5 18.5 18.1716 18.5 19C18.5 19.8284 17.8284 20.5 17 20.5C16.1716 20.5 15.5 19.8284 15.5 19C15.5 18.1716 16.1716 17.5 17 17.5ZM7.78357 14.5H17.5L19 7.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),N0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"truncate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M5 12.5H20M8.5 19.5L12.5 15.5L16.5 19.5M16.5 5.5L12.5 9.5L8.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),B0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"twitter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M18.8738 6.65751C18.1994 5.9447 17.2445 5.5 16.1857 5.5C14.1423 5.5 12.4857 7.15655 12.4857 9.2C12.4857 9.55263 12.535 9.89374 12.6272 10.2168C7.0826 9.56422 4.55703 6.02857 4.55703 6.02857C4.55703 6.02857 4.02846 9.2 6.14274 11.3143C5.08571 11.3143 4.55703 10.7857 4.55703 10.7857C4.55703 10.7857 4.55703 13.4286 7.19989 14.4857C6.67143 15.0143 5.61417 14.4857 5.61417 14.4857C5.97533 15.9303 7.45606 16.8562 8.82133 17.1358C6.67298 19.1676 3.5 18.7143 3.5 18.7143C5.14562 19.771 7.21334 20.3 9.31429 20.3C16.1214 20.3 19.8162 15.6315 19.8848 9.37762C20.8722 8.58943 22 7.08571 22 7.08571C22 7.08571 21.277 7.45458 19.6913 7.98315C21.277 6.92601 21.4714 5.5 21.4714 5.5C21.4714 5.5 20.4135 6.55789 18.8738 6.65751Z",fill:"currentColor"})})}),pS=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"ulist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M7.10153 17.5C7.10153 17.8322 6.83221 18.1016 6.5 18.1016C6.16778 18.1016 5.89847 17.8322 5.89847 17.5C5.89847 17.1678 6.16778 16.8985 6.5 16.8985C6.83221 16.8985 7.10153 17.1678 7.10153 17.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.10153 7.49997C7.10153 7.83218 6.83221 8.1015 6.5 8.1015C6.16778 8.1015 5.89847 7.83218 5.89847 7.49997C5.89847 7.16775 6.16778 6.89844 6.5 6.89844C6.83221 6.89844 7.10153 7.16775 7.10153 7.49997Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.10153 12.5C7.10153 12.8322 6.83221 13.1015 6.5 13.1015C6.16778 13.1015 5.89847 12.8322 5.89847 12.5C5.89847 12.1678 6.16778 11.8984 6.5 11.8984C6.83221 11.8984 7.10153 12.1678 7.10153 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10 7.5H19M10 17.5H19M10 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),V0t=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"unarchive",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M12.5 10.5V18M20.5 7.5V20.5H4.5V7.5L7.5 4.5H17.5L20.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M4.5 7.5H20.5M16 14L12.5 10.5L9 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),z_e=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"underline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M9.52791 7.11407H8.17V14.2582C8.17 16.5817 9.79195 18.2565 12.4927 18.2565C15.1934 18.2565 16.8154 16.5817 16.8154 14.2582V7.11407H15.4574V14.1677C15.4574 15.8122 14.3787 17.0042 12.4927 17.0042C10.6067 17.0042 9.52791 15.8122 9.52791 14.1677V7.11407Z",fill:"currentColor"}),c.jsx("path",{d:"M7 20.5H18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),B3=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"undo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Tu=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"unknown",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M5.5 5.5H19.5V19.5H5.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),z0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"unlink",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M15 13.5L17.5 11C18.281 10.219 18.281 8.78105 17.5 8L17 7.5C16.2189 6.71895 14.781 6.71895 14 7.5L11.5 10M10 11.5L7.5 14C6.71896 14.781 6.71895 16.219 7.5 17L8 17.5C8.78105 18.281 10.2189 18.281 11 17.5L13.5 15M9.5 8V5M8 9.5H5M17 15.5H20M15.5 17V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),U0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"unlock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M9.5 11.5V8.5C9.5 6.5 8 5.5 6.5 5.5C5 5.5 3.5 6.5 3.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),V3=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"unpublish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M5 19.5H20M12.5 16V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),AM=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"upload",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M12.5 6V15.5M5.5 15.5H19.5V19.5H5.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.5 11L12.5 6L17.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),T2=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"user",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M8 14.5C7 15 5.5 16 5.5 19.5H19.5C19.5 16 18.3416 15.1708 17 14.5C16 14 14 14 14 12.5C14 11 15 10.25 15 8.25C15 6.25 14 5.25 12.5 5.25C11 5.25 10 6.25 10 8.25C10 10.25 11 11 11 12.5C11 14 9 14 8 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),U_e=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"users",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M17.5 18.5H21.5C21.5 15 20.8416 14.1708 19.5 13.5C18.5 13 16.5 12.5 16.5 11C16.5 9.5 17.5 9 17.5 7C17.5 5 16.5 4 15 4C13.6628 4 12.723 4.79472 12.5347 6.38415M4.5 20.5C4.5 17 5.5 16 6.5 15.5C7.5 15 9.5 14.5 9.5 13C9.5 11.5 8.5 11 8.5 9C8.5 7 9.5 6 11 6C12.5 6 13.5 7 13.5 9C13.5 11 12.5 11.5 12.5 13C12.5 14.5 14.5 15 15.5 15.5C16.8416 16.1708 17.5 17 17.5 20.5H4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),H0t=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"versions",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M10.5 7.5H7.5V17.5H10.5M7.5 9.5H4.5V15.5H7.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M20.5 19.5V5.5H10.5V19.5H20.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),W0t=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"video",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M19.5 18.5H5.5V6.5H19.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M11.5 14.5V10.5L14.5 12.5L11.5 14.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),G0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"warning-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.741 5.12635C13.7357 3.41736 11.2643 3.41736 10.259 5.12635L3.7558 16.1817C2.73624 17.915 3.98595 20.1 5.99683 20.1H19.0032C21.014 20.1 22.2637 17.915 21.2442 16.1817L14.741 5.12635ZM11.9 8.99998V13H13.1V8.99998H11.9ZM13.1 16V14.5H11.9V16H13.1Z",fill:"currentColor"})})}),Br=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"warning-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M12.5 9V13M12.5 16V14.5M14.2239 5.43058L20.727 16.486C21.5113 17.8192 20.55 19.5 19.0032 19.5H5.99683C4.45 19.5 3.48869 17.8192 4.27297 16.486L10.7761 5.43058C11.5494 4.11596 13.4506 4.11596 14.2239 5.43058Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),K0t=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"wrench",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M17.0407 5.14624L17.4649 5.57051C17.6166 5.41887 17.6758 5.19783 17.6202 4.99071C17.5646 4.78359 17.4027 4.62189 17.1955 4.56656L17.0407 5.14624ZM14.4013 7.7856L13.9771 7.36134C13.8288 7.50959 13.7687 7.72447 13.8185 7.92813L14.4013 7.7856ZM12.8778 6.26211L12.4535 5.83784L12.8778 6.26211ZM11.8309 10.6568L12.2552 11.0811C12.4152 10.9211 12.4716 10.6847 12.401 10.4697L11.8309 10.6568ZM5.63925 16.8485L5.21498 16.4242H5.21498L5.63925 16.8485ZM5.63925 19.935L6.06351 19.5108H6.06351L5.63925 19.935ZM8.72581 19.935L9.15007 20.3593L8.72581 19.935ZM15.1184 13.5425L15.2301 12.953C15.0351 12.916 14.8344 12.9779 14.6941 13.1182L15.1184 13.5425ZM18.9718 12.3561L18.5475 11.9318L18.9718 12.3561ZM20.0877 8.19324L20.6674 8.03843C20.612 7.83124 20.4503 7.66934 20.2432 7.61375C20.0361 7.55816 19.815 7.61734 19.6634 7.76898L20.0877 8.19324ZM17.4483 10.8326L17.3058 11.4154C17.5094 11.4652 17.7243 11.4051 17.8726 11.2569L17.4483 10.8326ZM15 10.2339L14.4172 10.3764C14.4704 10.5938 14.6401 10.7635 14.8575 10.8167L15 10.2339ZM16.6164 4.72198L13.9771 7.36134L14.8256 8.20986L17.4649 5.57051L16.6164 4.72198ZM13.3021 6.68637C14.2723 5.71612 15.6467 5.39501 16.8859 5.72593L17.1955 4.56656C15.5595 4.12966 13.7389 4.55245 12.4535 5.83784L13.3021 6.68637ZM12.401 10.4697C11.9779 9.18109 12.2794 7.70907 13.3021 6.68637L12.4535 5.83784C11.0986 7.19284 10.7021 9.14217 11.2608 10.844L12.401 10.4697ZM11.4066 10.2326L5.21498 16.4242L6.06351 17.2727L12.2552 11.0811L11.4066 10.2326ZM5.21498 16.4242C4.12834 17.5109 4.12834 19.2727 5.21498 20.3593L6.06351 19.5108C5.4455 18.8928 5.4455 17.8908 6.06351 17.2727L5.21498 16.4242ZM5.21498 20.3593C6.30163 21.446 8.06343 21.446 9.15007 20.3593L8.30155 19.5108C7.68353 20.1288 6.68153 20.1288 6.06351 19.5108L5.21498 20.3593ZM9.15007 20.3593L15.5426 13.9668L14.6941 13.1182L8.30155 19.5108L9.15007 20.3593ZM18.5475 11.9318C17.6463 12.8331 16.3968 13.1742 15.2301 12.953L15.0066 14.132C16.5466 14.4239 18.2023 13.9741 19.3961 12.7804L18.5475 11.9318ZM19.508 8.34804C19.8389 9.58721 19.5178 10.9616 18.5475 11.9318L19.3961 12.7804C20.6815 11.495 21.1043 9.67445 20.6674 8.03843L19.508 8.34804ZM17.8726 11.2569L20.5119 8.6175L19.6634 7.76898L17.024 10.4083L17.8726 11.2569ZM14.8575 10.8167L17.3058 11.4154L17.5908 10.2498L15.1426 9.65106L14.8575 10.8167ZM13.8185 7.92813L14.4172 10.3764L15.5829 10.0914L14.9841 7.64307L13.8185 7.92813Z",fill:"currentColor"})})}),Y0t={"access-denied":Wm,activity:g1t,"add-circle":zN,"add-comment":cK,"add-document":lE,add:ca,"add-user":EM,api:y1t,archive:v1t,"arrow-down":c_e,"arrow-left":cE,"arrow-right":u_e,"arrow-top-right":b1t,"arrow-up":x1t,asterisk:w1t,"bar-chart":C1t,basket:k1t,bell:S1t,bill:E1t,"binary-document":uE,"block-content":d_e,"block-element":f_e,blockquote:_1t,bold:h_e,bolt:uK,book:T1t,"bookmark-filled":A1t,bookmark:j1t,bottle:I1t,bug:$1t,"bulb-filled":D1t,"bulb-outline":_M,calendar:ba,case:O1t,"chart-upward":M1t,"checkmark-circle":qy,checkmark:_a,"chevron-down":ea,"chevron-left":vg,"chevron-right":Es,"chevron-up":p_e,circle:Qb,clipboard:m_e,"clipboard-image":P1t,clock:dK,"close-circle":R1t,close:eo,"code-block":F1t,code:g_e,cog:fK,collapse:y_e,"color-wheel":L1t,comment:hK,component:N1t,compose:B1t,"compose-sparkles":V1t,confetti:z1t,controls:pK,copy:Ru,"credit-card":U1t,crop:v_e,cube:H1t,dashboard:W1t,database:G1t,desktop:b_e,diamond:K1t,document:Kd,"document-pdf":Y1t,"document-remove":q1t,"document-sheet":Z1t,"document-text":X1t,"document-video":J1t,"document-word":Q1t,"document-zip":eyt,documents:mK,dot:x_e,"double-chevron-down":tyt,"double-chevron-left":w_e,"double-chevron-right":gK,"double-chevron-up":nyt,download:yK,"drag-handle":C_e,drop:ryt,"earth-americas":hS,"earth-globe":iyt,edit:Oh,"ellipsis-horizontal":dE,"ellipsis-vertical":oyt,empty:ayt,enter:syt,"enter-right":lyt,envelope:cyt,equal:uyt,"error-filled":dyt,"error-outline":ua,"error-screen":fyt,expand:k_e,"eye-closed":hyt,"eye-open":S_e,"face-happy":pyt,"face-indifferent":myt,"face-sad":gyt,feedback:yyt,filter:vyt,folder:E_e,generate:byt,github:xyt,groq:wyt,hash:Cyt,"heart-filled":kyt,heart:Syt,"help-circle":ex,highlight:Eyt,home:_yt,"ice-cream":Tyt,image:Fu,"image-remove":Ayt,images:jyt,inbox:Iyt,"info-filled":$yt,"info-outline":bg,"inline-element":__e,inline:Dyt,"insert-above":vK,"insert-below":bK,italic:T_e,joystick:Oyt,json:A_e,launch:lp,leave:xK,lemon:Myt,link:Rl,"link-removed":j_e,linkedin:Pyt,list:Ryt,lock:Fyt,"logo-js":Lyt,"logo-ts":Nyt,marker:Byt,"marker-removed":Vyt,"master-detail":I_e,menu:$_e,microphone:zyt,"microphone-slash":Uyt,"mobile-device":Hyt,moon:D_e,number:O_e,"ok-hand":Wyt,olist:M_e,overage:Gyt,package:Kyt,"panel-left":P_e,"panel-right":R_e,pause:Yyt,"pin-filled":qyt,pin:Zyt,"pin-removed":Xyt,play:Jyt,plug:Qyt,presentation:e0t,"progress-50":t0t,"progress-75":n0t,projects:r0t,publish:fb,"read-only":fE,redo:i0t,refresh:o0t,"remove-circle":a0t,remove:s0t,reset:Mh,restore:wK,retrieve:l0t,retry:c0t,revert:CK,robot:u0t,rocket:d0t,schema:f0t,search:wa,select:F_e,share:h0t,sort:_2,sparkle:p0t,sparkles:m0t,spinner:kK,"split-horizontal":g0t,"split-vertical":L_e,square:y0t,"stack-compact":SK,stack:N_e,"star-filled":v0t,star:b0t,stop:x0t,strikethrough:B_e,string:ev,sun:V_e,sync:vw,"tablet-device":w0t,tag:C0t,tags:k0t,target:S0t,task:TM,terminal:E0t,text:_0t,"th-large":T0t,"th-list":A0t,"thumbs-down":j0t,"thumbs-up":I0t,tiers:$0t,timeline:D0t,"toggle-arrow-right":EK,token:O0t,transfer:M0t,translate:P0t,trash:$i,"trend-upward":R0t,"triangle-outline":F0t,trolley:L0t,truncate:N0t,twitter:B0t,ulist:pS,unarchive:V0t,underline:z_e,undo:B3,unknown:Tu,unlink:z0t,unlock:U0t,unpublish:V3,upload:AM,user:T2,users:U_e,versions:H0t,video:W0t,"warning-filled":G0t,"warning-outline":Br,wrench:K0t},H_e=p.forwardRef(function(e,t){const{symbol:n,...r}=e,i=Y0t[n];return i?c.jsx(i,{...r,ref:t}):null});function q0t(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ph(){return Ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ph.apply(null,arguments)}var UN="data-focus-lock",W_e="data-focus-lock-disabled",Z0t="data-no-focus-lock",X0t="data-autofocus-inside",J0t="data-no-autofocus";function i8(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Q0t(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var evt=typeof window<"u"?p.useLayoutEffect:p.useEffect,Goe=new WeakMap;function tvt(e,t){var n=Q0t(t||null,function(r){return e.forEach(function(i){return i8(i,r)})});return evt(function(){var r=Goe.get(n);if(r){var i=new Set(r),o=new Set(e),a=n.current;i.forEach(function(s){o.has(s)||i8(s,null)}),o.forEach(function(s){i.has(s)||i8(s,a)})}Goe.set(n,e)},[e]),n}var o8={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"};function G_e(e){return e}function K_e(e,t){t===void 0&&(t=G_e);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var a=t(o,r);return n.push(a),function(){n=n.filter(function(s){return s!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(s){return o(s)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var s=n;n=[],s.forEach(o),a=n}var l=function(){var d=a;a=[],d.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return i}function _K(e,t){return t===void 0&&(t=G_e),K_e(e,t)}function nvt(e){e===void 0&&(e={});var t=K_e(null);return t.options=Yo({async:!0,ssr:!1},e),t}var Y_e=_K({},function(e){var t=e.target,n=e.currentTarget;return{target:t,currentTarget:n}}),q_e=_K(),rvt=_K(),ivt=nvt({async:!0,ssr:typeof document<"u"}),ovt=p.createContext(void 0),avt=[],Z_e=p.forwardRef(function(t,n){var r,i=p.useState(),o=i[0],a=i[1],s=p.useRef(),l=p.useRef(!1),u=p.useRef(null),d=p.useState({}),f=d[1],h=t.children,m=t.disabled,g=m===void 0?!1:m,y=t.noFocusGuards,x=y===void 0?!1:y,b=t.persistentFocus,v=b===void 0?!1:b,w=t.crossFrame,C=w===void 0?!0:w,k=t.autoFocus,S=k===void 0?!0:k;t.allowTextSelection;var E=t.group,_=t.className,T=t.whiteList,A=t.hasPositiveIndices,I=t.shards,j=I===void 0?avt:I,$=t.as,D=$===void 0?"div":$,O=t.lockProps,M=O===void 0?{}:O,P=t.sideCar,F=t.returnFocus,L=F===void 0?!1:F,U=t.focusOptions,H=t.onActivation,N=t.onDeactivation,Y=p.useState({}),J=Y[0],ee=p.useCallback(function(pe){var ve=pe.captureFocusRestore;if(!u.current){var Ce,xe=(Ce=document)==null?void 0:Ce.activeElement;u.current=xe,xe!==document.body&&(u.current=ve(xe))}s.current&&H&&H(s.current),l.current=!0,f()},[H]),oe=p.useCallback(function(){l.current=!1,N&&N(s.current),f()},[N]),re=p.useCallback(function(pe){var ve=u.current;if(ve){var Ce=(typeof ve=="function"?ve():ve)||document.body,xe=typeof L=="function"?L(Ce):L;if(xe){var Ae=typeof xe=="object"?xe:void 0;u.current=null,pe?Promise.resolve().then(function(){return Ce.focus(Ae)}):Ce.focus(Ae)}}},[L]),se=p.useCallback(function(pe){l.current&&Y_e.useMedium(pe)},[]),G=q_e.useMedium,K=p.useCallback(function(pe){s.current!==pe&&(s.current=pe,a(pe))},[]),q=Ph((r={},r[W_e]=g&&"disabled",r[UN]=E,r),M),X=x!==!0,ie=X&&x!=="tail",te=tvt([n,K]),de=p.useMemo(function(){return{observed:s,shards:j,enabled:!g,get active(){return l.current}}},[g,l,j,s]);return Fe.createElement(p.Fragment,null,X&&[Fe.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:g?-1:0,style:o8}),A?Fe.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:g?-1:1,style:o8}):null],!g&&Fe.createElement(P,{id:J,sideCar:ivt,observed:o,disabled:g,persistentFocus:v,crossFrame:C,autoFocus:S,whiteList:T,shards:j,onActivation:ee,onDeactivation:oe,returnFocus:re,focusOptions:U,noFocusGuards:x}),Fe.createElement(D,Ph({ref:te},q,{className:_,onBlur:G,onFocus:se}),Fe.createElement(ovt.Provider,{value:de},h)),ie&&Fe.createElement("div",{"data-focus-guard":!0,tabIndex:g?-1:0,style:o8}))});Z_e.propTypes={};const X_e=Z_e;function z3(e,t){return z3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},z3(e,t)}function svt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,z3(e,t)}function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}function lvt(e,t){if(Lu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J_e(e){var t=lvt(e,"string");return Lu(t)=="symbol"?t:t+""}function at(e,t,n){return(t=J_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cvt(e,t){function n(r){return r.displayName||r.name||"Component"}return function(i){var o=[],a;function s(){a=e(o.map(function(u){return u.props})),t(a)}var l=function(u){svt(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return a};var f=d.prototype;return f.componentDidMount=function(){o.push(this),s()},f.componentDidUpdate=function(){s()},f.componentWillUnmount=function(){var m=o.indexOf(this);o.splice(m,1),s()},f.render=function(){return Fe.createElement(i,this.props)},d}(p.PureComponent);return at(l,"displayName","SideEffect("+n(i)+")"),l}}var af=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},dy=function(e){return Array.isArray(e)?e:[e]},Q_e=function(e){return Array.isArray(e)?e[0]:e},uvt=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},eTe=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},tTe=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},dvt=function(e){return e.hasAttribute("inert")},fvt=function(e,t){return!e||tTe(e)||!uvt(e)&&!dvt(e)&&t(eTe(e))},nTe=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=fvt(t,nTe.bind(void 0,e));return e.set(t,r),r},hvt=function(e,t){return e&&!tTe(e)?gvt(e)?t(eTe(e)):!1:!0},rTe=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=hvt(t,rTe.bind(void 0,e));return e.set(t,r),r},iTe=function(e){return e.dataset},pvt=function(e){return e.tagName==="BUTTON"},oTe=function(e){return e.tagName==="INPUT"},aTe=function(e){return oTe(e)&&e.type==="radio"},mvt=function(e){return!((oTe(e)||pvt(e))&&(e.type==="hidden"||e.disabled))},gvt=function(e){var t=e.getAttribute(J0t);return![!0,"true",""].includes(t)},TK=function(e){var t;return!!(e&&(!((t=iTe(e))===null||t===void 0)&&t.focusGuard))},HN=function(e){return!TK(e)},yvt=function(e){return!!e},vvt=function(e,t){var n=Math.max(0,e.tabIndex),r=Math.max(0,t.tabIndex),i=n-r,o=e.index-t.index;if(i){if(!n)return 1;if(!r)return-1}return i||o},bvt=function(e){return e.tabIndex<0&&!e.hasAttribute("tabindex")?0:e.tabIndex},AK=function(e,t,n){return af(e).map(function(r,i){var o=bvt(r);return{node:r,index:i,tabIndex:n&&o===-1?(r.dataset||{}).focusGuard?0:-1:o}}).filter(function(r){return!t||r.tabIndex>=0}).sort(vvt)},xvt=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],jK=xvt.join(","),wvt="".concat(jK,", [data-focus-guard]"),sTe=function(e,t){return af((e.shadowRoot||e).children).reduce(function(n,r){return n.concat(r.matches(t?wvt:jK)?[r]:[],sTe(r))},[])},Cvt=function(e,t){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?tx([e.contentDocument.body],t):[e]},tx=function(e,t){return e.reduce(function(n,r){var i,o=sTe(r,t),a=(i=[]).concat.apply(i,o.map(function(s){return Cvt(s,t)}));return n.concat(a,r.parentNode?af(r.parentNode.querySelectorAll(jK)).filter(function(s){return s===r}):[])},[])},kvt=function(e){var t=e.querySelectorAll("[".concat(X0t,"]"));return af(t).map(function(n){return tx([n])}).reduce(function(n,r){return n.concat(r)},[])},IK=function(e,t){return af(e).filter(function(n){return nTe(t,n)}).filter(function(n){return mvt(n)})},Koe=function(e,t){return t===void 0&&(t=new Map),af(e).filter(function(n){return rTe(t,n)})},$K=function(e,t,n){return AK(IK(tx(e,n),t),!0,n)},A2=function(e,t){return AK(IK(tx(e),t),!1)},Svt=function(e,t){return IK(kvt(e),t)},R1=function(e,t){return e.shadowRoot?R1(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:af(e.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var i=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return i?R1(i,t):!1}return R1(n,t)})},Evt=function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var i=r+1;i<n;i+=1){var o=e[r].compareDocumentPosition(e[i]);(o&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(i),(o&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter(function(a,s){return!t.has(s)})},lTe=function(e){return e.parentNode?lTe(e.parentNode):e},DK=function(e){var t=dy(e);return t.filter(Boolean).reduce(function(n,r){var i=r.getAttribute(UN);return n.push.apply(n,i?Evt(af(lTe(r).querySelectorAll("[".concat(UN,'="').concat(i,'"]:not([').concat(W_e,'="disabled"])')))):[r]),n},[])},_vt=function(e){try{return e()}catch{return}},j2=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var t=e.activeElement;return t.shadowRoot?j2(t.shadowRoot):t instanceof HTMLIFrameElement&&_vt(function(){return t.contentWindow.document})?j2(t.contentWindow.document):t}},Tvt=function(e,t){return e===t},Avt=function(e,t){return!!af(e.querySelectorAll("iframe")).some(function(n){return Tvt(n,t)})},cTe=function(e,t){return t===void 0&&(t=j2(Q_e(e).ownerDocument)),!t||t.dataset&&t.dataset.focusGuard?!1:DK(e).some(function(n){return R1(n,t)||Avt(n,t)})},jvt=function(e){e===void 0&&(e=document);var t=j2(e);return t?af(e.querySelectorAll("[".concat(Z0t,"]"))).some(function(n){return R1(n,t)}):!1},Ivt=function(e,t){return t.filter(aTe).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},OK=function(e,t){return aTe(e)&&e.name?Ivt(e,t):e},$vt=function(e){var t=new Set;return e.forEach(function(n){return t.add(OK(n,e))}),e.filter(function(n){return t.has(n)})},Yoe=function(e){return e[0]&&e.length>1?OK(e[0],e):e[0]},qoe=function(e,t){return e.indexOf(OK(t,e))},WN="NEW_FOCUS",Dvt=function(e,t,n,r,i){var o=e.length,a=e[0],s=e[o-1],l=TK(r);if(!(r&&e.indexOf(r)>=0)){var u=r!==void 0?n.indexOf(r):-1,d=i?n.indexOf(i):u,f=i?e.indexOf(i):-1;if(u===-1)return f!==-1?f:WN;if(f===-1)return WN;var h=u-d,m=n.indexOf(a),g=n.indexOf(s),y=$vt(n),x=r!==void 0?y.indexOf(r):-1,b=i?y.indexOf(i):x,v=y.filter(function(_){return _.tabIndex>=0}),w=r!==void 0?v.indexOf(r):-1,C=i?v.indexOf(i):w,k=w>=0&&C>=0?C-w:b-x;if(!h&&f>=0||t.length===0)return f;var S=qoe(e,t[0]),E=qoe(e,t[t.length-1]);if(u<=m&&l&&Math.abs(h)>1)return E;if(u>=g&&l&&Math.abs(h)>1)return S;if(h&&Math.abs(k)>1)return f;if(u<=m)return E;if(u>g)return S;if(h)return Math.abs(h)>1?f:(o+f+h)%o}},Ovt=function(e){return function(t){var n,r=(n=iTe(t))===null||n===void 0?void 0:n.autofocus;return t.autofocus||r!==void 0&&r!=="false"||e.indexOf(t)>=0}},Zoe=function(e,t,n){var r=e.map(function(o){var a=o.node;return a}),i=Koe(r.filter(Ovt(n)));return i&&i.length?Yoe(i):Yoe(Koe(t))},GN=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&GN(e.parentNode.host||e.parentNode,t),t},a8=function(e,t){for(var n=GN(e),r=GN(t),i=0;i<n.length;i+=1){var o=n[i];if(r.indexOf(o)>=0)return o}return!1},uTe=function(e,t,n){var r=dy(e),i=dy(t),o=r[0],a=!1;return i.filter(Boolean).forEach(function(s){a=a8(a||s,s)||a,n.filter(Boolean).forEach(function(l){var u=a8(o,l);u&&(!a||R1(u,a)?a=u:a=a8(u,a))})}),a},Xoe=function(e,t){return e.reduce(function(n,r){return n.concat(Svt(r,t))},[])},Mvt=function(e,t){var n=new Map;return t.forEach(function(r){return n.set(r.node,r)}),e.map(function(r){return n.get(r)}).filter(yvt)},Pvt=function(e,t){var n=j2(dy(e).length>0?document:Q_e(e).ownerDocument),r=DK(e).filter(HN),i=uTe(n||e,e,r),o=new Map,a=A2(r,o),s=a.filter(function(g){var y=g.node;return HN(y)});if(s[0]){var l=A2([i],o).map(function(g){var y=g.node;return y}),u=Mvt(l,s),d=u.map(function(g){var y=g.node;return y}),f=u.filter(function(g){var y=g.tabIndex;return y>=0}).map(function(g){var y=g.node;return y}),h=Dvt(d,f,l,n,t);if(h===WN){var m=Zoe(a,f,Xoe(r,o))||Zoe(a,d,Xoe(r,o));if(m)return{node:m};console.warn("focus-lock: cannot find any node to move focus into");return}return h===void 0?h:u[h]}},Rvt=function(e){var t=DK(e).filter(HN),n=uTe(e,e,t),r=AK(tx([n],!0),!0,!0),i=tx(t,!1);return r.map(function(o){var a=o.node,s=o.index;return{node:a,index:s,lockItem:i.indexOf(a)>=0,guard:TK(a)}})},MK=function(e,t){e&&("focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus())},s8=0,l8=!1,dTe=function(e,t,n){n===void 0&&(n={});var r=Pvt(e,t);if(!l8&&r){if(s8>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),l8=!0,setTimeout(function(){l8=!1},1);return}s8++,MK(r.node,n.focusOptions),s8--}};function DC(e){if(!e)return null;if(typeof WeakRef>"u")return function(){return e||null};var t=e?new WeakRef(e):null;return function(){return(t==null?void 0:t.deref())||null}}var Fvt=function(e){if(!e)return null;for(var t=[],n=e;n&&n!==document.body;)t.push({current:DC(n),parent:DC(n.parentElement),left:DC(n.previousElementSibling),right:DC(n.nextElementSibling)}),n=n.parentElement;return{element:DC(e),stack:t,ownerDocument:e.ownerDocument}},Lvt=function(e){var t,n,r,i,o;if(e)for(var a=e.stack,s=e.ownerDocument,l=new Map,u=0,d=a;u<d.length;u++){var f=d[u],h=(t=f.parent)===null||t===void 0?void 0:t.call(f);if(h&&s.contains(h)){for(var m=(n=f.left)===null||n===void 0?void 0:n.call(f),g=f.current(),y=h.contains(g)?g:void 0,x=(r=f.right)===null||r===void 0?void 0:r.call(f),b=$K([h],l),v=(o=(i=y??(m==null?void 0:m.nextElementSibling))!==null&&i!==void 0?i:x)!==null&&o!==void 0?o:m;v;){for(var w=0,C=b;w<C.length;w++){var k=C[w];if(v!=null&&v.contains(k.node))return k.node}v=v.nextElementSibling}if(b.length)return b[0].node}}},fTe=function(e){var t=Fvt(e);return function(){return Lvt(t)}},Nvt=function(e,t,n){if(!e||!t)return console.error("no element or scope given"),{};var r=dy(t);if(r.every(function(a){return!R1(a,e)}))return console.error("Active element is not contained in the scope"),{};var i=n?$K(r,new Map):A2(r,new Map),o=i.findIndex(function(a){var s=a.node;return s===e});if(o!==-1)return{prev:i[o-1],next:i[o+1],first:i[0],last:i[i.length-1]}},Bvt=function(e,t){var n=t?$K(dy(e),new Map):A2(dy(e),new Map);return{first:n[0],last:n[n.length-1]}},Vvt=function(e){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},e)},hTe=function(e,t,n){t===void 0&&(t={});var r=Vvt(t),i=Nvt(e,r.scope,r.onlyTabbable);if(i){var o=n(i,r.cycle);o&&MK(o.node,r.focusOptions)}},zvt=function(e,t){t===void 0&&(t={}),hTe(e,t,function(n,r){var i=n.next,o=n.first;return i||r&&o})},Uvt=function(e,t){t===void 0&&(t={}),hTe(e,t,function(n,r){var i=n.prev,o=n.last;return i||r&&o})},pTe=function(e,t,n){var r,i=Bvt(e,(r=t.onlyTabbable)!==null&&r!==void 0?r:!0),o=i[n];o&&MK(o.node,t.focusOptions)},Hvt=function(e,t){t===void 0&&(t={}),pTe(e,t,"first")},Wvt=function(e,t){t===void 0&&(t={}),pTe(e,t,"last")};function PK(e){setTimeout(e,1)}var Gvt=function(t){return t&&"current"in t?t.current:t},mTe=function(){return document&&document.activeElement===document.body},Kvt=function(){return mTe()||jvt()},hb=null,zs=null,Joe=function(){return null},pb=null,I2=!1,RK=!1,Yvt=function(){return!0},qvt=function(t){return(hb.whiteList||Yvt)(t)},Zvt=function(t,n){pb={observerNode:t,portaledElement:n}},Xvt=function(t){return pb&&pb.portaledElement===t};function Qoe(e,t,n,r){var i=null,o=e;do{var a=r[o];if(a.guard)a.node.dataset.focusAutoGuard&&(i=a);else if(a.lockItem){if(o!==e)return;i=null}else break}while((o+=n)!==t);i&&(i.node.tabIndex=0)}var Jvt=function(t){return t?!!I2:I2==="meanwhile"},Qvt=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},ebt=function(t,n){return n.some(function(r){return Qvt(t,r,r)})},gTe=function(t){return A2(t,new Map)},tbt=function(t){return!gTe([t.parentNode]).some(function(n){return n.node===t})},U3=function(){var t=!1;if(hb){var n=hb,r=n.observed,i=n.persistentFocus,o=n.autoFocus,a=n.shards,s=n.crossFrame,l=n.focusOptions,u=n.noFocusGuards,d=r||pb&&pb.portaledElement;if(mTe()&&zs&&zs!==document.body&&(!document.body.contains(zs)||tbt(zs))){var f=Joe();f&&f.focus()}var h=document&&document.activeElement;if(d){var m=[d].concat(a.map(Gvt).filter(Boolean)),g=function(){if(!Jvt(s)||!u||!zs||RK)return!1;var w=gTe(m),C=w.findIndex(function(k){var S=k.node;return S===zs});return C===0||C===w.length-1};if((!h||qvt(h))&&(i||g()||!Kvt()||!zs&&o)&&(d&&!(cTe(m)||h&&ebt(h,m)||Xvt(h))&&(document&&!zs&&h&&!o?(h.blur&&h.blur(),document.body.focus()):(t=dTe(m,zs,{focusOptions:l}),pb={})),zs=document&&document.activeElement,zs!==document.body&&(Joe=fTe(zs)),I2=!1),document&&h!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var y=document&&document.activeElement,x=Rvt(m),b=x.map(function(v){var w=v.node;return w}).indexOf(y);b>-1&&(x.filter(function(v){var w=v.guard,C=v.node;return w&&C.dataset.focusAutoGuard}).forEach(function(v){var w=v.node;return w.removeAttribute("tabIndex")}),Qoe(b,x.length,1,x),Qoe(b,-1,-1,x))}}}return t},yTe=function(t){U3()&&t&&(t.stopPropagation(),t.preventDefault())},FK=function(){return PK(U3)},nbt=function(t){var n=t.target,r=t.currentTarget;r.contains(n)||Zvt(r,n)},rbt=function(){return null},vTe=function(){RK=!0},bTe=function(){RK=!1,I2="just",PK(function(){I2="meanwhile"})},ibt=function(){document.addEventListener("focusin",yTe),document.addEventListener("focusout",FK),window.addEventListener("focus",vTe),window.addEventListener("blur",bTe)},obt=function(){document.removeEventListener("focusin",yTe),document.removeEventListener("focusout",FK),window.removeEventListener("focus",vTe),window.removeEventListener("blur",bTe)};function abt(e){return e.filter(function(t){var n=t.disabled;return!n})}var xTe={moveFocusInside:dTe,focusInside:cTe,focusNextElement:zvt,focusPrevElement:Uvt,focusFirstElement:Hvt,focusLastElement:Wvt,captureFocusRestore:fTe};function sbt(e){var t=e.slice(-1)[0];t&&!hb&&ibt();var n=hb,r=n&&t&&t.id===n.id;hb=t,n&&!r&&(n.onDeactivation(),e.filter(function(i){var o=i.id;return o===n.id}).length||n.returnFocus(!t)),t?(zs=null,(!r||n.observed!==t.observed)&&t.onActivation(xTe),U3(),PK(U3)):(obt(),zs=null)}Y_e.assignSyncMedium(nbt);q_e.assignMedium(FK);rvt.assignMedium(function(e){return e(xTe)});const lbt=cvt(abt,sbt)(rbt);var wTe=p.forwardRef(function(t,n){return Fe.createElement(X_e,Ph({sideCar:lbt,ref:n},t))}),CTe=X_e.propTypes||{};CTe.sideCar;q0t(CTe,["sideCar"]);wTe.propTypes={};const Ku=wTe;function kTe(e){const t=Yd(e),[n,r]=p.useState(t),{defaultDpr:i,maxDpr:o,round:a}=e||{};return p.useEffect(()=>{if(!(typeof window<"u"&&"matchMedia"in window))return;const l=()=>r(Yd({defaultDpr:i,maxDpr:o,round:a})),u=window.matchMedia(`screen and (resolution: ${n}dppx)`);return u.addEventListener?u.addEventListener("change",l):u.addListener(l),()=>{u.removeEventListener?u.removeEventListener("change",l):u.removeListener(l)}},[n,i,o,a]),n}function Yd(e){const{defaultDpr:t=1,maxDpr:n=3,round:r=!0}=e||{},o=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:t;return Math.min(Math.max(1,r?Math.floor(o):o),n)}function wn(e){return typeof e=="function"}function jM(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var c8=jM(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function H3(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var fy=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=J1(a),l=s.next();!l.done;l=s.next()){var u=l.value;u.remove(this)}}catch(y){t={error:y}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}else a.remove(this);var d=this.initialTeardown;if(wn(d))try{d()}catch(y){o=y instanceof c8?y.errors:[y]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var h=J1(f),m=h.next();!m.done;m=h.next()){var g=m.value;try{eae(g)}catch(y){o=o??[],y instanceof c8?o=Mo(Mo([],ws(o)),ws(y.errors)):o.push(y)}}}catch(y){r={error:y}}finally{try{m&&!m.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}if(o)throw new c8(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)eae(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&H3(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&H3(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),STe=fy.EMPTY;function ETe(e){return e instanceof fy||e&&"closed"in e&&wn(e.remove)&&wn(e.add)&&wn(e.unsubscribe)}function eae(e){wn(e)?e():e.unsubscribe()}var _Te={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},KN={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=KN.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,Mo([e,t],ws(n))):setTimeout.apply(void 0,Mo([e,t],ws(n)))},clearTimeout:function(e){var t=KN.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function TTe(e){KN.setTimeout(function(){throw e})}function Gm(){}function Wj(e){e()}var LK=function(e){Hl(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,ETe(n)&&n.add(r)):r.destination=fbt,r}return t.create=function(n,r,i){return new nx(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(fy),cbt=Function.prototype.bind;function u8(e,t){return cbt.call(e,t)}var ubt=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){ET(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){ET(r)}else ET(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){ET(n)}},e}(),nx=function(e){Hl(t,e);function t(n,r,i){var o=e.call(this)||this,a;if(wn(n)||!n)a={next:n??void 0,error:r??void 0,complete:i??void 0};else{var s;o&&_Te.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=function(){return o.unsubscribe()},a={next:n.next&&u8(n.next,s),error:n.error&&u8(n.error,s),complete:n.complete&&u8(n.complete,s)}):a=n}return o.destination=new ubt(a),o}return t}(LK);function ET(e){TTe(e)}function dbt(e){throw e}var fbt={closed:!0,next:Gm,error:dbt,complete:Gm},NK=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function sf(e){return e}function hbt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ATe(e)}function ATe(e){return e.length===0?sf:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var Lt=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,o=mbt(t)?t:new nx(t,n,r);return Wj(function(){var a=i,s=a.operator,l=a.source;o.add(s?s.call(o,l):l?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=tae(n),new n(function(i,o){var a=new nx({next:function(s){try{t(s)}catch(l){o(l),a.unsubscribe()}},error:o,complete:i});r.subscribe(a)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[NK]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ATe(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=tae(t),new t(function(r,i){var o;n.subscribe(function(a){return o=a},function(a){return i(a)},function(){return r(o)})})},e.create=function(t){return new e(t)},e}();function tae(e){var t;return(t=e??_Te.Promise)!==null&&t!==void 0?t:Promise}function pbt(e){return e&&wn(e.next)&&wn(e.error)&&wn(e.complete)}function mbt(e){return e&&e instanceof LK||pbt(e)&&ETe(e)}function jTe(e){return wn(e==null?void 0:e.lift)}function Gn(e){return function(t){if(jTe(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function mn(e,t,n,r,i){return new ITe(e,t,n,r,i)}var ITe=function(e){Hl(t,e);function t(n,r,i,o,a,s){var l=e.call(this,n)||this;return l.onFinalize=a,l.shouldUnsubscribe=s,l._next=r?function(u){try{r(u)}catch(d){n.error(d)}}:e.prototype._next,l._error=o?function(u){try{o(u)}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=i?function(){try{i()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,l}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(LK);function yu(){return Gn(function(e,t){var n=null;e._refCount++;var r=mn(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){n=null;return}var i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var gbt=function(e){Hl(t,e);function t(n,r){var i=e.call(this)||this;return i.source=n,i.subjectFactory=r,i._subject=null,i._refCount=0,i._connection=null,jTe(n)&&(i.lift=n.lift),i}return t.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},t.prototype.getSubject=function(){var n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var n=this._connection;this._subject=this._connection=null,n==null||n.unsubscribe()},t.prototype.connect=function(){var n=this,r=this._connection;if(!r){r=this._connection=new fy;var i=this.getSubject();r.add(this.source.subscribe(mn(i,void 0,function(){n._teardown(),i.complete()},function(o){n._teardown(),i.error(o)},function(){return n._teardown()}))),r.closed&&(this._connection=null,r=fy.EMPTY)}return r},t.prototype.refCount=function(){return yu()(this)},t}(Lt),ybt=jM(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Jr=function(e){Hl(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new nae(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new ybt},t.prototype.next=function(n){var r=this;Wj(function(){var i,o;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var a=J1(r.currentObservers),s=a.next();!s.done;s=a.next()){var l=s.value;l.next(n)}}catch(u){i={error:u}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}}})},t.prototype.error=function(n){var r=this;Wj(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},t.prototype.complete=function(){var n=this;Wj(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,i=this,o=i.hasError,a=i.isStopped,s=i.observers;return o||a?STe:(this.currentObservers=null,s.push(n),new fy(function(){r.currentObservers=null,H3(s,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,o=r.thrownError,a=r.isStopped;i?n.error(o):a&&n.complete()},t.prototype.asObservable=function(){var n=new Lt;return n.source=this,n},t.create=function(n,r){return new nae(n,r)},t}(Lt),nae=function(e){Hl(t,e);function t(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return t.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},t.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:STe},t}(Jr),IM=function(e){Hl(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,o=n._value;if(r)throw i;return this._throwIfClosed(),o},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(Jr),BK={now:function(){return(BK.delegate||Date).now()},delegate:void 0},VK=function(e){Hl(t,e);function t(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=BK);var o=e.call(this)||this;return o._bufferSize=n,o._windowTime=r,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=r===1/0,o._bufferSize=Math.max(1,n),o._windowTime=Math.max(1,r),o}return t.prototype.next=function(n){var r=this,i=r.isStopped,o=r._buffer,a=r._infiniteTimeWindow,s=r._timestampProvider,l=r._windowTime;i||(o.push(n),!a&&o.push(s.now()+l)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,o=i._infiniteTimeWindow,a=i._buffer,s=a.slice(),l=0;l<s.length&&!n.closed;l+=o?1:2)n.next(s[l]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,o=n._buffer,a=n._infiniteTimeWindow,s=(a?1:2)*r;if(r<1/0&&s<o.length&&o.splice(0,o.length-s),!a){for(var l=i.now(),u=0,d=1;d<o.length&&o[d]<=l;d+=2)u=d;u&&o.splice(0,u+1)}},t}(Jr),vbt=function(e){Hl(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(fy),W3={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=W3.delegate;return i!=null&&i.setInterval?i.setInterval.apply(i,Mo([e,t],ws(n))):setInterval.apply(void 0,Mo([e,t],ws(n)))},clearInterval:function(e){var t=W3.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},$Te=function(e){Hl(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return t.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var o=this.id,a=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(a,o,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(a,this.id,r),this},t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),W3.setInterval(n.flush.bind(n,this),i)},t.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&W3.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var i=!1,o;try{this.work(n)}catch(a){i=!0,o=a||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,H3(o,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(vbt),bbt=1,d8,YN={};function rae(e){return e in YN?(delete YN[e],!0):!1}var DTe={setImmediate:function(e){var t=bbt++;return YN[t]=!0,d8||(d8=Promise.resolve()),d8.then(function(){return rae(t)&&e()}),t},clearImmediate:function(e){rae(e)}},xbt=DTe.setImmediate,wbt=DTe.clearImmediate,G3={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=G3.delegate;return((n==null?void 0:n.setImmediate)||xbt).apply(void 0,Mo([],ws(e)))},clearImmediate:function(e){var t=G3.delegate;return((t==null?void 0:t.clearImmediate)||wbt)(e)},delegate:void 0},Cbt=function(e){Hl(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,n,r,i):(n.actions.push(this),n._scheduled||(n._scheduled=G3.setImmediate(n.flush.bind(n,void 0))))},t.prototype.recycleAsyncId=function(n,r,i){var o;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,i);var a=n.actions;r!=null&&((o=a[a.length-1])===null||o===void 0?void 0:o.id)!==r&&(G3.clearImmediate(r),n._scheduled===r&&(n._scheduled=void 0))},t}($Te),iae=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=BK.now,e}(),OTe=function(e){Hl(t,e);function t(n,r){r===void 0&&(r=iae.now);var i=e.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},t}(iae),kbt=function(e){Hl(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var i=this.actions,o;n=n||i.shift();do if(o=n.execute(n.state,n.delay))break;while((n=i[0])&&n.id===r&&i.shift());if(this._active=!1,o){for(;(n=i[0])&&n.id===r&&i.shift();)n.unsubscribe();throw o}},t}(OTe),MTe=new kbt(Cbt),Rc=new OTe($Te),Sbt=Rc,ur=new Lt(function(e){return e.complete()});function PTe(e){return e&&wn(e.schedule)}function zK(e){return e[e.length-1]}function $M(e){return wn(zK(e))?e.pop():void 0}function hE(e){return PTe(zK(e))?e.pop():void 0}function Ebt(e,t){return typeof zK(e)=="number"?e.pop():t}var UK=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function RTe(e){return wn(e==null?void 0:e.then)}function FTe(e){return wn(e[NK])}function LTe(e){return Symbol.asyncIterator&&wn(e==null?void 0:e[Symbol.asyncIterator])}function NTe(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function _bt(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var BTe=_bt();function VTe(e){return wn(e==null?void 0:e[BTe])}function zTe(e){return EGe(this,arguments,function(){var n,r,i,o;return Wwe(this,function(a){switch(a.label){case 0:n=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,tb(n.read())];case 3:return r=a.sent(),i=r.value,o=r.done,o?[4,tb(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,tb(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function UTe(e){return wn(e==null?void 0:e.getReader)}function sr(e){if(e instanceof Lt)return e;if(e!=null){if(FTe(e))return Tbt(e);if(UK(e))return Abt(e);if(RTe(e))return jbt(e);if(LTe(e))return HTe(e);if(VTe(e))return Ibt(e);if(UTe(e))return $bt(e)}throw NTe(e)}function Tbt(e){return new Lt(function(t){var n=e[NK]();if(wn(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Abt(e){return new Lt(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function jbt(e){return new Lt(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,TTe)})}function Ibt(e){return new Lt(function(t){var n,r;try{for(var i=J1(e),o=i.next();!o.done;o=i.next()){var a=o.value;if(t.next(a),t.closed)return}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function HTe(e){return new Lt(function(t){Dbt(e,t).catch(function(n){return t.error(n)})})}function $bt(e){return HTe(zTe(e))}function Dbt(e,t){var n,r,i,o;return SGe(this,void 0,void 0,function(){var a,s;return Wwe(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=_Ge(e),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),i={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Bd(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function WTe(e,t){return t===void 0&&(t=0),Gn(function(n,r){n.subscribe(mn(r,function(i){return Bd(r,e,function(){return r.next(i)},t)},function(){return Bd(r,e,function(){return r.complete()},t)},function(i){return Bd(r,e,function(){return r.error(i)},t)}))})}function GTe(e,t){return t===void 0&&(t=0),Gn(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function Obt(e,t){return sr(e).pipe(GTe(t),WTe(t))}function Mbt(e,t){return sr(e).pipe(GTe(t),WTe(t))}function Pbt(e,t){return new Lt(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Rbt(e,t){return new Lt(function(n){var r;return Bd(n,t,function(){r=e[BTe](),Bd(n,t,function(){var i,o,a;try{i=r.next(),o=i.value,a=i.done}catch(s){n.error(s);return}a?n.complete():n.next(o)},0,!0)}),function(){return wn(r==null?void 0:r.return)&&r.return()}})}function KTe(e,t){if(!e)throw new Error("Iterable cannot be null");return new Lt(function(n){Bd(n,t,function(){var r=e[Symbol.asyncIterator]();Bd(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function Fbt(e,t){return KTe(zTe(e),t)}function YTe(e,t){if(e!=null){if(FTe(e))return Obt(e,t);if(UK(e))return Pbt(e,t);if(RTe(e))return Mbt(e,t);if(LTe(e))return KTe(e,t);if(VTe(e))return Rbt(e,t);if(UTe(e))return Fbt(e,t)}throw NTe(e)}function ti(e,t){return t?YTe(e,t):sr(e)}function Se(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=hE(e);return ti(e,n)}function qd(e,t){var n=wn(e)?e:function(){return e},r=function(i){return i.error(n())};return new Lt(t?function(i){return t.schedule(r,0,i)}:r)}function qTe(e){return!!e&&(e instanceof Lt||wn(e.lift)&&wn(e.subscribe))}var pE=jM(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function so(e,t){var n=typeof t=="object";return new Promise(function(r,i){var o=!1,a;e.subscribe({next:function(s){a=s,o=!0},error:i,complete:function(){o?r(a):n?r(t.defaultValue):i(new pE)}})})}function Lbt(e,t){var n=typeof t=="object";return new Promise(function(r,i){var o=new nx({next:function(a){r(a),o.unsubscribe()},error:i,complete:function(){n?r(t.defaultValue):i(new pE)}});e.subscribe(o)})}function ZTe(e){return e instanceof Date&&!isNaN(e)}var Nbt=jM(function(e){return function(n){n===void 0&&(n=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n}});function Bbt(e,t){var n=ZTe(e)?{first:e}:typeof e=="number"?{each:e}:e,r=n.first,i=n.each,o=n.with,a=o===void 0?Vbt:o,s=n.scheduler,l=s===void 0?t??Rc:s,u=n.meta,d=u===void 0?null:u;if(r==null&&i==null)throw new TypeError("No timeout provided.");return Gn(function(f,h){var m,g,y=null,x=0,b=function(v){g=Bd(h,l,function(){try{m.unsubscribe(),sr(a({meta:d,lastValue:y,seen:x})).subscribe(h)}catch(w){h.error(w)}},v)};m=f.subscribe(mn(h,function(v){g==null||g.unsubscribe(),x++,h.next(y=v),i>0&&b(i)},void 0,void 0,function(){g!=null&&g.closed||g==null||g.unsubscribe(),y=null})),!x&&b(r!=null?typeof r=="number"?r:+r-l.now():i)})}function Vbt(e){throw new Nbt(e)}function fe(e,t){return Gn(function(n,r){var i=0;n.subscribe(mn(r,function(o){r.next(e.call(t,o,i++))}))})}var zbt=Array.isArray;function Ubt(e,t){return zbt(t)?e.apply(void 0,Mo([],ws(t))):e(t)}function DM(e){return fe(function(t){return Ubt(e,t)})}var Hbt=Array.isArray,Wbt=Object.getPrototypeOf,Gbt=Object.prototype,Kbt=Object.keys;function XTe(e){if(e.length===1){var t=e[0];if(Hbt(t))return{args:t,keys:null};if(Ybt(t)){var n=Kbt(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}function Ybt(e){return e&&typeof e=="object"&&Wbt(e)===Gbt}function JTe(e,t){return e.reduce(function(n,r,i){return n[r]=t[i],n},{})}function mo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=hE(e),r=$M(e),i=XTe(e),o=i.args,a=i.keys;if(o.length===0)return ti([],n);var s=new Lt(QTe(o,n,a?function(l){return JTe(a,l)}:sf));return r?s.pipe(DM(r)):s}function QTe(e,t,n){return n===void 0&&(n=sf),function(r){oae(t,function(){for(var i=e.length,o=new Array(i),a=i,s=i,l=function(d){oae(t,function(){var f=ti(e[d],t),h=!1;f.subscribe(mn(r,function(m){o[d]=m,h||(h=!0,s--),s||r.next(n(o.slice()))},function(){--a||r.complete()}))},r)},u=0;u<i;u++)l(u)},r)}}function oae(e,t,n){e?Bd(n,e,t):t()}function qbt(e,t,n,r,i,o,a,s){var l=[],u=0,d=0,f=!1,h=function(){f&&!l.length&&!u&&t.complete()},m=function(y){return u<r?g(y):l.push(y)},g=function(y){o&&t.next(y),u++;var x=!1;sr(n(y,d++)).subscribe(mn(t,function(b){i==null||i(b),o?m(b):t.next(b)},function(){x=!0},void 0,function(){if(x)try{u--;for(var b=function(){var v=l.shift();a?Bd(t,a,function(){return g(v)}):g(v)};l.length&&u<r;)b();h()}catch(v){t.error(v)}}))};return e.subscribe(mn(t,m,function(){f=!0,h()})),function(){s==null||s()}}function Ot(e,t,n){return n===void 0&&(n=1/0),wn(t)?Ot(function(r,i){return fe(function(o,a){return t(r,o,i,a)})(sr(e(r,i)))},n):(typeof t=="number"&&(n=t),Gn(function(r,i){return qbt(r,i,e,n)}))}function OM(e){return e===void 0&&(e=1/0),Ot(sf,e)}function Zbt(){return OM(1)}function Di(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Zbt()(ti(e,hE(e)))}function Qi(e){return new Lt(function(t){sr(e()).subscribe(t)})}function Xbt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=$M(e),r=XTe(e),i=r.args,o=r.keys,a=new Lt(function(s){var l=i.length;if(!l){s.complete();return}for(var u=new Array(l),d=l,f=l,h=function(g){var y=!1;sr(i[g]).subscribe(mn(s,function(x){y||(y=!0,f--),u[g]=x},function(){return d--},void 0,function(){(!d||!y)&&(f||s.next(o?JTe(o,u):u),s.complete())}))},m=0;m<l;m++)h(m)});return n?a.pipe(DM(n)):a}var Jbt=["addListener","removeListener"],Qbt=["addEventListener","removeEventListener"],ext=["on","off"];function es(e,t,n,r){if(wn(n)&&(r=n,n=void 0),r)return es(e,t,n).pipe(DM(r));var i=ws(rxt(e)?Qbt.map(function(s){return function(l){return e[s](t,l,n)}}):txt(e)?Jbt.map(aae(e,t)):nxt(e)?ext.map(aae(e,t)):[],2),o=i[0],a=i[1];if(!o&&UK(e))return Ot(function(s){return es(s,t,n)})(sr(e));if(!o)throw new TypeError("Invalid event target");return new Lt(function(s){var l=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return s.next(1<u.length?u:u[0])};return o(l),function(){return a(l)}})}function aae(e,t){return function(n){return function(r){return e[n](t,r)}}}function txt(e){return wn(e.addListener)&&wn(e.removeListener)}function nxt(e){return wn(e.on)&&wn(e.off)}function rxt(e){return wn(e.addEventListener)&&wn(e.removeEventListener)}function ixt(e,t,n){return Qi(function(){return e()?t:n})}function ni(e,t,n){e===void 0&&(e=0),n===void 0&&(n=Sbt);var r=-1;return t!=null&&(PTe(t)?n=t:r=t),new Lt(function(i){var o=ZTe(e)?+e-n.now():e;o<0&&(o=0);var a=0;return n.schedule(function(){i.closed||(i.next(a++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Un(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=hE(e),r=Ebt(e,1/0),i=e;return i.length?i.length===1?sr(i[0]):OM(r)(ti(i,n)):ur}var HK=new Lt(Gm),oxt=Array.isArray;function eAe(e){return e.length===1&&oxt(e[0])?e[0]:e}function axt(e,t){return function(n,r){return!e.call(t,n,r)}}function Bt(e,t){return Gn(function(n,r){var i=0;n.subscribe(mn(r,function(o){return e.call(t,o,i++)&&r.next(o)}))})}function WK(e,t,n){return[Bt(t,n)(sr(e)),Bt(axt(t,n))(sr(e))]}function sxt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e=eAe(e),e.length===1?sr(e[0]):new Lt(lxt(e))}function lxt(e){return function(t){for(var n=[],r=function(o){n.push(sr(e[o]).subscribe(mn(t,function(a){if(n){for(var s=0;s<n.length;s++)s!==o&&n[s].unsubscribe();n=null}t.next(a)})))},i=0;n&&!t.closed&&i<e.length;i++)r(i)}}function cxt(e,t){return new Lt(function(n){var r=e(),i=t(r),o=i?sr(i):ur;return o.subscribe(n),function(){r&&r.unsubscribe()}})}function uxt(e){return Gn(function(t,n){var r=!1,i=null,o=null,a=!1,s=function(){if(o==null||o.unsubscribe(),o=null,r){r=!1;var u=i;i=null,n.next(u)}a&&n.complete()},l=function(){o=null,a&&n.complete()};t.subscribe(mn(n,function(u){r=!0,i=u,o||sr(e(u)).subscribe(o=mn(n,s,l))},function(){a=!0,(!r||!o||o.closed)&&n.complete()}))})}function dxt(e,t){return t===void 0&&(t=Rc),uxt(function(){return ni(e,t)})}function En(e){return Gn(function(t,n){var r=null,i=!1,o;r=t.subscribe(mn(n,void 0,void 0,function(a){o=sr(e(a,En(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function tAe(e,t,n,r,i){return function(o,a){var s=n,l=t,u=0;o.subscribe(mn(a,function(d){var f=u++;l=s?e(l,d,f):(s=!0,d),r&&a.next(l)},i&&function(){s&&a.next(l),a.complete()}))}}function nAe(e,t){return Gn(tAe(e,t,arguments.length>=2,!1,!0))}var fxt=function(e,t){return e.push(t),e};function hxt(){return Gn(function(e,t){nAe(fxt,[])(e).subscribe(t)})}function rAe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=$M(e);return n?hbt(rAe.apply(void 0,Mo([],ws(e))),DM(n)):Gn(function(r,i){QTe(Mo([r],ws(eAe(e))))(i)})}function pxt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return rAe.apply(void 0,Mo([],ws(e)))}function F1(e,t){return wn(t)?Ot(e,t,1):Ot(e,1)}function mxt(e){return new Lt(function(t){return e.subscribe(t)})}var gxt={connector:function(){return new Jr}};function yxt(e,t){t===void 0&&(t=gxt);var n=t.connector;return Gn(function(r,i){var o=n();sr(e(mxt(o))).subscribe(i),i.add(r.subscribe(o))})}function GK(e){return Gn(function(t,n){var r=!1,i=null,o=null,a=function(){if(o==null||o.unsubscribe(),o=null,r){r=!1;var s=i;i=null,n.next(s)}};t.subscribe(mn(n,function(s){o==null||o.unsubscribe(),r=!0,i=s,o=mn(n,a,Gm),sr(e(s)).subscribe(o)},function(){a(),n.complete()},void 0,function(){i=o=null}))})}function KK(e,t){return t===void 0&&(t=Rc),Gn(function(n,r){var i=null,o=null,a=null,s=function(){if(i){i.unsubscribe(),i=null;var u=o;o=null,r.next(u)}};function l(){var u=a+e,d=t.now();if(d<u){i=this.schedule(void 0,u-d),r.add(i);return}s()}n.subscribe(mn(r,function(u){o=u,a=t.now(),i||(i=t.schedule(l,e),r.add(i))},function(){s(),r.complete()},void 0,function(){o=i=null}))})}function iAe(e){return Gn(function(t,n){var r=!1;t.subscribe(mn(n,function(i){r=!0,n.next(i)},function(){r||n.next(e),n.complete()}))})}function sa(e){return e<=0?function(){return ur}:Gn(function(t,n){var r=0;t.subscribe(mn(n,function(i){++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function vxt(){return Gn(function(e,t){e.subscribe(mn(t,Gm))})}function MM(e){return fe(function(){return e})}function oAe(e,t){return t?function(n){return Di(t.pipe(sa(1),vxt()),n.pipe(oAe(e)))}:Ot(function(n,r){return sr(e(n,r)).pipe(sa(1),MM(n))})}function aAe(e,t){t===void 0&&(t=Rc);var n=ni(e,t);return oAe(function(){return n})}function bxt(e,t){return Gn(function(n,r){var i=new Set;n.subscribe(mn(r,function(o){var a=e?e(o):o;i.has(a)||(i.add(a),r.next(o))})),t&&sr(t).subscribe(mn(r,function(){return i.clear()},Gm))})}function Ar(e,t){return t===void 0&&(t=sf),e=e??xxt,Gn(function(n,r){var i,o=!0;n.subscribe(mn(r,function(a){var s=t(a);(o||!e(i,s))&&(o=!1,i=s,r.next(a))}))})}function xxt(e,t){return e===t}function sAe(e){return e===void 0&&(e=wxt),Gn(function(t,n){var r=!1;t.subscribe(mn(n,function(i){r=!0,n.next(i)},function(){return r?n.complete():n.error(e())}))})}function wxt(){return new pE}function lAe(e,t){return t?function(n){return n.pipe(lAe(function(r,i){return sr(e(r,i)).pipe(fe(function(o,a){return t(r,o,i,a)}))}))}:Gn(function(n,r){var i=0,o=null,a=!1;n.subscribe(mn(r,function(s){o||(o=mn(r,void 0,function(){o=null,a&&r.complete()}),sr(e(s,i++)).subscribe(o))},function(){a=!0,!o&&r.complete()}))})}function bw(e){return Gn(function(t,n){try{t.subscribe(n)}finally{n.add(e)}})}function cAe(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Bt(function(i,o){return e(i,o,r)}):sf,sa(1),n?iAe(t):sAe(function(){return new pE}))}}function uAe(e,t,n,r){return Gn(function(i,o){var a;!t||typeof t=="function"?a=t:(n=t.duration,a=t.element,r=t.connector);var s=new Map,l=function(g){s.forEach(g),g(o)},u=function(g){return l(function(y){return y.error(g)})},d=0,f=!1,h=new ITe(o,function(g){try{var y=e(g),x=s.get(y);if(!x){s.set(y,x=r?r():new Jr);var b=m(y,x);if(o.next(b),n){var v=mn(x,function(){x.complete(),v==null||v.unsubscribe()},void 0,void 0,function(){return s.delete(y)});h.add(sr(n(b)).subscribe(v))}}x.next(a?a(g):g)}catch(w){u(w)}},function(){return l(function(g){return g.complete()})},u,function(){return s.clear()},function(){return f=!0,d===0});i.subscribe(h);function m(g,y){var x=new Lt(function(b){d++;var v=y.subscribe(b);return function(){v.unsubscribe(),--d===0&&f&&h.unsubscribe()}});return x.key=g,x}})}function Cxt(e){return e<=0?function(){return ur}:Gn(function(t,n){var r=[];t.subscribe(mn(n,function(i){r.push(i),e<r.length&&r.shift()},function(){var i,o;try{for(var a=J1(r),s=a.next();!s.done;s=a.next()){var l=s.value;n.next(l)}}catch(u){i={error:u}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}n.complete()},void 0,function(){r=null}))})}function kxt(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Bt(function(i,o){return e(i,o,r)}):sf,Cxt(1),n?iAe(t):sAe(function(){return new pE}))}}function rx(e,t,n){return n===void 0&&(n=1/0),wn(t)?Ot(function(){return e},t,n):(typeof t=="number"&&(n=t),Ot(function(){return e},n))}function Sxt(e,t){var n=wn(e)?e:function(){return e};return wn(t)?yxt(t,{connector:n}):function(r){return new gbt(r,n)}}function vu(e,t,n,r){n&&!wn(n)&&(r=n);var i=wn(n)?n:void 0;return function(o){return Sxt(new VK(e,t,r),i)(o)}}function Ext(e){e===void 0&&(e=1/0);var t;e&&typeof e=="object"?t=e:t={count:e};var n=t.count,r=n===void 0?1/0:n,i=t.delay,o=t.resetOnSuccess,a=o===void 0?!1:o;return r<=0?sf:Gn(function(s,l){var u=0,d,f=function(){var h=!1;d=s.subscribe(mn(l,function(m){a&&(u=0),l.next(m)},void 0,function(m){if(u++<r){var g=function(){d?(d.unsubscribe(),d=null,f()):h=!0};if(i!=null){var y=typeof i=="number"?ni(i):sr(i(m,u)),x=mn(l,function(){x.unsubscribe(),g()},function(){l.complete()});y.subscribe(x)}else g()}else l.error(m)})),h&&(d.unsubscribe(),d=null,f())};f()})}function Fl(e,t){return Gn(tAe(e,t,arguments.length>=2,!0))}function ts(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new Jr}:t,r=e.resetOnError,i=r===void 0?!0:r,o=e.resetOnComplete,a=o===void 0?!0:o,s=e.resetOnRefCountZero,l=s===void 0?!0:s;return function(u){var d,f,h,m=0,g=!1,y=!1,x=function(){f==null||f.unsubscribe(),f=void 0},b=function(){x(),d=h=void 0,g=y=!1},v=function(){var w=d;b(),w==null||w.unsubscribe()};return Gn(function(w,C){m++,!y&&!g&&x();var k=h=h??n();C.add(function(){m--,m===0&&!y&&!g&&(f=f8(v,l))}),k.subscribe(C),!d&&m>0&&(d=new nx({next:function(S){return k.next(S)},error:function(S){y=!0,x(),f=f8(b,i,S),k.error(S)},complete:function(){g=!0,x(),f=f8(b,a),k.complete()}}),sr(w).subscribe(d))})(u)}}function f8(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var i=new nx({next:function(){i.unsubscribe(),e()}});return sr(t.apply(void 0,Mo([],ws(n)))).subscribe(i)}}function go(e,t,n){var r,i,o,a,s=!1;return e&&typeof e=="object"?(r=e.bufferSize,a=r===void 0?1/0:r,i=e.windowTime,t=i===void 0?1/0:i,o=e.refCount,s=o===void 0?!1:o,n=e.scheduler):a=e??1/0,ts({connector:function(){return new VK(a,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function dAe(e){return Bt(function(t,n){return e<=n})}function yo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=hE(e);return Gn(function(r,i){(n?Di(e,r,n):Di(e,r)).subscribe(i)})}function At(e,t){return Gn(function(n,r){var i=null,o=0,a=!1,s=function(){return a&&!i&&r.complete()};n.subscribe(mn(r,function(l){i==null||i.unsubscribe();var u=0,d=o++;sr(e(l,d)).subscribe(i=mn(r,function(f){return r.next(t?t(l,f,d,u++):f)},function(){i=null,s()}))},function(){a=!0,s()}))})}function _xt(e,t){return wn(t)?At(function(){return e},t):At(function(){return e})}function YK(e){return Gn(function(t,n){sr(e).subscribe(mn(n,function(){return n.complete()},Gm)),!n.closed&&t.subscribe(n)})}function or(e,t,n){var r=wn(e)||t||n?{next:e,error:t,complete:n}:e;return r?Gn(function(i,o){var a;(a=r.subscribe)===null||a===void 0||a.call(r);var s=!0;i.subscribe(mn(o,function(l){var u;(u=r.next)===null||u===void 0||u.call(r,l),o.next(l)},function(){var l;s=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},function(l){var u;s=!1,(u=r.error)===null||u===void 0||u.call(r,l),o.error(l)},function(){var l,u;s&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):sf}function qK(e,t){return Gn(function(n,r){var i=t??{},o=i.leading,a=o===void 0?!0:o,s=i.trailing,l=s===void 0?!1:s,u=!1,d=null,f=null,h=!1,m=function(){f==null||f.unsubscribe(),f=null,l&&(x(),h&&r.complete())},g=function(){f=null,h&&r.complete()},y=function(b){return f=sr(e(b)).subscribe(mn(r,m,g))},x=function(){if(u){u=!1;var b=d;d=null,r.next(b),!h&&y(b)}};n.subscribe(mn(r,function(b){u=!0,d=b,!(f&&!f.closed)&&(a?x():y(b))},function(){h=!0,!(l&&u&&f&&!f.closed)&&r.complete()}))})}function $2(e,t,n){t===void 0&&(t=Rc);var r=ni(e,t);return qK(function(){return r},n)}function K3(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=$M(e);return Gn(function(r,i){for(var o=e.length,a=new Array(o),s=e.map(function(){return!1}),l=!1,u=function(f){sr(e[f]).subscribe(mn(i,function(h){a[f]=h,!l&&!s[f]&&(s[f]=!0,(l=s.every(sf))&&(s=null))},Gm))},d=0;d<o;d++)u(d);r.subscribe(mn(i,function(f){if(l){var h=Mo([f],ws(a));i.next(n?n.apply(void 0,Mo([],ws(h))):h)}}))})}const fAe=!(typeof navigator>"u")&&navigator.product==="ReactNative",hAe={timeout:fAe?6e4:12e4},Txt=function(e){const t={...hAe,...typeof e=="string"?{url:e}:e};if(t.timeout=pAe(t.timeout),t.query){const{url:n,searchParams:r}=function(i){const o=i.indexOf("?");if(o===-1)return{url:i,searchParams:new URLSearchParams};const a=i.slice(0,o),s=i.slice(o+1);if(!fAe)return{url:a,searchParams:new URLSearchParams(s)};if(typeof decodeURIComponent!="function")throw new Error("Broken `URLSearchParams` implementation, and `decodeURIComponent` is not defined");const l=new URLSearchParams;for(const u of s.split("&")){const[d,f]=u.split("=");d&&l.append(sae(d),sae(f||""))}return{url:a,searchParams:l}}(t.url);for(const[i,o]of Object.entries(t.query)){if(o!==void 0)if(Array.isArray(o))for(const s of o)r.append(i,s);else r.append(i,o);const a=r.toString();a&&(t.url=`${n}?${a}`)}}return t.method=t.body&&!t.method?"POST":(t.method||"GET").toUpperCase(),t};function sae(e){return decodeURIComponent(e.replace(/\+/g," "))}function pAe(e){if(e===!1||e===0)return!1;if(e.connect||e.socket)return e;const t=Number(e);return isNaN(t)?pAe(hAe.timeout):{connect:t,socket:t}}const Axt=/^https?:\/\//i,jxt=function(e){if(!Axt.test(e.url))throw new Error(`"${e.url}" is not a valid URL`)};function mAe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const Ixt=["request","response","progress","error","abort"],lae=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function gAe(e,t){const n=[],r=lae.reduce((o,a)=>(o[a]=o[a]||[],o),{processOptions:[Txt],validateOptions:[jxt]});function i(o){const a=Ixt.reduce((m,g)=>(m[g]=function(){const y=Object.create(null);let x=0;return{publish:function(b){for(const v in y)y[v](b)},subscribe:function(b){const v=x++;return y[v]=b,function(){delete y[v]}}}}(),m),{}),s=(m=>function(g,y,...x){const b=g==="onError";let v=y;for(let w=0;w<m[g].length&&(v=(0,m[g][w])(v,...x),!b||v);w++);return v})(r),l=s("processOptions",o);s("validateOptions",l);const u={options:l,channels:a,applyMiddleware:s};let d;const f=a.request.subscribe(m=>{d=t(m,(g,y)=>((x,b,v)=>{let w=x,C=b;if(!w)try{C=s("onResponse",b,v)}catch(k){C=null,w=k}w=w&&s("onError",w,v),w?a.error.publish(w):C&&a.response.publish(C)})(g,y,m))});a.abort.subscribe(()=>{f(),d&&d.abort()});const h=s("onReturn",a,u);return h===a&&a.request.publish(u),h}return i.use=function(o){if(!o)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof o=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(o.onReturn&&r.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return lae.forEach(a=>{o[a]&&r[a].push(o[a])}),n.push(o),i},i.clone=()=>gAe(n,t),e.forEach(i.use),i}var cae,uae,$xt=mAe(function(){if(uae)return cae;uae=1;var e=function(n){return n.replace(/^\s+|\s+$/g,"")},t=function(n){return Object.prototype.toString.call(n)==="[object Array]"};return cae=function(n){if(!n)return{};for(var r=Object.create(null),i=e(n).split(`
`),o=0;o<i.length;o++){var a=i[o],s=a.indexOf(":"),l=e(a.slice(0,s)).toLowerCase(),u=e(a.slice(s+1));typeof r[l]>"u"?r[l]=u:t(r[l])?r[l].push(u):r[l]=[r[l],u]}return r}}()),_5,T5,Mb,A5,Wf,j5,I5,hxe;let qN=(hxe=class{constructor(){Z(this,"onabort");Z(this,"onerror");Z(this,"onreadystatechange");Z(this,"ontimeout");Z(this,"readyState",0);Z(this,"response");Z(this,"responseText","");Z(this,"responseType","");Z(this,"status");Z(this,"statusText");Z(this,"withCredentials");Bn(this,_5,void 0);Bn(this,T5,void 0);Bn(this,Mb,void 0);Bn(this,A5,{});Bn(this,Wf,void 0);Bn(this,j5,{});Bn(this,I5,void 0)}open(t,n,r){var i;Mn(this,_5,t),Mn(this,T5,n),Mn(this,Mb,""),this.readyState=1,(i=this.onreadystatechange)==null||i.call(this),Mn(this,Wf,void 0)}abort(){je(this,Wf)&&je(this,Wf).abort()}getAllResponseHeaders(){return je(this,Mb)}setRequestHeader(t,n){je(this,A5)[t]=n}setInit(t,n=!0){Mn(this,j5,t),Mn(this,I5,n)}send(t){const n=this.responseType!=="arraybuffer",r={...je(this,j5),method:je(this,_5),headers:je(this,A5),body:t};typeof AbortController=="function"&&je(this,I5)&&(Mn(this,Wf,new AbortController),typeof EventTarget<"u"&&je(this,Wf).signal instanceof EventTarget&&(r.signal=je(this,Wf).signal)),typeof document<"u"&&(r.credentials=this.withCredentials?"include":"omit"),fetch(je(this,T5),r).then(i=>{var o;return i.headers.forEach((a,s)=>{Mn(this,Mb,je(this,Mb)+`${s}: ${a}\r
`)}),this.status=i.status,this.statusText=i.statusText,this.readyState=3,(o=this.onreadystatechange)==null||o.call(this),n?i.text():i.arrayBuffer()}).then(i=>{var o;typeof i=="string"?this.responseText=i:this.response=i,this.readyState=4,(o=this.onreadystatechange)==null||o.call(this)}).catch(i=>{var o,a;i.name!=="AbortError"?(o=this.onerror)==null||o.call(this,i):(a=this.onabort)==null||a.call(this)})}},_5=new WeakMap,T5=new WeakMap,Mb=new WeakMap,A5=new WeakMap,Wf=new WeakMap,j5=new WeakMap,I5=new WeakMap,hxe);const ZN=typeof XMLHttpRequest=="function"?"xhr":"fetch",Dxt=ZN==="xhr"?XMLHttpRequest:qN,Oxt=(e,t)=>{const n=e.options,r=e.applyMiddleware("finalizeOptions",n),i={},o=e.applyMiddleware("interceptRequest",void 0,{adapter:ZN,context:e});if(o){const y=setTimeout(t,0,null,o);return{abort:()=>clearTimeout(y)}}let a=new Dxt;a instanceof qN&&typeof r.fetch=="object"&&a.setInit(r.fetch,r.useAbortSignal??!0);const s=r.headers,l=r.timeout;let u=!1,d=!1,f=!1;if(a.onerror=y=>{g(a instanceof qN?y instanceof Error?y:new Error(`Request error while attempting to reach is ${r.url}`,{cause:y}):new Error(`Request error while attempting to reach is ${r.url}${y.lengthComputable?`(${y.loaded} of ${y.total} bytes transferred)`:""}`))},a.ontimeout=y=>{g(new Error(`Request timeout while attempting to reach ${r.url}${y.lengthComputable?`(${y.loaded} of ${y.total} bytes transferred)`:""}`))},a.onabort=()=>{m(!0),u=!0},a.onreadystatechange=function(){l&&(m(),i.socket=setTimeout(()=>h("ESOCKETTIMEDOUT"),l.socket)),!u&&a&&a.readyState===4&&a.status!==0&&function(){if(!(u||d||f)){if(a.status===0)return void g(new Error("Unknown XHR error"));m(),d=!0,t(null,{body:a.response||(a.responseType===""||a.responseType==="text"?a.responseText:""),url:r.url,method:r.method,headers:$xt(a.getAllResponseHeaders()),statusCode:a.status,statusMessage:a.statusText})}}()},a.open(r.method,r.url,!0),a.withCredentials=!!r.withCredentials,s&&a.setRequestHeader)for(const y in s)s.hasOwnProperty(y)&&a.setRequestHeader(y,s[y]);return r.rawBody&&(a.responseType="arraybuffer"),e.applyMiddleware("onRequest",{options:r,adapter:ZN,request:a,context:e}),a.send(r.body||null),l&&(i.connect=setTimeout(()=>h("ETIMEDOUT"),l.connect)),{abort:function(){u=!0,a&&a.abort()}};function h(y){f=!0,a.abort();const x=new Error(y==="ESOCKETTIMEDOUT"?`Socket timed out on request to ${r.url}`:`Connection timed out on request to ${r.url}`);x.code=y,e.channels.error.publish(x)}function m(y){(y||u||a&&a.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function g(y){if(d)return;m(!0),d=!0,a=null;const x=y||new Error(`Network error while attempting to reach ${r.url}`);x.isNetworkError=!0,x.request=r,t(x)}},Mxt=(e=[],t=Oxt)=>gAe(e,t);var dae,fae,hae,pae,mae,h8={exports:{}};mae||(mae=1,function(e,t){t.formatArgs=function(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;r.splice(1,0,i,"color: inherit");let o=0,a=0;r[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(o++,s==="%c"&&(a=o))}),r.splice(a,0,i)},t.save=function(r){try{r?t.storage.setItem("debug",r):t.storage.removeItem("debug")}catch{}},t.load=function(){let r;try{r=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r={}.DEBUG),r},t.useColors=function(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let r;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(r=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(r[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch{}}(),t.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=(pae?hae:(pae=1,hae=function(r){function i(s){let l,u,d,f=null;function h(...m){if(!h.enabled)return;const g=h,y=Number(new Date),x=y-(l||y);g.diff=x,g.prev=l,g.curr=y,l=y,m[0]=i.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");let b=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,(v,w)=>{if(v==="%%")return"%";b++;const C=i.formatters[w];if(typeof C=="function"){const k=m[b];v=C.call(g,k),m.splice(b,1),b--}return v}),i.formatArgs.call(g,m),(g.log||i.log).apply(g,m)}return h.namespace=s,h.useColors=i.useColors(),h.color=i.selectColor(s),h.extend=o,h.destroy=i.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(u!==i.namespaces&&(u=i.namespaces,d=i.enabled(s)),d),set:m=>{f=m}}),typeof i.init=="function"&&i.init(h),h}function o(s,l){const u=i(this.namespace+(typeof l>"u"?":":l)+s);return u.log=this.log,u}function a(s,l){let u=0,d=0,f=-1,h=0;for(;u<s.length;)if(d<l.length&&(l[d]===s[u]||l[d]==="*"))l[d]==="*"?(f=d,h=u,d++):(u++,d++);else{if(f===-1)return!1;d=f+1,h++,u=h}for(;d<l.length&&l[d]==="*";)d++;return d===l.length}return i.debug=i,i.default=i,i.coerce=function(s){return s instanceof Error?s.stack||s.message:s},i.disable=function(){const s=[...i.names,...i.skips.map(l=>"-"+l)].join(",");return i.enable(""),s},i.enable=function(s){i.save(s),i.namespaces=s,i.names=[],i.skips=[];const l=(typeof s=="string"?s:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const u of l)u[0]==="-"?i.skips.push(u.slice(1)):i.names.push(u)},i.enabled=function(s){for(const l of i.skips)if(a(s,l))return!1;for(const l of i.names)if(a(s,l))return!0;return!1},i.humanize=function(){if(fae)return dae;fae=1;var s=1e3,l=60*s,u=60*l,d=24*u,f=7*d;function h(m,g,y,x){var b=g>=1.5*y;return Math.round(m/y)+" "+x+(b?"s":"")}return dae=function(m,g){g=g||{};var y,x,b=typeof m;if(b==="string"&&m.length>0)return function(v){if(!((v=String(v)).length>100)){var w=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(v);if(w){var C=parseFloat(w[1]);switch((w[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*C;case"weeks":case"week":case"w":return C*f;case"days":case"day":case"d":return C*d;case"hours":case"hour":case"hrs":case"hr":case"h":return C*u;case"minutes":case"minute":case"mins":case"min":case"m":return C*l;case"seconds":case"second":case"secs":case"sec":case"s":return C*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return C;default:return}}}}(m);if(b==="number"&&isFinite(m))return g.long?(y=m,(x=Math.abs(y))>=d?h(y,x,d,"day"):x>=u?h(y,x,u,"hour"):x>=l?h(y,x,l,"minute"):x>=s?h(y,x,s,"second"):y+" ms"):function(v){var w=Math.abs(v);return w>=d?Math.round(v/d)+"d":w>=u?Math.round(v/u)+"h":w>=l?Math.round(v/l)+"m":w>=s?Math.round(v/s)+"s":v+"ms"}(m);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(m))}}(),i.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(r).forEach(s=>{i[s]=r[s]}),i.names=[],i.skips=[],i.formatters={},i.selectColor=function(s){let l=0;for(let u=0;u<s.length;u++)l=(l<<5)-l+s.charCodeAt(u),l|=0;return i.colors[Math.abs(l)%i.colors.length]},i.enable(i.load()),i}))(t);const{formatters:n}=e.exports;n.j=function(r){try{return JSON.stringify(r)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}}(h8,h8.exports)),h8.exports;const Pxt=typeof Buffer>"u"?()=>!1:e=>Buffer.isBuffer(e);function gae(e){return Object.prototype.toString.call(e)==="[object Object]"}function Rxt(e){if(gae(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(gae(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)}const Fxt=["boolean","string","number"];function Lxt(){return{processOptions:e=>{const t=e.body;return!t||typeof t.pipe=="function"||Pxt(t)||Fxt.indexOf(typeof t)===-1&&!Array.isArray(t)&&!Rxt(t)?e:Object.assign({},e,{body:JSON.stringify(e.body),headers:Object.assign({},e.headers,{"Content-Type":"application/json"})})}}}function Nxt(e){return{onResponse:n=>{const r=n.headers["content-type"]||"",i=e&&e.force||r.indexOf("application/json")!==-1;return n.body&&r&&i?Object.assign({},n,{body:t(n.body)}):n},processOptions:n=>Object.assign({},n,{headers:Object.assign({Accept:"application/json"},n.headers)})};function t(n){try{return JSON.parse(n)}catch(r){throw r.message=`Failed to parsed response body as JSON: ${r.message}`,r}}}let _k={};typeof globalThis<"u"?_k=globalThis:typeof window<"u"?_k=window:typeof global<"u"?_k=global:typeof self<"u"&&(_k=self);var Bxt=_k;function Vxt(e={}){const t=e.implementation||Bxt.Observable;if(!t)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(n,r)=>new t(i=>(n.error.subscribe(o=>i.error(o)),n.progress.subscribe(o=>i.next(Object.assign({type:"progress"},o))),n.response.subscribe(o=>{i.next(Object.assign({type:"response"},o)),i.complete()}),n.request.publish(r),()=>n.abort.publish()))}}function zxt(){return{onRequest:e=>{if(e.adapter!=="xhr")return;const t=e.request,n=e.context;function r(i){return o=>{const a=o.lengthComputable?o.loaded/o.total*100:-1;n.channels.progress.publish({stage:i,percent:a,total:o.total,loaded:o.loaded,lengthComputable:o.lengthComputable})}}"upload"in t&&"onprogress"in t.upload&&(t.upload.onprogress=r("upload")),"onprogress"in t&&(t.onprogress=r("download"))}}}var yAe=(e,t,n)=>(n.method==="GET"||n.method==="HEAD")&&(e.isNetworkError||!1);function Uxt(e){return 100*Math.pow(2,e)+100*Math.random()}const ZK=(e={})=>(t=>{const n=t.maxRetries||5,r=t.retryDelay||Uxt,i=t.shouldRetry;return{onError:(o,a)=>{const s=a.options,l=s.maxRetries||n,u=s.retryDelay||r,d=s.shouldRetry||i,f=s.attemptNumber||0;if((h=s.body)!==null&&typeof h=="object"&&typeof h.pipe=="function"||!d(o,f,s)||f>=l)return o;var h;const m=Object.assign({},a,{options:Object.assign({},s,{attemptNumber:f+1})});return setTimeout(()=>a.channels.request.publish(m),u(f)),null}}})({shouldRetry:yAe,...e});ZK.shouldRetry=yAe;var vAe={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},XK={0:8203,1:8204,2:8205,3:65279},Hxt=new Array(4).fill(String.fromCodePoint(XK[0])).join("");function Wxt(e){let t=JSON.stringify(e);return`${Hxt}${Array.from(t).map(n=>{let r=n.charCodeAt(0);if(r>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${t} on character ${n} (${r})`);return Array.from(r.toString(4).padStart(4,"0")).map(i=>String.fromCodePoint(XK[i])).join("")}).join("")}`}function Gxt(e){return!Number.isNaN(Number(e))||/[a-z]/i.test(e)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(e)?!1:!!Date.parse(e)}function Kxt(e){try{new URL(e,e.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function Mgr(e,t,n="auto"){return n===!0||n==="auto"&&(Gxt(e)||Kxt(e))?e:`${e}${Wxt(t)}`}Object.fromEntries(Object.entries(XK).map(e=>e.reverse()));Object.fromEntries(Object.entries(vAe).map(e=>e.reverse()));var Yxt=`${Object.values(vAe).map(e=>`\\u{${e.toString(16)}}`).join("")}`,yae=new RegExp(`[${Yxt}]{4,}`,"gu");function qxt(e){var t;return{cleaned:e.replace(yae,""),encoded:((t=e.match(yae))==null?void 0:t[0])||""}}function Zxt(e){return e&&JSON.parse(qxt(JSON.stringify(e)).cleaned)}function Xxt(e){return Zxt(e)}class Jxt extends Error{constructor(n){const r=bAe(n);super(r.message);Z(this,"response");Z(this,"statusCode",400);Z(this,"responseBody");Z(this,"details");Object.assign(this,r)}}class Qxt extends Error{constructor(n){const r=bAe(n);super(r.message);Z(this,"response");Z(this,"statusCode",500);Z(this,"responseBody");Z(this,"details");Object.assign(this,r)}}function bAe(e){const t=e.body,n={response:e,statusCode:e.statusCode,responseBody:rwt(t,e),message:"",details:void 0};if(t.error&&t.message)return n.message=`${t.error} - ${t.message}`,n;if(ewt(t)||twt(t)){const r=t.error.items||[],i=r.slice(0,5).map(a=>{var s;return(s=a.error)==null?void 0:s.description}).filter(Boolean);let o=i.length?`:
- ${i.join(`
- `)}`:"";return r.length>5&&(o+=`
...and ${r.length-5} more`),n.message=`${t.error.description}${o}`,n.details=t.error,n}return t.error&&t.error.description?(n.message=t.error.description,n.details=t.error,n):(n.message=t.error||t.message||nwt(e),n)}function ewt(e){return Y3(e)&&Y3(e.error)&&e.error.type==="mutationError"&&typeof e.error.description=="string"}function twt(e){return Y3(e)&&Y3(e.error)&&e.error.type==="actionError"&&typeof e.error.description=="string"}function Y3(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function nwt(e){const t=e.statusMessage?` ${e.statusMessage}`:"";return`${e.method}-request to ${e.url} resulted in HTTP ${e.statusCode}${t}`}function rwt(e,t){return(t.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(e,null,2):e}let iwt=class extends Error{constructor({projectId:n}){super("CorsOriginError");Z(this,"projectId");Z(this,"addOriginUrl");this.name="CorsOriginError",this.projectId=n;const r=new URL(`https://sanity.io/manage/project/${n}/api`);if(typeof location<"u"){const{origin:i}=location;r.searchParams.set("cors","add"),r.searchParams.set("origin",i),this.addOriginUrl=r,this.message=`The current origin is not allowed to connect to the Live Content API. Add it here: ${r}`}else this.message=`The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${r}`}};const owt={onResponse:e=>{if(e.statusCode>=500)throw new Qxt(e);if(e.statusCode>=400)throw new Jxt(e);return e}};function awt(){const e={};return{onResponse:t=>{const n=t.headers["x-sanity-warning"],r=Array.isArray(n)?n:[n];for(const i of r)!i||e[i]||(e[i]=!0,console.warn(i));return t}}}function vae(e){return Mxt([ZK({shouldRetry:swt}),...e,awt(),Lxt(),Nxt(),zxt(),owt,Vxt({implementation:Lt})])}function swt(e,t,n){if(n.maxRetries===0)return!1;const r=n.method==="GET"||n.method==="HEAD",i=(n.uri||n.url).startsWith("/data/query"),o=e.response&&(e.response.statusCode===429||e.response.statusCode===502||e.response.statusCode===503);return(r||i)&&o?!0:ZK.shouldRetry(e,t,n)}const lwt="https://www.sanity.io/help/";function JK(e){return lwt+e}const bae=["image","file"],xae=["before","after","replace"],xAe=e=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(e))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},cwt=e=>{if(!/^[-a-z0-9]+$/i.test(e))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},uwt=e=>{if(bae.indexOf(e)===-1)throw new Error(`Invalid asset type: ${e}. Must be one of ${bae.join(", ")}`)},mS=(e,t)=>{if(t===null||typeof t!="object"||Array.isArray(t))throw new Error(`${e}() takes an object of properties`)},wAe=(e,t)=>{if(typeof t!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(t)||t.includes(".."))throw new Error(`${e}(): "${t}" is not a valid document ID`)},q3=(e,t)=>{if(!t._id)throw new Error(`${e}() requires that the document contains an ID ("_id" property)`);wAe(e,t._id)},dwt=(e,t,n)=>{const r="insert(at, selector, items)";if(xae.indexOf(e)===-1){const i=xae.map(o=>`"${o}"`).join(", ");throw new Error(`${r} takes an "at"-argument which is one of: ${i}`)}if(typeof t!="string")throw new Error(`${r} takes a "selector"-argument which must be a string`);if(!Array.isArray(n))throw new Error(`${r} takes an "items"-argument which must be an array`)},CAe=e=>{if(!e.dataset)throw new Error("`dataset` must be provided to perform queries");return e.dataset||""},kAe=e=>{if(typeof e!="string"||!/^[a-z0-9._-]{1,75}$/i.test(e))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return e},SAe=e=>{if(!e["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:t,id:n}=e["~experimental_resource"];switch(t){case"dataset":{if(n.split(".").length!==2)throw new Error('Dataset resource ID must be in the format "project.dataset"');return}case"dashboard":case"media-library":case"canvas":return;default:throw new Error(`Unsupported resource type: ${t.toString()}`)}},Td=(e,t)=>{if(t["~experimental_resource"])throw new Error(`\`${e}\` does not support resource-based operations`)};function fwt(e){let t=!1,n;return(...r)=>(t||(n=e(...r),t=!0),n)}const Zy=e=>fwt((...t)=>console.warn(e.join(" "),...t)),hwt=Zy(["Because you set `withCredentials` to true, we will override your `useCdn`","setting to be false since (cookie-based) credentials are never set on the CDN"]),pwt=Zy(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),mwt=Zy(["The Sanity client is configured with the `perspective` set to `drafts` or `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),gwt=Zy(["The `previewDrafts` perspective has been renamed to  `drafts` and will be removed in a future API version"]),ywt=Zy(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${JK("js-client-browser-token")} for more information and how to hide this warning.`]),vwt=Zy(["You have configured Sanity client to use a token, but also provided `withCredentials: true`.","This is no longer supported - only token will be used - remove `withCredentials: true`."]),bwt=Zy(["Using the Sanity client without specifying an API version is deprecated.",`See ${JK("js-client-api-version")}`]),xwt="apicdn.sanity.io",gS={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},wwt=["localhost","127.0.0.1","0.0.0.0"],Cwt=e=>wwt.indexOf(e)!==-1;function kwt(e){if(e==="1"||e==="X")return;const t=new Date(e);if(!(/^\d{4}-\d{2}-\d{2}$/.test(e)&&t instanceof Date&&t.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}function EAe(e){if(Array.isArray(e)&&e.length>1&&e.includes("raw"))throw new TypeError('Invalid API perspective value: "raw". The raw-perspective can not be combined with other perspectives')}const _Ae=(e,t)=>{const n={...t,...e,stega:{...typeof t.stega=="boolean"?{enabled:t.stega}:t.stega||gS.stega,...typeof e.stega=="boolean"?{enabled:e.stega}:e.stega||{}}};n.apiVersion||bwt();const r={...gS,...n},i=r.useProjectHostname&&!r["~experimental_resource"];if(typeof Promise>"u"){const h=JK("js-client-promise-polyfill");throw new Error(`No native Promise-implementation found, polyfill needed - see ${h}`)}if(i&&!r.projectId)throw new Error("Configuration must contain `projectId`");if(r["~experimental_resource"]&&SAe(r),typeof r.perspective<"u"&&EAe(r.perspective),"encodeSourceMap"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if(typeof r.stega.enabled!="boolean")throw new Error(`stega.enabled must be a boolean, received ${r.stega.enabled}`);if(r.stega.enabled&&r.stega.studioUrl===void 0)throw new Error("stega.studioUrl must be defined when stega.enabled is true");if(r.stega.enabled&&typeof r.stega.studioUrl!="string"&&typeof r.stega.studioUrl!="function")throw new Error(`stega.studioUrl must be a string or a function, received ${r.stega.studioUrl}`);const o=typeof window<"u"&&window.location&&window.location.hostname,a=o&&Cwt(window.location.hostname),s=!!r.token;r.withCredentials&&s&&(vwt(),r.withCredentials=!1),o&&a&&s&&r.ignoreBrowserTokenWarning!==!0?ywt():typeof r.useCdn>"u"&&pwt(),i&&cwt(r.projectId),r.dataset&&xAe(r.dataset),"requestTagPrefix"in r&&(r.requestTagPrefix=r.requestTagPrefix?kAe(r.requestTagPrefix).replace(/\.+$/,""):void 0),r.apiVersion=`${r.apiVersion}`.replace(/^v/,""),r.isDefaultApi=r.apiHost===gS.apiHost,r.useCdn===!0&&r.withCredentials&&hwt(),r.useCdn=r.useCdn!==!1&&!r.withCredentials,kwt(r.apiVersion);const l=r.apiHost.split("://",2),u=l[0],d=l[1],f=r.isDefaultApi?xwt:d;return i?(r.url=`${u}://${r.projectId}.${d}/v${r.apiVersion}`,r.cdnUrl=`${u}://${r.projectId}.${f}/v${r.apiVersion}`):(r.url=`${r.apiHost}/v${r.apiVersion}`,r.cdnUrl=r.url),r};class TAe extends Error{constructor(){super(...arguments);Z(this,"name","ConnectionFailedError")}}class Swt extends Error{constructor(n,r,i={}){super(n,i);Z(this,"name","DisconnectError");Z(this,"reason");this.reason=r}}class Ewt extends Error{constructor(n,r){super(n);Z(this,"name","ChannelError");Z(this,"data");this.data=r}}class _wt extends Error{constructor(n,r,i={}){super(n,i);Z(this,"name","MessageError");Z(this,"data");this.data=r}}class wae extends Error{constructor(){super(...arguments);Z(this,"name","MessageParseError")}}const Twt=["channelError","disconnect"];function AAe(e,t){return Qi(()=>{const n=e();return qTe(n)?n:Se(n)}).pipe(Ot(n=>Awt(n,t)))}function Awt(e,t){return new Lt(n=>{const r=t.includes("open"),i=t.includes("reconnect");function o(u){if("data"in u){const[d,f]=Cae(u);n.error(d?new wae("Unable to parse EventSource error message",{cause:f}):new _wt((f==null?void 0:f.data).message,f));return}e.readyState===e.CLOSED?n.error(new TAe("EventSource connection failed")):i&&n.next({type:"reconnect"})}function a(){n.next({type:"open"})}function s(u){var h;const[d,f]=Cae(u);if(d){n.error(new wae("Unable to parse EventSource message",{cause:d}));return}if(u.type==="channelError"){n.error(new Ewt(jwt(f==null?void 0:f.data),f.data));return}if(u.type==="disconnect"){n.error(new Swt(`Server disconnected client: ${((h=f.data)==null?void 0:h.reason)||"unknown error"}`));return}n.next({type:u.type,id:u.lastEventId,...f.data?{data:f.data}:{}})}e.addEventListener("error",o),r&&e.addEventListener("open",a);const l=[...new Set([...Twt,...t])].filter(u=>u!=="error"&&u!=="open"&&u!=="reconnect");return l.forEach(u=>e.addEventListener(u,s)),()=>{e.removeEventListener("error",o),r&&e.removeEventListener("open",a),l.forEach(u=>e.removeEventListener(u,s)),e.close()}})}function Cae(e){try{const t=typeof e.data=="string"&&JSON.parse(e.data);return[null,{type:e.type,id:e.lastEventId,...Iwt(t)?{}:{data:t}}]}catch(t){return[t,null]}}function jwt(e){return e.error?e.error.description?e.error.description:typeof e.error=="string"?e.error:JSON.stringify(e.error,null,2):e.message||"Unknown listener error"}function Iwt(e){for(const t in e)return!1;return!0}function jAe(e){if(typeof e=="string")return{id:e};if(Array.isArray(e))return{query:"*[_id in $ids]",params:{ids:e}};if(typeof e=="object"&&e!==null&&"query"in e&&typeof e.query=="string")return"params"in e&&typeof e.params=="object"&&e.params!==null?{query:e.query,params:e.params}:{query:e.query};const t=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

${t}`)}class IAe{constructor(t,n={}){Z(this,"selection");Z(this,"operations");this.selection=t,this.operations=n}set(t){return this._assign("set",t)}setIfMissing(t){return this._assign("setIfMissing",t)}diffMatchPatch(t){return mS("diffMatchPatch",t),this._assign("diffMatchPatch",t)}unset(t){if(!Array.isArray(t))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:t}),this}inc(t){return this._assign("inc",t)}dec(t){return this._assign("dec",t)}insert(t,n,r){return dwt(t,n,r),this._assign("insert",{[t]:n,items:r})}append(t,n){return this.insert("after",`${t}[-1]`,n)}prepend(t,n){return this.insert("before",`${t}[0]`,n)}splice(t,n,r,i){const o=typeof r>"u"||r===-1,a=n<0?n-1:n,s=o?-1:Math.max(0,n+r),l=a<0&&s>=0?"":s,u=`${t}[${a}:${l}]`;return this.insert("replace",u,i||[])}ifRevisionId(t){return this.operations.ifRevisionID=t,this}serialize(){return{...jAe(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(t,n,r=!0){return mS(t,n),this.operations=Object.assign({},this.operations,{[t]:Object.assign({},r&&this.operations[t]||{},n)}),this}_set(t,n){return this._assign(t,n,!1)}}var T1;const Jee=class Jee extends IAe{constructor(n,r,i){super(n,r);Bn(this,T1,void 0);Mn(this,T1,i)}clone(){return new Jee(this.selection,{...this.operations},je(this,T1))}commit(n){if(!je(this,T1))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",i=Object.assign({returnFirst:r,returnDocuments:!0},n);return je(this,T1).mutate({patch:this.serialize()},i)}};T1=new WeakMap;let L1=Jee;var A1;const Qee=class Qee extends IAe{constructor(n,r,i){super(n,r);Bn(this,A1,void 0);Mn(this,A1,i)}clone(){return new Qee(this.selection,{...this.operations},je(this,A1))}commit(n){if(!je(this,A1))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",i=Object.assign({returnFirst:r,returnDocuments:!0},n);return je(this,A1).mutate({patch:this.serialize()},i)}};A1=new WeakMap;let um=Qee;const $Ae={returnDocuments:!1};class DAe{constructor(t=[],n){Z(this,"operations");Z(this,"trxId");this.operations=t,this.trxId=n}create(t){return mS("create",t),this._add({create:t})}createIfNotExists(t){const n="createIfNotExists";return mS(n,t),q3(n,t),this._add({[n]:t})}createOrReplace(t){const n="createOrReplace";return mS(n,t),q3(n,t),this._add({[n]:t})}delete(t){return wAe("delete",t),this._add({delete:{id:t}})}transactionId(t){return t?(this.trxId=t,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(t){return this.operations.push(t),this}}var Gf;const ete=class ete extends DAe{constructor(n,r,i){super(n,i);Bn(this,Gf,void 0);Mn(this,Gf,r)}clone(){return new ete([...this.operations],je(this,Gf),this.trxId)}commit(n){if(!je(this,Gf))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return je(this,Gf).mutate(this.serialize(),Object.assign({transactionId:this.trxId},$Ae,n||{}))}patch(n,r){const i=typeof r=="function",o=typeof n!="string"&&n instanceof um,a=typeof n=="object"&&("query"in n||"id"in n);if(o)return this._add({patch:n.serialize()});if(i){const s=r(new um(n,{},je(this,Gf)));if(!(s instanceof um))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:s.serialize()})}if(a){const s=new um(n,r||{},je(this,Gf));return this._add({patch:s.serialize()})}return this._add({patch:{id:n,...r}})}};Gf=new WeakMap;let Z3=ete;var Jp;const tte=class tte extends DAe{constructor(n,r,i){super(n,i);Bn(this,Jp,void 0);Mn(this,Jp,r)}clone(){return new tte([...this.operations],je(this,Jp),this.trxId)}commit(n){if(!je(this,Jp))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return je(this,Jp).mutate(this.serialize(),Object.assign({transactionId:this.trxId},$Ae,n||{}))}patch(n,r){const i=typeof r=="function";if(typeof n!="string"&&n instanceof L1)return this._add({patch:n.serialize()});if(i){const o=r(new L1(n,{},je(this,Jp)));if(!(o instanceof L1))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:o.serialize()})}return this._add({patch:{id:n,...r}})}};Jp=new WeakMap;let X3=tte;const $wt="X-Sanity-Project-ID";function Dwt(e,t={}){const n={},r=t.token||e.token;r&&(n.Authorization=`Bearer ${r}`),!t.useGlobalApi&&!e.useProjectHostname&&e.projectId&&(n[$wt]=e.projectId);const i=!!(typeof t.withCredentials>"u"?e.withCredentials:t.withCredentials),o=typeof t.timeout>"u"?e.timeout:t.timeout;return Object.assign({},t,{headers:Object.assign({},n,t.headers||{}),timeout:typeof o>"u"?5*60*1e3:o,proxy:t.proxy||e.proxy,json:!0,withCredentials:i,fetch:typeof t.fetch=="object"&&typeof e.fetch=="object"?{...e.fetch,...t.fetch}:t.fetch||e.fetch})}const OAe=({query:e,params:t={},options:n={}})=>{const r=new URLSearchParams,{tag:i,includeMutations:o,returnQuery:a,...s}=n;i&&r.append("tag",i),r.append("query",e);for(const[l,u]of Object.entries(t))r.append(`$${l}`,JSON.stringify(u));for(const[l,u]of Object.entries(s))u&&r.append(l,`${u}`);return a===!1&&r.append("returnQuery","false"),o===!1&&r.append("includeMutations","false"),`?${r}`},Owt=(e,t)=>e===!1?void 0:typeof e>"u"?t:e,Mwt=(e={})=>({dryRun:e.dryRun,returnIds:!0,returnDocuments:Owt(e.returnDocuments,!0),visibility:e.visibility||"sync",autoGenerateArrayKeys:e.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:e.skipCrossDatasetReferenceValidation}),QK=e=>e.type==="response",Pwt=e=>e.body,Rwt=(e,t)=>e.reduce((n,r)=>(n[t(r)]=r,n),Object.create(null)),Fwt=11264;function MAe(e,t,n,r,i={},o={}){const a="stega"in o?{...n||{},...typeof o.stega=="boolean"?{enabled:o.stega}:o.stega||{}}:n,s=a.enabled?Xxt(i):i,l=o.filterResponse===!1?g=>g:g=>g.result,{cache:u,next:d,...f}={useAbortSignal:typeof o.signal<"u",resultSourceMap:a.enabled?"withKeyArraySelector":o.resultSourceMap,...o,returnQuery:o.filterResponse===!1&&o.returnQuery!==!1},h=typeof u<"u"||typeof d<"u"?{...f,fetch:{cache:u,next:d}}:f,m=xw(e,t,"query",{query:r,params:s},h);return a.enabled?m.pipe(pxt(ti(My(()=>import("./stegaEncodeSourceMap-30ebb632.js"),[]).then(function(g){return g.stegaEncodeSourceMap$1}).then(({stegaEncodeSourceMap:g})=>g))),fe(([g,y])=>{const x=y(g.result,g.resultSourceMap,a);return l({...g,result:x})})):m.pipe(fe(l))}function PAe(e,t,n,r={}){const i={uri:Hc(e,"doc",n),json:!0,tag:r.tag,signal:r.signal};return gE(e,t,i).pipe(Bt(QK),fe(o=>o.body.documents&&o.body.documents[0]))}function RAe(e,t,n,r={}){const i={uri:Hc(e,"doc",n.join(",")),json:!0,tag:r.tag,signal:r.signal};return gE(e,t,i).pipe(Bt(QK),fe(o=>{const a=Rwt(o.body.documents||[],s=>s._id);return n.map(s=>a[s]||null)}))}function FAe(e,t,n,r){return q3("createIfNotExists",n),PM(e,t,n,"createIfNotExists",r)}function LAe(e,t,n,r){return q3("createOrReplace",n),PM(e,t,n,"createOrReplace",r)}function NAe(e,t,n,r){return xw(e,t,"mutate",{mutations:[{delete:jAe(n)}]},r)}function BAe(e,t,n,r){let i;n instanceof um||n instanceof L1?i={patch:n.serialize()}:n instanceof Z3||n instanceof X3?i=n.serialize():i=n;const o=Array.isArray(i)?i:[i],a=r&&r.transactionId||void 0;return xw(e,t,"mutate",{mutations:o,transactionId:a},r)}function VAe(e,t,n,r){const i=Array.isArray(n)?n:[n],o=r&&r.transactionId||void 0,a=r&&r.skipCrossDatasetReferenceValidation||void 0,s=r&&r.dryRun||void 0;return xw(e,t,"actions",{actions:i,transactionId:o,skipCrossDatasetReferenceValidation:a,dryRun:s},r)}function xw(e,t,n,r,i={}){const o=n==="mutate",a=n==="actions",s=n==="query",l=o||a?"":OAe(r),u=!o&&!a&&l.length<Fwt,d=u?l:"",f=i.returnFirst,{timeout:h,token:m,tag:g,headers:y,returnQuery:x,lastLiveEventId:b,cacheMode:v}=i,w=Hc(e,n,d),C={method:u?"GET":"POST",uri:w,json:!0,body:u?void 0:r,query:o&&Mwt(i),timeout:h,headers:y,token:m,tag:g,returnQuery:x,perspective:i.perspective,resultSourceMap:i.resultSourceMap,lastLiveEventId:Array.isArray(b)?b[0]:b,cacheMode:v,canUseCdn:s,signal:i.signal,fetch:i.fetch,useAbortSignal:i.useAbortSignal,useCdn:i.useCdn};return gE(e,t,C).pipe(Bt(QK),fe(Pwt),fe(k=>{if(!o)return k;const S=k.results||[];if(i.returnDocuments)return f?S[0]&&S[0].document:S.map(T=>T.document);const E=f?"documentId":"documentIds",_=f?S[0]&&S[0].id:S.map(T=>T.id);return{transactionId:k.transactionId,results:S,[E]:_}}))}function PM(e,t,n,r,i={}){const o={[r]:n},a=Object.assign({returnFirst:!0,returnDocuments:!0},i);return xw(e,t,"mutate",{mutations:[o]},a)}const mE=e=>e.config().dataset!==void 0&&e.config().projectId!==void 0||e.config()["~experimental_resource"]!==void 0,zAe=(e,t)=>mE(e)&&t.startsWith(Hc(e,"query")),Lwt=(e,t)=>mE(e)&&t.startsWith(Hc(e,"mutate")),Nwt=(e,t)=>mE(e)&&t.startsWith(Hc(e,"doc","")),Bwt=(e,t)=>mE(e)&&t.startsWith(Hc(e,"listen")),Vwt=(e,t)=>mE(e)&&t.startsWith(Hc(e,"history","")),zwt=(e,t)=>t.startsWith("/data/")||zAe(e,t)||Lwt(e,t)||Nwt(e,t)||Bwt(e,t)||Vwt(e,t);function gE(e,t,n){const r=n.url||n.uri,i=e.config(),o=typeof n.canUseCdn>"u"?["GET","HEAD"].indexOf(n.method||"GET")>=0&&zwt(e,r):n.canUseCdn;let a=(n.useCdn??i.useCdn)&&o;const s=n.tag&&i.requestTagPrefix?[i.requestTagPrefix,n.tag].join("."):n.tag||i.requestTagPrefix;if(s&&n.tag!==null&&(n.query={tag:kAe(s),...n.query}),["GET","HEAD","POST"].indexOf(n.method||"GET")>=0&&zAe(e,r)){const d=n.resultSourceMap??i.resultSourceMap;d!==void 0&&d!==!1&&(n.query={resultSourceMap:d,...n.query});const f=n.perspective||i.perspective;typeof f<"u"&&(f==="previewDrafts"&&gwt(),EAe(f),n.query={perspective:Array.isArray(f)?f.join(","):f,...n.query},(Array.isArray(f)&&f.length>0||f==="previewDrafts"||f==="drafts")&&a&&(a=!1,mwt())),n.lastLiveEventId&&(n.query={...n.query,lastLiveEventId:n.lastLiveEventId}),n.returnQuery===!1&&(n.query={returnQuery:"false",...n.query}),a&&n.cacheMode=="noStale"&&(n.query={cacheMode:"noStale",...n.query})}const l=Dwt(i,Object.assign({},n,{url:eY(e,r,a)})),u=new Lt(d=>t(l,i.requester).subscribe(d));return n.signal?u.pipe(Uwt(n.signal)):u}function Nu(e,t,n){return gE(e,t,n).pipe(Bt(r=>r.type==="response"),fe(r=>r.body))}function Hc(e,t,n){const r=e.config();if(r["~experimental_resource"]){SAe(r);const a=Gwt(r),s=n!==void 0?`${t}/${n}`:t;return`${a}/${s}`.replace(/\/($|\?)/,"$1")}const i=CAe(r),o=`/${t}/${i}`;return`/data${n!==void 0?`${o}/${n}`:o}`.replace(/\/($|\?)/,"$1")}function eY(e,t,n=!1){const{url:r,cdnUrl:i}=e.config();return`${n?i:r}/${t.replace(/^\//,"")}`}function Uwt(e){return t=>new Lt(n=>{const r=()=>n.error(Wwt(e));if(e&&e.aborted){r();return}const i=t.subscribe(n);return e.addEventListener("abort",r),()=>{e.removeEventListener("abort",r),i.unsubscribe()}})}const Hwt=!!globalThis.DOMException;function Wwt(e){if(Hwt)return new DOMException((e==null?void 0:e.reason)??"The operation was aborted.","AbortError");const t=new Error((e==null?void 0:e.reason)??"The operation was aborted.");return t.name="AbortError",t}const Gwt=e=>{if(!e["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:t,id:n}=e["~experimental_resource"];switch(t){case"dataset":{const r=n.split(".");if(r.length!==2)throw new Error('Dataset ID must be in the format "project.dataset"');return`/projects/${r[0]}/datasets/${r[1]}`}case"canvas":return`/canvases/${n}`;case"media-library":return`/media-libraries/${n}`;case"dashboard":return`/dashboards/${n}`;default:throw new Error(`Unsupported resource type: ${t.toString()}`)}};var $5,D5;class Kwt{constructor(t,n){Bn(this,$5,void 0);Bn(this,D5,void 0);Mn(this,$5,t),Mn(this,D5,n)}upload(t,n,r){return UAe(je(this,$5),je(this,D5),t,n,r)}}$5=new WeakMap,D5=new WeakMap;var O5,M5;class Ywt{constructor(t,n){Bn(this,O5,void 0);Bn(this,M5,void 0);Mn(this,O5,t),Mn(this,M5,n)}upload(t,n,r){const i=UAe(je(this,O5),je(this,M5),t,n,r);return so(i.pipe(Bt(o=>o.type==="response"),fe(o=>o.body.document)))}}O5=new WeakMap,M5=new WeakMap;function UAe(e,t,n,r,i={}){uwt(n);let o=i.extract||void 0;o&&!o.length&&(o=["none"]);const a=e.config(),s=Zwt(i,r),{tag:l,label:u,title:d,description:f,creditLine:h,filename:m,source:g}=s,y={label:u,title:d,description:f,filename:m,meta:o,creditLine:h};return g&&(y.sourceId=g.id,y.sourceName=g.name,y.sourceUrl=g.url),gE(e,t,{tag:l,method:"POST",timeout:s.timeout||0,uri:qwt(a,n),headers:s.contentType?{"Content-Type":s.contentType}:{},query:y,body:r})}function qwt(e,t){const n=t==="image"?"images":"files";if(e["~experimental_resource"]){const{type:i,id:o}=e["~experimental_resource"];switch(i){case"dataset":throw new Error("Assets are not supported for dataset resources, yet. Configure the client with `{projectId: <projectId>, dataset: <datasetId>}` instead.");case"canvas":return`/canvases/${o}/assets/${n}`;case"media-library":return`/media-libraries/${o}/upload`;case"dashboard":return`/dashboards/${o}/assets/${n}`;default:throw new Error(`Unsupported resource type: ${i.toString()}`)}}const r=CAe(e);return`assets/${n}/${r}`}function Zwt(e,t){return typeof File>"u"||!(t instanceof File)?e:Object.assign({filename:e.preserveFilename===!1?void 0:t.name,contentType:t.type},e)}var Xwt=(e,t)=>Object.keys(t).concat(Object.keys(e)).reduce((n,r)=>(n[r]=typeof e[r]>"u"?t[r]:e[r],n),{});const Jwt=(e,t)=>t.reduce((n,r)=>(typeof e[r]>"u"||(n[r]=e[r]),n),{}),HAe=Qi(()=>My(()=>import("./browser-46b823c6.js").then(e=>e.b),[])).pipe(fe(({default:e})=>e),go(1));function WAe(){return function(e){return e.pipe(En((t,n)=>t instanceof TAe?Di(Se({type:"reconnect"}),ni(1e3).pipe(Ot(()=>n))):qd(()=>t)))}}const Qwt=14800,eCt=["includePreviousRevision","includeResult","includeMutations","includeAllVersions","visibility","effectFormat","tag"],tCt={includeResult:!0};function GAe(e,t,n={}){const{url:r,token:i,withCredentials:o,requestTagPrefix:a}=this.config(),s=n.tag&&a?[a,n.tag].join("."):n.tag,l={...Xwt(n,tCt),tag:s},u=Jwt(l,eCt),d=OAe({query:e,params:t,options:{tag:s,...u}}),f=`${r}${Hc(this,"listen",d)}`;if(f.length>Qwt)return qd(()=>new Error("Query too large for listener"));const h=l.events?l.events:["mutation"],m={};return o&&(m.withCredentials=!0),i&&(m.headers={Authorization:`Bearer ${i}`}),AAe(()=>(typeof EventSource>"u"||m.headers?HAe:Se(EventSource)).pipe(fe(g=>new g(f,m))),h).pipe(WAe(),Bt(g=>h.includes(g.type)),fe(g=>({type:g.type,..."data"in g?g.data:{}})))}function nCt(e,t){return rCt(typeof e=="function"?{predicate:e,...t}:e)}function rCt(e){return t=>{let n,r=!1;const{predicate:i,...o}=e,a=t.pipe(or(l=>{e.predicate(l)&&(r=!0,n=l)}),bw(()=>{r=!1,n=void 0}),ts(o)),s=new Lt(l=>{r&&l.next(n),l.complete()});return Un(a,s)}}const kae="2021-03-25";var Qp;class KAe{constructor(t){Bn(this,Qp,void 0);Mn(this,Qp,t)}events({includeDrafts:t=!1,tag:n}={}){Td("live",je(this,Qp).config());const{projectId:r,apiVersion:i,token:o,withCredentials:a,requestTagPrefix:s}=je(this,Qp).config(),l=i.replace(/^v/,"");if(l!=="X"&&l<kae)throw new Error(`The live events API requires API version ${kae} or later. The current API version is ${l}. Please update your API version to use this feature.`);if(t&&!o&&!a)throw new Error("The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.");const u=Hc(je(this,Qp),"live/events"),d=new URL(je(this,Qp).getUrl(u,!1)),f=n&&s?[s,n].join("."):n;f&&d.searchParams.set("tag",f),t&&d.searchParams.set("includeDrafts","true");const h={};t&&o&&(h.headers={Authorization:`Bearer ${o}`}),t&&a&&(h.withCredentials=!0);const m=`${d.href}::${JSON.stringify(h)}`,g=p8.get(m);if(g)return g;const y=AAe(()=>(typeof EventSource>"u"||h.headers?HAe:Se(EventSource)).pipe(fe(v=>new v(d.href,h))),["message","restart","welcome","reconnect","goaway"]).pipe(WAe(),fe(v=>{if(v.type==="message"){const{data:w,...C}=v;return{...C,tags:w.tags}}return v})),x=iCt(d,{method:"OPTIONS",mode:"cors",credentials:h.withCredentials?"include":"omit",headers:h.headers}).pipe(Ot(()=>ur),En(()=>{throw new iwt({projectId:r})})),b=Di(x,y).pipe(bw(()=>p8.delete(m)),nCt({predicate:v=>v.type==="welcome"}));return p8.set(m,b),b}}Qp=new WeakMap;function iCt(e,t){return new Lt(n=>{const r=new AbortController,i=r.signal;return fetch(e,{...t,signal:r.signal}).then(o=>{n.next(o),n.complete()},o=>{i.aborted||n.error(o)}),()=>r.abort()})}const p8=new Map;var em,tm;class oCt{constructor(t,n){Bn(this,em,void 0);Bn(this,tm,void 0);Mn(this,em,t),Mn(this,tm,n)}create(t,n){return mb(je(this,em),je(this,tm),"PUT",t,n)}edit(t,n){return mb(je(this,em),je(this,tm),"PATCH",t,n)}delete(t){return mb(je(this,em),je(this,tm),"DELETE",t)}list(){return Nu(je(this,em),je(this,tm),{uri:"/datasets",tag:null})}}em=new WeakMap,tm=new WeakMap;var ac,nm;class aCt{constructor(t,n){Bn(this,ac,void 0);Bn(this,nm,void 0);Mn(this,ac,t),Mn(this,nm,n)}create(t,n){return Td("dataset",je(this,ac).config()),so(mb(je(this,ac),je(this,nm),"PUT",t,n))}edit(t,n){return Td("dataset",je(this,ac).config()),so(mb(je(this,ac),je(this,nm),"PATCH",t,n))}delete(t){return Td("dataset",je(this,ac).config()),so(mb(je(this,ac),je(this,nm),"DELETE",t))}list(){return Td("dataset",je(this,ac).config()),so(Nu(je(this,ac),je(this,nm),{uri:"/datasets",tag:null}))}}ac=new WeakMap,nm=new WeakMap;function mb(e,t,n,r,i){return Td("dataset",e.config()),xAe(r),Nu(e,t,{method:n,uri:`/datasets/${r}`,body:i,tag:null})}var rm,Pb;class sCt{constructor(t,n){Bn(this,rm,void 0);Bn(this,Pb,void 0);Mn(this,rm,t),Mn(this,Pb,n)}list(t){Td("projects",je(this,rm).config());const n=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Nu(je(this,rm),je(this,Pb),{uri:n})}getById(t){return Td("projects",je(this,rm).config()),Nu(je(this,rm),je(this,Pb),{uri:`/projects/${t}`})}}rm=new WeakMap,Pb=new WeakMap;var im,Rb;class lCt{constructor(t,n){Bn(this,im,void 0);Bn(this,Rb,void 0);Mn(this,im,t),Mn(this,Rb,n)}list(t){Td("projects",je(this,im).config());const n=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return so(Nu(je(this,im),je(this,Rb),{uri:n}))}getById(t){return Td("projects",je(this,im).config()),so(Nu(je(this,im),je(this,Rb),{uri:`/projects/${t}`}))}}im=new WeakMap,Rb=new WeakMap;var P5,R5;class cCt{constructor(t,n){Bn(this,P5,void 0);Bn(this,R5,void 0);Mn(this,P5,t),Mn(this,R5,n)}getById(t){return Nu(je(this,P5),je(this,R5),{uri:`/users/${t}`})}}P5=new WeakMap,R5=new WeakMap;var F5,L5;class uCt{constructor(t,n){Bn(this,F5,void 0);Bn(this,L5,void 0);Mn(this,F5,t),Mn(this,L5,n)}getById(t){return so(Nu(je(this,F5),je(this,L5),{uri:`/users/${t}`}))}}F5=new WeakMap,L5=new WeakMap;var Kf,wo;const tO=class tO{constructor(t,n=gS){Z(this,"assets");Z(this,"datasets");Z(this,"live");Z(this,"projects");Z(this,"users");Bn(this,Kf,void 0);Bn(this,wo,void 0);Z(this,"listen",GAe);this.config(n),Mn(this,wo,t),this.assets=new Kwt(this,je(this,wo)),this.datasets=new oCt(this,je(this,wo)),this.live=new KAe(this),this.projects=new sCt(this,je(this,wo)),this.users=new cCt(this,je(this,wo))}clone(){return new tO(je(this,wo),this.config())}config(t){if(t===void 0)return{...je(this,Kf)};if(je(this,Kf)&&je(this,Kf).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return Mn(this,Kf,_Ae(t,je(this,Kf)||{})),this}withConfig(t){const n=this.config();return new tO(je(this,wo),{...n,...t,stega:{...n.stega||{},...typeof(t==null?void 0:t.stega)=="boolean"?{enabled:t.stega}:(t==null?void 0:t.stega)||{}}})}fetch(t,n,r){return MAe(this,je(this,wo),je(this,Kf).stega,t,n,r)}getDocument(t,n){return PAe(this,je(this,wo),t,n)}getDocuments(t,n){return RAe(this,je(this,wo),t,n)}create(t,n){return PM(this,je(this,wo),t,"create",n)}createIfNotExists(t,n){return FAe(this,je(this,wo),t,n)}createOrReplace(t,n){return LAe(this,je(this,wo),t,n)}delete(t,n){return NAe(this,je(this,wo),t,n)}mutate(t,n){return BAe(this,je(this,wo),t,n)}patch(t,n){return new L1(t,n,this)}transaction(t){return new X3(t,this)}action(t,n){return VAe(this,je(this,wo),t,n)}request(t){return Nu(this,je(this,wo),t)}getUrl(t,n){return eY(this,t,n)}getDataUrl(t,n){return Hc(this,t,n)}};Kf=new WeakMap,wo=new WeakMap;let XN=tO;var Yf,io;const nO=class nO{constructor(t,n=gS){Z(this,"assets");Z(this,"datasets");Z(this,"live");Z(this,"projects");Z(this,"users");Z(this,"observable");Bn(this,Yf,void 0);Bn(this,io,void 0);Z(this,"listen",GAe);this.config(n),Mn(this,io,t),this.assets=new Ywt(this,je(this,io)),this.datasets=new aCt(this,je(this,io)),this.live=new KAe(this),this.projects=new lCt(this,je(this,io)),this.users=new uCt(this,je(this,io)),this.observable=new XN(t,n)}clone(){return new nO(je(this,io),this.config())}config(t){if(t===void 0)return{...je(this,Yf)};if(je(this,Yf)&&je(this,Yf).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(t),Mn(this,Yf,_Ae(t,je(this,Yf)||{})),this}withConfig(t){const n=this.config();return new nO(je(this,io),{...n,...t,stega:{...n.stega||{},...typeof(t==null?void 0:t.stega)=="boolean"?{enabled:t.stega}:(t==null?void 0:t.stega)||{}}})}fetch(t,n,r){return so(MAe(this,je(this,io),je(this,Yf).stega,t,n,r))}getDocument(t,n){return so(PAe(this,je(this,io),t,n))}getDocuments(t,n){return so(RAe(this,je(this,io),t,n))}create(t,n){return so(PM(this,je(this,io),t,"create",n))}createIfNotExists(t,n){return so(FAe(this,je(this,io),t,n))}createOrReplace(t,n){return so(LAe(this,je(this,io),t,n))}delete(t,n){return so(NAe(this,je(this,io),t,n))}mutate(t,n){return so(BAe(this,je(this,io),t,n))}patch(t,n){return new um(t,n,this)}transaction(t){return new Z3(t,this)}action(t,n){return so(VAe(this,je(this,io),t,n))}request(t){return so(Nu(this,je(this,io),t))}dataRequest(t,n,r){return so(xw(this,je(this,io),t,n,r))}getUrl(t,n){return eY(this,t,n)}getDataUrl(t,n){return Hc(this,t,n)}};Yf=new WeakMap,io=new WeakMap;let JN=nO;function dCt(e,t){return{requester:vae(e),createClient:n=>{const r=vae(e);return new t((i,o)=>(o||r)({maxRedirects:0,maxRetries:n.maxRetries,retryDelay:n.retryDelay,...i}),n)}}}var fCt=[];const hCt=dCt(fCt,JN),YAe=hCt.createClient;var pCt=nK;function mCt(e,t){return pCt(e,t)}var gCt=mCt;const Dt=Ue(gCt);var yCt=function(e){return e};function qAe(e){e===void 0&&(e=yCt);var t=new Jr;return[t.pipe(e),function(n){return t.next(n)}]}function Sae(e){return typeof e=="function"?e():e}const _T=new WeakMap,vCt={};function bi(e,t,n){const r=nt.c(10),i=n===void 0?vCt:n,{disabled:o}=i,a=o===void 0?!1:o;if(!_T.has(e)){const m={didEmit:!1},g={state:m,observable:e.pipe(fe(kCt),En(CCt),or(y=>{const{snapshot:x,error:b}=y;m.didEmit=!0,m.snapshot=x,m.error=b}),fe(wCt),bw(()=>_T.delete(e)),ts({resetOnRefCountZero:xCt})),getSnapshot:y=>{if(m.error)throw m.error;return m.didEmit?m.snapshot:Sae(y)}};g.observable.subscribe().unsubscribe(),_T.set(e,g)}let s;r[0]!==e?(s=_T.get(e),r[0]=e,r[1]=s):s=r[1];const l=s;let u;r[2]!==a||r[3]!==l.observable?(u=m=>{if(a)return bCt;const g=l.observable.subscribe(m);return()=>{g.unsubscribe()}},r[2]=a,r[3]=l.observable,r[4]=u):u=r[4];const d=u;let f;r[5]!==t||r[6]!==l?(f=()=>l.getSnapshot(t),r[5]=t,r[6]=l,r[7]=f):f=r[7];let h;return r[8]!==t?(h=typeof t>"u"?void 0:()=>Sae(t),r[8]=t,r[9]=h):h=r[9],p.useSyncExternalStore(d,f,h)}function bCt(){}function xCt(){return ni(0,MTe)}function wCt(e){}function CCt(e){return Se({snapshot:void 0,error:e})}function kCt(e){return{snapshot:e,error:void 0}}function RM(e){const t=nt.c(7),[n]=p.useState(SCt),[r,i]=n;let o;t[0]!==e?(o=u=>e(u),t[0]=e,t[1]=o):o=t[1];const a=YO(o);let s;t[2]!==r||t[3]!==a?(s=()=>{const u=r.pipe(d=>a(d)).subscribe();return()=>u.unsubscribe()},t[2]=r,t[3]=a,t[4]=s):s=t[4];let l;return t[5]!==r?(l=[r],t[5]=r,t[6]=l):l=t[6],p.useEffect(s,l),i}function SCt(){return qAe()}var ZAe={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",a=0;a<arguments.length;a++){var s=arguments[a];s&&(o=i(o,r(s)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var s in o)t.call(o,s)&&o[s]&&(a=i(a,s));return a}function i(o,a){return a?o?o+" "+a:o+a:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(ZAe);var ECt=ZAe.exports;const _Ct=Ue(ECt);//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var XAe;function it(){return XAe.apply(null,arguments)}function TCt(e){XAe=e}function Bu(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function N1(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function nr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function tY(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(nr(e,t))return!1;return!0}function Us(e){return e===void 0}function Rh(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function yE(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function JAe(e,t){var n=[],r,i=e.length;for(r=0;r<i;++r)n.push(t(e[r],r));return n}function dm(e,t){for(var n in t)nr(t,n)&&(e[n]=t[n]);return nr(t,"toString")&&(e.toString=t.toString),nr(t,"valueOf")&&(e.valueOf=t.valueOf),e}function lf(e,t,n,r){return wje(e,t,n,r,!0).utc()}function ACt(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function nn(e){return e._pf==null&&(e._pf=ACt()),e._pf}var QN;Array.prototype.some?QN=Array.prototype.some:QN=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function nY(e){var t=null,n=!1,r=e._d&&!isNaN(e._d.getTime());if(r&&(t=nn(e),n=QN.call(t.parsedDateParts,function(i){return i!=null}),r=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r;return e._isValid}function FM(e){var t=lf(NaN);return e!=null?dm(nn(t),e):nn(t).userInvalidated=!0,t}var Eae=it.momentProperties=[],m8=!1;function rY(e,t){var n,r,i,o=Eae.length;if(Us(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Us(t._i)||(e._i=t._i),Us(t._f)||(e._f=t._f),Us(t._l)||(e._l=t._l),Us(t._strict)||(e._strict=t._strict),Us(t._tzm)||(e._tzm=t._tzm),Us(t._isUTC)||(e._isUTC=t._isUTC),Us(t._offset)||(e._offset=t._offset),Us(t._pf)||(e._pf=nn(t)),Us(t._locale)||(e._locale=t._locale),o>0)for(n=0;n<o;n++)r=Eae[n],i=t[r],Us(i)||(e[r]=i);return e}function vE(e){rY(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),m8===!1&&(m8=!0,it.updateOffset(this),m8=!1)}function Vu(e){return e instanceof vE||e!=null&&e._isAMomentObject!=null}function QAe(e){it.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Wc(e,t){var n=!0;return dm(function(){if(it.deprecationHandler!=null&&it.deprecationHandler(null,e),n){var r=[],i,o,a,s=arguments.length;for(o=0;o<s;o++){if(i="",typeof arguments[o]=="object"){i+=`
[`+o+"] ";for(a in arguments[0])nr(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[o];r.push(i)}QAe(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var _ae={};function eje(e,t){it.deprecationHandler!=null&&it.deprecationHandler(e,t),_ae[e]||(QAe(t),_ae[e]=!0)}it.suppressDeprecationWarnings=!1;it.deprecationHandler=null;function cf(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function jCt(e){var t,n;for(n in e)nr(e,n)&&(t=e[n],cf(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function eB(e,t){var n=dm({},e),r;for(r in t)nr(t,r)&&(N1(e[r])&&N1(t[r])?(n[r]={},dm(n[r],e[r]),dm(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)nr(e,r)&&!nr(t,r)&&N1(e[r])&&(n[r]=dm({},n[r]));return n}function iY(e){e!=null&&this.set(e)}var tB;Object.keys?tB=Object.keys:tB=function(e){var t,n=[];for(t in e)nr(e,t)&&n.push(t);return n};var ICt={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function $Ct(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return cf(r)?r.call(t,n):r}function Zd(e,t,n){var r=""+Math.abs(e),i=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var oY=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,TT=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,g8={},gb={};function jt(e,t,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),e&&(gb[e]=i),t&&(gb[t[0]]=function(){return Zd(i.apply(this,arguments),t[1],t[2])}),n&&(gb[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function DCt(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function OCt(e){var t=e.match(oY),n,r;for(n=0,r=t.length;n<r;n++)gb[t[n]]?t[n]=gb[t[n]]:t[n]=DCt(t[n]);return function(i){var o="",a;for(a=0;a<r;a++)o+=cf(t[a])?t[a].call(i,e):t[a];return o}}function Gj(e,t){return e.isValid()?(t=tje(t,e.localeData()),g8[t]=g8[t]||OCt(t),g8[t](e)):e.localeData().invalidDate()}function tje(e,t){var n=5;function r(i){return t.longDateFormat(i)||i}for(TT.lastIndex=0;n>=0&&TT.test(e);)e=e.replace(TT,r),TT.lastIndex=0,n-=1;return e}var MCt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function PCt(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(oY).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var RCt="Invalid date";function FCt(){return this._invalidDate}var LCt="%d",NCt=/\d{1,2}/;function BCt(e){return this._ordinal.replace("%d",e)}var VCt={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function zCt(e,t,n,r){var i=this._relativeTime[n];return cf(i)?i(e,t,n,r):i.replace(/%d/i,e)}function UCt(e,t){var n=this._relativeTime[e>0?"future":"past"];return cf(n)?n(t):n.replace(/%s/i,t)}var Tae={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Gc(e){return typeof e=="string"?Tae[e]||Tae[e.toLowerCase()]:void 0}function aY(e){var t={},n,r;for(r in e)nr(e,r)&&(n=Gc(r),n&&(t[n]=e[r]));return t}var HCt={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function WCt(e){var t=[],n;for(n in e)nr(e,n)&&t.push({unit:n,priority:HCt[n]});return t.sort(function(r,i){return r.priority-i.priority}),t}var nje=/\d/,Kl=/\d\d/,rje=/\d{3}/,sY=/\d{4}/,LM=/[+-]?\d{6}/,xi=/\d\d?/,ije=/\d\d\d\d?/,oje=/\d\d\d\d\d\d?/,NM=/\d{1,3}/,lY=/\d{1,4}/,BM=/[+-]?\d{1,6}/,ww=/\d+/,VM=/[+-]?\d+/,GCt=/Z|[+-]\d\d:?\d\d/gi,zM=/Z|[+-]\d\d(?::?\d\d)?/gi,KCt=/[+-]?\d+(\.\d{1,3})?/,bE=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Cw=/^[1-9]\d?/,cY=/^([1-9]\d|\d)/,J3;J3={};function dt(e,t,n){J3[e]=cf(t)?t:function(r,i){return r&&n?n:t}}function YCt(e,t){return nr(J3,e)?J3[e](t._strict,t._locale):new RegExp(qCt(e))}function qCt(e){return dh(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,i,o){return n||r||i||o}))}function dh(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function uc(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function $n(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=uc(t)),n}var nB={};function $r(e,t){var n,r=t,i;for(typeof e=="string"&&(e=[e]),Rh(t)&&(r=function(o,a){a[t]=$n(o)}),i=e.length,n=0;n<i;n++)nB[e[n]]=r}function xE(e,t){$r(e,function(n,r,i,o){i._w=i._w||{},t(n,i._w,i,o)})}function ZCt(e,t,n){t!=null&&nr(nB,e)&&nB[e](t,n._a,n,e)}function UM(e){return e%4===0&&e%100!==0||e%400===0}var Za=0,nh=1,kd=2,Zo=3,bu=4,rh=5,b1=6,XCt=7,JCt=8;jt("Y",0,0,function(){var e=this.year();return e<=9999?Zd(e,4):"+"+e});jt(0,["YY",2],0,function(){return this.year()%100});jt(0,["YYYY",4],0,"year");jt(0,["YYYYY",5],0,"year");jt(0,["YYYYYY",6,!0],0,"year");dt("Y",VM);dt("YY",xi,Kl);dt("YYYY",lY,sY);dt("YYYYY",BM,LM);dt("YYYYYY",BM,LM);$r(["YYYYY","YYYYYY"],Za);$r("YYYY",function(e,t){t[Za]=e.length===2?it.parseTwoDigitYear(e):$n(e)});$r("YY",function(e,t){t[Za]=it.parseTwoDigitYear(e)});$r("Y",function(e,t){t[Za]=parseInt(e,10)});function yS(e){return UM(e)?366:365}it.parseTwoDigitYear=function(e){return $n(e)+($n(e)>68?1900:2e3)};var aje=kw("FullYear",!0);function QCt(){return UM(this.year())}function kw(e,t){return function(n){return n!=null?(sje(this,e,n),it.updateOffset(this,t),this):D2(this,e)}}function D2(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function sje(e,t,n){var r,i,o,a,s;if(!(!e.isValid()||isNaN(n))){switch(r=e._d,i=e._isUTC,t){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}o=n,a=e.month(),s=e.date(),s=s===29&&a===1&&!UM(o)?28:s,i?r.setUTCFullYear(o,a,s):r.setFullYear(o,a,s)}}function ekt(e){return e=Gc(e),cf(this[e])?this[e]():this}function tkt(e,t){if(typeof e=="object"){e=aY(e);var n=WCt(e),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](e[n[r].unit])}else if(e=Gc(e),cf(this[e]))return this[e](t);return this}function nkt(e,t){return(e%t+t)%t}var ao;Array.prototype.indexOf?ao=Array.prototype.indexOf:ao=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function uY(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=nkt(t,12);return e+=(t-n)/12,n===1?UM(e)?29:28:31-n%7%2}jt("M",["MM",2],"Mo",function(){return this.month()+1});jt("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});jt("MMMM",0,0,function(e){return this.localeData().months(this,e)});dt("M",xi,Cw);dt("MM",xi,Kl);dt("MMM",function(e,t){return t.monthsShortRegex(e)});dt("MMMM",function(e,t){return t.monthsRegex(e)});$r(["M","MM"],function(e,t){t[nh]=$n(e)-1});$r(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);i!=null?t[nh]=i:nn(n).invalidMonth=e});var rkt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),lje="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),cje=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ikt=bE,okt=bE;function akt(e,t){return e?Bu(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||cje).test(t)?"format":"standalone"][e.month()]:Bu(this._months)?this._months:this._months.standalone}function skt(e,t){return e?Bu(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[cje.test(t)?"format":"standalone"][e.month()]:Bu(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function lkt(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=lf([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?t==="MMM"?(i=ao.call(this._shortMonthsParse,a),i!==-1?i:null):(i=ao.call(this._longMonthsParse,a),i!==-1?i:null):t==="MMM"?(i=ao.call(this._shortMonthsParse,a),i!==-1?i:(i=ao.call(this._longMonthsParse,a),i!==-1?i:null)):(i=ao.call(this._longMonthsParse,a),i!==-1?i:(i=ao.call(this._shortMonthsParse,a),i!==-1?i:null))}function ckt(e,t,n){var r,i,o;if(this._monthsParseExact)return lkt.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=lf([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function uje(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=$n(t);else if(t=e.localeData().monthsParse(t),!Rh(t))return e}var n=t,r=e.date();return r=r<29?r:Math.min(r,uY(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function dje(e){return e!=null?(uje(this,e),it.updateOffset(this,!0),this):D2(this,"Month")}function ukt(){return uY(this.year(),this.month())}function dkt(e){return this._monthsParseExact?(nr(this,"_monthsRegex")||fje.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(nr(this,"_monthsShortRegex")||(this._monthsShortRegex=ikt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function fkt(e){return this._monthsParseExact?(nr(this,"_monthsRegex")||fje.call(this),e?this._monthsStrictRegex:this._monthsRegex):(nr(this,"_monthsRegex")||(this._monthsRegex=okt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function fje(){function e(l,u){return u.length-l.length}var t=[],n=[],r=[],i,o,a,s;for(i=0;i<12;i++)o=lf([2e3,i]),a=dh(this.monthsShort(o,"")),s=dh(this.months(o,"")),t.push(a),n.push(s),r.push(s),r.push(a);t.sort(e),n.sort(e),r.sort(e),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function hkt(e,t,n,r,i,o,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,o,a),s}function O2(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Q3(e,t,n){var r=7+t-n,i=(7+O2(e,0,r).getUTCDay()-t)%7;return-i+r-1}function hje(e,t,n,r,i){var o=(7+n-r)%7,a=Q3(e,r,i),s=1+7*(t-1)+o+a,l,u;return s<=0?(l=e-1,u=yS(l)+s):s>yS(e)?(l=e+1,u=s-yS(e)):(l=e,u=s),{year:l,dayOfYear:u}}function M2(e,t,n){var r=Q3(e.year(),t,n),i=Math.floor((e.dayOfYear()-r-1)/7)+1,o,a;return i<1?(a=e.year()-1,o=i+fh(a,t,n)):i>fh(e.year(),t,n)?(o=i-fh(e.year(),t,n),a=e.year()+1):(a=e.year(),o=i),{week:o,year:a}}function fh(e,t,n){var r=Q3(e,t,n),i=Q3(e+1,t,n);return(yS(e)-r+i)/7}jt("w",["ww",2],"wo","week");jt("W",["WW",2],"Wo","isoWeek");dt("w",xi,Cw);dt("ww",xi,Kl);dt("W",xi,Cw);dt("WW",xi,Kl);xE(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=$n(e)});function pkt(e){return M2(e,this._week.dow,this._week.doy).week}var mkt={dow:0,doy:6};function gkt(){return this._week.dow}function ykt(){return this._week.doy}function vkt(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function bkt(e){var t=M2(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}jt("d",0,"do","day");jt("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});jt("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});jt("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});jt("e",0,0,"weekday");jt("E",0,0,"isoWeekday");dt("d",xi);dt("e",xi);dt("E",xi);dt("dd",function(e,t){return t.weekdaysMinRegex(e)});dt("ddd",function(e,t){return t.weekdaysShortRegex(e)});dt("dddd",function(e,t){return t.weekdaysRegex(e)});xE(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);i!=null?t.d=i:nn(n).invalidWeekday=e});xE(["d","e","E"],function(e,t,n,r){t[r]=$n(e)});function xkt(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function wkt(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function dY(e,t){return e.slice(t,7).concat(e.slice(0,t))}var Ckt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),pje="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),kkt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Skt=bE,Ekt=bE,_kt=bE;function Tkt(e,t){var n=Bu(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?dY(n,this._week.dow):e?n[e.day()]:n}function Akt(e){return e===!0?dY(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function jkt(e){return e===!0?dY(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ikt(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=lf([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?t==="dddd"?(i=ao.call(this._weekdaysParse,a),i!==-1?i:null):t==="ddd"?(i=ao.call(this._shortWeekdaysParse,a),i!==-1?i:null):(i=ao.call(this._minWeekdaysParse,a),i!==-1?i:null):t==="dddd"?(i=ao.call(this._weekdaysParse,a),i!==-1||(i=ao.call(this._shortWeekdaysParse,a),i!==-1)?i:(i=ao.call(this._minWeekdaysParse,a),i!==-1?i:null)):t==="ddd"?(i=ao.call(this._shortWeekdaysParse,a),i!==-1||(i=ao.call(this._weekdaysParse,a),i!==-1)?i:(i=ao.call(this._minWeekdaysParse,a),i!==-1?i:null)):(i=ao.call(this._minWeekdaysParse,a),i!==-1||(i=ao.call(this._weekdaysParse,a),i!==-1)?i:(i=ao.call(this._shortWeekdaysParse,a),i!==-1?i:null))}function $kt(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Ikt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=lf([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Dkt(e){if(!this.isValid())return e!=null?this:NaN;var t=D2(this,"Day");return e!=null?(e=xkt(e,this.localeData()),this.add(e-t,"d")):t}function Okt(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Mkt(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=wkt(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function Pkt(e){return this._weekdaysParseExact?(nr(this,"_weekdaysRegex")||fY.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(nr(this,"_weekdaysRegex")||(this._weekdaysRegex=Skt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Rkt(e){return this._weekdaysParseExact?(nr(this,"_weekdaysRegex")||fY.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(nr(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ekt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Fkt(e){return this._weekdaysParseExact?(nr(this,"_weekdaysRegex")||fY.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(nr(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=_kt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function fY(){function e(d,f){return f.length-d.length}var t=[],n=[],r=[],i=[],o,a,s,l,u;for(o=0;o<7;o++)a=lf([2e3,1]).day(o),s=dh(this.weekdaysMin(a,"")),l=dh(this.weekdaysShort(a,"")),u=dh(this.weekdays(a,"")),t.push(s),n.push(l),r.push(u),i.push(s),i.push(l),i.push(u);t.sort(e),n.sort(e),r.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function hY(){return this.hours()%12||12}function Lkt(){return this.hours()||24}jt("H",["HH",2],0,"hour");jt("h",["hh",2],0,hY);jt("k",["kk",2],0,Lkt);jt("hmm",0,0,function(){return""+hY.apply(this)+Zd(this.minutes(),2)});jt("hmmss",0,0,function(){return""+hY.apply(this)+Zd(this.minutes(),2)+Zd(this.seconds(),2)});jt("Hmm",0,0,function(){return""+this.hours()+Zd(this.minutes(),2)});jt("Hmmss",0,0,function(){return""+this.hours()+Zd(this.minutes(),2)+Zd(this.seconds(),2)});function mje(e,t){jt(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}mje("a",!0);mje("A",!1);function gje(e,t){return t._meridiemParse}dt("a",gje);dt("A",gje);dt("H",xi,cY);dt("h",xi,Cw);dt("k",xi,Cw);dt("HH",xi,Kl);dt("hh",xi,Kl);dt("kk",xi,Kl);dt("hmm",ije);dt("hmmss",oje);dt("Hmm",ije);dt("Hmmss",oje);$r(["H","HH"],Zo);$r(["k","kk"],function(e,t,n){var r=$n(e);t[Zo]=r===24?0:r});$r(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});$r(["h","hh"],function(e,t,n){t[Zo]=$n(e),nn(n).bigHour=!0});$r("hmm",function(e,t,n){var r=e.length-2;t[Zo]=$n(e.substr(0,r)),t[bu]=$n(e.substr(r)),nn(n).bigHour=!0});$r("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Zo]=$n(e.substr(0,r)),t[bu]=$n(e.substr(r,2)),t[rh]=$n(e.substr(i)),nn(n).bigHour=!0});$r("Hmm",function(e,t,n){var r=e.length-2;t[Zo]=$n(e.substr(0,r)),t[bu]=$n(e.substr(r))});$r("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Zo]=$n(e.substr(0,r)),t[bu]=$n(e.substr(r,2)),t[rh]=$n(e.substr(i))});function Nkt(e){return(e+"").toLowerCase().charAt(0)==="p"}var Bkt=/[ap]\.?m?\.?/i,Vkt=kw("Hours",!0);function zkt(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var yje={calendar:ICt,longDateFormat:MCt,invalidDate:RCt,ordinal:LCt,dayOfMonthOrdinalParse:NCt,relativeTime:VCt,months:rkt,monthsShort:lje,week:mkt,weekdays:Ckt,weekdaysMin:kkt,weekdaysShort:pje,meridiemParse:Bkt},Ei={},OC={},P2;function Ukt(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function Aae(e){return e&&e.toLowerCase().replace("_","-")}function Hkt(e){for(var t=0,n,r,i,o;t<e.length;){for(o=Aae(e[t]).split("-"),n=o.length,r=Aae(e[t+1]),r=r?r.split("-"):null;n>0;){if(i=HM(o.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&Ukt(o,r)>=n-1)break;n--}t++}return P2}function Wkt(e){return!!(e&&e.match("^[^/\\\\]*$"))}function HM(e){var t=null,n;if(Ei[e]===void 0&&typeof module<"u"&&module&&module.exports&&Wkt(e))try{t=P2._abbr,n=require,n("./locale/"+e),Pm(t)}catch{Ei[e]=null}return Ei[e]}function Pm(e,t){var n;return e&&(Us(t)?n=cp(e):n=pY(e,t),n?P2=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),P2._abbr}function pY(e,t){if(t!==null){var n,r=yje;if(t.abbr=e,Ei[e]!=null)eje("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Ei[e]._config;else if(t.parentLocale!=null)if(Ei[t.parentLocale]!=null)r=Ei[t.parentLocale]._config;else if(n=HM(t.parentLocale),n!=null)r=n._config;else return OC[t.parentLocale]||(OC[t.parentLocale]=[]),OC[t.parentLocale].push({name:e,config:t}),null;return Ei[e]=new iY(eB(r,t)),OC[e]&&OC[e].forEach(function(i){pY(i.name,i.config)}),Pm(e),Ei[e]}else return delete Ei[e],null}function Gkt(e,t){if(t!=null){var n,r,i=yje;Ei[e]!=null&&Ei[e].parentLocale!=null?Ei[e].set(eB(Ei[e]._config,t)):(r=HM(e),r!=null&&(i=r._config),t=eB(i,t),r==null&&(t.abbr=e),n=new iY(t),n.parentLocale=Ei[e],Ei[e]=n),Pm(e)}else Ei[e]!=null&&(Ei[e].parentLocale!=null?(Ei[e]=Ei[e].parentLocale,e===Pm()&&Pm(e)):Ei[e]!=null&&delete Ei[e]);return Ei[e]}function cp(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return P2;if(!Bu(e)){if(t=HM(e),t)return t;e=[e]}return Hkt(e)}function Kkt(){return tB(Ei)}function mY(e){var t,n=e._a;return n&&nn(e).overflow===-2&&(t=n[nh]<0||n[nh]>11?nh:n[kd]<1||n[kd]>uY(n[Za],n[nh])?kd:n[Zo]<0||n[Zo]>24||n[Zo]===24&&(n[bu]!==0||n[rh]!==0||n[b1]!==0)?Zo:n[bu]<0||n[bu]>59?bu:n[rh]<0||n[rh]>59?rh:n[b1]<0||n[b1]>999?b1:-1,nn(e)._overflowDayOfYear&&(t<Za||t>kd)&&(t=kd),nn(e)._overflowWeeks&&t===-1&&(t=XCt),nn(e)._overflowWeekday&&t===-1&&(t=JCt),nn(e).overflow=t),e}var Ykt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,qkt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Zkt=/Z|[+-]\d\d(?::?\d\d)?/,AT=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],y8=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Xkt=/^\/?Date\((-?\d+)/i,Jkt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Qkt={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function vje(e){var t,n,r=e._i,i=Ykt.exec(r)||qkt.exec(r),o,a,s,l,u=AT.length,d=y8.length;if(i){for(nn(e).iso=!0,t=0,n=u;t<n;t++)if(AT[t][1].exec(i[1])){a=AT[t][0],o=AT[t][2]!==!1;break}if(a==null){e._isValid=!1;return}if(i[3]){for(t=0,n=d;t<n;t++)if(y8[t][1].exec(i[3])){s=(i[2]||" ")+y8[t][0];break}if(s==null){e._isValid=!1;return}}if(!o&&s!=null){e._isValid=!1;return}if(i[4])if(Zkt.exec(i[4]))l="Z";else{e._isValid=!1;return}e._f=a+(s||"")+(l||""),yY(e)}else e._isValid=!1}function eSt(e,t,n,r,i,o){var a=[tSt(e),lje.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}function tSt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function nSt(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function rSt(e,t,n){if(e){var r=pje.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(r!==i)return nn(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function iSt(e,t,n){if(e)return Qkt[e];if(t)return 0;var r=parseInt(n,10),i=r%100,o=(r-i)/100;return o*60+i}function bje(e){var t=Jkt.exec(nSt(e._i)),n;if(t){if(n=eSt(t[4],t[3],t[2],t[5],t[6],t[7]),!rSt(t[1],n,e))return;e._a=n,e._tzm=iSt(t[8],t[9],t[10]),e._d=O2.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),nn(e).rfc2822=!0}else e._isValid=!1}function oSt(e){var t=Xkt.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(vje(e),e._isValid===!1)delete e._isValid;else return;if(bje(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:it.createFromInputFallback(e)}it.createFromInputFallback=Wc("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function tv(e,t,n){return e??t??n}function aSt(e){var t=new Date(it.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function gY(e){var t,n,r=[],i,o,a;if(!e._d){for(i=aSt(e),e._w&&e._a[kd]==null&&e._a[nh]==null&&sSt(e),e._dayOfYear!=null&&(a=tv(e._a[Za],i[Za]),(e._dayOfYear>yS(a)||e._dayOfYear===0)&&(nn(e)._overflowDayOfYear=!0),n=O2(a,0,e._dayOfYear),e._a[nh]=n.getUTCMonth(),e._a[kd]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Zo]===24&&e._a[bu]===0&&e._a[rh]===0&&e._a[b1]===0&&(e._nextDay=!0,e._a[Zo]=0),e._d=(e._useUTC?O2:hkt).apply(null,r),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Zo]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==o&&(nn(e).weekdayMismatch=!0)}}function sSt(e){var t,n,r,i,o,a,s,l,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(o=1,a=4,n=tv(t.GG,e._a[Za],M2(yi(),1,4).year),r=tv(t.W,1),i=tv(t.E,1),(i<1||i>7)&&(l=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,u=M2(yi(),o,a),n=tv(t.gg,e._a[Za],u.year),r=tv(t.w,u.week),t.d!=null?(i=t.d,(i<0||i>6)&&(l=!0)):t.e!=null?(i=t.e+o,(t.e<0||t.e>6)&&(l=!0)):i=o),r<1||r>fh(n,o,a)?nn(e)._overflowWeeks=!0:l!=null?nn(e)._overflowWeekday=!0:(s=hje(n,r,i,o,a),e._a[Za]=s.year,e._dayOfYear=s.dayOfYear)}it.ISO_8601=function(){};it.RFC_2822=function(){};function yY(e){if(e._f===it.ISO_8601){vje(e);return}if(e._f===it.RFC_2822){bje(e);return}e._a=[],nn(e).empty=!0;var t=""+e._i,n,r,i,o,a,s=t.length,l=0,u,d;for(i=tje(e._f,e._locale).match(oY)||[],d=i.length,n=0;n<d;n++)o=i[n],r=(t.match(YCt(o,e))||[])[0],r&&(a=t.substr(0,t.indexOf(r)),a.length>0&&nn(e).unusedInput.push(a),t=t.slice(t.indexOf(r)+r.length),l+=r.length),gb[o]?(r?nn(e).empty=!1:nn(e).unusedTokens.push(o),ZCt(o,r,e)):e._strict&&!r&&nn(e).unusedTokens.push(o);nn(e).charsLeftOver=s-l,t.length>0&&nn(e).unusedInput.push(t),e._a[Zo]<=12&&nn(e).bigHour===!0&&e._a[Zo]>0&&(nn(e).bigHour=void 0),nn(e).parsedDateParts=e._a.slice(0),nn(e).meridiem=e._meridiem,e._a[Zo]=lSt(e._locale,e._a[Zo],e._meridiem),u=nn(e).era,u!==null&&(e._a[Za]=e._locale.erasConvertYear(u,e._a[Za])),gY(e),mY(e)}function lSt(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function cSt(e){var t,n,r,i,o,a,s=!1,l=e._f.length;if(l===0){nn(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<l;i++)o=0,a=!1,t=rY({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],yY(t),nY(t)&&(a=!0),o+=nn(t).charsLeftOver,o+=nn(t).unusedTokens.length*10,nn(t).score=o,s?o<r&&(r=o,n=t):(r==null||o<r||a)&&(r=o,n=t,a&&(s=!0));dm(e,n||t)}function uSt(e){if(!e._d){var t=aY(e._i),n=t.day===void 0?t.date:t.day;e._a=JAe([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),gY(e)}}function dSt(e){var t=new vE(mY(xje(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function xje(e){var t=e._i,n=e._f;return e._locale=e._locale||cp(e._l),t===null||n===void 0&&t===""?FM({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Vu(t)?new vE(mY(t)):(yE(t)?e._d=t:Bu(n)?cSt(e):n?yY(e):fSt(e),nY(e)||(e._d=null),e))}function fSt(e){var t=e._i;Us(t)?e._d=new Date(it.now()):yE(t)?e._d=new Date(t.valueOf()):typeof t=="string"?oSt(e):Bu(t)?(e._a=JAe(t.slice(0),function(n){return parseInt(n,10)}),gY(e)):N1(t)?uSt(e):Rh(t)?e._d=new Date(t):it.createFromInputFallback(e)}function wje(e,t,n,r,i){var o={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(N1(e)&&tY(e)||Bu(e)&&e.length===0)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,dSt(o)}function yi(e,t,n,r){return wje(e,t,n,r,!1)}var hSt=Wc("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yi.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:FM()}),pSt=Wc("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yi.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:FM()});function Cje(e,t){var n,r;if(t.length===1&&Bu(t[0])&&(t=t[0]),!t.length)return yi();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function mSt(){var e=[].slice.call(arguments,0);return Cje("isBefore",e)}function gSt(){var e=[].slice.call(arguments,0);return Cje("isAfter",e)}var ySt=function(){return Date.now?Date.now():+new Date},MC=["year","quarter","month","week","day","hour","minute","second","millisecond"];function vSt(e){var t,n=!1,r,i=MC.length;for(t in e)if(nr(e,t)&&!(ao.call(MC,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<i;++r)if(e[MC[r]]){if(n)return!1;parseFloat(e[MC[r]])!==$n(e[MC[r]])&&(n=!0)}return!0}function bSt(){return this._isValid}function xSt(){return Yu(NaN)}function WM(e){var t=aY(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=vSt(t),this._milliseconds=+d+u*1e3+l*6e4+s*1e3*60*60,this._days=+a+o*7,this._months=+i+r*3+n*12,this._data={},this._locale=cp(),this._bubble()}function Kj(e){return e instanceof WM}function rB(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function wSt(e,t,n){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),o=0,a;for(a=0;a<r;a++)(n&&e[a]!==t[a]||!n&&$n(e[a])!==$n(t[a]))&&o++;return o+i}function kje(e,t){jt(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Zd(~~(n/60),2)+t+Zd(~~n%60,2)})}kje("Z",":");kje("ZZ","");dt("Z",zM);dt("ZZ",zM);$r(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=vY(zM,e)});var CSt=/([\+\-]|\d\d)/gi;function vY(e,t){var n=(t||"").match(e),r,i,o;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(CSt)||["-",0,0],o=+(i[1]*60)+$n(i[2]),o===0?0:i[0]==="+"?o:-o)}function bY(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Vu(e)||yE(e)?e.valueOf():yi(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),it.updateOffset(n,!1),n):yi(e).local()}function iB(e){return-Math.round(e._d.getTimezoneOffset())}it.updateOffset=function(){};function kSt(e,t,n){var r=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=vY(zM,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(i=iB(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?_je(this,Yu(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,it.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:iB(this)}function SSt(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function ESt(e){return this.utcOffset(0,e)}function _St(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(iB(this),"m")),this}function TSt(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=vY(GCt,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function ASt(e){return this.isValid()?(e=e?yi(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function jSt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function ISt(){if(!Us(this._isDSTShifted))return this._isDSTShifted;var e={},t;return rY(e,this),e=xje(e),e._a?(t=e._isUTC?lf(e._a):yi(e._a),this._isDSTShifted=this.isValid()&&wSt(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function $St(){return this.isValid()?!this._isUTC:!1}function DSt(){return this.isValid()?this._isUTC:!1}function Sje(){return this.isValid()?this._isUTC&&this._offset===0:!1}var OSt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,MSt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Yu(e,t){var n=e,r=null,i,o,a;return Kj(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:Rh(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=OSt.exec(e))?(i=r[1]==="-"?-1:1,n={y:0,d:$n(r[kd])*i,h:$n(r[Zo])*i,m:$n(r[bu])*i,s:$n(r[rh])*i,ms:$n(rB(r[b1]*1e3))*i}):(r=MSt.exec(e))?(i=r[1]==="-"?-1:1,n={y:Rg(r[2],i),M:Rg(r[3],i),w:Rg(r[4],i),d:Rg(r[5],i),h:Rg(r[6],i),m:Rg(r[7],i),s:Rg(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(a=PSt(yi(n.from),yi(n.to)),n={},n.ms=a.milliseconds,n.M=a.months),o=new WM(n),Kj(e)&&nr(e,"_locale")&&(o._locale=e._locale),Kj(e)&&nr(e,"_isValid")&&(o._isValid=e._isValid),o}Yu.fn=WM.prototype;Yu.invalid=xSt;function Rg(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function jae(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function PSt(e,t){var n;return e.isValid()&&t.isValid()?(t=bY(t,e),e.isBefore(t)?n=jae(e,t):(n=jae(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Eje(e,t){return function(n,r){var i,o;return r!==null&&!isNaN(+r)&&(eje(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),i=Yu(n,r),_je(this,i,e),this}}function _je(e,t,n,r){var i=t._milliseconds,o=rB(t._days),a=rB(t._months);e.isValid()&&(r=r??!0,a&&uje(e,D2(e,"Month")+a*n),o&&sje(e,"Date",D2(e,"Date")+o*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&it.updateOffset(e,o||a))}var RSt=Eje(1,"add"),FSt=Eje(-1,"subtract");function Tje(e){return typeof e=="string"||e instanceof String}function LSt(e){return Vu(e)||yE(e)||Tje(e)||Rh(e)||BSt(e)||NSt(e)||e===null||e===void 0}function NSt(e){var t=N1(e)&&!tY(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,o,a=r.length;for(i=0;i<a;i+=1)o=r[i],n=n||nr(e,o);return t&&n}function BSt(e){var t=Bu(e),n=!1;return t&&(n=e.filter(function(r){return!Rh(r)&&Tje(e)}).length===0),t&&n}function VSt(e){var t=N1(e)&&!tY(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,o;for(i=0;i<r.length;i+=1)o=r[i],n=n||nr(e,o);return t&&n}function zSt(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function USt(e,t){arguments.length===1&&(arguments[0]?LSt(arguments[0])?(e=arguments[0],t=void 0):VSt(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||yi(),r=bY(n,this).startOf("day"),i=it.calendarFormat(this,r)||"sameElse",o=t&&(cf(t[i])?t[i].call(this,n):t[i]);return this.format(o||this.localeData().calendar(i,this,yi(n)))}function HSt(){return new vE(this)}function WSt(e,t){var n=Vu(e)?e:yi(e);return this.isValid()&&n.isValid()?(t=Gc(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function GSt(e,t){var n=Vu(e)?e:yi(e);return this.isValid()&&n.isValid()?(t=Gc(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function KSt(e,t,n,r){var i=Vu(e)?e:yi(e),o=Vu(t)?t:yi(t);return this.isValid()&&i.isValid()&&o.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(o,n):!this.isAfter(o,n))):!1}function YSt(e,t){var n=Vu(e)?e:yi(e),r;return this.isValid()&&n.isValid()?(t=Gc(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function qSt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function ZSt(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function XSt(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(r=bY(e,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,t=Gc(t),t){case"year":o=Yj(this,r)/12;break;case"month":o=Yj(this,r);break;case"quarter":o=Yj(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:uc(o)}function Yj(e,t){if(e.date()<t.date())return-Yj(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),i,o;return t-r<0?(i=e.clone().add(n-1,"months"),o=(t-r)/(r-i)):(i=e.clone().add(n+1,"months"),o=(t-r)/(i-r)),-(n+o)||0}it.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";it.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function JSt(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function QSt(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?Gj(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):cf(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Gj(n,"Z")):Gj(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function e2t(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,i,o;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]',this.format(n+r+i+o)}function t2t(e){e||(e=this.isUtc()?it.defaultFormatUtc:it.defaultFormat);var t=Gj(this,e);return this.localeData().postformat(t)}function n2t(e,t){return this.isValid()&&(Vu(e)&&e.isValid()||yi(e).isValid())?Yu({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function r2t(e){return this.from(yi(),e)}function i2t(e,t){return this.isValid()&&(Vu(e)&&e.isValid()||yi(e).isValid())?Yu({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function o2t(e){return this.to(yi(),e)}function Aje(e){var t;return e===void 0?this._locale._abbr:(t=cp(e),t!=null&&(this._locale=t),this)}var jje=Wc("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function Ije(){return this._locale}var e$=1e3,yb=60*e$,t$=60*yb,$je=(365*400+97)*24*t$;function vb(e,t){return(e%t+t)%t}function Dje(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-$je:new Date(e,t,n).valueOf()}function Oje(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-$je:Date.UTC(e,t,n)}function a2t(e){var t,n;if(e=Gc(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Oje:Dje,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=vb(t+(this._isUTC?0:this.utcOffset()*yb),t$);break;case"minute":t=this._d.valueOf(),t-=vb(t,yb);break;case"second":t=this._d.valueOf(),t-=vb(t,e$);break}return this._d.setTime(t),it.updateOffset(this,!0),this}function s2t(e){var t,n;if(e=Gc(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Oje:Dje,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=t$-vb(t+(this._isUTC?0:this.utcOffset()*yb),t$)-1;break;case"minute":t=this._d.valueOf(),t+=yb-vb(t,yb)-1;break;case"second":t=this._d.valueOf(),t+=e$-vb(t,e$)-1;break}return this._d.setTime(t),it.updateOffset(this,!0),this}function l2t(){return this._d.valueOf()-(this._offset||0)*6e4}function c2t(){return Math.floor(this.valueOf()/1e3)}function u2t(){return new Date(this.valueOf())}function d2t(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function f2t(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function h2t(){return this.isValid()?this.toISOString():null}function p2t(){return nY(this)}function m2t(){return dm({},nn(this))}function g2t(){return nn(this).overflow}function y2t(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}jt("N",0,0,"eraAbbr");jt("NN",0,0,"eraAbbr");jt("NNN",0,0,"eraAbbr");jt("NNNN",0,0,"eraName");jt("NNNNN",0,0,"eraNarrow");jt("y",["y",1],"yo","eraYear");jt("y",["yy",2],0,"eraYear");jt("y",["yyy",3],0,"eraYear");jt("y",["yyyy",4],0,"eraYear");dt("N",xY);dt("NN",xY);dt("NNN",xY);dt("NNNN",A2t);dt("NNNNN",j2t);$r(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?nn(n).era=i:nn(n).invalidEra=e});dt("y",ww);dt("yy",ww);dt("yyy",ww);dt("yyyy",ww);dt("yo",I2t);$r(["y","yy","yyy","yyyy"],Za);$r(["yo"],function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Za]=n._locale.eraYearOrdinalParse(e,i):t[Za]=parseInt(e,10)});function v2t(e,t){var n,r,i,o=this._eras||cp("en")._eras;for(n=0,r=o.length;n<r;++n){switch(typeof o[n].since){case"string":i=it(o[n].since).startOf("day"),o[n].since=i.valueOf();break}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":i=it(o[n].until).startOf("day").valueOf(),o[n].until=i.valueOf();break}}return o}function b2t(e,t,n){var r,i,o=this.eras(),a,s,l;for(e=e.toUpperCase(),r=0,i=o.length;r<i;++r)if(a=o[r].name.toUpperCase(),s=o[r].abbr.toUpperCase(),l=o[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return o[r];break;case"NNNN":if(a===e)return o[r];break;case"NNNNN":if(l===e)return o[r];break}else if([a,s,l].indexOf(e)>=0)return o[r]}function x2t(e,t){var n=e.since<=e.until?1:-1;return t===void 0?it(e.since).year():it(e.since).year()+(t-e.offset)*n}function w2t(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function C2t(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function k2t(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function S2t(){var e,t,n,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-it(i[e].since).year())*n+i[e].offset;return this.year()}function E2t(e){return nr(this,"_erasNameRegex")||wY.call(this),e?this._erasNameRegex:this._erasRegex}function _2t(e){return nr(this,"_erasAbbrRegex")||wY.call(this),e?this._erasAbbrRegex:this._erasRegex}function T2t(e){return nr(this,"_erasNarrowRegex")||wY.call(this),e?this._erasNarrowRegex:this._erasRegex}function xY(e,t){return t.erasAbbrRegex(e)}function A2t(e,t){return t.erasNameRegex(e)}function j2t(e,t){return t.erasNarrowRegex(e)}function I2t(e,t){return t._eraYearOrdinalRegex||ww}function wY(){var e=[],t=[],n=[],r=[],i,o,a,s,l,u=this.eras();for(i=0,o=u.length;i<o;++i)a=dh(u[i].name),s=dh(u[i].abbr),l=dh(u[i].narrow),t.push(a),e.push(s),n.push(l),r.push(a),r.push(s),r.push(l);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}jt(0,["gg",2],0,function(){return this.weekYear()%100});jt(0,["GG",2],0,function(){return this.isoWeekYear()%100});function GM(e,t){jt(0,[e,e.length],0,t)}GM("gggg","weekYear");GM("ggggg","weekYear");GM("GGGG","isoWeekYear");GM("GGGGG","isoWeekYear");dt("G",VM);dt("g",VM);dt("GG",xi,Kl);dt("gg",xi,Kl);dt("GGGG",lY,sY);dt("gggg",lY,sY);dt("GGGGG",BM,LM);dt("ggggg",BM,LM);xE(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=$n(e)});xE(["gg","GG"],function(e,t,n,r){t[r]=it.parseTwoDigitYear(e)});function $2t(e){return Mje.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function D2t(e){return Mje.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function O2t(){return fh(this.year(),1,4)}function M2t(){return fh(this.isoWeekYear(),1,4)}function P2t(){var e=this.localeData()._week;return fh(this.year(),e.dow,e.doy)}function R2t(){var e=this.localeData()._week;return fh(this.weekYear(),e.dow,e.doy)}function Mje(e,t,n,r,i){var o;return e==null?M2(this,r,i).year:(o=fh(e,r,i),t>o&&(t=o),F2t.call(this,e,t,n,r,i))}function F2t(e,t,n,r,i){var o=hje(e,t,n,r,i),a=O2(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}jt("Q",0,"Qo","quarter");dt("Q",nje);$r("Q",function(e,t){t[nh]=($n(e)-1)*3});function L2t(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}jt("D",["DD",2],"Do","date");dt("D",xi,Cw);dt("DD",xi,Kl);dt("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});$r(["D","DD"],kd);$r("Do",function(e,t){t[kd]=$n(e.match(xi)[0])});var Pje=kw("Date",!0);jt("DDD",["DDDD",3],"DDDo","dayOfYear");dt("DDD",NM);dt("DDDD",rje);$r(["DDD","DDDD"],function(e,t,n){n._dayOfYear=$n(e)});function N2t(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}jt("m",["mm",2],0,"minute");dt("m",xi,cY);dt("mm",xi,Kl);$r(["m","mm"],bu);var B2t=kw("Minutes",!1);jt("s",["ss",2],0,"second");dt("s",xi,cY);dt("ss",xi,Kl);$r(["s","ss"],rh);var V2t=kw("Seconds",!1);jt("S",0,0,function(){return~~(this.millisecond()/100)});jt(0,["SS",2],0,function(){return~~(this.millisecond()/10)});jt(0,["SSS",3],0,"millisecond");jt(0,["SSSS",4],0,function(){return this.millisecond()*10});jt(0,["SSSSS",5],0,function(){return this.millisecond()*100});jt(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});jt(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});jt(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});jt(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});dt("S",NM,nje);dt("SS",NM,Kl);dt("SSS",NM,rje);var fm,Rje;for(fm="SSSS";fm.length<=9;fm+="S")dt(fm,ww);function z2t(e,t){t[b1]=$n(("0."+e)*1e3)}for(fm="S";fm.length<=9;fm+="S")$r(fm,z2t);Rje=kw("Milliseconds",!1);jt("z",0,0,"zoneAbbr");jt("zz",0,0,"zoneName");function U2t(){return this._isUTC?"UTC":""}function H2t(){return this._isUTC?"Coordinated Universal Time":""}var He=vE.prototype;He.add=RSt;He.calendar=USt;He.clone=HSt;He.diff=XSt;He.endOf=s2t;He.format=t2t;He.from=n2t;He.fromNow=r2t;He.to=i2t;He.toNow=o2t;He.get=ekt;He.invalidAt=g2t;He.isAfter=WSt;He.isBefore=GSt;He.isBetween=KSt;He.isSame=YSt;He.isSameOrAfter=qSt;He.isSameOrBefore=ZSt;He.isValid=p2t;He.lang=jje;He.locale=Aje;He.localeData=Ije;He.max=pSt;He.min=hSt;He.parsingFlags=m2t;He.set=tkt;He.startOf=a2t;He.subtract=FSt;He.toArray=d2t;He.toObject=f2t;He.toDate=u2t;He.toISOString=QSt;He.inspect=e2t;typeof Symbol<"u"&&Symbol.for!=null&&(He[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});He.toJSON=h2t;He.toString=JSt;He.unix=c2t;He.valueOf=l2t;He.creationData=y2t;He.eraName=w2t;He.eraNarrow=C2t;He.eraAbbr=k2t;He.eraYear=S2t;He.year=aje;He.isLeapYear=QCt;He.weekYear=$2t;He.isoWeekYear=D2t;He.quarter=He.quarters=L2t;He.month=dje;He.daysInMonth=ukt;He.week=He.weeks=vkt;He.isoWeek=He.isoWeeks=bkt;He.weeksInYear=P2t;He.weeksInWeekYear=R2t;He.isoWeeksInYear=O2t;He.isoWeeksInISOWeekYear=M2t;He.date=Pje;He.day=He.days=Dkt;He.weekday=Okt;He.isoWeekday=Mkt;He.dayOfYear=N2t;He.hour=He.hours=Vkt;He.minute=He.minutes=B2t;He.second=He.seconds=V2t;He.millisecond=He.milliseconds=Rje;He.utcOffset=kSt;He.utc=ESt;He.local=_St;He.parseZone=TSt;He.hasAlignedHourOffset=ASt;He.isDST=jSt;He.isLocal=$St;He.isUtcOffset=DSt;He.isUtc=Sje;He.isUTC=Sje;He.zoneAbbr=U2t;He.zoneName=H2t;He.dates=Wc("dates accessor is deprecated. Use date instead.",Pje);He.months=Wc("months accessor is deprecated. Use month instead",dje);He.years=Wc("years accessor is deprecated. Use year instead",aje);He.zone=Wc("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",SSt);He.isDSTShifted=Wc("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",ISt);function W2t(e){return yi(e*1e3)}function G2t(){return yi.apply(null,arguments).parseZone()}function Fje(e){return e}var rr=iY.prototype;rr.calendar=$Ct;rr.longDateFormat=PCt;rr.invalidDate=FCt;rr.ordinal=BCt;rr.preparse=Fje;rr.postformat=Fje;rr.relativeTime=zCt;rr.pastFuture=UCt;rr.set=jCt;rr.eras=v2t;rr.erasParse=b2t;rr.erasConvertYear=x2t;rr.erasAbbrRegex=_2t;rr.erasNameRegex=E2t;rr.erasNarrowRegex=T2t;rr.months=akt;rr.monthsShort=skt;rr.monthsParse=ckt;rr.monthsRegex=fkt;rr.monthsShortRegex=dkt;rr.week=pkt;rr.firstDayOfYear=ykt;rr.firstDayOfWeek=gkt;rr.weekdays=Tkt;rr.weekdaysMin=jkt;rr.weekdaysShort=Akt;rr.weekdaysParse=$kt;rr.weekdaysRegex=Pkt;rr.weekdaysShortRegex=Rkt;rr.weekdaysMinRegex=Fkt;rr.isPM=Nkt;rr.meridiem=zkt;function n$(e,t,n,r){var i=cp(),o=lf().set(r,t);return i[n](o,e)}function Lje(e,t,n){if(Rh(e)&&(t=e,e=void 0),e=e||"",t!=null)return n$(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=n$(e,r,n,"month");return i}function CY(e,t,n,r){typeof e=="boolean"?(Rh(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,Rh(t)&&(n=t,t=void 0),t=t||"");var i=cp(),o=e?i._week.dow:0,a,s=[];if(n!=null)return n$(t,(n+o)%7,r,"day");for(a=0;a<7;a++)s[a]=n$(t,(a+o)%7,r,"day");return s}function K2t(e,t){return Lje(e,t,"months")}function Y2t(e,t){return Lje(e,t,"monthsShort")}function q2t(e,t,n){return CY(e,t,n,"weekdays")}function Z2t(e,t,n){return CY(e,t,n,"weekdaysShort")}function X2t(e,t,n){return CY(e,t,n,"weekdaysMin")}Pm("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=$n(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});it.lang=Wc("moment.lang is deprecated. Use moment.locale instead.",Pm);it.langData=Wc("moment.langData is deprecated. Use moment.localeData instead.",cp);var _f=Math.abs;function J2t(){var e=this._data;return this._milliseconds=_f(this._milliseconds),this._days=_f(this._days),this._months=_f(this._months),e.milliseconds=_f(e.milliseconds),e.seconds=_f(e.seconds),e.minutes=_f(e.minutes),e.hours=_f(e.hours),e.months=_f(e.months),e.years=_f(e.years),this}function Nje(e,t,n,r){var i=Yu(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Q2t(e,t){return Nje(this,e,t,1)}function e5t(e,t){return Nje(this,e,t,-1)}function Iae(e){return e<0?Math.floor(e):Math.ceil(e)}function t5t(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,i,o,a,s,l;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=Iae(oB(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,i=uc(e/1e3),r.seconds=i%60,o=uc(i/60),r.minutes=o%60,a=uc(o/60),r.hours=a%24,t+=uc(a/24),l=uc(Bje(t)),n+=l,t-=Iae(oB(l)),s=uc(n/12),n%=12,r.days=t,r.months=n,r.years=s,this}function Bje(e){return e*4800/146097}function oB(e){return e*146097/4800}function n5t(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=Gc(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+Bje(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(oB(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function up(e){return function(){return this.as(e)}}var Vje=up("ms"),r5t=up("s"),i5t=up("m"),o5t=up("h"),a5t=up("d"),s5t=up("w"),l5t=up("M"),c5t=up("Q"),u5t=up("y"),d5t=Vje;function f5t(){return Yu(this)}function h5t(e){return e=Gc(e),this.isValid()?this[e+"s"]():NaN}function Xy(e){return function(){return this.isValid()?this._data[e]:NaN}}var p5t=Xy("milliseconds"),m5t=Xy("seconds"),g5t=Xy("minutes"),y5t=Xy("hours"),v5t=Xy("days"),b5t=Xy("months"),x5t=Xy("years");function w5t(){return uc(this.days()/7)}var Ff=Math.round,Lv={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function C5t(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function k5t(e,t,n,r){var i=Yu(e).abs(),o=Ff(i.as("s")),a=Ff(i.as("m")),s=Ff(i.as("h")),l=Ff(i.as("d")),u=Ff(i.as("M")),d=Ff(i.as("w")),f=Ff(i.as("y")),h=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(h=h||d<=1&&["w"]||d<n.w&&["ww",d]),h=h||u<=1&&["M"]||u<n.M&&["MM",u]||f<=1&&["y"]||["yy",f],h[2]=t,h[3]=+e>0,h[4]=r,C5t.apply(null,h)}function S5t(e){return e===void 0?Ff:typeof e=="function"?(Ff=e,!0):!1}function E5t(e,t){return Lv[e]===void 0?!1:t===void 0?Lv[e]:(Lv[e]=t,e==="s"&&(Lv.ss=t-1),!0)}function _5t(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Lv,i,o;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},Lv,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),i=this.localeData(),o=k5t(this,!n,r,i),n&&(o=i.pastFuture(+this,o)),i.postformat(o)}var v8=Math.abs;function L0(e){return(e>0)-(e<0)||+e}function KM(){if(!this.isValid())return this.localeData().invalidDate();var e=v8(this._milliseconds)/1e3,t=v8(this._days),n=v8(this._months),r,i,o,a,s=this.asSeconds(),l,u,d,f;return s?(r=uc(e/60),i=uc(r/60),e%=60,r%=60,o=uc(n/12),n%=12,a=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=s<0?"-":"",u=L0(this._months)!==L0(s)?"-":"",d=L0(this._days)!==L0(s)?"-":"",f=L0(this._milliseconds)!==L0(s)?"-":"",l+"P"+(o?u+o+"Y":"")+(n?u+n+"M":"")+(t?d+t+"D":"")+(i||r||e?"T":"")+(i?f+i+"H":"")+(r?f+r+"M":"")+(e?f+a+"S":"")):"P0D"}var Kn=WM.prototype;Kn.isValid=bSt;Kn.abs=J2t;Kn.add=Q2t;Kn.subtract=e5t;Kn.as=n5t;Kn.asMilliseconds=Vje;Kn.asSeconds=r5t;Kn.asMinutes=i5t;Kn.asHours=o5t;Kn.asDays=a5t;Kn.asWeeks=s5t;Kn.asMonths=l5t;Kn.asQuarters=c5t;Kn.asYears=u5t;Kn.valueOf=d5t;Kn._bubble=t5t;Kn.clone=f5t;Kn.get=h5t;Kn.milliseconds=p5t;Kn.seconds=m5t;Kn.minutes=g5t;Kn.hours=y5t;Kn.days=v5t;Kn.weeks=w5t;Kn.months=b5t;Kn.years=x5t;Kn.humanize=_5t;Kn.toISOString=KM;Kn.toString=KM;Kn.toJSON=KM;Kn.locale=Aje;Kn.localeData=Ije;Kn.toIsoString=Wc("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",KM);Kn.lang=jje;jt("X",0,0,"unix");jt("x",0,0,"valueOf");dt("x",VM);dt("X",KCt);$r("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});$r("x",function(e,t,n){n._d=new Date($n(e))});//! moment.js
it.version="2.30.1";TCt(yi);it.fn=He;it.min=mSt;it.max=gSt;it.now=ySt;it.utc=lf;it.unix=W2t;it.months=K2t;it.isDate=yE;it.locale=Pm;it.invalid=FM;it.duration=Yu;it.isMoment=Vu;it.weekdays=q2t;it.parseZone=G2t;it.localeData=cp;it.isDuration=Kj;it.monthsShort=Y2t;it.weekdaysMin=X2t;it.defineLocale=pY;it.updateLocale=Gkt;it.locales=Kkt;it.weekdaysShort=Z2t;it.normalizeUnits=Gc;it.relativeTimeRounding=S5t;it.relativeTimeThreshold=E5t;it.calendarFormat=zSt;it.prototype=He;it.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const xg="YYYY-MM-DD",kY="HH:mm";function Sw(e,t,n=!1){return n?it.utc(e).format(t):it(e).format(t)}function YM(e,t){const n=it(e,t,!0);return n.isValid()?{isValid:!0,date:n.toDate()}:{isValid:!1,error:`Invalid date. Must be on the format "${t}"`}}function T5t(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var zje=T5t;function A5t(e){return e!==e}var j5t=A5t;function I5t(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var $5t=I5t,D5t=zje,O5t=j5t,M5t=$5t;function P5t(e,t,n){return t===t?M5t(e,t,n):D5t(e,O5t,n)}var SY=P5t,R5t=SY;function F5t(e,t){var n=e==null?0:e.length;return!!n&&R5t(e,t,0)>-1}var EY=F5t;function L5t(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var _Y=L5t;function N5t(){}var TY=N5t;const B5t=Ue(TY);var b8=BEe,V5t=TY,z5t=XG,U5t=1/0,H5t=b8&&1/z5t(new b8([,-0]))[1]==U5t?function(e){return new b8(e)}:V5t,W5t=H5t,G5t=yM,K5t=EY,Y5t=_Y,q5t=vM,Z5t=W5t,X5t=XG,J5t=200;function Q5t(e,t,n){var r=-1,i=K5t,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=Y5t;else if(o>=J5t){var u=t?null:Z5t(e);if(u)return X5t(u);a=!1,i=q5t,l=new G5t}else l=t?[]:s;e:for(;++r<o;){var d=e[r],f=t?t(d):d;if(d=n||d!==0?d:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),s.push(d)}else i(l,f,n)||(l!==s&&l.push(f),s.push(d))}return s}var qM=Q5t,eEt=gg,tEt=qM;function nEt(e,t){return e&&e.length?tEt(e,eEt(t)):[]}var rEt=nEt;const Xd=Ue(rEt);function iEt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,R2(e,t)}function aB(e){return aB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},aB(e)}function R2(e,t){return R2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R2(e,t)}function oEt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qj(e,t,n){return oEt()?qj=Reflect.construct.bind():qj=function(i,o,a){var s=[null];s.push.apply(s,o);var l=Function.bind.apply(i,s),u=new l;return a&&R2(u,a.prototype),u},qj.apply(null,arguments)}function aEt(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function sB(e){var t=typeof Map=="function"?new Map:void 0;return sB=function(r){if(r===null||!aEt(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,i)}function i(){return qj(r,arguments,aB(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),R2(i,r)},sB(e)}var jT=Object.freeze({left:0,top:0,bottom:0,right:0}),IT=Object.freeze({x:.5,y:.5,height:1,width:1}),sEt=function(t){var n=t.top,r=t.bottom,i=t.left,o=t.right,a=jT.top,s=jT.bottom,l=jT.left,u=jT.right;return n===a&&r===s&&i===l&&o===u},lEt=function(t){var n=t.x,r=t.y,i=t.width,o=t.height,a=IT.x,s=IT.y,l=IT.width,u=IT.height;return n===a&&r===s&&i===l&&o===u},AY=function(e){iEt(t,e);function t(n,r){var i;return r===void 0&&(r="Failed to resolve asset ID from source"),i=e.call(this,r)||this,i.unresolvable=!0,i.input=n,i}return t}(sB(Error));function cEt(e){var t=e;return!!(t.unresolvable&&"input"in t)}function uEt(e){return function(){try{return e.apply(void 0,arguments)}catch(t){if(cEt(t))return;throw t}}}var Zj="https://cdn.sanity.io",Uje=/^https:\/\/cdn\.sanity\./,dEt=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+\.[a-z0-9]+$/,fEt=/^file-([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-[a-z0-9]+$/,hEt=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})-\d+x\d+\.[a-z0-9]+$/,pEt=/^image-([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-\d+x\d+-[a-z0-9]+$/,Hje=/^(images|files)\/([a-z0-9]+)\/([a-z0-9][-\w]*)\//,Wje=/^(?:image-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-\d+x\d+-[a-z0-9]+|file-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-[a-z0-9]+)$/;function mEt(e){return wE(e)&&typeof e._ref=="string"}function gEt(e){return wE(e)&&typeof e._id=="string"}function yEt(e){return wE(e)&&typeof e.path=="string"}function vEt(e){return wE(e)&&typeof e.url=="string"}function bEt(e){return pEt.test(e)}function xEt(e){return fEt.test(e)}function lB(e){var t=e;return wE(t)&&t.asset&&typeof t.asset=="object"}function wE(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"}function wEt(e){if(Hje.test(e))return e;if(!Uje.test(e))throw new AY('Failed to resolve path from URL "'+e+'"');return new URL(e).pathname.replace(/^\/+/,"")}var CEt="image-027401f31c3ac1e6d78c5d539ccd1beff72b9b11-2000x3000-jpg";function kEt(e){var t=e.split("-"),n=t[1],r=t[2],i=t[3],o=(r||"").split("x").map(Number),a=o[0],s=o[1];if(!n||!r||!i||!(a>0)||!(s>0))throw new Error("Malformed asset ID '"+e+`'. Expected an id like "`+CEt+'".');return{type:"image",assetId:n,width:a,height:s,extension:i}}function SEt(e){var t=Gje(e),n=kEt(t),r=n.width,i=n.height,o=r/i;return{width:r,height:i,aspectRatio:o}}function Gje(e){var t=lB(e)?e.asset:e,n="";typeof t=="string"?n=EEt(t):mEt(t)?n=t._ref:gEt(t)?n=t._id:yEt(t)?n=Nv(Zj+"/"+t.path):vEt(t)&&(n=Nv(t.url));var r=n&&Wje.test(n);if(!r)throw new AY(e);return n}var Kje=uEt(Gje);function EEt(e){if(Wje.test(e))return e;var t=Uje.test(e),n=t?new URL(e).pathname:e;if(n.indexOf("/images")===0||n.indexOf("/files")===0)return Nv(e);if(Hje.test(e))return Nv(Zj+"/"+e);if(TEt(e))return Nv(Zj+"/files/a/b/"+e);if(_Et(e))return Nv(Zj+"/images/a/b/"+e);throw new AY(e)}function Nv(e){var t=wEt(e),n=t.split("/"),r=n[0],i=n[3],o=r.replace(/s$/,"");return o+"-"+i.replace(/\./g,"-")}function _Et(e){return hEt.test(e)}function TEt(e){return dEt.test(e)}function $ae(e){var t=Kje(e);return t?t.startsWith("file-"):!1}function Ew(e){var t=Kje(e);return t?t.startsWith("image-"):!1}var Yje={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Ko,function(){function n(j,$){($==null||$>j.length)&&($=j.length);for(var D=0,O=Array($);D<$;D++)O[D]=j[D];return O}function r(j,$){var D=typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if(D)return(D=D.call(j)).next.bind(D);if(Array.isArray(j)||(D=o(j))||$&&j&&typeof j.length=="number"){D&&(j=D);var O=0;return function(){return O>=j.length?{done:!0}:{done:!1,value:j[O++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i(){return i=Object.assign?Object.assign.bind():function(j){for(var $=1;$<arguments.length;$++){var D=arguments[$];for(var O in D)({}).hasOwnProperty.call(D,O)&&(j[O]=D[O])}return j},i.apply(null,arguments)}function o(j,$){if(j){if(typeof j=="string")return n(j,$);var D={}.toString.call(j).slice(8,-1);return D==="Object"&&j.constructor&&(D=j.constructor.name),D==="Map"||D==="Set"?Array.from(j):D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D)?n(j,$):void 0}}var a="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function s(j){var $=j.split("-"),D=$[1],O=$[2],M=$[3];if(!D||!O||!M)throw new Error("Malformed asset _ref '"+j+`'. Expected an id like "`+a+'".');var P=O.split("x"),F=P[0],L=P[1],U=+F,H=+L,N=isFinite(U)&&isFinite(H);if(!N)throw new Error("Malformed asset _ref '"+j+`'. Expected an id like "`+a+'".');return{id:D,width:U,height:H,format:M}}var l=function($){var D=$;return D?typeof D._ref=="string":!1},u=function($){var D=$;return D?typeof D._id=="string":!1},d=function($){var D=$;return D&&D.asset?typeof D.asset.url=="string":!1},f=function($){if(typeof $=="object"&&$!==null){var D=$;return D._upload&&(!D.asset||!D.asset._ref)}return!1};function h(j){if(!j)return null;var $;if(typeof j=="string"&&m(j))$={asset:{_ref:g(j)}};else if(typeof j=="string")$={asset:{_ref:j}};else if(l(j))$={asset:j};else if(u(j))$={asset:{_ref:j._id||""}};else if(d(j))$={asset:{_ref:g(j.asset.url)}};else if(typeof j.asset=="object")$=i({},j);else return null;var D=j;return D.crop&&($.crop=D.crop),D.hotspot&&($.hotspot=D.hotspot),y($)}function m(j){return/^https?:\/\//.test(""+j)}function g(j){var $=j.split("/").slice(-1);return("image-"+$[0]).replace(/\.([a-z]+)$/,"-$1")}function y(j){if(j.crop&&j.hotspot)return j;var $=i({},j);return $.crop||($.crop={left:0,top:0,bottom:0,right:0}),$.hotspot||($.hotspot={x:.5,y:.5,height:1,width:1}),$}var x=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"],["frame","frame"]];function b(j){var $=i({},j||{}),D=$.source;delete $.source;var O=h(D);if(!O){if(D&&f(D))return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8HwQACfsD/QNViZkAAAAASUVORK5CYII=";throw new Error("Unable to resolve image URL from source ("+JSON.stringify(D)+")")}var M=O.asset._ref||O.asset._id||"",P=s(M),F=Math.round(O.crop.left*P.width),L=Math.round(O.crop.top*P.height),U={left:F,top:L,width:Math.round(P.width-O.crop.right*P.width-F),height:Math.round(P.height-O.crop.bottom*P.height-L)},H=O.hotspot.height*P.height/2,N=O.hotspot.width*P.width/2,Y=O.hotspot.x*P.width,J=O.hotspot.y*P.height,ee={left:Y-N,top:J-H,right:Y+N,bottom:J+H};return $.rect||$.focalPoint||$.ignoreImageParams||$.crop||($=i({},$,w({crop:U,hotspot:ee},$))),v(i({},$,{asset:P}))}function v(j){var $=(j.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),D=j.vanityName?"/"+j.vanityName:"",O=j.asset.id+"-"+j.asset.width+"x"+j.asset.height+"."+j.asset.format+D,M=$+"/images/"+j.projectId+"/"+j.dataset+"/"+O,P=[];if(j.rect){var F=j.rect,L=F.left,U=F.top,H=F.width,N=F.height,Y=L!==0||U!==0||N!==j.asset.height||H!==j.asset.width;Y&&P.push("rect="+L+","+U+","+H+","+N)}j.bg&&P.push("bg="+j.bg),j.focalPoint&&(P.push("fp-x="+j.focalPoint.x),P.push("fp-y="+j.focalPoint.y));var J=[j.flipHorizontal&&"h",j.flipVertical&&"v"].filter(Boolean).join("");return J&&P.push("flip="+J),x.forEach(function(ee){var oe=ee[0],re=ee[1];typeof j[oe]<"u"?P.push(re+"="+encodeURIComponent(j[oe])):typeof j[re]<"u"&&P.push(re+"="+encodeURIComponent(j[re]))}),P.length===0?M:M+"?"+P.join("&")}function w(j,$){var D,O=$.width,M=$.height;if(!(O&&M))return{width:O,height:M,rect:j.crop};var P=j.crop,F=j.hotspot,L=O/M,U=P.width/P.height;if(U>L){var H=Math.round(P.height),N=Math.round(H*L),Y=Math.max(0,Math.round(P.top)),J=Math.round((F.right-F.left)/2+F.left),ee=Math.max(0,Math.round(J-N/2));ee<P.left?ee=P.left:ee+N>P.left+P.width&&(ee=P.left+P.width-N),D={left:ee,top:Y,width:N,height:H}}else{var oe=P.width,re=Math.round(oe/L),se=Math.max(0,Math.round(P.left)),G=Math.round((F.bottom-F.top)/2+F.top),K=Math.max(0,Math.round(G-re/2));K<P.top?K=P.top:K+re>P.top+P.height&&(K=P.top+P.height-re),D={left:se,top:K,width:oe,height:re}}return{width:O,height:M,rect:D}}var C=["clip","crop","fill","fillmax","max","scale","min"],k=["top","bottom","left","right","center","focalpoint","entropy"],S=["format"];function E(j){return j&&"config"in j?typeof j.config=="function":!1}function _(j){return j&&"clientConfig"in j?typeof j.clientConfig=="object":!1}function T(j){for(var $=x,D=r($),O;!(O=D()).done;){var M=O.value,P=M[0],F=M[1];if(j===P||j===F)return P}return j}function A(j){if(E(j)){var $=j.config(),D=$.apiHost,O=$.projectId,M=$.dataset,P=D||"https://api.sanity.io";return new I(null,{baseUrl:P.replace(/^https:\/\/api\./,"https://cdn."),projectId:O,dataset:M})}if(_(j)){var F=j.clientConfig,L=F.apiHost,U=F.projectId,H=F.dataset,N=L||"https://api.sanity.io";return new I(null,{baseUrl:N.replace(/^https:\/\/api\./,"https://cdn."),projectId:U,dataset:H})}return new I(null,j||{})}var I=function(){function j(D,O){this.options=void 0,this.options=D?i({},D.options||{},O||{}):i({},O||{})}var $=j.prototype;return $.withOptions=function(O){var M=O.baseUrl||this.options.baseUrl,P={baseUrl:M};for(var F in O)if(O.hasOwnProperty(F)){var L=T(F);P[L]=O[F]}return new j(this,i({baseUrl:M},P))},$.image=function(O){return this.withOptions({source:O})},$.dataset=function(O){return this.withOptions({dataset:O})},$.projectId=function(O){return this.withOptions({projectId:O})},$.bg=function(O){return this.withOptions({bg:O})},$.dpr=function(O){return this.withOptions(O&&O!==1?{dpr:O}:{})},$.width=function(O){return this.withOptions({width:O})},$.height=function(O){return this.withOptions({height:O})},$.focalPoint=function(O,M){return this.withOptions({focalPoint:{x:O,y:M}})},$.maxWidth=function(O){return this.withOptions({maxWidth:O})},$.minWidth=function(O){return this.withOptions({minWidth:O})},$.maxHeight=function(O){return this.withOptions({maxHeight:O})},$.minHeight=function(O){return this.withOptions({minHeight:O})},$.size=function(O,M){return this.withOptions({width:O,height:M})},$.blur=function(O){return this.withOptions({blur:O})},$.sharpen=function(O){return this.withOptions({sharpen:O})},$.rect=function(O,M,P,F){return this.withOptions({rect:{left:O,top:M,width:P,height:F}})},$.format=function(O){return this.withOptions({format:O})},$.invert=function(O){return this.withOptions({invert:O})},$.orientation=function(O){return this.withOptions({orientation:O})},$.quality=function(O){return this.withOptions({quality:O})},$.forceDownload=function(O){return this.withOptions({download:O})},$.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},$.flipVertical=function(){return this.withOptions({flipVertical:!0})},$.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},$.fit=function(O){if(C.indexOf(O)===-1)throw new Error('Invalid fit mode "'+O+'"');return this.withOptions({fit:O})},$.crop=function(O){if(k.indexOf(O)===-1)throw new Error('Invalid crop mode "'+O+'"');return this.withOptions({crop:O})},$.saturation=function(O){return this.withOptions({saturation:O})},$.auto=function(O){if(S.indexOf(O)===-1)throw new Error('Invalid auto mode "'+O+'"');return this.withOptions({auto:O})},$.pad=function(O){return this.withOptions({pad:O})},$.vanityName=function(O){return this.withOptions({vanityName:O})},$.frame=function(O){if(O!==1)throw new Error('Invalid frame value "'+O+'"');return this.withOptions({frame:O})},$.url=function(){return b(this.options)},$.toString=function(){return this.url()},j}();return A})})(Yje);var AEt=Yje.exports;const CE=Ue(AEt);var jEt=cw;function IEt(e){var t=e==null?0:e.length;return t?jEt(e,1):[]}var qje=IEt;const jr=Ue(qje);var Dae=e_e;function $Et(e,t,n){t=="__proto__"&&Dae?Dae(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var ZM=$Et;function DEt(e,t,n,r){for(var i=-1,o=e==null?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}var OEt=DEt,MEt=qEe;function PEt(e,t,n,r){return MEt(e,function(i,o,a){t(r,i,n(i),a)}),r}var REt=PEt,FEt=OEt,LEt=REt,NEt=gg,BEt=bo;function VEt(e,t){return function(n,r){var i=BEt(n)?FEt:LEt,o=t?t():{};return i(n,e,NEt(r),o)}}var jY=VEt,zEt=ZM,UEt=jY,HEt=Object.prototype,WEt=HEt.hasOwnProperty,GEt=UEt(function(e,t,n){WEt.call(e,n)?e[n].push(t):zEt(e,n,[t])}),KEt=GEt;const IY=Ue(KEt);var YEt=XEe,Oae=bo;function qEt(e,t,n,r){return e==null?[]:(Oae(t)||(t=t==null?[]:[t]),n=r?void 0:n,Oae(n)||(n=n==null?[]:[n]),YEt(e,t,n))}var ZEt=qEt;const _w=Ue(ZEt);var XEt=Uc,JEt=0;function QEt(e){var t=++JEt;return XEt(e)+t}var e_t=QEt;const Zje=Ue(e_t),t_t=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),x8={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},Xje={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:t_t?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},$Y={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var $T=1;$T<20;$T++)$Y["f"+$T]=111+$T;function Jy(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);const r=e.map(o=>n_t(o,t)),i=o=>r.some(a=>r_t(a,o));return n==null?i:i(n)}function n_t(e,t){const n=t&&t.byKey,r={};e=e.replace("++","+add");const i=e.split("+"),{length:o}=i;for(const a in x8)r[x8[a]]=!1;for(let a of i){const s=a.endsWith("?")&&a.length>1;s&&(a=a.slice(0,-1));const l=Jje(a),u=x8[l];if(a.length>1&&!u&&!Xje[a]&&!$Y[l])throw new TypeError(`Unknown modifier: "${a}"`);(o===1||!u)&&(n?r.key=l:r.which=i_t(a)),u&&(r[u]=s?null:!0)}return r}function r_t(e,t){for(const n in e){const r=e[n];let i;if(r!=null&&(n==="key"&&t.key!=null?i=t.key.toLowerCase():n==="which"?i=r===91&&t.which===93?91:t.which:i=t[n],!(i==null&&r===!1)&&i!==r))return!1}return!0}function i_t(e){return e=Jje(e),$Y[e]||e.toUpperCase().charCodeAt(0)}function Jje(e){return e=e.toLowerCase(),e=Xje[e]||e,e}var o_t=yM,a_t=EY,s_t=_Y,l_t=Gu,c_t=mw,u_t=vM,d_t=200;function f_t(e,t,n,r){var i=-1,o=a_t,a=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=l_t(t,c_t(n))),r?(o=s_t,a=!1):t.length>=d_t&&(o=u_t,a=!1,t=new o_t(t));e:for(;++i<s;){var d=e[i],f=n==null?d:n(d);if(d=r||d!==0?d:0,a&&f===f){for(var h=u;h--;)if(t[h]===f)continue e;l.push(d)}else o(t,f,r)||l.push(d)}return l}var Qje=f_t,h_t=mg,p_t=Ul;function m_t(e){return p_t(e)&&h_t(e)}var XM=m_t,g_t=Qje,y_t=cw,v_t=Ky,Mae=XM,b_t=v_t(function(e,t){return Mae(e)?g_t(e,y_t(t,1,Mae,!0)):[]}),x_t=b_t;const hy=Ue(x_t);var w_t=Nc,C_t=w_t.isFinite;function k_t(e){return typeof e=="number"&&C_t(e)}var S_t=k_t;const DY=Ue(S_t),py=5,w8={},eIe=e=>(w8[e]||(w8[e]=Symbol(`__cachedStringFields_${e}`)),w8[e]),E_t=e=>e.type&&e.type.name==="reference",__t=["style","list"],OY=e=>e.name==="block"||e.type&&OY(e.type),T_t=e=>e.jsonType==="array"&&Array.isArray(e.of)&&e.of.some(OY);function JM(e,t,n,r=[],i){if(i<0)return n;const o=t(n,e,r);return e.jsonType==="array"&&Array.isArray(e.of)?A_t(e,t,o,r,i):e.jsonType==="object"&&Array.isArray(e.fields)&&!E_t(e)?j_t(e,t,o,r,i):o}function A_t(e,t,n,r,i){return e.of.reduce((o,a)=>JM(a,t,o,r,i-1),n)}function j_t(e,t,n,r,i){const o=OY(e);return e.fields.reduce((a,s)=>{if(o&&__t.includes(s.name))return a;const l=[s.name].concat(s.type.jsonType==="array"?[[]]:[]);return JM(s.type,t,a,r.concat(l),i-1)},n)}const tIe=[{weight:1,path:["_id"]},{weight:1,path:["_type"]}],Pae={title:10,subtitle:5,description:1.5};function nIe(e,t){var i;const n=(i=e==null?void 0:e.preview)==null?void 0:i.select;if(!n)return[];const r=[];for(const o of Object.keys(n)){if(!(o in Pae))continue;const a=n[o].split(".");t>-1&&a.length-1>t||r.push({weight:Pae[o],path:a})}return r}function I_t(e,t){const n=eIe(t);return e[n]||(e[n]=Xd([...tIe,...nIe(e,t),...D_t(e,t).map(r=>({weight:1,path:r})),...O_t(e,t).map(r=>({weight:1,path:r,mapWith:"pt::text"}))],r=>r.path.join("."))),e[n]}function $_t(e,t){const n=eIe(t);return e[n]||(e[n]=Xd([...tIe,...nIe(e,t)],r=>r.path.join("."))),e[n]}function D_t(e,t){return JM(e,(n,r,i)=>r.jsonType==="string"?[...n,i]:n,[],[],t)}function O_t(e,t){return JM(e,(n,r,i)=>T_t(r)?[...n,i]:n,[],[],t)}function M_t(e,t){return $_t(e,rIe(t))}function P_t(e,t){return I_t(e,rIe(t))}function rIe(e){return!DY(e)||e<1||e>py?py-1:e-1}var cB={exports:{}},C8,Rae;function R_t(){if(Rae)return C8;Rae=1;var e=1e3,t=e*60,n=t*60,r=n*24,i=r*7,o=r*365.25;C8=function(d,f){f=f||{};var h=typeof d;if(h==="string"&&d.length>0)return a(d);if(h==="number"&&isFinite(d))return f.long?l(d):s(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function a(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var h=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return h*o;case"weeks":case"week":case"w":return h*i;case"days":case"day":case"d":return h*r;case"hours":case"hour":case"hrs":case"hr":case"h":return h*n;case"minutes":case"minute":case"mins":case"min":case"m":return h*t;case"seconds":case"second":case"secs":case"sec":case"s":return h*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function s(d){var f=Math.abs(d);return f>=r?Math.round(d/r)+"d":f>=n?Math.round(d/n)+"h":f>=t?Math.round(d/t)+"m":f>=e?Math.round(d/e)+"s":d+"ms"}function l(d){var f=Math.abs(d);return f>=r?u(d,f,r,"day"):f>=n?u(d,f,n,"hour"):f>=t?u(d,f,t,"minute"):f>=e?u(d,f,e,"second"):d+" ms"}function u(d,f,h,m){var g=f>=h*1.5;return Math.round(d/h)+" "+m+(g?"s":"")}return C8}function F_t(e){n.debug=n,n.default=n,n.coerce=l,n.disable=a,n.enable=i,n.enabled=s,n.humanize=R_t(),n.destroy=u,Object.keys(e).forEach(d=>{n[d]=e[d]}),n.names=[],n.skips=[],n.formatters={};function t(d){let f=0;for(let h=0;h<d.length;h++)f=(f<<5)-f+d.charCodeAt(h),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=t;function n(d){let f,h=null,m,g;function y(...x){if(!y.enabled)return;const b=y,v=Number(new Date),w=v-(f||v);b.diff=w,b.prev=f,b.curr=v,f=v,x[0]=n.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");let C=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,(S,E)=>{if(S==="%%")return"%";C++;const _=n.formatters[E];if(typeof _=="function"){const T=x[C];S=_.call(b,T),x.splice(C,1),C--}return S}),n.formatArgs.call(b,x),(b.log||n.log).apply(b,x)}return y.namespace=d,y.useColors=n.useColors(),y.color=n.selectColor(d),y.extend=r,y.destroy=n.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(m!==n.namespaces&&(m=n.namespaces,g=n.enabled(d)),g),set:x=>{h=x}}),typeof n.init=="function"&&n.init(y),y}function r(d,f){const h=n(this.namespace+(typeof f>"u"?":":f)+d);return h.log=this.log,h}function i(d){n.save(d),n.namespaces=d,n.names=[],n.skips=[];const f=(typeof d=="string"?d:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const h of f)h[0]==="-"?n.skips.push(h.slice(1)):n.names.push(h)}function o(d,f){let h=0,m=0,g=-1,y=0;for(;h<d.length;)if(m<f.length&&(f[m]===d[h]||f[m]==="*"))f[m]==="*"?(g=m,y=h,m++):(h++,m++);else if(g!==-1)m=g+1,y++,h=y;else return!1;for(;m<f.length&&f[m]==="*";)m++;return m===f.length}function a(){const d=[...n.names,...n.skips.map(f=>"-"+f)].join(",");return n.enable(""),d}function s(d){for(const f of n.skips)if(o(d,f))return!1;for(const f of n.names)if(o(d,f))return!0;return!1}function l(d){return d instanceof Error?d.stack||d.message:d}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var L_t=F_t;(function(e,t){t.formatArgs=r,t.save=i,t.load=o,t.useColors=n,t.storage=a(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let d=0,f=0;l[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(d++,h==="%c"&&(f=d))}),l.splice(f,0,u)}t.log=console.debug||console.log||(()=>{});function i(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function o(){let l;try{l=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l={}.DEBUG),l}function a(){try{return localStorage}catch{}}e.exports=L_t(t);const{formatters:s}=e.exports;s.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(cB,cB.exports);var N_t=cB.exports;const zi=Ue(N_t);function B_t(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function V_t(e){const t=[];for(const n of e.split("."))n==="*"?t.push("[^.]+"):n==="**"?t.push(".*"):t.push(B_t(n));return new RegExp(`^${t.join(".")}$`)}let iIe=class{constructor(t){Z(this,"pattern");Z(this,"patternRe");this.pattern=t,this.patternRe=V_t(t)}matches(t){return this.patternRe.test(t)}toJSON(){return this.pattern}};const z_t=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|([-+]\d{2}:\d{2}))$/;function U_t(e){return z_t.test(e)?new Date(e):null}function H_t(e){const t=Fg(e.getUTCFullYear(),4),n=Fg(e.getUTCMonth()+1,2),r=Fg(e.getUTCDate(),2),i=Fg(e.getUTCHours(),2),o=Fg(e.getUTCMinutes(),2),a=Fg(e.getUTCSeconds(),2);let s="";const l=e.getMilliseconds();return l!=0&&(s=`.${Fg(l,3)}`),`${t}-${n}-${r}T${i}:${o}:${a}${s}Z`}function Fg(e,t){let n=e.toString();for(;n.length<t;)n=`0${n}`;return n}class qu{constructor(t,n){Z(this,"data");Z(this,"type");this.data=t,this.type=n}isArray(){return this.type==="array"}async get(){return this.data}asStatic(){return this}[Symbol.asyncIterator](){if(Array.isArray(this.data))return function*(t){for(const n of t)yield Vn(n)}(this.data);throw new Error(`Cannot iterate over: ${this.type}`)}}const Ze=new qu(null,"null"),Gr=new qu(!0,"boolean"),_i=new qu(!1,"boolean");class ix{constructor(t){Z(this,"date");this.date=t}static parseToValue(t){const n=U_t(t);return n?new qu(new ix(n),"datetime"):Ze}equals(t){return this.date.getTime()==t.date.getTime()}add(t){const n=new Date(this.date.getTime());return n.setTime(n.getTime()+t*1e3),new ix(n)}difference(t){return(this.date.getTime()-t.date.getTime())/1e3}compareTo(t){return this.date.getTime()-t.date.getTime()}toString(){return H_t(this.date)}toJSON(){return this.toString()}}function Xa(e){return Number.isFinite(e)?new qu(e,"number"):Ze}function $l(e){return new qu(e,"string")}function Xj(e){return new qu(e,"datetime")}function W_t(e){return new qu(e,"path")}function G_t(e){return e&&typeof e.next=="function"}function hh(e){return new qu(e,"array")}function Vn(e){return G_t(e)?new QM(async function*(){for await(const t of e)yield Vn(t)}):e==null?Ze:new qu(e,Fh(e))}function Fh(e){return e===null||typeof e>"u"?"null":Array.isArray(e)?"array":e instanceof iIe?"path":e instanceof ix?"datetime":typeof e}class QM{constructor(t){Z(this,"type","stream");Z(this,"generator");Z(this,"ticker");Z(this,"isDone");Z(this,"data");this.generator=t,this.ticker=null,this.isDone=!1,this.data=[]}isArray(){return!0}async get(){const t=[];for await(const n of this)t.push(await n.get());return t}async asStatic(){return new qu(await this.get(),"array")}async*[Symbol.asyncIterator](){let t=0;for(;;){for(;t<this.data.length;t++)yield this.data[t];if(this.isDone)return;await this._nextTick()}}_nextTick(){if(this.ticker)return this.ticker;let t,n;const r=()=>{this.ticker=new Promise((a,s)=>{t=a,n=s})},i=()=>{t(),r()},o=async()=>{try{for await(const a of this.generator())this.data.push(a),i();this.isDone=!0,i()}catch(a){n(a)}};return r(),o(),this.ticker}}function Tk(e,t){return e.type==="string"&&t.type==="string"||e.type==="boolean"&&t.type==="boolean"||e.type==="null"&&t.type==="null"||e.type==="number"&&t.type==="number"?e.data===t.data:e.type==="datetime"&&t.type==="datetime"?e.data.equals(t.data):!1}function vS(e,t){if(e===null||t===null)return e===t;const n=typeof e,r=typeof t;if(n==="undefined"&&r==="undefined")return!0;if(n==="function"&&r==="function")return e===t;if(n==="object"&&r==="object"){const i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(const a of i)if(!vS(e[a],t[a]))return!1;return!0}return e===t}const K_t=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,Y_t=/([^!@#$%^&(),\\/?";:{}|[\]+<>\s-])+/g,oIe=/(\b\.+|\.+\b)/g;function q_t(e,t){return e.length===0||t.length===0?!1:t.every(n=>n(e))}function aIe(e){return e.replace(oIe,"").match(K_t)||[]}function Z_t(e){return sIe(e).map(t=>n=>n.some(r=>t.test(r)))}function sIe(e){return(e.replace(oIe,"").match(Y_t)||[]).map(t=>new RegExp(`^${t.slice(0,1024).replace(/\*/g,".*")}$`,"i"))}function r$(e,t){if(e.type==="string")return{parts:t(e.data),success:!0};if(e.type==="array"){let n=!0;const r=[];for(const i of e.data)typeof i=="string"?r.push(...t(i)):n=!1;return{parts:r,success:n}}return e.type==="stream"?(async()=>{let n=!0;const r=[];for await(const i of e)i.type==="string"?r.push(...t(i.data)):n=!1;return{parts:r,success:n}})():{parts:[],success:!1}}const Fae={datetime:1,number:2,string:3,boolean:4};function x1(e,t){const n=Fh(e),r=Fh(t);if(n!==r)return null;switch(n){case"number":case"boolean":return e-t;case"string":return e<t?-1:e>t?1:0;case"datetime":return e.compareTo(t);default:return null}}function X_t(e,t){const n=Fh(e),r=Fh(t),i=Fae[n]||100,o=Fae[r]||100;if(i!==o)return i-o;let a=x1(e,t);return a===null&&(a=0),a}const Lae={"==":function(e,t){return Tk(e,t)?Gr:_i},"!=":function(e,t){return Tk(e,t)?_i:Gr},">":function(e,t){if(e.type==="stream"||t.type==="stream")return Ze;const n=x1(e.data,t.data);return n===null?Ze:n>0?Gr:_i},">=":function(e,t){if(e.type==="stream"||t.type==="stream")return Ze;const n=x1(e.data,t.data);return n===null?Ze:n>=0?Gr:_i},"<":function(e,t){if(e.type==="stream"||t.type==="stream")return Ze;const n=x1(e.data,t.data);return n===null?Ze:n<0?Gr:_i},"<=":function(e,t){if(e.type==="stream"||t.type==="stream")return Ze;const n=x1(e.data,t.data);return n===null?Ze:n<=0?Gr:_i},in:function(e,t){if(t.type==="path")return e.type!=="string"?Ze:t.data.matches(e.data)?Gr:_i;if(t.type==="array"){for(const n of t.data)if(Tk(e,Vn(n)))return Gr;return _i}return t.type==="stream"?(async()=>{for await(const n of t)if(Tk(e,n))return Gr;return _i})():Ze},match:function(e,t){const n=r$(e,o=>aIe(o)),r=r$(t,o=>Z_t(o)),i=(o,a)=>a.success&&q_t(o.parts,a.parts)?Gr:_i;return"then"in n||"then"in r?(async()=>i(await n,await r))():i(n,r)},"+":function(e,t){return e.type==="datetime"&&t.type==="number"?Xj(e.data.add(t.data)):e.type==="number"&&t.type==="datetime"?Xj(t.data.add(e.data)):e.type==="number"&&t.type==="number"?Xa(e.data+t.data):e.type==="string"&&t.type==="string"?$l(e.data+t.data):e.type==="object"&&t.type==="object"?Vn({...e.data,...t.data}):e.type==="array"&&t.type==="array"?Vn(e.data.concat(t.data)):e.isArray()&&t.isArray()?new QM(async function*(){for await(const n of e)yield n;for await(const n of t)yield n}):Ze},"-":function(e,t){return e.type==="datetime"&&t.type==="number"?Xj(e.data.add(-t.data)):e.type==="datetime"&&t.type==="datetime"?Xa(e.data.difference(t.data)):e.type==="number"&&t.type==="number"?Xa(e.data-t.data):Ze},"*":DT((e,t)=>e*t),"/":DT((e,t)=>e/t),"%":DT((e,t)=>e%t),"**":DT((e,t)=>Math.pow(e,t))};function DT(e){return function(t,n){if(t.type==="number"&&n.type==="number"){const r=e(t.data,n.data);return Xa(r)}return Ze}}let lIe=class uB{constructor(t,n,r,i,o){Z(this,"params");Z(this,"source");Z(this,"value");Z(this,"parent");Z(this,"context");Z(this,"isHidden",!1);this.params=t,this.source=n,this.value=r,this.context=i,this.parent=o}createNested(t){return this.isHidden?new uB(this.params,this.source,t,this.context,this.parent):new uB(this.params,this.source,t,this.context,this)}createHidden(t){const n=this.createNested(t);return n.isHidden=!0,n}};function cIe(e,t){return qn(e,t)}function _r(e,t){return uIe[e.type].executeSync(e,t)}function qn(e,t){return uIe[e.type].executeAsync(e,t)}function eP(e){return{executeSync(){throw new Error("executeSync not supported")},executeAsync:e}}function gr(e){return{executeSync(t,n){const r=e(t,n);if(r.type==="stream")throw new Error("Stream encountered in evaluateSync");return r},async executeAsync(t,n){return e(t,n)}}}function ui(e,t){return{executeSync(n,r){const i=e(n).map(a=>_r(a,r)),o=t(n,...i);if(o.type==="stream")throw new Error("Stream/iterator not supported in synchronous mode");return o},async executeAsync(n,r){const i=e(n),o=await Promise.all(i.map(a=>qn(a,r).then(s=>s.asStatic())));return t(n,...o)}}}const B1=Symbol();function kE(e,t,n,r){return{executeSync(i,o){const{array:a,args:s=[]}=e(i),l=_r(a,o);if(l.type!=="array")return Ze;const u=s.map(f=>_r(f,o));let d=t(i,...u);for(const f of l.data){const h=n(i,d,f,...u);if(h===B1)return Ze;d=h}return r(d)},async executeAsync(i,o){const{array:a,args:s=[]}=e(i),l=await qn(a,o);if(l.type!=="array"&&l.type!=="stream")return Ze;const u=await Promise.all(s.map(f=>qn(f,o).then(h=>h.asStatic())));let d=t(i,...u);if(l.type==="stream")for await(const f of l){const h=n(i,d,await f.get(),...u);if(h===B1)return Ze;d=h}else for(const f of l.data){const h=n(i,d,f,...u);if(h===B1)return Ze;d=h}return r(d)}}}function bb(e,t,{hidden:n=!1}={}){return{executeSync(r,i){const o=e(r),a=_r(o.array,i);if(a.type!=="array")return Ze;const s=[];for(const l of a.data){let u;if(o.inner){const d=n?i.createHidden(Vn(l)):i.createNested(Vn(l));u=_r(o.inner,d).data}for(const d of t(r,l,u,o.state))s.push(d)}return hh(s)},async executeAsync(r,i){const o=e(r),a=await qn(o.array,i);return a.isArray()?new QM(async function*(){for await(const s of a){let l;if(o.inner){const u=n?i.createHidden(s):i.createNested(s);l=await(await qn(o.inner,u)).get()}for(const u of t(r,await s.get(),l,o.state))yield Vn(u)}}):Ze}}}const uIe={This:gr((e,t)=>t.value),SelectorNested:gr(()=>{throw new Error("Unexpected node type: SelectorNested")}),SelectorFuncCall:gr(()=>{throw new Error("Unexpected node type: SelectorFuncCall")}),Everything:gr((e,t)=>t.source),Parameter:gr(({name:e},t)=>Vn(t.params[e])),Context:gr(({key:e},t)=>{if(e==="before"||e==="after")return t.context[e]||Ze;throw new Error(`unknown context key: ${e}`)}),Parent:gr(({n:e},t)=>{let n=t;for(let r=0;r<e;r++){if(!n.parent)return Ze;n=n.parent}return n.value}),OpCall:{async executeAsync({op:e,left:t,right:n},r){const i=Lae[e];if(!i)throw new Error(`Unknown operator: ${e}`);const o=await qn(t,r),a=await qn(n,r);return i(o,a)},executeSync({op:e,left:t,right:n},r){const i=Lae[e];if(!i)throw new Error(`Unknown operator: ${e}`);const o=_r(t,r),a=_r(n,r),s=i(o,a);if("then"in s||s.type==="stream")throw new Error(`Operator ${e} not possible in evaluteSync`);return s}},Select:{executeSync({alternatives:e,fallback:t},n){for(const r of e){const i=_r(r.condition,n);if(i.type==="boolean"&&i.data===!0)return _r(r.value,n)}return t?_r(t,n):Ze},async executeAsync({alternatives:e,fallback:t},n){for(const r of e){const i=await qn(r.condition,n);if(i.type==="boolean"&&i.data===!0)return qn(r.value,n)}return t?qn(t,n):Ze}},InRange:ui(({base:e,left:t,right:n})=>[e,t,n],({isInclusive:e},t,n,r)=>{const i=x1(t.data,n.data);if(i===null)return Ze;const o=x1(t.data,r.data);return o===null?Ze:e?i>=0&&o<=0?Gr:_i:i>=0&&o<0?Gr:_i}),Filter:bb(({base:e,expr:t})=>({array:e,inner:t}),function*(e,t,n){n===!0&&(yield t)}),Projection:{executeSync({base:e,expr:t},n){const r=_r(e,n);if(r.type!=="object")return Ze;const i=n.createNested(r);return _r(t,i)},async executeAsync({base:e,expr:t},n){const r=await qn(e,n);if(r.type!=="object")return Ze;const i=n.createNested(r);return qn(t,i)}},FuncCall:{executeAsync({func:e,args:t},n){return e.executeAsync(t,n)},executeSync({func:e,args:t},n){return e.executeSync(t,n)}},PipeFuncCall:{async executeAsync({func:e,base:t,args:n},r){const i=await qn(t,r);return i.type!=="stream"&&i.type!=="array"?Ze:e.executeAsync({base:i,args:n},r)},executeSync({func:e,base:t,args:n},r){const i=_r(t,r);return i.type!=="array"?Ze:e.executeSync({base:i,args:n},r)}},AccessAttribute:ui(({base:e})=>[e||{type:"This"}],({name:e},t)=>t.type==="object"&&t.data.hasOwnProperty(e)?Vn(t.data[e]):Ze),AccessElement:ui(({base:e})=>[e],({index:e},t)=>{if(t.type!=="array")return Ze;const n=t.data,r=e<0?e+n.length:e;return Vn(n[r])}),Slice:ui(({base:e})=>[e],({left:e,right:t,isInclusive:n},r)=>{if(r.type!=="array")return Ze;const i=r.data;let o=e,a=t;return o<0&&(o=i.length+o),a<0&&(a=i.length+a),n&&a++,o<0&&(o=0),a<0&&(a=0),hh(i.slice(o,a))}),Deref:{executeSync({base:e},t){const n=_r(e,t);if(n.type!=="object")return Ze;const r=n.data._ref;if(typeof r!="string")return Ze;if(t.context.dereference){const i=t.context.dereference({_ref:r});if(i&&typeof i=="object"&&"then"in i)throw new Error("Dereference returned promise in synchronous mode");return Vn(i)}if(t.source.type!=="array")return Ze;for(const i of t.source.data)if(i&&typeof i=="object"&&"_id"in i&&r===i._id)return Vn(i);return Ze},async executeAsync({base:e},t){const n=await qn(e,t);if(!t.source.isArray()||n.type!=="object")return Ze;const r=n.data._ref;if(typeof r!="string")return Ze;if(t.context.dereference)return Vn(await t.context.dereference({_ref:r}));for await(const i of t.source)if(i.type==="object"&&r===i.data._id)return i;return Ze}},Value:gr(({value:e})=>Vn(e)),Group:{executeSync({base:e},t){return _r(e,t)},executeAsync({base:e},t){return qn(e,t)}},Object:{executeSync({attributes:e},t){const n={};for(const r of e){const i=r.type;switch(r.type){case"ObjectAttributeValue":{const o=_r(r.value,t);n[r.name]=o.data;break}case"ObjectConditionalSplat":{const o=_r(r.condition,t);if(o.type!=="boolean"||o.data===!1)continue;const a=_r(r.value,t);a.type==="object"&&Object.assign(n,a.data);break}case"ObjectSplat":{const o=_r(r.value,t);o.type==="object"&&Object.assign(n,o.data);break}default:throw new Error(`Unknown node type: ${i}`)}}return Vn(n)},async executeAsync({attributes:e},t){const n={};for(const r of e){const i=r.type;switch(r.type){case"ObjectAttributeValue":{const o=await qn(r.value,t);n[r.name]=await o.get();break}case"ObjectConditionalSplat":{const o=await qn(r.condition,t);if(o.type!=="boolean"||o.data===!1)continue;const a=await qn(r.value,t);a.type==="object"&&Object.assign(n,a.data);break}case"ObjectSplat":{const o=await qn(r.value,t);o.type==="object"&&Object.assign(n,o.data);break}default:throw new Error(`Unknown node type: ${i}`)}}return Vn(n)}},Array:{executeSync({elements:e},t){const n=[];for(const r of e){const i=_r(r.value,t);if(r.isSplat){if(i.type==="array")for(const o of i.data)n.push(o)}else n.push(i.data)}return hh(n)},async executeAsync({elements:e},t){return new QM(async function*(){for(const n of e){const r=await qn(n.value,t);if(n.isSplat){if(r.isArray())for await(const i of r)yield i}else yield r}})}},Tuple:gr(()=>{throw new Error("tuples can not be evaluated")}),Or:ui(({left:e,right:t})=>[e,t],(e,t,n)=>t.type==="boolean"&&t.data===!0||n.type==="boolean"&&n.data===!0?Gr:t.type!=="boolean"||n.type!=="boolean"?Ze:_i),And:ui(({left:e,right:t})=>[e,t],(e,t,n)=>t.type==="boolean"&&t.data===!1||n.type==="boolean"&&n.data===!1?_i:t.type!=="boolean"||n.type!=="boolean"?Ze:Gr),Not:ui(({base:e})=>[e],(e,t)=>t.type!=="boolean"?Ze:t.data?_i:Gr),Neg:ui(({base:e})=>[e],(e,t)=>t.type!=="number"?Ze:Xa(-t.data)),Pos:ui(({base:e})=>[e],(e,t)=>t.type!=="number"?Ze:Xa(t.data)),Asc:gr(()=>Ze),Desc:gr(()=>Ze),ArrayCoerce:{executeSync({base:e},t){const n=_r(e,t);return n.isArray()?n:Ze},async executeAsync({base:e},t){const n=await qn(e,t);return n.isArray()?n:Ze}},Map:bb(({base:e,expr:t})=>({array:e,inner:t}),function*(e,t,n){yield n},{hidden:!0}),FlatMap:bb(({base:e,expr:t})=>({array:e,inner:t}),function*(e,t,n){if(Array.isArray(n))for(const r of n)yield r;else yield n},{hidden:!0})};function dIe(e,t={}){return qn(e,J_t(t))}function J_t(e){const t=Vn(e.root),n=Vn(e.dataset),r={...e.params};return new lIe(r,n,t,{timestamp:e.timestamp||new Date,identity:e.identity===void 0?"me":e.identity,sanity:e.sanity,after:e.after?Vn(e.after):null,before:e.before?Vn(e.before):null,dereference:e.dereference},null)}function Ak(e){switch(e.type){case"Group":return Ak(e.base);case"Value":case"Parameter":return!0;case"Pos":case"Neg":return Ak(e.base);case"OpCall":switch(e.op){case"+":case"-":case"*":case"/":case"%":case"**":return Ak(e.left)&&Ak(e.right);default:return!1}default:return!1}}const Q_t=new lIe({},Ze,Ze,{timestamp:new Date(0),identity:"me",before:null,after:null},null);function OT(e){return Ak(e)?eTt(e):null}function eTt(e){return _r(e,Q_t)}function tP(e){return["AccessAttribute","SelectorFuncCall","Group","Tuple","ArrayCoerce","Filter","SelectorNested"].includes(e.type)}function tTt(e){return["AccessAttribute","ArrayCoerce","Filter","Group","Tuple","SelectorNested"].includes(e.type)}const dp={};dp.join=ui(e=>e,(e,t,n)=>{if(t.type!=="array"||n.type!=="string")return Ze;let r="",i=!1;for(const o of t.data){switch(i&&(r+=n.data),Fh(o)){case"number":case"string":case"boolean":case"datetime":r+=`${o}`;break;default:return Ze}i=!0}return $l(r)});dp.join.arity=2;dp.compact=bb(([e])=>({array:e}),function*(e,t){t!==null&&(yield t)});dp.compact.arity=1;dp.unique=bb(e=>({array:e[0],state:new Set}),function*(e,t,n,r){switch(Fh(t)){case"number":case"string":case"boolean":case"datetime":r.has(t)||(r.add(t),yield t);break;default:yield t}});dp.unique.arity=1;dp.intersects=ui(e=>e,(e,t,n)=>{if(t.type!=="array"||n.type!=="array")return Ze;for(const r of t.data)for(const i of n.data)if(Tk(Vn(r),Vn(i)))return Gr;return _i});dp.intersects.arity=2;const MY={};MY.now=gr((e,t)=>Xj(new ix(t.context.timestamp)));MY.now.arity=0;async function ih(e,t){function n(i,o){try{return i[o]}catch{return}}let r=await e.get();for(const i of t)if(r=n(r,i),!r)break;return r}function nTt(e,t){return t.every((n,r)=>e[r]===n)}async function*rTt(e,t){const n=[[]];for(;n.length>0;){const r=n.shift()||[],i=Vn(await ih(e,r)),o=Vn(await ih(t,r));if(o.type!==i.type)yield r;else if(o.type==="string"&&i.type==="string"||o.type==="boolean"&&i.type==="boolean"||o.type==="null"&&i.type==="null"||o.type==="number"&&i.type==="number")o.data!==i.data&&(yield r);else if(o.type==="datetime"&&i.type==="datetime")o.data.equals(i.data)||(yield r);else if(o.type==="object"&&i.type==="object"){if(!vS(o.data,i.data)){const a=Object.keys(o.data),s=Object.keys(i.data);new Set(a.concat(s)).forEach(l=>{n.push([...r,l])})}}else if(o.type==="array"&&i.type==="array"){if(o.data.length!==i.data.length)yield r;else if(!vS(o.data,i.data))for(let a=0;a<i.data.length;a++)n.push([...r,a])}else if(o.type==="stream"&&i.type==="stream"){const a=await o.get(),s=await i.get();if(a.length!==s.length)yield r;else if(!vS(a,s))for(let l=0;l<s.length;l++)n.push([...r,l])}}}async function oc(e,t,n){switch(e.type){case"Group":return await oc(e.base,t,n);case"Tuple":const r=[];for(const i of e.members){const o=await oc(i,t,n);r.push(...o)}return r;case"AccessAttribute":return e.base?(await oc(e.base,t,n)).map(i=>[...i,e.name]):[[e.name]];case"ArrayCoerce":{const i=await oc(e.base,t,n),o=[];for(const a of i){const s=await ih(t,a);if(Array.isArray(s))for(let l=0;l<s.length;l++)o.push([...a,l])}return o}case"Filter":{const i=await oc(e.base,t,n),o={...e,base:{type:"This"}},a=[];for(const s of i){const l=await ih(t,s);if(Array.isArray(l))for(let u=0;u<l.length;u++){const d=l[u],f=n.createNested(Vn([d]));(await(await cIe(o,f)).get()).length>0&&a.push([...s,u])}}return a}case"SelectorFuncCall":return dB(e.arg,n.createHidden(t));case"SelectorNested":{const{base:i,nested:o}=e,a=await oc(i,t,n),s=[];for(const l of a){const u=await ih(t,l);switch(o.type){case"AccessAttribute":case"ArrayCoerce":case"Filter":const d=await oc(o,Vn(u),n);for(let h=0;h<d.length;h++)s.push([...l,...d[h]]);break;case"Group":const f=await oc(o.base,Vn(u),n);for(const h of f)s.push([...l,...h]);break;case"Tuple":for(const h of o.members){const m=await oc(h,Vn(u),n);for(const g of m)s.push([...l,...g])}}}return s}}}async function dB(e,t,n=[]){const r=t.value,i=[];if(r.isArray()){const o=await r.get();for(let a=0;a<o.length;a++){const s=await dB(e,t.createHidden(Vn(o[a])),[...n,a]);i.push(...s)}}else if(r.type==="object"){const o=await cIe(e,t);o.type==="boolean"&&o.data===!0&&i.push(n);for(const a of Object.keys(r.data)){const s=await dB(e,t.createHidden(Vn(r.data[a])),[...n,a]);i.push(...s)}}return i}async function fIe(e,t,n,r){const i=r.createHidden(e),o=await oc(n,i.value,i),a=r.createHidden(t),s=await oc(n,a.value,a);if(o.length!==s.length)return Gr;for(const l of o){for(let f=0;f<l.length;f++)if(typeof l[f]=="number"){const h=l.slice(0,f),m=await ih(e,h),g=await ih(t,h);if(!Array.isArray(m)||!Array.isArray(g)||m.length!==g.length)return Gr}const u=await ih(e,l),d=await ih(t,l);if(!vS(u,d))return Gr}return _i}async function hIe(e,t,n,r){const i=r.createHidden(e),o=await oc(n,i.value,i);for await(const a of rTt(e,t)){let s=!1;for(const l of o)if(nTt(a,l)){s=!0;break}if(!s)return _i}return Gr}const SE={};SE.changedAny=eP(async(e,t)=>{const n=e[0],r=e[1],i=e[2];if(!tP(i))throw new Error("changedAny third argument must be a selector");const o=await qn(n,t),a=await qn(r,t);return fIe(o,a,i,t)});SE.changedAny.arity=3;SE.changedOnly=eP(async(e,t)=>{const n=e[0],r=e[1],i=e[2];if(!tP(i))throw new Error("changedOnly third argument must be a selector");const o=await qn(n,t),a=await qn(r,t);return hIe(o,a,i,t)});SE.changedOnly.arity=3;const wg={};wg.operation=gr((e,t)=>{const n=t.context.before!==null,r=t.context.after!==null;return n&&r?$l("update"):r?$l("create"):n?$l("delete"):Ze});wg.changedAny=eP(async(e,t)=>{const n=t.context.before||Ze,r=t.context.after||Ze,i=e[0];if(!tP(i))throw new Error("changedAny first argument must be a selector");return fIe(n,r,i,t)});wg.changedAny.arity=1;wg.changedAny.mode="delta";wg.changedOnly=eP(async(e,t)=>{const n=t.context.before||Ze,r=t.context.after||Ze,i=e[0];if(!tP(i))throw new Error("changedOnly first argument must be a selector");return hIe(n,r,i,t)});wg.changedOnly.arity=1;wg.changedOnly.mode="delta";const nP={};nP.get=gr(()=>{throw new Error("not implemented")});nP.incomingRefCount=gr(()=>{throw new Error("not implemented")});nP.incomingGlobalDocumentReferenceCount=gr(()=>{throw new Error("not implemented")});const EE={};EE.latLng=gr(()=>{throw new Error("not implemented")});EE.contains=gr(()=>{throw new Error("not implemented")});EE.intersects=gr(()=>{throw new Error("not implemented")});EE.distance=gr(()=>{throw new Error("not implemented")});const Zu={};Zu.lower=ui(e=>e,(e,t)=>t.type!=="string"?Ze:$l(t.data.toLowerCase()));Zu.lower.arity=1;Zu.upper=ui(e=>e,(e,t)=>t.type!=="string"?Ze:$l(t.data.toUpperCase()));Zu.upper.arity=1;Zu.split=ui(e=>e,(e,t,n)=>t.type!=="string"||n.type!=="string"?Ze:t.data.length===0?hh([]):n.data.length===0?hh(Array.from(t.data)):hh(t.data.split(n.data)));Zu.split.arity=2;Zu.startsWith=ui(e=>e,(e,t,n)=>t.type!=="string"||n.type!=="string"?Ze:t.data.startsWith(n.data)?Gr:_i);Zu.startsWith.arity=2;const Dr={};Dr.anywhere=gr(()=>{throw new Error("not implemented")});Dr.anywhere.arity=1;Dr.coalesce={async executeAsync(e,t){for(const n of e){const r=await qn(n,t);if(r.type!=="null")return r}return Ze},executeSync(e,t){for(const n of e){const r=_r(n,t);if(r.type!=="null")return r}return Ze}};Dr.count=kE(e=>({array:e[0]}),()=>0,(e,t)=>t+1,Xa);Dr.count.arity=1;Dr.dateTime=ui(e=>e,(e,t)=>t.type==="datetime"?t:t.type!=="string"?Ze:ix.parseToValue(t.data));Dr.dateTime.arity=1;Dr.defined=ui(e=>e,(e,t)=>t.type==="null"?_i:Gr);Dr.defined.arity=1;Dr.identity=gr((e,t)=>$l(t.context.identity));Dr.identity.arity=0;Dr.length=ui(e=>e,(e,t)=>t.type==="string"?Xa(iTt(t.data)):t.type==="array"?Xa(t.data.length):Ze);Dr.length.arity=1;Dr.path=ui(e=>e,(e,t)=>t.type!=="string"?Ze:W_t(new iIe(t.data)));Dr.path.arity=1;Dr.string=ui(e=>e,(e,t)=>{switch(t.type){case"number":case"string":case"boolean":case"datetime":return $l(`${t.data}`);default:return Ze}});Dr.string.arity=1;Dr.references=ui(e=>[{type:"This"},...e],(e,t,...n)=>{const r=new Set;for(const i of n)if(i.type==="string")r.add(i.data);else if(i.type==="array")for(const o of i.data)typeof o=="string"&&r.add(o);return r.size===0?_i:fB(t,r)?Gr:_i});Dr.references.arity=e=>e>=1;Dr.round=ui(e=>e,(e,t,n)=>{if(t.type!=="number")return Ze;const r=t.data;let i=0;if(n){if(n.type!=="number"||n.data<0||!Number.isInteger(n.data))return Ze;i=n.data}return i===0?r<0?Xa(-Math.round(-r)):Xa(Math.round(r)):Xa(Number(r.toFixed(i)))});Dr.round.arity=e=>e>=1&&e<=2;Dr.now=gr((e,t)=>$l(t.context.timestamp.toISOString()));Dr.now.arity=0;Dr.boost=gr(()=>{throw new Error("unexpected boost call")});Dr.boost.arity=2;Dr.lower=Zu.lower;Dr.upper=Zu.upper;function iTt(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r>=55296&&r<=56319||t++}return t}function fB(e,t){switch(Fh(e)){case"array":for(const n of e)if(fB(n,t))return!0;break;case"object":if(e._ref)return t.has(e._ref);for(const n of Object.values(e))if(fB(n,t))return!0;break}return!1}const fp={};fp.min=kE(e=>({array:e[0]}),()=>{},(e,t,n)=>n===null?t:typeof n!="number"?B1:t===void 0||n<t?n:t,e=>e===void 0?Ze:Xa(e));fp.min.arity=1;fp.max=kE(e=>({array:e[0]}),()=>{},(e,t,n)=>n===null?t:typeof n!="number"?B1:t===void 0||n>t?n:t,e=>e===void 0?Ze:Xa(e));fp.max.arity=1;fp.sum=kE(e=>({array:e[0]}),()=>0,(e,t,n)=>n===null?t:typeof n!="number"?B1:t+n,Xa);fp.sum.arity=1;fp.avg=kE(e=>({array:e[0]}),()=>({count:0,sum:0}),(e,{count:t,sum:n},r)=>r===null?{count:t,sum:n}:typeof r!="number"?B1:{count:t+1,sum:n+r},({count:e,sum:t})=>e===0?Ze:Xa(t/e));fp.avg.arity=1;const PY={};PY.aspect=gr(()=>{throw new Error("not implemented")});PY.aspect.arity=2;function oTt(e){if(e.type==="object")return mIe(e.data);if(e.type==="array"){const t=pIe(e.data);if(t.length>0)return t.join(`

`)}return null}function pIe(e,t=[]){for(const n of e)if(Array.isArray(n))pIe(n,t);else if(typeof n=="object"&&n){const r=mIe(n);r!==null&&t.push(r)}return t}function mIe(e){if(typeof e._type!="string")return null;const t=e.children;if(!Array.isArray(t))return null;let n="";for(const r of t)r&&typeof r=="object"&&typeof r._type=="string"&&r._type==="span"&&typeof r.text=="string"&&(n+=r.text);return n}const RY={};RY.text=ui(e=>e,function(e,t){const n=oTt(t);return n===null?Ze:$l(n)});RY.text.arity=1;const FY={};FY.all=bb(()=>({array:{type:"Everything"}}),function*(e,t){typeof t=="object"&&t&&"_type"in t&&t._type==="system.release"&&(yield t)});FY.all.arity=0;const Qy={};Qy.projectId=gr((e,t)=>t.context.sanity?$l(t.context.sanity.projectId):Ze);Qy.dataset=gr((e,t)=>t.context.sanity?$l(t.context.sanity.dataset):Ze);Qy.versionOf=ui(([e])=>[e,{type:"This"}],(e,t,n)=>{if(t.type!=="string")return Ze;const r=t.data;if(n.type!=="object"||typeof n.data._id!="string")return Ze;if(n.data._id===r)return Gr;const i=n.data._id.split(".");return i.length>=2&&i[0]==="drafts"&&i.slice(1).join(".")===r||i.length>=3&&i[0]==="versions"&&i.slice(2).join(".")===r?Gr:_i});Qy.versionOf.arity=1;Qy.partOfRelease=ui(e=>[e[0],{type:"This"}],(e,t,n)=>{if(t.type!=="string")return Ze;const r=t.data;if(n.type!=="object"||typeof n.data._id!="string")return Ze;const i=n.data._id.split(".");return i.length>=3&&i[0]==="versions"&&i[1]===r?Gr:_i});Qy.partOfRelease.arity=1;const _E={};_E.query=gr(()=>{throw new Error("not implemented")});_E.query.arity=1;_E.embedding=gr(()=>{throw new Error("not implemented")});_E.embedding.arity=1;const Nae=1.2;async function nv(e,t){if(e.type==="OpCall"&&e.op==="match")return sTt(e.left,e.right,t);if(e.type==="FuncCall"&&e.name==="boost"){const n=await nv(e.args[0],t),r=await qn(e.args[1],t);return r.type==="number"&&n>0?n+r.data:0}switch(e.type){case"Or":{const n=await nv(e.left,t),r=await nv(e.right,t);return n+r}case"And":{const n=await nv(e.left,t),r=await nv(e.right,t);return n===0||r===0?0:n+r}default:{const n=await qn(e,t);return n.type==="boolean"&&n.data===!0?1:0}}}function rv(e,t){if(e.type==="OpCall"&&e.op==="match")return aTt(e.left,e.right,t);if(e.type==="FuncCall"&&e.name==="boost"){const n=rv(e.args[0],t),r=_r(e.args[1],t);return r.type==="number"&&n>0?n+r.data:0}switch(e.type){case"Or":{const n=rv(e.left,t),r=rv(e.right,t);return n+r}case"And":{const n=rv(e.left,t),r=rv(e.right,t);return n===0||r===0?0:n+r}default:{const n=_r(e,t);return n.type==="boolean"&&n.data===!0?1:0}}}function aTt(e,t,n){const r=_r(e,n),i=_r(t,n),o=gIe(r,i);if(typeof o=="number")return o;throw new Error("Found synchronous value in match()")}async function sTt(e,t,n){const r=await qn(e,n),i=await qn(t,n);return gIe(r,i)}function gIe(e,t){const n=r$(e,o=>aIe(o)),r=r$(t,o=>sIe(o)),i=(o,a)=>{if(!a.success||o.parts.length===0||a.parts.length===0)return 0;let s=0;for(const l of a.parts){const u=o.parts.reduce((d,f)=>d+(l.test(f)?1:0),0);s+=u*(Nae+1)/(u+Nae)}return s};return"then"in n||"then"in r?(async()=>i(await n,await r))():i(n,r)}function Bae(e){const t=[],n=[];for(let r of e){let i="asc";r.type==="Desc"?(i="desc",r=r.base):r.type==="Asc"&&(r=r.base),t.push(r),n.push(i)}return{mappers:t,directions:n}}function Vae(e,t){return e.sort((n,r)=>{for(let i=0;i<t.length;i++){let o=X_t(n[i+2],r[i+2]);if(t[i]==="desc"&&(o=-o),o!==0)return o}return n[1]-r[1]}),e.map(n=>n[0])}const TE={};TE.order={executeSync({base:e,args:t},n){const{mappers:r,directions:i}=Bae(t),o=[];let a=0;const s=i.length;for(const l of e.data){const u=n.createNested(Vn(l)),d=[l,a];for(let f=0;f<s;f++){const h=_r(r[f],u);d.push(h.data)}o.push(d),a++}return hh(Vae(o,i))},async executeAsync({base:e,args:t},n){const{mappers:r,directions:i}=Bae(t),o=[];let a=0;const s=i.length;for await(const l of e){const u=n.createNested(l),d=[await l.get(),a];for(let f=0;f<s;f++){const h=await qn(r[f],u);d.push(await h.get())}o.push(d),a++}return hh(Vae(o,i))}};TE.order.arity=e=>e>=1;TE.score={async executeAsync({base:e,args:t},n){const r=[],i=[];for await(const o of e){if(o.type!=="object"){r.push(await o.get());continue}const a=n.createNested(o);let s=typeof o.data._score=="number"?o.data._score:0;for(const u of t)s+=await nv(u,a);const l=Object.assign({},o.data,{_score:s});i.push(l)}return i.sort((o,a)=>a._score-o._score),Vn(i)},executeSync({base:e,args:t},n){const r=[];for(const i of e.data){if(Fh(i)!=="object")continue;const o=i,a=n.createNested(Vn(i));let s=typeof o._score=="number"?o._score:0;for(const u of t)s+=rv(u,a);const l=Object.assign({},o,{_score:s});r.push(l)}return r.sort((i,o)=>o._score-i._score),hh(r)}};TE.score.arity=e=>e>=1;const lTt={global:Dr,string:Zu,array:dp,pt:RY,delta:wg,diff:SE,media:PY,sanity:Qy,math:fp,dateTime:MY,releases:FY,text:_E,geo:EE,documents:nP};class LY{constructor(t,n,r,i){Z(this,"_string");Z(this,"marks");Z(this,"index");Z(this,"customFunctions");Z(this,"parseOptions");Z(this,"allowBoost",!1);this._string=t,this.marks=n,this.customFunctions=r,this.index=0,this.parseOptions=i}hasMark(t=0){return this.index+t<this.marks.length}getMark(t=0){return this.marks[this.index+t]}shift(){this.index+=1}process(t){const n=this.marks[this.index];this.shift();const r=t[n.name];if(!r)throw new Error(`Unknown handler: ${n.name}`);return r.call(t,this,n)}processString(){return this.shift(),this.processStringEnd()}processStringEnd(){const t=this.marks[this.index-1],n=this.marks[this.index];return this.shift(),this.string.slice(t.position,n.position)}slice(t){const n=this.marks[this.index].position;return this.string.slice(n,n+t)}get string(){return this._string}}const cTt=/^([\t\n\v\f\r \u0085\u00A0]|(\/\/[^\n]*\n))+/,k8=/^\d+/,Ad=/^[a-zA-Z_][a-zA-Z_0-9]*/;function uTt(e){let t=0;t=ft(e,t);let n={};for(;t<e.length&&e.substring(t,t+2)==="fn";){let i=fTt(e,t);if(i.type==="error")return i;n[`${i.namespace}::${i.name}`]=i,t=ft(e,i.position)}let r=hr(e,t,0);return r.type==="error"?r:(t=ft(e,r.position),t!==e.length?(r.failPosition&&(t=r.failPosition-1),{type:"error",message:"Unexpected end of query",position:t}):(delete r.position,delete r.failPosition,r.customFunctions=n,r))}function hr(e,t,n){let r=t,i=e[t],o;switch(i){case"+":{let u=hr(e,ft(e,t+1),10);if(u.type==="error")return u;o=[{name:"pos",position:r}].concat(u.marks),t=u.position;break}case"-":{let u=hr(e,ft(e,t+1),8);if(u.type==="error")return u;o=[{name:"neg",position:r}].concat(u.marks),t=u.position;break}case"(":{let u=yIe(e,t);if(u.type==="error")return u;t=u.position,o=u.marks;break}case"!":{let u=hr(e,ft(e,t+1),10);if(u.type==="error")return u;o=[{name:"not",position:r}].concat(u.marks),t=u.position;break}case"{":{let u=hB(e,t);if(u.type==="error")return u;o=u.marks,t=u.position;break}case"[":if(o=[{name:"array",position:t}],t=ft(e,t+1),e[t]!=="]")for(;;){e.slice(t,t+3)==="..."&&(o.push({name:"array_splat",position:t}),t=ft(e,t+3));let u=hr(e,t,0);if(u.type==="error")return u;if(o=o.concat(u.marks),t=u.position,t=ft(e,t),e[t]!==","||(t=ft(e,t+1),e[t]==="]"))break}if(e[t]==="]")t++,o.push({name:"array_end",position:t});else return{type:"error",message:'Expected "]" after array expression',position:t};break;case"'":case'"':{let u=dTt(e,t);if(u.type==="error")return u;o=u.marks,t=u.position;break}case"^":{for(t++,o=[];e[t]==="."&&e[t+1]==="^";)o.push({name:"dblparent",position:r}),t+=2;o.push({name:"parent",position:r});break}case"@":o=[{name:"this",position:r}],t++;break;case"*":o=[{name:"everything",position:r}],t++;break;case"$":{let u=md(e,t+1,Ad);u&&(t+=1+u,o=[{name:"param",position:r},{name:"ident",position:r+1},{name:"ident_end",position:t}]);break}default:{let u=md(e,t,k8);if(u){t+=u;let f="integer";if(e[t]==="."){let h=md(e,t+1,k8);h&&(f="float",t+=1+h)}if(e[t]==="e"||e[t]==="E"){f="sci",t++,(e[t]==="+"||e[t]==="-")&&t++;let h=md(e,t,k8);if(!h)return{type:"error",message:"Exponent must be a number",position:t};t+=h}o=[{name:f,position:r},{name:f+"_end",position:t}];break}let d=md(e,t,Ad);if(d){switch(t+=d,e[t]){case":":case"(":{let f=Uae(e,r,t);if(f.type==="error")return f;o=f.marks,t=f.position;break}default:o=[{name:"this_attr",position:r},{name:"ident",position:r},{name:"ident_end",position:t}]}break}}}if(!o)return{type:"error",message:"Expected expression",position:t};let a=12,s;e:for(;;){let u=ft(e,t);if(u===e.length){t=u;break}if(s=zae(e,u),s.type==="success"){for(o.unshift({name:"traverse",position:r});s.type==="success";)o=o.concat(s.marks),t=s.position,s=zae(e,ft(e,t));o.push({name:"traversal_end",position:t});continue}switch(e[u]){case"=":{switch(e[u+1]){case">":{if(n>1||a<=1)break e;let d=hr(e,ft(e,u+2),1);if(d.type==="error")return d;o=o.concat(d.marks),o.unshift({name:"pair",position:r}),t=d.position,a=1;break}case"=":{if(n>4||a<=4)break e;let d=hr(e,ft(e,u+2),5);if(d.type==="error")return d;o.unshift({name:"comp",position:r}),o.push({name:"op",position:u},{name:"op_end",position:u+2}),o=o.concat(d.marks),t=d.position,a=4;break}default:break e}break}case"+":{if(n>6||a<6)break e;let d=hr(e,ft(e,u+1),7);if(d.type==="error")return d;o=o.concat(d.marks),o.unshift({name:"add",position:r}),t=d.position,a=6;break}case"-":{if(n>6||a<6)break e;let d=hr(e,ft(e,u+1),7);if(d.type==="error")return d;o=o.concat(d.marks),o.unshift({name:"sub",position:r}),t=d.position,a=6;break}case"*":{if(e[u+1]==="*"){if(n>8||a<=8)break e;let f=hr(e,ft(e,u+2),8);if(f.type==="error")return f;o=o.concat(f.marks),o.unshift({name:"pow",position:r}),t=f.position,a=8;break}if(n>7||a<7)break e;let d=hr(e,ft(e,u+1),8);if(d.type==="error")return d;o=o.concat(d.marks),o.unshift({name:"mul",position:r}),t=d.position,a=7;break}case"/":{if(n>7||a<7)break e;let d=hr(e,ft(e,u+1),8);if(d.type==="error")return d;o=o.concat(d.marks),o.unshift({name:"div",position:r}),t=d.position,a=7;break}case"%":{if(n>7||a<7)break e;let d=hr(e,ft(e,u+1),8);if(d.type==="error")return d;o=o.concat(d.marks),o.unshift({name:"mod",position:r}),t=d.position,a=7;break}case"<":case">":{if(n>4||a<=4)break e;let d=u+1;e[d]==="="&&d++;let f=hr(e,ft(e,d),5);if(f.type==="error")return f;o.unshift({name:"comp",position:r}),o.push({name:"op",position:u},{name:"op_end",position:d}),o=o.concat(f.marks),t=f.position,a=4;break}case"|":{if(e[u+1]==="|"){if(n>2||a<2)break e;let d=hr(e,ft(e,u+2),3);if(d.type==="error")return d;o=o.concat(d.marks),o.unshift({name:"or",position:r}),t=d.position,a=2}else{if(n>11||a<11)break e;let d=ft(e,u+1),f=md(e,d,Ad);if(!f)return{type:"error",message:"Expected identifier",position:d};if(t=d+f,e[t]==="("||e[t]===":"){let h=Uae(e,d,t);if(h.type==="error")return h;o=o.concat(h.marks),o.unshift({name:"pipecall",position:r}),t=h.position,a=11}}break}case"&":{if(e[u+1]!="&"||n>3||a<3)break e;let d=hr(e,ft(e,u+2),4);if(d.type==="error")return d;o=o.concat(d.marks),o.unshift({name:"and",position:r}),t=d.position,a=3;break}case"!":{if(e[u+1]!=="="||n>4||a<=4)break e;let d=hr(e,ft(e,u+2),5);if(d.type==="error")return d;o.unshift({name:"comp",position:r}),o.push({name:"op",position:u},{name:"op_end",position:u+2}),o=o.concat(d.marks),t=d.position,a=4;break}case"d":{if(e.slice(u,u+4)!=="desc"||n>4||a<4)break e;o.unshift({name:"desc",position:r}),t=u+4,a=4;break}case"a":{if(e.slice(u,u+3)!=="asc"||n>4||a<4)break e;o.unshift({name:"asc",position:r}),t=u+3,a=4;break}default:switch(Jj(e,u,Ad)){case"in":{if(n>4||a<=4)break e;t=ft(e,u+2);let d=!1;e[t]==="("&&(d=!0,t=ft(e,t+1));let f=t,h=hr(e,t,5);if(h.type==="error")return h;if(t=ft(e,h.position),e[t]==="."&&e[t+1]==="."){let m="inc_range";e[t+2]==="."?(m="exc_range",t=ft(e,t+3)):t=ft(e,t+2);let g=hr(e,t,5);if(g.type==="error")return g;o.unshift({name:"in_range",position:r}),o=o.concat({name:m,position:f},h.marks,g.marks),t=g.position}else o.unshift({name:"comp",position:r}),o.push({name:"op",position:u},{name:"op_end",position:u+2}),o=o.concat(h.marks);if(d){if(t=ft(e,t),e[t]!==")")return{type:"error",message:'Expected ")" in group',position:t};t++}a=4;break}case"match":{if(n>4||a<=4)break e;let d=hr(e,ft(e,u+5),5);if(d.type==="error")return d;o.unshift({name:"comp",position:r}),o.push({name:"op",position:u},{name:"op_end",position:u+5}),o=o.concat(d.marks),t=d.position,a=4;break}default:break e}}}let l=(s==null?void 0:s.type)==="error"&&s.position;return{type:"success",marks:o,position:t,failPosition:l}}function yIe(e,t){const n=t;let r,i=hr(e,ft(e,t+1),0);if(i.type==="error")return i;switch(t=ft(e,i.position),e[t]){case",":{for(r=[{name:"tuple",position:n}].concat(i.marks),t=ft(e,t+1);;){if(i=hr(e,t,0),i.type==="error")return i;if(r.push(...i.marks),t=ft(e,i.position),e[t]!==",")break;t=ft(e,t+1)}if(e[t]!==")")return{type:"error",message:'Expected ")" after tuple expression',position:t};t++,r.push({name:"tuple_end",position:t});break}case")":{t++,r=[{name:"group",position:n}].concat(i.marks);break}default:return{type:"error",message:`Unexpected character "${e[t]}"`,position:t}}return{type:"success",marks:r,position:t}}function zae(e,t){let n=t;switch(e[t]){case".":{if(t=ft(e,t+1),e[t]==="(")return yIe(e,t);let a=t,s=md(e,t,Ad);return s?(t+=s,{type:"success",marks:[{name:"attr_access",position:n},{name:"ident",position:a},{name:"ident_end",position:t}],position:t}):{type:"error",message:'Expected identifier after "."',position:t}}case"-":if(e[t+1]!==">")return{type:"error",message:'Expected ">" in reference',position:t};let r=[{name:"deref",position:n}];t+=2;let i=ft(e,t),o=md(e,i,Ad);return o&&(t=i+o,r.push({name:"deref_attr",position:i},{name:"ident",position:i},{name:"ident_end",position:t})),{type:"success",marks:r,position:t};case"[":{if(t=ft(e,t+1),e[t]==="]")return{type:"success",marks:[{name:"array_postfix",position:n}],position:t+1};let a=t,s=hr(e,t,0);if(s.type==="error")return s;if(t=ft(e,s.position),e[t]==="."&&e[t+1]==="."){let l="inc_range";e[t+2]==="."?(l="exc_range",t+=3):t+=2,t=ft(e,t);let u=hr(e,t,0);return u.type==="error"?u:(t=ft(e,u.position),e[t]!=="]"?{type:"error",message:'Expected "]" after array expression',position:t}:{type:"success",marks:[{name:"slice",position:n},{name:l,position:a}].concat(s.marks,u.marks),position:t+1})}return e[t]!=="]"?{type:"error",message:'Expected "]" after array expression',position:t}:{type:"success",marks:[{name:"square_bracket",position:n}].concat(s.marks),position:t+1}}case"|":{if(t=ft(e,t+1),e[t]==="{"){let a=hB(e,t);return a.type==="error"||a.marks.unshift({name:"projection",position:n}),a}break}case"{":{let a=hB(e,t);return a.type==="error"||a.marks.unshift({name:"projection",position:n}),a}}return{type:"error",message:"Unexpected character in traversal",position:t}}function Uae(e,t,n){let r=[];if(r.push({name:"func_call",position:t}),e[n]===":"&&e[n+1]===":"){r.push({name:"namespace",position:t}),r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=ft(e,n+2);let o=md(e,n,Ad);if(!o)return{type:"error",message:"Expected function name",position:n};if(r.push({name:"ident",position:n},{name:"ident_end",position:n+o}),n=ft(e,n+o),e[n]!=="(")return{type:"error",message:'Expected "(" after function name',position:n};n++,n=ft(e,n)}else r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=ft(e,n+1);let i=n;if(e[n]!==")")for(;;){let o=hr(e,n,0);if(o.type==="error")return o;if(r=r.concat(o.marks),i=o.position,n=ft(e,o.position),e[n]!==","||(n=ft(e,n+1),e[n]===")"))break}return e[n]!==")"?{type:"error",message:'Expected ")" after function arguments',position:n}:(r.push({name:"func_args_end",position:i}),{type:"success",marks:r,position:n+1})}function hB(e,t){let n=[{name:"object",position:t}];for(t=ft(e,t+1);e[t]!=="}";){let r=t;if(e.slice(t,t+3)==="...")if(t=ft(e,t+3),e[t]!=="}"&&e[t]!==","){let i=hr(e,t,0);if(i.type==="error")return i;n.push({name:"object_splat",position:r}),n=n.concat(i.marks),t=i.position}else n.push({name:"object_splat_this",position:r});else{let i=hr(e,t,0);if(i.type==="error")return i;let o=ft(e,i.position);if(i.marks[0].name==="str"&&e[o]===":"){let a=hr(e,ft(e,o+1),0);if(a.type==="error")return a;n.push({name:"object_pair",position:r}),n=n.concat(i.marks,a.marks),t=a.position}else n=n.concat({name:"object_expr",position:t},i.marks),t=i.position}if(t=ft(e,t),e[t]!==",")break;t=ft(e,t+1)}return e[t]!=="}"?{type:"error",message:'Expected "}" after object',position:t}:(t++,n.push({name:"object_end",position:t}),{type:"success",marks:n,position:t})}function dTt(e,t){let n=e[t];t=t+1;const r=[{name:"str",position:t}];e:for(;;t++){if(t>e.length)return{type:"error",message:"Unexpected end of query",position:t};switch(e[t]){case n:{r.push({name:"str_end",position:t}),t++;break e}case"\\":r.push({name:"str_pause",position:t}),e[t+1]==="u"?e[t+2]==="{"?(r.push({name:"unicode_hex",position:t+3}),t=e.indexOf("}",t+3),r.push({name:"unicode_hex_end",position:t})):(r.push({name:"unicode_hex",position:t+2}),r.push({name:"unicode_hex_end",position:t+6}),t+=5):(r.push({name:"single_escape",position:t+1}),t+=1),r.push({name:"str_start",position:t+1})}}return{type:"success",marks:r,position:t}}function ft(e,t){return t+md(e,t,cTt)}function md(e,t,n){let r=n.exec(e.slice(t));return r?r[0].length:0}function Jj(e,t,n){let r=n.exec(e.slice(t));return r?r[0]:null}function fTt(e,t){let n=t,r=[],i="",o="";if(e.substring(n,n+2)!=="fn")return{type:"success",position:n,marks:r};r.push({name:"func_decl",position:t}),n=ft(e,n+2);let a=n;if(i=Jj(e,n,Ad),!i)return{type:"error",message:"Expected function name",position:n};if(r.push({name:"ident",position:a},{name:"ident_end",position:n+i.length}),n=ft(e,n+i.length),e.substring(n,n+2)!=="::")return{type:"error",message:'Expected "::" after namespace',position:n};if(n=ft(e,n+2),o=Jj(e,n,Ad),!o)return{type:"error",message:"Expected function name",position:n};if(r.push({name:"ident",position:n},{name:"ident_end",position:n+o.length}),n=ft(e,n+o.length),e[n]!=="(")return{type:"error",message:'Expected "("',position:n};for(n=ft(e,n+1);n<e.length&&e[n]!==")";){if(e[n]!=="$")return{type:"error",message:'Parameter should start with "$"',position:n};const l=n;n++;const u=Jj(e,n,Ad);if(!u)return{type:"error",message:"Expected function name",position:n};if(n+=u.length,r.push({name:"param",position:l},{name:"ident",position:l+1},{name:"ident_end",position:n}),n=ft(e,n),e[n]===",")n=ft(e,n+1);else if(e[n]!==")")return{type:"error",message:'Expected "," or ")"',position:n}}if(e[n]!==")")return{type:"error",message:'Expected ")"',position:n};if(r.push({name:"func_params_end",position:n}),n=ft(e,n+1),e[n]!=="=")return{type:"error",message:'Expected "="',position:n};n=ft(e,n+1);let s=hr(e,n,0);return s.type==="error"?s:(r=r.concat(s.marks),n=ft(e,s.position),e[n]!==";"?{type:"error",message:'Expected ";" after function declaration',position:n}:(n++,{type:"success",position:n,marks:r,namespace:i,name:o}))}function bc(e,t){return n=>t(e(n))}function pB(e){return t=>({type:"Map",base:t,expr:e({type:"This"})})}function hTt(e){return t=>({type:"FlatMap",base:t,expr:e({type:"This"})})}function MT(e,t){if(!t)return{type:"a-a",build:e};switch(t.type){case"a-a":return{type:"a-a",build:bc(e,t.build)};case"a-b":return{type:"a-b",build:bc(e,t.build)};case"b-b":return{type:"a-a",build:bc(e,pB(t.build))};case"b-a":return{type:"a-a",build:bc(e,hTt(t.build))};default:throw new Error(`unknown type: ${t.type}`)}}function S8(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"b-a",build:bc(e,t.build)};case"a-b":case"b-b":return{type:"b-b",build:bc(e,t.build)};default:throw new Error(`unknown type: ${t.type}`)}}function pTt(e,t){if(!t)return{type:"a-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"a-a",build:bc(e,t.build)};case"a-b":case"b-b":return{type:"a-b",build:bc(e,t.build)};default:throw new Error(`unknown type: ${t.type}`)}}function mTt(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":return{type:"a-a",build:bc(pB(e),t.build)};case"a-b":return{type:"a-b",build:bc(pB(e),t.build)};case"b-a":return{type:"b-a",build:bc(e,t.build)};case"b-b":return{type:"b-b",build:bc(e,t.build)};default:throw new Error(`unknown type: ${t.type}`)}}function fr(e,t=0){switch(e.type){case"Projection":return{...e,base:fr(e.base,t),expr:fr(e.expr,t+1)};case"Filter":return{...e,base:fr(e.base,t),expr:fr(e.expr,t+1)};case"Parent":{if(t-e.n<0)throw new Error(`Invalid use of parent operator (^). No parent n ${e.n} at level ${t}.`);return e}case"Parameter":throw new Error(`Function parameters are not allowed outside function declarations: ${e.name}`);case"Array":return{...e,elements:e.elements.map(n=>({...n,value:fr(n.value,t)}))};case"PipeFuncCall":return{...e,base:fr(e.base,t),args:e.args.map(n=>fr(n,t))};case"Object":return{...e,attributes:e.attributes.map(n=>{switch(n.type){case"ObjectAttributeValue":return{...n,value:fr(n.value,t)};case"ObjectConditionalSplat":return{...n,condition:fr(n.condition,t),value:fr(n.value,t)};case"ObjectSplat":return{...n,value:fr(n.value,t)};default:return n}})};case"FlatMap":case"Map":return{...e,expr:fr(e.expr,t),base:fr(e.base,t)};case"FuncCall":return{...e,args:e.args.map(n=>fr(n,t))};case"Tuple":return{...e,members:e.members.map(n=>fr(n,t))};case"Select":{const n=e.alternatives.map(r=>({...r,condition:fr(r.condition,t),value:fr(r.value,t)}));return e.fallback?{...e,alternatives:n,fallback:fr(e.fallback,t)}:{...e,alternatives:n}}case"SelectorNested":return{...e,base:fr(e.base,t),nested:fr(e.nested,t)};case"SelectorFuncCall":return{...e,arg:fr(e.arg,t)};case"AccessAttribute":case"AccessElement":case"ArrayCoerce":case"Asc":case"Desc":case"Deref":case"Group":case"Neg":case"Not":case"Slice":case"Pos":return e.base?{...e,base:fr(e.base,t)}:e;case"InRange":return{...e,base:fr(e.base,t),left:fr(e.left,t),right:fr(e.right,t)};case"OpCall":case"And":case"Or":return{...e,left:fr(e.left,t),right:fr(e.right,t)};case"Everything":case"This":case"Value":case"Context":return e;default:throw new Error(`Handle all cases: ${e.type}`)}}const gTt={"'":"'",'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function yTt(e){const t=parseInt(e,16);return String.fromCharCode(t)}class Co extends Error{constructor(){super(...arguments);Z(this,"name","GroqQueryError")}}function vIe(e=new Set){const t={group(o){return{type:"Group",base:o.process(t)}},everything(){return{type:"Everything"}},this(){return{type:"This"}},parent(){return{type:"Parent",n:1}},dblparent(o){return{type:"Parent",n:o.process(t).n+1}},traverse(o){const a=o.process(t),s=[];for(;o.getMark().name!=="traversal_end";)s.push(o.process(r));o.shift();let l=null;for(let u=s.length-1;u>=0;u--)l=s[u](l);if((a.type==="Everything"||a.type==="Array"||a.type==="PipeFuncCall")&&(l=MT(u=>u,l)),l===null)throw new Error("BUG: unexpected empty traversal");return l.build(a)},this_attr(o){const a=o.processString();return a==="null"?{type:"Value",value:null}:a==="true"?{type:"Value",value:!0}:a==="false"?{type:"Value",value:!1}:{type:"AccessAttribute",name:a}},neg(o){return{type:"Neg",base:o.process(t)}},pos(o){return{type:"Pos",base:o.process(t)}},add(o){const a=o.process(t),s=o.process(t);return{type:"OpCall",op:"+",left:a,right:s}},sub(o){const a=o.process(t),s=o.process(t);return{type:"OpCall",op:"-",left:a,right:s}},mul(o){const a=o.process(t),s=o.process(t);return{type:"OpCall",op:"*",left:a,right:s}},div(o){const a=o.process(t),s=o.process(t);return{type:"OpCall",op:"/",left:a,right:s}},mod(o){const a=o.process(t),s=o.process(t);return{type:"OpCall",op:"%",left:a,right:s}},pow(o){const a=o.process(t),s=o.process(t);return{type:"OpCall",op:"**",left:a,right:s}},comp(o){const a=o.process(t),s=o.processString(),l=o.process(t);return{type:"OpCall",op:s,left:a,right:l}},in_range(o){const a=o.process(t),s=o.getMark().name==="inc_range";o.shift();const l=o.process(t),u=o.process(t);return{type:"InRange",base:a,left:l,right:u,isInclusive:s}},str(o){let a="";e:for(;o.hasMark();){const s=o.getMark();switch(s.name){case"str_end":a+=o.processStringEnd();break e;case"str_pause":a+=o.processStringEnd();break;case"str_start":o.shift();break;case"single_escape":{const l=o.slice(1);o.shift(),a+=gTt[l];break}case"unicode_hex":o.shift(),a+=yTt(o.processStringEnd());break;default:throw new Error(`unexpected mark: ${s.name}`)}}return{type:"Value",value:a}},integer(o){const a=o.processStringEnd();return{type:"Value",value:Number(a)}},float(o){const a=o.processStringEnd();return{type:"Value",value:Number(a)}},sci(o){const a=o.processStringEnd();return{type:"Value",value:Number(a)}},object(o){const a=[];for(;o.getMark().name!=="object_end";)a.push(o.process(n));return o.shift(),{type:"Object",attributes:a}},array(o){const a=[];for(;o.getMark().name!=="array_end";){let s=!1;o.getMark().name==="array_splat"&&(s=!0,o.shift());const l=o.process(t);a.push({type:"ArrayElement",value:l,isSplat:s})}return o.shift(),{type:"Array",elements:a}},tuple(o){const a=[];for(;o.getMark().name!=="tuple_end";)a.push(o.process(t));return o.shift(),{type:"Tuple",members:a}},func_call(o){let a="global";o.getMark().name==="namespace"&&(o.shift(),a=o.processString());const s=o.processString();if(a==="global"&&s==="select"){const h={type:"Select",alternatives:[]};for(;o.getMark().name!=="func_args_end";)if(o.getMark().name==="pair"){if(h.fallback)throw new Co("unexpected argument to select()");o.shift();const m=o.process(t),g=o.process(t);h.alternatives.push({type:"SelectAlternative",condition:m,value:g})}else{if(h.fallback)throw new Co("unexpected argument to select()");const m=o.process(t);h.fallback=m}return o.shift(),h}const l=[];for(;o.getMark().name!=="func_args_end";)bTt(a,s,l.length)?l.push(o.process(i)):l.push(o.process(t));if(o.shift(),a==="global"&&(s==="before"||s==="after")&&o.parseOptions.mode==="delta")return{type:"Context",key:s};if(a==="global"&&s==="boost"&&!o.allowBoost)throw new Co("unexpected boost");const u=o.customFunctions[`${a}::${s}`];if(u!==void 0){const h=wIe(e),m=new LY(o.string,u.marks,o.customFunctions,{}).process(h);return E8(s,m.params.length,l.length),xIe(m.body,g=>fr(g),g=>vTt(g,m.params,l))}const d=lTt[a];if(!d)throw new Co(`Undefined namespace: ${a}`);const f=d[s];if(!f)throw new Co(`Undefined function: ${s}`);if(f.arity!==void 0&&E8(s,f.arity,l.length),f.mode!==void 0&&f.mode!==o.parseOptions.mode)throw new Co(`Undefined function: ${s}`);return{type:"FuncCall",namespace:a,name:s,args:l,func:f}},pipecall(o){const a=o.process(t);o.shift();let s="global";if(o.getMark().name==="namespace"&&(o.shift(),s=o.processString()),s!=="global")throw new Co(`Undefined namespace: ${s}`);const l=o.processString(),u=[],d=o.allowBoost;for(l==="score"&&(o.allowBoost=!0);;){const h=o.getMark().name;if(h==="func_args_end")break;if(l==="order"){if(h==="asc"){o.shift(),u.push({type:"Asc",base:o.process(t)});continue}else if(h==="desc"){o.shift(),u.push({type:"Desc",base:o.process(t)});continue}}u.push(o.process(t))}o.shift(),o.allowBoost=d;const f=TE[l];if(!f)throw new Co(`Undefined pipe function: ${l}`);return f.arity&&E8(l,f.arity,u.length),{type:"PipeFuncCall",func:f,base:a,name:l,args:u}},pair(){throw new Co("unexpected =>")},and(o){const a=o.process(t),s=o.process(t);return{type:"And",left:a,right:s}},or(o){const a=o.process(t),s=o.process(t);return{type:"Or",left:a,right:s}},not(o){return{type:"Not",base:o.process(t)}},asc(){throw new Co("unexpected asc")},desc(){throw new Co("unexpected desc")},param(o){const a=o.processString();return o.parseOptions.params&&o.parseOptions.params.hasOwnProperty(a)?{type:"Value",value:o.parseOptions.params[a]}:{type:"Parameter",name:a}}},n={object_expr(o){if(o.getMark().name==="pair"){o.shift();const s=o.process(t),l=o.process(t);return{type:"ObjectConditionalSplat",condition:s,value:l}}const a=o.process(t);return{type:"ObjectAttributeValue",name:bIe(a),value:a}},object_pair(o){const a=o.process(t);if(a.type!=="Value")throw new Error("name must be string");const s=o.process(t);return{type:"ObjectAttributeValue",name:a.value,value:s}},object_splat(o){return{type:"ObjectSplat",value:o.process(t)}},object_splat_this(){return{type:"ObjectSplat",value:{type:"This"}}}},r={square_bracket(o){const a=o.process(t),s=OT(a);return s&&s.type==="number"?l=>pTt(u=>({type:"AccessElement",base:u,index:s.data}),l):s&&s.type==="string"?l=>S8(u=>({type:"AccessAttribute",base:u,name:s.data}),l):l=>MT(u=>({type:"Filter",base:u,expr:a}),l)},slice(o){const a=o.getMark().name==="inc_range";o.shift();const s=o.process(t),l=o.process(t),u=OT(s),d=OT(l);if(!u||!d||u.type!=="number"||d.type!=="number")throw new Co("slicing must use constant numbers");return f=>MT(h=>({type:"Slice",base:h,left:u.data,right:d.data,isInclusive:a}),f)},projection(o){const a=o.process(t);return s=>mTt(l=>({type:"Projection",base:l,expr:a}),s)},attr_access(o){const a=o.processString();return s=>S8(l=>({type:"AccessAttribute",base:l,name:a}),s)},deref(o){let a=null;o.getMark().name==="deref_attr"&&(o.shift(),a=o.processString());const s=l=>a?{type:"AccessAttribute",base:l,name:a}:l;return l=>S8(u=>s({type:"Deref",base:u}),l)},array_postfix(){return o=>MT(a=>({type:"ArrayCoerce",base:a}),o)}},i={group(o){return o.process(i)},everything(){throw new Error("Invalid selector syntax")},this(){throw new Error("Invalid selector syntax")},parent(){throw new Error("Invalid selector syntax")},dblparent(){throw new Error("Invalid selector syntax")},traverse(o){let a=o.process(i);for(;o.getMark().name!=="traversal_end";)if(o.getMark().name==="array_postfix")o.shift(),a={type:"ArrayCoerce",base:a};else if(o.getMark().name==="square_bracket"){o.shift();const s=o.process(t),l=OT(s);if(l&&l.type==="number")throw new Error("Invalid array access expression");l&&l.type==="string"?a={type:"AccessAttribute",base:a,name:l.data}:a={type:"Filter",base:a,expr:s}}else if(o.getMark().name==="attr_access"){o.shift();const s=o.processString();a={type:"AccessAttribute",base:a,name:s}}else if(o.getMark().name==="tuple"||o.getMark().name==="group"){const s=o.process(i);if(!tTt(s))throw new Error(`Unexpected result parsing nested selector: ${s.type}`);a={type:"SelectorNested",base:a,nested:s}}else throw new Error("Invalid selector syntax");return o.shift(),a},this_attr(o){return{type:"AccessAttribute",name:o.processString()}},attr_access(){throw new Error("Invalid selector syntax")},neg(){throw new Error("Invalid selector syntax")},pos(){throw new Error("Invalid selector syntax")},add(){throw new Error("Invalid selector syntax")},sub(){throw new Error("Invalid selector syntax")},mul(){throw new Error("Invalid selector syntax")},div(){throw new Error("Invalid selector syntax")},mod(){throw new Error("Invalid selector syntax")},pow(){throw new Error("Invalid selector syntax")},comp(){throw new Error("Invalid selector syntax")},in_range(){throw new Error("Invalid selector syntax")},str(){throw new Error("Invalid selector syntax")},integer(){throw new Error("Invalid selector syntax")},float(){throw new Error("Invalid selector syntax")},sci(){throw new Error("Invalid selector syntax")},object(){throw new Error("Invalid selector syntax")},array(){throw new Error("Invalid selector syntax")},tuple(o){const a=[];for(;o.getMark().name!=="tuple_end";)a.push(o.process(i));return o.shift(),{type:"Tuple",members:a}},func_call(o,a){const s=t.func_call(o,a);if(s.name==="anywhere"&&s.args.length===1)return{type:"SelectorFuncCall",name:"anywhere",arg:s.args[0]};throw new Error("Invalid selector syntax")},pipecall(){throw new Error("Invalid selector syntax")},pair(){throw new Error("Invalid selector syntax")},and(){throw new Error("Invalid selector syntax")},or(){throw new Error("Invalid selector syntax")},not(){throw new Error("Invalid selector syntax")},asc(){throw new Error("Invalid selector syntax")},desc(){throw new Error("Invalid selector syntax")},param(){throw new Error("Invalid selector syntax")}};return t}function bIe(e){if(e.type==="AccessAttribute"&&!e.base)return e.name;if(e.type==="PipeFuncCall"||e.type==="Deref"||e.type==="Map"||e.type==="Projection"||e.type==="Slice"||e.type==="Filter"||e.type==="AccessElement"||e.type==="ArrayCoerce"||e.type==="Group")return bIe(e.base);throw new Co(`Cannot determine property key for type: ${e.type}`)}function E8(e,t,n){if(typeof t=="number"){if(n!==t)throw new Co(`Incorrect number of arguments to function ${e}(). Expected ${t}, got ${n}.`)}else if(t&&!t(n))throw new Co(`Incorrect number of arguments to function ${e}().`)}function vTt(e,t,n){if(e.type!=="Parameter")throw new Co(`Expected parameter node, got ${e.type}`);const r=t.findIndex(i=>i.name===e.name);if(r===-1)throw new Co(`Missing argument for parameter ${e.name} in function call`);return n[r]}function xIe(e,t,n=r=>r){if(e.type==="Projection"){if(e.base.type==="Parameter")return{type:"Projection",base:n(e.base),expr:t(e.expr)};if(e.base.type==="Deref"&&e.base.base.type==="Parameter")return{type:"Projection",base:{type:"Deref",base:n(e.base.base)},expr:t(e.expr)}}if(e.type==="Map"&&e.base.type==="ArrayCoerce"&&e.base.base.type==="Parameter")return{type:"Map",base:{type:"ArrayCoerce",base:n(e.base.base)},expr:t(e.expr)};throw new Co(`Unexpected function body, must be a projection. Got "${e.type}"`)}function bTt(e,t,n){const r=["changedAny","changedOnly"];return e=="diff"&&n==2&&r.includes(t)}class xTt extends Error{constructor(n,r){super(`Syntax error in GROQ query at position ${n}${r?`: ${r}`:""}`);Z(this,"position");Z(this,"name","GroqSyntaxError");this.position=n}}function NY(e,t={}){const n=uTt(e);if(n.type==="error")throw new xTt(n.position,n.message);wTt(e,n.customFunctions);const r=new LY(e,n.marks,n.customFunctions,t),i=vIe();return r.process(i)}function wIe(e=new Set){return{func_decl(t){const n=t.processString(),r=t.processString(),i=`${n}::${r}`;if(e.has(i))throw new Co(`Recursive function definition detected for ${i}`);const o=vIe(new Set([...e,i])),a=[];for(;t.getMark().name!=="func_params_end";){const l=t.process(o);if(l.type!=="Parameter")throw new Error("expected parameter");a.push(l)}if(a.length!==1)throw new Co("Custom functions can only have one parameter");t.shift();const s=t.process(o);return{type:"FuncDeclaration",namespace:n,name:r,params:a,body:s}}}}function wTt(e,t){for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],i=new LY(e,r.marks,t,{}),o=wIe(),a=i.process(o);xIe(a.body,s=>fr(s))}}const CTt=zi("typeEvaluator:scope:trace");CTt.log=console.log.bind(console);const kTt=zi("typeEvaluator:evaluate:trace");kTt.log=console.log.bind(console);const STt=zi("typeEvaluator:evaluate:debug");STt.log=console.log.bind(console);zi("typeEvaluator:evaluate:warn");var ETt=qM;function _Tt(e){return e&&e.length?ETt(e):[]}var TTt=_Tt;const Io=Ue(TTt);var ATt=function(t,n){if(!Array.isArray(t))throw new TypeError("humanize-list expected an array");n=n||{},n.conjunction=n.conjunction||"and";var r=t.length;if(r===1)return t[0];if(n.skipConjunction)return t.join(", ");for(var i="",o=0;o<r;o++)o===r-1?(n.oxfordComma&&(i+=","),i+=" "+n.conjunction+" "):o!==0&&(i+=", "),i+=t[o];return i};const xu=Ue(ATt);var jTt=jY,ITt=jTt(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),$Tt=ITt;const rP=Ue($Tt);var DTt=FEe,OTt=DTt(Object.getPrototypeOf,Object),BY=OTt,MTt=tp,PTt=BY,RTt=Ul,FTt="[object Object]",LTt=Function.prototype,NTt=Object.prototype,CIe=LTt.toString,BTt=NTt.hasOwnProperty,VTt=CIe.call(Object);function zTt(e){if(!RTt(e)||MTt(e)!=FTt)return!1;var t=PTt(e);if(t===null)return!0;var n=BTt.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&CIe.call(n)==VTt}var VY=zTt;const kr=Ue(VY);function UTt(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var HTt=UTt,WTt=ZM,GTt=iE,KTt=Object.prototype,YTt=KTt.hasOwnProperty;function qTt(e,t,n){var r=e[t];(!(YTt.call(e,t)&&GTt(r,n))||n===void 0&&!(t in e))&&WTt(e,t,n)}var zY=qTt,ZTt=zY,XTt=ZM;function JTt(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=r?r(n[s],e[s],s,n,e):void 0;l===void 0&&(l=e[s]),i?XTt(n,s,l):ZTt(n,s,l)}return n}var e0=JTt,QTt=e0,eAt=of;function tAt(e,t){return e&&QTt(t,eAt(t),e)}var nAt=tAt;function rAt(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var iAt=rAt,oAt=Lc,aAt=wM,sAt=iAt,lAt=Object.prototype,cAt=lAt.hasOwnProperty;function uAt(e){if(!oAt(e))return sAt(e);var t=aAt(e),n=[];for(var r in e)r=="constructor"&&(t||!cAt.call(e,r))||n.push(r);return n}var dAt=uAt,fAt=REe,hAt=dAt,pAt=mg;function mAt(e){return pAt(e)?fAt(e,!0):hAt(e)}var iP=mAt,gAt=e0,yAt=iP;function vAt(e,t){return e&&gAt(t,yAt(t),e)}var bAt=vAt,i$={exports:{}};i$.exports;(function(e,t){var n=Nc,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;function l(u,d){if(d)return u.slice();var f=u.length,h=s?s(f):new u.constructor(f);return u.copy(h),h}e.exports=l})(i$,i$.exports);var xAt=i$.exports;function wAt(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var UY=wAt,CAt=e0,kAt=JG;function SAt(e,t){return CAt(e,kAt(e),t)}var EAt=SAt,_At=WG,TAt=BY,AAt=JG,jAt=PEe,IAt=Object.getOwnPropertySymbols,$At=IAt?function(e){for(var t=[];e;)_At(t,AAt(e)),e=TAt(e);return t}:jAt,kIe=$At,DAt=e0,OAt=kIe;function MAt(e,t){return DAt(e,OAt(e),t)}var PAt=MAt,RAt=OEe,FAt=kIe,LAt=iP;function NAt(e){return RAt(e,LAt,FAt)}var HY=NAt,BAt=Object.prototype,VAt=BAt.hasOwnProperty;function zAt(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&VAt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var UAt=zAt,Hae=$Ee;function HAt(e){var t=new e.constructor(e.byteLength);return new Hae(t).set(new Hae(e)),t}var WY=HAt,WAt=WY;function GAt(e,t){var n=t?WAt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var KAt=GAt,YAt=/\w*$/;function qAt(e){var t=new e.constructor(e.source,YAt.exec(e));return t.lastIndex=e.lastIndex,t}var ZAt=qAt,Wae=Wx,Gae=Wae?Wae.prototype:void 0,Kae=Gae?Gae.valueOf:void 0;function XAt(e){return Kae?Object(Kae.call(e)):{}}var JAt=XAt,QAt=WY;function ejt(e,t){var n=t?QAt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var tjt=ejt,njt=WY,rjt=KAt,ijt=ZAt,ojt=JAt,ajt=tjt,sjt="[object Boolean]",ljt="[object Date]",cjt="[object Map]",ujt="[object Number]",djt="[object RegExp]",fjt="[object Set]",hjt="[object String]",pjt="[object Symbol]",mjt="[object ArrayBuffer]",gjt="[object DataView]",yjt="[object Float32Array]",vjt="[object Float64Array]",bjt="[object Int8Array]",xjt="[object Int16Array]",wjt="[object Int32Array]",Cjt="[object Uint8Array]",kjt="[object Uint8ClampedArray]",Sjt="[object Uint16Array]",Ejt="[object Uint32Array]";function _jt(e,t,n){var r=e.constructor;switch(t){case mjt:return njt(e);case sjt:case ljt:return new r(+e);case gjt:return rjt(e,n);case yjt:case vjt:case bjt:case xjt:case wjt:case Cjt:case kjt:case Sjt:case Ejt:return ajt(e,n);case cjt:return new r;case ujt:case hjt:return new r(e);case djt:return ijt(e);case fjt:return new r;case pjt:return ojt(e)}}var Tjt=_jt,Ajt=Lc,Yae=Object.create,jjt=function(){function e(){}return function(t){if(!Ajt(t))return{};if(Yae)return Yae(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),GY=jjt,Ijt=GY,$jt=BY,Djt=wM;function Ojt(e){return typeof e.constructor=="function"&&!Djt(e)?Ijt($jt(e)):{}}var Mjt=Ojt,Pjt=yw,Rjt=Ul,Fjt="[object Map]";function Ljt(e){return Rjt(e)&&Pjt(e)==Fjt}var Njt=Ljt,Bjt=Njt,Vjt=mw,qae=eK,Zae=qae&&qae.isMap,zjt=Zae?Vjt(Zae):Bjt,Ujt=zjt,Hjt=yw,Wjt=Ul,Gjt="[object Set]";function Kjt(e){return Wjt(e)&&Hjt(e)==Gjt}var Yjt=Kjt,qjt=Yjt,Zjt=mw,Xae=eK,Jae=Xae&&Xae.isSet,Xjt=Jae?Zjt(Jae):qjt,Jjt=Xjt,Qjt=ZG,eIt=HTt,tIt=zY,nIt=nAt,rIt=bAt,iIt=xAt,oIt=UY,aIt=EAt,sIt=PAt,lIt=NEe,cIt=HY,uIt=yw,dIt=UAt,fIt=Tjt,hIt=Mjt,pIt=bo,mIt=bM,gIt=Ujt,yIt=Lc,vIt=Jjt,bIt=of,xIt=iP,wIt=1,CIt=2,kIt=4,SIe="[object Arguments]",SIt="[object Array]",EIt="[object Boolean]",_It="[object Date]",TIt="[object Error]",EIe="[object Function]",AIt="[object GeneratorFunction]",jIt="[object Map]",IIt="[object Number]",_Ie="[object Object]",$It="[object RegExp]",DIt="[object Set]",OIt="[object String]",MIt="[object Symbol]",PIt="[object WeakMap]",RIt="[object ArrayBuffer]",FIt="[object DataView]",LIt="[object Float32Array]",NIt="[object Float64Array]",BIt="[object Int8Array]",VIt="[object Int16Array]",zIt="[object Int32Array]",UIt="[object Uint8Array]",HIt="[object Uint8ClampedArray]",WIt="[object Uint16Array]",GIt="[object Uint32Array]",Wr={};Wr[SIe]=Wr[SIt]=Wr[RIt]=Wr[FIt]=Wr[EIt]=Wr[_It]=Wr[LIt]=Wr[NIt]=Wr[BIt]=Wr[VIt]=Wr[zIt]=Wr[jIt]=Wr[IIt]=Wr[_Ie]=Wr[$It]=Wr[DIt]=Wr[OIt]=Wr[MIt]=Wr[UIt]=Wr[HIt]=Wr[WIt]=Wr[GIt]=!0;Wr[TIt]=Wr[EIe]=Wr[PIt]=!1;function Qj(e,t,n,r,i,o){var a,s=t&wIt,l=t&CIt,u=t&kIt;if(n&&(a=i?n(e,r,i,o):n(e)),a!==void 0)return a;if(!yIt(e))return e;var d=pIt(e);if(d){if(a=dIt(e),!s)return oIt(e,a)}else{var f=uIt(e),h=f==EIe||f==AIt;if(mIt(e))return iIt(e,s);if(f==_Ie||f==SIe||h&&!i){if(a=l||h?{}:hIt(e),!s)return l?sIt(e,rIt(a,e)):aIt(e,nIt(a,e))}else{if(!Wr[f])return i?e:{};a=fIt(e,f,s)}}o||(o=new Qjt);var m=o.get(e);if(m)return m;o.set(e,a),vIt(e)?e.forEach(function(x){a.add(Qj(x,t,n,x,e,o))}):gIt(e)&&e.forEach(function(x,b){a.set(b,Qj(x,t,n,b,e,o))});var g=u?l?cIt:lIt:l?xIt:bIt,y=d?void 0:g(e);return eIt(y||e,function(x,b){y&&(b=x,x=e[b]),tIt(a,b,Qj(x,t,n,b,e,o))}),a}var KY=Qj;function KIt(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var TIe=KIt;const YY=Ue(TIe);function YIt(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}var AIe=YIt,qIt=oE,ZIt=AIe;function XIt(e,t){return t.length<2?e:qIt(e,ZIt(t,0,-1))}var JIt=XIt,QIt=hw,e3t=TIe,t3t=JIt,n3t=Wy,r3t=Object.prototype,i3t=r3t.hasOwnProperty;function o3t(e,t){t=QIt(t,e);var n=-1,r=t.length;if(!r)return!0;for(var i=e==null||typeof e!="object"&&typeof e!="function";++n<r;){var o=t[n];if(typeof o=="string"){if(o==="__proto__"&&!i3t.call(e,"__proto__"))return!1;if(o==="constructor"&&n+1<r&&typeof t[n+1]=="string"&&t[n+1]==="prototype"){if(i&&n===0)continue;return!1}}}var a=t3t(e,t);return a==null||delete a[n3t(e3t(t))]}var a3t=o3t,s3t=VY;function l3t(e){return s3t(e)?void 0:e}var c3t=l3t,u3t=qje,d3t=QEe,f3t=t_e;function h3t(e){return f3t(d3t(e,void 0,u3t),e+"")}var qY=h3t,p3t=Gu,m3t=KY,g3t=a3t,y3t=hw,v3t=e0,b3t=c3t,x3t=qY,w3t=HY,C3t=1,k3t=2,S3t=4,E3t=x3t(function(e,t){var n={};if(e==null)return n;var r=!1;t=p3t(t,function(o){return o=y3t(o,e),r||(r=o.length>1),o}),v3t(e,w3t(e),n),r&&(n=m3t(n,C3t|k3t|S3t,b3t));for(var i=t.length;i--;)g3t(n,t[i]);return n}),_3t=E3t;const Po=Ue(_3t);var ZY={exports:{}};const _8=[],Qae=[],jIe=(e,t)=>{if(e===t)return 0;const n=e;e.length>t.length&&(e=t,t=n);let r=e.length,i=t.length;for(;r>0&&e.charCodeAt(~-r)===t.charCodeAt(~-i);)r--,i--;let o=0;for(;o<r&&e.charCodeAt(o)===t.charCodeAt(o);)o++;if(r-=o,i-=o,r===0)return i;let a,s,l,u,d=0,f=0;for(;d<r;)Qae[d]=e.charCodeAt(o+d),_8[d]=++d;for(;f<i;)for(a=t.charCodeAt(o+f),l=f++,s=f,d=0;d<r;d++)u=a===Qae[d]?l:l+1,l=_8[d],s=_8[d]=l>s?u>s?s+1:u:u>l?l+1:u;return s};ZY.exports=jIe;ZY.exports.default=jIe;var T3t=ZY.exports;const A3t=Ue(T3t),j3t={},I3t=Object.freeze(Object.defineProperty({__proto__:null,default:j3t},Symbol.toStringTag,{value:"Module"})),$3t=aUe(I3t);var XY=typeof Map=="function"&&Map.prototype,T8=Object.getOwnPropertyDescriptor&&XY?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o$=XY&&T8&&typeof T8.get=="function"?T8.get:null,ese=XY&&Map.prototype.forEach,JY=typeof Set=="function"&&Set.prototype,A8=Object.getOwnPropertyDescriptor&&JY?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,a$=JY&&A8&&typeof A8.get=="function"?A8.get:null,tse=JY&&Set.prototype.forEach,D3t=typeof WeakMap=="function"&&WeakMap.prototype,bS=D3t?WeakMap.prototype.has:null,O3t=typeof WeakSet=="function"&&WeakSet.prototype,xS=O3t?WeakSet.prototype.has:null,M3t=typeof WeakRef=="function"&&WeakRef.prototype,nse=M3t?WeakRef.prototype.deref:null,P3t=Boolean.prototype.valueOf,R3t=Object.prototype.toString,F3t=Function.prototype.toString,L3t=String.prototype.match,QY=String.prototype.slice,hm=String.prototype.replace,N3t=String.prototype.toUpperCase,rse=String.prototype.toLowerCase,IIe=RegExp.prototype.test,ise=Array.prototype.concat,gd=Array.prototype.join,B3t=Array.prototype.slice,ose=Math.floor,mB=typeof BigInt=="function"?BigInt.prototype.valueOf:null,j8=Object.getOwnPropertySymbols,gB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ox=typeof Symbol=="function"&&typeof Symbol.iterator=="object",wS=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ox||"symbol")?Symbol.toStringTag:null,$Ie=Object.prototype.propertyIsEnumerable,ase=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function sse(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||IIe.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-ose(-e):ose(e);if(r!==e){var i=String(r),o=QY.call(t,i.length+1);return hm.call(i,n,"$&_")+"."+hm.call(hm.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return hm.call(t,n,"$&_")}var yB=$3t,lse=yB.custom,cse=MIe(lse)?lse:null,DIe={__proto__:null,double:'"',single:"'"},V3t={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},z3t=function e(t,n,r,i){var o=n||{};if(Lf(o,"quoteStyle")&&!Lf(DIe,o.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Lf(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=Lf(o,"customInspect")?o.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Lf(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Lf(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=o.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return RIe(t,o);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var l=String(t);return s?sse(t,l):l}if(typeof t=="bigint"){var u=String(t)+"n";return s?sse(t,u):u}var d=typeof o.depth>"u"?5:o.depth;if(typeof r>"u"&&(r=0),r>=d&&d>0&&typeof t=="object")return vB(t)?"[Array]":"[Object]";var f=a$t(o,r);if(typeof i>"u")i=[];else if(PIe(i,t)>=0)return"[Circular]";function h($,D,O){if(D&&(i=B3t.call(i),i.push(D)),O){var M={depth:o.depth};return Lf(o,"quoteStyle")&&(M.quoteStyle=o.quoteStyle),e($,M,r+1,i)}return e($,o,r+1,i)}if(typeof t=="function"&&!use(t)){var m=X3t(t),g=PT(t,h);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(g.length>0?" { "+gd.call(g,", ")+" }":"")}if(MIe(t)){var y=ox?hm.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):gB.call(t);return typeof t=="object"&&!ox?PC(y):y}if(r$t(t)){for(var x="<"+rse.call(String(t.nodeName)),b=t.attributes||[],v=0;v<b.length;v++)x+=" "+b[v].name+"="+OIe(U3t(b[v].value),"double",o);return x+=">",t.childNodes&&t.childNodes.length&&(x+="..."),x+="</"+rse.call(String(t.nodeName))+">",x}if(vB(t)){if(t.length===0)return"[]";var w=PT(t,h);return f&&!o$t(w)?"["+bB(w,f)+"]":"[ "+gd.call(w,", ")+" ]"}if(W3t(t)){var C=PT(t,h);return!("cause"in Error.prototype)&&"cause"in t&&!$Ie.call(t,"cause")?"{ ["+String(t)+"] "+gd.call(ise.call("[cause]: "+h(t.cause),C),", ")+" }":C.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+gd.call(C,", ")+" }"}if(typeof t=="object"&&a){if(cse&&typeof t[cse]=="function"&&yB)return yB(t,{depth:d-r});if(a!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(J3t(t)){var k=[];return ese&&ese.call(t,function($,D){k.push(h(D,t,!0)+" => "+h($,t))}),dse("Map",o$.call(t),k,f)}if(t$t(t)){var S=[];return tse&&tse.call(t,function($){S.push(h($,t))}),dse("Set",a$.call(t),S,f)}if(Q3t(t))return I8("WeakMap");if(n$t(t))return I8("WeakSet");if(e$t(t))return I8("WeakRef");if(K3t(t))return PC(h(Number(t)));if(q3t(t))return PC(h(mB.call(t)));if(Y3t(t))return PC(P3t.call(t));if(G3t(t))return PC(h(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(typeof globalThis<"u"&&t===globalThis||typeof Ko<"u"&&t===Ko)return"{ [object globalThis] }";if(!H3t(t)&&!use(t)){var E=PT(t,h),_=ase?ase(t)===Object.prototype:t instanceof Object||t.constructor===Object,T=t instanceof Object?"":"null prototype",A=!_&&wS&&Object(t)===t&&wS in t?QY.call(Cg(t),8,-1):T?"Object":"",I=_||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",j=I+(A||T?"["+gd.call(ise.call([],A||[],T||[]),": ")+"] ":"");return E.length===0?j+"{}":f?j+"{"+bB(E,f)+"}":j+"{ "+gd.call(E,", ")+" }"}return String(t)};function OIe(e,t,n){var r=n.quoteStyle||t,i=DIe[r];return i+e+i}function U3t(e){return hm.call(String(e),/"/g,"&quot;")}function t0(e){return!wS||!(typeof e=="object"&&(wS in e||typeof e[wS]<"u"))}function vB(e){return Cg(e)==="[object Array]"&&t0(e)}function H3t(e){return Cg(e)==="[object Date]"&&t0(e)}function use(e){return Cg(e)==="[object RegExp]"&&t0(e)}function W3t(e){return Cg(e)==="[object Error]"&&t0(e)}function G3t(e){return Cg(e)==="[object String]"&&t0(e)}function K3t(e){return Cg(e)==="[object Number]"&&t0(e)}function Y3t(e){return Cg(e)==="[object Boolean]"&&t0(e)}function MIe(e){if(ox)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!gB)return!1;try{return gB.call(e),!0}catch{}return!1}function q3t(e){if(!e||typeof e!="object"||!mB)return!1;try{return mB.call(e),!0}catch{}return!1}var Z3t=Object.prototype.hasOwnProperty||function(e){return e in this};function Lf(e,t){return Z3t.call(e,t)}function Cg(e){return R3t.call(e)}function X3t(e){if(e.name)return e.name;var t=L3t.call(F3t.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function PIe(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function J3t(e){if(!o$||!e||typeof e!="object")return!1;try{o$.call(e);try{a$.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function Q3t(e){if(!bS||!e||typeof e!="object")return!1;try{bS.call(e,bS);try{xS.call(e,xS)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function e$t(e){if(!nse||!e||typeof e!="object")return!1;try{return nse.call(e),!0}catch{}return!1}function t$t(e){if(!a$||!e||typeof e!="object")return!1;try{a$.call(e);try{o$.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function n$t(e){if(!xS||!e||typeof e!="object")return!1;try{xS.call(e,xS);try{bS.call(e,bS)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function r$t(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function RIe(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return RIe(QY.call(e,0,t.maxStringLength),t)+r}var i=V3t[t.quoteStyle||"single"];i.lastIndex=0;var o=hm.call(hm.call(e,i,"\\$1"),/[\x00-\x1f]/g,i$t);return OIe(o,"single",t)}function i$t(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+N3t.call(t.toString(16))}function PC(e){return"Object("+e+")"}function I8(e){return e+" { ? }"}function dse(e,t,n,r){var i=r?bB(n,r):gd.call(n,", ");return e+" ("+t+") {"+i+"}"}function o$t(e){for(var t=0;t<e.length;t++)if(PIe(e[t],`
`)>=0)return!1;return!0}function a$t(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=gd.call(Array(e.indent+1)," ");else return null;return{base:n,prev:gd.call(Array(t+1),n)}}function bB(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+gd.call(e,","+n)+`
`+t.prev}function PT(e,t){var n=vB(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=Lf(e,i)?t(e[i],e):""}var o=typeof j8=="function"?j8(e):[],a;if(ox){a={};for(var s=0;s<o.length;s++)a["$"+o[s]]=o[s]}for(var l in e)Lf(e,l)&&(n&&String(Number(l))===l&&l<e.length||ox&&a["$"+l]instanceof Symbol||(IIe.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if(typeof j8=="function")for(var u=0;u<o.length;u++)$Ie.call(e,o[u])&&r.push("["+t(o[u])+"]: "+t(e[o[u]],e));return r}const Bv=Ue(z3t),xB="__experimental_actions",FIe=["create","update","delete","publish"],$8=FIe,s$t=e=>xB in e?e[xB]:FIe,l$t=(e,t)=>{if(!Array.isArray(t))throw new Error(`The value of <type>.${xB} should be an array with any of the actions ${$8.join(", ")}`);const n=hy(t,$8);if(n.length>0)throw new Error(`Invalid action${n.length>1?"s":""} configured for schema type "${e}": ${n.join(", ")}. Valid actions are: ${$8.join(", ")}`);return t},c$t=e=>l$t(e.name,s$t(e)),fse=(e,t)=>c$t(e).includes(t),It={TYPE_INVALID:"schema-type-invalid",TYPE_IS_ESM_MODULE:"schema-type-is-esm-module",TYPE_NAME_RESERVED:"schema-type-name-reserved",TYPE_MISSING_NAME:"schema-type-missing-name-or-type",TYPE_MISSING_TYPE:"schema-type-missing-name-or-type",TYPE_TITLE_RECOMMENDED:"schema-type-title-is-recommended",TYPE_TITLE_INVALID:"schema-type-title-is-recommended",OBJECT_FIELDS_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_NOT_UNIQUE:"schema-object-fields-invalid",OBJECT_FIELD_NAME_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_DEFINITION_INVALID_TYPE:"schema-object-fields-invalid",ARRAY_PREDEFINED_CHOICES_INVALID:"schema-predefined-choices-invalid",ARRAY_OF_ARRAY:"schema-array-of-array",ARRAY_OF_INVALID:"schema-array-of-invalid",ARRAY_OF_NOT_UNIQUE:"schema-array-of-invalid",ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT:"schema-array-of-type-global-type-conflict",ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT:"schema-array-of-type-builtin-type-conflict",REFERENCE_TO_INVALID:"schema-reference-to-invalid",REFERENCE_TO_NOT_UNIQUE:"schema-reference-to-invalid",REFERENCE_INVALID_OPTIONS:"schema-reference-invalid-options",REFERENCE_INVALID_OPTIONS_LOCATION:"schema-reference-options-nesting",REFERENCE_INVALID_FILTER_PARAMS_COMBINATION:"schema-reference-filter-params-combination",SLUG_SLUGIFY_FN_RENAMED:"slug-slugifyfn-renamed",ASSET_METADATA_FIELD_INVALID:"asset-metadata-field-invalid",CROSS_DATASET_REFERENCE_INVALID:"cross-dataset-reference-invalid",DEPRECATED_BLOCKEDITOR_KEY:"schema-deprecated-blockeditor-key",STANDALONE_BLOCK_TYPE:"schema-standalone-block-type"};function LIe(e,t,n){if(n&&!Object.keys(It).some(r=>It[r]===n))throw new Error(`Used the unknown helpId "${n}", please add it to the array in createValidationResult.js`);return{severity:e,message:t,helpId:n}}const Ye=(e,t)=>LIe("error",e,t),Xi=(e,t)=>LIe("warning",e,t);function u$t(e){return jr(e.map(t=>NIe(t))).filter(t=>t.problems.length>0)}function n0(e,t=n=>yr(n,e)){return function(n,r){const i=[...r,{kind:"type",type:n.type,name:n.name}],o=t(n)||[],a=Array.isArray(o)?o.map(s=>{const l={kind:"property",name:e},u=[...i,l];return NIe(s,u)}):[[{path:i,problems:[Ye(`Member declaration (${e}) is not an array`)]}]];return[{path:i,problems:n._problems||[]},...jr(a)]}}const d$t=e=>Array.isArray(e)?e:typeof e>"u"&&[]||[e],hse=n0("fields"),f$t=n0("fields"),h$t=n0("fields"),p$t=n0("of"),m$t=n0("to",e=>"to"in e?d$t(e.to):[]),g$t=n0("marks.annotations"),y$t=n0("of"),v$t=(e,t)=>[...g$t(e,t),...y$t(e,t)];function b$t(e,t=[]){return[{path:[...t,{kind:"type",type:e.type,name:e.name}],problems:e._problems||[]}]}function NIe(e,t=[]){switch(e.type){case"object":return hse(e,t);case"document":return hse(e,t);case"array":return p$t(e,t);case"reference":return m$t(e,t);case"block":return v$t(e,t);case"image":return f$t(e,t);case"file":return h$t(e,t);default:return b$t(e,t)}}function oP(e,t=n=>n){const n=e.reduce((r,i)=>{const o=t(i);return r[o]||(r[o]=[]),r[o].push(i),r},{});return Object.keys(n).map(r=>n[r].length>1?n[r]:null).filter(Boolean)}const x$t=e=>e,w$t={name:"type",type:null},C$t=["any","time","date"];function k$t(e=[],t=[],n=x$t){const r=Object.create(null),i=Object.create(null),o=t.map(g=>g.name),a=C$t.concat(o),s=e.map(g=>g&&g.name).filter(Boolean);t.forEach(g=>{r[g.name]=g}),e.forEach((g,y)=>{i[g&&g.name||`__unnamed_${y}`]={}});function l(g){return g==="type"?w$t:r[g]||i[g]||null}const u=Io(jr(oP(s)));function d(g){return u.includes(g)}function f(){return s.concat(o)}function h(g){return g==="type"||a.includes(g)}const m=g=>(y,x)=>n(y,{visit:m(!1),isRoot:g,getType:l,getTypeNames:f,isReserved:h,isDuplicate:d,index:x});return t.forEach(g=>{Object.assign(r[g.name],m(g))}),e.forEach((g,y)=>{Object.assign(i[g&&g.name||`__unnamed_${y}`],m(!0)(g,y))}),{get(g){const y=i[g]||r[g];if(y)return y;throw new Error(`No such type: ${g}`)},has(g){return g in i||g in r},getTypeNames(){return Object.keys(i)},getTypes(){return this.getTypeNames().map(this.get)},toJSON(){return this.getTypes()}}}const BIe=[{name:"array",jsonType:"array",type:"type"},{name:"block",jsonType:"object",type:"type"},{name:"boolean",jsonType:"boolean",type:"type"},{name:"datetime",jsonType:"string",type:"type"},{name:"date",jsonType:"string",type:"type"},{name:"document",jsonType:"object",type:"type"},{name:"email",jsonType:"string",type:"type"},{name:"file",jsonType:"object",type:"type"},{name:"geopoint",jsonType:"object",type:"type"},{name:"image",jsonType:"object",type:"type"},{name:"number",jsonType:"number",type:"type"},{name:"object",jsonType:"object",type:"type"},{name:"reference",jsonType:"object",type:"type"},{name:"crossDatasetReference",jsonType:"object",type:"type"},{name:"slug",jsonType:"object",type:"type"},{name:"span",jsonType:"object",type:"type"},{name:"string",jsonType:"string",type:"type"},{name:"telephone",jsonType:"string",type:"type"},{name:"text",jsonType:"string",type:"type"},{name:"url",jsonType:"string",type:"type"}],VIe=BIe.map(e=>e.name);function S$t(e,t){return k$t(e,BIe,t)}function pse(e){return e==="string"||e==="number"||e==="boolean"}function E$t(e,t){return(typeof t.name=="string"?t.name:t.type)===e}function CS(e){return`"${e}"`}function mse(e,t="s"){return e.length===1?"":t}function gse(e){return Array.isArray(e)?`array with ${e.length} entries`:typeof e=="object"&&e!==null?`object with keys ${xu(Object.keys(e).map(CS))}`:CS(e)}var _$t=(e,t)=>{var d,f,h;const n=Array.isArray(e.of);if(n){const m=e.of.reduce((g,y,x)=>{if(typeof y.name=="string"&&y.name!==y.type&&VIe.includes(y.name))return g.concat(Ye(`Found array member declaration with the same type name as a built-in type ("${y.name}"). Array members can not be given the same name as a built-in type.`,It.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT));if(y.type==="object"&&y.name&&t.getType(y.name))return g.concat(Xi(`Found array member declaration with the same name as the global schema type "${y.name}". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`,It.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT));if(y.type==="array")return g.concat(Ye('Found array member declaration of type "array" - multidimensional arrays are not currently supported by Sanity',It.ARRAY_OF_ARRAY));if(y)return g;const b=`Found ${y===null?"null":typeof y}, expected member declaration`;return g.concat(Ye(`Found invalid type member declaration in array at index ${x}: ${b}`,It.ARRAY_OF_INVALID))},[]);if(m.length>0)return{...e,of:[],_problems:m}}const r=jr([n?oP(e.of,m=>`${m.name};${m.type}`).map(m=>Ye(`Found ${m.length} members with same type, but not unique names "${m[0].type}" in array. This makes it impossible to tell their values apart and you should consider naming them`,It.ARRAY_OF_NOT_UNIQUE)):Ye('The array type is missing or having an invalid value for the required "of" property',It.ARRAY_OF_INVALID)]),i=n?e.of:[],o=i.some(m=>m.type==="object"&&typeof m.name>"u");i.some(m=>m.type==="block")&&o&&r.push(Ye("The array type's 'of' property can't have an object type without a 'name' property as member, when the 'block' type is also a member of that array.",It.ARRAY_OF_INVALID));const[a,s]=rP(i,m=>{var g;return pse(m.type)||pse((g=t.getType(m.type))==null?void 0:g.jsonType)}),l=a.length>0&&s.length>0;if(l){const m=a.map(y=>y.type),g=s.map(y=>y.type);r.push(Ye(`The array type's 'of' property can't have both object types and primitive types (found primitive type ${mse(m)} ${xu(m.map(CS))} and object type${mse(g)} ${xu(g.map(CS))})`,It.ARRAY_OF_INVALID))}const u=(d=e==null?void 0:e.options)==null?void 0:d.list;return!l&&Array.isArray(u)&&(a.length>0?u.forEach(m=>{const g=(m==null?void 0:m.value)??m;if(!a.some(y=>typeof g===t.getType(y.type).jsonType)){const y=xu(a.map(x=>x.name||x.type),{conjunction:"or"});r.push(Ye(`An invalid entry found in options.list: ${gse(g)}. Must be either a value of type ${y}, or an object with {title: string, value: ${y}}`,It.ARRAY_PREDEFINED_CHOICES_INVALID))}}):u.forEach(m=>{const g=m._type||"object";s.some(y=>E$t(g,y))||r.push(Ye(`An invalid entry found in options.list: ${gse(m)}. Must be an object with "_type" set to ${xu(s.map(y=>y.name||y.type).map(y=>y==="object"?"undefined":CS(y)),{conjunction:"or"})}`,It.ARRAY_PREDEFINED_CHOICES_INVALID))})),(f=e==null?void 0:e.options)!=null&&f.list&&((h=e==null?void 0:e.options)==null?void 0:h.layout)==="tags"&&r.push(Xi("Found array member declaration with both tags layout and a list of predefined values. If you want to display a list of predefined values, remove the tags layout from `options`.")),{...e,of:i.map(t.visit),_problems:r}};function zIe(e,t,n){if("jsonType"in e)return e.jsonType===t;const r=n.getType(e.type);if(!r)throw new Error(`Could not resolve jsonType of ${e.name}. No parent type found`);return zIe(r,t,n)}const Dl=e=>Array.isArray(e)?"array":typeof e,AE=e=>`"${e}"`,T$t=["components","lists","marks","name","of","options","styles","title","type","validation"],A$t=["decorators","annotations"],j$t=["blockEditor","title","value","icon","component"],I$t=["blockEditor","title","value","icon","component"],$$t=["title","value","icon","component"],yse=["file","image","object","reference"];function D$t(e,t){const n=[];let r=e.styles,i=e.lists,o=e.marks,a=e.of;const s=Object.keys(e).filter(l=>!T$t.includes(l)&&!l.startsWith("_"));return s.length>0&&n.push(Ye(`Found unknown properties for block declaration: ${xu(s.map(AE))}`)),o&&(o=O$t(e.marks,t,n)),r&&(r=P$t(r,t,n)),i&&(i=M$t(i,t,n)),a&&(a=L$t(a,t,n)),{...Po(e,s),marks:o,styles:r,name:e.name||e.type,of:a,_problems:n}}function O$t(e,t,n){let r=e.decorators,i=e.annotations;if(!kr(e))return n.push(Ye(`"marks" declaration should be an object, got ${Dl(e)}`)),n;const o=Object.keys(e).filter(a=>!A$t.includes(a)&&!a.startsWith("_"));return o.length>0&&n.push(Ye(`Found unknown properties for block declaration: ${xu(o.map(AE))}`)),r&&!Array.isArray(r)?n.push(Ye(`"marks.decorators" declaration should be an array, got ${Dl(r)}`)):r&&(r.filter(a=>!!a.blockEditor).forEach(a=>{a.icon=a.blockEditor.icon,a.component=a.blockEditor.render}),r=R$t(r,t,n)),i&&!Array.isArray(i)?n.push(Ye(`"marks.annotations" declaration should be an array, got ${Dl(i)}`)):i&&(i=F$t(i,t,n)),{...e,decorators:r,annotations:i}}function M$t(e,t,n){return Array.isArray(e)?(e.forEach((r,i)=>{if(!kr(r)){n.push(Ye(`List must be an object, got ${Dl(r)}`));return}const o=r.value||`#${i}`,a=Object.keys(r).filter(s=>!$$t.includes(s)&&!s.startsWith("_"));a.length>0&&n.push(Ye(`Found unknown properties for list ${o}: ${xu(a.map(AE))}`)),r.value?typeof r.value!="string"?n.push(Ye(`List type #${i} has an invalid "value" property, expected string, got ${Dl(r.value)}`)):r.title||n.push(Xi(`List type ${o} is missing recommended "title" property`)):n.push(Ye(`List #${i} is missing required "value" property`))}),e):(n.push(Ye(`"lists" declaration should be an array, got ${Dl(e)}`)),n)}function P$t(e,t,n){return Array.isArray(e)?(e.forEach((r,i)=>{if(!kr(r)){n.push(Ye(`Style must be an object, got ${Dl(r)}`));return}const o=r.value||`#${i}`,a=Object.keys(r).filter(s=>!j$t.includes(s)&&!s.startsWith("_"));a.length>0&&n.push(Ye(`Found unknown properties for style ${o}: ${xu(a.map(AE))}`)),r.value?typeof r.value!="string"?n.push(Ye(`Style #${i} has an invalid "value" property, expected string, got ${Dl(r.value)}`)):r.title||n.push(Xi(`Style ${o} is missing recommended "title" property`)):n.push(Ye(`Style #${i} is missing required "value" property`)),typeof r.blockEditor<"u"&&(n.push(Xi('Style has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',It.DEPRECATED_BLOCKEDITOR_KEY)),r.component=r.component||r.blockEditor.render)}),e):(n.push(Ye(`"styles" declaration should be an array, got ${Dl(e)}`)),n)}function R$t(e,t,n){return e.forEach((r,i)=>{if(!kr(r)){n.push(Ye(`Annotation must be an object, got ${Dl(r)}`));return}const o=r.value||`#${i}`,a=Object.keys(r).filter(s=>!I$t.includes(s)&&!s.startsWith("_"));a.length>0&&n.push(Ye(`Found unknown properties for decorator ${o}: ${xu(a.map(AE))}`)),r.value?typeof r.value!="string"?n.push(Ye(`Decorator #${i} has an invalid "value" property, expected string, got ${Dl(r.value)}`)):r.title||n.push(Xi(`Decorator ${o} is missing recommended "title" property`)):n.push(Ye(`Decorator #${i} is missing required "value" property`)),typeof r.blockEditor<"u"&&(n.push(Xi(`Decorator "${o}" has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.`,It.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,r.component=r.component||r.blockEditor.render)}),e}function F$t(e,t,n){return e.map(r=>{var a,s;if(!kr(r))return{...r,_problems:[Ye(`Annotation must be an object, got ${Dl(r)}`)]};const{_problems:i}=t.visit(r,t),o=r.type&&t.getType(r.type);return o&&!zIe(o,"object",t)&&i.push(Ye(`Annotation cannot have type "${r.type}" - annotation types must inherit from object`)),typeof r.blockEditor<"u"&&(n.push(Xi('Annotation has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',It.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,(a=r.blockEditor)!=null&&a.render&&!((s=r.components)!=null&&s.annotation)&&(r.components=r.components||{},r.components.annotation=r.components.annotation||r.blockEditor.render)),{...r,_problems:i}})}function L$t(e,t,n){if(!Array.isArray(e)){n.push(Ye(`"of" declaration should be an array, got ${Dl(e)}`));return}return e.map(r=>{const{_problems:i}=t.visit(r,t);if(r.type==="object"&&r.name&&t.getType(r.name))return{...r,_problems:[Xi(`Found array member declaration with the same name as the global schema type "${r.name}". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`,It.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT)]};let o=r;for(;o&&!o.jsonType;)o=t.getType(o.type);const a=VIe.filter(s=>!yse.includes(s));return o&&o.jsonType!=="object"||a.some(s=>s===r.type)?{...r,_problems:[Ye(`Block member types must be a supported object-like type. The following built-in types are supported: '${yse.join("', '")}'. You can also use shorthands for previously defined object types like {type: 'myObjectType'}`,It.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT)]}:{...r,_problems:i}})}function N$t(e,t){if(!("fields"in e))return[];let n=e;for(;n&&!n.jsonType;)n=t.getType(n.type);return n&&n.jsonType!=="object"?[Ye('Type has propery "fields", but is not an object/document type.')]:[]}const B$t=e=>`"${e}"`;function V$t(e,t){const n=t.getTypeNames();if(!e)return[Ye("Type is missing a type.",It.TYPE_MISSING_TYPE)];if(typeof e!="string")return[Ye('Type has an invalid "type"-property - should be a string.',It.TYPE_MISSING_TYPE)];if(!n.includes(e)){const r=n.map(o=>[A3t(e,o),o]).filter(([o])=>o<3).map(([o,a])=>a),i=r.length>0?` Did you mean ${xu(r.map(B$t),{conjunction:"or"})}?`:"";return[Ye(`Unknown type: ${e}.${i}`)]}return[]}function z$t(e){var n,r,i;const t=[];return e!=null&&e.inputComponent&&t.push(Xi('The "inputComponent" property is deprecated. Use "components.input" instead.')),(n=e==null?void 0:e.preview)!=null&&n.component&&t.push(Xi('The "preview.component" property is deprecated. Use "components.preview" instead.')),e!=null&&e.diffComponent&&t.push(Xi('The "diffComponent" property is deprecated. Use "components.diff" instead.')),(r=e==null?void 0:e.options)!=null&&r.editModal&&t.push(Xi('The "options.editModal" property is deprecated. Use "options.modal" instead.')),(i=e==null?void 0:e.options)!=null&&i.isHighlighted&&t.push(Xi('The "options.isHighlighted" property is deprecated. You can put fields behind a collapsed fieldset if you want to hide them from plain sight.')),t}var vse=(e,t)=>({...e,_problems:[...V$t(e.type,t),...N$t(e,t),...z$t(e)].filter(Boolean)});function U$t(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}const H$t=/^[a-z0-9~][-_a-z0-9]+$/;function W$t(e){return e.length>=2&&e.toLowerCase()===e&&H$t.test(e)||`The provided dataset "${e}" doesn't look like a valid dataset. Dataset names must be more than 2 characters, can only contain lowercase characters, numbers, underscores and dashes and can not start with a dash or an underscore`}var G$t=(e,t)=>{const n=Array.isArray(e.to)||kr(e.to),r=U$t(e),i=jr([n?oP(r,o=>`${o.name};${o.type}`).map(o=>Ye(`Found ${o.length} members with same type, but not unique names "${o[0].type}" in reference. This makes it impossible to tell their values apart and you should consider naming them`,It.CROSS_DATASET_REFERENCE_INVALID)):Ye('The cross dataset reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',It.CROSS_DATASET_REFERENCE_INVALID)]);if(n&&r.length===0&&i.push(Ye('The cross dataset reference type should define at least one referenced type. Please check the "to" property.',It.CROSS_DATASET_REFERENCE_INVALID)),r.forEach((o,a)=>{o.type||i.push(Ye(`The referenced type at index ${a} must be named. Specify the name of the type you want to create references to.`,It.CROSS_DATASET_REFERENCE_INVALID)),kr(o.preview)||i.push(Ye(`Missing required preview config for the referenced type "${o.type||"<unknown type>"}"`,It.CROSS_DATASET_REFERENCE_INVALID))}),typeof e.dataset=="string"){const o=W$t(e.dataset);o!==!0&&i.push(Ye(o,It.CROSS_DATASET_REFERENCE_INVALID))}else i.push(Ye("A cross dataset reference must specify a `dataset`",It.CROSS_DATASET_REFERENCE_INVALID));return e.studioUrl&&typeof e.studioUrl!="function"&&i.push(Ye('The "studioUrl" property on a cross dataset reference must be a function taking "{id, type}" as argument and returning a studio url.',It.CROSS_DATASET_REFERENCE_INVALID)),i.push(...K$t(e)),{...e,_problems:i}};function K$t(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(r=>r in e).map(r=>Ye(`\`${r}\` is not allowed on a reference type definition - did you mean \`options.${r}\`?`,It.REFERENCE_INVALID_OPTIONS_LOCATION))),t?kr(t)?typeof t.filter=="function"&&typeof t.filterParams<"u"?n.concat(Ye("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",It.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof t.filter=="function"||!t.filter&&!t.filterParams?n:typeof t.filter!="string"?n.concat(Ye(`If set, \`filter\` must be a string. Got ${typeof t.filter}`)):typeof t.filterParams<"u"&&!kr(t.filterParams)?n.concat(Ye("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>Ye(`Filter parameter cannot be prefixed with "$" or "__". Got ${r}".`))):n:n.concat(Ye("The reference type expects `options` to be an object",It.REFERENCE_INVALID_OPTIONS)):n}const Y$t=/^Symbol\(react\..+\)$/;function RT(e){return typeof e=="function"||typeof(e==null?void 0:e.$$typeof)=="symbol"&&Y$t.test(String(e==null?void 0:e.$$typeof))}function UIe(e){const t="components"in e?e.components:!1;if(!t)return[];const n=[];return t.input&&!RT(t.input)&&n.push(Xi(`The \`components.input\` property is set but does not appear to be a valid React component (expected a function, but saw ${Bv(t.input)}). If you have imported a custom input component, please verify that you have imported the correct named/default export.`)),t.field&&!RT(t.field)&&n.push(Xi(`The \`components.field\` property is set but does not appear to be a valid React component (expected a function, but saw ${Bv(t.field)}). If you have imported a custom field component, please verify that you have imported the correct named/default export.`)),t.item&&!RT(t.item)&&n.push(Xi(`The \`components.item\` property is set but does not appear to be a valid React component (expected a function, but saw ${Bv(t.item)}). If you have imported a custom item component, please verify that you have imported the correct named/default export.`)),t.preview&&!RT(t.preview)&&n.push(Xi(`The \`components.preview\` property is set but does not appear to be a valid React component (expected a function, but saw ${Bv(t.preview)}). If you have imported a custom preview component, please verify that you have imported the correct named/default export.`)),n}const bse=/^[A-Za-z]+[0-9A-Za-z_]*$/,q$t=/^[A-Za-z_]+[0-9A-Za-z_]*$/;function Z$t(e){return typeof e!="string"?[Ye(`Field names must be strings. Saw "${Bv(e)}"`,It.OBJECT_FIELD_NAME_INVALID)]:e.startsWith("_")?[Ye(`Invalid field name "${e}". Field names cannot start with underscores "_" as it's reserved for system fields.`,It.OBJECT_FIELD_NAME_INVALID)]:bse.test(e)?q$t.test(e)?[]:[Xi("Thats an interesting field name for sure! But it is... how to put it... a bit... unconventional? It may be wise to keep special characters out of field names for easier access later on."),It.OBJECT_FIELD_NAME_INVALID]:[Ye(`Invalid field name: "${e}". Fields can only contain characters from A-Z, numbers and underscores and should not start with a number (must pass the regular expression ${String(bse)}).`,It.OBJECT_FIELD_NAME_INVALID)]}function eq(e,t){if(!kr(e))return[Ye(`Incorrect type for field definition - should be an object, saw ${Bv(e)}`,It.OBJECT_FIELD_DEFINITION_INVALID_TYPE)];const n=[];return n.push(..."name"in e?Z$t(e.name):[Ye("Missing field name",It.OBJECT_FIELD_NAME_INVALID)]),n.push(...UIe(e)),n}function X$t(e){const t={};return e.forEach(n=>{t[n.name]||(t[n.name]=[]),t[n.name].push(n)}),Object.keys(t).map(n=>t[n].length>1?t[n]:null).filter(Boolean)}function tq(e,t={allowEmpty:!1}){const n=[];if(!Array.isArray(e))return[Ye(`The "fields" property must be an array of fields. Instead saw "${typeof e}"`,It.OBJECT_FIELDS_INVALID)];const r=e.filter(o=>typeof o.name=="string");X$t(r).forEach(o=>{n.push(Ye(`Found ${o.length} fields with name "${o[0].name}" in object`,It.OBJECT_FIELD_NOT_UNIQUE))}),e.length===0&&!t.allowEmpty&&n.push(Ye("Object should have at least one field",It.OBJECT_FIELDS_INVALID));const i=e.filter(o=>o.type==="block").map(o=>`"${o.name}"`);if(i.length>0){const o=i.join(", ");n.push(Ye(`Invalid standalone block field(s) ${o}. Block content must be defined as an array of blocks`,It.STANDALONE_BLOCK_TYPE))}return n}function J$t(e){return kr(e)?typeof e.prepare<"u"&&typeof e.prepare!="function"?[Ye(`The "preview.prepare" property must be a function, instead saw "${typeof e.prepare}"`)]:e.select?kr(e.select)?Object.keys(e.select).reduce((t,n)=>typeof e.select[n]=="string"?t:t.concat(Ye(`The key "${n}" of "preview.select" must be a string, instead saw "${typeof e.select[n]}"`)),[]):[Ye(`The "preview.select" property must be an object, instead saw "${typeof e.prepare}"`)]:[]:[Ye(`The "preview" property must be an object, instead saw "${typeof e}"`)]}var HIe=(e,t)=>{let n=tq(e.fields),r=e.preview;if(r){const i=J$t(e.preview);n=n.concat(i),r=i.some(o=>o.severity==="error")?{}:r}return e.type!=="document"&&e.type!=="object"&&typeof e.initialValue<"u"&&n.push(Ye('The "initialValue" property is currently only supported for document & object types.')),{...e,preview:r,fields:(Array.isArray(e.fields)?e.fields:[]).map((i,o)=>{const{name:a,...s}=i,{_problems:l,...u}=t.visit(s,o);return{name:a,...u,_problems:eq(i).concat(l||[])}}),_problems:n}},Q$t=(e,t)=>{const n=HIe(e,t),{initialValue:r,initialValues:i}=n;return typeof r<"u"&&!kr(r)&&typeof r!="function"&&n._problems.push(Ye('The "initialValue" property must be either a plain object or a function')),typeof i<"u"&&n._problems.push(Ye('Found property "initialValues" - did you mean "initialValue"?')),n},eDt=(e,t)=>{const n=[],r=e.fields;r&&n.push(...tq(r,{allowEmpty:!0}));const i=Array.isArray(r)?r==null?void 0:r.filter(o=>o.name==="asset"):[];return e.options&&typeof e.options.metadata<"u"&&!Array.isArray(e.options.metadata)?n.push(Ye("Invalid type for file `metadata` field - must be an array of strings",It.ASSET_METADATA_FIELD_INVALID)):i.length>0&&n.push(Ye("The name `asset` is not a valid field name for type `file`.")),{...e,fields:(Array.isArray(r)?r:[]).map((o,a)=>{const{name:s,...l}=o,{_problems:u,...d}=t.visit(l,a);return{name:s,...d,_problems:eq(o).concat(u||[])}}),_problems:n}};const xse=["dimensions","hasAlpha","isOpaque"];var tDt=(e,t)=>{const n=[],r=e.fields;r&&n.push(...tq(r,{allowEmpty:!0}));let i=e.options;const o=i==null?void 0:i.metadata,a=Array.isArray(o)?o.filter(u=>xse.includes(u)):[],s=["asset","hotspot","crop"],l=Array.isArray(r)?r==null?void 0:r.filter(u=>s.includes(u.name)):[];return typeof o<"u"&&!Array.isArray(o)?n.push(Ye("Invalid type for image `metadata` field - must be an array of strings",It.ASSET_METADATA_FIELD_INVALID)):a.length>0?(n.push(Xi(`Image \`metadata\` field contains superfluous properties (they are always included): ${a.join(", ")}`)),i={...i,metadata:o.filter(u=>!xse.includes(u))}):l.length>0&&n.push(Ye(`The names \`${s.join("`, `")}\` are invalid field names for type \`image\`.`)),{...e,options:i,fields:(Array.isArray(r)?r:[]).map((u,d)=>{const{name:f,...h}=u,{_problems:m,...g}=t.visit(h,d);return{name:f,...g,_problems:eq(u).concat(m||[])}}),_problems:n}};function nDt(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}var rDt=(e,t)=>{const n=Array.isArray(e.to)||kr(e.to),r=nDt(e),i=jr([n?oP(r,o=>`${o.name};${o.type}`).map(o=>Ye(`Found ${o.length} members with same type, but not unique names "${o[0].type}" in reference. This makes it impossible to tell their values apart and you should consider naming them`,It.REFERENCE_TO_INVALID)):Ye('The reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',It.REFERENCE_TO_INVALID)]);return n&&r.length===0&&i.push(Ye('The reference type should define at least one accepted type. Please check the "to" property.',It.REFERENCE_TO_INVALID)),i.push(...iDt(e)),{...e,to:(n?r:[]).map(t.visit),_problems:i}};function iDt(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(r=>r in e).map(r=>Ye(`\`${r}\` is not allowed on a reference type definition - did you mean \`options.${r}\`?`,It.REFERENCE_INVALID_OPTIONS_LOCATION))),t?kr(t)?typeof t.filter=="function"&&typeof t.filterParams<"u"?n.concat(Ye("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",It.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof t.filter=="function"||!t.filter&&!t.filterParams?n:typeof t.filter!="string"?n.concat(Ye(`If set, \`filter\` must be a string. Got ${typeof t.filter}`)):typeof t.filterParams<"u"&&!kr(t.filterParams)?n.concat(Ye("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>Ye(`Filter parameter cannot be prefixed with "$" or "__". Got ${r}".`))):n:n.concat(Ye("The reference type expects `options` to be an object",It.REFERENCE_INVALID_OPTIONS)):n}var oDt=(e,t)=>{const n=!!e.name;if(!n&&Object.keys(e).length===1)return{...e,_problems:[Ye("Invalid/undefined type declaration, check declaration or the import/export of the schema type.",It.TYPE_INVALID)]};const r=[];return aDt(e)?r.push(Ye("Type appears to be an ES6 module imported through CommonJS require - use an import statement or access the `.default` property",It.TYPE_IS_ESM_MODULE)):n?t.isReserved(e.name)&&r.push(Ye(`Invalid type name: "${e.name}" is a reserved name.`,It.TYPE_NAME_RESERVED)):r.push(Ye("Missing type name",It.TYPE_MISSING_NAME)),t.isDuplicate(e.name)&&r.push(Ye(`Invalid type name: A type with name "${e.name}" is already defined in the schema.`)),r.push(...UIe(e)),"title"in e&&typeof e.title!="string"&&r.push(Xi("Type title is not a string.",It.TYPE_TITLE_INVALID)),{...e,_problems:r}};function aDt(e){return!e.name&&e.default&&(e.default.name||e.default.title)}var sDt=(e,t)=>{const n=[];return e.options&&e.options.slugifyFn&&(n.push(Xi('Heads up! The "slugifyFn" option has been renamed to "slugify".',It.SLUG_SLUGIFY_FN_RENAMED)),e.options.slugify=e.options.slugifyFn),{...e,_problems:n}};const lDt={array:_$t,object:HIe,slug:sDt,file:eDt,image:tDt,block:D$t,document:Q$t,reference:rDt,crossDatasetReference:G$t},cDt=e=>t=>({name:`<unnamed_type_@_index_${e.index}>`,...t,_problems:[]});function wse(...e){return(t,n)=>e.reduce((r,i)=>{const o=i(r,n);return{...o,_problems:r._problems.concat(o._problems)}},{_problems:[],...t})}function uDt(e){return S$t(e,(t,n)=>{const r=t&&t.type&&lDt[t.type]||cDt(n);return n.isRoot?wse(oDt,vse,r)(t,n):wse(vse,r)(t,n)})}function dDt(e){for(var t=-1,n=e==null?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}var fDt=dDt;const aP=Ue(fDt);function hDt(){}var nq=hDt,pDt=GY,mDt=nq;function s$(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}s$.prototype=pDt(mDt.prototype);s$.prototype.constructor=s$;var rq=s$,Cse=VEe,gDt=Cse&&new Cse,yDt=gDt,kse=yDt,vDt=TY,bDt=kse?function(e){return kse.get(e)}:vDt,WIe=bDt,xDt={},wDt=xDt,Sse=wDt,CDt=Object.prototype,kDt=CDt.hasOwnProperty;function SDt(e){for(var t=e.name+"",n=Sse[t],r=kDt.call(Sse,t)?n.length:0;r--;){var i=n[r],o=i.func;if(o==null||o==e)return i.name}return t}var GIe=SDt,EDt=GY,_Dt=nq,TDt=4294967295;function l$(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=TDt,this.__views__=[]}l$.prototype=EDt(_Dt.prototype);l$.prototype.constructor=l$;var iq=l$,ADt=iq,jDt=rq,IDt=UY;function $Dt(e){if(e instanceof ADt)return e.clone();var t=new jDt(e.__wrapped__,e.__chain__);return t.__actions__=IDt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var DDt=$Dt,ODt=iq,Ese=rq,MDt=nq,PDt=bo,RDt=Ul,FDt=DDt,LDt=Object.prototype,NDt=LDt.hasOwnProperty;function c$(e){if(RDt(e)&&!PDt(e)&&!(e instanceof ODt)){if(e instanceof Ese)return e;if(NDt.call(e,"__wrapped__"))return FDt(e)}return new Ese(e)}c$.prototype=MDt.prototype;c$.prototype.constructor=c$;var BDt=c$,VDt=iq,zDt=WIe,UDt=GIe,HDt=BDt;function WDt(e){var t=UDt(e),n=HDt[t];if(typeof n!="function"||!(t in VDt.prototype))return!1;if(e===n)return!0;var r=zDt(n);return!!r&&e===r[0]}var GDt=WDt,_se=rq,KDt=qY,YDt=WIe,D8=GIe,qDt=bo,Tse=GDt,ZDt="Expected a function",XDt=8,JDt=32,QDt=128,eOt=256;function tOt(e){return KDt(function(t){var n=t.length,r=n,i=_se.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if(typeof o!="function")throw new TypeError(ZDt);if(i&&!a&&D8(o)=="wrapper")var a=new _se([],!0)}for(r=a?r:n;++r<n;){o=t[r];var s=D8(o),l=s=="wrapper"?YDt(o):void 0;l&&Tse(l[0])&&l[1]==(QDt|XDt|JDt|eOt)&&!l[4].length&&l[9]==1?a=a[D8(l[0])].apply(a,l[3]):a=o.length==1&&Tse(o)?a[s]():a.thru(o)}return function(){var u=arguments,d=u[0];if(a&&u.length==1&&qDt(d))return a.plant(d).value();for(var f=0,h=n?t[f].apply(this,u):d;++f<n;)h=t[f].call(this,h);return h}})}var nOt=tOt,rOt=nOt,iOt=rOt(),oOt=iOt;const aOt=Ue(oOt);var sOt=Uc;function lOt(e){return sOt(e).toLowerCase()}var cOt=lOt;const xb=Ue(cOt);var uOt=AIe;function dOt(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:uOt(e,t,n)}var KIe=dOt,fOt=SY;function hOt(e,t){for(var n=e.length;n--&&fOt(t,e[n],0)>-1;);return n}var pOt=hOt,mOt=SY;function gOt(e,t){for(var n=-1,r=e.length;++n<r&&mOt(t,e[n],0)>-1;);return n}var yOt=gOt;function vOt(e){return e.split("")}var bOt=vOt,xOt="\\ud800-\\udfff",wOt="\\u0300-\\u036f",COt="\\ufe20-\\ufe2f",kOt="\\u20d0-\\u20ff",SOt=wOt+COt+kOt,EOt="\\ufe0e\\ufe0f",_Ot="\\u200d",TOt=RegExp("["+_Ot+xOt+SOt+EOt+"]");function AOt(e){return TOt.test(e)}var YIe=AOt,qIe="\\ud800-\\udfff",jOt="\\u0300-\\u036f",IOt="\\ufe20-\\ufe2f",$Ot="\\u20d0-\\u20ff",DOt=jOt+IOt+$Ot,OOt="\\ufe0e\\ufe0f",MOt="["+qIe+"]",wB="["+DOt+"]",CB="\\ud83c[\\udffb-\\udfff]",POt="(?:"+wB+"|"+CB+")",ZIe="[^"+qIe+"]",XIe="(?:\\ud83c[\\udde6-\\uddff]){2}",JIe="[\\ud800-\\udbff][\\udc00-\\udfff]",ROt="\\u200d",QIe=POt+"?",e3e="["+OOt+"]?",FOt="(?:"+ROt+"(?:"+[ZIe,XIe,JIe].join("|")+")"+e3e+QIe+")*",LOt=e3e+QIe+FOt,NOt="(?:"+[ZIe+wB+"?",wB,XIe,JIe,MOt].join("|")+")",BOt=RegExp(CB+"(?="+CB+")|"+NOt+LOt,"g");function VOt(e){return e.match(BOt)||[]}var zOt=VOt,UOt=bOt,HOt=YIe,WOt=zOt;function GOt(e){return HOt(e)?WOt(e):UOt(e)}var t3e=GOt,KOt=jEe,YOt=jwe,qOt=KIe,ZOt=pOt,XOt=yOt,Ase=t3e,JOt=Uc;function QOt(e,t,n){if(e=JOt(e),e&&(n||t===void 0))return YOt(e);if(!e||!(t=KOt(t)))return e;var r=Ase(e),i=Ase(t),o=XOt(r,i),a=ZOt(r,i)+1;return qOt(r,o,a).join("")}var eMt=QOt;const tMt=Ue(eMt);var nMt=cw,rMt=Ky,iMt=qM,oMt=XM,aMt=rMt(function(e){return iMt(nMt(e,1,oMt,!0))}),sMt=aMt;const n3e=Ue(sMt);var lMt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function cMt(e){return e.match(lMt)||[]}var uMt=cMt,dMt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function fMt(e){return dMt.test(e)}var hMt=fMt,r3e="\\ud800-\\udfff",pMt="\\u0300-\\u036f",mMt="\\ufe20-\\ufe2f",gMt="\\u20d0-\\u20ff",yMt=pMt+mMt+gMt,i3e="\\u2700-\\u27bf",o3e="a-z\\xdf-\\xf6\\xf8-\\xff",vMt="\\xac\\xb1\\xd7\\xf7",bMt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",xMt="\\u2000-\\u206f",wMt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",a3e="A-Z\\xc0-\\xd6\\xd8-\\xde",CMt="\\ufe0e\\ufe0f",s3e=vMt+bMt+xMt+wMt,l3e="[']",jse="["+s3e+"]",kMt="["+yMt+"]",c3e="\\d+",SMt="["+i3e+"]",u3e="["+o3e+"]",d3e="[^"+r3e+s3e+c3e+i3e+o3e+a3e+"]",EMt="\\ud83c[\\udffb-\\udfff]",_Mt="(?:"+kMt+"|"+EMt+")",TMt="[^"+r3e+"]",f3e="(?:\\ud83c[\\udde6-\\uddff]){2}",h3e="[\\ud800-\\udbff][\\udc00-\\udfff]",iv="["+a3e+"]",AMt="\\u200d",Ise="(?:"+u3e+"|"+d3e+")",jMt="(?:"+iv+"|"+d3e+")",$se="(?:"+l3e+"(?:d|ll|m|re|s|t|ve))?",Dse="(?:"+l3e+"(?:D|LL|M|RE|S|T|VE))?",p3e=_Mt+"?",m3e="["+CMt+"]?",IMt="(?:"+AMt+"(?:"+[TMt,f3e,h3e].join("|")+")"+m3e+p3e+")*",$Mt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",DMt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",OMt=m3e+p3e+IMt,MMt="(?:"+[SMt,f3e,h3e].join("|")+")"+OMt,PMt=RegExp([iv+"?"+u3e+"+"+$se+"(?="+[jse,iv,"$"].join("|")+")",jMt+"+"+Dse+"(?="+[jse,iv+Ise,"$"].join("|")+")",iv+"?"+Ise+"+"+$se,iv+"+"+Dse,DMt,$Mt,c3e,MMt].join("|"),"g");function RMt(e){return e.match(PMt)||[]}var FMt=RMt,LMt=uMt,NMt=hMt,BMt=Uc,VMt=FMt;function zMt(e,t,n){return e=BMt(e),t=n?void 0:t,t===void 0?NMt(e)?VMt(e):LMt(e):e.match(t)||[]}var g3e=zMt;const y3e=Ue(g3e);function jE(e){const t=typeof window<"u"&&"crypto"in window?window.crypto:globalThis.crypto;if(!t||!t.getRandomValues)throw new Error("WebCrypto not available in this environment");return t.getRandomValues(e)}var v3e=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function UMt(e){for(const t in e)if(!(t==="_type"||t==="_key")&&v3e(e,t)&&!oq(e[t]))return!1;return!0}function HMt(e){for(let t=0;t<e.length;t++)if(!oq(e[t]))return!1;return!0}function oq(e){if(e==null)return!0;const t=typeof e;return Array.isArray(e)?HMt(e):t==="object"?UMt(e):!1}function WMt(e){for(const t in e)if(!(t==="_type"||t==="_key")&&v3e(e,t)&&e[t]!==void 0)return!1;return!0}const GMt=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).slice(1);return e}})();function KMt(e=16){const t=new Uint8Array(e);return jE(t),t}function sP(e){const t=GMt();return KMt(e).reduce((n,r)=>n+t[r],"").slice(0,e)}const YMt=Object.prototype.toString;function qMt(e){switch(YMt.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}if(typeof e=="object"&&e&&typeof e.length=="number")try{if(typeof e.callee=="function")return"arguments"}catch(t){if(t instanceof TypeError)return"arguments"}return e===null?"null":e===void 0?"undefined":e&&e.nodeType===1?"element":e===Object(e)?"object":typeof e}function il(e){const t=qMt(e);if(t!=="object")return t;const n=e;return"_type"in n&&n._type||t}var ZMt=yM,XMt=EY,JMt=_Y,QMt=Gu,ePt=mw,Ose=vM,tPt=Math.min;function nPt(e,t,n){for(var r=n?JMt:XMt,i=e[0].length,o=e.length,a=o,s=Array(o),l=1/0,u=[];a--;){var d=e[a];a&&t&&(d=QMt(d,ePt(t))),l=tPt(d.length,l),s[a]=!n&&(t||i>=120&&d.length>=120)?new ZMt(a&&d):void 0}d=e[0];var f=-1,h=s[0];e:for(;++f<i&&u.length<l;){var m=d[f],g=t?t(m):m;if(m=n||m!==0?m:0,!(h?Ose(h,g):r(u,g,n))){for(a=o;--a;){var y=s[a];if(!(y?Ose(y,g):r(e[a],g,n)))continue e}h&&h.push(g),u.push(m)}}return u}var rPt=nPt,iPt=XM;function oPt(e){return iPt(e)?e:[]}var aPt=oPt,sPt=Gu,lPt=rPt,cPt=Ky,uPt=aPt,dPt=cPt(function(e){var t=sPt(e,uPt);return t.length&&t[0]===e[0]?lPt(t):[]}),fPt=dPt;const u$=Ue(fPt);var hPt=LEe,pPt=yw,mPt=dM,gPt=bo,yPt=mg,vPt=bM,bPt=wM,xPt=tK,wPt="[object Map]",CPt="[object Set]",kPt=Object.prototype,SPt=kPt.hasOwnProperty;function EPt(e){if(e==null)return!0;if(yPt(e)&&(gPt(e)||typeof e=="string"||typeof e.splice=="function"||vPt(e)||xPt(e)||mPt(e)))return!e.length;var t=pPt(e);if(t==wPt||t==CPt)return!e.size;if(bPt(e))return!hPt(e).length;for(var n in e)if(SPt.call(e,n))return!1;return!0}var _Pt=EPt;const TPt=Ue(_Pt);function APt(e,t,n,r){var i=-1,o=e==null?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}var jPt=APt;function IPt(e){return function(t){return e==null?void 0:e[t]}}var b3e=IPt,$Pt=b3e,DPt={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},OPt=$Pt(DPt),MPt=OPt,PPt=MPt,RPt=Uc,FPt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,LPt="\\u0300-\\u036f",NPt="\\ufe20-\\ufe2f",BPt="\\u20d0-\\u20ff",VPt=LPt+NPt+BPt,zPt="["+VPt+"]",UPt=RegExp(zPt,"g");function HPt(e){return e=RPt(e),e&&e.replace(FPt,PPt).replace(UPt,"")}var x3e=HPt;const ax=Ue(x3e);var WPt=jPt,GPt=x3e,KPt=g3e,YPt="[']",qPt=RegExp(YPt,"g");function ZPt(e){return function(t){return WPt(KPt(GPt(t).replace(qPt,"")),e,"")}}var aq=ZPt,XPt=KIe,JPt=YIe,QPt=t3e,eRt=Uc;function tRt(e){return function(t){t=eRt(t);var n=JPt(t)?QPt(t):void 0,r=n?n[0]:t.charAt(0),i=n?XPt(n,1).join(""):t.slice(1);return r[e]()+i}}var nRt=tRt,rRt=nRt,iRt=rRt("toUpperCase"),sq=iRt;const w3e=Ue(sq);var oRt=aq,aRt=sq,sRt=oRt(function(e,t,n){return e+(n?" ":"")+aRt(t)}),lRt=sRt;const Vt=Ue(lRt);var cRt=Uc,uRt=sq;function dRt(e){return uRt(cRt(e).toLowerCase())}var C3e=dRt;const hp=Ue(C3e);function fRt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const lP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Tw(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function lq(e){return"nodeType"in e}function ll(e){var t,n;return e?Tw(e)?e:lq(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function cq(e){const{Document:t}=ll(e);return e instanceof t}function IE(e){return Tw(e)?!1:e instanceof ll(e).HTMLElement}function k3e(e){return e instanceof ll(e).SVGElement}function Aw(e){return e?Tw(e)?e.document:lq(e)?cq(e)?e:IE(e)||k3e(e)?e.ownerDocument:document:document:document}const Jd=lP?p.useLayoutEffect:p.useEffect;function uq(e){const t=p.useRef(e);return Jd(()=>{t.current=e}),p.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function hRt(){const e=p.useRef(null),t=p.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function F2(e,t){t===void 0&&(t=[e]);const n=p.useRef(e);return Jd(()=>{n.current!==e&&(n.current=e)},t),n}function $E(e,t){const n=p.useRef();return p.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function d$(e){const t=uq(e),n=p.useRef(null),r=p.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function kB(e){const t=p.useRef();return p.useEffect(()=>{t.current=e},[e]),t.current}let O8={};function DE(e,t){return p.useMemo(()=>{if(t)return t;const n=O8[e]==null?0:O8[e]+1;return O8[e]=n,e+"-"+n},[e,t])}function S3e(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((o,a)=>{const s=Object.entries(a);for(const[l,u]of s){const d=o[l];d!=null&&(o[l]=d+e*u)}return o},{...t})}}const wb=S3e(1),L2=S3e(-1);function pRt(e){return"clientX"in e&&"clientY"in e}function dq(e){if(!e)return!1;const{KeyboardEvent:t}=ll(e.target);return t&&e instanceof t}function mRt(e){if(!e)return!1;const{TouchEvent:t}=ll(e.target);return t&&e instanceof t}function SB(e){if(mRt(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return pRt(e)?{x:e.clientX,y:e.clientY}:null}const N2=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[N2.Translate.toString(e),N2.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Mse="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function gRt(e){return e.matches(Mse)?e:e.querySelector(Mse)}const yRt={display:"none"};function vRt(e){let{id:t,value:n}=e;return Fe.createElement("div",{id:t,style:yRt},n)}function bRt(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Fe.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function xRt(){const[e,t]=p.useState("");return{announce:p.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const E3e=p.createContext(null);function wRt(e){const t=p.useContext(E3e);p.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function CRt(){const[e]=p.useState(()=>new Set),t=p.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[p.useCallback(r=>{let{type:i,event:o}=r;e.forEach(a=>{var s;return(s=a[i])==null?void 0:s.call(a,o)})},[e]),t]}const kRt={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},SRt={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function ERt(e){let{announcements:t=SRt,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=kRt}=e;const{announce:o,announcement:a}=xRt(),s=DE("DndLiveRegion"),[l,u]=p.useState(!1);if(p.useEffect(()=>{u(!0)},[]),wRt(p.useMemo(()=>({onDragStart(f){let{active:h}=f;o(t.onDragStart({active:h}))},onDragMove(f){let{active:h,over:m}=f;t.onDragMove&&o(t.onDragMove({active:h,over:m}))},onDragOver(f){let{active:h,over:m}=f;o(t.onDragOver({active:h,over:m}))},onDragEnd(f){let{active:h,over:m}=f;o(t.onDragEnd({active:h,over:m}))},onDragCancel(f){let{active:h,over:m}=f;o(t.onDragCancel({active:h,over:m}))}}),[o,t])),!l)return null;const d=Fe.createElement(Fe.Fragment,null,Fe.createElement(vRt,{id:r,value:i.draggable}),Fe.createElement(bRt,{id:s,announcement:a}));return n?th.createPortal(d,n):d}var Ho;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Ho||(Ho={}));function f$(){}function Pse(e,t){return p.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function _Rt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const zu=Object.freeze({x:0,y:0});function _3e(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function T3e(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function TRt(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Rse(e){let{left:t,top:n,height:r,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+r},{x:t+i,y:n+r}]}function A3e(e,t){if(!e||e.length===0)return null;const[n]=e;return t?n[t]:n}function Fse(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const ARt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=Fse(t,t.left,t.top),o=[];for(const a of r){const{id:s}=a,l=n.get(s);if(l){const u=_3e(Fse(l),i);o.push({id:s,data:{droppableContainer:a,value:u}})}}return o.sort(T3e)},jRt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=Rse(t),o=[];for(const a of r){const{id:s}=a,l=n.get(s);if(l){const u=Rse(l),d=i.reduce((h,m,g)=>h+_3e(u[g],m),0),f=Number((d/4).toFixed(4));o.push({id:s,data:{droppableContainer:a,value:f}})}}return o.sort(T3e)};function IRt(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),a=i-r,s=o-n;if(r<i&&n<o){const l=t.width*t.height,u=e.width*e.height,d=a*s,f=d/(l+u-d);return Number(f.toFixed(4))}return 0}const $Rt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const o of r){const{id:a}=o,s=n.get(a);if(s){const l=IRt(s,t);l>0&&i.push({id:a,data:{droppableContainer:o,value:l}})}}return i.sort(TRt)};function DRt(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function j3e(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:zu}function ORt(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((a,s)=>({...a,top:a.top+e*s.y,bottom:a.bottom+e*s.y,left:a.left+e*s.x,right:a.right+e*s.x}),{...n})}}const MRt=ORt(1);function PRt(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function RRt(e,t,n){const r=PRt(t);if(!r)return e;const{scaleX:i,scaleY:o,x:a,y:s}=r,l=e.left-a-(1-i)*parseFloat(n),u=e.top-s-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),d=i?e.width/i:e.width,f=o?e.height/o:e.height;return{width:d,height:f,top:u,right:l+d,bottom:u+f,left:l}}const FRt={ignoreTransform:!1};function jw(e,t){t===void 0&&(t=FRt);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=ll(e).getComputedStyle(e);u&&(n=RRt(n,u,d))}const{top:r,left:i,width:o,height:a,bottom:s,right:l}=n;return{top:r,left:i,width:o,height:a,bottom:s,right:l}}function Lse(e){return jw(e,{ignoreTransform:!0})}function LRt(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function NRt(e,t){return t===void 0&&(t=ll(e).getComputedStyle(e)),t.position==="fixed"}function BRt(e,t){t===void 0&&(t=ll(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const o=t[i];return typeof o=="string"?n.test(o):!1})}function cP(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(cq(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!IE(i)||k3e(i)||n.includes(i))return n;const o=ll(e).getComputedStyle(i);return i!==e&&BRt(i,o)&&n.push(i),NRt(i,o)?n:r(i.parentNode)}return e?r(e):n}function I3e(e){const[t]=cP(e,1);return t??null}function M8(e){return!lP||!e?null:Tw(e)?e:lq(e)?cq(e)||e===Aw(e).scrollingElement?window:IE(e)?e:null:null}function $3e(e){return Tw(e)?e.scrollX:e.scrollLeft}function D3e(e){return Tw(e)?e.scrollY:e.scrollTop}function EB(e){return{x:$3e(e),y:D3e(e)}}var oa;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(oa||(oa={}));function O3e(e){return!lP||!e?!1:e===document.scrollingElement}function M3e(e){const t={x:0,y:0},n=O3e(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,a=e.scrollTop>=r.y,s=e.scrollLeft>=r.x;return{isTop:i,isLeft:o,isBottom:a,isRight:s,maxScroll:r,minScroll:t}}const VRt={x:.2,y:.2};function zRt(e,t,n,r,i){let{top:o,left:a,right:s,bottom:l}=n;r===void 0&&(r=10),i===void 0&&(i=VRt);const{isTop:u,isBottom:d,isLeft:f,isRight:h}=M3e(e),m={x:0,y:0},g={x:0,y:0},y={height:t.height*i.y,width:t.width*i.x};return!u&&o<=t.top+y.height?(m.y=oa.Backward,g.y=r*Math.abs((t.top+y.height-o)/y.height)):!d&&l>=t.bottom-y.height&&(m.y=oa.Forward,g.y=r*Math.abs((t.bottom-y.height-l)/y.height)),!h&&s>=t.right-y.width?(m.x=oa.Forward,g.x=r*Math.abs((t.right-y.width-s)/y.width)):!f&&a<=t.left+y.width&&(m.x=oa.Backward,g.x=r*Math.abs((t.left+y.width-a)/y.width)),{direction:m,speed:g}}function URt(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:a}=window;return{top:0,left:0,right:o,bottom:a,width:o,height:a}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function P3e(e){return e.reduce((t,n)=>wb(t,EB(n)),zu)}function HRt(e){return e.reduce((t,n)=>t+$3e(n),0)}function WRt(e){return e.reduce((t,n)=>t+D3e(n),0)}function GRt(e,t){if(t===void 0&&(t=jw),!e)return;const{top:n,left:r,bottom:i,right:o}=t(e);I3e(e)&&(i<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const KRt=[["x",["left","right"],HRt],["y",["top","bottom"],WRt]];let fq=class{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=cP(n),i=P3e(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,a,s]of KRt)for(const l of a)Object.defineProperty(this,l,{get:()=>{const u=s(r),d=i[o]-u;return this.rect[l]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}};class kS{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function YRt(e){const{EventTarget:t}=ll(e);return e instanceof t?e:Aw(e)}function P8(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var sc;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(sc||(sc={}));function Nse(e){e.preventDefault()}function qRt(e){e.stopPropagation()}var Rn;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Rn||(Rn={}));const R3e={start:[Rn.Space,Rn.Enter],cancel:[Rn.Esc],end:[Rn.Space,Rn.Enter,Rn.Tab]},ZRt=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Rn.Right:return{...n,x:n.x+25};case Rn.Left:return{...n,x:n.x-25};case Rn.Down:return{...n,y:n.y+25};case Rn.Up:return{...n,y:n.y-25}}};class hq{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new kS(Aw(n)),this.windowListeners=new kS(ll(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(sc.Resize,this.handleCancel),this.windowListeners.add(sc.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(sc.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&GRt(r),n(zu)}handleKeyDown(t){if(dq(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:o=R3e,coordinateGetter:a=ZRt,scrollBehavior:s="smooth"}=i,{code:l}=t;if(o.end.includes(l)){this.handleEnd(t);return}if(o.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:zu;this.referenceCoordinates||(this.referenceCoordinates=d);const f=a(t,{active:n,context:r.current,currentCoordinates:d});if(f){const h=L2(f,d),m={x:0,y:0},{scrollableAncestors:g}=r.current;for(const y of g){const x=t.code,{isTop:b,isRight:v,isLeft:w,isBottom:C,maxScroll:k,minScroll:S}=M3e(y),E=URt(y),_={x:Math.min(x===Rn.Right?E.right-E.width/2:E.right,Math.max(x===Rn.Right?E.left:E.left+E.width/2,f.x)),y:Math.min(x===Rn.Down?E.bottom-E.height/2:E.bottom,Math.max(x===Rn.Down?E.top:E.top+E.height/2,f.y))},T=x===Rn.Right&&!v||x===Rn.Left&&!w,A=x===Rn.Down&&!C||x===Rn.Up&&!b;if(T&&_.x!==f.x){const I=y.scrollLeft+h.x,j=x===Rn.Right&&I<=k.x||x===Rn.Left&&I>=S.x;if(j&&!h.y){y.scrollTo({left:I,behavior:s});return}j?m.x=y.scrollLeft-I:m.x=x===Rn.Right?y.scrollLeft-k.x:y.scrollLeft-S.x,m.x&&y.scrollBy({left:-m.x,behavior:s});break}else if(A&&_.y!==f.y){const I=y.scrollTop+h.y,j=x===Rn.Down&&I<=k.y||x===Rn.Up&&I>=S.y;if(j&&!h.x){y.scrollTo({top:I,behavior:s});return}j?m.y=y.scrollTop-I:m.y=x===Rn.Down?y.scrollTop-k.y:y.scrollTop-S.y,m.y&&y.scrollBy({top:-m.y,behavior:s});break}}this.handleMove(t,wb(L2(f,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}hq.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=R3e,onActivation:i}=t,{active:o}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const s=o.activatorNode.current;return s&&e.target!==s?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function Bse(e){return!!(e&&"distance"in e)}function Vse(e){return!!(e&&"delay"in e)}class pq{constructor(t,n,r){var i;r===void 0&&(r=YRt(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:a}=o;this.props=t,this.events=n,this.document=Aw(a),this.documentListeners=new kS(this.document),this.listeners=new kS(r),this.windowListeners=new kS(ll(a)),this.initialCoordinates=(i=SB(o))!=null?i:zu,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(sc.Resize,this.handleCancel),this.windowListeners.add(sc.DragStart,Nse),this.windowListeners.add(sc.VisibilityChange,this.handleCancel),this.windowListeners.add(sc.ContextMenu,Nse),this.documentListeners.add(sc.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Vse(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Bse(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(sc.Click,qRt,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(sc.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:o}=this,{onMove:a,options:{activationConstraint:s}}=o;if(!i)return;const l=(n=SB(t))!=null?n:zu,u=L2(i,l);if(!r&&s){if(Bse(s)){if(s.tolerance!=null&&P8(u,s.tolerance))return this.handleCancel();if(P8(u,s.distance))return this.handleStart()}if(Vse(s)&&P8(u,s.tolerance))return this.handleCancel();this.handlePending(s,u);return}t.cancelable&&t.preventDefault(),a(l)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Rn.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const XRt={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class mq extends pq{constructor(t){const{event:n}=t,r=Aw(n.target);super(t,XRt,r)}}mq.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const JRt={move:{name:"mousemove"},end:{name:"mouseup"}};var _B;(function(e){e[e.RightClick=2]="RightClick"})(_B||(_B={}));class QRt extends pq{constructor(t){super(t,JRt,Aw(t.event.target))}}QRt.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===_B.RightClick?!1:(r==null||r({event:n}),!0)}}];const R8={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class e4t extends pq{constructor(t){super(t,R8)}static setup(){return window.addEventListener(R8.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(R8.move.name,t)};function t(){}}}e4t.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var SS;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(SS||(SS={}));var h$;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(h$||(h$={}));function t4t(e){let{acceleration:t,activator:n=SS.Pointer,canScroll:r,draggingRect:i,enabled:o,interval:a=5,order:s=h$.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:h}=e;const m=r4t({delta:f,disabled:!o}),[g,y]=hRt(),x=p.useRef({x:0,y:0}),b=p.useRef({x:0,y:0}),v=p.useMemo(()=>{switch(n){case SS.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case SS.DraggableRect:return i}},[n,i,l]),w=p.useRef(null),C=p.useCallback(()=>{const S=w.current;if(!S)return;const E=x.current.x*b.current.x,_=x.current.y*b.current.y;S.scrollBy(E,_)},[]),k=p.useMemo(()=>s===h$.TreeOrder?[...u].reverse():u,[s,u]);p.useEffect(()=>{if(!o||!u.length||!v){y();return}for(const S of k){if((r==null?void 0:r(S))===!1)continue;const E=u.indexOf(S),_=d[E];if(!_)continue;const{direction:T,speed:A}=zRt(S,_,v,t,h);for(const I of["x","y"])m[I][T[I]]||(A[I]=0,T[I]=0);if(A.x>0||A.y>0){y(),w.current=S,g(C,a),x.current=A,b.current=T;return}}x.current={x:0,y:0},b.current={x:0,y:0},y()},[t,C,r,y,o,a,JSON.stringify(v),JSON.stringify(m),g,u,k,d,JSON.stringify(h)])}const n4t={x:{[oa.Backward]:!1,[oa.Forward]:!1},y:{[oa.Backward]:!1,[oa.Forward]:!1}};function r4t(e){let{delta:t,disabled:n}=e;const r=kB(t);return $E(i=>{if(n||!r||!i)return n4t;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[oa.Backward]:i.x[oa.Backward]||o.x===-1,[oa.Forward]:i.x[oa.Forward]||o.x===1},y:{[oa.Backward]:i.y[oa.Backward]||o.y===-1,[oa.Forward]:i.y[oa.Forward]||o.y===1}}},[n,t,r])}function i4t(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return $E(i=>{var o;return t==null?null:(o=r??i)!=null?o:null},[r,t])}function o4t(e,t){return p.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,o=i.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,r)}));return[...n,...o]},[]),[e,t])}var B2;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(B2||(B2={}));var TB;(function(e){e.Optimized="optimized"})(TB||(TB={}));const zse=new Map;function a4t(e,t){let{dragging:n,dependencies:r,config:i}=t;const[o,a]=p.useState(null),{frequency:s,measure:l,strategy:u}=i,d=p.useRef(e),f=x(),h=F2(f),m=p.useCallback(function(b){b===void 0&&(b=[]),!h.current&&a(v=>v===null?b:v.concat(b.filter(w=>!v.includes(w))))},[h]),g=p.useRef(null),y=$E(b=>{if(f&&!n)return zse;if(!b||b===zse||d.current!==e||o!=null){const v=new Map;for(let w of e){if(!w)continue;if(o&&o.length>0&&!o.includes(w.id)&&w.rect.current){v.set(w.id,w.rect.current);continue}const C=w.node.current,k=C?new fq(l(C),C):null;w.rect.current=k,k&&v.set(w.id,k)}return v}return b},[e,o,n,f,l]);return p.useEffect(()=>{d.current=e},[e]),p.useEffect(()=>{f||m()},[n,f]),p.useEffect(()=>{o&&o.length>0&&a(null)},[JSON.stringify(o)]),p.useEffect(()=>{f||typeof s!="number"||g.current!==null||(g.current=setTimeout(()=>{m(),g.current=null},s))},[s,f,m,...r]),{droppableRects:y,measureDroppableContainers:m,measuringScheduled:o!=null};function x(){switch(u){case B2.Always:return!1;case B2.BeforeDragging:return n;default:return!n}}}function F3e(e,t){return $E(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function s4t(e,t){return F3e(e,t)}function l4t(e){let{callback:t,disabled:n}=e;const r=uq(t),i=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return p.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function uP(e){let{callback:t,disabled:n}=e;const r=uq(t),i=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return p.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function c4t(e){return new fq(jw(e),e)}function Use(e,t,n){t===void 0&&(t=c4t);const[r,i]=p.useState(null);function o(){i(l=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=l??n)!=null?u:null}const d=t(e);return JSON.stringify(l)===JSON.stringify(d)?l:d})}const a=l4t({callback(l){if(e)for(const u of l){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){o();break}}}}),s=uP({callback:o});return Jd(()=>{o(),e?(s==null||s.observe(e),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),a==null||a.disconnect())},[e]),r}function u4t(e){const t=F3e(e);return j3e(e,t)}const Hse=[];function d4t(e){const t=p.useRef(e),n=$E(r=>e?r&&r!==Hse&&e&&t.current&&e.parentNode===t.current.parentNode?r:cP(e):Hse,[e]);return p.useEffect(()=>{t.current=e},[e]),n}function f4t(e){const[t,n]=p.useState(null),r=p.useRef(e),i=p.useCallback(o=>{const a=M8(o.target);a&&n(s=>s?(s.set(a,EB(a)),new Map(s)):null)},[]);return p.useEffect(()=>{const o=r.current;if(e!==o){a(o);const s=e.map(l=>{const u=M8(l);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,EB(u)]):null}).filter(l=>l!=null);n(s.length?new Map(s):null),r.current=e}return()=>{a(e),a(o)};function a(s){s.forEach(l=>{const u=M8(l);u==null||u.removeEventListener("scroll",i)})}},[i,e]),p.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,a)=>wb(o,a),zu):P3e(e):zu,[e,t])}function Wse(e,t){t===void 0&&(t=[]);const n=p.useRef(null);return p.useEffect(()=>{n.current=null},t),p.useEffect(()=>{const r=e!==zu;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?L2(e,n.current):zu}function h4t(e){p.useEffect(()=>{if(!lP)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function p4t(e,t){return p.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:o}=r;return n[i]=a=>{o(a,t)},n},{}),[e,t])}function L3e(e){return p.useMemo(()=>e?LRt(e):null,[e])}const Gse=[];function m4t(e,t){t===void 0&&(t=jw);const[n]=e,r=L3e(n?ll(n):null),[i,o]=p.useState(Gse);function a(){o(()=>e.length?e.map(l=>O3e(l)?r:new fq(t(l),l)):Gse)}const s=uP({callback:a});return Jd(()=>{s==null||s.disconnect(),a(),e.forEach(l=>s==null?void 0:s.observe(l))},[e]),i}function g4t(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return IE(t)?t:e}function y4t(e){let{measure:t}=e;const[n,r]=p.useState(null),i=p.useCallback(u=>{for(const{target:d}of u)if(IE(d)){r(f=>{const h=t(d);return f?{...f,width:h.width,height:h.height}:h});break}},[t]),o=uP({callback:i}),a=p.useCallback(u=>{const d=g4t(u);o==null||o.disconnect(),d&&(o==null||o.observe(d)),r(d?t(d):null)},[t,o]),[s,l]=d$(a);return p.useMemo(()=>({nodeRef:s,rect:n,setRef:l}),[n,s,l])}const v4t=[{sensor:mq,options:{}},{sensor:hq,options:{}}],b4t={current:{}},eI={draggable:{measure:Lse},droppable:{measure:Lse,strategy:B2.WhileDragging,frequency:TB.Optimized},dragOverlay:{measure:jw}};class ES extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const x4t={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ES,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:f$},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:eI,measureDroppableContainers:f$,windowRect:null,measuringScheduled:!1},w4t={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:f$,draggableNodes:new Map,over:null,measureDroppableContainers:f$},dP=p.createContext(w4t),N3e=p.createContext(x4t);function C4t(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ES}}}function k4t(e,t){switch(t.type){case Ho.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Ho.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Ho.DragEnd:case Ho.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ho.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new ES(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case Ho.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const a=new ES(e.droppable.containers);return a.set(n,{...o,disabled:i}),{...e,droppable:{...e.droppable,containers:a}}}case Ho.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new ES(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function S4t(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=p.useContext(dP),o=kB(r),a=kB(n==null?void 0:n.id);return p.useEffect(()=>{if(!t&&!r&&o&&a!=null){if(!dq(o)||document.activeElement===o.target)return;const s=i.get(a);if(!s)return;const{activatorNode:l,node:u}=s;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[l.current,u.current]){if(!d)continue;const f=gRt(d);if(f){f.focus();break}}})}},[r,t,i,a,o]),null}function E4t(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,o)=>o({transform:i,...r}),n):n}function _4t(e){return p.useMemo(()=>({draggable:{...eI.draggable,...e==null?void 0:e.draggable},droppable:{...eI.droppable,...e==null?void 0:e.droppable},dragOverlay:{...eI.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function T4t(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const o=p.useRef(!1),{x:a,y:s}=typeof i=="boolean"?{x:i,y:i}:i;Jd(()=>{if(!a&&!s||!t){o.current=!1;return}if(o.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=j3e(d,r);if(a||(f.x=0),s||(f.y=0),o.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=I3e(u);h&&h.scrollBy({top:f.y,left:f.x})}},[t,a,s,r,n])}const B3e=p.createContext({...zu,scaleX:1,scaleY:1});var zp;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(zp||(zp={}));const A4t=p.memo(function(t){var n,r,i,o;let{id:a,accessibility:s,autoScroll:l=!0,children:u,sensors:d=v4t,collisionDetection:f=$Rt,measuring:h,modifiers:m,...g}=t;const y=p.useReducer(k4t,void 0,C4t),[x,b]=y,[v,w]=CRt(),[C,k]=p.useState(zp.Uninitialized),S=C===zp.Initialized,{draggable:{active:E,nodes:_,translate:T},droppable:{containers:A}}=x,I=E!=null?_.get(E):null,j=p.useRef({initial:null,translated:null}),$=p.useMemo(()=>{var kn;return E!=null?{id:E,data:(kn=I==null?void 0:I.data)!=null?kn:b4t,rect:j}:null},[E,I]),D=p.useRef(null),[O,M]=p.useState(null),[P,F]=p.useState(null),L=F2(g,Object.values(g)),U=DE("DndDescribedBy",a),H=p.useMemo(()=>A.getEnabled(),[A]),N=_4t(h),{droppableRects:Y,measureDroppableContainers:J,measuringScheduled:ee}=a4t(H,{dragging:S,dependencies:[T.x,T.y],config:N.droppable}),oe=i4t(_,E),re=p.useMemo(()=>P?SB(P):null,[P]),se=tn(),G=s4t(oe,N.draggable.measure);T4t({activeNode:E!=null?_.get(E):null,config:se.layoutShiftCompensation,initialRect:G,measure:N.draggable.measure});const K=Use(oe,N.draggable.measure,G),q=Use(oe?oe.parentElement:null),X=p.useRef({activatorEvent:null,active:null,activeNode:oe,collisionRect:null,collisions:null,droppableRects:Y,draggableNodes:_,draggingNode:null,draggingNodeRect:null,droppableContainers:A,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ie=A.getNodeFor((n=X.current.over)==null?void 0:n.id),te=y4t({measure:N.dragOverlay.measure}),de=(r=te.nodeRef.current)!=null?r:oe,pe=S?(i=te.rect)!=null?i:K:null,ve=!!(te.nodeRef.current&&te.rect),Ce=u4t(ve?null:K),xe=L3e(de?ll(de):null),Ae=d4t(S?ie??oe:null),Re=m4t(Ae),we=E4t(m,{transform:{x:T.x-Ce.x,y:T.y-Ce.y,scaleX:1,scaleY:1},activatorEvent:P,active:$,activeNodeRect:K,containerNodeRect:q,draggingNodeRect:pe,over:X.current.over,overlayNodeRect:te.rect,scrollableAncestors:Ae,scrollableAncestorRects:Re,windowRect:xe}),ye=re?wb(re,T):null,ke=f4t(Ae),be=Wse(ke),Ee=Wse(ke,[K]),ce=wb(we,be),_e=pe?MRt(pe,we):null,Ie=$&&_e?f({active:$,collisionRect:_e,droppableRects:Y,droppableContainers:H,pointerCoordinates:ye}):null,Me=A3e(Ie,"id"),[Le,et]=p.useState(null),Ct=ve?we:wb(we,Ee),Ge=DRt(Ct,(o=Le==null?void 0:Le.rect)!=null?o:null,K),We=p.useRef(null),ct=p.useCallback((kn,rt)=>{let{sensor:$t,options:Yn}=rt;if(D.current==null)return;const dn=_.get(D.current);if(!dn)return;const ii=kn.nativeEvent,Mi=new $t({active:D.current,activeNode:dn,event:ii,options:Yn,context:X,onAbort(Er){if(!_.get(Er))return;const{onDragAbort:ul}=L.current,Ls={id:Er};ul==null||ul(Ls),v({type:"onDragAbort",event:Ls})},onPending(Er,os,ul,Ls){if(!_.get(Er))return;const{onDragPending:Cp}=L.current,eu={id:Er,constraint:os,initialCoordinates:ul,offset:Ls};Cp==null||Cp(eu),v({type:"onDragPending",event:eu})},onStart(Er){const os=D.current;if(os==null)return;const ul=_.get(os);if(!ul)return;const{onDragStart:Ls}=L.current,wp={activatorEvent:ii,active:{id:os,data:ul.data,rect:j}};th.unstable_batchedUpdates(()=>{Ls==null||Ls(wp),k(zp.Initializing),b({type:Ho.DragStart,initialCoordinates:Er,active:os}),v({type:"onDragStart",event:wp}),M(We.current),F(ii)})},onMove(Er){b({type:Ho.DragMove,coordinates:Er})},onEnd:Fs(Ho.DragEnd),onCancel:Fs(Ho.DragCancel)});We.current=Mi;function Fs(Er){return async function(){const{active:ul,collisions:Ls,over:wp,scrollAdjustedTranslate:Cp}=X.current;let eu=null;if(ul&&Cp){const{cancelDrop:kf}=L.current;eu={activatorEvent:ii,active:ul,collisions:Ls,delta:Cp,over:wp},Er===Ho.DragEnd&&typeof kf=="function"&&await Promise.resolve(kf(eu))&&(Er=Ho.DragCancel)}D.current=null,th.unstable_batchedUpdates(()=>{b({type:Er}),k(zp.Uninitialized),et(null),M(null),F(null),We.current=null;const kf=Er===Ho.DragEnd?"onDragEnd":"onDragCancel";if(eu){const vC=L.current[kf];vC==null||vC(eu),v({type:kf,event:eu})}})}}},[_]),qe=p.useCallback((kn,rt)=>($t,Yn)=>{const dn=$t.nativeEvent,ii=_.get(Yn);if(D.current!==null||!ii||dn.dndKit||dn.defaultPrevented)return;const Mi={active:ii};kn($t,rt.options,Mi)===!0&&(dn.dndKit={capturedBy:rt.sensor},D.current=Yn,ct($t,rt))},[_,ct]),Zt=o4t(d,qe);h4t(d),Jd(()=>{K&&C===zp.Initializing&&k(zp.Initialized)},[K,C]),p.useEffect(()=>{const{onDragMove:kn}=L.current,{active:rt,activatorEvent:$t,collisions:Yn,over:dn}=X.current;if(!rt||!$t)return;const ii={active:rt,activatorEvent:$t,collisions:Yn,delta:{x:ce.x,y:ce.y},over:dn};th.unstable_batchedUpdates(()=>{kn==null||kn(ii),v({type:"onDragMove",event:ii})})},[ce.x,ce.y]),p.useEffect(()=>{const{active:kn,activatorEvent:rt,collisions:$t,droppableContainers:Yn,scrollAdjustedTranslate:dn}=X.current;if(!kn||D.current==null||!rt||!dn)return;const{onDragOver:ii}=L.current,Mi=Yn.get(Me),Fs=Mi&&Mi.rect.current?{id:Mi.id,rect:Mi.rect.current,data:Mi.data,disabled:Mi.disabled}:null,Er={active:kn,activatorEvent:rt,collisions:$t,delta:{x:dn.x,y:dn.y},over:Fs};th.unstable_batchedUpdates(()=>{et(Fs),ii==null||ii(Er),v({type:"onDragOver",event:Er})})},[Me]),Jd(()=>{X.current={activatorEvent:P,active:$,activeNode:oe,collisionRect:_e,collisions:Ie,droppableRects:Y,draggableNodes:_,draggingNode:de,draggingNodeRect:pe,droppableContainers:A,over:Le,scrollableAncestors:Ae,scrollAdjustedTranslate:ce},j.current={initial:pe,translated:_e}},[$,oe,Ie,_e,_,de,pe,Y,A,Le,Ae,ce]),t4t({...se,delta:T,draggingRect:_e,pointerCoordinates:ye,scrollableAncestors:Ae,scrollableAncestorRects:Re});const Ur=p.useMemo(()=>({active:$,activeNode:oe,activeNodeRect:K,activatorEvent:P,collisions:Ie,containerNodeRect:q,dragOverlay:te,draggableNodes:_,droppableContainers:A,droppableRects:Y,over:Le,measureDroppableContainers:J,scrollableAncestors:Ae,scrollableAncestorRects:Re,measuringConfiguration:N,measuringScheduled:ee,windowRect:xe}),[$,oe,K,P,Ie,q,te,_,A,Y,Le,J,Ae,Re,N,ee,xe]),ro=p.useMemo(()=>({activatorEvent:P,activators:Zt,active:$,activeNodeRect:K,ariaDescribedById:{draggable:U},dispatch:b,draggableNodes:_,over:Le,measureDroppableContainers:J}),[P,Zt,$,K,b,U,_,Le,J]);return Fe.createElement(E3e.Provider,{value:w},Fe.createElement(dP.Provider,{value:ro},Fe.createElement(N3e.Provider,{value:Ur},Fe.createElement(B3e.Provider,{value:Ge},u)),Fe.createElement(S4t,{disabled:(s==null?void 0:s.restoreFocus)===!1})),Fe.createElement(ERt,{...s,hiddenTextDescribedById:U}));function tn(){const kn=(O==null?void 0:O.autoScrollEnabled)===!1,rt=typeof l=="object"?l.enabled===!1:l===!1,$t=S&&!kn&&!rt;return typeof l=="object"?{...l,enabled:$t}:{enabled:$t}}}),j4t=p.createContext(null),Kse="button",I4t="Draggable";function $4t(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const o=DE(I4t),{activators:a,activatorEvent:s,active:l,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:h}=p.useContext(dP),{role:m=Kse,roleDescription:g="draggable",tabIndex:y=0}=i??{},x=(l==null?void 0:l.id)===t,b=p.useContext(x?B3e:j4t),[v,w]=d$(),[C,k]=d$(),S=p4t(a,t),E=F2(n);Jd(()=>(f.set(t,{id:t,key:o,node:v,activatorNode:C,data:E}),()=>{const T=f.get(t);T&&T.key===o&&f.delete(t)}),[f,t]);const _=p.useMemo(()=>({role:m,tabIndex:y,"aria-disabled":r,"aria-pressed":x&&m===Kse?!0:void 0,"aria-roledescription":g,"aria-describedby":d.draggable}),[r,m,y,x,g,d.draggable]);return{active:l,activatorEvent:s,activeNodeRect:u,attributes:_,isDragging:x,listeners:r?void 0:S,node:v,over:h,setNodeRef:w,setActivatorNodeRef:k,transform:b}}function D4t(){return p.useContext(N3e)}const O4t="Droppable",M4t={timeout:25};function P4t(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const o=DE(O4t),{active:a,dispatch:s,over:l,measureDroppableContainers:u}=p.useContext(dP),d=p.useRef({disabled:n}),f=p.useRef(!1),h=p.useRef(null),m=p.useRef(null),{disabled:g,updateMeasurementsFor:y,timeout:x}={...M4t,...i},b=F2(y??r),v=p.useCallback(()=>{if(!f.current){f.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(b.current)?b.current:[b.current]),m.current=null},x)},[x]),w=uP({callback:v,disabled:g||!a}),C=p.useCallback((_,T)=>{w&&(T&&(w.unobserve(T),f.current=!1),_&&w.observe(_))},[w]),[k,S]=d$(C),E=F2(t);return p.useEffect(()=>{!w||!k.current||(w.disconnect(),f.current=!1,w.observe(k.current))},[k,w]),p.useEffect(()=>(s({type:Ho.RegisterDroppable,element:{id:r,key:o,disabled:n,node:k,rect:h,data:E}}),()=>s({type:Ho.UnregisterDroppable,key:o,id:r})),[r]),p.useEffect(()=>{n!==d.current.disabled&&(s({type:Ho.SetDroppableDisabled,id:r,key:o,disabled:n}),d.current.disabled=n)},[r,o,n,s]),{active:a,rect:h,isOver:(l==null?void 0:l.id)===r,node:k,over:l,setNodeRef:S}}const R4t=e=>{let{transform:t}=e;return{...t,y:0}},F4t=e=>{let{transform:t}=e;return{...t,x:0}};function V3e(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function L4t(e,t){return e.reduce((n,r,i)=>{const o=t.get(r);return o&&(n[i]=o),n},Array(e.length))}function FT(e){return e!==null&&e>=0}function N4t(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function B4t(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const LT={scaleX:1,scaleY:1},V4t=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:i,overIndex:o,index:a}=e;const s=(t=n[i])!=null?t:r;if(!s)return null;const l=z4t(n,a,i);if(a===i){const u=n[o];return u?{x:i<o?u.left+u.width-(s.left+s.width):u.left-s.left,y:0,...LT}:null}return a>i&&a<=o?{x:-s.width-l,y:0,...LT}:a<i&&a>=o?{x:s.width+l,y:0,...LT}:{x:0,y:0,...LT}};function z4t(e,t,n){const r=e[t],i=e[t-1],o=e[t+1];return!r||!i&&!o?0:n<t?i?r.left-(i.left+i.width):o.left-(r.left+r.width):o?o.left-(r.left+r.width):r.left-(i.left+i.width)}const z3e=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const o=V3e(t,r,n),a=t[i],s=o[i];return!s||!a?null:{x:s.left-a.left,y:s.top-a.top,scaleX:s.width/a.width,scaleY:s.height/a.height}},NT={scaleX:1,scaleY:1},U4t=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:o,overIndex:a}=e;const s=(t=o[n])!=null?t:r;if(!s)return null;if(i===n){const u=o[a];return u?{x:0,y:n<a?u.top+u.height-(s.top+s.height):u.top-s.top,...NT}:null}const l=H4t(o,i,n);return i>n&&i<=a?{x:0,y:-s.height-l,...NT}:i<n&&i>=a?{x:0,y:s.height+l,...NT}:{x:0,y:0,...NT}};function H4t(e,t,n){const r=e[t],i=e[t-1],o=e[t+1];return r?n<t?i?r.top-(i.top+i.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const U3e="Sortable",H3e=Fe.createContext({activeIndex:-1,containerId:U3e,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:z3e,disabled:{draggable:!1,droppable:!1}});function W4t(e){let{children:t,id:n,items:r,strategy:i=z3e,disabled:o=!1}=e;const{active:a,dragOverlay:s,droppableRects:l,over:u,measureDroppableContainers:d}=D4t(),f=DE(U3e,n),h=s.rect!==null,m=p.useMemo(()=>r.map(S=>typeof S=="object"&&"id"in S?S.id:S),[r]),g=a!=null,y=a?m.indexOf(a.id):-1,x=u?m.indexOf(u.id):-1,b=p.useRef(m),v=!N4t(m,b.current),w=x!==-1&&y===-1||v,C=B4t(o);Jd(()=>{v&&g&&d(m)},[v,m,g,d]),p.useEffect(()=>{b.current=m},[m]);const k=p.useMemo(()=>({activeIndex:y,containerId:f,disabled:C,disableTransforms:w,items:m,overIndex:x,useDragOverlay:h,sortedRects:L4t(m,l),strategy:i}),[y,f,C.draggable,C.droppable,w,m,x,l,h,i]);return Fe.createElement(H3e.Provider,{value:k},t)}const G4t=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return V3e(n,r,i).indexOf(t)},K4t=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:o,newIndex:a,previousItems:s,previousContainerId:l,transition:u}=e;return!u||!r||s!==o&&i===a?!1:n?!0:a!==i&&t===l},Y4t={duration:200,easing:"ease"},W3e="transform",q4t=N2.Transition.toString({property:W3e,duration:0,easing:"linear"}),Z4t={roleDescription:"sortable"};function X4t(e){let{disabled:t,index:n,node:r,rect:i}=e;const[o,a]=p.useState(null),s=p.useRef(n);return Jd(()=>{if(!t&&n!==s.current&&r.current){const l=i.current;if(l){const u=jw(r.current,{ignoreTransform:!0}),d={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(d.x||d.y)&&a(d)}}n!==s.current&&(s.current=n)},[t,n,r,i]),p.useEffect(()=>{o&&a(null)},[o]),o}function G3e(e){let{animateLayoutChanges:t=K4t,attributes:n,disabled:r,data:i,getNewIndex:o=G4t,id:a,strategy:s,resizeObserverConfig:l,transition:u=Y4t}=e;const{items:d,containerId:f,activeIndex:h,disabled:m,disableTransforms:g,sortedRects:y,overIndex:x,useDragOverlay:b,strategy:v}=p.useContext(H3e),w=J4t(r,m),C=d.indexOf(a),k=p.useMemo(()=>({sortable:{containerId:f,index:C,items:d},...i}),[f,i,C,d]),S=p.useMemo(()=>d.slice(d.indexOf(a)),[d,a]),{rect:E,node:_,isOver:T,setNodeRef:A}=P4t({id:a,data:k,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...l}}),{active:I,activatorEvent:j,activeNodeRect:$,attributes:D,setNodeRef:O,listeners:M,isDragging:P,over:F,setActivatorNodeRef:L,transform:U}=$4t({id:a,data:k,attributes:{...Z4t,...n},disabled:w.draggable}),H=fRt(A,O),N=!!I,Y=N&&!g&&FT(h)&&FT(x),J=!b&&P,ee=J&&Y?U:null,re=Y?ee??(s??v)({rects:y,activeNodeRect:$,activeIndex:h,overIndex:x,index:C}):null,se=FT(h)&&FT(x)?o({id:a,items:d,activeIndex:h,overIndex:x}):C,G=I==null?void 0:I.id,K=p.useRef({activeId:G,items:d,newIndex:se,containerId:f}),q=d!==K.current.items,X=t({active:I,containerId:f,isDragging:P,isSorting:N,id:a,index:C,items:d,newIndex:K.current.newIndex,previousItems:K.current.items,previousContainerId:K.current.containerId,transition:u,wasDragging:K.current.activeId!=null}),ie=X4t({disabled:!X,index:C,node:_,rect:E});return p.useEffect(()=>{N&&K.current.newIndex!==se&&(K.current.newIndex=se),f!==K.current.containerId&&(K.current.containerId=f),d!==K.current.items&&(K.current.items=d)},[N,se,f,d]),p.useEffect(()=>{if(G===K.current.activeId)return;if(G&&!K.current.activeId){K.current.activeId=G;return}const de=setTimeout(()=>{K.current.activeId=G},50);return()=>clearTimeout(de)},[G]),{active:I,activeIndex:h,attributes:D,data:k,rect:E,index:C,newIndex:se,items:d,isOver:T,isSorting:N,isDragging:P,listeners:M,node:_,overIndex:x,over:F,setNodeRef:H,setActivatorNodeRef:L,setDroppableNodeRef:A,setDraggableNodeRef:O,transform:ie??re,transition:te()};function te(){if(ie||q&&K.current.newIndex===C)return q4t;if(!(J&&!dq(j)||!u)&&(N||X))return N2.Transition.toString({...u,property:W3e})}}function J4t(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function p$(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Q4t=[Rn.Down,Rn.Right,Rn.Up,Rn.Left],e6t=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:o,over:a,scrollableAncestors:s}}=t;if(Q4t.includes(e.code)){if(e.preventDefault(),!n||!r)return;const l=[];o.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const h=i.get(f.id);if(h)switch(e.code){case Rn.Down:r.top<h.top&&l.push(f);break;case Rn.Up:r.top>h.top&&l.push(f);break;case Rn.Left:r.left>h.left&&l.push(f);break;case Rn.Right:r.left<h.left&&l.push(f);break}});const u=jRt({active:n,collisionRect:r,droppableRects:i,droppableContainers:l,pointerCoordinates:null});let d=A3e(u,"id");if(d===(a==null?void 0:a.id)&&u.length>1&&(d=u[1].id),d!=null){const f=o.get(n.id),h=o.get(d),m=h?i.get(h.id):null,g=h==null?void 0:h.node.current;if(g&&m&&f&&h){const x=cP(g).some((S,E)=>s[E]!==S),b=K3e(f,h),v=t6t(f,h),w=x||!b?{x:0,y:0}:{x:v?r.width-m.width:0,y:v?r.height-m.height:0},C={x:m.left,y:m.top};return w.x&&w.y?C:L2(C,w)}}}};function K3e(e,t){return!p$(e)||!p$(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function t6t(e,t){return!p$(e)||!p$(t)||!K3e(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}var n6t=r6t;function r6t(e,t,n){var r=e===null,i=t===null;if(r!==i)return!1;var o=Array.isArray(e),a=Array.isArray(t);if(o!==a)return!1;var s=typeof e,l=typeof t;return s!==l?!1:a6t(s)?n?n(e,t):e===t:o?i6t(e,t,n):o6t(e,t,n)}function i6t(e,t,n){var r=e.length;if(r!==t.length)return!1;if(n){for(var i=0;i<r;i++)if(!n(e[i],t[i]))return!1}else for(var i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0}function o6t(e,t,n){var r=0,i=0;if(n)for(var o in e){if(e.hasOwnProperty(o)&&!n(e[o],t[o]))return!1;r++}else for(var o in e){if(e.hasOwnProperty(o)&&e[o]!==t[o])return!1;r++}for(var o in t)t.hasOwnProperty(o)&&i++;return r===i}function a6t(e){return e!=="function"&&e!=="object"}const Km=Ue(n6t),Yse=e=>typeof e=="object"&&e!=null&&e.nodeType===1,qse=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",BT=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return qse(n.overflowY,t)||qse(n.overflowX,t)||(r=>{const i=(o=>{if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!i&&(i.clientHeight<r.scrollHeight||i.clientWidth<r.scrollWidth)})(e)}return!1},VT=(e,t,n,r,i,o,a,s)=>o<e&&a>t||o>e&&a<t?0:o<=e&&s<=n||a>=t&&s>=n?o-e-r:a>t&&s<n||o<e&&s>n?a-t+i:0,s6t=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},Zse=(e,t)=>{var n,r,i,o;if(typeof document>"u")return[];const{scrollMode:a,block:s,inline:l,boundary:u,skipOverflowHiddenElements:d}=t,f=typeof u=="function"?u:M=>M!==u;if(!Yse(e))throw new TypeError("Invalid target");const h=document.scrollingElement||document.documentElement,m=[];let g=e;for(;Yse(g)&&f(g);){if(g=s6t(g),g===h){m.push(g);break}g!=null&&g===document.body&&BT(g)&&!BT(document.documentElement)||g!=null&&BT(g,d)&&m.push(g)}const y=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,x=(o=(i=window.visualViewport)==null?void 0:i.height)!=null?o:innerHeight,{scrollX:b,scrollY:v}=window,{height:w,width:C,top:k,right:S,bottom:E,left:_}=e.getBoundingClientRect(),{top:T,right:A,bottom:I,left:j}=(M=>{const P=window.getComputedStyle(M);return{top:parseFloat(P.scrollMarginTop)||0,right:parseFloat(P.scrollMarginRight)||0,bottom:parseFloat(P.scrollMarginBottom)||0,left:parseFloat(P.scrollMarginLeft)||0}})(e);let $=s==="start"||s==="nearest"?k-T:s==="end"?E+I:k+w/2-T+I,D=l==="center"?_+C/2-j+A:l==="end"?S+A:_-j;const O=[];for(let M=0;M<m.length;M++){const P=m[M],{height:F,width:L,top:U,right:H,bottom:N,left:Y}=P.getBoundingClientRect();if(a==="if-needed"&&k>=0&&_>=0&&E<=x&&S<=y&&(P===h&&!BT(P)||k>=U&&E<=N&&_>=Y&&S<=H))return O;const J=getComputedStyle(P),ee=parseInt(J.borderLeftWidth,10),oe=parseInt(J.borderTopWidth,10),re=parseInt(J.borderRightWidth,10),se=parseInt(J.borderBottomWidth,10);let G=0,K=0;const q="offsetWidth"in P?P.offsetWidth-P.clientWidth-ee-re:0,X="offsetHeight"in P?P.offsetHeight-P.clientHeight-oe-se:0,ie="offsetWidth"in P?P.offsetWidth===0?0:L/P.offsetWidth:0,te="offsetHeight"in P?P.offsetHeight===0?0:F/P.offsetHeight:0;if(h===P)G=s==="start"?$:s==="end"?$-x:s==="nearest"?VT(v,v+x,x,oe,se,v+$,v+$+w,w):$-x/2,K=l==="start"?D:l==="center"?D-y/2:l==="end"?D-y:VT(b,b+y,y,ee,re,b+D,b+D+C,C),G=Math.max(0,G+v),K=Math.max(0,K+b);else{G=s==="start"?$-U-oe:s==="end"?$-N+se+X:s==="nearest"?VT(U,N,F,oe,se+X,$,$+w,w):$-(U+F/2)+X/2,K=l==="start"?D-Y-ee:l==="center"?D-(Y+L/2)+q/2:l==="end"?D-H+re+q:VT(Y,H,L,ee,re+q,D,D+C,C);const{scrollLeft:de,scrollTop:pe}=P;G=te===0?0:Math.max(0,Math.min(pe+G/te,P.scrollHeight-F/te+X)),K=ie===0?0:Math.max(0,Math.min(de+K/ie,P.scrollWidth-L/ie+q)),$+=pe-G,D+=de-K}O.push({el:P,top:G,left:K})}return O},l6t=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function my(e,t){if(!e.isConnected||!(i=>{let o=i;for(;o&&o.parentNode;){if(o.parentNode===document)return!0;o=o.parentNode instanceof ShadowRoot?o.parentNode.host:o.parentNode}return!1})(e))return;const n=(i=>{const o=window.getComputedStyle(i);return{top:parseFloat(o.scrollMarginTop)||0,right:parseFloat(o.scrollMarginRight)||0,bottom:parseFloat(o.scrollMarginBottom)||0,left:parseFloat(o.scrollMarginLeft)||0}})(e);if((i=>typeof i=="object"&&typeof i.behavior=="function")(t))return t.behavior(Zse(e,t));const r=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:i,top:o,left:a}of Zse(e,l6t(t))){const s=o-n.top+n.bottom,l=a-n.left+n.right;i.scroll({top:s,left:l,behavior:r})}}function sn(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function lt(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function pt(e){lt(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Lu(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function fi(e,t){lt(2,arguments);var n=pt(e),r=sn(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function OE(e,t){lt(2,arguments);var n=pt(e),r=sn(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var a=o.getDate();return i>=a?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}function c6t(e){lt(1,arguments);var t=pt(e),n=t.getDay();return n===0||n===6}function u6t(e,t){lt(2,arguments);var n=pt(e).getTime(),r=sn(t);return new Date(n+r)}var d6t={};function uf(){return d6t}function Ym(e,t){var n,r,i,o,a,s,l,u;lt(1,arguments);var d=uf(),f=sn((n=(r=(i=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(s=a.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=pt(e),m=h.getDay(),g=(m<f?7:0)+m-f;return h.setDate(h.getDate()-g),h.setHours(0,0,0,0),h}function sx(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function qm(e){lt(1,arguments);var t=pt(e);return t.setHours(0,0,0,0),t}var f6t=864e5;function h6t(e,t){lt(2,arguments);var n=qm(e),r=qm(t),i=n.getTime()-sx(n),o=r.getTime()-sx(r);return Math.round((i-o)/f6t)}function AB(e,t){lt(2,arguments);var n=sn(t),r=n*7;return fi(e,r)}function Cb(e,t){lt(2,arguments);var n=pt(e),r=pt(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}var fP=6e4,hP=36e5,p6t=1e3;function Ga(e,t){lt(2,arguments);var n=qm(e),r=qm(t);return n.getTime()===r.getTime()}function m6t(e){return lt(1,arguments),e instanceof Date||Lu(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Lh(e){if(lt(1,arguments),!m6t(e)&&typeof e!="number")return!1;var t=pt(e);return!isNaN(Number(t))}function g6t(e,t){lt(2,arguments);var n=pt(e),r=pt(t),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}function y6t(e,t){lt(2,arguments);var n=pt(e),r=pt(t);return n.getFullYear()-r.getFullYear()}function Xse(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function Y3e(e,t){lt(2,arguments);var n=pt(e),r=pt(t),i=Xse(n,r),o=Math.abs(h6t(n,r));n.setDate(n.getDate()-i*o);var a=+(Xse(n,r)===-i),s=i*(o-a);return s===0?0:s}function gq(e,t){return lt(2,arguments),pt(e).getTime()-pt(t).getTime()}var Jse={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},v6t="trunc";function pP(e){return e?Jse[e]:Jse[v6t]}function b6t(e,t,n){lt(2,arguments);var r=gq(e,t)/hP;return pP(n==null?void 0:n.roundingMethod)(r)}function x6t(e,t,n){lt(2,arguments);var r=gq(e,t)/fP;return pP(n==null?void 0:n.roundingMethod)(r)}function V2(e){lt(1,arguments);var t=pt(e);return t.setHours(23,59,59,999),t}function w6t(e){lt(1,arguments);var t=pt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function C6t(e){lt(1,arguments);var t=pt(e);return V2(t).getTime()===w6t(t).getTime()}function q3e(e,t){lt(2,arguments);var n=pt(e),r=pt(t),i=Cb(n,r),o=Math.abs(g6t(n,r)),a;if(o<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*o);var s=Cb(n,r)===-i;C6t(pt(e))&&o===1&&Cb(e,r)===1&&(s=!1),a=i*(o-Number(s))}return a===0?0:a}function Z3e(e,t,n){lt(2,arguments);var r=gq(e,t)/1e3;return pP(n==null?void 0:n.roundingMethod)(r)}function k6t(e,t,n){lt(2,arguments);var r=Y3e(e,t)/7;return pP(n==null?void 0:n.roundingMethod)(r)}function S6t(e,t){lt(2,arguments);var n=pt(e),r=pt(t),i=Cb(n,r),o=Math.abs(y6t(n,r));n.setFullYear(1584),r.setFullYear(1584);var a=Cb(n,r)===-i,s=i*(o-Number(a));return s===0?0:s}function Qse(e){lt(1,arguments);var t=pt(e);return t.setSeconds(0,0),t}function mP(e,t){lt(1,arguments);var n=e||{},r=pt(n.start),i=pt(n.end),o=i.getTime();if(!(r.getTime()<=o))throw new RangeError("Invalid interval");var a=Ym(r,t),s=Ym(i,t);a.setHours(15),s.setHours(15),o=s.getTime();for(var l=[],u=a;u.getTime()<=o;)u.setHours(0),l.push(pt(u)),u=AB(u,1),u.setHours(15);return l}function gP(e){lt(1,arguments);var t=pt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function ele(e){lt(1,arguments);var t=pt(e);return t.setSeconds(59,999),t}function X3e(e,t){lt(2,arguments);var n=sn(t);return u6t(e,-n)}var E6t=864e5;function _6t(e){lt(1,arguments);var t=pt(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/E6t)+1}function lx(e){lt(1,arguments);var t=1,n=pt(e),r=n.getUTCDay(),i=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function J3e(e){lt(1,arguments);var t=pt(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=lx(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var a=lx(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function T6t(e){lt(1,arguments);var t=J3e(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=lx(n);return r}var A6t=6048e5;function Q3e(e){lt(1,arguments);var t=pt(e),n=lx(t).getTime()-T6t(t).getTime();return Math.round(n/A6t)+1}function gy(e,t){var n,r,i,o,a,s,l,u;lt(1,arguments);var d=uf(),f=sn((n=(r=(i=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(s=a.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=pt(e),m=h.getUTCDay(),g=(m<f?7:0)+m-f;return h.setUTCDate(h.getUTCDate()-g),h.setUTCHours(0,0,0,0),h}function yq(e,t){var n,r,i,o,a,s,l,u;lt(1,arguments);var d=pt(e),f=d.getUTCFullYear(),h=uf(),m=sn((n=(r=(i=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(s=a.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(f+1,0,m),g.setUTCHours(0,0,0,0);var y=gy(g,t),x=new Date(0);x.setUTCFullYear(f,0,m),x.setUTCHours(0,0,0,0);var b=gy(x,t);return d.getTime()>=y.getTime()?f+1:d.getTime()>=b.getTime()?f:f-1}function j6t(e,t){var n,r,i,o,a,s,l,u;lt(1,arguments);var d=uf(),f=sn((n=(r=(i=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(s=a.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=yq(e,t),m=new Date(0);m.setUTCFullYear(h,0,f),m.setUTCHours(0,0,0,0);var g=gy(m,t);return g}var I6t=6048e5;function e$e(e,t){lt(1,arguments);var n=pt(e),r=gy(n,t).getTime()-j6t(n,t).getTime();return Math.round(r/I6t)+1}function pr(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var $6t={y:function(t,n){var r=t.getUTCFullYear(),i=r>0?r:1-r;return pr(n==="yy"?i%100:i,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):pr(r+1,2)},d:function(t,n){return pr(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return pr(t.getUTCHours()%12||12,n.length)},H:function(t,n){return pr(t.getUTCHours(),n.length)},m:function(t,n){return pr(t.getUTCMinutes(),n.length)},s:function(t,n){return pr(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,i=t.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,r-3));return pr(o,n.length)}};const Ep=$6t;var N0={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},D6t={G:function(t,n,r){var i=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var i=t.getUTCFullYear(),o=i>0?i:1-i;return r.ordinalNumber(o,{unit:"year"})}return Ep.y(t,n)},Y:function(t,n,r,i){var o=yq(t,i),a=o>0?o:1-o;if(n==="YY"){var s=a%100;return pr(s,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):pr(a,n.length)},R:function(t,n){var r=J3e(t);return pr(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return pr(r,n.length)},Q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return pr(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return pr(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,n,r){var i=t.getUTCMonth();switch(n){case"M":case"MM":return Ep.M(t,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(t,n,r){var i=t.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return pr(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(t,n,r,i){var o=e$e(t,i);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):pr(o,n.length)},I:function(t,n,r){var i=Q3e(t);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):pr(i,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Ep.d(t,n)},D:function(t,n,r){var i=_6t(t);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):pr(i,n.length)},E:function(t,n,r){var i=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(t,n,r,i){var o=t.getUTCDay(),a=(o-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return pr(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(t,n,r,i){var o=t.getUTCDay(),a=(o-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return pr(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(t,n,r){var i=t.getUTCDay(),o=i===0?7:i;switch(n){case"i":return String(o);case"ii":return pr(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(t,n,r){var i=t.getUTCHours(),o=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,n,r){var i=t.getUTCHours(),o;switch(i===12?o=N0.noon:i===0?o=N0.midnight:o=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,n,r){var i=t.getUTCHours(),o;switch(i>=17?o=N0.evening:i>=12?o=N0.afternoon:i>=4?o=N0.morning:o=N0.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Ep.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Ep.H(t,n)},K:function(t,n,r){var i=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):pr(i,n.length)},k:function(t,n,r){var i=t.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):pr(i,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Ep.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Ep.s(t,n)},S:function(t,n){return Ep.S(t,n)},X:function(t,n,r,i){var o=i._originalDate||t,a=o.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return nle(a);case"XXXX":case"XX":return Xg(a);case"XXXXX":case"XXX":default:return Xg(a,":")}},x:function(t,n,r,i){var o=i._originalDate||t,a=o.getTimezoneOffset();switch(n){case"x":return nle(a);case"xxxx":case"xx":return Xg(a);case"xxxxx":case"xxx":default:return Xg(a,":")}},O:function(t,n,r,i){var o=i._originalDate||t,a=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+tle(a,":");case"OOOO":default:return"GMT"+Xg(a,":")}},z:function(t,n,r,i){var o=i._originalDate||t,a=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+tle(a,":");case"zzzz":default:return"GMT"+Xg(a,":")}},t:function(t,n,r,i){var o=i._originalDate||t,a=Math.floor(o.getTime()/1e3);return pr(a,n.length)},T:function(t,n,r,i){var o=i._originalDate||t,a=o.getTime();return pr(a,n.length)}};function tle(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(o===0)return n+String(i);var a=t||"";return n+String(i)+a+pr(o,2)}function nle(e,t){if(e%60===0){var n=e>0?"-":"+";return n+pr(Math.abs(e)/60,2)}return Xg(e,t)}function Xg(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e),o=pr(Math.floor(i/60),2),a=pr(i%60,2);return r+o+n+a}const O6t=D6t;var rle=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},t$e=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},M6t=function(t,n){var r=t.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return rle(t,n);var a;switch(i){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",rle(i,n)).replace("{{time}}",t$e(o,n))},P6t={p:t$e,P:M6t};const jB=P6t;var R6t=["D","DD"],F6t=["YY","YYYY"];function n$e(e){return R6t.indexOf(e)!==-1}function r$e(e){return F6t.indexOf(e)!==-1}function m$(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var L6t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},N6t=function(t,n,r){var i,o=L6t[t];return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const B6t=N6t;function F8(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var V6t={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},z6t={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},U6t={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},H6t={date:F8({formats:V6t,defaultWidth:"full"}),time:F8({formats:z6t,defaultWidth:"full"}),dateTime:F8({formats:U6t,defaultWidth:"full"})};const W6t=H6t;var G6t={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},K6t=function(t,n,r,i){return G6t[t]};const Y6t=K6t;function RC(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=e.formattingValues[a]||e.formattingValues[o]}else{var s=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[s]}var u=e.argumentCallback?e.argumentCallback(t):t;return i[u]}}var q6t={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Z6t={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},X6t={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},J6t={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Q6t={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},e8t={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},t8t=function(t,n){var r=Number(t),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},n8t={ordinalNumber:t8t,era:RC({values:q6t,defaultWidth:"wide"}),quarter:RC({values:Z6t,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:RC({values:X6t,defaultWidth:"wide"}),day:RC({values:J6t,defaultWidth:"wide"}),dayPeriod:RC({values:Q6t,defaultWidth:"wide",formattingValues:e8t,defaultFormattingWidth:"wide"})};const r8t=n8t;function FC(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var a=o[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?o8t(s,function(f){return f.test(a)}):i8t(s,function(f){return f.test(a)}),u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(a.length);return{value:u,rest:d}}}function i8t(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function o8t(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function a8t(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],o=t.match(e.parsePattern);if(!o)return null;var a=e.valueCallback?e.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;var s=t.slice(i.length);return{value:a,rest:s}}}var s8t=/^(\d+)(th|st|nd|rd)?/i,l8t=/\d+/i,c8t={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},u8t={any:[/^b/i,/^(a|c)/i]},d8t={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},f8t={any:[/1/i,/2/i,/3/i,/4/i]},h8t={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},p8t={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},m8t={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},g8t={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},y8t={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},v8t={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},b8t={ordinalNumber:a8t({matchPattern:s8t,parsePattern:l8t,valueCallback:function(t){return parseInt(t,10)}}),era:FC({matchPatterns:c8t,defaultMatchWidth:"wide",parsePatterns:u8t,defaultParseWidth:"any"}),quarter:FC({matchPatterns:d8t,defaultMatchWidth:"wide",parsePatterns:f8t,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:FC({matchPatterns:h8t,defaultMatchWidth:"wide",parsePatterns:p8t,defaultParseWidth:"any"}),day:FC({matchPatterns:m8t,defaultMatchWidth:"wide",parsePatterns:g8t,defaultParseWidth:"any"}),dayPeriod:FC({matchPatterns:y8t,defaultMatchWidth:"any",parsePatterns:v8t,defaultParseWidth:"any"})};const x8t=b8t;var w8t={code:"en-US",formatDistance:B6t,formatLong:W6t,formatRelative:Y6t,localize:r8t,match:x8t,options:{weekStartsOn:0,firstWeekContainsDate:1}};const vq=w8t;var C8t=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,k8t=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,S8t=/^'([^]*?)'?$/,E8t=/''/g,_8t=/[a-zA-Z]/;function jd(e,t,n){var r,i,o,a,s,l,u,d,f,h,m,g,y,x,b,v,w,C;lt(2,arguments);var k=String(t),S=uf(),E=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:S.locale)!==null&&r!==void 0?r:vq,_=sn((o=(a=(s=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&s!==void 0?s:S.firstWeekContainsDate)!==null&&a!==void 0?a:(f=S.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(_>=1&&_<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=sn((m=(g=(y=(x=n==null?void 0:n.weekStartsOn)!==null&&x!==void 0?x:n==null||(b=n.locale)===null||b===void 0||(v=b.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&y!==void 0?y:S.weekStartsOn)!==null&&g!==void 0?g:(w=S.locale)===null||w===void 0||(C=w.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&m!==void 0?m:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var A=pt(e);if(!Lh(A))throw new RangeError("Invalid time value");var I=sx(A),j=X3e(A,I),$={firstWeekContainsDate:_,weekStartsOn:T,locale:E,_originalDate:A},D=k.match(k8t).map(function(O){var M=O[0];if(M==="p"||M==="P"){var P=jB[M];return P(O,E.formatLong)}return O}).join("").match(C8t).map(function(O){if(O==="''")return"'";var M=O[0];if(M==="'")return T8t(O);var P=O6t[M];if(P)return!(n!=null&&n.useAdditionalWeekYearTokens)&&r$e(O)&&m$(O,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&n$e(O)&&m$(O,t,String(e)),P(j,O,E.localize,$);if(M.match(_8t))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");return O}).join("");return D}function T8t(e){var t=e.match(S8t);return t?t[1].replace(E8t,"'"):e}function bq(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function A8t(e){return bq({},e)}var ile=1440,j8t=2520,L8=43200,I8t=86400;function $8t(e,t,n){var r,i;lt(2,arguments);var o=uf(),a=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:o.locale)!==null&&r!==void 0?r:vq;if(!a.formatDistance)throw new RangeError("locale must contain formatDistance property");var s=Cb(e,t);if(isNaN(s))throw new RangeError("Invalid time value");var l=bq(A8t(n),{addSuffix:!!(n!=null&&n.addSuffix),comparison:s}),u,d;s>0?(u=pt(t),d=pt(e)):(u=pt(e),d=pt(t));var f=Z3e(d,u),h=(sx(d)-sx(u))/1e3,m=Math.round((f-h)/60),g;if(m<2)return n!=null&&n.includeSeconds?f<5?a.formatDistance("lessThanXSeconds",5,l):f<10?a.formatDistance("lessThanXSeconds",10,l):f<20?a.formatDistance("lessThanXSeconds",20,l):f<40?a.formatDistance("halfAMinute",0,l):f<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):m===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",m,l);if(m<45)return a.formatDistance("xMinutes",m,l);if(m<90)return a.formatDistance("aboutXHours",1,l);if(m<ile){var y=Math.round(m/60);return a.formatDistance("aboutXHours",y,l)}else{if(m<j8t)return a.formatDistance("xDays",1,l);if(m<L8){var x=Math.round(m/ile);return a.formatDistance("xDays",x,l)}else if(m<I8t)return g=Math.round(m/L8),a.formatDistance("aboutXMonths",g,l)}if(g=q3e(d,u),g<12){var b=Math.round(m/L8);return a.formatDistance("xMonths",b,l)}else{var v=g%12,w=Math.floor(g/12);return v<3?a.formatDistance("aboutXYears",w,l):v<9?a.formatDistance("overXYears",w,l):a.formatDistance("almostXYears",w+1,l)}}function D8t(e){lt(1,arguments);var t=pt(e),n=t.getFullYear(),r=t.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function i$e(e){lt(1,arguments);var t=pt(e),n=t.getMinutes();return n}function O8t(e,t){var n,r,i,o,a,s,l,u;lt(1,arguments);var d=pt(e),f=d.getFullYear(),h=uf(),m=sn((n=(r=(i=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(s=a.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setFullYear(f+1,0,m),g.setHours(0,0,0,0);var y=Ym(g,t),x=new Date(0);x.setFullYear(f,0,m),x.setHours(0,0,0,0);var b=Ym(x,t);return d.getTime()>=y.getTime()?f+1:d.getTime()>=b.getTime()?f:f-1}function M8t(e,t){var n,r,i,o,a,s,l,u;lt(1,arguments);var d=uf(),f=sn((n=(r=(i=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(s=a.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=O8t(e,t),m=new Date(0);m.setFullYear(h,0,f),m.setHours(0,0,0,0);var g=Ym(m,t);return g}var P8t=6048e5;function yP(e,t){lt(1,arguments);var n=pt(e),r=Ym(n,t).getTime()-M8t(n,t).getTime();return Math.round(r/P8t)+1}function vP(e){lt(1,arguments);var t=pt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function g$(e,t){lt(2,arguments);var n=pt(e),r=pt(t);return n.getTime()>r.getTime()}function xq(e,t){lt(2,arguments);var n=pt(e),r=pt(t);return n.getTime()<r.getTime()}function ole(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function R8t(e,t){if(e){if(typeof e=="string")return ole(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ole(e,t):void 0}}function ale(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=R8t(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var u=n.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{a||n.return==null||n.return()}finally{if(s)throw o}}}}function ut(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z3(e,t)}function y$(e){return y$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y$(e)}function o$e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o$e=function(){return!!e})()}function F8t(e,t){if(t&&(Lu(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ut(e)}function Qn(e){var t=o$e();return function(){var n,r=y$(e);if(t){var i=y$(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return F8t(this,n)}}function Ln(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sle(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,J_e(r.key),r)}}function Nn(e,t,n){return t&&sle(e.prototype,t),n&&sle(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var L8t=10,a$e=function(){function e(){Ln(this,e),at(this,"priority",void 0),at(this,"subPriority",0)}return Nn(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),N8t=function(e){Jn(n,e);var t=Qn(n);function n(r,i,o,a,s){var l;return Ln(this,n),l=t.call(this),l.value=r,l.validateValue=i,l.setValue=o,l.priority=a,s&&(l.subPriority=s),l}return Nn(n,[{key:"validate",value:function(i,o){return this.validateValue(i,this.value,o)}},{key:"set",value:function(i,o,a){return this.setValue(i,o,this.value,a)}}]),n}(a$e),B8t=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",L8t),at(ut(r),"subPriority",-1),r}return Nn(n,[{key:"set",value:function(i,o){if(o.timestampIsSet)return i;var a=new Date(0);return a.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),a.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),a}}]),n}(a$e),lr=function(){function e(){Ln(this,e),at(this,"incompatibleTokens",void 0),at(this,"priority",void 0),at(this,"subPriority",void 0)}return Nn(e,[{key:"run",value:function(n,r,i,o){var a=this.parse(n,r,i,o);return a?{setter:new N8t(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),e}(),V8t=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",140),at(ut(r),"incompatibleTokens",["R","u","t","T"]),r}return Nn(n,[{key:"parse",value:function(i,o,a){switch(o){case"G":case"GG":case"GGG":return a.era(i,{width:"abbreviated"})||a.era(i,{width:"narrow"});case"GGGGG":return a.era(i,{width:"narrow"});case"GGGG":default:return a.era(i,{width:"wide"})||a.era(i,{width:"abbreviated"})||a.era(i,{width:"narrow"})}}},{key:"set",value:function(i,o,a){return o.era=a,i.setUTCFullYear(a,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(lr),ho={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Sd={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function po(e,t){return e&&{value:t(e.value),rest:e.rest}}function Ni(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Ed(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:r*(i*hP+o*fP+a*p6t),rest:t.slice(n[0].length)}}function s$e(e){return Ni(ho.anyDigitsSigned,e)}function to(e,t){switch(e){case 1:return Ni(ho.singleDigit,t);case 2:return Ni(ho.twoDigits,t);case 3:return Ni(ho.threeDigits,t);case 4:return Ni(ho.fourDigits,t);default:return Ni(new RegExp("^\\d{1,"+e+"}"),t)}}function v$(e,t){switch(e){case 1:return Ni(ho.singleDigitSigned,t);case 2:return Ni(ho.twoDigitsSigned,t);case 3:return Ni(ho.threeDigitsSigned,t);case 4:return Ni(ho.fourDigitsSigned,t);default:return Ni(new RegExp("^-?\\d{1,"+e+"}"),t)}}function wq(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function l$e(e,t){var n=t>0,r=n?t:1-t,i;if(r<=50)i=e||100;else{var o=r+50,a=Math.floor(o/100)*100,s=e>=o%100;i=e+a-(s?100:0)}return n?i:1-i}function c$e(e){return e%400===0||e%4===0&&e%100!==0}var z8t=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",130),at(ut(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Nn(n,[{key:"parse",value:function(i,o,a){var s=function(u){return{year:u,isTwoDigitYear:o==="yy"}};switch(o){case"y":return po(to(4,i),s);case"yo":return po(a.ordinalNumber(i,{unit:"year"}),s);default:return po(to(o.length,i),s)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,a){var s=i.getUTCFullYear();if(a.isTwoDigitYear){var l=l$e(a.year,s);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var u=!("era"in o)||o.era===1?a.year:1-a.year;return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(lr),U8t=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",130),at(ut(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Nn(n,[{key:"parse",value:function(i,o,a){var s=function(u){return{year:u,isTwoDigitYear:o==="YY"}};switch(o){case"Y":return po(to(4,i),s);case"Yo":return po(a.ordinalNumber(i,{unit:"year"}),s);default:return po(to(o.length,i),s)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,a,s){var l=yq(i,s);if(a.isTwoDigitYear){var u=l$e(a.year,l);return i.setUTCFullYear(u,0,s.firstWeekContainsDate),i.setUTCHours(0,0,0,0),gy(i,s)}var d=!("era"in o)||o.era===1?a.year:1-a.year;return i.setUTCFullYear(d,0,s.firstWeekContainsDate),i.setUTCHours(0,0,0,0),gy(i,s)}}]),n}(lr),H8t=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",130),at(ut(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Nn(n,[{key:"parse",value:function(i,o){return v$(o==="R"?4:o.length,i)}},{key:"set",value:function(i,o,a){var s=new Date(0);return s.setUTCFullYear(a,0,4),s.setUTCHours(0,0,0,0),lx(s)}}]),n}(lr),W8t=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",130),at(ut(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Nn(n,[{key:"parse",value:function(i,o){return v$(o==="u"?4:o.length,i)}},{key:"set",value:function(i,o,a){return i.setUTCFullYear(a,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(lr),G8t=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",120),at(ut(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Nn(n,[{key:"parse",value:function(i,o,a){switch(o){case"Q":case"QQ":return to(o.length,i);case"Qo":return a.ordinalNumber(i,{unit:"quarter"});case"QQQ":return a.quarter(i,{width:"abbreviated",context:"formatting"})||a.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(i,{width:"wide",context:"formatting"})||a.quarter(i,{width:"abbreviated",context:"formatting"})||a.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,a){return i.setUTCMonth((a-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(lr),K8t=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",120),at(ut(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Nn(n,[{key:"parse",value:function(i,o,a){switch(o){case"q":case"qq":return to(o.length,i);case"qo":return a.ordinalNumber(i,{unit:"quarter"});case"qqq":return a.quarter(i,{width:"abbreviated",context:"standalone"})||a.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(i,{width:"wide",context:"standalone"})||a.quarter(i,{width:"abbreviated",context:"standalone"})||a.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,a){return i.setUTCMonth((a-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(lr),Y8t=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),at(ut(r),"priority",110),r}return Nn(n,[{key:"parse",value:function(i,o,a){var s=function(u){return u-1};switch(o){case"M":return po(Ni(ho.month,i),s);case"MM":return po(to(2,i),s);case"Mo":return po(a.ordinalNumber(i,{unit:"month"}),s);case"MMM":return a.month(i,{width:"abbreviated",context:"formatting"})||a.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(i,{width:"wide",context:"formatting"})||a.month(i,{width:"abbreviated",context:"formatting"})||a.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,a){return i.setUTCMonth(a,1),i.setUTCHours(0,0,0,0),i}}]),n}(lr),q8t=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",110),at(ut(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Nn(n,[{key:"parse",value:function(i,o,a){var s=function(u){return u-1};switch(o){case"L":return po(Ni(ho.month,i),s);case"LL":return po(to(2,i),s);case"Lo":return po(a.ordinalNumber(i,{unit:"month"}),s);case"LLL":return a.month(i,{width:"abbreviated",context:"standalone"})||a.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(i,{width:"wide",context:"standalone"})||a.month(i,{width:"abbreviated",context:"standalone"})||a.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,a){return i.setUTCMonth(a,1),i.setUTCHours(0,0,0,0),i}}]),n}(lr);function Z8t(e,t,n){lt(2,arguments);var r=pt(e),i=sn(t),o=e$e(r,n)-i;return r.setUTCDate(r.getUTCDate()-o*7),r}var X8t=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",100),at(ut(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Nn(n,[{key:"parse",value:function(i,o,a){switch(o){case"w":return Ni(ho.week,i);case"wo":return a.ordinalNumber(i,{unit:"week"});default:return to(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,a,s){return gy(Z8t(i,a,s),s)}}]),n}(lr);function J8t(e,t){lt(2,arguments);var n=pt(e),r=sn(t),i=Q3e(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var Q8t=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",100),at(ut(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Nn(n,[{key:"parse",value:function(i,o,a){switch(o){case"I":return Ni(ho.week,i);case"Io":return a.ordinalNumber(i,{unit:"week"});default:return to(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,a){return lx(J8t(i,a))}}]),n}(lr),eFt=[31,28,31,30,31,30,31,31,30,31,30,31],tFt=[31,29,31,30,31,30,31,31,30,31,30,31],nFt=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",90),at(ut(r),"subPriority",1),at(ut(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Nn(n,[{key:"parse",value:function(i,o,a){switch(o){case"d":return Ni(ho.date,i);case"do":return a.ordinalNumber(i,{unit:"date"});default:return to(o.length,i)}}},{key:"validate",value:function(i,o){var a=i.getUTCFullYear(),s=c$e(a),l=i.getUTCMonth();return s?o>=1&&o<=tFt[l]:o>=1&&o<=eFt[l]}},{key:"set",value:function(i,o,a){return i.setUTCDate(a),i.setUTCHours(0,0,0,0),i}}]),n}(lr),rFt=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",90),at(ut(r),"subpriority",1),at(ut(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Nn(n,[{key:"parse",value:function(i,o,a){switch(o){case"D":case"DD":return Ni(ho.dayOfYear,i);case"Do":return a.ordinalNumber(i,{unit:"date"});default:return to(o.length,i)}}},{key:"validate",value:function(i,o){var a=i.getUTCFullYear(),s=c$e(a);return s?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(i,o,a){return i.setUTCMonth(0,a),i.setUTCHours(0,0,0,0),i}}]),n}(lr);function Cq(e,t,n){var r,i,o,a,s,l,u,d;lt(2,arguments);var f=uf(),h=sn((r=(i=(o=(a=n==null?void 0:n.weekStartsOn)!==null&&a!==void 0?a:n==null||(s=n.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&o!==void 0?o:f.weekStartsOn)!==null&&i!==void 0?i:(u=f.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=pt(e),g=sn(t),y=m.getUTCDay(),x=g%7,b=(x+7)%7,v=(b<h?7:0)+g-y;return m.setUTCDate(m.getUTCDate()+v),m}var iFt=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",90),at(ut(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Nn(n,[{key:"parse",value:function(i,o,a){switch(o){case"E":case"EE":case"EEE":return a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(i,{width:"wide",context:"formatting"})||a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,a,s){return i=Cq(i,a,s),i.setUTCHours(0,0,0,0),i}}]),n}(lr),oFt=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",90),at(ut(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Nn(n,[{key:"parse",value:function(i,o,a,s){var l=function(d){var f=Math.floor((d-1)/7)*7;return(d+s.weekStartsOn+6)%7+f};switch(o){case"e":case"ee":return po(to(o.length,i),l);case"eo":return po(a.ordinalNumber(i,{unit:"day"}),l);case"eee":return a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"});case"eeeee":return a.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(i,{width:"wide",context:"formatting"})||a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,a,s){return i=Cq(i,a,s),i.setUTCHours(0,0,0,0),i}}]),n}(lr),aFt=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",90),at(ut(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Nn(n,[{key:"parse",value:function(i,o,a,s){var l=function(d){var f=Math.floor((d-1)/7)*7;return(d+s.weekStartsOn+6)%7+f};switch(o){case"c":case"cc":return po(to(o.length,i),l);case"co":return po(a.ordinalNumber(i,{unit:"day"}),l);case"ccc":return a.day(i,{width:"abbreviated",context:"standalone"})||a.day(i,{width:"short",context:"standalone"})||a.day(i,{width:"narrow",context:"standalone"});case"ccccc":return a.day(i,{width:"narrow",context:"standalone"});case"cccccc":return a.day(i,{width:"short",context:"standalone"})||a.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(i,{width:"wide",context:"standalone"})||a.day(i,{width:"abbreviated",context:"standalone"})||a.day(i,{width:"short",context:"standalone"})||a.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,a,s){return i=Cq(i,a,s),i.setUTCHours(0,0,0,0),i}}]),n}(lr);function sFt(e,t){lt(2,arguments);var n=sn(t);n%7===0&&(n=n-7);var r=1,i=pt(e),o=i.getUTCDay(),a=n%7,s=(a+7)%7,l=(s<r?7:0)+n-o;return i.setUTCDate(i.getUTCDate()+l),i}var lFt=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",90),at(ut(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Nn(n,[{key:"parse",value:function(i,o,a){var s=function(u){return u===0?7:u};switch(o){case"i":case"ii":return to(o.length,i);case"io":return a.ordinalNumber(i,{unit:"day"});case"iii":return po(a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"}),s);case"iiiii":return po(a.day(i,{width:"narrow",context:"formatting"}),s);case"iiiiii":return po(a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"}),s);case"iiii":default:return po(a.day(i,{width:"wide",context:"formatting"})||a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"}),s)}}},{key:"validate",value:function(i,o){return o>=1&&o<=7}},{key:"set",value:function(i,o,a){return i=sFt(i,a),i.setUTCHours(0,0,0,0),i}}]),n}(lr),cFt=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",80),at(ut(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Nn(n,[{key:"parse",value:function(i,o,a){switch(o){case"a":case"aa":case"aaa":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})||a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,a){return i.setUTCHours(wq(a),0,0,0),i}}]),n}(lr),uFt=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",80),at(ut(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Nn(n,[{key:"parse",value:function(i,o,a){switch(o){case"b":case"bb":case"bbb":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})||a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,a){return i.setUTCHours(wq(a),0,0,0),i}}]),n}(lr),dFt=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",80),at(ut(r),"incompatibleTokens",["a","b","t","T"]),r}return Nn(n,[{key:"parse",value:function(i,o,a){switch(o){case"B":case"BB":case"BBB":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})||a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,a){return i.setUTCHours(wq(a),0,0,0),i}}]),n}(lr),fFt=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",70),at(ut(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Nn(n,[{key:"parse",value:function(i,o,a){switch(o){case"h":return Ni(ho.hour12h,i);case"ho":return a.ordinalNumber(i,{unit:"hour"});default:return to(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=12}},{key:"set",value:function(i,o,a){var s=i.getUTCHours()>=12;return s&&a<12?i.setUTCHours(a+12,0,0,0):!s&&a===12?i.setUTCHours(0,0,0,0):i.setUTCHours(a,0,0,0),i}}]),n}(lr),hFt=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",70),at(ut(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Nn(n,[{key:"parse",value:function(i,o,a){switch(o){case"H":return Ni(ho.hour23h,i);case"Ho":return a.ordinalNumber(i,{unit:"hour"});default:return to(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=23}},{key:"set",value:function(i,o,a){return i.setUTCHours(a,0,0,0),i}}]),n}(lr),pFt=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",70),at(ut(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Nn(n,[{key:"parse",value:function(i,o,a){switch(o){case"K":return Ni(ho.hour11h,i);case"Ko":return a.ordinalNumber(i,{unit:"hour"});default:return to(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,a){var s=i.getUTCHours()>=12;return s&&a<12?i.setUTCHours(a+12,0,0,0):i.setUTCHours(a,0,0,0),i}}]),n}(lr),mFt=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",70),at(ut(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Nn(n,[{key:"parse",value:function(i,o,a){switch(o){case"k":return Ni(ho.hour24h,i);case"ko":return a.ordinalNumber(i,{unit:"hour"});default:return to(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=24}},{key:"set",value:function(i,o,a){var s=a<=24?a%24:a;return i.setUTCHours(s,0,0,0),i}}]),n}(lr),gFt=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",60),at(ut(r),"incompatibleTokens",["t","T"]),r}return Nn(n,[{key:"parse",value:function(i,o,a){switch(o){case"m":return Ni(ho.minute,i);case"mo":return a.ordinalNumber(i,{unit:"minute"});default:return to(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,a){return i.setUTCMinutes(a,0,0),i}}]),n}(lr),yFt=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",50),at(ut(r),"incompatibleTokens",["t","T"]),r}return Nn(n,[{key:"parse",value:function(i,o,a){switch(o){case"s":return Ni(ho.second,i);case"so":return a.ordinalNumber(i,{unit:"second"});default:return to(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,a){return i.setUTCSeconds(a,0),i}}]),n}(lr),vFt=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",30),at(ut(r),"incompatibleTokens",["t","T"]),r}return Nn(n,[{key:"parse",value:function(i,o){var a=function(l){return Math.floor(l*Math.pow(10,-o.length+3))};return po(to(o.length,i),a)}},{key:"set",value:function(i,o,a){return i.setUTCMilliseconds(a),i}}]),n}(lr),bFt=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",10),at(ut(r),"incompatibleTokens",["t","T","x"]),r}return Nn(n,[{key:"parse",value:function(i,o){switch(o){case"X":return Ed(Sd.basicOptionalMinutes,i);case"XX":return Ed(Sd.basic,i);case"XXXX":return Ed(Sd.basicOptionalSeconds,i);case"XXXXX":return Ed(Sd.extendedOptionalSeconds,i);case"XXX":default:return Ed(Sd.extended,i)}}},{key:"set",value:function(i,o,a){return o.timestampIsSet?i:new Date(i.getTime()-a)}}]),n}(lr),xFt=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",10),at(ut(r),"incompatibleTokens",["t","T","X"]),r}return Nn(n,[{key:"parse",value:function(i,o){switch(o){case"x":return Ed(Sd.basicOptionalMinutes,i);case"xx":return Ed(Sd.basic,i);case"xxxx":return Ed(Sd.basicOptionalSeconds,i);case"xxxxx":return Ed(Sd.extendedOptionalSeconds,i);case"xxx":default:return Ed(Sd.extended,i)}}},{key:"set",value:function(i,o,a){return o.timestampIsSet?i:new Date(i.getTime()-a)}}]),n}(lr),wFt=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",40),at(ut(r),"incompatibleTokens","*"),r}return Nn(n,[{key:"parse",value:function(i){return s$e(i)}},{key:"set",value:function(i,o,a){return[new Date(a*1e3),{timestampIsSet:!0}]}}]),n}(lr),CFt=function(e){Jn(n,e);var t=Qn(n);function n(){var r;Ln(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),at(ut(r),"priority",20),at(ut(r),"incompatibleTokens","*"),r}return Nn(n,[{key:"parse",value:function(i){return s$e(i)}},{key:"set",value:function(i,o,a){return[new Date(a),{timestampIsSet:!0}]}}]),n}(lr),kFt={G:new V8t,y:new z8t,Y:new U8t,R:new H8t,u:new W8t,Q:new G8t,q:new K8t,M:new Y8t,L:new q8t,w:new X8t,I:new Q8t,d:new nFt,D:new rFt,E:new iFt,e:new oFt,c:new aFt,i:new lFt,a:new cFt,b:new uFt,B:new dFt,h:new fFt,H:new hFt,K:new pFt,k:new mFt,m:new gFt,s:new yFt,S:new vFt,X:new bFt,x:new xFt,t:new wFt,T:new CFt},SFt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,EFt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_Ft=/^'([^]*?)'?$/,TFt=/''/g,AFt=/\S/,jFt=/[a-zA-Z]/;function kq(e,t,n,r){var i,o,a,s,l,u,d,f,h,m,g,y,x,b,v,w,C,k;lt(3,arguments);var S=String(e),E=String(t),_=uf(),T=(i=(o=r==null?void 0:r.locale)!==null&&o!==void 0?o:_.locale)!==null&&i!==void 0?i:vq;if(!T.match)throw new RangeError("locale must contain match property");var A=sn((a=(s=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(d=r.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&l!==void 0?l:_.firstWeekContainsDate)!==null&&s!==void 0?s:(h=_.locale)===null||h===void 0||(m=h.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var I=sn((g=(y=(x=(b=r==null?void 0:r.weekStartsOn)!==null&&b!==void 0?b:r==null||(v=r.locale)===null||v===void 0||(w=v.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&x!==void 0?x:_.weekStartsOn)!==null&&y!==void 0?y:(C=_.locale)===null||C===void 0||(k=C.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&g!==void 0?g:0);if(!(I>=0&&I<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(E==="")return S===""?pt(n):new Date(NaN);var j={firstWeekContainsDate:A,weekStartsOn:I,locale:T},$=[new B8t],D=E.match(EFt).map(function(se){var G=se[0];if(G in jB){var K=jB[G];return K(se,T.formatLong)}return se}).join("").match(SFt),O=[],M=ale(D),P;try{var F=function(){var G=P.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&r$e(G)&&m$(G,E,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&n$e(G)&&m$(G,E,e);var K=G[0],q=kFt[K];if(q){var X=q.incompatibleTokens;if(Array.isArray(X)){var ie=O.find(function(de){return X.includes(de.token)||de.token===K});if(ie)throw new RangeError("The format string mustn't contain `".concat(ie.fullToken,"` and `").concat(G,"` at the same time"))}else if(q.incompatibleTokens==="*"&&O.length>0)throw new RangeError("The format string mustn't contain `".concat(G,"` and any other token at the same time"));O.push({token:K,fullToken:G});var te=q.run(S,G,T.match,j);if(!te)return{v:new Date(NaN)};$.push(te.setter),S=te.rest}else{if(K.match(jFt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+K+"`");if(G==="''"?G="'":K==="'"&&(G=IFt(G)),S.indexOf(G)===0)S=S.slice(G.length);else return{v:new Date(NaN)}}};for(M.s();!(P=M.n()).done;){var L=F();if(Lu(L)==="object")return L.v}}catch(se){M.e(se)}finally{M.f()}if(S.length>0&&AFt.test(S))return new Date(NaN);var U=$.map(function(se){return se.priority}).sort(function(se,G){return G-se}).filter(function(se,G,K){return K.indexOf(se)===G}).map(function(se){return $.filter(function(G){return G.priority===se}).sort(function(G,K){return K.subPriority-G.subPriority})}).map(function(se){return se[0]}),H=pt(n);if(isNaN(H.getTime()))return new Date(NaN);var N=X3e(H,sx(H)),Y={},J=ale(U),ee;try{for(J.s();!(ee=J.n()).done;){var oe=ee.value;if(!oe.validate(N,j))return new Date(NaN);var re=oe.set(N,Y,j);Array.isArray(re)?(N=re[0],bq(Y,re[1])):N=re}}catch(se){J.e(se)}finally{J.f()}return N}function IFt(e){return e.match(_Ft)[1].replace(TFt,"'")}function $Ft(e,t,n){lt(2,arguments);var r=Ym(e,n),i=Ym(t,n);return r.getTime()===i.getTime()}function DFt(e,t){return lt(2,arguments),$Ft(e,t,{weekStartsOn:1})}function bP(e,t){lt(2,arguments);var n=pt(e),r=pt(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function OFt(e){return lt(1,arguments),DFt(e,Date.now())}function MFt(e){return lt(1,arguments),Ga(e,Date.now())}function PFt(e,t){lt(2,arguments);var n=sn(t);return fi(e,-n)}function u$e(e,t){var n;lt(1,arguments);var r=sn((n=t==null?void 0:t.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var i=NFt(e),o;if(i.date){var a=BFt(i.date,r);o=VFt(a.restDateString,a.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var s=o.getTime(),l=0,u;if(i.time&&(l=zFt(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=UFt(i.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(s+l),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(s+l+u)}var zT={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},RFt=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,FFt=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,LFt=/^([+-])(\d{2})(?::?(\d{2}))?$/;function NFt(e){var t={},n=e.split(zT.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],zT.timeZoneDelimiter.test(t.date)&&(t.date=e.split(zT.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var i=zT.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function BFt(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:e.slice((r[1]||r[2]).length)}}function VFt(e,t){if(t===null)return new Date(NaN);var n=e.match(RFt);if(!n)return new Date(NaN);var r=!!n[4],i=LC(n[1]),o=LC(n[2])-1,a=LC(n[3]),s=LC(n[4]),l=LC(n[5])-1;if(r)return YFt(t,s,l)?HFt(t,s,l):new Date(NaN);var u=new Date(0);return!GFt(t,o,a)||!KFt(t,i)?new Date(NaN):(u.setUTCFullYear(t,o,Math.max(i,a)),u)}function LC(e){return e?parseInt(e):1}function zFt(e){var t=e.match(FFt);if(!t)return NaN;var n=N8(t[1]),r=N8(t[2]),i=N8(t[3]);return qFt(n,r,i)?n*hP+r*fP+i*1e3:NaN}function N8(e){return e&&parseFloat(e.replace(",","."))||0}function UFt(e){if(e==="Z")return 0;var t=e.match(LFt);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return ZFt(r,i)?n*(r*hP+i*fP):NaN}function HFt(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var i=r.getUTCDay()||7,o=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}var WFt=[31,null,31,30,31,30,31,31,30,31,30,31];function d$e(e){return e%400===0||e%4===0&&e%100!==0}function GFt(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(WFt[t]||(d$e(e)?29:28))}function KFt(e,t){return t>=1&&t<=(d$e(e)?366:365)}function YFt(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function qFt(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function ZFt(e,t){return t>=0&&t<=59}function Sq(e,t){lt(2,arguments);var n=pt(e),r=sn(t),i=n.getFullYear(),o=n.getDate(),a=new Date(0);a.setFullYear(i,r,15),a.setHours(0,0,0,0);var s=D8t(a);return n.setMonth(r,Math.min(o,s)),n}function XFt(e,t){if(lt(2,arguments),Lu(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var n=pt(e);return isNaN(n.getTime())?new Date(NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=Sq(n,t.month)),t.date!=null&&n.setDate(sn(t.date)),t.hours!=null&&n.setHours(sn(t.hours)),t.minutes!=null&&n.setMinutes(sn(t.minutes)),t.seconds!=null&&n.setSeconds(sn(t.seconds)),t.milliseconds!=null&&n.setMilliseconds(sn(t.milliseconds)),n)}function f$e(e,t){lt(2,arguments);var n=pt(e),r=sn(t);return n.setDate(r),n}function V1(e,t){lt(2,arguments);var n=pt(e),r=sn(t);return n.setHours(r),n}function ph(e,t){lt(2,arguments);var n=pt(e),r=sn(t);return n.setMinutes(r),n}function h$e(e,t){lt(2,arguments);var n=pt(e),r=sn(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function lle(){return qm(Date.now())}function JFt(e,t){lt(2,arguments);var n=sn(t);return OE(e,-n)}function cle(e,t){if(lt(2,arguments),!t||Lu(t)!=="object")return new Date(NaN);var n=t.years?sn(t.years):0,r=t.months?sn(t.months):0,i=t.weeks?sn(t.weeks):0,o=t.days?sn(t.days):0,a=t.hours?sn(t.hours):0,s=t.minutes?sn(t.minutes):0,l=t.seconds?sn(t.seconds):0,u=JFt(e,r+n*12),d=PFt(u,o+i*7),f=s+a*60,h=l+f*60,m=h*1e3,g=new Date(d.getTime()-m);return g}var QFt=Math.ceil,eLt=Math.max;function tLt(e,t,n,r){for(var i=-1,o=eLt(QFt((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a}var nLt=tLt,rLt=$we,ule=1/0,iLt=17976931348623157e292;function oLt(e){if(!e)return e===0?e:0;if(e=rLt(e),e===ule||e===-ule){var t=e<0?-1:1;return t*iLt}return e===e?e:0}var p$e=oLt,aLt=nLt,sLt=CM,B8=p$e;function lLt(e){return function(t,n,r){return r&&typeof r!="number"&&sLt(t,n,r)&&(n=r=void 0),t=B8(t),n===void 0?(n=t,t=0):n=B8(n),r=r===void 0?t<n?1:-1:B8(r),aLt(t,n,r,e)}}var cLt=lLt,uLt=cLt,dLt=uLt(),fLt=dLt;const ME=Ue(fLt);function dle(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fle(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dle(Object(n),!0).forEach(function(r){hLt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dle(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hLt(e,t,n){return(t=pLt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pLt(e){var t=mLt(e,"string");return typeof t=="symbol"?t:t+""}function mLt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z2(e){return e._type==="span"&&"text"in e&&typeof e.text=="string"&&(typeof e.marks>"u"||Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"))}function Eq(e){return typeof e._type=="string"&&e._type[0]!=="@"&&(!("markDefs"in e)||!e.markDefs||Array.isArray(e.markDefs)&&e.markDefs.every(t=>typeof t._key=="string"))&&"children"in e&&Array.isArray(e.children)&&e.children.every(t=>typeof t=="object"&&"_type"in t)}function m$e(e){return Eq(e)&&"listItem"in e&&typeof e.listItem=="string"&&(typeof e.level>"u"||typeof e.level=="number")}function g$e(e){return e._type==="@list"}function y$e(e){return e._type==="@span"}function v$e(e){return e._type==="@text"}const hle=["strong","em","code","underline","strike-through"];function gLt(e,t,n){if(!z2(e)||!e.marks)return[];if(!e.marks.length)return[];const r=e.marks.slice(),i={};return r.forEach(o=>{i[o]=1;for(let a=t+1;a<n.length;a++){const s=n[a];if(s&&z2(s)&&Array.isArray(s.marks)&&s.marks.indexOf(o)!==-1)i[o]++;else break}}),r.sort((o,a)=>yLt(i,o,a))}function yLt(e,t,n){const r=e[t],i=e[n];if(r!==i)return i-r;const o=hle.indexOf(t),a=hle.indexOf(n);return o!==a?o-a:t.localeCompare(n)}function vLt(e){var t,n;const{children:r}=e,i=(t=e.markDefs)!=null?t:[];if(!r||!r.length)return[];const o=r.map(gLt),a={_type:"@span",children:[],markType:"<unknown>"};let s=[a];for(let l=0;l<r.length;l++){const u=r[l];if(!u)continue;const d=o[l]||[];let f=1;if(s.length>1)for(f;f<s.length;f++){const m=((n=s[f])==null?void 0:n.markKey)||"",g=d.indexOf(m);if(g===-1)break;d.splice(g,1)}s=s.slice(0,f);let h=s[s.length-1];if(h){for(const m of d){const g=i==null?void 0:i.find(b=>b._key===m),y=g?g._type:m,x={_type:"@span",_key:u._key,children:[],markDef:g,markType:y,markKey:m};h.children.push(x),s.push(x),h=x}if(z2(u)){const m=u.text.split(`
`);for(let g=m.length;g-- >1;)m.splice(g,0,`
`);h.children=h.children.concat(m.map(g=>({_type:"@text",text:g})))}else h.children=h.children.concat(u)}}return a.children}function bLt(e,t){const n=[];let r;for(let i=0;i<e.length;i++){const o=e[i];if(o){if(!m$e(o)){n.push(o),r=void 0;continue}if(!r){r=UT(o,i,t),n.push(r);continue}if(xLt(o,r)){r.children.push(o);continue}if((o.level||1)>r.level){const a=UT(o,i,t);if(t==="html"){const s=r.children[r.children.length-1],l=fle(fle({},s),{},{children:[...s.children,a]});r.children[r.children.length-1]=l}else r.children.push(a);r=a;continue}if((o.level||1)<r.level){const a=n[n.length-1],s=a&&IB(a,o);if(s){r=s,r.children.push(o);continue}r=UT(o,i,t),n.push(r);continue}if(o.listItem!==r.listItem){const a=n[n.length-1],s=a&&IB(a,{level:o.level||1});if(s&&s.listItem===o.listItem){r=s,r.children.push(o);continue}else{r=UT(o,i,t),n.push(r);continue}}console.warn("Unknown state encountered for block",o),n.push(o)}}return n}function xLt(e,t){return(e.level||1)===t.level&&e.listItem===t.listItem}function UT(e,t,n){return{_type:"@list",_key:`${e._key||`${t}`}-parent`,mode:n,level:e.level||1,listItem:e.listItem,children:[e]}}function IB(e,t){const n=t.level||1,r=t.listItem||"normal",i=typeof t.listItem=="string";if(g$e(e)&&(e.level||1)===n&&i&&(e.listItem||"normal")===r)return e;if(!("children"in e))return;const o=e.children[e.children.length-1];return o&&!z2(o)?IB(o,t):void 0}function b$e(e){let t="";return e.children.forEach(n=>{v$e(n)?t+=n.text:y$e(n)&&(t+=b$e(n))}),t}const wLt=/^\s/,CLt=/\s$/;function x$e(e){const t=Array.isArray(e)?e:[e];let n="";return t.forEach((r,i)=>{if(!Eq(r))return;let o=!1;r.children.forEach(a=>{z2(a)?(n+=o&&n&&!CLt.test(n)&&!wLt.test(a.text)?" ":"",n+=a.text,o=!1):o=!0}),i!==t.length-1&&(n+=`

`)}),n}const kLt="html",SLt=["block","list","listItem","marks","types"],ELt=["listItem"],_Lt=["_key"];function ple(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ple(Object(n),!0).forEach(function(r){TLt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ple(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TLt(e,t,n){return(t=ALt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ALt(e){var t=jLt(e,"string");return typeof t=="symbol"?t:t+""}function jLt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $B(e,t){if(e==null)return{};var n,r,i=ILt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ILt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}const $Lt={number:({children:e})=>c.jsx("ol",{children:e}),bullet:({children:e})=>c.jsx("ul",{children:e})},DLt=({children:e})=>c.jsx("li",{children:e}),OLt=({children:e,value:t})=>c.jsx("a",{href:t==null?void 0:t.href,children:e}),MLt={textDecoration:"underline"},PLt={em:({children:e})=>c.jsx("em",{children:e}),strong:({children:e})=>c.jsx("strong",{children:e}),code:({children:e})=>c.jsx("code",{children:e}),underline:({children:e})=>c.jsx("span",{style:MLt,children:e}),"strike-through":({children:e})=>c.jsx("del",{children:e}),link:OLt},PE=(e,t)=>`[@portabletext/react] Unknown ${e}, specify a component for it in the \`components.${t}\` prop`,w$e=e=>PE(`block type "${e}"`,"types"),RLt=e=>PE(`mark type "${e}"`,"marks"),FLt=e=>PE(`block style "${e}"`,"block"),LLt=e=>PE(`list style "${e}"`,"list"),NLt=e=>PE(`list item style "${e}"`,"listItem");function BLt(e){console.warn(e)}const mle={display:"none"},VLt=({value:e,isInline:t})=>{const n=w$e(e._type);return t?c.jsx("span",{style:mle,children:n}):c.jsx("div",{style:mle,children:n})},zLt=({markType:e,children:t})=>c.jsx("span",{className:`unknown__pt__mark__${e}`,children:t}),ULt=({children:e})=>c.jsx("p",{children:e}),HLt=({children:e})=>c.jsx("ul",{children:e}),WLt=({children:e})=>c.jsx("li",{children:e}),GLt=()=>c.jsx("br",{}),KLt={normal:({children:e})=>c.jsx("p",{children:e}),blockquote:({children:e})=>c.jsx("blockquote",{children:e}),h1:({children:e})=>c.jsx("h1",{children:e}),h2:({children:e})=>c.jsx("h2",{children:e}),h3:({children:e})=>c.jsx("h3",{children:e}),h4:({children:e})=>c.jsx("h4",{children:e}),h5:({children:e})=>c.jsx("h5",{children:e}),h6:({children:e})=>c.jsx("h6",{children:e})},gle={types:{},block:KLt,marks:PLt,list:$Lt,listItem:DLt,hardBreak:GLt,unknownType:VLt,unknownMark:zLt,unknownList:HLt,unknownListItem:WLt,unknownBlockStyle:ULt};function YLt(e,t){const n=$B(t,SLt);return yd(yd({},e),{},{block:NC(e,t,"block"),list:NC(e,t,"list"),listItem:NC(e,t,"listItem"),marks:NC(e,t,"marks"),types:NC(e,t,"types")},n)}function NC(e,t,n){const r=t[n],i=e[n];return typeof r=="function"||r&&typeof i=="function"?r:r?yd(yd({},i),r):i}function C$e({value:e,components:t,listNestingMode:n,onMissingComponent:r=BLt}){const i=r||ZLt,o=Array.isArray(e)?e:[e],a=bLt(o,n||kLt),s=p.useMemo(()=>t?YLt(gle,t):gle,[t]),l=p.useMemo(()=>qLt(s,i),[s,i]),u=a.map((d,f)=>l({node:d,index:f,isInline:!1,renderNode:l}));return c.jsx(c.Fragment,{children:u})}const qLt=(e,t)=>{function n(f){const{node:h,index:m,isInline:g}=f,y=h._key||`node-${m}`;return g$e(h)?o(h,m,y):m$e(h)?i(h,m,y):y$e(h)?a(h,m,y):r(h)?d(h,m,y,g):Eq(h)?s(h,m,y,g):v$e(h)?l(h,y):u(h,m,y,g)}function r(f){return f._type in e.types}function i(f,h,m){const g=yle({node:f,index:h,isInline:!1,renderNode:n}),y=e.listItem,x=(typeof y=="function"?y:y[f.listItem])||e.unknownListItem;if(x===e.unknownListItem){const v=f.listItem||"bullet";t(NLt(v),{type:v,nodeType:"listItemStyle"})}let b=g.children;if(f.style&&f.style!=="normal"){const v=$B(f,ELt);b=n({node:v,index:h,isInline:!1})}return c.jsx(x,{value:f,index:h,isInline:!1,renderNode:n,children:b},m)}function o(f,h,m){const g=f.children.map((b,v)=>n({node:b._key?b:yd(yd({},b),{},{_key:`li-${h}-${v}`}),index:v,isInline:!1})),y=e.list,x=(typeof y=="function"?y:y[f.listItem])||e.unknownList;if(x===e.unknownList){const b=f.listItem||"bullet";t(LLt(b),{nodeType:"listStyle",type:b})}return c.jsx(x,{value:f,index:h,isInline:!1,renderNode:n,children:g},m)}function a(f,h,m){const{markDef:g,markType:y,markKey:x}=f,b=e.marks[y]||e.unknownMark,v=f.children.map((w,C)=>n({node:w,index:C,isInline:!0}));return b===e.unknownMark&&t(RLt(y),{nodeType:"mark",type:y}),c.jsx(b,{text:b$e(f),value:g,markType:y,markKey:x,renderNode:n,children:v},m)}function s(f,h,m,g){const y=yle({node:f,index:h,isInline:g,renderNode:n}),x=$B(y,_Lt),b=x.node.style||"normal",v=(typeof e.block=="function"?e.block:e.block[b])||e.unknownBlockStyle;return v===e.unknownBlockStyle&&t(FLt(b),{nodeType:"blockStyle",type:b}),c.jsx(v,yd(yd({},x),{},{value:x.node,renderNode:n}),m)}function l(f,h){if(f.text===`
`){const m=e.hardBreak;return m?c.jsx(m,{},h):`
`}return f.text}function u(f,h,m,g){const y={value:f,isInline:g,index:h,renderNode:n};t(w$e(f._type),{nodeType:"block",type:f._type});const x=e.unknownType;return c.jsx(x,yd({},y),m)}function d(f,h,m,g){const y={value:f,isInline:g,index:h,renderNode:n},x=e.types[f._type];return x?c.jsx(x,yd({},y),m):null}return n};function yle(e){const{node:t,index:n,isInline:r,renderNode:i}=e,o=vLt(t).map((a,s)=>i({node:a,isInline:!0,index:s,renderNode:i}));return{_key:t._key||`block-${n}`,children:o,index:n,isInline:r,node:t}}function ZLt(){}/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @lightSyntaxTransform
 * @noflow
 * @nolint
 * @preventMunge
 * @preserve-invariant-messages
 */var XLt=Object.create,xP=Object.defineProperty,JLt=Object.getOwnPropertyDescriptor,QLt=Object.getOwnPropertyNames,e9t=Object.getPrototypeOf,t9t=Object.prototype.hasOwnProperty,n9t=(e,t)=>{for(var n in t)xP(e,n,{get:t[n],enumerable:!0})},k$e=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of QLt(t))!t9t.call(e,i)&&i!==n&&xP(e,i,{get:()=>t[i],enumerable:!(r=JLt(t,i))||r.enumerable});return e},r9t=(e,t,n)=>(n=e!=null?XLt(e9t(e)):{},k$e(t||!e||!e.__esModule?xP(n,"default",{value:e,enumerable:!0}):n,e)),i9t=e=>k$e(xP({},"__esModule",{value:!0}),e),S$e={};n9t(S$e,{$dispatcherGuard:()=>l9t,$makeReadOnly:()=>u9t,$reset:()=>c9t,$structuralCheck:()=>m9t,c:()=>s9t,clearRenderCounterRegistry:()=>d9t,renderCounterRegistry:()=>U2,useRenderCounter:()=>p9t});var pp=i9t(S$e),kb=r9t(p),{useRef:o9t,useEffect:a9t,isValidElement:B0}=kb,vle,DB=(vle=kb.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE)!=null?vle:kb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,OB=Symbol.for("react.memo_cache_sentinel"),ble,s9t=typeof((ble=kb.__COMPILER_RUNTIME)==null?void 0:ble.c)=="function"?kb.__COMPILER_RUNTIME.c:function(t){return kb.useMemo(()=>{const n=new Array(t);for(let r=0;r<t;r++)n[r]=OB;return n[OB]=!0,n},[])},b$={};["readContext","useCallback","useContext","useEffect","useImperativeHandle","useInsertionEffect","useLayoutEffect","useMemo","useReducer","useRef","useState","useDebugValue","useDeferredValue","useTransition","useMutableSource","useSyncExternalStore","useId","unstable_isNewReconciler","getCacheSignal","getCacheForType","useCacheRefresh"].forEach(e=>{b$[e]=()=>{throw new Error(`[React] Unexpected React hook call (${e}) from a React compiled function. Check that all hooks are called directly and named according to convention ('use[A-Z]') `)}});var _S=null;b$.useMemoCache=e=>{if(_S==null)throw new Error("React Compiler internal invariant violation: unexpected null dispatcher");return _S.useMemoCache(e)};function HT(e){return DB.ReactCurrentDispatcher.current=e,DB.ReactCurrentDispatcher.current}var V0=[];function l9t(e){const t=DB.ReactCurrentDispatcher.current;if(e===0){if(V0.push(t),V0.length===1&&(_S=t),t===b$)throw new Error("[React] Unexpected call to custom hook or component from a React compiled function. Check that (1) all hooks are called directly and named according to convention ('use[A-Z]') and (2) components are returned as JSX instead of being directly invoked.");HT(b$)}else if(e===1){const n=V0.pop();if(n==null)throw new Error("React Compiler internal error: unexpected null in guard stack");V0.length===0&&(_S=null),HT(n)}else if(e===2)V0.push(t),HT(_S);else if(e===3){const n=V0.pop();if(n==null)throw new Error("React Compiler internal error: unexpected null in guard stack");HT(n)}else throw new Error("React Compiler internal error: unreachable block"+e)}function c9t(e){for(let t=0;t<e.length;t++)e[t]=OB}function u9t(){throw new Error("TODO: implement $makeReadOnly in react-compiler-runtime")}var U2=new Map;function d9t(){for(const e of U2.values())e.forEach(t=>{t.count=0})}function f9t(e,t){let n=U2.get(e);n==null&&(n=new Set,U2.set(e,n)),n.add(t)}function h9t(e,t){const n=U2.get(e);n!=null&&n.delete(t)}function p9t(e){const t=o9t(null);t.current!=null&&(t.current.count+=1),a9t(()=>{if(t.current==null){const n={count:0};f9t(e,n),t.current=n}return()=>{t.current!==null&&h9t(e,t.current)}})}var xle=new Set;function m9t(e,t,n,r,i,o){function a(u,d,f,h){const m=`${r}:${o} [${i}] ${n}${f} changed from ${u} to ${d} at depth ${h}`;xle.has(m)||(xle.add(m),console.error(m))}const s=2;function l(u,d,f,h){if(!(h>s)){if(u===d)return;if(typeof u!=typeof d)a(`type ${typeof u}`,`type ${typeof d}`,f,h);else if(typeof u=="object"){const m=Array.isArray(u),g=Array.isArray(d);if(u===null&&d!==null)a("null",`type ${typeof d}`,f,h);else if(d===null)a(`type ${typeof u}`,"null",f,h);else if(u instanceof Map)if(!(d instanceof Map))a("Map instance","other value",f,h);else if(u.size!==d.size)a(`Map instance with size ${u.size}`,`Map instance with size ${d.size}`,f,h);else for(const[y,x]of u)d.has(y)?l(x,d.get(y),`${f}.get(${y})`,h+1):a(`Map instance with key ${y}`,`Map instance without key ${y}`,f,h);else if(d instanceof Map)a("other value","Map instance",f,h);else if(u instanceof Set)if(!(d instanceof Set))a("Set instance","other value",f,h);else if(u.size!==d.size)a(`Set instance with size ${u.size}`,`Set instance with size ${d.size}`,f,h);else for(const y of d)u.has(y)||a(`Set instance without element ${y}`,`Set instance with element ${y}`,f,h);else if(d instanceof Set)a("other value","Set instance",f,h);else if(m||g)if(m!==g)a(`type ${m?"array":"object"}`,`type ${g?"array":"object"}`,f,h);else if(u.length!==d.length)a(`array with length ${u.length}`,`array with length ${d.length}`,f,h);else for(let y=0;y<u.length;y++)l(u[y],d[y],`${f}[${y}]`,h+1);else if(B0(u)||B0(d))B0(u)!==B0(d)?a(`type ${B0(u)?"React element":"object"}`,`type ${B0(d)?"React element":"object"}`,f,h):u.type!==d.type?a(`React element of type ${u.type}`,`React element of type ${d.type}`,f,h):l(u.props,d.props,`[props of ${f}]`,h+1);else{for(const y in d)y in u||a(`object without key ${y}`,`object with key ${y}`,f,h);for(const y in u)y in d?l(u[y],d[y],`${f}.${y}`,h+1):a(`object with key ${y}`,`object without key ${y}`,f,h)}}else{if(typeof u=="function")return;isNaN(u)||isNaN(d)?isNaN(u)!==isNaN(d)&&a(`${isNaN(u)?"NaN":"non-NaN value"}`,`${isNaN(d)?"NaN":"non-NaN value"}`,f,h):u!==d&&a(u,d,f,h)}}}l(e,t,"",0)}var g9t=p.useLayoutEffect;function y9t(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function v9t(){const e=y9t();if(e.__xstate__)return e.__xstate__}const b9t=e=>{if(typeof window>"u")return;const t=v9t();t&&t.register(e)};class wle{constructor(t){this._process=t,this._active=!1,this._current=null,this._last=null}start(){this._active=!0,this.flush()}clear(){this._current&&(this._current.next=null,this._last=this._current)}enqueue(t){const n={value:t,next:null};if(this._current){this._last.next=n,this._last=n;return}this._current=n,this._last=n,this._active&&this.flush()}flush(){for(;this._current;){const t=this._current;this._process(t.value),this._current=t.next}this._last=null}}const E$e=".",x9t="",_$e="",w9t="#",C9t="*",T$e="xstate.init",k9t="xstate.error",x$="xstate.stop";function S9t(e,t){return{type:`xstate.after.${e}.${t}`}}function MB(e,t){return{type:`xstate.done.state.${e}`,output:t}}function E9t(e,t){return{type:`xstate.done.actor.${e}`,output:t,actorId:e}}function A$e(e,t){return{type:`xstate.error.actor.${e}`,error:t,actorId:e}}function j$e(e){return{type:T$e,input:e}}function rd(e){setTimeout(()=>{throw e})}const _9t=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function I$e(e,t){const n=Cle(e),r=Cle(t);return typeof r=="string"?typeof n=="string"?r===n:!1:typeof n=="string"?n in r:Object.keys(n).every(i=>i in r?I$e(n[i],r[i]):!1)}function _q(e){if(D$e(e))return e;const t=[];let n="";for(let r=0;r<e.length;r++){switch(e.charCodeAt(r)){case 92:n+=e[r+1],r++;continue;case 46:t.push(n),n="";continue}n+=e[r]}return t.push(n),t}function Cle(e){if(l7t(e))return e.value;if(typeof e!="string")return e;const t=_q(e);return T9t(t)}function T9t(e){if(e.length===1)return e[0];const t={};let n=t;for(let r=0;r<e.length-1;r++)if(r===e.length-2)n[e[r]]=e[r+1];else{const i=n;n={},i[e[r]]=n}return t}function kle(e,t){const n={},r=Object.keys(e);for(let i=0;i<r.length;i++){const o=r[i];n[o]=t(e[o],o,e,i)}return n}function $$e(e){return D$e(e)?e:[e]}function oh(e){return e===void 0?[]:$$e(e)}function PB(e,t,n,r){return typeof e=="function"?e({context:t,event:n,self:r}):e}function D$e(e){return Array.isArray(e)}function A9t(e){return e.type.startsWith("xstate.error.actor")}function ov(e){return $$e(e).map(t=>typeof t>"u"||typeof t=="string"?{target:t}:t)}function O$e(e){if(!(e===void 0||e===x9t))return oh(e)}function w$(e,t,n){var o,a,s;const r=typeof e=="object",i=r?e:void 0;return{next:(o=r?e.next:e)==null?void 0:o.bind(i),error:(a=r?e.error:t)==null?void 0:a.bind(i),complete:(s=r?e.complete:n)==null?void 0:s.bind(i)}}function Sle(e,t){return`${t}.${e}`}function Tq(e,t){const n=t.match(/^xstate\.invoke\.(\d+)\.(.*)/);if(!n)return e.implementations.actors[t];const[,r,i]=n,a=e.getStateNodeById(i).config.invoke;return(Array.isArray(a)?a[r]:a).src}function M$e(e,t){if(t===e||t===C9t)return!0;if(!t.endsWith(".*"))return!1;const n=t.split("."),r=e.split(".");for(let i=0;i<n.length;i++){const o=n[i],a=r[i];if(o==="*")return i===n.length-1;if(o!==a)return!1}return!0}function Ele(e,t){return`${e.sessionId}.${t}`}let j9t=0;function I9t(e,t){const n=new Map,r=new Map,i=new WeakMap,o=new Set,a={},{clock:s,logger:l}=t,u={schedule:(h,m,g,y,x=Math.random().toString(36).slice(2))=>{const b={source:h,target:m,event:g,delay:y,id:x,startedAt:Date.now()},v=Ele(h,x);f._snapshot._scheduledEvents[v]=b;const w=s.setTimeout(()=>{delete a[v],delete f._snapshot._scheduledEvents[v],f._relay(h,m,g)},y);a[v]=w},cancel:(h,m)=>{const g=Ele(h,m),y=a[g];delete a[g],delete f._snapshot._scheduledEvents[g],y!==void 0&&s.clearTimeout(y)},cancelAll:h=>{for(const m in f._snapshot._scheduledEvents){const g=f._snapshot._scheduledEvents[m];g.source===h&&u.cancel(h,g.id)}}},d=h=>{if(!o.size)return;const m={...h,rootId:e.sessionId};o.forEach(g=>{var y;return(y=g.next)==null?void 0:y.call(g,m)})},f={_snapshot:{_scheduledEvents:((t==null?void 0:t.snapshot)&&t.snapshot.scheduler)??{}},_bookId:()=>`x:${j9t++}`,_register:(h,m)=>(n.set(h,m),h),_unregister:h=>{n.delete(h.sessionId);const m=i.get(h);m!==void 0&&(r.delete(m),i.delete(h))},get:h=>r.get(h),getAll:()=>Object.fromEntries(r.entries()),_set:(h,m)=>{const g=r.get(h);if(g&&g!==m)throw new Error(`Actor with system ID '${h}' already exists.`);r.set(h,m),i.set(m,h)},inspect:h=>{const m=w$(h);return o.add(m),{unsubscribe(){o.delete(m)}}},_sendInspectionEvent:d,_relay:(h,m,g)=>{f._sendInspectionEvent({type:"@xstate.event",sourceRef:h,actorRef:m,event:g}),m._send(g)},scheduler:u,getSnapshot:()=>({_scheduledEvents:{...f._snapshot._scheduledEvents}}),start:()=>{const h=f._snapshot._scheduledEvents;f._snapshot._scheduledEvents={};for(const m in h){const{source:g,target:y,event:x,delay:b,id:v}=h[m];u.schedule(g,y,x,b,v)}},_clock:s,_logger:l};return f}let V8=!1;const Aq=1;let Hs=function(e){return e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped",e}({});const $9t={clock:{setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},logger:console.log.bind(console),devTools:!1};class D9t{constructor(t,n){this.logic=t,this._snapshot=void 0,this.clock=void 0,this.options=void 0,this.id=void 0,this.mailbox=new wle(this._process.bind(this)),this.observers=new Set,this.eventListeners=new Map,this.logger=void 0,this._processingStatus=Hs.NotStarted,this._parent=void 0,this._syncSnapshot=void 0,this.ref=void 0,this._actorScope=void 0,this.systemId=void 0,this.sessionId=void 0,this.system=void 0,this._doneEvent=void 0,this.src=void 0,this._deferred=[];const r={...$9t,...n},{clock:i,logger:o,parent:a,syncSnapshot:s,id:l,systemId:u,inspect:d}=r;this.system=a?a.system:I9t(this,{clock:i,logger:o}),d&&!a&&this.system.inspect(w$(d)),this.sessionId=this.system._bookId(),this.id=l??this.sessionId,this.logger=(n==null?void 0:n.logger)??this.system._logger,this.clock=(n==null?void 0:n.clock)??this.system._clock,this._parent=a,this._syncSnapshot=s,this.options=r,this.src=r.src??t,this.ref=this,this._actorScope={self:this,id:this.id,sessionId:this.sessionId,logger:this.logger,defer:f=>{this._deferred.push(f)},system:this.system,stopChild:f=>{if(f._parent!==this)throw new Error(`Cannot stop child actor ${f.id} of ${this.id} because it is not a child`);f._stop()},emit:f=>{const h=this.eventListeners.get(f.type),m=this.eventListeners.get("*");if(!h&&!m)return;const g=[...h?h.values():[],...m?m.values():[]];for(const y of g)try{y(f)}catch(x){rd(x)}},actionExecutor:f=>{const h=()=>{if(this._actorScope.system._sendInspectionEvent({type:"@xstate.action",actorRef:this,action:{type:f.type,params:f.params}}),!f.exec)return;const m=V8;try{V8=!0,f.exec(f.info,f.params)}finally{V8=m}};this._processingStatus===Hs.Running?h():this._deferred.push(h)}},this.send=this.send.bind(this),this.system._sendInspectionEvent({type:"@xstate.actor",actorRef:this}),u&&(this.systemId=u,this.system._set(u,this)),this._initState((n==null?void 0:n.snapshot)??(n==null?void 0:n.state)),u&&this._snapshot.status!=="active"&&this.system._unregister(this)}_initState(t){var n;try{this._snapshot=t?this.logic.restoreSnapshot?this.logic.restoreSnapshot(t,this._actorScope):t:this.logic.getInitialSnapshot(this._actorScope,(n=this.options)==null?void 0:n.input)}catch(r){this._snapshot={status:"error",output:void 0,error:r}}}update(t,n){var i,o;this._snapshot=t;let r;for(;r=this._deferred.shift();)try{r()}catch(a){this._deferred.length=0,this._snapshot={...t,status:"error",error:a}}switch(this._snapshot.status){case"active":for(const a of this.observers)try{(i=a.next)==null||i.call(a,t)}catch(s){rd(s)}break;case"done":for(const a of this.observers)try{(o=a.next)==null||o.call(a,t)}catch(s){rd(s)}this._stopProcedure(),this._complete(),this._doneEvent=E9t(this.id,this._snapshot.output),this._parent&&this.system._relay(this,this._parent,this._doneEvent);break;case"error":this._error(this._snapshot.error);break}this.system._sendInspectionEvent({type:"@xstate.snapshot",actorRef:this,event:n,snapshot:t})}subscribe(t,n,r){var o;const i=w$(t,n,r);if(this._processingStatus!==Hs.Stopped)this.observers.add(i);else switch(this._snapshot.status){case"done":try{(o=i.complete)==null||o.call(i)}catch(a){rd(a)}break;case"error":{const a=this._snapshot.error;if(!i.error)rd(a);else try{i.error(a)}catch(s){rd(s)}break}}return{unsubscribe:()=>{this.observers.delete(i)}}}on(t,n){let r=this.eventListeners.get(t);r||(r=new Set,this.eventListeners.set(t,r));const i=n.bind(void 0);return r.add(i),{unsubscribe:()=>{r.delete(i)}}}start(){if(this._processingStatus===Hs.Running)return this;this._syncSnapshot&&this.subscribe({next:r=>{r.status==="active"&&this.system._relay(this,this._parent,{type:`xstate.snapshot.${this.id}`,snapshot:r})},error:()=>{}}),this.system._register(this.sessionId,this),this.systemId&&this.system._set(this.systemId,this),this._processingStatus=Hs.Running;const t=j$e(this.options.input);switch(this.system._sendInspectionEvent({type:"@xstate.event",sourceRef:this._parent,actorRef:this,event:t}),this._snapshot.status){case"done":return this.update(this._snapshot,t),this;case"error":return this._error(this._snapshot.error),this}if(this._parent||this.system.start(),this.logic.start)try{this.logic.start(this._snapshot,this._actorScope)}catch(r){return this._snapshot={...this._snapshot,status:"error",error:r},this._error(r),this}return this.update(this._snapshot,t),this.options.devTools&&this.attachDevTools(),this.mailbox.start(),this}_process(t){let n,r;try{n=this.logic.transition(this._snapshot,t,this._actorScope)}catch(i){r={err:i}}if(r){const{err:i}=r;this._snapshot={...this._snapshot,status:"error",error:i},this._error(i);return}this.update(n,t),t.type===x$&&(this._stopProcedure(),this._complete())}_stop(){return this._processingStatus===Hs.Stopped?this:(this.mailbox.clear(),this._processingStatus===Hs.NotStarted?(this._processingStatus=Hs.Stopped,this):(this.mailbox.enqueue({type:x$}),this))}stop(){if(this._parent)throw new Error("A non-root actor cannot be stopped directly.");return this._stop()}_complete(){var t;for(const n of this.observers)try{(t=n.complete)==null||t.call(n)}catch(r){rd(r)}this.observers.clear(),this.eventListeners.clear()}_reportError(t){if(!this.observers.size){this._parent||rd(t),this.eventListeners.clear();return}let n=!1;for(const r of this.observers){const i=r.error;n||(n=!i);try{i==null||i(t)}catch(o){rd(o)}}this.observers.clear(),this.eventListeners.clear(),n&&rd(t)}_error(t){this._stopProcedure(),this._reportError(t),this._parent&&this.system._relay(this,this._parent,A$e(this.id,t))}_stopProcedure(){return this._processingStatus!==Hs.Running?this:(this.system.scheduler.cancelAll(this),this.mailbox.clear(),this.mailbox=new wle(this._process.bind(this)),this._processingStatus=Hs.Stopped,this.system._unregister(this),this)}_send(t){this._processingStatus!==Hs.Stopped&&this.mailbox.enqueue(t)}send(t){this.system._relay(void 0,this,t)}attachDevTools(){const{devTools:t}=this.options;t&&(typeof t=="function"?t:b9t)(this)}toJSON(){return{xstate$$type:Aq,id:this.id}}getPersistedSnapshot(t){return this.logic.getPersistedSnapshot(this._snapshot,t)}[_9t](){return this}getSnapshot(){return this._snapshot}}function Qd(e,...[t]){return new D9t(e,t)}function O9t(e,t,n,r,{sendId:i}){const o=typeof i=="function"?i(n,r):i;return[t,{sendId:o},void 0]}function M9t(e,t){e.defer(()=>{e.system.scheduler.cancel(e.self,t.sendId)})}function jq(e){function t(n,r){}return t.type="xstate.cancel",t.sendId=e,t.resolve=O9t,t.execute=M9t,t}function P9t(e,t,n,r,{id:i,systemId:o,src:a,input:s,syncSnapshot:l}){const u=typeof a=="string"?Tq(t.machine,a):a,d=typeof i=="function"?i(n):i;let f,h;return u&&(h=typeof s=="function"?s({context:t.context,event:n.event,self:e.self}):s,f=Qd(u,{id:d,src:a,parent:e.self,syncSnapshot:l,systemId:o,input:h})),[yy(t,{children:{...t.children,[d]:f}}),{id:i,systemId:o,actorRef:f,src:a,input:h},void 0]}function R9t(e,{actorRef:t}){t&&e.defer(()=>{t._processingStatus!==Hs.Stopped&&t.start()})}function Iq(...[e,{id:t,systemId:n,input:r,syncSnapshot:i=!1}={}]){function o(a,s){}return o.type="xstate.spawnChild",o.id=t,o.systemId=n,o.src=e,o.input=r,o.syncSnapshot=i,o.resolve=P9t,o.execute=R9t,o}function F9t(e,t,n,r,{actorRef:i}){const o=typeof i=="function"?i(n,r):i,a=typeof o=="string"?t.children[o]:o;let s=t.children;return a&&(s={...s},delete s[a.id]),[yy(t,{children:s}),a,void 0]}function P$e(e,t){const n=t.getSnapshot();if(n&&"children"in n)for(const r of Object.values(n.children))P$e(e,r);e.system._unregister(t)}function L9t(e,t){if(t){if(P$e(e,t),t._processingStatus!==Hs.Running){e.stopChild(t);return}e.defer(()=>{e.stopChild(t)})}}function wP(e){function t(n,r){}return t.type="xstate.stopChild",t.actorRef=e,t.resolve=F9t,t.execute=L9t,t}function N9t(e,t,{stateValue:n}){if(typeof n=="string"&&FE(n)){const r=e.machine.getStateNodeById(n);return e._nodes.some(i=>i===r)}return e.matches(n)}function B9t(e){function t(){return!1}return t.check=N9t,t.stateValue=e,t}function V9t(e,{context:t,event:n},{guards:r}){return!Iw(r[0],t,n,e)}function TS(e){function t(n,r){return!1}return t.check=V9t,t.guards=[e],t}function z9t(e,{context:t,event:n},{guards:r}){return r.every(i=>Iw(i,t,n,e))}function Sb(e){function t(n,r){return!1}return t.check=z9t,t.guards=e,t}function Iw(e,t,n,r){const{machine:i}=r,o=typeof e=="function",a=o?e:i.implementations.guards[typeof e=="string"?e:e.type];if(!o&&!a)throw new Error(`Guard '${typeof e=="string"?e:e.type}' is not implemented.'.`);if(typeof a!="function")return Iw(a,t,n,r);const s={context:t,event:n},l=o||typeof e=="string"?void 0:"params"in e?typeof e.params=="function"?e.params({context:t,event:n}):e.params:void 0;return"check"in a?a.check(r,s,a):a(s,l)}function $q(e){return e.type==="atomic"||e.type==="final"}function cx(e){return Object.values(e.states).filter(t=>t.type!=="history")}function RE(e,t){const n=[];if(t===e)return n;let r=e.parent;for(;r&&r!==t;)n.push(r),r=r.parent;return n}function C$(e){const t=new Set(e),n=F$e(t);for(const r of t)if(r.type==="compound"&&(!n.get(r)||!n.get(r).length))_le(r).forEach(i=>t.add(i));else if(r.type==="parallel"){for(const i of cx(r))if(i.type!=="history"&&!t.has(i)){const o=_le(i);for(const a of o)t.add(a)}}for(const r of t){let i=r.parent;for(;i;)t.add(i),i=i.parent}return t}function R$e(e,t){const n=t.get(e);if(!n)return{};if(e.type==="compound"){const i=n[0];if(i){if($q(i))return i.key}else return{}}const r={};for(const i of n)r[i.key]=R$e(i,t);return r}function F$e(e){const t=new Map;for(const n of e)t.has(n)||t.set(n,[]),n.parent&&(t.has(n.parent)||t.set(n.parent,[]),t.get(n.parent).push(n));return t}function L$e(e,t){const n=C$(t);return R$e(e,F$e(n))}function Dq(e,t){return t.type==="compound"?cx(t).some(n=>n.type==="final"&&e.has(n)):t.type==="parallel"?cx(t).every(n=>Dq(e,n)):t.type==="final"}const FE=e=>e[0]===w9t;function U9t(e,t){return e.transitions.get(t)||[...e.transitions.keys()].filter(r=>M$e(t,r)).sort((r,i)=>i.length-r.length).flatMap(r=>e.transitions.get(r))}function H9t(e){const t=e.config.after;if(!t)return[];const n=i=>{const o=S9t(i,e.id),a=o.type;return e.entry.push(CP(o,{id:a,delay:i})),e.exit.push(jq(a)),a};return Object.keys(t).flatMap(i=>{const o=t[i],a=typeof o=="string"?{target:o}:o,s=Number.isNaN(+i)?i:+i,l=n(s);return oh(a).map(u=>({...u,event:l,delay:s}))}).map(i=>{const{delay:o}=i;return{...s1(e,i.event,i),delay:o}})}function s1(e,t,n){const r=O$e(n.target),i=n.reenter??!1,o=K9t(e,r),a={...n,actions:oh(n.actions),guard:n.guard,target:o,source:e,reenter:i,eventType:t,toJSON:()=>({...a,source:`#${e.id}`,target:o?o.map(s=>`#${s.id}`):void 0})};return a}function W9t(e){const t=new Map;if(e.config.on)for(const n of Object.keys(e.config.on)){if(n===_$e)throw new Error('Null events ("") cannot be specified as a transition key. Use `always: { ... }` instead.');const r=e.config.on[n];t.set(n,ov(r).map(i=>s1(e,n,i)))}if(e.config.onDone){const n=`xstate.done.state.${e.id}`;t.set(n,ov(e.config.onDone).map(r=>s1(e,n,r)))}for(const n of e.invoke){if(n.onDone){const r=`xstate.done.actor.${n.id}`;t.set(r,ov(n.onDone).map(i=>s1(e,r,i)))}if(n.onError){const r=`xstate.error.actor.${n.id}`;t.set(r,ov(n.onError).map(i=>s1(e,r,i)))}if(n.onSnapshot){const r=`xstate.snapshot.${n.id}`;t.set(r,ov(n.onSnapshot).map(i=>s1(e,r,i)))}}for(const n of e.after){let r=t.get(n.eventType);r||(r=[],t.set(n.eventType,r)),r.push(n)}return t}function G9t(e,t){const n=typeof t=="string"?e.states[t]:t?e.states[t.target]:void 0;if(!n&&t)throw new Error(`Initial state node "${t}" not found on parent state node #${e.id}`);const r={source:e,actions:!t||typeof t=="string"?[]:oh(t.actions),eventType:null,reenter:!1,target:n?[n]:[],toJSON:()=>({...r,source:`#${e.id}`,target:n?[`#${n.id}`]:[]})};return r}function K9t(e,t){if(t!==void 0)return t.map(n=>{if(typeof n!="string")return n;if(FE(n))return e.machine.getStateNodeById(n);const r=n[0]===E$e;if(r&&!e.parent)return k$(e,n.slice(1));const i=r?e.key+n:n;if(e.parent)try{return k$(e.parent,i)}catch(o){throw new Error(`Invalid transition definition for state node '${e.id}':
${o.message}`)}else throw new Error(`Invalid target: "${n}" is not a valid target from the root node. Did you mean ".${n}"?`)})}function N$e(e){const t=O$e(e.config.target);return t?{target:t.map(n=>typeof n=="string"?k$(e.parent,n):n)}:e.parent.initial}function w1(e){return e.type==="history"}function _le(e){const t=B$e(e);for(const n of t)for(const r of RE(n,e))t.add(r);return t}function B$e(e){const t=new Set;function n(r){if(!t.has(r)){if(t.add(r),r.type==="compound")n(r.initial.target[0]);else if(r.type==="parallel")for(const i of cx(r))n(i)}}return n(e),t}function ux(e,t){if(FE(t))return e.machine.getStateNodeById(t);if(!e.states)throw new Error(`Unable to retrieve child state '${t}' from '${e.id}'; no child states exist.`);const n=e.states[t];if(!n)throw new Error(`Child state '${t}' does not exist on '${e.id}'`);return n}function k$(e,t){if(typeof t=="string"&&FE(t))try{return e.machine.getStateNodeById(t)}catch{}const n=_q(t).slice();let r=e;for(;n.length;){const i=n.shift();if(!i.length)break;r=ux(r,i)}return r}function S$(e,t){if(typeof t=="string"){const i=e.states[t];if(!i)throw new Error(`State '${t}' does not exist on '${e.id}'`);return[e,i]}const n=Object.keys(t),r=n.map(i=>ux(e,i)).filter(Boolean);return[e.machine.root,e].concat(r,n.reduce((i,o)=>{const a=ux(e,o);if(!a)return i;const s=S$(a,t[o]);return i.concat(s)},[]))}function Y9t(e,t,n,r){const o=ux(e,t).next(n,r);return!o||!o.length?e.next(n,r):o}function q9t(e,t,n,r){const i=Object.keys(t),o=ux(e,i[0]),a=Oq(o,t[i[0]],n,r);return!a||!a.length?e.next(n,r):a}function Z9t(e,t,n,r){const i=[];for(const o of Object.keys(t)){const a=t[o];if(!a)continue;const s=ux(e,o),l=Oq(s,a,n,r);l&&i.push(...l)}return i.length?i:e.next(n,r)}function Oq(e,t,n,r){return typeof t=="string"?Y9t(e,t,n,r):Object.keys(t).length===1?q9t(e,t,n,r):Z9t(e,t,n,r)}function X9t(e){return Object.keys(e.states).map(t=>e.states[t]).filter(t=>t.type==="history")}function Zm(e,t){let n=e;for(;n.parent&&n.parent!==t;)n=n.parent;return n.parent===t}function J9t(e,t){const n=new Set(e),r=new Set(t);for(const i of n)if(r.has(i))return!0;for(const i of r)if(n.has(i))return!0;return!1}function V$e(e,t,n){const r=new Set;for(const i of e){let o=!1;const a=new Set;for(const s of r)if(J9t(RB([i],t,n),RB([s],t,n)))if(Zm(i.source,s.source))a.add(s);else{o=!0;break}if(!o){for(const s of a)r.delete(s);r.add(i)}}return Array.from(r)}function Q9t(e){const[t,...n]=e;for(const r of RE(t,void 0))if(n.every(i=>Zm(i,r)))return r}function Mq(e,t){if(!e.target)return[];const n=new Set;for(const r of e.target)if(w1(r))if(t[r.id])for(const i of t[r.id])n.add(i);else for(const i of Mq(N$e(r),t))n.add(i);else n.add(r);return[...n]}function z$e(e,t){const n=Mq(e,t);if(!n)return;if(!e.reenter&&n.every(i=>i===e.source||Zm(i,e.source)))return e.source;const r=Q9t(n.concat(e.source));if(r)return r;if(!e.reenter)return e.source.machine.root}function RB(e,t,n){var i;const r=new Set;for(const o of e)if((i=o.target)!=null&&i.length){const a=z$e(o,n);o.reenter&&o.source===a&&r.add(a);for(const s of t)Zm(s,a)&&r.add(s)}return[...r]}function e7t(e,t){if(e.length!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function FB(e,t,n,r,i,o){if(!e.length)return t;const a=new Set(t._nodes);let s=t.historyValue;const l=V$e(e,a,s);let u=t;i||([u,s]=i7t(u,r,n,l,a,s,o,n.actionExecutor)),u=dx(u,r,n,l.flatMap(f=>f.actions),o,void 0),u=n7t(u,r,n,l,a,o,s,i);const d=[...a];u.status==="done"&&(u=dx(u,r,n,d.sort((f,h)=>h.order-f.order).flatMap(f=>f.exit),o,void 0));try{return s===t.historyValue&&e7t(t._nodes,a)?u:yy(u,{_nodes:d,historyValue:s})}catch(f){throw f}}function t7t(e,t,n,r,i){if(r.output===void 0)return;const o=MB(i.id,i.output!==void 0&&i.parent?PB(i.output,e.context,t,n.self):void 0);return PB(r.output,e.context,o,n.self)}function n7t(e,t,n,r,i,o,a,s){let l=e;const u=new Set,d=new Set;r7t(r,a,d,u),s&&d.add(e.machine.root);const f=new Set;for(const h of[...u].sort((m,g)=>m.order-g.order)){i.add(h);const m=[];m.push(...h.entry);for(const g of h.invoke)m.push(Iq(g.src,{...g,syncSnapshot:!!g.onSnapshot}));if(d.has(h)){const g=h.initial.actions;m.push(...g)}if(l=dx(l,t,n,m,o,h.invoke.map(g=>g.id)),h.type==="final"){const g=h.parent;let y=(g==null?void 0:g.type)==="parallel"?g:g==null?void 0:g.parent,x=y||h;for((g==null?void 0:g.type)==="compound"&&o.push(MB(g.id,h.output!==void 0?PB(h.output,l.context,t,n.self):void 0));(y==null?void 0:y.type)==="parallel"&&!f.has(y)&&Dq(i,y);)f.add(y),o.push(MB(y.id)),x=y,y=y.parent;if(y)continue;l=yy(l,{status:"done",output:t7t(l,t,n,l.machine.root,x)})}}return l}function r7t(e,t,n,r){for(const i of e){const o=z$e(i,t);for(const s of i.target||[])!w1(s)&&(i.source!==s||i.source!==o||i.reenter)&&(r.add(s),n.add(s)),Vv(s,t,n,r);const a=Mq(i,t);for(const s of a){const l=RE(s,o);(o==null?void 0:o.type)==="parallel"&&l.push(o),U$e(r,t,n,l,!i.source.parent&&i.reenter?void 0:o)}}}function Vv(e,t,n,r){var i;if(w1(e))if(t[e.id]){const o=t[e.id];for(const a of o)r.add(a),Vv(a,t,n,r);for(const a of o)z8(a,e.parent,r,t,n)}else{const o=N$e(e);for(const a of o.target)r.add(a),o===((i=e.parent)==null?void 0:i.initial)&&n.add(e.parent),Vv(a,t,n,r);for(const a of o.target)z8(a,e.parent,r,t,n)}else if(e.type==="compound"){const[o]=e.initial.target;w1(o)||(r.add(o),n.add(o)),Vv(o,t,n,r),z8(o,e,r,t,n)}else if(e.type==="parallel")for(const o of cx(e).filter(a=>!w1(a)))[...r].some(a=>Zm(a,o))||(w1(o)||(r.add(o),n.add(o)),Vv(o,t,n,r))}function U$e(e,t,n,r,i){for(const o of r)if((!i||Zm(o,i))&&e.add(o),o.type==="parallel")for(const a of cx(o).filter(s=>!w1(s)))[...e].some(s=>Zm(s,a))||(e.add(a),Vv(a,t,n,e))}function z8(e,t,n,r,i){U$e(n,r,i,RE(e,t))}function i7t(e,t,n,r,i,o,a,s){let l=e;const u=RB(r,i,o);u.sort((f,h)=>h.order-f.order);let d;for(const f of u)for(const h of X9t(f)){let m;h.history==="deep"?m=g=>$q(g)&&Zm(g,f):m=g=>g.parent===f,d??(d={...o}),d[h.id]=Array.from(i).filter(m)}for(const f of u)l=dx(l,t,n,[...f.exit,...f.invoke.map(h=>wP(h.id))],a,void 0),i.delete(f);return[l,d||o]}function o7t(e,t){return e.implementations.actions[t]}function H$e(e,t,n,r,i,o){const{machine:a}=e;let s=e;for(const l of r){const u=typeof l=="function",d=u?l:o7t(a,typeof l=="string"?l:l.type),f={context:s.context,event:t,self:n.self,system:n.system},h=u||typeof l=="string"?void 0:"params"in l?typeof l.params=="function"?l.params({context:s.context,event:t}):l.params:void 0;if(!d||!("resolve"in d)){n.actionExecutor({type:typeof l=="string"?l:typeof l=="object"?l.type:l.name||"(anonymous)",info:f,params:h,exec:d});continue}const m=d,[g,y,x]=m.resolve(n,s,f,h,d,i);s=g,"retryResolve"in m&&(o==null||o.push([m,y])),"execute"in m&&n.actionExecutor({type:m.type,info:f,params:y,exec:m.execute.bind(null,n,y)}),x&&(s=H$e(s,t,n,x,i,o))}return s}function dx(e,t,n,r,i,o){const a=o?[]:void 0,s=H$e(e,t,n,r,{internalQueue:i,deferredActorIds:o},a);return a==null||a.forEach(([l,u])=>{l.retryResolve(n,s,u)}),s}function U8(e,t,n,r){let i=e;const o=[];function a(u,d,f){n.system._sendInspectionEvent({type:"@xstate.microstep",actorRef:n.self,event:d,snapshot:u,_transitions:f}),o.push(u)}if(t.type===x$)return i=yy(Tle(i,t,n),{status:"stopped"}),a(i,t,[]),{snapshot:i,microstates:o};let s=t;if(s.type!==T$e){const u=s,d=A9t(u),f=Ale(u,i);if(d&&!f.length)return i=yy(e,{status:"error",error:u.error}),a(i,u,[]),{snapshot:i,microstates:o};i=FB(f,e,n,s,!1,r),a(i,u,f)}let l=!0;for(;i.status==="active";){let u=l?a7t(i,s):[];const d=u.length?i:void 0;if(!u.length){if(!r.length)break;s=r.shift(),u=Ale(s,i)}i=FB(u,i,n,s,!1,r),l=i!==d,a(i,s,u)}return i.status!=="active"&&Tle(i,s,n),{snapshot:i,microstates:o}}function Tle(e,t,n){return dx(e,t,n,Object.values(e.children).map(r=>wP(r)),[],void 0)}function Ale(e,t){return t.machine.getTransitionData(t,e)}function a7t(e,t){const n=new Set,r=e._nodes.filter($q);for(const i of r)e:for(const o of[i].concat(RE(i,void 0)))if(o.always){for(const a of o.always)if(a.guard===void 0||Iw(a.guard,e.context,t,e)){n.add(a);break e}}return V$e(Array.from(n),new Set(e._nodes),e.historyValue)}function s7t(e,t){const n=C$(S$(e,t));return L$e(e,[...n])}function l7t(e){return!!e&&typeof e=="object"&&"machine"in e&&"value"in e}const c7t=function(t){return I$e(t,this.value)},u7t=function(t){return this.tags.has(t)},d7t=function(t){const n=this.machine.getTransitionData(this,t);return!!(n!=null&&n.length)&&n.some(r=>r.target!==void 0||r.actions.length)},f7t=function(){const{_nodes:t,tags:n,machine:r,getMeta:i,toJSON:o,can:a,hasTag:s,matches:l,...u}=this;return{...u,tags:Array.from(n)}},h7t=function(){return this._nodes.reduce((t,n)=>(n.meta!==void 0&&(t[n.id]=n.meta),t),{})};function tI(e,t){return{status:e.status,output:e.output,error:e.error,machine:t,context:e.context,_nodes:e._nodes,value:L$e(t.root,e._nodes),tags:new Set(e._nodes.flatMap(n=>n.tags)),children:e.children,historyValue:e.historyValue||{},matches:c7t,hasTag:u7t,can:d7t,getMeta:h7t,toJSON:f7t}}function yy(e,t={}){return tI({...e,...t},e.machine)}function p7t(e){if(typeof e!="object"||e===null)return{};const t={};for(const n in e){const r=e[n];Array.isArray(r)&&(t[n]=r.map(i=>({id:i.id})))}return t}function m7t(e,t){const{_nodes:n,tags:r,machine:i,children:o,context:a,can:s,hasTag:l,matches:u,getMeta:d,toJSON:f,...h}=e,m={};for(const y in o){const x=o[y];m[y]={snapshot:x.getPersistedSnapshot(t),src:x.src,systemId:x.systemId,syncSnapshot:x._syncSnapshot}}return{...h,context:W$e(a),children:m,historyValue:p7t(h.historyValue)}}function W$e(e){let t;for(const n in e){const r=e[n];if(r&&typeof r=="object")if("sessionId"in r&&"send"in r&&"ref"in r)t??(t=Array.isArray(e)?e.slice():{...e}),t[n]={xstate$$type:Aq,id:r.id};else{const i=W$e(r);i!==r&&(t??(t=Array.isArray(e)?e.slice():{...e}),t[n]=i)}}return t??e}function g7t(e,t,n,r,{event:i,id:o,delay:a},{internalQueue:s}){const l=t.machine.implementations.delays;if(typeof i=="string")throw new Error(`Only event objects may be used with raise; use raise({ type: "${i}" }) instead`);const u=typeof i=="function"?i(n,r):i;let d;if(typeof a=="string"){const f=l&&l[a];d=typeof f=="function"?f(n,r):f}else d=typeof a=="function"?a(n,r):a;return typeof d!="number"&&s.push(u),[t,{event:u,id:o,delay:d},void 0]}function y7t(e,t){const{event:n,delay:r,id:i}=t;if(typeof r=="number"){e.defer(()=>{const o=e.self;e.system.scheduler.schedule(o,o,n,r,i)});return}}function CP(e,t){function n(r,i){}return n.type="xstate.raise",n.event=e,n.id=t==null?void 0:t.id,n.delay=t==null?void 0:t.delay,n.resolve=g7t,n.execute=y7t,n}const H8=new WeakMap;function E$(e){return{config:e,start:(n,r)=>{const{self:i,system:o,emit:a}=r,s={receivers:void 0,dispose:void 0};H8.set(i,s),s.dispose=e({input:n.input,system:o,self:i,sendBack:l=>{i.getSnapshot().status!=="stopped"&&i._parent&&o._relay(i,i._parent,l)},receive:l=>{s.receivers??(s.receivers=new Set),s.receivers.add(l)},emit:a})},transition:(n,r,i)=>{var a,s,l;const o=H8.get(i.self);return r.type===x$?(n={...n,status:"stopped",error:void 0},H8.delete(i.self),(a=o.receivers)==null||a.clear(),(s=o.dispose)==null||s.call(o),n):((l=o.receivers)==null||l.forEach(u=>u(r)),n)},getInitialSnapshot:(n,r)=>({status:"active",output:void 0,error:void 0,input:r}),getPersistedSnapshot:n=>n,restoreSnapshot:n=>n}}function v7t(e,{machine:t,context:n},r,i){const o=(a,s)=>{if(typeof a=="string"){const l=Tq(t,a);if(!l)throw new Error(`Actor logic '${a}' not implemented in machine '${t.id}'`);const u=Qd(l,{id:s==null?void 0:s.id,parent:e.self,syncSnapshot:s==null?void 0:s.syncSnapshot,input:typeof(s==null?void 0:s.input)=="function"?s.input({context:n,event:r,self:e.self}):s==null?void 0:s.input,src:a,systemId:s==null?void 0:s.systemId});return i[u.id]=u,u}else return Qd(a,{id:s==null?void 0:s.id,parent:e.self,syncSnapshot:s==null?void 0:s.syncSnapshot,input:s==null?void 0:s.input,src:a,systemId:s==null?void 0:s.systemId})};return(a,s)=>{const l=o(a,s);return i[l.id]=l,e.defer(()=>{l._processingStatus!==Hs.Stopped&&l.start()}),l}}function b7t(e,t,n,r,{assignment:i}){if(!t.context)throw new Error("Cannot assign to undefined `context`. Ensure that `context` is defined in the machine config.");const o={},a={context:t.context,event:n.event,spawn:v7t(e,t,n.event,o),self:e.self,system:e.system};let s={};if(typeof i=="function")s=i(a,r);else for(const u of Object.keys(i)){const d=i[u];s[u]=typeof d=="function"?d(a,r):d}const l=Object.assign({},t.context,s);return[yy(t,{context:l,children:Object.keys(o).length?{...t.children,...o}:t.children}),void 0,void 0]}function vn(e){function t(n,r){}return t.type="xstate.assign",t.assignment=e,t.resolve=b7t,t}const jle=new WeakMap;function z0(e,t,n){let r=jle.get(e);return r?t in r||(r[t]=n()):(r={[t]:n()},jle.set(e,r)),r[t]}const x7t={},BC=e=>typeof e=="string"?{type:e}:typeof e=="function"?"resolve"in e?{type:e.type}:{type:e.name}:e;class _${constructor(t,n){if(this.config=t,this.key=void 0,this.id=void 0,this.type=void 0,this.path=void 0,this.states=void 0,this.history=void 0,this.entry=void 0,this.exit=void 0,this.parent=void 0,this.machine=void 0,this.meta=void 0,this.output=void 0,this.order=-1,this.description=void 0,this.tags=[],this.transitions=void 0,this.always=void 0,this.parent=n._parent,this.key=n._key,this.machine=n._machine,this.path=this.parent?this.parent.path.concat(this.key):[],this.id=this.config.id||[this.machine.id,...this.path].join(E$e),this.type=this.config.type||(this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.description=this.config.description,this.order=this.machine.idMap.size,this.machine.idMap.set(this.id,this),this.states=this.config.states?kle(this.config.states,(r,i)=>new _$(r,{_parent:this,_key:i,_machine:this.machine})):x7t,this.type==="compound"&&!this.config.initial)throw new Error(`No initial state specified for compound state node "#${this.id}". Try adding { initial: "${Object.keys(this.states)[0]}" } to the state config.`);this.history=this.config.history===!0?"shallow":this.config.history||!1,this.entry=oh(this.config.entry).slice(),this.exit=oh(this.config.exit).slice(),this.meta=this.config.meta,this.output=this.type==="final"||!this.parent?this.config.output:void 0,this.tags=oh(t.tags).slice()}_initialize(){this.transitions=W9t(this),this.config.always&&(this.always=ov(this.config.always).map(t=>s1(this,_$e,t))),Object.keys(this.states).forEach(t=>{this.states[t]._initialize()})}get definition(){return{id:this.id,key:this.key,version:this.machine.version,type:this.type,initial:this.initial?{target:this.initial.target,source:this,actions:this.initial.actions.map(BC),eventType:null,reenter:!1,toJSON:()=>({target:this.initial.target.map(t=>`#${t.id}`),source:`#${this.id}`,actions:this.initial.actions.map(BC),eventType:null})}:void 0,history:this.history,states:kle(this.states,t=>t.definition),on:this.on,transitions:[...this.transitions.values()].flat().map(t=>({...t,actions:t.actions.map(BC)})),entry:this.entry.map(BC),exit:this.exit.map(BC),meta:this.meta,order:this.order||-1,output:this.output,invoke:this.invoke,description:this.description,tags:this.tags}}toJSON(){return this.definition}get invoke(){return z0(this,"invoke",()=>oh(this.config.invoke).map((t,n)=>{const{src:r,systemId:i}=t,o=t.id??Sle(this.id,n),a=typeof r=="string"?r:`xstate.invoke.${Sle(this.id,n)}`;return{...t,src:a,id:o,systemId:i,toJSON(){const{onDone:s,onError:l,...u}=t;return{...u,type:"xstate.invoke",src:a,id:o}}}}))}get on(){return z0(this,"on",()=>[...this.transitions].flatMap(([n,r])=>r.map(i=>[n,i])).reduce((n,[r,i])=>(n[r]=n[r]||[],n[r].push(i),n),{}))}get after(){return z0(this,"delayedTransitions",()=>H9t(this))}get initial(){return z0(this,"initial",()=>G9t(this,this.config.initial))}next(t,n){const r=n.type,i=[];let o;const a=z0(this,`candidates-${r}`,()=>U9t(this,r));for(const s of a){const{guard:l}=s,u=t.context;let d=!1;try{d=!l||Iw(l,u,n,t)}catch(f){const h=typeof l=="string"?l:typeof l=="object"?l.type:void 0;throw new Error(`Unable to evaluate guard ${h?`'${h}' `:""}in transition for event '${r}' in state node '${this.id}':
${f.message}`)}if(d){i.push(...s.actions),o=s;break}}return o?[o]:void 0}get events(){return z0(this,"events",()=>{const{states:t}=this,n=new Set(this.ownEvents);if(t)for(const r of Object.keys(t)){const i=t[r];if(i.states)for(const o of i.events)n.add(`${o}`)}return Array.from(n)})}get ownEvents(){const t=Object.keys(Object.fromEntries(this.transitions)),n=new Set(t.filter(r=>this.transitions.get(r).some(i=>!(!i.target&&!i.actions.length&&!i.reenter))));return Array.from(n)}}const w7t="#";class Pq{constructor(t,n){this.config=t,this.version=void 0,this.schemas=void 0,this.implementations=void 0,this.__xstatenode=!0,this.idMap=new Map,this.root=void 0,this.id=void 0,this.states=void 0,this.events=void 0,this.id=t.id||"(machine)",this.implementations={actors:(n==null?void 0:n.actors)??{},actions:(n==null?void 0:n.actions)??{},delays:(n==null?void 0:n.delays)??{},guards:(n==null?void 0:n.guards)??{}},this.version=this.config.version,this.schemas=this.config.schemas,this.transition=this.transition.bind(this),this.getInitialSnapshot=this.getInitialSnapshot.bind(this),this.getPersistedSnapshot=this.getPersistedSnapshot.bind(this),this.restoreSnapshot=this.restoreSnapshot.bind(this),this.start=this.start.bind(this),this.root=new _$(t,{_key:this.id,_machine:this}),this.root._initialize(),this.states=this.root.states,this.events=this.root.events}provide(t){const{actions:n,guards:r,actors:i,delays:o}=this.implementations;return new Pq(this.config,{actions:{...n,...t.actions},guards:{...r,...t.guards},actors:{...i,...t.actors},delays:{...o,...t.delays}})}resolveState(t){const n=s7t(this.root,t.value),r=C$(S$(this.root,n));return tI({_nodes:[...r],context:t.context||{},children:{},status:Dq(r,this.root)?"done":t.status||"active",output:t.output,error:t.error,historyValue:t.historyValue},this)}transition(t,n,r){return U8(t,n,r,[]).snapshot}microstep(t,n,r){return U8(t,n,r,[]).microstates}getTransitionData(t,n){return Oq(this.root,t.value,t,n)||[]}getPreInitialState(t,n,r){const{context:i}=this.config,o=tI({context:typeof i!="function"&&i?i:{},_nodes:[this.root],children:{},status:"active"},this);return typeof i=="function"?dx(o,n,t,[vn(({spawn:s,event:l,self:u})=>i({spawn:s,input:l.input,self:u}))],r,void 0):o}getInitialSnapshot(t,n){const r=j$e(n),i=[],o=this.getPreInitialState(t,r,i),a=FB([{target:[...B$e(this.root)],source:this.root,reenter:!0,actions:[],eventType:null,toJSON:null}],o,t,r,!0,i),{snapshot:s}=U8(a,r,t,i);return s}start(t){Object.values(t.children).forEach(n=>{n.getSnapshot().status==="active"&&n.start()})}getStateNodeById(t){const n=_q(t),r=n.slice(1),i=FE(n[0])?n[0].slice(w7t.length):n[0],o=this.idMap.get(i);if(!o)throw new Error(`Child state node '#${i}' does not exist on machine '${this.id}'`);return k$(o,r)}get definition(){return this.root.definition}toJSON(){return this.definition}getPersistedSnapshot(t,n){return m7t(t,n)}restoreSnapshot(t,n){const r={},i=t.children;Object.keys(i).forEach(f=>{const h=i[f],m=h.snapshot,g=h.src,y=typeof g=="string"?Tq(this,g):g;if(!y)return;const x=Qd(y,{id:f,parent:n.self,syncSnapshot:h.syncSnapshot,snapshot:m,src:g,systemId:h.systemId});r[f]=x});function o(f,h){if(h instanceof _$)return h;try{return f.machine.getStateNodeById(h.id)}catch{}}function a(f,h){if(!h||typeof h!="object")return{};const m={};for(const g in h){const y=h[g];for(const x of y){const b=o(f,x);b&&(m[g]??(m[g]=[]),m[g].push(b))}}return m}const s=a(this.root,t.historyValue),l=tI({...t,children:r,_nodes:Array.from(C$(S$(this.root,t.value))),historyValue:s},this),u=new Set;function d(f,h){if(!u.has(f)){u.add(f);for(const m in f){const g=f[m];if(g&&typeof g=="object"){if("xstate$$type"in g&&g.xstate$$type===Aq){f[m]=h[g.id];continue}d(g,h)}}}}return d(l.context,r),l}}function C7t(e,t,n,r,{event:i}){const o=typeof i=="function"?i(n,r):i;return[t,{event:o},void 0]}function k7t(e,{event:t}){e.defer(()=>e.emit(t))}function co(e){function t(n,r){}return t.type="xstate.emit",t.event=e,t.resolve=C7t,t.execute=k7t,t}let LB=function(e){return e.Parent="#_parent",e.Internal="#_internal",e}({});function S7t(e,t,n,r,{to:i,event:o,id:a,delay:s},l){var g;const u=t.machine.implementations.delays;if(typeof o=="string")throw new Error(`Only event objects may be used with sendTo; use sendTo({ type: "${o}" }) instead`);const d=typeof o=="function"?o(n,r):o;let f;if(typeof s=="string"){const y=u&&u[s];f=typeof y=="function"?y(n,r):y}else f=typeof s=="function"?s(n,r):s;const h=typeof i=="function"?i(n,r):i;let m;if(typeof h=="string"){if(h===LB.Parent?m=e.self._parent:h===LB.Internal?m=e.self:h.startsWith("#_")?m=t.children[h.slice(2)]:m=(g=l.deferredActorIds)!=null&&g.includes(h)?h:t.children[h],!m)throw new Error(`Unable to send event to actor '${h}' from machine '${t.machine.id}'.`)}else m=h||e.self;return[t,{to:m,targetId:typeof h=="string"?h:void 0,event:d,id:a,delay:f},void 0]}function E7t(e,t,n){typeof n.to=="string"&&(n.to=t.children[n.to])}function _7t(e,t){e.defer(()=>{const{to:n,event:r,delay:i,id:o}=t;if(typeof i=="number"){e.system.scheduler.schedule(e.self,n,r,i,o);return}e.system._relay(e.self,n,r.type===k9t?A$e(e.self.id,r.data):r)})}function Rq(e,t,n){function r(i,o){}return r.type="xstate.sendTo",r.to=e,r.event=t,r.id=n==null?void 0:n.id,r.delay=n==null?void 0:n.delay,r.resolve=S7t,r.retryResolve=E7t,r.execute=_7t,r}function T7t(e,t){return Rq(LB.Parent,e,t)}function A7t(e,t,n,r,{collect:i}){const o=[],a=function(l){o.push(l)};return a.assign=(...s)=>{o.push(vn(...s))},a.cancel=(...s)=>{o.push(jq(...s))},a.raise=(...s)=>{o.push(CP(...s))},a.sendTo=(...s)=>{o.push(Rq(...s))},a.sendParent=(...s)=>{o.push(T7t(...s))},a.spawnChild=(...s)=>{o.push(Iq(...s))},a.stopChild=(...s)=>{o.push(wP(...s))},a.emit=(...s)=>{o.push(co(...s))},i({context:n.context,event:n.event,enqueue:a,check:s=>Iw(s,t.context,n.event,t),self:e.self,system:e.system},r),[t,void 0,o]}function H2(e){function t(n,r){}return t.type="xstate.enqueueActions",t.collect=e,t.resolve=A7t,t}function j7t(e,t,n,r,{value:i,label:o}){return[t,{value:typeof i=="function"?i(n,r):i,label:o},void 0]}function I7t({logger:e},{value:t,label:n}){n?e(n,t):e(t)}function $7t(e=({context:n,event:r})=>({context:n,event:r}),t){function n(r,i){}return n.type="xstate.log",n.value=e,n.label=t,n.resolve=j7t,n.execute=I7t,n}function wl(e,t){const n=oh(t);if(!n.some(i=>M$e(e.type,i))){const i=n.length===1?`type matching "${n[0]}"`:`one of types matching "${n.join('", "')}"`;throw new Error(`Expected event ${JSON.stringify(e)} to have ${i}`)}}function D7t(e,t){return new Pq(e,t)}function $w({schemas:e,actors:t,actions:n,guards:r,delays:i}){return{assign:vn,sendTo:Rq,raise:CP,log:$7t,cancel:jq,stopChild:wP,enqueueActions:H2,emit:co,spawnChild:Iq,createStateConfig:o=>o,createAction:o=>o,createMachine:o=>D7t({...o,schemas:e},{actors:t,actions:n,guards:r,delays:i}),extend:o=>$w({schemas:e,actors:t,actions:{...n,...o.actions},guards:{...r,...o.guards},delays:{...i,...o.delays}})}}var G$e={exports:{}},K$e={},Y$e={exports:{}},q$e={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx=p;function O7t(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var M7t=typeof Object.is=="function"?Object.is:O7t,P7t=fx.useState,R7t=fx.useEffect,F7t=fx.useLayoutEffect,L7t=fx.useDebugValue;function N7t(e,t){var n=t(),r=P7t({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return F7t(function(){i.value=n,i.getSnapshot=t,W8(i)&&o({inst:i})},[e,n,t]),R7t(function(){return W8(i)&&o({inst:i}),e(function(){W8(i)&&o({inst:i})})},[e]),L7t(n),n}function W8(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!M7t(e,n)}catch{return!0}}function B7t(e,t){return t()}var V7t=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?B7t:N7t;q$e.useSyncExternalStore=fx.useSyncExternalStore!==void 0?fx.useSyncExternalStore:V7t;Y$e.exports=q$e;var Z$e=Y$e.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kP=p,z7t=Z$e;function U7t(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var H7t=typeof Object.is=="function"?Object.is:U7t,W7t=z7t.useSyncExternalStore,G7t=kP.useRef,K7t=kP.useEffect,Y7t=kP.useMemo,q7t=kP.useDebugValue;K$e.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=G7t(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=Y7t(function(){function l(m){if(!u){if(u=!0,d=m,m=r(m),i!==void 0&&a.hasValue){var g=a.value;if(i(g,m))return f=g}return f=m}if(g=f,H7t(d,m))return g;var y=r(m);return i!==void 0&&i(g,y)?(d=m,g):(d=m,f=y)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var s=W7t(e,o[0],o[1]);return K7t(function(){a.hasValue=!0,a.value=s},[s]),q7t(s),s};G$e.exports=K$e;var Z7t=G$e.exports;const X$e=(e,t)=>{t(e);const n=e.getSnapshot().children;n&&Object.values(n).forEach(r=>{X$e(r,t)})};function X7t(e){var r,i;const t=[];X$e(e,o=>{t.push([o,o.getSnapshot()]),o.observers=new Set});const n=(i=(r=e.system).getSnapshot)==null?void 0:i.call(r);e.stop(),e.system._snapshot=n,t.forEach(([o,a])=>{o._processingStatus=0,o._snapshot=a})}function J7t(e,...[t]){let[[n,r],i]=p.useState(()=>{const o=Qd(e,t);return[e.config,o]});if(e.config!==n){const o=Qd(e,{...t,snapshot:r.getPersistedSnapshot({__unsafeAllowInlineActors:!0})});i([e.config,o]),r=o}return g9t(()=>{r.logic.implementations=e.implementations}),r}function Q7t(e,...[t,n]){const r=J7t(e,t);return p.useEffect(()=>{if(!n)return;const i=r.subscribe(w$(n));return()=>{i.unsubscribe()}},[n]),p.useEffect(()=>(r.start(),()=>{X7t(r)}),[r]),r}function eNt(e,t){return e===t}function hx(e,t,n=eNt){const r=p.useCallback(a=>{if(!e)return()=>{};const{unsubscribe:s}=e.subscribe(a);return s},[e]),i=p.useCallback(()=>e==null?void 0:e.getSnapshot(),[e]);return Z7t.useSyncExternalStoreWithSelector(r,i,i,t,n)}var J$e=Symbol.for("immer-nothing"),Ile=Symbol.for("immer-draftable"),Ll=Symbol.for("immer-state");function pu(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var W2=Object.getPrototypeOf;function px(e){return!!e&&!!e[Ll]}function vy(e){var t;return e?Q$e(e)||Array.isArray(e)||!!e[Ile]||!!((t=e.constructor)!=null&&t[Ile])||LE(e)||EP(e):!1}var tNt=Object.prototype.constructor.toString(),$le=new WeakMap;function Q$e(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=$le.get(n);return r===void 0&&(r=Function.toString.call(n),$le.set(n,r)),r===tNt}function T$(e,t,n=!0){SP(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function SP(e){const t=e[Ll];return t?t.type_:Array.isArray(e)?1:LE(e)?2:EP(e)?3:0}function NB(e,t){return SP(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function eDe(e,t,n){const r=SP(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function nNt(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function LE(e){return e instanceof Map}function EP(e){return e instanceof Set}function Jg(e){return e.copy_||e.base_}function BB(e,t){if(LE(e))return new Map(e);if(EP(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Q$e(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Ll];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],s=r[a];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[a]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[a]})}return Object.create(W2(e),r)}else{const r=W2(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Fq(e,t=!1){return _P(e)||px(e)||!vy(e)||(SP(e)>1&&Object.defineProperties(e,{set:WT,add:WT,clear:WT,delete:WT}),Object.freeze(e),t&&Object.values(e).forEach(n=>Fq(n,!0))),e}function rNt(){pu(2)}var WT={value:rNt};function _P(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var iNt={};function by(e){const t=iNt[e];return t||pu(0,e),t}var G2;function tDe(){return G2}function oNt(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Dle(e,t){t&&(by("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function VB(e){zB(e),e.drafts_.forEach(aNt),e.drafts_=null}function zB(e){e===G2&&(G2=e.parent_)}function Ole(e){return G2=oNt(G2,e)}function aNt(e){const t=e[Ll];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Mle(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ll].modified_&&(VB(t),pu(4)),vy(e)&&(e=A$(t,e),t.parent_||j$(t,e)),t.patches_&&by("Patches").generateReplacementPatches_(n[Ll].base_,e,t.patches_,t.inversePatches_)):e=A$(t,n,[]),VB(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==J$e?e:void 0}function A$(e,t,n){if(_P(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Ll];if(!i)return T$(t,(o,a)=>Ple(e,i,t,o,a,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return j$(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let a=o,s=!1;i.type_===3&&(a=new Set(o),o.clear(),s=!0),T$(a,(l,u)=>Ple(e,i,o,l,u,n,s),r),j$(e,o,!1),n&&e.patches_&&by("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function Ple(e,t,n,r,i,o,a){if(i==null||typeof i!="object"&&!a)return;const s=_P(i);if(!(s&&!a)){if(px(i)){const l=o&&t&&t.type_!==3&&!NB(t.assigned_,r)?o.concat(r):void 0,u=A$(e,i,l);if(eDe(n,r,u),px(u))e.canAutoFreeze_=!1;else return}else a&&n.add(i);if(vy(i)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&s)return;A$(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(LE(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&j$(e,i)}}}function j$(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Fq(t,n)}function sNt(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:tDe(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Lq;n&&(i=[r],o=K2);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,s}var Lq={get(e,t){if(t===Ll)return e;const n=Jg(e);if(!NB(n,t))return lNt(e,n,t);const r=n[t];return e.finalized_||!vy(r)?r:r===G8(e.base_,t)?(K8(e),e.copy_[t]=HB(r,e)):r},has(e,t){return t in Jg(e)},ownKeys(e){return Reflect.ownKeys(Jg(e))},set(e,t,n){const r=nDe(Jg(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=G8(Jg(e),t),o=i==null?void 0:i[Ll];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(nNt(n,i)&&(n!==void 0||NB(e.base_,t)))return!0;K8(e),UB(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return G8(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,K8(e),UB(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Jg(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){pu(11)},getPrototypeOf(e){return W2(e.base_)},setPrototypeOf(){pu(12)}},K2={};T$(Lq,(e,t)=>{K2[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});K2.deleteProperty=function(e,t){return K2.set.call(this,e,t,void 0)};K2.set=function(e,t,n){return Lq.set.call(this,e[0],t,n,e[0])};function G8(e,t){const n=e[Ll];return(n?Jg(n):e)[t]}function lNt(e,t,n){var i;const r=nDe(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function nDe(e,t){if(!(t in e))return;let n=W2(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=W2(n)}}function UB(e){e.modified_||(e.modified_=!0,e.parent_&&UB(e.parent_))}function K8(e){e.copy_||(e.copy_=BB(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var cNt=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const a=this;return function(l=o,...u){return a.produce(l,d=>n.call(this,d,...u))}}typeof n!="function"&&pu(6),r!==void 0&&typeof r!="function"&&pu(7);let i;if(vy(t)){const o=Ole(this),a=HB(t,void 0);let s=!0;try{i=n(a),s=!1}finally{s?VB(o):zB(o)}return Dle(o,r),Mle(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===J$e&&(i=void 0),this.autoFreeze_&&Fq(i,!0),r){const o=[],a=[];by("Patches").generateReplacementPatches_(t,i,o,a),r(o,a)}return i}else pu(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(a,...s)=>this.produceWithPatches(a,l=>t(l,...s));let r,i;return[this.produce(t,n,(a,s)=>{r=a,i=s}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){vy(e)||pu(8),px(e)&&(e=uNt(e));const t=Ole(this),n=HB(e,void 0);return n[Ll].isManual_=!0,zB(t),n}finishDraft(e,t){const n=e&&e[Ll];(!n||!n.isManual_)&&pu(9);const{scope_:r}=n;return Dle(r,t),Mle(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=by("Patches").applyPatches_;return px(e)?r(e,t):this.produce(e,i=>r(i,t))}};function HB(e,t){const n=LE(e)?by("MapSet").proxyMap_(e,t):EP(e)?by("MapSet").proxySet_(e,t):sNt(e,t);return(t?t.scope_:tDe()).drafts_.push(n),n}function uNt(e){return px(e)||pu(10,e),rDe(e)}function rDe(e){if(!vy(e)||_P(e))return e;const t=e[Ll];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=BB(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=BB(e,!0);return T$(n,(i,o)=>{eDe(n,i,rDe(o))},r),t&&(t.finalized_=!1),n}var Y2=new cNt,dNt=Y2.produce,fNt=Y2.createDraft.bind(Y2),hNt=Y2.finishDraft.bind(Y2),pNt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var i=ue.transform(n,t,{affinity:r});e.current=i,i==null&&e.unref()}}},mNt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var i=Yt.transform(n,t,{affinity:r});e.current=i,i==null&&e.unref()}}},gNt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var i=me.transform(n,t,{affinity:r});e.current=i,i==null&&e.unref()}}},I$=new WeakMap,$$=new WeakMap,AS=new WeakMap,iDe=new WeakMap,Rle=new WeakMap,Fle=new WeakMap,Lle=new WeakMap,ue={ancestors(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=ue.levels(e,t);return n?r=r.slice(1):r=r.slice(0,-1),r},common(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var i=e[r],o=t[r];if(i!==o)break;n.push(i)}return n},compare(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0},endsAfter(e,t){var n=e.length-1,r=e.slice(0,n),i=t.slice(0,n),o=e[n],a=t[n];return ue.equals(r,i)&&o>a},endsAt(e,t){var n=e.length,r=e.slice(0,n),i=t.slice(0,n);return ue.equals(r,i)},endsBefore(e,t){var n=e.length-1,r=e.slice(0,n),i=t.slice(0,n),o=e[n],a=t[n];return ue.equals(r,i)&&o<a},equals(e,t){return e.length===t.length&&e.every((n,r)=>n===t[r])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,t){return ue.compare(e,t)===1},isAncestor(e,t){return e.length<t.length&&ue.compare(e,t)===0},isBefore(e,t){return ue.compare(e,t)===-1},isChild(e,t){return e.length===t.length+1&&ue.compare(e,t)===0},isCommon(e,t){return e.length<=t.length&&ue.compare(e,t)===0},isDescendant(e,t){return e.length>t.length&&ue.compare(e,t)===0},isParent(e,t){return e.length+1===t.length&&ue.compare(e,t)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1),i=e[e.length-1],o=t[t.length-1];return i!==o&&ue.equals(n,r)},levels(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=[],i=0;i<=e.length;i++)r.push(e.slice(0,i));return n&&r.reverse(),r},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!ue.isAncestor(t,e)&&!ue.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return null;var r=[...e],{affinity:i="forward"}=n;if(e.length===0)return r;switch(t.type){case"insert_node":{var{path:o}=t;(ue.equals(o,r)||ue.endsBefore(o,r)||ue.isAncestor(o,r))&&(r[o.length-1]+=1);break}case"remove_node":{var{path:a}=t;if(ue.equals(a,r)||ue.isAncestor(a,r))return null;ue.endsBefore(a,r)&&(r[a.length-1]-=1);break}case"merge_node":{var{path:s,position:l}=t;ue.equals(s,r)||ue.endsBefore(s,r)?r[s.length-1]-=1:ue.isAncestor(s,r)&&(r[s.length-1]-=1,r[s.length]+=l);break}case"split_node":{var{path:u,position:d}=t;if(ue.equals(u,r)){if(i==="forward")r[r.length-1]+=1;else if(i!=="backward")return null}else ue.endsBefore(u,r)?r[u.length-1]+=1:ue.isAncestor(u,r)&&e[u.length]>=d&&(r[u.length-1]+=1,r[u.length]-=d);break}case"move_node":{var{path:f,newPath:h}=t;if(ue.equals(f,h))return r;if(ue.isAncestor(f,r)||ue.equals(f,r)){var m=h.slice();return ue.endsBefore(f,h)&&f.length<h.length&&(m[f.length-1]-=1),m.concat(r.slice(f.length))}else ue.isSibling(f,h)&&(ue.isAncestor(h,r)||ue.equals(h,r))?ue.endsBefore(f,r)?r[f.length-1]-=1:r[f.length-1]+=1:ue.endsBefore(h,r)||ue.equals(h,r)||ue.isAncestor(h,r)?(ue.endsBefore(f,r)&&(r[f.length-1]-=1),r[h.length-1]+=1):ue.endsBefore(f,r)&&(ue.equals(h,r)&&(r[h.length-1]+=1),r[f.length-1]-=1);break}}return r}};function q2(e){"@babel/helpers - typeof";return q2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q2(e)}function yNt(e,t){if(q2(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(q2(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vNt(e){var t=yNt(e,"string");return q2(t)==="symbol"?t:String(t)}function _s(e,t,n){return t=vNt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nle(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function li(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nle(Object(n),!0).forEach(function(r){_s(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nle(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Ble=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return[...t.slice(0,n),...i,...t.slice(n)]},Z2=function(t,n,r){for(var i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return[...t.slice(0,n),...o,...t.slice(n+r)]},Vle=Z2,Nq=(e,t,n)=>{if(t.length===0)throw new Error("Cannot modify the editor");for(var r=Be.get(e,t),i=t.slice(),o=n(r);i.length>1;){var a=i.pop(),s=Be.get(e,i);o=li(li({},s),{},{children:Z2(s.children,a,1,o)})}var l=i.pop();e.children=Z2(e.children,l,1,o)},U0=(e,t,n)=>{t.length===0?e.children=n(e.children):Nq(e,t,r=>{if(Ke.isText(r))throw new Error("Cannot get the element at path [".concat(t,"] because it refers to a leaf node: ").concat(Eo.stringify(r)));return li(li({},r),{},{children:n(r.children)})})},zle=(e,t,n)=>Nq(e,t,r=>{if(!Ke.isText(r))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(Eo.stringify(r)));return n(r)}),bNt={transform(e,t){var n=!1;switch(t.type){case"insert_node":{var{path:r,node:i}=t;U0(e,ue.parent(r),K=>{var q=r[r.length-1];if(q>K.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));return Ble(K,q,i)}),n=!0;break}case"insert_text":{var{path:o,offset:a,text:s}=t;if(s.length===0)break;zle(e,o,K=>{var q=K.text.slice(0,a),X=K.text.slice(a);return li(li({},K),{},{text:q+s+X})}),n=!0;break}case"merge_node":{var{path:l}=t,u=l[l.length-1],d=ue.previous(l),f=d[d.length-1];U0(e,ue.parent(l),K=>{var q=K[u],X=K[f],ie;if(Ke.isText(q)&&Ke.isText(X))ie=li(li({},X),{},{text:X.text+q.text});else if(!Ke.isText(q)&&!Ke.isText(X))ie=li(li({},X),{},{children:X.children.concat(q.children)});else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(l,"] to nodes of different interfaces: ").concat(Eo.stringify(q)," ").concat(Eo.stringify(X)));return Z2(K,f,2,ie)}),n=!0;break}case"move_node":{var{path:h,newPath:m}=t,g=h[h.length-1];if(ue.isAncestor(h,m))throw new Error("Cannot move a path [".concat(h,"] to new path [").concat(m,"] because the destination is inside itself."));var y=Be.get(e,h);U0(e,ue.parent(h),K=>Vle(K,g,1));var x=ue.transform(h,t),b=x[x.length-1];U0(e,ue.parent(x),K=>Ble(K,b,y)),n=!0;break}case"remove_node":{var{path:v}=t,w=v[v.length-1];if(U0(e,ue.parent(v),K=>Vle(K,w,1)),e.selection){var C=li({},e.selection);for(var[k,S]of me.points(C)){var E=Yt.transform(k,t);if(C!=null&&E!=null)C[S]=E;else{var _=void 0,T=void 0;for(var[A,I]of Be.texts(e))if(ue.compare(I,v)===-1)_=[A,I];else{T=[A,I];break}var j=!1;_&&T&&(ue.equals(T[1],v)?j=!ue.hasPrevious(T[1]):j=ue.common(_[1],v).length<ue.common(T[1],v).length),_&&!j?C[S]={path:_[1],offset:_[0].text.length}:T?C[S]={path:T[1],offset:0}:C=null}}(!C||!me.equals(C,e.selection))&&(e.selection=C)}break}case"remove_text":{var{path:$,offset:D,text:O}=t;if(O.length===0)break;zle(e,$,K=>{var q=K.text.slice(0,D),X=K.text.slice(D+O.length);return li(li({},K),{},{text:q+X})}),n=!0;break}case"set_node":{var{path:M,properties:P,newProperties:F}=t;if(M.length===0)throw new Error("Cannot set properties on the root node!");Nq(e,M,K=>{var q=li({},K);for(var X in F){if(X==="children"||X==="text")throw new Error('Cannot set the "'.concat(X,'" property of nodes!'));var ie=F[X];ie==null?delete q[X]:q[X]=ie}for(var te in P)F.hasOwnProperty(te)||delete q[te];return q});break}case"set_selection":{var{newProperties:L}=t;if(L==null){e.selection=null;break}if(e.selection==null){if(!me.isRange(L))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Eo.stringify(L)," when there is no current selection."));e.selection=li({},L);break}var U=li({},e.selection);for(var H in L){var N=L[H];if(N==null){if(H==="anchor"||H==="focus")throw new Error('Cannot remove the "'.concat(H,'" selection property'));delete U[H]}else U[H]=N}e.selection=U;break}case"split_node":{var{path:Y,position:J,properties:ee}=t,oe=Y[Y.length-1];if(Y.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Y,"] because the root node cannot be split."));U0(e,ue.parent(Y),K=>{var q=K[oe],X,ie;if(Ke.isText(q)){var te=q.text.slice(0,J),de=q.text.slice(J);X=li(li({},q),{},{text:te}),ie=li(li({},ee),{},{text:de})}else{var pe=q.children.slice(0,J),ve=q.children.slice(J);X=li(li({},q),{},{children:pe}),ie=li(li({},ee),{},{children:ve})}return Z2(K,oe,1,X,ie)}),n=!0;break}}if(n&&e.selection){var re=li({},e.selection);for(var[se,G]of me.points(re))re[G]=Yt.transform(se,t);me.equals(re,e.selection)||(e.selection=re)}}},xNt={insertNodes(e,t,n){e.insertNodes(t,n)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,n){e.setNodes(t,n)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,n){e.unsetNodes(t,n)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,n){e.wrapNodes(t,n)}},wNt={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,n){e.setPoint(t,n)},setSelection(e,t){e.setSelection(t)}},Ua=e=>typeof e=="object"&&e!==null,oDe=(e,t)=>{for(var n in e){var r=e[n],i=t[n];if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;for(var o=0;o<r.length;o++)if(r[o]!==i[o])return!1}else if(Ua(r)&&Ua(i)){if(!oDe(r,i))return!1}else if(r!==i)return!1}for(var a in t)if(e[a]===void 0&&t[a]!==void 0)return!1;return!0};function CNt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Nh(e,t){if(e==null)return{};var n=CNt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var kNt=["anchor","focus"];function Ule(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SNt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ule(Object(n),!0).forEach(function(r){_s(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ule(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var me={edges(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,{anchor:r,focus:i}=e;return me.isBackward(e)===n?[r,i]:[i,r]},end(e){var[,t]=me.edges(e);return t},equals(e,t){return Yt.equals(e.anchor,t.anchor)&&Yt.equals(e.focus,t.focus)},surrounds(e,t){var n=me.intersection(e,t);return n?me.equals(n,t):!1},includes(e,t){if(me.isRange(t)){if(me.includes(e,t.anchor)||me.includes(e,t.focus))return!0;var[n,r]=me.edges(e),[i,o]=me.edges(t);return Yt.isBefore(n,i)&&Yt.isAfter(r,o)}var[a,s]=me.edges(e),l=!1,u=!1;return Yt.isPoint(t)?(l=Yt.compare(t,a)>=0,u=Yt.compare(t,s)<=0):(l=ue.compare(t,a.path)>=0,u=ue.compare(t,s.path)<=0),l&&u},intersection(e,t){var n=Nh(e,kNt),[r,i]=me.edges(e),[o,a]=me.edges(t),s=Yt.isBefore(r,o)?o:r,l=Yt.isBefore(i,a)?i:a;return Yt.isBefore(l,s)?null:SNt({anchor:s,focus:l},n)},isBackward(e){var{anchor:t,focus:n}=e;return Yt.isAfter(t,n)},isCollapsed(e){var{anchor:t,focus:n}=e;return Yt.equals(t,n)},isExpanded(e){return!me.isCollapsed(e)},isForward(e){return!me.isBackward(e)},isRange(e){return Ua(e)&&Yt.isPoint(e.anchor)&&Yt.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=me.edges(e);return t},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e===null)return null;var{affinity:r="inward"}=n,i,o;if(r==="inward"){var a=me.isCollapsed(e);me.isForward(e)?(i="forward",o=a?i:"backward"):(i="backward",o=a?i:"forward")}else r==="outward"?me.isForward(e)?(i="backward",o="forward"):(i="forward",o="backward"):(i=r,o=r);var s=Yt.transform(e.anchor,t,{affinity:i}),l=Yt.transform(e.focus,t,{affinity:o});return!s||!l?null:{anchor:s,focus:l}}},Hle=function(t){var{deep:n=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Ua(t))return!1;var r=typeof t.apply=="function";if(r)return!1;var i=n?Be.isNodeList(t.children):Array.isArray(t.children);return i},tt={isAncestor(e){var{deep:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ua(e)&&Be.isNodeList(e.children,{deep:t})},isElement:Hle,isElementList(e){var{deep:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Array.isArray(e)&&e.every(n=>tt.isElement(n,{deep:t}))},isElementProps(e){return e.children!==void 0},isElementType:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return Hle(t)&&t[r]===n},matches(e,t){for(var n in t)if(n!=="children"&&e[n]!==t[n])return!1;return!0}},ENt=["children"],_Nt=["text"],Be={ancestor(e,t){var n=Be.get(e,t);if(Ke.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(Eo.stringify(n)));return n},ancestors(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var r of ue.ancestors(t,n)){var i=Be.ancestor(e,r),o=[i,r];yield o}}()},child(e,t){if(Ke.isText(e))throw new Error("Cannot get the child of a text node: ".concat(Eo.stringify(e)));var n=e.children[t];if(n==null)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(Eo.stringify(e)));return n},children(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var{reverse:r=!1}=n,i=Be.ancestor(e,t),{children:o}=i,a=r?o.length-1:0;r?a>=0:a<o.length;){var s=Be.child(i,a),l=t.concat(a);yield[s,l],a=r?a-1:a+1}}()},common(e,t,n){var r=ue.common(t,n),i=Be.get(e,r);return[i,r]},descendant(e,t){var n=Be.get(e,t);if(z.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(Eo.stringify(n)));return n},descendants(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,r]of Be.nodes(e,t))r.length!==0&&(yield[n,r])}()},elements(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,r]of Be.nodes(e,t))tt.isElement(n)&&(yield[n,r])}()},extractProps(e){if(tt.isAncestor(e)){var t=Nh(e,ENt);return t}else{var t=Nh(e,_Nt);return t}},first(e,t){for(var n=t.slice(),r=Be.get(e,n);r&&!(Ke.isText(r)||r.children.length===0);)r=r.children[0],n.push(0);return[r,n]},fragment(e,t){if(Ke.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Eo.stringify(e)));var n=dNt({children:e.children},r=>{var[i,o]=me.edges(t),a=Be.nodes(r,{reverse:!0,pass:h=>{var[,m]=h;return!me.includes(t,m)}});for(var[,s]of a){if(!me.includes(t,s)){var l=Be.parent(r,s),u=s[s.length-1];l.children.splice(u,1)}if(ue.equals(s,o.path)){var d=Be.leaf(r,s);d.text=d.text.slice(0,o.offset)}if(ue.equals(s,i.path)){var f=Be.leaf(r,s);f.text=f.text.slice(i.offset)}}z.isEditor(r)&&(r.selection=null)});return n.children},get(e,t){var n=Be.getIf(e,t);if(n===void 0)throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(Eo.stringify(e)));return n},getIf(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if(Ke.isText(n)||!n.children[i])return;n=n.children[i]}return n},has(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if(Ke.isText(n)||!n.children[i])return!1;n=n.children[i]}return!0},isNode(e){var{deep:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ke.isText(e)||tt.isElement(e,{deep:t})||z.isEditor(e,{deep:t})},isNodeList(e){var{deep:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Array.isArray(e)&&e.every(n=>Be.isNode(n,{deep:t}))},last(e,t){for(var n=t.slice(),r=Be.get(e,n);r&&!(Ke.isText(r)||r.children.length===0);){var i=r.children.length-1;r=r.children[i],n.push(i)}return[r,n]},leaf(e,t){var n=Be.get(e,t);if(!Ke.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(Eo.stringify(n)));return n},levels(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var r of ue.levels(t,n)){var i=Be.get(e,r);yield[i,r]}}()},matches(e,t){return tt.isElement(e)&&tt.isElementProps(t)&&tt.matches(e,t)||Ke.isText(e)&&Ke.isTextProps(t)&&Ke.matches(e,t)},nodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var{pass:n,reverse:r=!1}=t,{from:i=[],to:o}=t,a=new Set,s=[],l=e;!(o&&(r?ue.isBefore(s,o):ue.isAfter(s,o)));){if(a.has(l)||(yield[l,s]),!a.has(l)&&!Ke.isText(l)&&l.children.length!==0&&(n==null||n([l,s])===!1)){a.add(l);var u=r?l.children.length-1:0;ue.isAncestor(s,i)&&(u=i[s.length]),s=s.concat(u),l=Be.get(e,s);continue}if(s.length===0)break;if(!r){var d=ue.next(s);if(Be.has(e,d)){s=d,l=Be.get(e,s);continue}}if(r&&s[s.length-1]!==0){var f=ue.previous(s);s=f,l=Be.get(e,s);continue}s=ue.parent(s),l=Be.get(e,s),a.add(l)}}()},parent(e,t){var n=ue.parent(t),r=Be.get(e,n);if(Ke.isText(r))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string(e){return Ke.isText(e)?e.text:e.children.map(Be.string).join("")},texts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,r]of Be.nodes(e,t))Ke.isText(n)&&(yield[n,r])}()}};function Wle(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ci(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wle(Object(n),!0).forEach(function(r){_s(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wle(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var zv={isNodeOperation(e){return zv.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!Ua(e))return!1;switch(e.type){case"insert_node":return ue.isPath(e.path)&&Be.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&ue.isPath(e.path);case"merge_node":return typeof e.position=="number"&&ue.isPath(e.path)&&Ua(e.properties);case"move_node":return ue.isPath(e.path)&&ue.isPath(e.newPath);case"remove_node":return ue.isPath(e.path)&&Be.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&ue.isPath(e.path);case"set_node":return ue.isPath(e.path)&&Ua(e.properties)&&Ua(e.newProperties);case"set_selection":return e.properties===null&&me.isRange(e.newProperties)||e.newProperties===null&&me.isRange(e.properties)||Ua(e.properties)&&Ua(e.newProperties);case"split_node":return ue.isPath(e.path)&&typeof e.position=="number"&&Ua(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(t=>zv.isOperation(t))},isSelectionOperation(e){return zv.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return zv.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return Ci(Ci({},e),{},{type:"remove_node"});case"insert_text":return Ci(Ci({},e),{},{type:"remove_text"});case"merge_node":return Ci(Ci({},e),{},{type:"split_node",path:ue.previous(e.path)});case"move_node":{var{newPath:t,path:n}=e;if(ue.equals(t,n))return e;if(ue.isSibling(n,t))return Ci(Ci({},e),{},{path:t,newPath:n});var r=ue.transform(n,e),i=ue.transform(ue.next(n),e);return Ci(Ci({},e),{},{path:r,newPath:i})}case"remove_node":return Ci(Ci({},e),{},{type:"insert_node"});case"remove_text":return Ci(Ci({},e),{},{type:"insert_text"});case"set_node":{var{properties:o,newProperties:a}=e;return Ci(Ci({},e),{},{properties:a,newProperties:o})}case"set_selection":{var{properties:s,newProperties:l}=e;return s==null?Ci(Ci({},e),{},{properties:l,newProperties:null}):l==null?Ci(Ci({},e),{},{properties:null,newProperties:s}):Ci(Ci({},e),{},{properties:l,newProperties:s})}case"split_node":return Ci(Ci({},e),{},{type:"merge_node",path:ue.next(e.path)})}}},TNt=function(t){var{deep:n=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Ua(t))return!1;var r=typeof t.addMark=="function"&&typeof t.apply=="function"&&typeof t.deleteFragment=="function"&&typeof t.insertBreak=="function"&&typeof t.insertSoftBreak=="function"&&typeof t.insertFragment=="function"&&typeof t.insertNode=="function"&&typeof t.insertText=="function"&&typeof t.isElementReadOnly=="function"&&typeof t.isInline=="function"&&typeof t.isSelectable=="function"&&typeof t.isVoid=="function"&&typeof t.normalizeNode=="function"&&typeof t.onChange=="function"&&typeof t.removeMark=="function"&&typeof t.getDirtyPaths=="function"&&(t.marks===null||Ua(t.marks))&&(t.selection===null||me.isRange(t.selection))&&(!n||Be.isNodeList(t.children))&&zv.isOperationList(t.operations);return r},z={above(e,t){return e.above(t)},addMark(e,t,n){e.addMark(t,n)},after(e,t,n){return e.after(t,n)},before(e,t,n){return e.before(t,n)},deleteBackward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteBackward(n)},deleteForward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteForward(n)},deleteFragment(e,t){e.deleteFragment(t)},edges(e,t){return e.edges(t)},elementReadOnly(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.elementReadOnly(t)},end(e,t){return e.end(t)},first(e,t){return e.first(t)},fragment(e,t){return e.fragment(t)},hasBlocks(e,t){return e.hasBlocks(t)},hasInlines(e,t){return e.hasInlines(t)},hasPath(e,t){return e.hasPath(t)},hasTexts(e,t){return e.hasTexts(t)},insertBreak(e){e.insertBreak()},insertFragment(e,t,n){e.insertFragment(t,n)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock(e,t){return e.isBlock(t)},isEdge(e,t,n){return e.isEdge(t,n)},isEditor(e){return TNt(e)},isElementReadOnly(e,t){return e.isElementReadOnly(t)},isEmpty(e,t){return e.isEmpty(t)},isEnd(e,t,n){return e.isEnd(t,n)},isInline(e,t){return e.isInline(t)},isNormalizing(e){return e.isNormalizing()},isSelectable(e,t){return e.isSelectable(t)},isStart(e,t,n){return e.isStart(t,n)},isVoid(e,t){return e.isVoid(t)},last(e,t){return e.last(t)},leaf(e,t,n){return e.leaf(t,n)},levels(e,t){return e.levels(t)},marks(e){return e.getMarks()},next(e,t){return e.next(t)},node(e,t,n){return e.node(t,n)},nodes(e,t){return e.nodes(t)},normalize(e,t){e.normalize(t)},parent(e,t,n){return e.parent(t,n)},path(e,t,n){return e.path(t,n)},pathRef(e,t,n){return e.pathRef(t,n)},pathRefs(e){return e.pathRefs()},point(e,t,n){return e.point(t,n)},pointRef(e,t,n){return e.pointRef(t,n)},pointRefs(e){return e.pointRefs()},positions(e,t){return e.positions(t)},previous(e,t){return e.previous(t)},range(e,t,n){return e.range(t,n)},rangeRef(e,t,n){return e.rangeRef(t,n)},rangeRefs(e){return e.rangeRefs()},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start(e,t){return e.start(t)},string(e,t,n){return e.string(t,n)},unhangRange(e,t,n){return e.unhangRange(t,n)},void(e,t){return e.void(t)},withoutNormalizing(e,t){e.withoutNormalizing(t)},shouldMergeNodesRemovePrevNode:(e,t,n)=>e.shouldMergeNodesRemovePrevNode(t,n)},ANt={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(ue.isPath)}};function Gle(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kle(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gle(Object(n),!0).forEach(function(r){_s(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gle(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Yt={compare(e,t){var n=ue.compare(e.path,t.path);return n===0?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter(e,t){return Yt.compare(e,t)===1},isBefore(e,t){return Yt.compare(e,t)===-1},equals(e,t){return e.offset===t.offset&&ue.equals(e.path,t.path)},isPoint(e){return Ua(e)&&typeof e.offset=="number"&&ue.isPath(e.path)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e===null)return null;var{affinity:r="forward"}=n,{path:i,offset:o}=e;switch(t.type){case"insert_node":case"move_node":{i=ue.transform(i,t,n);break}case"insert_text":{ue.equals(t.path,i)&&(t.offset<o||t.offset===o&&r==="forward")&&(o+=t.text.length);break}case"merge_node":{ue.equals(t.path,i)&&(o+=t.position),i=ue.transform(i,t,n);break}case"remove_text":{ue.equals(t.path,i)&&t.offset<=o&&(o-=Math.min(o-t.offset,t.text.length));break}case"remove_node":{if(ue.equals(t.path,i)||ue.isAncestor(t.path,i))return null;i=ue.transform(i,t,n);break}case"split_node":{if(ue.equals(t.path,i)){if(t.position===o&&r==null)return null;(t.position<o||t.position===o&&r==="forward")&&(o-=t.position,i=ue.transform(i,t,Kle(Kle({},n),{},{affinity:"forward"})))}else i=ue.transform(i,t,n);break}default:return e}return{path:i,offset:o}}},Yle=void 0,Eo={setScrubber(e){Yle=e},stringify(e){return JSON.stringify(e,Yle)}},jNt=["text"],INt=["anchor","focus","merge"];function qle(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qle(Object(n),!0).forEach(function(r){_s(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qle(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Ke={equals(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:r=!1}=n;function i(o){var a=Nh(o,jNt);return a}return oDe(r?i(e):e,r?i(t):t)},isText(e){return Ua(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(t=>Ke.isText(t))},isTextProps(e){return e.text!==void 0},matches(e,t){for(var n in t)if(n!=="text"&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations(e,t){var n=[{leaf:Tf({},e)}];for(var r of t){var{anchor:i,focus:o,merge:a}=r,s=Nh(r,INt),[l,u]=me.edges(r),d=[],f=0,h=l.offset,m=u.offset,g=a??Object.assign;for(var{leaf:y}of n){var{length:x}=y.text,b=f;if(f+=x,h<=b&&f<=m){g(y,s),d.push({leaf:y});continue}if(h!==m&&(h===f||m===b)||h>f||m<b||m===b&&b!==0){d.push({leaf:y});continue}var v=y,w=void 0,C=void 0;if(m<f){var k=m-b;C={leaf:Tf(Tf({},v),{},{text:v.text.slice(k)})},v=Tf(Tf({},v),{},{text:v.text.slice(0,k)})}if(h>b){var S=h-b;w={leaf:Tf(Tf({},v),{},{text:v.text.slice(0,S)})},v=Tf(Tf({},v),{},{text:v.text.slice(S)})}g(v,s),w&&d.push(w),d.push({leaf:v}),C&&d.push(C)}n=d}if(n.length>1){var E=0;for(var[_,T]of n.entries()){var A=E,I=A+T.leaf.text.length,j={start:A,end:I};_===0&&(j.isFirst=!0),_===n.length-1&&(j.isLast=!0),T.position=j,E=I}}return n}},Bq=e=>e.selection?e.selection:e.children.length>0?z.end(e,[]):[0],Dw=(e,t)=>{var[n]=z.node(e,t);return r=>r===n},Vq=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=!n,i=n?RNt(t):t,o=Kt.None,a=Kt.None,s=0,l=null,u=null;for(var d of i){var f=d.codePointAt(0);if(!f)break;var h=YNt(d,f);if([o,a]=r?[a,h]:[h,o],Uv(o,Kt.ZWJ)&&Uv(a,Kt.ExtPict)&&(r?l=Zle(t.substring(0,s)):l=Zle(t.substring(0,t.length-s)),!l)||Uv(o,Kt.RI)&&Uv(a,Kt.RI)&&(u!==null?u=!u:r?u=!0:u=QNt(t.substring(0,t.length-s)),!u)||o!==Kt.None&&a!==Kt.None&&ZNt(o,a))break;s+=d.length}return s||1},$Nt=/\s/,DNt=/[\u002B\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,ONt=/['\u2018\u2019]/,MNt=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=0,i=!1;t.length>0;){var o=Vq(t,n),[a,s]=zq(t,o,n);if(PNt(a,s,n))i=!0,r+=o;else if(!i)r+=o;else break;t=s}return r},zq=(e,t,n)=>{if(n){var r=e.length-t;return[e.slice(r,e.length),e.slice(0,r)]}return[e.slice(0,t),e.slice(t)]},PNt=function e(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if($Nt.test(t))return!1;if(ONt.test(t)){var i=Vq(n,r),[o,a]=zq(n,i,r);if(e(o,a,r))return!0}return!DNt.test(t)},RNt=function*(t){for(var n=t.length-1,r=0;r<t.length;r++){var i=t.charAt(n-r);if(LNt(i.charCodeAt(0))){var o=t.charAt(n-r-1);if(FNt(o.charCodeAt(0))){yield o+i,r++;continue}}yield i}},FNt=e=>e>=55296&&e<=56319,LNt=e=>e>=56320&&e<=57343,Kt;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(Kt||(Kt={}));var NNt=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,BNt=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,VNt=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,zNt=/^[\u1100-\u115F\uA960-\uA97C]$/,UNt=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,HNt=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,WNt=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,GNt=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,KNt=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,YNt=(e,t)=>{var n=Kt.Any;return e.search(NNt)!==-1&&(n|=Kt.Extend),t===8205&&(n|=Kt.ZWJ),t>=127462&&t<=127487&&(n|=Kt.RI),e.search(BNt)!==-1&&(n|=Kt.Prepend),e.search(VNt)!==-1&&(n|=Kt.SpacingMark),e.search(zNt)!==-1&&(n|=Kt.L),e.search(UNt)!==-1&&(n|=Kt.V),e.search(HNt)!==-1&&(n|=Kt.T),e.search(WNt)!==-1&&(n|=Kt.LV),e.search(GNt)!==-1&&(n|=Kt.LVT),e.search(KNt)!==-1&&(n|=Kt.ExtPict),n};function Uv(e,t){return(e&t)!==0}var qNt=[[Kt.L,Kt.L|Kt.V|Kt.LV|Kt.LVT],[Kt.LV|Kt.V,Kt.V|Kt.T],[Kt.LVT|Kt.T,Kt.T],[Kt.Any,Kt.Extend|Kt.ZWJ],[Kt.Any,Kt.SpacingMark],[Kt.Prepend,Kt.Any],[Kt.ZWJ,Kt.ExtPict],[Kt.RI,Kt.RI]];function ZNt(e,t){return qNt.findIndex(n=>Uv(e,n[0])&&Uv(t,n[1]))===-1}var XNt=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,Zle=e=>e.search(XNt)!==-1,JNt=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,QNt=e=>{var t=e.match(JNt);if(t===null)return!1;var n=t[0].length/2;return n%2===1},eBt={delete(e,t){e.delete(t)},insertFragment(e,t,n){e.insertFragment(t,n)},insertText(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};z.withoutNormalizing(e,()=>{var{voids:r=!1}=n,{at:i=Bq(e)}=n;if(ue.isPath(i)&&(i=z.range(e,i)),me.isRange(i))if(me.isCollapsed(i))i=i.anchor;else{var o=me.end(i);if(!r&&z.void(e,{at:o}))return;var a=me.start(i),s=z.pointRef(e,a),l=z.pointRef(e,o);ne.delete(e,{at:i,voids:r});var u=s.unref(),d=l.unref();i=u||d,ne.setSelection(e,{anchor:i,focus:i})}if(!(!r&&z.void(e,{at:i})||z.elementReadOnly(e,{at:i}))){var{path:f,offset:h}=i;t.length>0&&e.apply({type:"insert_text",path:f,offset:h,text:t})}})}};function Xle(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function GT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xle(Object(n),!0).forEach(function(r){_s(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xle(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ne=GT(GT(GT(GT({},bNt),xNt),wNt),eBt),nI=new WeakMap,tBt=e=>nI.get(e)||!1,nBt=(e,t,n)=>{var r=nI.get(e)||!1;nI.set(e,!0);try{t(),n()}finally{nI.set(e,r)}};function aDe(e,t,n){var r=I$.get(e)||[],i=$$.get(e)||new Set,o,a,s=f=>{if(f){var h=f.join(",");a.has(h)||(a.add(h),o.push(f))}};if(n){o=[],a=new Set;for(var l of r){var u=n(l);s(u)}}else o=r,a=i;for(var d of t)s(d);I$.set(e,o),$$.set(e,a)}var rBt=(e,t)=>{for(var n of z.pathRefs(e))pNt.transform(n,t);for(var r of z.pointRefs(e))mNt.transform(r,t);for(var i of z.rangeRefs(e))gNt.transform(i,t);if(!tBt(e)){var o=ue.operationCanTransformPath(t)?a=>ue.transform(a,t):void 0;aDe(e,e.getDirtyPaths(t),o)}ne.transform(e,t),e.operations.push(t),z.normalize(e,{operation:t}),t.type==="set_selection"&&(e.marks=null),AS.get(e)||(AS.set(e,!0),Promise.resolve().then(()=>{AS.set(e,!1),e.onChange({operation:t}),e.operations=[]}))},iBt=(e,t)=>{switch(t.type){case"insert_text":case"remove_text":case"set_node":{var{path:n}=t;return ue.levels(n)}case"insert_node":{var{node:r,path:i}=t,o=ue.levels(i),a=Ke.isText(r)?[]:Array.from(Be.nodes(r),A=>{var[,I]=A;return i.concat(I)});return[...o,...a]}case"merge_node":{var{path:s}=t,l=ue.ancestors(s),u=ue.previous(s);return[...l,u]}case"move_node":{var{path:d,newPath:f}=t;if(ue.equals(d,f))return[];var h=[],m=[];for(var g of ue.ancestors(d)){var y=ue.transform(g,t);h.push(y)}for(var x of ue.ancestors(f)){var b=ue.transform(x,t);m.push(b)}var v=m[m.length-1],w=f[f.length-1],C=v.concat(w);return[...h,...m,C]}case"remove_node":{var{path:k}=t,S=ue.ancestors(k);return[...S]}case"split_node":{var{path:E}=t,_=ue.levels(E),T=ue.next(E);return[..._,T]}default:return[]}},oBt=e=>{var{selection:t}=e;return t?Be.fragment(e,t):[]},aBt=(e,t,n)=>{var[r,i]=t;if(!Ke.isText(r)){if(tt.isElement(r)&&r.children.length===0){var o={text:""};ne.insertNodes(e,o,{at:i.concat(0),voids:!0});return}for(var a=z.isEditor(r)?!1:tt.isElement(r)&&(e.isInline(r)||r.children.length===0||Ke.isText(r.children[0])||e.isInline(r.children[0])),s=0,l=0;l<r.children.length;l++,s++){var u=Be.get(e,i);if(!Ke.isText(u)){var d=u.children[s],f=u.children[s-1],h=l===r.children.length-1,m=Ke.isText(d)||tt.isElement(d)&&e.isInline(d);if(m!==a)m?n!=null&&n.fallbackElement?ne.wrapNodes(e,n.fallbackElement(),{at:i.concat(s),voids:!0}):ne.removeNodes(e,{at:i.concat(s),voids:!0}):ne.unwrapNodes(e,{at:i.concat(s),voids:!0}),s--;else if(tt.isElement(d)){if(e.isInline(d)){if(f==null||!Ke.isText(f)){var g={text:""};ne.insertNodes(e,g,{at:i.concat(s),voids:!0}),s++}else if(h){var y={text:""};ne.insertNodes(e,y,{at:i.concat(s+1),voids:!0}),s++}}}else{if(!Ke.isText(d)&&!("children"in d)){var x=d;x.children=[]}f!=null&&Ke.isText(f)&&(Ke.equals(d,f,{loose:!0})?(ne.mergeNodes(e,{at:i.concat(s),voids:!0}),s--):f.text===""?(ne.removeNodes(e,{at:i.concat(s-1),voids:!0}),s--):d.text===""&&(ne.removeNodes(e,{at:i.concat(s),voids:!0}),s--))}}}}},sBt=(e,t)=>{var{iteration:n,initialDirtyPathsLength:r}=t,i=r*42;if(n>i)throw new Error("Could not completely normalize the editor after ".concat(i," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},lBt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:r=!1,mode:i="lowest",at:o=t.selection,match:a}=n;if(o){var s=z.path(t,o);if(!me.isRange(o)||ue.equals(o.focus.path,o.anchor.path)){if(s.length===0)return;s=ue.parent(s)}var l=i==="lowest",[u]=z.levels(t,{at:s,voids:r,match:a,reverse:l});return u}};function Jle(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qle(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jle(Object(n),!0).forEach(function(r){_s(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jle(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var cBt=(e,t,n)=>{var{selection:r}=e;if(r){var i=(f,h)=>{if(!Ke.isText(f))return!1;var[m,g]=z.parent(e,h);return!e.isVoid(m)||e.markableVoid(m)},o=me.isExpanded(r),a=!1;if(!o){var[s,l]=z.node(e,r);if(s&&i(s,l)){var[u]=z.parent(e,l);a=u&&e.markableVoid(u)}}if(o||a)ne.setNodes(e,{[t]:n},{match:i,split:!0,voids:!0});else{var d=Qle(Qle({},z.marks(e)||{}),{},{[t]:n});e.marks=d,AS.get(e)||e.onChange()}}};function ece(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ece(Object(n),!0).forEach(function(r){_s(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ece(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var uBt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=z.point(t,n,{edge:"end"}),o=z.end(t,[]),a={anchor:i,focus:o},{distance:s=1}=r,l=0,u;for(var d of z.positions(t,tce(tce({},r),{},{at:a}))){if(l>s)break;l!==0&&(u=d),l++}return u};function nce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nce(Object(n),!0).forEach(function(r){_s(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nce(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var dBt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=z.start(t,[]),o=z.point(t,n,{edge:"start"}),a={anchor:i,focus:o},{distance:s=1}=r,l=0,u;for(var d of z.positions(t,rce(rce({},r),{},{at:a,reverse:!0}))){if(l>s)break;l!==0&&(u=d),l++}return u},fBt=(e,t)=>{var{selection:n}=e;n&&me.isCollapsed(n)&&ne.delete(e,{unit:t,reverse:!0})},hBt=(e,t)=>{var{selection:n}=e;n&&me.isCollapsed(n)&&ne.delete(e,{unit:t})},pBt=function(t){var{direction:n="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t;r&&me.isExpanded(r)&&ne.delete(t,{reverse:n==="backward"})},mBt=(e,t)=>[z.start(e,t),z.end(e,t)];function ice(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ice(Object(n),!0).forEach(function(r){_s(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ice(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var gBt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return z.above(t,oce(oce({},n),{},{match:r=>tt.isElement(r)&&z.isElementReadOnly(t,r)}))},yBt=(e,t)=>z.point(e,t,{edge:"end"}),vBt=(e,t)=>{var n=z.path(e,t,{edge:"start"});return z.node(e,n)},bBt=(e,t)=>{var n=z.range(e,t);return Be.fragment(e,n)};function ace(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ace(Object(n),!0).forEach(function(r){_s(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ace(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var xBt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return z.above(t,sce(sce({},n),{},{match:r=>tt.isElement(r)&&z.isVoid(t,r)}))},wBt=(e,t)=>t.children.some(n=>tt.isElement(n)&&z.isBlock(e,n)),CBt=(e,t)=>t.children.some(n=>Ke.isText(n)||z.isInline(e,n)),kBt=(e,t)=>Be.has(e,t),SBt=(e,t)=>t.children.every(n=>Ke.isText(n)),EBt=e=>{ne.splitNodes(e,{always:!0})},_Bt=(e,t,n)=>{ne.insertNodes(e,t,n)},TBt=e=>{ne.splitNodes(e,{always:!0})};function lce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ABt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lce(Object(n),!0).forEach(function(r){_s(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lce(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var jBt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:i,marks:o}=t;if(i){if(o){var a=ABt({text:n},o);ne.insertNodes(t,a,{at:r.at,voids:r.voids})}else ne.insertText(t,n,r);t.marks=null}},IBt=(e,t)=>!e.isInline(t),$Bt=(e,t,n)=>z.isStart(e,t,n)||z.isEnd(e,t,n),DBt=(e,t)=>{var{children:n}=t,[r]=n;return n.length===0||n.length===1&&Ke.isText(r)&&r.text===""&&!e.isVoid(t)},OBt=(e,t,n)=>{var r=z.end(e,n);return Yt.equals(t,r)},MBt=e=>{var t=iDe.get(e);return t===void 0?!0:t},PBt=(e,t,n)=>{if(t.offset!==0)return!1;var r=z.start(e,n);return Yt.equals(t,r)},RBt=(e,t)=>{var n=z.path(e,t,{edge:"end"});return z.node(e,n)},FBt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=z.path(t,n,r),o=Be.leaf(t,i);return[o,i]};function LBt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=e.selection,reverse:r=!1,voids:i=!1}=t,{match:o}=t;if(o==null&&(o=()=>!0),!!n){var a=[],s=z.path(e,n);for(var[l,u]of Be.levels(e,s))if(o(l,u)&&(a.push([l,u]),!i&&tt.isElement(l)&&z.isVoid(e,l)))break;r&&a.reverse(),yield*a}}()}var NBt=["text"],BBt=["text"],VBt=function(t){var{marks:n,selection:r}=t;if(!r)return null;var{anchor:i,focus:o}=r;if(n)return n;if(me.isExpanded(r)){var a=me.isBackward(r);a&&([o,i]=[i,o]);var s=z.isEnd(t,i,i.path);if(s){var l=z.after(t,i);l&&(i=l)}var[u]=z.nodes(t,{match:Ke.isText,at:{anchor:i,focus:o}});if(u){var[d]=u,f=Nh(d,NBt);return f}else return{}}var{path:h}=i,[m]=z.leaf(t,h);if(i.offset===0){var g=z.previous(t,{at:h,match:Ke.isText}),y=z.above(t,{match:k=>tt.isElement(k)&&z.isVoid(t,k)&&t.markableVoid(k)});if(!y){var x=z.above(t,{match:k=>tt.isElement(k)&&z.isBlock(t,k)});if(g&&x){var[b,v]=g,[,w]=x;ue.isAncestor(w,v)&&(m=b)}}}var C=Nh(m,BBt);return C},zBt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:i=!1}=n,{match:o,at:a=t.selection}=n;if(a){var s=z.after(t,a,{voids:i});if(s){var[,l]=z.last(t,[]),u=[s.path,l];if(ue.isPath(a)&&a.length===0)throw new Error("Cannot get the next node from the root node!");if(o==null)if(ue.isPath(a)){var[d]=z.parent(t,a);o=h=>d.children.includes(h)}else o=()=>!0;var[f]=z.nodes(t,{at:u,match:o,mode:r,voids:i});return f}}},UBt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=z.path(t,n,r),o=Be.get(t,i);return[o,i]};function HBt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=e.selection,mode:r="all",universal:i=!1,reverse:o=!1,voids:a=!1,pass:s}=t,{match:l}=t;if(l||(l=()=>!0),!!n){var u,d;if(ANt.isSpan(n))u=n[0],d=n[1];else{var f=z.path(e,n,{edge:"start"}),h=z.path(e,n,{edge:"end"});u=o?h:f,d=o?f:h}var m=Be.nodes(e,{reverse:o,from:u,to:d,pass:C=>{var[k,S]=C;return s&&s([k,S])?!0:tt.isElement(k)?!!(!a&&(z.isVoid(e,k)||z.isElementReadOnly(e,k))):!1}}),g=[],y;for(var[x,b]of m){var v=y&&ue.compare(b,y[1])===0;if(!(r==="highest"&&v)){if(!l(x,b)){if(i&&!v&&Ke.isText(x))return;continue}if(r==="lowest"&&v){y=[x,b];continue}var w=r==="lowest"?y:[x,b];w&&(i?g.push(w):yield w),y=[x,b]}}r==="lowest"&&y&&(i?g.push(y):yield y),i&&(yield*g)}}()}var WBt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:r=!1,operation:i}=n,o=d=>I$.get(d)||[],a=d=>$$.get(d)||new Set,s=d=>{var f=o(d).pop(),h=f.join(",");return a(d).delete(h),f};if(z.isNormalizing(t)){if(r){var l=Array.from(Be.nodes(t),d=>{var[,f]=d;return f}),u=new Set(l.map(d=>d.join(",")));I$.set(t,l),$$.set(t,u)}o(t).length!==0&&z.withoutNormalizing(t,()=>{for(var d of o(t))if(Be.has(t,d)){var f=z.node(t,d),[h,m]=f;tt.isElement(h)&&h.children.length===0&&t.normalizeNode(f,{operation:i})}for(var g=o(t),y=g.length,x=0;g.length!==0;){if(!t.shouldNormalize({dirtyPaths:g,iteration:x,initialDirtyPathsLength:y,operation:i}))return;var b=s(t);if(Be.has(t,b)){var v=z.node(t,b);t.normalizeNode(v,{operation:i})}x++,g=o(t)}})}},GBt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=z.path(t,n,r),o=ue.parent(i),a=z.node(t,o);return a},KBt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:i="forward"}=r,o={current:n,affinity:i,unref(){var{current:s}=o,l=z.pathRefs(t);return l.delete(o),o.current=null,s}},a=z.pathRefs(t);return a.add(o),o},YBt=e=>{var t=Rle.get(e);return t||(t=new Set,Rle.set(e,t)),t},qBt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:i,edge:o}=r;if(ue.isPath(n)){if(o==="start"){var[,a]=Be.first(t,n);n=a}else if(o==="end"){var[,s]=Be.last(t,n);n=s}}return me.isRange(n)&&(o==="start"?n=me.start(n):o==="end"?n=me.end(n):n=ue.common(n.anchor.path,n.focus.path)),Yt.isPoint(n)&&(n=n.path),i!=null&&(n=n.slice(0,i)),n},ZBt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:i="forward"}=r,o={current:n,affinity:i,unref(){var{current:s}=o,l=z.pointRefs(t);return l.delete(o),o.current=null,s}},a=z.pointRefs(t);return a.add(o),o},XBt=e=>{var t=Fle.get(e);return t||(t=new Set,Fle.set(e,t)),t},JBt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:i="start"}=r;if(ue.isPath(n)){var o;if(i==="end"){var[,a]=Be.last(t,n);o=a}else{var[,s]=Be.first(t,n);o=s}var l=Be.get(t,o);if(!Ke.isText(l))throw new Error("Cannot get the ".concat(i," point in the node at path [").concat(n,"] because it has no ").concat(i," text node."));return{path:o,offset:i==="end"?l.text.length:0}}if(me.isRange(n)){var[u,d]=me.edges(n);return i==="start"?u:d}return n};function QBt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=e.selection,unit:r="offset",reverse:i=!1,voids:o=!1}=t;if(!n)return;var a=z.range(e,n),[s,l]=me.edges(a),u=i?l:s,d=!1,f="",h=0,m=0,g=0;for(var[y,x]of z.nodes(e,{at:n,reverse:i,voids:o})){if(tt.isElement(y)){if(!e.isSelectable(y))if(i){yield z.end(e,ue.previous(x));continue}else{yield z.start(e,ue.next(x));continue}if(!o&&(e.isVoid(y)||e.isElementReadOnly(y))){yield z.start(e,x);continue}if(e.isInline(y))continue;if(z.hasInlines(e,y)){var b=ue.isAncestor(x,l.path)?l:z.end(e,x),v=ue.isAncestor(x,s.path)?s:z.start(e,x);f=z.string(e,{anchor:v,focus:b},{voids:o}),d=!0}}if(Ke.isText(y)){var w=ue.equals(x,u.path);for(w?(m=i?u.offset:y.text.length-u.offset,g=u.offset):(m=y.text.length,g=i?m:0),(w||d||r==="offset")&&(yield{path:x,offset:g},d=!1);;){if(h===0){if(f==="")break;h=C(f,r,i),f=zq(f,h,i)[1]}if(g=i?g-h:g+h,m=m-h,m<0){h=-m;break}h=0,yield{path:x,offset:g}}}}function C(k,S,E){return S==="character"?Vq(k,E):S==="word"?MNt(k,E):S==="line"||S==="block"?k.length:1}}()}var eVt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:i=!1}=n,{match:o,at:a=t.selection}=n;if(a){var s=z.before(t,a,{voids:i});if(s){var[,l]=z.first(t,[]),u=[s.path,l];if(ue.isPath(a)&&a.length===0)throw new Error("Cannot get the previous node from the root node!");if(o==null)if(ue.isPath(a)){var[d]=z.parent(t,a);o=h=>d.children.includes(h)}else o=()=>!0;var[f]=z.nodes(t,{reverse:!0,at:u,match:o,mode:r,voids:i});return f}}},tVt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:i="forward"}=r,o={current:n,affinity:i,unref(){var{current:s}=o,l=z.rangeRefs(t);return l.delete(o),o.current=null,s}},a=z.rangeRefs(t);return a.add(o),o},nVt=e=>{var t=Lle.get(e);return t||(t=new Set,Lle.set(e,t)),t},rVt=(e,t,n)=>{if(me.isRange(t)&&!n)return t;var r=z.start(e,t),i=z.end(e,n||t);return{anchor:r,focus:i}};function cce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iVt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cce(Object(n),!0).forEach(function(r){_s(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cce(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var oVt=(e,t)=>{var{selection:n}=e;if(n){var r=(d,f)=>{if(!Ke.isText(d))return!1;var[h,m]=z.parent(e,f);return!e.isVoid(h)||e.markableVoid(h)},i=me.isExpanded(n),o=!1;if(!i){var[a,s]=z.node(e,n);if(a&&r(a,s)){var[l]=z.parent(e,s);o=l&&e.markableVoid(l)}}if(i||o)ne.unsetNodes(e,t,{match:r,split:!0,voids:!0});else{var u=iVt({},z.marks(e)||{});delete u[t],e.marks=u,AS.get(e)||e.onChange()}}},aVt=(e,t)=>{iDe.set(e,t)},sVt=(e,t)=>z.point(e,t,{edge:"start"}),lVt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:i=!1}=r,o=z.range(t,n),[a,s]=me.edges(o),l="";for(var[u,d]of z.nodes(t,{at:o,match:Ke.isText,voids:i})){var f=u.text;ue.equals(d,s.path)&&(f=f.slice(0,s.offset)),ue.equals(d,a.path)&&(f=f.slice(a.offset)),l+=f}return l},cVt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:i=!1}=r,[o,a]=me.edges(n);if(o.offset!==0||a.offset!==0||me.isCollapsed(n)||ue.hasPrevious(a.path))return n;var s=z.above(t,{at:a,match:g=>tt.isElement(g)&&z.isBlock(t,g),voids:i}),l=s?s[1]:[],u=z.start(t,o),d={anchor:u,focus:a},f=!0;for(var[h,m]of z.nodes(t,{at:d,match:Ke.isText,reverse:!0,voids:i})){if(f){f=!1;continue}if(h.text!==""||ue.isBefore(m,l)){a={path:m,offset:h.text.length};break}}return{anchor:o,focus:a}},uVt=(e,t)=>{var n=z.isNormalizing(e);z.setNormalizing(e,!1);try{t()}finally{z.setNormalizing(e,n)}z.normalize(e)},dVt=(e,t,n)=>{var[r,i]=t;return tt.isElement(r)&&z.isEmpty(e,r)||Ke.isText(r)&&r.text===""&&i[i.length-1]!==0},fVt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};z.withoutNormalizing(t,()=>{var r,i,{reverse:o=!1,unit:a="character",distance:s=1,voids:l=!1}=n,{at:u=t.selection,hanging:d=!1}=n;if(u){var f=!1;if(me.isRange(u)&&me.isCollapsed(u)&&(f=!0,u=u.anchor),Yt.isPoint(u)){var h=z.void(t,{at:u,mode:"highest"});if(!l&&h){var[,m]=h;u=m}else{var g={unit:a,distance:s},y=o?z.before(t,u,g)||z.start(t,[]):z.after(t,u,g)||z.end(t,[]);u={anchor:u,focus:y},d=!0}}if(ue.isPath(u)){ne.removeNodes(t,{at:u,voids:l});return}if(!me.isCollapsed(u)){if(!d){var[,x]=me.edges(u),b=z.end(t,[]);Yt.equals(x,b)||(u=z.unhangRange(t,u,{voids:l}))}var[v,w]=me.edges(u),C=z.above(t,{match:te=>tt.isElement(te)&&z.isBlock(t,te),at:v,voids:l}),k=z.above(t,{match:te=>tt.isElement(te)&&z.isBlock(t,te),at:w,voids:l}),S=C&&k&&!ue.equals(C[1],k[1]),E=ue.equals(v.path,w.path),_=l?null:(r=z.void(t,{at:v,mode:"highest"}))!==null&&r!==void 0?r:z.elementReadOnly(t,{at:v,mode:"highest"}),T=l?null:(i=z.void(t,{at:w,mode:"highest"}))!==null&&i!==void 0?i:z.elementReadOnly(t,{at:w,mode:"highest"});if(_){var A=z.before(t,v);A&&C&&ue.isAncestor(C[1],A.path)&&(v=A)}if(T){var I=z.after(t,w);I&&k&&ue.isAncestor(k[1],I.path)&&(w=I)}var j=[],$;for(var D of z.nodes(t,{at:u,voids:l})){var[O,M]=D;$&&ue.compare(M,$)===0||(!l&&tt.isElement(O)&&(z.isVoid(t,O)||z.isElementReadOnly(t,O))||!ue.isCommon(M,v.path)&&!ue.isCommon(M,w.path))&&(j.push(D),$=M)}var P=Array.from(j,te=>{var[,de]=te;return z.pathRef(t,de)}),F=z.pointRef(t,v),L=z.pointRef(t,w),U="";if(!E&&!_){var H=F.current,[N]=z.leaf(t,H),{path:Y}=H,{offset:J}=v,ee=N.text.slice(J);ee.length>0&&(t.apply({type:"remove_text",path:Y,offset:J,text:ee}),U=ee)}if(P.reverse().map(te=>te.unref()).filter(te=>te!==null).forEach(te=>ne.removeNodes(t,{at:te,voids:l})),!T){var oe=L.current,[re]=z.leaf(t,oe),{path:se}=oe,G=E?v.offset:0,K=re.text.slice(G,w.offset);K.length>0&&(t.apply({type:"remove_text",path:se,offset:G,text:K}),U=K)}!E&&S&&L.current&&F.current&&ne.mergeNodes(t,{at:L.current,hanging:!0,voids:l}),f&&o&&a==="character"&&U.length>1&&U.match(/[\u0980-\u09FF\u0E00-\u0E7F\u1000-\u109F\u0900-\u097F\u1780-\u17FF\u0D00-\u0D7F\u0B00-\u0B7F\u0A00-\u0A7F\u0B80-\u0BFF\u0C00-\u0C7F]+/)&&ne.insertText(t,U.slice(0,U.length-s));var q=F.unref(),X=L.unref(),ie=o?q||X:X||q;n.at==null&&ie&&ne.select(t,ie)}}})},hVt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};z.withoutNormalizing(t,()=>{var{hanging:i=!1,voids:o=!1}=r,{at:a=Bq(t),batchDirty:s=!0}=r;if(n.length){if(me.isRange(a))if(i||(a=z.unhangRange(t,a,{voids:o})),me.isCollapsed(a))a=a.anchor;else{var[,l]=me.edges(a);if(!o&&z.void(t,{at:l}))return;var u=z.pointRef(t,l);ne.delete(t,{at:a}),a=u.unref()}else ue.isPath(a)&&(a=z.start(t,a));if(!(!o&&z.void(t,{at:a}))){var d=z.above(t,{at:a,match:Y=>tt.isElement(Y)&&z.isInline(t,Y),mode:"highest",voids:o});if(d){var[,f]=d;if(z.isEnd(t,a,f)){var h=z.after(t,f);a=h}else if(z.isStart(t,a,f)){var m=z.before(t,f);a=m}}var g=z.above(t,{match:Y=>tt.isElement(Y)&&z.isBlock(t,Y),at:a,voids:o}),[,y]=g,x=z.isStart(t,a,y),b=z.isEnd(t,a,y),v=x&&b,[,w]=Be.first({children:n},[]),[,C]=Be.last({children:n},[]),k=Y=>{var[J,ee]=Y,oe=ee.length===0;return oe?!1:v?!0:!(!x&&ue.isAncestor(ee,w)&&tt.isElement(J)&&!t.isVoid(J)&&!t.isInline(J)||!b&&ue.isAncestor(ee,C)&&tt.isElement(J)&&!t.isVoid(J)&&!t.isInline(J))},S=!0,E=[],_=[],T=[];for(var A of Be.nodes({children:n},{pass:k})){var[I,j]=A;S&&tt.isElement(I)&&!t.isInline(I)&&!ue.isAncestor(j,w)&&(S=!1),k(A)&&(tt.isElement(I)&&!t.isInline(I)?(S=!1,_.push(I)):S?E.push(I):T.push(I))}var[$]=z.nodes(t,{at:a,match:Y=>Ke.isText(Y)||z.isInline(t,Y),mode:"highest",voids:o}),[,D]=$,O=z.isStart(t,a,D),M=z.isEnd(t,a,D),P=z.pathRef(t,b&&!T.length?ue.next(y):y),F=z.pathRef(t,M?ue.next(D):D),L=T.length>0;ne.splitNodes(t,{at:a,match:Y=>L?tt.isElement(Y)&&z.isBlock(t,Y):Ke.isText(Y)||z.isInline(t,Y),mode:L?"lowest":"highest",always:L&&(!x||E.length>0)&&(!b||T.length>0),voids:o});var U=z.pathRef(t,!O||O&&M?ue.next(D):D);if(ne.insertNodes(t,E,{at:U.current,match:Y=>Ke.isText(Y)||z.isInline(t,Y),mode:"highest",voids:o,batchDirty:s}),v&&!E.length&&_.length&&!T.length&&ne.delete(t,{at:y,voids:o}),ne.insertNodes(t,_,{at:P.current,match:Y=>tt.isElement(Y)&&z.isBlock(t,Y),mode:"lowest",voids:o,batchDirty:s}),ne.insertNodes(t,T,{at:F.current,match:Y=>Ke.isText(Y)||z.isInline(t,Y),mode:"highest",voids:o,batchDirty:s}),!r.at){var H;if(T.length>0&&F.current?H=ue.previous(F.current):_.length>0&&P.current?H=ue.previous(P.current):U.current&&(H=ue.previous(U.current)),H){var N=z.end(t,H);ne.select(t,N)}}U.unref(),P.unref(),F.unref()}}})},pVt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:r="anchor"}=n,{selection:i}=t;if(i){if(r==="anchor")ne.select(t,i.anchor);else if(r==="focus")ne.select(t,i.focus);else if(r==="start"){var[o]=me.edges(i);ne.select(t,o)}else if(r==="end"){var[,a]=me.edges(i);ne.select(t,a)}}else return},mVt=e=>{var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},gVt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t,{distance:i=1,unit:o="character",reverse:a=!1}=n,{edge:s=null}=n;if(r){s==="start"&&(s=me.isBackward(r)?"focus":"anchor"),s==="end"&&(s=me.isBackward(r)?"anchor":"focus");var{anchor:l,focus:u}=r,d={distance:i,unit:o},f={};if(s==null||s==="anchor"){var h=a?z.before(t,l,d):z.after(t,l,d);h&&(f.anchor=h)}if(s==null||s==="focus"){var m=a?z.before(t,u,d):z.after(t,u,d);m&&(f.focus=m)}ne.setSelection(t,f)}},yVt=(e,t)=>{var{selection:n}=e;if(t=z.range(e,t),n){ne.setSelection(e,t);return}if(!me.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(Eo.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})};function uce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uce(Object(n),!0).forEach(function(r){_s(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uce(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var vVt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:i}=t,{edge:o="both"}=r;if(i){o==="start"&&(o=me.isBackward(i)?"focus":"anchor"),o==="end"&&(o=me.isBackward(i)?"anchor":"focus");var{anchor:a,focus:s}=i,l=o==="anchor"?a:s;ne.setSelection(t,{[o==="anchor"?"anchor":"focus"]:dce(dce({},l),n)})}},bVt=(e,t)=>{var{selection:n}=e,r={},i={};if(n){for(var o in t)(o==="anchor"&&t.anchor!=null&&!Yt.equals(t.anchor,n.anchor)||o==="focus"&&t.focus!=null&&!Yt.equals(t.focus,n.focus)||o!=="anchor"&&o!=="focus"&&t[o]!==n[o])&&(r[o]=n[o],i[o]=t[o]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:i})}},xVt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};z.withoutNormalizing(t,()=>{var{hanging:i=!1,voids:o=!1,mode:a="lowest",batchDirty:s=!0}=r,{at:l,match:u,select:d}=r;if(Be.isNode(n)&&(n=[n]),n.length!==0){var[f]=n;if(l||(l=Bq(t),d!==!1&&(d=!0)),d==null&&(d=!1),me.isRange(l))if(i||(l=z.unhangRange(t,l,{voids:o})),me.isCollapsed(l))l=l.anchor;else{var[,h]=me.edges(l),m=z.pointRef(t,h);ne.delete(t,{at:l}),l=m.unref()}if(Yt.isPoint(l)){u==null&&(Ke.isText(f)?u=A=>Ke.isText(A):t.isInline(f)?u=A=>Ke.isText(A)||z.isInline(t,A):u=A=>tt.isElement(A)&&z.isBlock(t,A));var[g]=z.nodes(t,{at:l.path,match:u,mode:a,voids:o});if(g){var[,y]=g,x=z.pathRef(t,y),b=z.isEnd(t,l,y);ne.splitNodes(t,{at:l,match:u,mode:a,voids:o});var v=x.unref();l=b?ue.next(v):v}else return}var w=ue.parent(l),C=l[l.length-1];if(!(!o&&z.void(t,{at:w}))){if(s){var k=[],S=ue.levels(w);nBt(t,()=>{var A=function(){var $=w.concat(C);C++;var D={type:"insert_node",path:$,node:I};t.apply(D),l=ue.next(l),k.push(D),Ke.isText(I)?S.push($):S.push(...Array.from(Be.nodes(I),O=>{var[,M]=O;return $.concat(M)}))};for(var I of n)A()},()=>{aDe(t,S,A=>{var I=A;for(var j of k)if(ue.operationCanTransformPath(j)&&(I=ue.transform(I,j),!I))return null;return I})})}else for(var E of n){var _=w.concat(C);C++,t.apply({type:"insert_node",path:_,node:E}),l=ue.next(l)}if(l=ue.previous(l),d){var T=z.end(t,l);T&&ne.select(t,T)}}}})},wVt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};z.withoutNormalizing(t,()=>{var{at:r=t.selection,mode:i="lowest",voids:o=!1}=n,{match:a}=n;if(a==null&&(a=ue.isPath(r)?Dw(t,r):C=>tt.isElement(C)&&z.isBlock(t,C)),!!r){var s=z.nodes(t,{at:r,match:a,mode:i,voids:o}),l=Array.from(s,C=>{var[,k]=C;return z.pathRef(t,k)});for(var u of l){var d=u.unref();if(d.length<2)throw new Error("Cannot lift node at a path [".concat(d,"] because it has a depth of less than `2`."));var f=z.node(t,ue.parent(d)),[h,m]=f,g=d[d.length-1],{length:y}=h.children;if(y===1){var x=ue.next(m);ne.moveNodes(t,{at:d,to:x,voids:o}),ne.removeNodes(t,{at:m,voids:o})}else if(g===0)ne.moveNodes(t,{at:d,to:m,voids:o});else if(g===y-1){var b=ue.next(m);ne.moveNodes(t,{at:d,to:b,voids:o})}else{var v=ue.next(d),w=ue.next(m);ne.splitNodes(t,{at:v,voids:o}),ne.moveNodes(t,{at:d,to:w,voids:o})}}}})},CVt=["text"],kVt=["children"],sDe=(e,t)=>{if(tt.isElement(t)){var n=t;return z.isVoid(e,t)?!0:n.children.length===1?sDe(e,n.children[0]):!1}else return!z.isEditor(t)},SVt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};z.withoutNormalizing(t,()=>{var{match:r,at:i=t.selection}=n,{hanging:o=!1,voids:a=!1,mode:s="lowest"}=n;if(i){if(r==null)if(ue.isPath(i)){var[l]=z.parent(t,i);r=A=>l.children.includes(A)}else r=A=>tt.isElement(A)&&z.isBlock(t,A);if(!o&&me.isRange(i)&&(i=z.unhangRange(t,i,{voids:a})),me.isRange(i))if(me.isCollapsed(i))i=i.anchor;else{var[,u]=me.edges(i),d=z.pointRef(t,u);ne.delete(t,{at:i}),i=d.unref(),n.at==null&&ne.select(t,i)}var[f]=z.nodes(t,{at:i,match:r,voids:a,mode:s}),h=z.previous(t,{at:i,match:r,voids:a,mode:s});if(!(!f||!h)){var[m,g]=f,[y,x]=h;if(!(g.length===0||x.length===0)){var b=ue.next(x),v=ue.common(g,x),w=ue.isSibling(g,x),C=Array.from(z.levels(t,{at:g}),A=>{var[I]=A;return I}).slice(v.length).slice(0,-1),k=z.above(t,{at:g,mode:"highest",match:A=>C.includes(A)&&sDe(t,A)}),S=k&&z.pathRef(t,k[1]),E,_;if(Ke.isText(m)&&Ke.isText(y)){var T=Nh(m,CVt);_=y.text.length,E=T}else if(tt.isElement(m)&&tt.isElement(y)){var T=Nh(m,kVt);_=y.children.length,E=T}else throw new Error("Cannot merge the node at path [".concat(g,"] with the previous sibling because it is not the same kind: ").concat(Eo.stringify(m)," ").concat(Eo.stringify(y)));w||ne.moveNodes(t,{at:g,to:b,voids:a}),S&&ne.removeNodes(t,{at:S.current,voids:a}),z.shouldMergeNodesRemovePrevNode(t,h,f)?ne.removeNodes(t,{at:x,voids:a}):t.apply({type:"merge_node",path:b,position:_,properties:E}),S&&S.unref()}}}})},EVt=(e,t)=>{z.withoutNormalizing(e,()=>{var{to:n,at:r=e.selection,mode:i="lowest",voids:o=!1}=t,{match:a}=t;if(r){a==null&&(a=ue.isPath(r)?Dw(e,r):m=>tt.isElement(m)&&z.isBlock(e,m));var s=z.pathRef(e,n),l=z.nodes(e,{at:r,match:a,mode:i,voids:o}),u=Array.from(l,m=>{var[,g]=m;return z.pathRef(e,g)});for(var d of u){var f=d.unref(),h=s.current;f.length!==0&&e.apply({type:"move_node",path:f,newPath:h}),s.current&&ue.isSibling(h,f)&&ue.isAfter(h,f)&&(s.current=ue.next(s.current))}s.unref()}})},_Vt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};z.withoutNormalizing(t,()=>{var{hanging:r=!1,voids:i=!1,mode:o="lowest"}=n,{at:a=t.selection,match:s}=n;if(a){s==null&&(s=ue.isPath(a)?Dw(t,a):m=>tt.isElement(m)&&z.isBlock(t,m)),!r&&me.isRange(a)&&(a=z.unhangRange(t,a,{voids:i}));var l=z.nodes(t,{at:a,match:s,mode:o,voids:i}),u=Array.from(l,m=>{var[,g]=m;return z.pathRef(t,g)});for(var d of u){var f=d.unref();if(f){var[h]=z.node(t,f);t.apply({type:"remove_node",path:f,node:h})}}}})},TVt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};z.withoutNormalizing(t,()=>{var{match:i,at:o=t.selection,compare:a,merge:s}=r,{hanging:l=!1,mode:u="lowest",split:d=!1,voids:f=!1}=r;if(o){if(i==null&&(i=ue.isPath(o)?Dw(t,o):_=>tt.isElement(_)&&z.isBlock(t,_)),!l&&me.isRange(o)&&(o=z.unhangRange(t,o,{voids:f})),d&&me.isRange(o)){if(me.isCollapsed(o)&&z.leaf(t,o.anchor)[0].text.length>0)return;var h=z.rangeRef(t,o,{affinity:"inward"}),[m,g]=me.edges(o),y=u==="lowest"?"lowest":"highest",x=z.isEnd(t,g,g.path);ne.splitNodes(t,{at:g,match:i,mode:y,voids:f,always:!x});var b=z.isStart(t,m,m.path);ne.splitNodes(t,{at:m,match:i,mode:y,voids:f,always:!b}),o=h.unref(),r.at==null&&ne.select(t,o)}a||(a=(_,T)=>_!==T);for(var[v,w]of z.nodes(t,{at:o,match:i,mode:u,voids:f})){var C={},k={};if(w.length!==0){var S=!1;for(var E in n)E==="children"||E==="text"||a(n[E],v[E])&&(S=!0,v.hasOwnProperty(E)&&(C[E]=v[E]),s?n[E]!=null&&(k[E]=s(v[E],n[E])):n[E]!=null&&(k[E]=n[E]));S&&t.apply({type:"set_node",path:w,properties:C,newProperties:k})}}}})},AVt=(e,t)=>{if(me.isCollapsed(t))return t.anchor;var[,n]=me.edges(t),r=z.pointRef(e,n);return ne.delete(e,{at:t}),r.unref()},jVt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};z.withoutNormalizing(t,()=>{var{mode:r="lowest",voids:i=!1}=n,{match:o,at:a=t.selection,height:s=0,always:l=!1}=n;if(o==null&&(o=L=>tt.isElement(L)&&z.isBlock(t,L)),me.isRange(a)&&(a=AVt(t,a)),ue.isPath(a)){var u=a,d=z.point(t,u),[f]=z.parent(t,u);o=L=>L===f,s=d.path.length-u.length+1,a=d,l=!0}if(a){var h=z.pointRef(t,a,{affinity:"backward"}),m;try{var[g]=z.nodes(t,{at:a,match:o,mode:r,voids:i});if(!g)return;var y=z.void(t,{at:a,mode:"highest"}),x=0;if(!i&&y){var[b,v]=y;if(tt.isElement(b)&&t.isInline(b)){var w=z.after(t,v);if(!w){var C={text:""},k=ue.next(v);ne.insertNodes(t,C,{at:k,voids:i}),w=z.point(t,k)}a=w,l=!0}var S=a.path.length-v.length;s=S+1,l=!0}m=z.pointRef(t,a);var E=a.path.length-s,[,_]=g,T=a.path.slice(0,E),A=s===0?a.offset:a.path[E]+x;for(var[I,j]of z.levels(t,{at:T,reverse:!0,voids:i})){var $=!1;if(j.length<_.length||j.length===0||!i&&tt.isElement(I)&&z.isVoid(t,I))break;var D=h.current,O=z.isEnd(t,D,j);if(l||!h||!z.isEdge(t,D,j)){$=!0;var M=Be.extractProps(I);t.apply({type:"split_node",path:j,position:A,properties:M})}A=j[j.length-1]+($||O?1:0)}if(n.at==null){var P=m.current||z.end(t,[]);ne.select(t,P)}}finally{var F;h.unref(),(F=m)===null||F===void 0||F.unref()}}})},IVt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(n)||(n=[n]);var i={};for(var o of n)i[o]=null;ne.setNodes(t,i,r)},$Vt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};z.withoutNormalizing(t,()=>{var{mode:r="lowest",split:i=!1,voids:o=!1}=n,{at:a=t.selection,match:s}=n;if(a){s==null&&(s=ue.isPath(a)?Dw(t,a):m=>tt.isElement(m)&&z.isBlock(t,m)),ue.isPath(a)&&(a=z.range(t,a));var l=me.isRange(a)?z.rangeRef(t,a):null,u=z.nodes(t,{at:a,match:s,mode:r,voids:o}),d=Array.from(u,m=>{var[,g]=m;return z.pathRef(t,g)}).reverse(),f=function(){var g=h.unref(),[y]=z.node(t,g),x=z.range(t,g);i&&l&&(x=me.intersection(l.current,x)),ne.liftNodes(t,{at:x,match:b=>tt.isAncestor(y)&&y.children.includes(b),voids:o})};for(var h of d)f();l&&l.unref()}})};function fce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fce(Object(n),!0).forEach(function(r){_s(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fce(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var DVt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};z.withoutNormalizing(t,()=>{var{mode:i="lowest",split:o=!1,voids:a=!1}=r,{match:s,at:l=t.selection}=r;if(l){if(s==null&&(ue.isPath(l)?s=Dw(t,l):t.isInline(n)?s=x=>tt.isElement(x)&&z.isInline(t,x)||Ke.isText(x):s=x=>tt.isElement(x)&&z.isBlock(t,x)),o&&me.isRange(l)){var[u,d]=me.edges(l),f=z.rangeRef(t,l,{affinity:"inward"});ne.splitNodes(t,{at:d,match:s,voids:a}),ne.splitNodes(t,{at:u,match:s,voids:a}),l=f.unref(),r.at==null&&ne.select(t,l)}var h=Array.from(z.nodes(t,{at:l,match:t.isInline(n)?x=>tt.isElement(x)&&z.isBlock(t,x):x=>z.isEditor(x),mode:"lowest",voids:a})),m=function(){var b=me.isRange(l)?me.intersection(l,z.range(t,y)):l;if(!b)return 0;var v=Array.from(z.nodes(t,{at:b,match:s,mode:i,voids:a}));if(v.length>0){var[w]=v,C=v[v.length-1],[,k]=w,[,S]=C;if(k.length===0&&S.length===0)return 0;var E=ue.equals(k,S)?ue.parent(k):ue.common(k,S),_=z.range(t,k,S),T=z.node(t,E),[A]=T,I=E.length+1,j=ue.next(S.slice(0,I)),$=hce(hce({},n),{},{children:[]});ne.insertNodes(t,$,{at:j,voids:a}),ne.moveNodes(t,{at:_,match:D=>tt.isAncestor(A)&&A.children.includes(D),to:j.concat(0),voids:a})}},g;for(var[,y]of h)g=m()}})},OVt=()=>{var e={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return rBt(e,...r)},addMark:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return cBt(e,...r)},deleteBackward:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return fBt(e,...r)},deleteForward:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return hBt(e,...r)},deleteFragment:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return pBt(e,...r)},getFragment:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return oBt(e,...r)},insertBreak:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return EBt(e,...r)},insertSoftBreak:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return TBt(e,...r)},insertFragment:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return hVt(e,...r)},insertNode:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return _Bt(e,...r)},insertText:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return jBt(e,...r)},normalizeNode:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return aBt(e,...r)},removeMark:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return oVt(e,...r)},getDirtyPaths:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return iBt(e,...r)},shouldNormalize:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return sBt(e,...r)},above:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return lBt(e,...r)},after:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return uBt(e,...r)},before:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return dBt(e,...r)},collapse:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return pVt(e,...r)},delete:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return fVt(e,...r)},deselect:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return mVt(e,...r)},edges:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return mBt(e,...r)},elementReadOnly:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return gBt(e,...r)},end:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return yBt(e,...r)},first:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return vBt(e,...r)},fragment:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return bBt(e,...r)},getMarks:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return VBt(e,...r)},hasBlocks:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return wBt(e,...r)},hasInlines:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return CBt(e,...r)},hasPath:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return kBt(e,...r)},hasTexts:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return SBt(e,...r)},insertNodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return xVt(e,...r)},isBlock:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return IBt(e,...r)},isEdge:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return $Bt(e,...r)},isEmpty:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return DBt(e,...r)},isEnd:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return OBt(e,...r)},isNormalizing:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return MBt(e,...r)},isStart:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return PBt(e,...r)},last:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return RBt(e,...r)},leaf:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return FBt(e,...r)},levels:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return LBt(e,...r)},liftNodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return wVt(e,...r)},mergeNodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return SVt(e,...r)},move:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return gVt(e,...r)},moveNodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return EVt(e,...r)},next:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return zBt(e,...r)},node:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return UBt(e,...r)},nodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return HBt(e,...r)},normalize:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return WBt(e,...r)},parent:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return GBt(e,...r)},path:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return qBt(e,...r)},pathRef:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return KBt(e,...r)},pathRefs:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return YBt(e,...r)},point:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return JBt(e,...r)},pointRef:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ZBt(e,...r)},pointRefs:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return XBt(e,...r)},positions:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return QBt(e,...r)},previous:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return eVt(e,...r)},range:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return rVt(e,...r)},rangeRef:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return tVt(e,...r)},rangeRefs:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return nVt(e,...r)},removeNodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return _Vt(e,...r)},select:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return yVt(e,...r)},setNodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return TVt(e,...r)},setNormalizing:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return aVt(e,...r)},setPoint:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return vVt(e,...r)},setSelection:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return bVt(e,...r)},splitNodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return jVt(e,...r)},start:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return sVt(e,...r)},string:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return lVt(e,...r)},unhangRange:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return cVt(e,...r)},unsetNodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return IVt(e,...r)},unwrapNodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return $Vt(e,...r)},void:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return xBt(e,...r)},withoutNormalizing:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return uVt(e,...r)},wrapNodes:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return DVt(e,...r)},shouldMergeNodesRemovePrevNode:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return dVt(e,...r)}};return e},MVt=FVt,lDe="---",cDe="A-Za-z--------",PVt=new RegExp("^[^"+cDe+"]*["+lDe+"]"),RVt=new RegExp("^[^"+lDe+"]*["+cDe+"]");function FVt(e){return e=String(e||""),PVt.test(e)?"rtl":RVt.test(e)?"ltr":"neutral"}const uDe=Ue(MVt);var mp={};Object.defineProperty(mp,"__esModule",{value:!0});var LVt=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Y8={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},dDe={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:LVt?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},Uq={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var KT=1;KT<20;KT++)Uq["f"+KT]=111+KT;function TP(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(a){return fDe(a,t)}),i=function(s){return r.some(function(l){return hDe(l,s)})},o=n==null?i:i(n);return o}function NVt(e,t){return TP(e,t)}function BVt(e,t){return TP(e,{byKey:!0},t)}function fDe(e,t){var n=t&&t.byKey,r={};e=e.replace("++","+add");var i=e.split("+"),o=i.length;for(var a in Y8)r[Y8[a]]=!1;var s=!0,l=!1,u=void 0;try{for(var d=i[Symbol.iterator](),f;!(s=(f=d.next()).done);s=!0){var h=f.value,m=h.endsWith("?")&&h.length>1;m&&(h=h.slice(0,-1));var g=Hq(h),y=Y8[g];if(h.length>1&&!y&&!dDe[h]&&!Uq[g])throw new TypeError('Unknown modifier: "'+h+'"');(o===1||!y)&&(n?r.key=g:r.which=pDe(h)),y&&(r[y]=m?null:!0)}}catch(x){l=!0,u=x}finally{try{!s&&d.return&&d.return()}finally{if(l)throw u}}return r}function hDe(e,t){for(var n in e){var r=e[n],i=void 0;if(r!=null&&(n==="key"&&t.key!=null?i=t.key.toLowerCase():n==="which"?i=r===91&&t.which===93?91:t.which:i=t[n],!(i==null&&r===!1)&&i!==r))return!1}return!0}function pDe(e){e=Hq(e);var t=Uq[e]||e.toUpperCase().charCodeAt(0);return t}function Hq(e){return e=e.toLowerCase(),e=dDe[e]||e,e}mp.default=TP;var q8=mp.isHotkey=TP;mp.isCodeHotkey=NVt;mp.isKeyHotkey=BVt;mp.parseHotkey=fDe;mp.compareHotkey=hDe;mp.toKeyCode=pDe;mp.toKeyName=Hq;var mDe=globalThis.Node,VVt=globalThis.Text,Wq=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,zVt=e=>Bh(e)&&e.nodeType===8,mc=e=>Bh(e)&&e.nodeType===1,Bh=e=>{var t=Wq(e);return!!t&&e instanceof t.Node},WB=e=>{var t=e&&e.anchorNode&&Wq(e.anchorNode);return!!t&&e instanceof t.Selection},gDe=e=>Bh(e)&&e.nodeType===3,UVt=e=>e.clipboardData&&e.clipboardData.getData("text/plain")!==""&&e.clipboardData.types.length===1,HVt=e=>{var[t,n]=e;if(mc(t)&&t.childNodes.length){var r=n===t.childNodes.length,i=r?n-1:n;for([t,i]=yDe(t,i,r?"backward":"forward"),r=i<n;mc(t)&&t.childNodes.length;){var o=r?t.childNodes.length-1:0;t=GVt(t,o,r?"backward":"forward")}n=r&&t.textContent!=null?t.textContent.length:0}return[t,n]},WVt=e=>{for(var t=e&&e.parentNode;t;){if(t.toString()==="[object ShadowRoot]")return!0;t=t.parentNode}return!1},yDe=(e,t,n)=>{for(var{childNodes:r}=e,i=r[t],o=t,a=!1,s=!1;(zVt(i)||mc(i)&&i.childNodes.length===0||mc(i)&&i.getAttribute("contenteditable")==="false")&&!(a&&s);){if(o>=r.length){a=!0,o=t-1,n="backward";continue}if(o<0){s=!0,o=t+1,n="forward";continue}i=r[o],t=o,o+=n==="forward"?1:-1}return[i,t]},GVt=(e,t,n)=>{var[r]=yDe(e,t,n);return r},vDe=e=>{var t="";if(gDe(e)&&e.nodeValue)return e.nodeValue;if(mc(e)){for(var n of Array.from(e.childNodes))t+=vDe(n);var r=getComputedStyle(e).getPropertyValue("display");(r==="block"||r==="list"||e.tagName==="BR")&&(t+=`
`)}return t},KVt=/data-slate-fragment="(.+?)"/m,YVt=e=>{var t=e.getData("text/html"),[,n]=t.match(KVt)||[];return n},jS=e=>e.getSelection!=null?e.getSelection():document.getSelection(),Gq=(e,t,n)=>{var{target:r}=t;if(mc(r)&&r.matches('[contentEditable="false"]'))return!1;var{document:i}=_t.getWindow(e);if(i.contains(r))return _t.hasDOMNode(e,r,{editable:!0});var o=n.find(a=>{var{addedNodes:s,removedNodes:l}=a;for(var u of s)if(u===r||u.contains(r))return!0;for(var d of l)if(d===r||d.contains(r))return!0});return!o||o===t?!1:Gq(e,o,n)},qVt=()=>{for(var e=document.activeElement;(t=e)!==null&&t!==void 0&&t.shadowRoot&&(n=e.shadowRoot)!==null&&n!==void 0&&n.activeElement;){var t,n,r;e=(r=e)===null||r===void 0||(r=r.shadowRoot)===null||r===void 0?void 0:r.activeElement}return e},pce=(e,t)=>!!(e.compareDocumentPosition(t)&mDe.DOCUMENT_POSITION_PRECEDING),ZVt=(e,t)=>!!(e.compareDocumentPosition(t)&mDe.DOCUMENT_POSITION_FOLLOWING),Z8,X8,XVt=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,mce=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),Ka=typeof navigator<"u"&&/Android/.test(navigator.userAgent),Hv=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Qg=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),JVt=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),bDe=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),QVt=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),ezt=Ka&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),tzt=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),nzt=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),rzt=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),rI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&/Version\/(\d+)/.test(navigator.userAgent)&&((Z8=navigator.userAgent.match(/Version\/(\d+)/))!==null&&Z8!==void 0&&Z8[1]&&parseInt((X8=navigator.userAgent.match(/Version\/(\d+)/))===null||X8===void 0?void 0:X8[1],10)<17);var _p=(!QVt||!ezt)&&!JVt&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function";function X2(e){"@babel/helpers - typeof";return X2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X2(e)}function izt(e,t){if(X2(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(X2(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ozt(e){var t=izt(e,"string");return X2(t)==="symbol"?t:String(t)}function Kq(e,t,n){return t=ozt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var azt=0;class xDe{constructor(){Kq(this,"id",void 0),this.id="".concat(azt++)}}var Eb=new WeakMap,Wv=new WeakMap,IS=new WeakMap,wDe=new WeakMap,iI=new WeakMap,GB=new WeakMap,J2=new WeakMap,z1=new WeakMap,D$=new WeakMap,AP=new WeakMap,KB=new WeakMap,pm=new WeakMap,C1=new WeakMap,$S=new WeakMap,YB=new WeakMap,Yq=new WeakMap,wu=new WeakMap,ah=new WeakMap,Ks=new WeakMap,Up=new WeakMap,Uf=new WeakMap,CDe=new WeakMap,mx=Symbol("placeholder"),kDe=Symbol("mark-placeholder"),_t={androidPendingDiffs:e=>Ks.get(e),androidScheduleFlush:e=>{var t;(t=Yq.get(e))===null||t===void 0||t()},blur:e=>{var t=_t.toDOMNode(e,e),n=_t.findDocumentOrShadowRoot(e);pm.set(e,!1),n.activeElement===t&&t.blur()},deselect:e=>{var{selection:t}=e,n=_t.findDocumentOrShadowRoot(e),r=jS(n);r&&r.rangeCount>0&&r.removeAllRanges(),t&&ne.deselect(e)},findDocumentOrShadowRoot:e=>{var t=_t.toDOMNode(e,e),n=t.getRootNode();return n instanceof Document||n instanceof ShadowRoot?n:t.ownerDocument},findEventRange:(e,t)=>{"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:n,clientY:r,target:i}=t;if(n==null||r==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var o=_t.toSlateNode(e,t.target),a=_t.findPath(e,o);if(tt.isElement(o)&&z.isVoid(e,o)){var s=i.getBoundingClientRect(),l=e.isInline(o)?n-s.left<s.left+s.width-n:r-s.top<s.top+s.height-r,u=z.point(e,a,{edge:l?"start":"end"}),d=l?z.before(e,u):z.after(e,u);if(d){var f=z.range(e,d);return f}}var h,{document:m}=_t.getWindow(e);if(m.caretRangeFromPoint)h=m.caretRangeFromPoint(n,r);else{var g=m.caretPositionFromPoint(n,r);g&&(h=m.createRange(),h.setStart(g.offsetNode,g.offset),h.setEnd(g.offsetNode,g.offset))}if(!h)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var y=_t.toSlateRange(e,h,{exactMatch:!1,suppressThrow:!1});return y},findKey:(e,t)=>{var n=D$.get(t);return n||(n=new xDe,D$.set(t,n)),n},findPath:(e,t)=>{for(var n=[],r=t;;){var i=IS.get(r);if(i==null){if(z.isEditor(r))return n;break}var o=Wv.get(r);if(o==null)break;n.unshift(o),r=i}throw new Error("Unable to find the path for Slate node: ".concat(Eo.stringify(t)))},focus:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{retries:5};if(!pm.get(t)){if(n.retries<=0)throw new Error("Could not set focus, editor seems stuck with pending operations");if(t.operations.length>0){setTimeout(()=>{_t.focus(t,{retries:n.retries-1})},10);return}var r=_t.toDOMNode(t,t),i=_t.findDocumentOrShadowRoot(t);if(i.activeElement!==r){if(t.selection&&i instanceof Document){var o=jS(i),a=_t.toDOMRange(t,t.selection);o==null||o.removeAllRanges(),o==null||o.addRange(a)}t.selection||ne.select(t,z.start(t,[])),pm.set(t,!0),r.focus({preventScroll:!0})}}},getWindow:e=>{var t=wDe.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},hasDOMNode:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:i=!1}=r,o=_t.toDOMNode(t,t),a;try{a=mc(n)?n:n.parentElement}catch(s){if(s instanceof Error&&!s.message.includes('Permission denied to access property "nodeType"'))throw s}return a?a.closest("[data-slate-editor]")===o&&(!i||a.isContentEditable?!0:typeof a.isContentEditable=="boolean"&&a.closest('[contenteditable="false"]')===o||!!a.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(e,t)=>Bh(t)&&_t.hasDOMNode(e,t,{editable:!0}),hasRange:(e,t)=>{var{anchor:n,focus:r}=t;return z.hasPath(e,n.path)&&z.hasPath(e,r.path)},hasSelectableTarget:(e,t)=>_t.hasEditableTarget(e,t)||_t.isTargetInsideNonReadonlyVoid(e,t),hasTarget:(e,t)=>Bh(t)&&_t.hasDOMNode(e,t),insertData:(e,t)=>{e.insertData(t)},insertFragmentData:(e,t)=>e.insertFragmentData(t),insertTextData:(e,t)=>e.insertTextData(t),isComposing:e=>!!C1.get(e),isFocused:e=>!!pm.get(e),isReadOnly:e=>!!KB.get(e),isTargetInsideNonReadonlyVoid:(e,t)=>{if(KB.get(e))return!1;var n=_t.hasTarget(e,t)&&_t.toSlateNode(e,t);return tt.isElement(n)&&z.isVoid(e,n)},setFragmentData:(e,t,n)=>e.setFragmentData(t,n),toDOMNode:(e,t)=>{var n=AP.get(e),r=z.isEditor(t)?iI.get(e):n==null?void 0:n.get(_t.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(Eo.stringify(t)));return r},toDOMPoint:(e,t)=>{var[n]=z.node(e,t.path),r=_t.toDOMNode(e,n),i;z.void(e,{at:t})&&(t={path:t.path,offset:0});for(var o="[data-slate-string], [data-slate-zero-width]",a=Array.from(r.querySelectorAll(o)),s=0,l=0;l<a.length;l++){var u=a[l],d=u.childNodes[0];if(!(d==null||d.textContent==null)){var{length:f}=d.textContent,h=u.getAttribute("data-slate-length"),m=h==null?f:parseInt(h,10),g=s+m,y=a[l+1];if(t.offset===g&&y!==null&&y!==void 0&&y.hasAttribute("data-slate-mark-placeholder")){var x,b=y.childNodes[0];i=[b instanceof VVt?b:y,(x=y.textContent)!==null&&x!==void 0&&x.startsWith("\uFEFF")?1:0];break}if(t.offset<=g){var v=Math.min(f,Math.max(0,t.offset-s));i=[d,v];break}s=g}}if(!i)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(Eo.stringify(t)));return i},toDOMRange:(e,t)=>{var{anchor:n,focus:r}=t,i=me.isBackward(t),o=_t.toDOMPoint(e,n),a=me.isCollapsed(t)?o:_t.toDOMPoint(e,r),s=_t.getWindow(e),l=s.document.createRange(),[u,d]=i?a:o,[f,h]=i?o:a,m=mc(u)?u:u.parentElement,g=!!m.getAttribute("data-slate-zero-width"),y=mc(f)?f:f.parentElement,x=!!y.getAttribute("data-slate-zero-width");return l.setStart(u,g?1:d),l.setEnd(f,x?1:h),l},toSlateNode:(e,t)=>{var n=mc(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?J2.get(n):null;if(!r)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},toSlatePoint:(e,t,n)=>{var{exactMatch:r,suppressThrow:i,searchDirection:o="backward"}=n,[a,s]=r?t:HVt(t),l=a.parentNode,u=null,d=0;if(l){var f,h,m=_t.toDOMNode(e,e),g=l.closest('[data-slate-void="true"]'),y=g&&m.contains(g)?g:null,x=l.closest('[contenteditable="false"]'),b=x&&m.contains(x)?x:null,v=l.closest("[data-slate-leaf]"),w=null;if(v){if(u=v.closest('[data-slate-node="text"]'),u){var C=_t.getWindow(e),k=C.document.createRange();k.setStart(u,0),k.setEnd(a,s);var S=k.cloneContents(),E=[...Array.prototype.slice.call(S.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(S.querySelectorAll("[contenteditable=false]"))];E.forEach(Y=>{if(Ka&&!r&&Y.hasAttribute("data-slate-zero-width")&&Y.textContent.length>0&&Y.textContext!=="\uFEFF"){Y.textContent.startsWith("\uFEFF")&&(Y.textContent=Y.textContent.slice(1));return}Y.parentNode.removeChild(Y)}),d=S.textContent.length,w=u}}else if(y){for(var _=y.querySelectorAll("[data-slate-leaf]"),T=0;T<_.length;T++){var A=_[T];if(_t.hasDOMNode(e,A)){v=A;break}}v?(u=v.closest('[data-slate-node="text"]'),w=v,d=w.textContent.length,w.querySelectorAll("[data-slate-zero-width]").forEach(Y=>{d-=Y.textContent.length})):d=1}else if(b){var I=Y=>Y?Y.querySelectorAll("[data-slate-leaf]:not(:scope [data-slate-editor] [data-slate-leaf])"):[],j=b.closest('[data-slate-node="element"]');if(o==="forward"){var $,D=[...I(j),...I(j==null?void 0:j.nextElementSibling)];v=($=D.find(Y=>ZVt(b,Y)))!==null&&$!==void 0?$:null}else{var O,M=[...I(j==null?void 0:j.previousElementSibling),...I(j)];v=(O=M.findLast(Y=>pce(b,Y)))!==null&&O!==void 0?O:null}v&&(u=v.closest('[data-slate-node="text"]'),w=v,o==="forward"?d=0:(d=w.textContent.length,w.querySelectorAll("[data-slate-zero-width]").forEach(Y=>{d-=Y.textContent.length})))}w&&d===w.textContent.length&&Ka&&w.getAttribute("data-slate-zero-width")==="z"&&(f=w.textContent)!==null&&f!==void 0&&f.startsWith("\uFEFF")&&(l.hasAttribute("data-slate-zero-width")||Hv&&(h=w.textContent)!==null&&h!==void 0&&h.endsWith(`

`))&&d--}if(Ka&&!u&&!r){var P=l.hasAttribute("data-slate-node")?l:l.closest("[data-slate-node]");if(P&&_t.hasDOMNode(e,P,{editable:!0})){var F=_t.toSlateNode(e,P),{path:L,offset:U}=z.start(e,_t.findPath(e,F));return P.querySelector("[data-slate-leaf]")||(U=s),{path:L,offset:U}}}if(!u){if(i)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var H=_t.toSlateNode(e,u),N=_t.findPath(e,H);return{path:N,offset:d}},toSlateRange:(e,t,n)=>{var r,{exactMatch:i,suppressThrow:o}=n,a=WB(t)?t.anchorNode:t.startContainer,s,l,u,d,f;if(a)if(WB(t)){if(Hv&&t.rangeCount>1){u=t.focusNode;var h=t.getRangeAt(0),m=t.getRangeAt(t.rangeCount-1);if(u instanceof HTMLTableRowElement&&h.startContainer instanceof HTMLTableRowElement&&m.startContainer instanceof HTMLTableRowElement){let S=function(E){return E.childElementCount>0?S(E.children[0]):E};var g=h.startContainer,y=m.startContainer,x=S(g.children[h.startOffset]),b=S(y.children[m.startOffset]);d=0,b.childNodes.length>0?s=b.childNodes[0]:s=b,x.childNodes.length>0?u=x.childNodes[0]:u=x,b instanceof HTMLElement?l=b.innerHTML.length:l=0}else h.startContainer===u?(s=m.endContainer,l=m.endOffset,d=h.startOffset):(s=h.startContainer,l=h.endOffset,d=m.startOffset)}else s=t.anchorNode,l=t.anchorOffset,u=t.focusNode,d=t.focusOffset;bDe&&WVt(s)||Hv?f=t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:f=t.isCollapsed}else s=t.startContainer,l=t.startOffset,u=t.endContainer,d=t.endOffset,f=t.collapsed;if(s==null||u==null||l==null||d==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));Hv&&(r=u.textContent)!==null&&r!==void 0&&r.endsWith(`

`)&&d===u.textContent.length&&d--;var v=_t.toSlatePoint(e,[s,l],{exactMatch:i,suppressThrow:o});if(!v)return null;var w=pce(s,u)||s===u&&d<l,C=f?v:_t.toSlatePoint(e,[u,d],{exactMatch:i,suppressThrow:o,searchDirection:w?"forward":"backward"});if(!C)return null;var k={anchor:v,focus:C};return me.isExpanded(k)&&me.isForward(k)&&mc(u)&&z.void(e,{at:k.focus,mode:"highest"})&&(k=z.unhangRange(e,k,{voids:!0})),k}};function szt(e,t){var{path:n,diff:r}=t;if(!z.hasPath(e,n))return!1;var i=Be.get(e,n);if(!Ke.isText(i))return!1;if(r.start!==i.text.length||r.text.length===0)return i.text.slice(r.start,r.start+r.text.length)===r.text;var o=ue.next(n);if(!z.hasPath(e,o))return!1;var a=Be.get(e,o);return Ke.isText(a)&&a.text.startsWith(r.text)}function SDe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((i,o)=>i.slice(0,o.start)+o.text+i.slice(o.end),e)}function lzt(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return n}function czt(e,t,n){for(var r=Math.min(e.length,t.length,n),i=0;i<r;i++)if(e.charAt(e.length-i-1)!==t.charAt(t.length-i-1))return i;return r}function EDe(e,t){var{start:n,end:r,text:i}=t,o=e.slice(n,r),a=lzt(o,i),s=Math.min(o.length-a,i.length-a),l=czt(o,i,s),u={start:n+a,end:r-l,text:i.slice(a,i.length-l)};return u.start===u.end&&u.text.length===0?null:u}function uzt(e,t,n){var r=Math.min(t.start,n.start),i=Math.max(0,Math.min(t.start+t.text.length,n.end)-n.start),o=SDe(e,t,n),a=Math.max(n.start+n.text.length,t.start+t.text.length+(t.start+t.text.length>n.start?n.text.length:0)-i),s=o.slice(r,a),l=Math.max(t.end,n.end-t.text.length+(t.end-t.start));return EDe(e,{start:r,end:l,text:s})}function dzt(e){var{path:t,diff:n}=e;return{anchor:{path:t,offset:n.start},focus:{path:t,offset:n.end}}}function qB(e,t){var{path:n,offset:r}=t;if(!z.hasPath(e,n))return null;var i=Be.get(e,n);if(!Ke.isText(i))return null;var o=z.above(e,{match:s=>tt.isElement(s)&&z.isBlock(e,s),at:n});if(!o)return null;for(;r>i.text.length;){var a=z.next(e,{at:n,match:Ke.isText});if(!a||!ue.isDescendant(a[1],o[1]))return null;r-=i.text.length,i=a[0],n=a[1]}return{path:n,offset:r}}function gce(e,t){var n=qB(e,t.anchor);if(!n)return null;if(me.isCollapsed(t))return{anchor:n,focus:n};var r=qB(e,t.focus);return r?{anchor:n,focus:r}:null}function ZB(e,t,n){var r=Ks.get(e),i=r==null?void 0:r.find(d=>{var{path:f}=d;return ue.equals(f,t.path)});if(!i||t.offset<=i.diff.start)return Yt.transform(t,n,{affinity:"backward"});var{diff:o}=i;if(t.offset<=o.start+o.text.length){var a={path:t.path,offset:o.start},s=Yt.transform(a,n,{affinity:"backward"});return s?{path:s.path,offset:s.offset+t.offset-o.start}:null}var l={path:t.path,offset:t.offset-o.text.length+o.end-o.start},u=Yt.transform(l,n,{affinity:"backward"});return u?n.type==="split_node"&&ue.equals(n.path,t.path)&&l.offset<n.position&&o.start<n.position?u:{path:u.path,offset:u.offset+o.text.length-o.end+o.start}:null}function yce(e,t,n){var r=ZB(e,t.anchor,n);if(!r)return null;if(me.isCollapsed(t))return{anchor:r,focus:r};var i=ZB(e,t.focus,n);return i?{anchor:r,focus:i}:null}function fzt(e,t){var{path:n,diff:r,id:i}=e;switch(t.type){case"insert_text":return!ue.equals(t.path,n)||t.offset>=r.end?e:t.offset<=r.start?{diff:{start:t.text.length+r.start,end:t.text.length+r.end,text:r.text},id:i,path:n}:{diff:{start:r.start,end:r.end+t.text.length,text:r.text},id:i,path:n};case"remove_text":return!ue.equals(t.path,n)||t.offset>=r.end?e:t.offset+t.text.length<=r.start?{diff:{start:r.start-t.text.length,end:r.end-t.text.length,text:r.text},id:i,path:n}:{diff:{start:r.start,end:r.end-t.text.length,text:r.text},id:i,path:n};case"split_node":return!ue.equals(t.path,n)||t.position>=r.end?{diff:r,id:i,path:ue.transform(n,t,{affinity:"backward"})}:t.position>r.start?{diff:{start:r.start,end:Math.min(t.position,r.end),text:r.text},id:i,path:n}:{diff:{start:r.start-t.position,end:r.end-t.position,text:r.text},id:i,path:ue.transform(n,t,{affinity:"forward"})};case"merge_node":return ue.equals(t.path,n)?{diff:{start:r.start+t.position,end:r.end+t.position,text:r.text},id:i,path:ue.transform(n,t)}:{diff:r,id:i,path:ue.transform(n,t)}}var o=ue.transform(n,t);return o?{diff:r,path:o,id:i}:null}var vce=(e,t)=>{var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},bce=(e,t,n)=>{var r=_t.toDOMRange(e,t).getBoundingClientRect(),i=_t.toDOMRange(e,n).getBoundingClientRect();return vce(r,i)&&vce(i,r)},hzt=(e,t)=>{var n=z.range(e,me.end(t)),r=Array.from(z.positions(e,{at:t})),i=0,o=r.length,a=Math.floor(o/2);if(bce(e,z.range(e,r[i]),n))return z.range(e,r[i],n);if(r.length<2)return z.range(e,r[r.length-1],n);for(;a!==r.length&&a!==i;)bce(e,z.range(e,r[a]),n)?o=a:i=a,a=Math.floor((i+o)/2);return z.range(e,r[i],n)};function xce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xce(Object(n),!0).forEach(function(r){Kq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xce(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var pzt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",r=t,{apply:i,onChange:o,deleteBackward:a,addMark:s,removeMark:l}=r;return AP.set(r,new WeakMap),r.addMark=(u,d)=>{var f,h;(f=Yq.get(r))===null||f===void 0||f(),!wu.get(r)&&(h=Ks.get(r))!==null&&h!==void 0&&h.length&&wu.set(r,null),ah.delete(r),s(u,d)},r.removeMark=u=>{var d;!wu.get(r)&&(d=Ks.get(r))!==null&&d!==void 0&&d.length&&wu.set(r,null),ah.delete(r),l(u)},r.deleteBackward=u=>{if(u!=="line")return a(u);if(r.selection&&me.isCollapsed(r.selection)){var d=z.above(r,{match:g=>tt.isElement(g)&&z.isBlock(r,g),at:r.selection});if(d){var[,f]=d,h=z.range(r,f,r.selection.anchor),m=hzt(r,h);me.isCollapsed(m)||ne.delete(r,{at:m})}}},r.apply=u=>{var d=[],f=[],h=Ks.get(r);if(h!=null&&h.length){var m=h.map(D=>fzt(D,u)).filter(Boolean);Ks.set(r,m)}var g=Uf.get(r);g&&Uf.set(r,yce(r,g,u));var y=Up.get(r);if(y!=null&&y.at){var x=Yt.isPoint(y==null?void 0:y.at)?ZB(r,y.at,u):yce(r,y.at,u);Up.set(r,x?wce(wce({},y),{},{at:x}):null)}switch(u.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{d.push(...H0(r,u.path));break}case"set_selection":{var b;(b=$S.get(r))===null||b===void 0||b.unref(),$S.delete(r);break}case"insert_node":case"remove_node":{d.push(...H0(r,ue.parent(u.path)));break}case"merge_node":{var v=ue.previous(u.path);d.push(...H0(r,v));break}case"move_node":{var w=ue.common(ue.parent(u.path),ue.parent(u.newPath));d.push(...H0(r,w));var C;ue.isBefore(u.path,u.newPath)?(d.push(...H0(r,ue.parent(u.path))),C=u.newPath):(d.push(...H0(r,ue.parent(u.newPath))),C=u.path);var k=Be.get(t,ue.parent(C)),S=_t.findKey(r,k),E=z.pathRef(r,ue.parent(C));f.push([E,S]);break}}switch(i(u),u.type){case"insert_node":case"remove_node":case"merge_node":case"move_node":case"split_node":case"insert_text":case"remove_text":case"set_selection":Eb.set(r,!0)}for(var[_,T]of d){var[A]=z.node(r,_);D$.set(A,T)}for(var[I,j]of f){if(I.current){var[$]=z.node(r,I.current);D$.set($,j)}I.unref()}},r.setFragmentData=u=>{var{selection:d}=r;if(d){var[f,h]=me.edges(d),m=z.void(r,{at:f.path}),g=z.void(r,{at:h.path});if(!(me.isCollapsed(d)&&!m)){var y=_t.toDOMRange(r,d),x=y.cloneContents(),b=x.childNodes[0];if(x.childNodes.forEach(A=>{A.textContent&&A.textContent.trim()!==""&&(b=A)}),g){var[v]=g,w=y.cloneRange(),C=_t.toDOMNode(r,v);w.setEndAfter(C),x=w.cloneContents()}if(m&&(b=x.querySelector("[data-slate-spacer]")),Array.from(x.querySelectorAll("[data-slate-zero-width]")).forEach(A=>{var I=A.getAttribute("data-slate-zero-width")==="n";A.textContent=I?`
`:""}),gDe(b)){var k=b.ownerDocument.createElement("span");k.style.whiteSpace="pre",k.appendChild(b),x.appendChild(k),b=k}var S=r.getFragment(),E=JSON.stringify(S),_=window.btoa(encodeURIComponent(E));b.setAttribute("data-slate-fragment",_),u.setData("application/".concat(n),_);var T=x.ownerDocument.createElement("div");return T.appendChild(x),T.setAttribute("hidden","true"),x.ownerDocument.body.appendChild(T),u.setData("text/html",T.innerHTML),u.setData("text/plain",vDe(T)),x.ownerDocument.body.removeChild(T),u}}},r.insertData=u=>{r.insertFragmentData(u)||r.insertTextData(u)},r.insertFragmentData=u=>{var d=u.getData("application/".concat(n))||YVt(u);if(d){var f=decodeURIComponent(window.atob(d)),h=JSON.parse(f);return r.insertFragment(h),!0}return!1},r.insertTextData=u=>{var d=u.getData("text/plain");if(d){var f=d.split(/\r\n|\r|\n/),h=!1;for(var m of f)h&&ne.splitNodes(r,{always:!0}),r.insertText(m),h=!0;return!0}return!1},r.onChange=u=>{var d=YB.get(r);d&&d(u),o(u)},r},H0=(e,t)=>{var n=[];for(var[r,i]of z.levels(e,{at:t})){var o=_t.findKey(e,r);n.push([i,o])}return n},mzt=3,gzt={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},yzt={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},vzt={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},ki=e=>{var t=gzt[e],n=yzt[e],r=vzt[e],i=t&&q8(t),o=n&&q8(n),a=r&&q8(r);return s=>!!(i&&i(s)||mce&&o&&o(s)||!mce&&a&&a(s))},Pi={isBold:ki("bold"),isCompose:ki("compose"),isMoveBackward:ki("moveBackward"),isMoveForward:ki("moveForward"),isDeleteBackward:ki("deleteBackward"),isDeleteForward:ki("deleteForward"),isDeleteLineBackward:ki("deleteLineBackward"),isDeleteLineForward:ki("deleteLineForward"),isDeleteWordBackward:ki("deleteWordBackward"),isDeleteWordForward:ki("deleteWordForward"),isExtendBackward:ki("extendBackward"),isExtendForward:ki("extendForward"),isExtendLineBackward:ki("extendLineBackward"),isExtendLineForward:ki("extendLineForward"),isItalic:ki("italic"),isMoveLineBackward:ki("moveLineBackward"),isMoveLineForward:ki("moveLineForward"),isMoveWordBackward:ki("moveWordBackward"),isMoveWordForward:ki("moveWordForward"),isRedo:ki("redo"),isSoftBreak:ki("insertSoftBreak"),isSplitBlock:ki("splitBlock"),isTransposeCharacter:ki("transposeCharacter"),isUndo:ki("undo")};function bzt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Cce(e,t){if(e==null)return{};var n=bzt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var xzt=["anchor","focus"],wzt=["anchor","focus"];function kce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kce(Object(n),!0).forEach(function(r){Kq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kce(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Czt=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>t.hasOwnProperty(n)&&e[n]===t[n]),_De=(e,t)=>{var n=Cce(e,xzt),r=Cce(t,wzt);return e[mx]===t[mx]&&Czt(n,r)},qq=(e,t)=>{if(e===t)return!0;if(!e||!t||e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(!me.equals(r,i)||!_De(r,i))return!1}return!0},TDe=(e,t)=>{if(e===t)return!0;if(!e||!t||e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(r.anchor.offset!==i.anchor.offset||r.focus.offset!==i.focus.offset||!_De(r,i))return!1}return!0},kzt=(e,t,n)=>{var r=Array.from(t.children,()=>[]);if(n.length===0)return r;var i=_t.findPath(e,t),o=i.length,a=z.range(e,i),s=new Array(t.children.length),l=w=>{var C=s[w];if(C)return C;var k=z.range(e,[...i,w]);return s[w]=k,k};for(var u of n){var d=me.intersection(a,u);if(d)for(var[f,h]=me.edges(d),m=f.path[o],g=h.path[o],y=m;y<=g;y++){var x=r[y];if(x){var b=l(y),v=me.intersection(b,u);v&&x.push(Sce(Sce({},u),v))}}}return r};function Szt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function O$(e,t){if(e==null)return{};var n=Szt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Q2(e){"@babel/helpers - typeof";return Q2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q2(e)}function Ezt(e,t){if(Q2(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Q2(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _zt(e){var t=Ezt(e,"string");return Q2(t)==="symbol"?t:String(t)}function Ti(e,t,n){return t=_zt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zq=p.createContext(null),cl=()=>{var e=p.useContext(Zq);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},Ve=_t;function Ece(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ece(Object(n),!0).forEach(function(r){Ti(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ece(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Tzt=25,Azt=200,jzt=function(){},Izt=e=>(e==null?void 0:e.constructor.name)==="DataTransfer";function $zt(e){var{editor:t,scheduleOnDOMSelectionChange:n,onDOMSelectionChange:r}=e,i=!1,o=null,a=null,s=null,l=0,u=!1,d=()=>{var j=Uf.get(t);if(Uf.delete(t),j){var{selection:$}=t,D=gce(t,j);D&&(!$||!me.equals(D,$))&&ne.select(t,D)}},f=()=>{var j=Up.get(t);if(Up.delete(t),!!j){if(j.at){var $=Yt.isPoint(j.at)?qB(t,j.at):gce(t,j.at);if(!$)return;var D=z.range(t,$);(!t.selection||!me.equals(t.selection,D))&&ne.select(t,$)}j.run()}},h=()=>{if(a&&(clearTimeout(a),a=null),s&&(clearTimeout(s),s=null),!C()&&!w()){d();return}i||(i=!0,setTimeout(()=>i=!1)),w()&&(i="action");var j=t.selection&&z.rangeRef(t,t.selection,{affinity:"forward"});ah.set(t,t.marks),jzt("flush",Up.get(t),Ks.get(t));for(var $=C(),D;D=(O=Ks.get(t))===null||O===void 0?void 0:O[0];){var O,M,P=wu.get(t);P!==void 0&&(wu.delete(t),t.marks=P),P&&u===!1&&(u=null);var F=dzt(D);(!t.selection||!me.equals(t.selection,F))&&ne.select(t,F),D.diff.text?z.insertText(t,D.diff.text):z.deleteFragment(t),Ks.set(t,(M=Ks.get(t))===null||M===void 0?void 0:M.filter(H=>{var{id:N}=H;return N!==D.id})),szt(t,D)||($=!1,Up.delete(t),ah.delete(t),i="action",Uf.delete(t),n.cancel(),r.cancel(),j==null||j.unref())}var L=j==null?void 0:j.unref();if(L&&!Uf.get(t)&&(!t.selection||!me.equals(L,t.selection))&&ne.select(t,L),w()){f();return}$&&n(),n.flush(),r.flush(),d();var U=ah.get(t);ah.delete(t),U!==void 0&&(t.marks=U,t.onChange())},m=j=>{o&&clearTimeout(o),o=setTimeout(()=>{C1.set(t,!1),h()},Tzt)},g=j=>{C1.set(t,!0),o&&(clearTimeout(o),o=null)},y=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,D=GB.get(t);if(D){if(C()||$){D.style.display="none";return}D.style.removeProperty("display")}},x=(j,$)=>{var D,O=(D=Ks.get(t))!==null&&D!==void 0?D:[];Ks.set(t,O);var M=Be.leaf(t,j),P=O.findIndex(U=>ue.equals(U.path,j));if(P<0){var F=EDe(M.text,$);F&&O.push({path:j,diff:$,id:l++}),y();return}var L=uzt(M.text,O[P].diff,$);if(!L){O.splice(P,1),y();return}O[P]=YT(YT({},O[P]),{},{diff:L})},b=function($){var{at:D}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};u=!1,Uf.delete(t),n.cancel(),r.cancel(),w()&&h(),Up.set(t,{at:D,run:$}),s=setTimeout(h)},v=j=>{var $;if(a&&(clearTimeout(a),a=null),!Eb.get(t)){var{inputType:D}=j,O=null,M=j.dataTransfer||j.data||void 0;u!==!1&&D!=="insertText"&&D!=="insertCompositionText"&&(u=!1);var[P]=j.getTargetRanges();P&&(O=Ve.toSlateRange(t,P,{exactMatch:!1,suppressThrow:!0}));var F=Ve.getWindow(t),L=F.getSelection();if(!O&&L&&(P=L,O=Ve.toSlateRange(t,L,{exactMatch:!1,suppressThrow:!0})),O=($=O)!==null&&$!==void 0?$:t.selection,!!O){var U=!0;if(D.startsWith("delete")){var H=D.endsWith("Backward")?"backward":"forward",[N,Y]=me.edges(O),[J,ee]=z.leaf(t,N.path);if(me.isExpanded(O)&&J.text.length===N.offset&&Y.offset===0){var oe=z.next(t,{at:N.path,match:Ke.isText});oe&&ue.equals(oe[1],Y.path)&&(H==="backward"?(O={anchor:Y,focus:Y},N=Y,[J,ee]=oe):(O={anchor:N,focus:N},Y=N))}var re={text:"",start:N.offset,end:Y.offset},se=Ks.get(t),G=se==null?void 0:se.find(ce=>ue.equals(ce.path,ee)),K=G?[G.diff,re]:[re],q=SDe(J.text,...K);if(q.length===0&&(U=!1),me.isExpanded(O)){if(U&&ue.equals(O.anchor.path,O.focus.path)){var X={path:O.anchor.path,offset:N.offset},ie=z.range(t,X,X);return E(ie),x(O.anchor.path,{text:"",end:Y.offset,start:N.offset})}return b(()=>z.deleteFragment(t,{direction:H}),{at:O})}}switch(D){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return b(()=>z.deleteFragment(t),{at:O});case"deleteContent":case"deleteContentForward":{var{anchor:te}=O;if(U&&me.isCollapsed(O)){var de=Be.leaf(t,te.path);if(te.offset<de.text.length)return x(te.path,{text:"",start:te.offset,end:te.offset+1})}return b(()=>z.deleteForward(t),{at:O})}case"deleteContentBackward":{var pe,{anchor:ve}=O,Ce=WB(P)?P.isCollapsed:!!((pe=P)!==null&&pe!==void 0&&pe.collapsed);return U&&Ce&&me.isCollapsed(O)&&ve.offset>0?x(ve.path,{text:"",start:ve.offset-1,end:ve.offset}):b(()=>z.deleteBackward(t),{at:O})}case"deleteEntireSoftLine":return b(()=>{z.deleteBackward(t,{unit:"line"}),z.deleteForward(t,{unit:"line"})},{at:O});case"deleteHardLineBackward":return b(()=>z.deleteBackward(t,{unit:"block"}),{at:O});case"deleteSoftLineBackward":return b(()=>z.deleteBackward(t,{unit:"line"}),{at:O});case"deleteHardLineForward":return b(()=>z.deleteForward(t,{unit:"block"}),{at:O});case"deleteSoftLineForward":return b(()=>z.deleteForward(t,{unit:"line"}),{at:O});case"deleteWordBackward":return b(()=>z.deleteBackward(t,{unit:"word"}),{at:O});case"deleteWordForward":return b(()=>z.deleteForward(t,{unit:"word"}),{at:O});case"insertLineBreak":return b(()=>z.insertSoftBreak(t),{at:O});case"insertParagraph":return b(()=>z.insertBreak(t),{at:O});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(Izt(M))return b(()=>Ve.insertData(t,M),{at:O});var xe=M??"";if(wu.get(t)&&(xe=xe.replace("\uFEFF","")),D==="insertText"&&/.*\n.*\n$/.test(xe)&&(xe=xe.slice(0,-1)),xe.includes(`
`))return b(()=>{var ce=xe.split(`
`);ce.forEach((_e,Ie)=>{_e&&z.insertText(t,_e),Ie!==ce.length-1&&z.insertSoftBreak(t)})},{at:O});if(ue.equals(O.anchor.path,O.focus.path)){var[Ae,Re]=me.edges(O),we={start:Ae.offset,end:Re.offset,text:xe};if(xe&&u&&D==="insertCompositionText"){var ye=u.start+u.text.search(/\S|$/),ke=we.start+we.text.search(/\S|$/);ke===ye+1&&we.end===u.start+u.text.length?(we.start-=1,u=null,A()):u=!1}else D==="insertText"?u===null?u=we:u&&me.isCollapsed(O)&&u.end+u.text.length===Ae.offset?u=YT(YT({},u),{},{text:u.text+xe}):u=!1:u=!1;if(U){var be=t.selection;if(x(Ae.path,we),be){var Ee={path:Ae.path,offset:Ae.offset+xe.length};b(()=>{ne.select(t,{anchor:Ee,focus:Ee})},{at:Ee})}return}}return b(()=>z.insertText(t,xe),{at:O})}}}}},w=()=>!!Up.get(t),C=()=>{var j;return!!((j=Ks.get(t))!==null&&j!==void 0&&j.length)},k=()=>w()||C(),S=()=>i,E=j=>{Uf.set(t,j),a&&(clearTimeout(a),a=null);var{selection:$}=t;if(j){var D=!$||!ue.equals($.anchor.path,j.anchor.path),O=!$||!ue.equals($.anchor.path.slice(0,-1),j.anchor.path.slice(0,-1));(D&&u||O)&&(u=!1),(D||C())&&(a=setTimeout(h,Azt))}},_=()=>{(w()||!C())&&h()},T=j=>{C()||(y(!0),setTimeout(y))},A=()=>{w()||(s=setTimeout(h))},I=j=>{if(!(C()||w())&&j.some(D=>Gq(t,D,j))){var $;($=CDe.get(t))===null||$===void 0||$()}};return{flush:h,scheduleFlush:A,hasPendingDiffs:C,hasPendingAction:w,hasPendingChanges:k,isFlushing:S,handleUserSelect:E,handleCompositionEnd:m,handleCompositionStart:g,handleDOMBeforeInput:v,handleKeyDown:T,handleDomMutations:I,handleInput:_}}function Dzt(){var e=p.useRef(!1);return p.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),e.current}var ef=rI?p.useLayoutEffect:p.useEffect;function Ozt(e,t,n){var[r]=p.useState(()=>new MutationObserver(t));ef(()=>{r.takeRecords()}),p.useEffect(()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return r.observe(e.current,n),()=>r.disconnect()},[r,e,n])}var Mzt=["node"];function _ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pzt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_ce(Object(n),!0).forEach(function(r){Ti(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_ce(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Rzt={subtree:!0,childList:!0,characterData:!0},Fzt=Ka?e=>{var{node:t}=e,n=O$(e,Mzt);if(!Ka)return null;var r=cl(),i=Dzt(),[o]=p.useState(()=>$zt(Pzt({editor:r},n)));return Ozt(t,o.handleDomMutations,Rzt),Yq.set(r,o.scheduleFlush),i&&o.flush(),o}:()=>null;function Tce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lzt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tce(Object(n),!0).forEach(function(r){Ti(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tce(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Nzt=e=>{var{isLast:t,leaf:n,parent:r,text:i}=e,o=cl(),a=Ve.findPath(o,i),s=ue.parent(a),l=!!n[kDe];return o.isVoid(r)?Fe.createElement(J8,{length:Be.string(r).length}):n.text===""&&r.children[r.children.length-1]===i&&!o.isInline(r)&&z.string(o,s)===""?Fe.createElement(J8,{isLineBreak:!0,isMarkPlaceholder:l}):n.text===""?Fe.createElement(J8,{isMarkPlaceholder:l}):t&&n.text.slice(-1)===`
`?Fe.createElement(Ace,{isTrailing:!0,text:n.text}):Fe.createElement(Ace,{text:n.text})},Ace=e=>{var{text:t,isTrailing:n=!1}=e,r=p.useRef(null),i=()=>"".concat(t??"").concat(n?`
`:""),[o]=p.useState(i);return ef(()=>{var a=i();r.current&&r.current.textContent!==a&&(r.current.textContent=a)}),Fe.createElement(Bzt,{ref:r},o)},Bzt=p.memo(p.forwardRef((e,t)=>Fe.createElement("span",{"data-slate-string":!0,ref:t},e.children))),J8=e=>{var{length:t=0,isLineBreak:n=!1,isMarkPlaceholder:r=!1}=e,i={"data-slate-zero-width":n?"n":"z","data-slate-length":t};return r&&(i["data-slate-mark-placeholder"]=!0),Fe.createElement("span",Lzt({},i),!Ka||!n?"\uFEFF":null,n?Fe.createElement("br",null):null)};function jce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ADe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jce(Object(n),!0).forEach(function(r){Ti(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jce(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Vzt=Ka?300:0;function zzt(e,t){e.current&&(e.current.disconnect(),t&&(e.current=null))}function Ice(e){e.current&&(clearTimeout(e.current),e.current=null)}var Uzt=e=>Fe.createElement(Gzt,ADe({},e)),Hzt=e=>{var{leaf:t,isLast:n,text:r,parent:i,renderPlaceholder:o,renderLeaf:a=Uzt,leafPosition:s}=e,l=cl(),u=p.useRef(null),d=p.useRef(null),[f,h]=p.useState(!1),m=p.useRef(null),g=p.useCallback(w=>{if(zzt(u,w==null),w==null){var C;GB.delete(l),(C=t.onPlaceholderResize)===null||C===void 0||C.call(t,null)}else{if(GB.set(l,w),!u.current){var k=window.ResizeObserver||EG;u.current=new k(()=>{var S;(S=t.onPlaceholderResize)===null||S===void 0||S.call(t,w)})}u.current.observe(w),d.current=w}},[d,t,l]),y=Fe.createElement(Nzt,{isLast:n,leaf:t,parent:i,text:r}),x=!!t[mx];if(p.useEffect(()=>(x?m.current||(m.current=setTimeout(()=>{h(!0),m.current=null},Vzt)):(Ice(m),h(!1)),()=>Ice(m)),[x,h]),x&&f){var b={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:Qg?"inherit":void 0},contentEditable:!1,ref:g}};y=Fe.createElement(Fe.Fragment,null,y,o(b))}var v={"data-slate-leaf":!0};return a({attributes:v,children:y,leaf:t,text:r,leafPosition:s})},Wzt=Fe.memo(Hzt,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&Ke.equals(t.leaf,e.leaf)&&t.leaf[mx]===e.leaf[mx]),Gzt=e=>{var{attributes:t,children:n}=e;return Fe.createElement("span",ADe({},t),n)};function jDe(e,t){var[,n]=p.useReducer(u=>u+1,0),r=p.useRef(),i=p.useRef(()=>null),o=p.useRef(null),a;try{if(e!==i.current||r.current){var s=e();t(o.current,s)?a=o.current:a=s}else a=o.current}catch(u){throw r.current&&Kzt(u)&&(u.message+=`
The error may be correlated with this previous error:
`.concat(r.current.stack,`

`)),u}i.current=e,o.current=a,r.current=void 0;var l=p.useCallback(()=>{try{var u=i.current();if(t(o.current,u))return;o.current=u}catch(d){d instanceof Error?r.current=d:r.current=new Error(String(d))}n()},[]);return[a,l]}function Kzt(e){return e instanceof Error}var IDe=p.createContext({}),$De=(e,t)=>{var n=cl(),{decorate:r,addEventListener:i}=p.useContext(IDe),o=()=>{var u=Ve.findPath(n,e);return r([e,u])},a=Ke.isText(e)?TDe:qq,[s,l]=jDe(o,a);return ef(()=>{var u=i(l);return l(),u},[i,l]),p.useMemo(()=>[...s,...t],[s,t])},Yzt=e=>{var t=p.useRef(new Set),n=p.useRef(e);ef(()=>{n.current=e,t.current.forEach(o=>o())},[e]);var r=p.useCallback(o=>n.current(o),[]),i=p.useCallback(o=>(t.current.add(o),()=>{t.current.delete(o)}),[]);return p.useMemo(()=>({decorate:r,addEventListener:i}),[r,i])};function $ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DDe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$ce(Object(n),!0).forEach(function(r){Ti(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$ce(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var qzt=e=>Fe.createElement(Xzt,DDe({},e)),Zzt=e=>{for(var{decorations:t,isLast:n,parent:r,renderPlaceholder:i,renderLeaf:o,renderText:a=qzt,text:s}=e,l=cl(),u=p.useRef(null),d=$De(s,t),f=Ke.decorations(s,d),h=Ve.findKey(l,s),m=[],g=0;g<f.length;g++){var{leaf:y,position:x}=f[g];m.push(Fe.createElement(Wzt,{isLast:n&&g===f.length-1,key:"".concat(h.id,"-").concat(g),renderPlaceholder:i,leaf:y,leafPosition:x,text:s,parent:r,renderLeaf:o}))}var b=p.useCallback(w=>{var C=AP.get(l);w?(C==null||C.set(h,w),z1.set(s,w),J2.set(w,s)):(C==null||C.delete(h),z1.delete(s),u.current&&J2.delete(u.current)),u.current=w},[u,l,h,s]),v={"data-slate-node":"text",ref:b};return a({text:s,children:m,attributes:v})},ODe=Fe.memo(Zzt,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderText===e.renderText&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&TDe(t.decorations,e.decorations)),Xzt=e=>{var{attributes:t,children:n}=e;return Fe.createElement("span",DDe({},t),n)};function Dce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dce(Object(n),!0).forEach(function(r){Ti(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dce(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Jzt=e=>Fe.createElement(tUt,XB({},e)),Qzt=e=>{var{decorations:t,element:n,renderElement:r=Jzt,renderChunk:i,renderPlaceholder:o,renderLeaf:a,renderText:s}=e,l=cl(),u=dUt(),d=l.isInline(n),f=$De(n,t),h=Ve.findKey(l,n),m=p.useCallback(C=>{var k=AP.get(l);C?(k==null||k.set(h,C),z1.set(n,C),J2.set(C,n)):(k==null||k.delete(h),z1.delete(n))},[l,h,n]),g=FDe({decorations:f,node:n,renderElement:r,renderChunk:i,renderPlaceholder:o,renderLeaf:a,renderText:s}),y={"data-slate-node":"element",ref:m};if(d&&(y["data-slate-inline"]=!0),!d&&z.hasInlines(l,n)){var x=Be.string(n),b=uDe(x);b==="rtl"&&(y.dir=b)}if(z.isVoid(l,n)){y["data-slate-void"]=!0,!u&&d&&(y.contentEditable=!1);var v=d?"span":"div",[[w]]=Be.texts(n);g=Fe.createElement(v,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},Fe.createElement(ODe,{renderPlaceholder:o,decorations:[],isLast:!1,parent:n,text:w})),Wv.set(w,0),IS.set(w,n)}return r({attributes:y,children:g,element:n})},eUt=Fe.memo(Qzt,(e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderChunk===t.renderChunk&&e.renderText===t.renderText&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&qq(e.decorations,t.decorations)),tUt=e=>{var{attributes:t,children:n,element:r}=e,i=cl(),o=i.isInline(r)?"span":"div";return Fe.createElement(o,XB(XB({},t),{},{style:{position:"relative"}}),n)};class nUt{constructor(t,n){var{chunkSize:r,debug:i}=n;Ti(this,"root",void 0),Ti(this,"chunkSize",void 0),Ti(this,"debug",void 0),Ti(this,"reachedEnd",void 0),Ti(this,"pointerChunk",void 0),Ti(this,"pointerIndex",void 0),Ti(this,"pointerIndexStack",void 0),Ti(this,"cachedPointerNode",void 0),this.root=t,this.chunkSize=r,this.debug=i??!1,this.pointerChunk=t,this.pointerIndex=-1,this.pointerIndexStack=[],this.reachedEnd=!1,this.validateState()}readLeaf(){if(this.reachedEnd)return null;for(;;)if(this.pointerIndex+1<this.pointerSiblings.length){this.pointerIndex++,this.cachedPointerNode=void 0;break}else{if(this.pointerChunk.type==="root")return this.reachedEnd=!0,null;this.exitChunk()}return this.validateState(),this.enterChunkUntilLeaf(!1),this.pointerNode}returnToPreviousLeaf(){if(this.reachedEnd){this.reachedEnd=!1,this.enterChunkUntilLeaf(!0);return}for(;;)if(this.pointerIndex>=1){this.pointerIndex--,this.cachedPointerNode=void 0;break}else if(this.pointerChunk.type==="root"){this.pointerIndex=-1;return}else this.exitChunk();this.validateState(),this.enterChunkUntilLeaf(!0)}insertBefore(t){this.returnToPreviousLeaf(),this.insertAfter(t),this.readLeaf()}insertAfter(t){if(t.length!==0){for(var n=0,r=0;this.pointerChunk.type==="chunk"&&this.pointerIndex===this.pointerSiblings.length-1;){var i=this.chunkSize-this.pointerSiblings.length,o=Math.min(i,t.length);if(o>0){var a=t.splice(0,o);this.rawInsertAfter(a,n)}this.exitChunk(),n++}if(t.length!==0){var s=this.savePointer(),l=null;if(this.readLeaf())for(;this.pointerChunk.type==="chunk"&&this.pointerIndex===0;){var u=this.chunkSize-this.pointerSiblings.length,d=Math.min(u,t.length);if(d>0){var f=t.splice(-d,d);this.pointerIndex=-1,this.cachedPointerNode=void 0,this.rawInsertAfter(f,r),l||(l=this.savePointer())}this.exitChunk(),r++}this.restorePointer(s);var h=Math.max(n,r);this.rawInsertAfter(t,h),l&&this.restorePointer(l),this.validateState()}}}remove(){this.pointerSiblings.splice(this.pointerIndex--,1),this.cachedPointerNode=void 0,this.pointerSiblings.length===0&&this.pointerChunk.type==="chunk"?(this.exitChunk(),this.remove()):this.invalidateChunk(),this.validateState()}invalidateChunk(){for(var t=this.pointerChunk;t.type==="chunk";t=t.parent)this.root.modifiedChunks.add(t)}get atStart(){return this.pointerChunk.type==="root"&&this.pointerIndex===-1}get pointerSiblings(){return this.pointerChunk.children}getPointerNode(){return this.reachedEnd||this.pointerIndex===-1?null:this.pointerSiblings[this.pointerIndex]}get pointerNode(){if(this.cachedPointerNode!==void 0)return this.cachedPointerNode;var t=this.getPointerNode();return this.cachedPointerNode=t,t}getChunkPath(t){for(var n=[],r=t;r.type==="chunk";r=r.parent){var i=r.parent.children.indexOf(r);if(i===-1)return null;n.unshift(i)}return n}savePointer(){if(this.atStart)return"start";if(!this.pointerNode)throw new Error("Cannot save pointer when pointerNode is null");return{chunk:this.pointerChunk,node:this.pointerNode}}restorePointer(t){if(t==="start"){this.pointerChunk=this.root,this.pointerIndex=-1,this.pointerIndexStack=[],this.reachedEnd=!1,this.cachedPointerNode=void 0;return}var{chunk:n,node:r}=t,i=n.children.indexOf(r);if(i===-1)throw new Error("Cannot restore point because saved node is no longer in saved chunk");var o=this.getChunkPath(n);if(!o)throw new Error("Cannot restore point because saved chunk is no longer connected to root");this.pointerChunk=n,this.pointerIndex=i,this.pointerIndexStack=o,this.reachedEnd=!1,this.cachedPointerNode=r,this.validateState()}enterChunk(t){var n;if(((n=this.pointerNode)===null||n===void 0?void 0:n.type)!=="chunk")throw new Error("Cannot enter non-chunk");if(this.pointerIndexStack.push(this.pointerIndex),this.pointerChunk=this.pointerNode,this.pointerIndex=t?this.pointerSiblings.length-1:0,this.cachedPointerNode=void 0,this.validateState(),this.pointerChunk.children.length===0)throw new Error("Cannot enter empty chunk")}enterChunkUntilLeaf(t){for(;((n=this.pointerNode)===null||n===void 0?void 0:n.type)==="chunk";){var n;this.enterChunk(t)}}exitChunk(){if(this.pointerChunk.type==="root")throw new Error("Cannot exit root");var t=this.pointerChunk;this.pointerChunk=t.parent,this.pointerIndex=this.pointerIndexStack.pop(),this.cachedPointerNode=void 0,this.validateState()}rawInsertAfter(t,n){if(t.length!==0){for(var r=(d,f,h)=>{if(h===1)return d;for(var m=[],g=0;g<this.chunkSize;g++){var y=d.slice(g*h,(g+1)*h);if(y.length===0)break;var x={type:"chunk",key:new xDe,parent:f,children:[]};x.children=r(y,x,h/this.chunkSize),m.push(x)}return m},i=this.pointerSiblings.length+t.length,o=0,a=this.chunkSize;a<i;a*=this.chunkSize)o++;var s=Math.max(o,n),l=Math.pow(this.chunkSize,s),u=r(t,this.pointerChunk,l);this.pointerSiblings.splice(this.pointerIndex+1,0,...u),this.pointerIndex+=u.length,this.cachedPointerNode=void 0,this.invalidateChunk(),this.validateState()}}validateState(){if(this.debug){var t=r=>{if(r.type==="chunk"){var{parent:i,children:o}=r;if(!i.children.includes(r))throw new Error("Debug: Chunk ".concat(r.key.id," has an incorrect parent property"));o.forEach(t)}};if(this.root.children.forEach(t),this.cachedPointerNode!==void 0&&this.cachedPointerNode!==this.getPointerNode())throw new Error("Debug: The cached pointer is incorrect and has not been invalidated");var n=this.getChunkPath(this.pointerChunk);if(!n)throw new Error("Debug: The pointer chunk is not connected to the root");if(!ue.equals(this.pointerIndexStack,n))throw new Error("Debug: The cached index stack [".concat(this.pointerIndexStack.join(", "),"] does not match the path of the pointer chunk [").concat(n.join(", "),"]"))}}}class rUt{constructor(t,n){Ti(this,"editor",void 0),Ti(this,"children",void 0),Ti(this,"cachedKeys",void 0),Ti(this,"pointerIndex",void 0),this.editor=t,this.children=n,this.cachedKeys=new Array(n.length),this.pointerIndex=0}read(t){if(t===1)return[this.children[this.pointerIndex++]];var n=this.remaining(t);return this.pointerIndex+=t,n}remaining(t){return t===void 0?this.children.slice(this.pointerIndex):this.children.slice(this.pointerIndex,this.pointerIndex+t)}get reachedEnd(){return this.pointerIndex>=this.children.length}lookAhead(t,n){var r=this.children.indexOf(t,this.pointerIndex);if(r>-1)return r-this.pointerIndex;for(var i=this.pointerIndex;i<this.children.length;i++){var o=this.children[i],a=this.findKey(o,i);if(a===n)return i-this.pointerIndex}return-1}toChunkLeaves(t,n){return t.map((r,i)=>({type:"leaf",node:r,key:this.findKey(r,n+i),index:n+i}))}findKey(t,n){var r=this.cachedKeys[n];if(r)return r;var i=Ve.findKey(this.editor,t);return this.cachedKeys[n]=i,i}}var iUt=(e,t)=>{var{chunkTree:n,children:r,chunkSize:i,rerenderChildren:o=[],onInsert:a,onUpdate:s,onIndexChange:l,debug:u}=t;n.modifiedChunks.clear();for(var d=new nUt(n,{chunkSize:i,debug:u}),f=new rUt(e,r),h,m=function(){var b=f.lookAhead(h.node,h.key),v=b>0&&n.movedNodeKeys.has(h.key);if(b===-1||v)return d.remove(),1;var w=f.pointerIndex,C=f.read(b+1),k=C.pop();if(C.length){var S=f.toChunkLeaves(C,w);d.insertBefore(S),C.forEach((_,T)=>{a==null||a(_,w+T)})}var E=f.pointerIndex-1;h.node!==k&&(h.node=k,d.invalidateChunk(),s==null||s(k,E)),h.index!==E&&(h.index=E,l==null||l(k,E)),o.includes(E)&&d.invalidateChunk()};h=d.readLeaf();)m();if(!f.reachedEnd){var g=f.remaining(),y=f.toChunkLeaves(g,f.pointerIndex);d.returnToPreviousLeaf(),d.insertAfter(y),g.forEach((x,b)=>{a==null||a(x,f.pointerIndex+b)})}n.movedNodeKeys.clear()};function Oce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oUt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Oce(Object(n),!0).forEach(function(r){Ti(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oce(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Mce=new WeakMap,MDe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Ve.findKey(t,n),o=Mce.get(i);return o||(o={type:"root",movedNodeKeys:new Set,modifiedChunks:new Set,children:[]},Mce.set(i,o)),r.reconcile&&iUt(t,oUt({chunkTree:o,children:n.children},r.reconcile)),o},aUt=e=>{var{children:t}=e;return t},PDe=e=>{var{root:t,ancestor:n,renderElement:r,renderChunk:i=aUt}=e;return n.children.map(o=>{if(o.type==="chunk"){var a=o.key.id,s=i({highest:n===t,lowest:o.children.some(u=>u.type==="leaf"),attributes:{"data-slate-chunk":!0},children:Fe.createElement(lUt,{root:t,ancestor:o,renderElement:r,renderChunk:i})});return Fe.createElement(p.Fragment,{key:a},s)}var l=o.node;return r(l,o.index,o.key)})},sUt=PDe,lUt=Fe.memo(PDe,(e,t)=>e.root===t.root&&e.renderElement===t.renderElement&&e.renderChunk===t.renderChunk&&!t.root.modifiedChunks.has(t.ancestor)),RDe=p.createContext(null),cUt=()=>p.useContext(RDe),FDe=e=>{var{decorations:t,node:n,renderElement:r,renderChunk:i,renderPlaceholder:o,renderText:a,renderLeaf:s}=e,l=cl();Eb.set(l,!1);var u=z.isEditor(n),d=!u&&tt.isElement(n)&&!l.isInline(n),f=d&&z.hasInlines(l,n),h=f?null:l.getChunkSize(n),m=!!h,{decorationsByChild:g,childrenToRedecorate:y}=uUt(l,n,t);m||n.children.forEach((w,C)=>{Wv.set(w,C),IS.set(w,n)});var x=p.useCallback((w,C,k)=>{var S=k??Ve.findKey(l,w);return Fe.createElement(RDe.Provider,{key:"provider-".concat(S.id),value:w},Fe.createElement(eUt,{decorations:g[C],element:w,key:S.id,renderElement:r,renderChunk:i,renderPlaceholder:o,renderLeaf:s,renderText:a}))},[l,g,r,i,o,s,a]),b=(w,C)=>{var k=Ve.findKey(l,w);return Fe.createElement(ODe,{decorations:g[C],key:k.id,isLast:C===n.children.length-1,parent:n,renderPlaceholder:o,renderLeaf:s,renderText:a,text:w})};if(!m)return n.children.map((w,C)=>Ke.isText(w)?b(w,C):x(w,C));var v=MDe(l,n,{reconcile:{chunkSize:h,rerenderChildren:y,onInsert:(w,C)=>{Wv.set(w,C),IS.set(w,n)},onUpdate:(w,C)=>{Wv.set(w,C),IS.set(w,n)},onIndexChange:(w,C)=>{Wv.set(w,C)}}});return Fe.createElement(sUt,{root:v,ancestor:v,renderElement:x,renderChunk:i})},uUt=(e,t,n)=>{var r=kzt(e,t,n),i=p.useRef(r).current,o=[];i.length=r.length;for(var a=0;a<r.length;a++){var s,l=r[a],u=(s=i[a])!==null&&s!==void 0?s:null;qq(u,l)||(i[a]=l,o.push(a))}return{decorationsByChild:i,childrenToRedecorate:o}},LDe=p.createContext(!1),dUt=()=>p.useContext(LDe),jP=p.createContext({}),fUt=(e,t)=>e===t;function e5(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fUt,{deferred:n}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=p.useContext(jP);if(!r)throw new Error("The `useSlateSelector` hook must be used inside the <Slate> component's context.");var{addEventListener:i}=r,o=cl(),a=p.useCallback(()=>e(o),[o,e]),[s,l]=jDe(a,t);return ef(()=>{var u=i(l,{deferred:n});return l(),u},[i,l,n]),s}function hUt(){var e=p.useRef(new Set),t=p.useRef(new Set),n=p.useCallback(()=>{e.current.forEach(a=>a())},[]),r=p.useCallback(()=>{t.current.forEach(a=>a()),t.current.clear()},[]),i=p.useCallback(function(a){var{deferred:s=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=s?()=>t.current.add(a):a;return e.current.add(l),()=>{e.current.delete(l)}},[]),o=p.useMemo(()=>({addEventListener:i,flushDeferred:r}),[i,r]);return{selectorContext:o,onChange:n}}function pUt(){var{flushDeferred:e}=p.useContext(jP);ef(e)}var NDe=()=>{var{addEventListener:e}=p.useContext(jP),[,t]=p.useReducer(n=>n+1,0);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");return ef(()=>e(t),[e]),cl()};function mUt(){var e=cl(),t=p.useRef(!1),n=p.useRef(0),r=p.useCallback(()=>{if(!t.current){t.current=!0;var i=Ve.getWindow(e);i.cancelAnimationFrame(n.current),n.current=i.requestAnimationFrame(()=>{t.current=!1})}},[e]);return p.useEffect(()=>()=>cancelAnimationFrame(n.current),[]),{receivedUserInput:t,onUserInput:r}}var gUt=(e,t)=>{var n=[],r=()=>{n=[]},i=a=>{if(t.current){var s=a.filter(l=>Gq(e,l,a));n.push(...s)}};function o(){n.length>0&&(n.reverse().forEach(a=>{a.type!=="characterData"&&(a.removedNodes.forEach(s=>{a.target.insertBefore(s,a.nextSibling)}),a.addedNodes.forEach(s=>{a.target.removeChild(s)}))}),r())}return{registerMutations:i,restoreDOM:o,clear:r}},yUt={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class BDe extends p.Component{constructor(){super(...arguments),Ti(this,"context",null),Ti(this,"manager",null),Ti(this,"mutationObserver",null)}observe(){var t,{node:n}=this.props;if(!n.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(t=this.mutationObserver)===null||t===void 0||t.observe(n.current,yUt)}componentDidMount(){var{receivedUserInput:t}=this.props,n=this.context;this.manager=gUt(n,t),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var t,n,r,i=(t=this.mutationObserver)===null||t===void 0?void 0:t.takeRecords();if(i!=null&&i.length){var o;(o=this.manager)===null||o===void 0||o.registerMutations(i)}return(n=this.mutationObserver)===null||n===void 0||n.disconnect(),(r=this.manager)===null||r===void 0||r.restoreDOM(),null}componentDidUpdate(){var t;(t=this.manager)===null||t===void 0||t.clear(),this.observe()}componentWillUnmount(){var t;(t=this.mutationObserver)===null||t===void 0||t.disconnect()}render(){return this.props.children}}Ti(BDe,"contextType",Zq);var vUt=Ka?BDe:e=>{var{children:t}=e;return Fe.createElement(Fe.Fragment,null,t)},bUt=p.createContext(!1),xUt=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderChunk","renderLeaf","renderText","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],wUt=["text"];function Pce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ad(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pce(Object(n),!0).forEach(function(r){Ti(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pce(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var CUt=e=>Fe.createElement(Fe.Fragment,null,FDe(e)),kUt=p.forwardRef((e,t)=>{var n=p.useCallback(G=>Fe.createElement(SUt,ad({},G)),[]),{autoFocus:r,decorate:i=EUt,onDOMBeforeInput:o,placeholder:a,readOnly:s=!1,renderElement:l,renderChunk:u,renderLeaf:d,renderText:f,renderPlaceholder:h=n,scrollSelectionIntoView:m=_Ut,style:g={},as:y="div",disableDefaultStyles:x=!1}=e,b=O$(e,xUt),v=NDe(),[w,C]=p.useState(!1),k=p.useRef(null),S=p.useRef([]),[E,_]=p.useState(),T=p.useRef(!1),{onUserInput:A,receivedUserInput:I}=mUt(),[,j]=p.useReducer(G=>G+1,0);CDe.set(v,j),KB.set(v,s);var $=p.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);p.useEffect(()=>{k.current&&r&&k.current.focus()},[r]);var D=p.useRef(),O=p.useMemo(()=>sE(()=>{if(Eb.get(v)){O();return}var G=Ve.toDOMNode(v,v),K=G.getRootNode();if(!T.current&&Qg&&K instanceof ShadowRoot){T.current=!0;var q=qVt();q?document.execCommand("indent"):ne.deselect(v),T.current=!1;return}var X=D.current;if((Ka||!Ve.isComposing(v))&&(!$.isUpdatingSelection||X!=null&&X.isFlushing())&&!$.isDraggingInternally){var ie=Ve.findDocumentOrShadowRoot(v),{activeElement:te}=ie,de=Ve.toDOMNode(v,v),pe=jS(ie);if(te===de?($.latestElement=te,pm.set(v,!0)):pm.delete(v),!pe)return ne.deselect(v);var{anchorNode:ve,focusNode:Ce}=pe,xe=Ve.hasEditableTarget(v,ve)||Ve.isTargetInsideNonReadonlyVoid(v,ve),Ae=Ve.hasTarget(v,Ce);if(xe&&Ae){var Re=Ve.toSlateRange(v,pe,{exactMatch:!1,suppressThrow:!0});Re&&(!Ve.isComposing(v)&&!(X!=null&&X.hasPendingChanges())&&!(X!=null&&X.isFlushing())?ne.select(v,Re):X==null||X.handleUserSelect(Re))}s&&(!xe||!Ae)&&ne.deselect(v)}},100),[v,s,$]),M=p.useMemo(()=>Gx(O,0),[O]);D.current=Fzt({node:k,onDOMSelectionChange:O,scheduleOnDOMSelectionChange:M}),ef(()=>{var G,K,q;k.current&&(q=Wq(k.current))?(wDe.set(v,q),iI.set(v,k.current),z1.set(v,k.current),J2.set(k.current,v)):z1.delete(v);var{selection:X}=v,ie=Ve.findDocumentOrShadowRoot(v),te=jS(ie);if(!(!te||!Ve.isFocused(v)||(G=D.current)!==null&&G!==void 0&&G.hasPendingAction())){var de=xe=>{var Ae=te.type!=="None";if(!(!X&&!Ae)){var Re=te.focusNode,we;if(Hv&&te.rangeCount>1){var ye=te.getRangeAt(0),ke=te.getRangeAt(te.rangeCount-1);ye.startContainer===Re?we=ke.endContainer:we=ye.startContainer}else we=te.anchorNode;var be=iI.get(v),Ee=!1;if(be.contains(we)&&be.contains(Re)&&(Ee=!0),Ae&&Ee&&X&&!xe){var ce=Ve.toSlateRange(v,te,{exactMatch:!0,suppressThrow:!0});if(ce&&me.equals(ce,X)){var _e;if(!$.hasMarkPlaceholder||(_e=we)!==null&&_e!==void 0&&(_e=_e.parentElement)!==null&&_e!==void 0&&_e.hasAttribute("data-slate-mark-placeholder"))return}}if(X&&!Ve.hasRange(v,X)){v.selection=Ve.toSlateRange(v,te,{exactMatch:!1,suppressThrow:!0});return}$.isUpdatingSelection=!0;var Ie=null;try{Ie=X&&Ve.toDOMRange(v,X)}catch{}return Ie?(Ve.isComposing(v)&&!Ka?te.collapseToEnd():me.isBackward(X)?te.setBaseAndExtent(Ie.endContainer,Ie.endOffset,Ie.startContainer,Ie.startOffset):te.setBaseAndExtent(Ie.startContainer,Ie.startOffset,Ie.endContainer,Ie.endOffset),m(v,Ie)):te.removeAllRanges(),Ie}};te.rangeCount<=1&&de();var pe=((K=D.current)===null||K===void 0?void 0:K.isFlushing())==="action";if(!Ka||!pe){setTimeout(()=>{$.isUpdatingSelection=!1});return}var ve=null,Ce=requestAnimationFrame(()=>{if(pe){var xe=Ae=>{try{var Re=Ve.toDOMNode(v,v);Re.focus(),de(Ae)}catch{}};xe(),ve=setTimeout(()=>{xe(!0),$.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(Ce),ve&&clearTimeout(ve)}}});var P=p.useCallback(G=>{Fce(v,G);var K=Ve.toDOMNode(v,v),q=K.getRootNode();if(T!=null&&T.current&&Qg&&q instanceof ShadowRoot){var X=G.getTargetRanges(),ie=X[0],te=new window.Range;te.setStart(ie.startContainer,ie.startOffset),te.setEnd(ie.endContainer,ie.endOffset);var de=Ve.toSlateRange(v,te,{exactMatch:!1,suppressThrow:!1});ne.select(v,de),G.preventDefault(),G.stopImmediatePropagation();return}if(A(),!s&&Ve.hasEditableTarget(v,G.target)&&!TUt(G,o)){var pe;if(D.current)return D.current.handleDOMBeforeInput(G);M.flush(),O.flush();var{selection:ve}=v,{inputType:Ce}=G,xe=G.dataTransfer||G.data||void 0,Ae=Ce==="insertCompositionText"||Ce==="deleteCompositionText";if(Ae&&Ve.isComposing(v))return;var Re=!1;if(Ce==="insertText"&&ve&&me.isCollapsed(ve)&&G.data&&G.data.length===1&&/[a-z ]/i.test(G.data)&&ve.anchor.offset!==0&&(Re=!0,v.marks&&(Re=!1),!Eb.get(v))){var we,ye,{anchor:ke}=ve,[be,Ee]=Ve.toDOMPoint(v,ke),ce=(we=be.parentElement)===null||we===void 0?void 0:we.closest("a"),_e=Ve.getWindow(v);if(Re&&ce&&Ve.hasDOMNode(v,ce)){var Ie,Me=_e==null?void 0:_e.document.createTreeWalker(ce,NodeFilter.SHOW_TEXT).lastChild();Me===be&&((Ie=Me.textContent)===null||Ie===void 0?void 0:Ie.length)===Ee&&(Re=!1)}if(Re&&be.parentElement&&(_e==null||(ye=_e.getComputedStyle(be.parentElement))===null||ye===void 0?void 0:ye.whiteSpace)==="pre"){var Le=z.above(v,{at:ke.path,match:qe=>tt.isElement(qe)&&z.isBlock(v,qe)});Le&&Be.string(Le[0]).includes("	")&&(Re=!1)}}if((!Ce.startsWith("delete")||Ce.startsWith("deleteBy"))&&!Eb.get(v)){var[et]=G.getTargetRanges();if(et){var Ct=Ve.toSlateRange(v,et,{exactMatch:!1,suppressThrow:!1});if(!ve||!me.equals(ve,Ct)){Re=!1;var Ge=!Ae&&v.selection&&z.rangeRef(v,v.selection);ne.select(v,Ct),Ge&&$S.set(v,Ge)}}}if(Ae)return;if(Re||G.preventDefault(),ve&&me.isExpanded(ve)&&Ce.startsWith("delete")){var We=Ce.endsWith("Backward")?"backward":"forward";z.deleteFragment(v,{direction:We});return}switch(Ce){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{z.deleteFragment(v);break}case"deleteContent":case"deleteContentForward":{z.deleteForward(v);break}case"deleteContentBackward":{z.deleteBackward(v);break}case"deleteEntireSoftLine":{z.deleteBackward(v,{unit:"line"}),z.deleteForward(v,{unit:"line"});break}case"deleteHardLineBackward":{z.deleteBackward(v,{unit:"block"});break}case"deleteSoftLineBackward":{z.deleteBackward(v,{unit:"line"});break}case"deleteHardLineForward":{z.deleteForward(v,{unit:"block"});break}case"deleteSoftLineForward":{z.deleteForward(v,{unit:"line"});break}case"deleteWordBackward":{z.deleteBackward(v,{unit:"word"});break}case"deleteWordForward":{z.deleteForward(v,{unit:"word"});break}case"insertLineBreak":z.insertSoftBreak(v);break;case"insertParagraph":{z.insertBreak(v);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{Ce==="insertFromComposition"&&Ve.isComposing(v)&&(C(!1),C1.set(v,!1)),(xe==null?void 0:xe.constructor.name)==="DataTransfer"?Ve.insertData(v,xe):typeof xe=="string"&&(Re?S.current.push(()=>z.insertText(v,xe)):z.insertText(v,xe));break}}var ct=(pe=$S.get(v))===null||pe===void 0?void 0:pe.unref();$S.delete(v),ct&&(!v.selection||!me.equals(v.selection,ct))&&ne.select(v,ct)}},[v,O,A,o,s,M]),F=p.useCallback(G=>{G==null?(O.cancel(),M.cancel(),iI.delete(v),z1.delete(v),k.current&&_p&&k.current.removeEventListener("beforeinput",P)):_p&&G.addEventListener("beforeinput",P),k.current=G,typeof t=="function"?t(G):t&&(t.current=G)},[O,M,v,P,t]);ef(()=>{var G=Ve.getWindow(v),K=X=>{var{target:ie}=X,te=ie instanceof HTMLElement?ie:null,de=te==null?void 0:te.tagName;de==="INPUT"||de==="TEXTAREA"||M()};G.document.addEventListener("selectionchange",K);var q=()=>{$.isDraggingInternally=!1};return G.document.addEventListener("dragend",q),G.document.addEventListener("drop",q),()=>{G.document.removeEventListener("selectionchange",K),G.document.removeEventListener("dragend",q),G.document.removeEventListener("drop",q)}},[M,$]);var L=i([v,[]]),U=Yzt(i),H=a&&v.children.length===1&&Array.from(Be.texts(v)).length===1&&Be.string(v)===""&&!w,N=p.useCallback(G=>{if(G&&H){var K;_((K=G.getBoundingClientRect())===null||K===void 0?void 0:K.height)}else _(void 0)},[H]);if(H){var Y=z.start(v,[]);L.push({[mx]:!0,placeholder:a,onPlaceholderResize:N,anchor:Y,focus:Y})}var{marks:J}=v;if($.hasMarkPlaceholder=!1,v.selection&&me.isCollapsed(v.selection)&&J){var{anchor:ee}=v.selection,oe=Be.leaf(v,ee.path),re=O$(oe,wUt);if(!Ke.equals(oe,J,{loose:!0})){$.hasMarkPlaceholder=!0;var se=Object.fromEntries(Object.keys(re).map(G=>[G,null]));L.push(ad(ad(ad({[kDe]:!0},se),J),{},{anchor:ee,focus:ee}))}}return p.useEffect(()=>{setTimeout(()=>{var{selection:G}=v;if(G){var{anchor:K}=G,q=Be.leaf(v,K.path);if(J&&!Ke.equals(q,J,{loose:!0})){wu.set(v,J);return}}wu.delete(v)})}),pUt(),Fe.createElement(LDe.Provider,{value:s},Fe.createElement(bUt.Provider,{value:w},Fe.createElement(IDe.Provider,{value:U},Fe.createElement(vUt,{node:k,receivedUserInput:I},Fe.createElement(y,ad(ad({role:s?void 0:"textbox","aria-multiline":s?void 0:!0},b),{},{spellCheck:_p||!rI?b.spellCheck:!1,autoCorrect:_p||!rI?b.autoCorrect:"false",autoCapitalize:_p||!rI?b.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!s,zindex:-1,suppressContentEditableWarning:!0,ref:F,style:ad(ad({},x?{}:ad({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},E?{minHeight:E}:{})),g),onBeforeInput:p.useCallback(G=>{if(!_p&&!s&&!ss(G,b.onBeforeInput)&&Ve.hasSelectableTarget(v,G.target)&&(G.preventDefault(),!Ve.isComposing(v))){var K=G.data;z.insertText(v,K)}},[b.onBeforeInput,v,s]),onInput:p.useCallback(G=>{if(!ss(G,b.onInput)){if(D.current){D.current.handleInput();return}for(var K of S.current)K();S.current=[],Ve.isFocused(v)||Fce(v,G.nativeEvent)}},[b.onInput,v]),onBlur:p.useCallback(G=>{if(!(s||$.isUpdatingSelection||!Ve.hasSelectableTarget(v,G.target)||ss(G,b.onBlur))){var K=Ve.findDocumentOrShadowRoot(v);if($.latestElement!==K.activeElement){var{relatedTarget:q}=G,X=Ve.toDOMNode(v,v);if(q!==X&&!(mc(q)&&q.hasAttribute("data-slate-spacer"))){if(q!=null&&Bh(q)&&Ve.hasDOMNode(v,q)){var ie=Ve.toSlateNode(v,q);if(tt.isElement(ie)&&!v.isVoid(ie))return}if(Qg){var te=jS(K);te==null||te.removeAllRanges()}pm.delete(v)}}}},[s,$.isUpdatingSelection,$.latestElement,v,b.onBlur]),onClick:p.useCallback(G=>{if(Ve.hasTarget(v,G.target)&&!ss(G,b.onClick)&&Bh(G.target)){var K=Ve.toSlateNode(v,G.target),q=Ve.findPath(v,K);if(!z.hasPath(v,q)||Be.get(v,q)!==K)return;if(G.detail===mzt&&q.length>=1){var X=q;if(!(tt.isElement(K)&&z.isBlock(v,K))){var ie,te=z.above(v,{match:Re=>tt.isElement(Re)&&z.isBlock(v,Re),at:q});X=(ie=te==null?void 0:te[1])!==null&&ie!==void 0?ie:q.slice(0,1)}var de=z.range(v,X);ne.select(v,de);return}if(s)return;var pe=z.start(v,q),ve=z.end(v,q),Ce=z.void(v,{at:pe}),xe=z.void(v,{at:ve});if(Ce&&xe&&ue.equals(Ce[1],xe[1])){var Ae=z.range(v,pe);ne.select(v,Ae)}}},[v,b.onClick,s]),onCompositionEnd:p.useCallback(G=>{if(Ve.hasSelectableTarget(v,G.target)){var K;if(Ve.isComposing(v)&&Promise.resolve().then(()=>{C(!1),C1.set(v,!1)}),(K=D.current)===null||K===void 0||K.handleCompositionEnd(G),ss(G,b.onCompositionEnd)||Ka)return;if(!Qg&&!tzt&&!XVt&&!rzt&&!nzt&&G.data){var q=wu.get(v);wu.delete(v),q!==void 0&&(ah.set(v,v.marks),v.marks=q),z.insertText(v,G.data);var X=ah.get(v);ah.delete(v),X!==void 0&&(v.marks=X)}}},[b.onCompositionEnd,v]),onCompositionUpdate:p.useCallback(G=>{Ve.hasSelectableTarget(v,G.target)&&!ss(G,b.onCompositionUpdate)&&(Ve.isComposing(v)||(C(!0),C1.set(v,!0)))},[b.onCompositionUpdate,v]),onCompositionStart:p.useCallback(G=>{if(Ve.hasSelectableTarget(v,G.target)){var K;if((K=D.current)===null||K===void 0||K.handleCompositionStart(G),ss(G,b.onCompositionStart)||Ka)return;C(!0);var{selection:q}=v;if(q&&me.isExpanded(q)){z.deleteFragment(v);return}}},[b.onCompositionStart,v]),onCopy:p.useCallback(G=>{Ve.hasSelectableTarget(v,G.target)&&!ss(G,b.onCopy)&&!Rce(G)&&(G.preventDefault(),Ve.setFragmentData(v,G.clipboardData,"copy"))},[b.onCopy,v]),onCut:p.useCallback(G=>{if(!s&&Ve.hasSelectableTarget(v,G.target)&&!ss(G,b.onCut)&&!Rce(G)){G.preventDefault(),Ve.setFragmentData(v,G.clipboardData,"cut");var{selection:K}=v;if(K)if(me.isExpanded(K))z.deleteFragment(v);else{var q=Be.parent(v,K.anchor.path);z.isVoid(v,q)&&ne.delete(v)}}},[s,v,b.onCut]),onDragOver:p.useCallback(G=>{if(Ve.hasTarget(v,G.target)&&!ss(G,b.onDragOver)){var K=Ve.toSlateNode(v,G.target);tt.isElement(K)&&z.isVoid(v,K)&&G.preventDefault()}},[b.onDragOver,v]),onDragStart:p.useCallback(G=>{if(!s&&Ve.hasTarget(v,G.target)&&!ss(G,b.onDragStart)){var K=Ve.toSlateNode(v,G.target),q=Ve.findPath(v,K),X=tt.isElement(K)&&z.isVoid(v,K)||z.void(v,{at:q,voids:!0});if(X){var ie=z.range(v,q);ne.select(v,ie)}$.isDraggingInternally=!0,Ve.setFragmentData(v,G.dataTransfer,"drag")}},[s,v,b.onDragStart,$]),onDrop:p.useCallback(G=>{if(!s&&Ve.hasTarget(v,G.target)&&!ss(G,b.onDrop)){G.preventDefault();var K=v.selection,q=Ve.findEventRange(v,G),X=G.dataTransfer;ne.select(v,q),$.isDraggingInternally&&K&&!me.equals(K,q)&&!z.void(v,{at:q,voids:!0})&&ne.delete(v,{at:K}),Ve.insertData(v,X),Ve.isFocused(v)||Ve.focus(v)}},[s,v,b.onDrop,$]),onDragEnd:p.useCallback(G=>{!s&&$.isDraggingInternally&&b.onDragEnd&&Ve.hasTarget(v,G.target)&&b.onDragEnd(G)},[s,$,b,v]),onFocus:p.useCallback(G=>{if(!s&&!$.isUpdatingSelection&&Ve.hasEditableTarget(v,G.target)&&!ss(G,b.onFocus)){var K=Ve.toDOMNode(v,v),q=Ve.findDocumentOrShadowRoot(v);if($.latestElement=q.activeElement,Hv&&G.target!==K){K.focus();return}pm.set(v,!0)}},[s,$,v,b.onFocus]),onKeyDown:p.useCallback(G=>{if(!s&&Ve.hasEditableTarget(v,G.target)){var K;(K=D.current)===null||K===void 0||K.handleKeyDown(G);var{nativeEvent:q}=G;if(Ve.isComposing(v)&&q.isComposing===!1&&(C1.set(v,!1),C(!1)),ss(G,b.onKeyDown)||Ve.isComposing(v))return;var{selection:X}=v,ie=v.children[X!==null?X.focus.path[0]:0],te=uDe(Be.string(ie))==="rtl";if(Pi.isRedo(q)){G.preventDefault();var de=v;typeof de.redo=="function"&&de.redo();return}if(Pi.isUndo(q)){G.preventDefault();var pe=v;typeof pe.undo=="function"&&pe.undo();return}if(Pi.isMoveLineBackward(q)){G.preventDefault(),ne.move(v,{unit:"line",reverse:!0});return}if(Pi.isMoveLineForward(q)){G.preventDefault(),ne.move(v,{unit:"line"});return}if(Pi.isExtendLineBackward(q)){G.preventDefault(),ne.move(v,{unit:"line",edge:"focus",reverse:!0});return}if(Pi.isExtendLineForward(q)){G.preventDefault(),ne.move(v,{unit:"line",edge:"focus"});return}if(Pi.isMoveBackward(q)){G.preventDefault(),X&&me.isCollapsed(X)?ne.move(v,{reverse:!te}):ne.collapse(v,{edge:te?"end":"start"});return}if(Pi.isMoveForward(q)){G.preventDefault(),X&&me.isCollapsed(X)?ne.move(v,{reverse:te}):ne.collapse(v,{edge:te?"start":"end"});return}if(Pi.isMoveWordBackward(q)){G.preventDefault(),X&&me.isExpanded(X)&&ne.collapse(v,{edge:"focus"}),ne.move(v,{unit:"word",reverse:!te});return}if(Pi.isMoveWordForward(q)){G.preventDefault(),X&&me.isExpanded(X)&&ne.collapse(v,{edge:"focus"}),ne.move(v,{unit:"word",reverse:te});return}if(_p){if((bDe||Qg)&&X&&(Pi.isDeleteBackward(q)||Pi.isDeleteForward(q))&&me.isCollapsed(X)){var ve=Be.parent(v,X.anchor.path);if(tt.isElement(ve)&&z.isVoid(v,ve)&&(z.isInline(v,ve)||z.isBlock(v,ve))){G.preventDefault(),z.deleteBackward(v,{unit:"block"});return}}}else{if(Pi.isBold(q)||Pi.isItalic(q)||Pi.isTransposeCharacter(q)){G.preventDefault();return}if(Pi.isSoftBreak(q)){G.preventDefault(),z.insertSoftBreak(v);return}if(Pi.isSplitBlock(q)){G.preventDefault(),z.insertBreak(v);return}if(Pi.isDeleteBackward(q)){G.preventDefault(),X&&me.isExpanded(X)?z.deleteFragment(v,{direction:"backward"}):z.deleteBackward(v);return}if(Pi.isDeleteForward(q)){G.preventDefault(),X&&me.isExpanded(X)?z.deleteFragment(v,{direction:"forward"}):z.deleteForward(v);return}if(Pi.isDeleteLineBackward(q)){G.preventDefault(),X&&me.isExpanded(X)?z.deleteFragment(v,{direction:"backward"}):z.deleteBackward(v,{unit:"line"});return}if(Pi.isDeleteLineForward(q)){G.preventDefault(),X&&me.isExpanded(X)?z.deleteFragment(v,{direction:"forward"}):z.deleteForward(v,{unit:"line"});return}if(Pi.isDeleteWordBackward(q)){G.preventDefault(),X&&me.isExpanded(X)?z.deleteFragment(v,{direction:"backward"}):z.deleteBackward(v,{unit:"word"});return}if(Pi.isDeleteWordForward(q)){G.preventDefault(),X&&me.isExpanded(X)?z.deleteFragment(v,{direction:"forward"}):z.deleteForward(v,{unit:"word"});return}}}},[s,v,b.onKeyDown]),onPaste:p.useCallback(G=>{!s&&Ve.hasEditableTarget(v,G.target)&&!ss(G,b.onPaste)&&(!_p||UVt(G.nativeEvent)||Qg)&&(G.preventDefault(),Ve.insertData(v,G.clipboardData))},[s,v,b.onPaste])}),Fe.createElement(CUt,{decorations:L,node:v,renderElement:l,renderChunk:u,renderPlaceholder:h,renderLeaf:d,renderText:f}))))))}),SUt=e=>{var{attributes:t,children:n}=e;return Fe.createElement("span",ad({},t),n,Ka&&Fe.createElement("br",null))},EUt=()=>[],_Ut=(e,t)=>{if(t.getBoundingClientRect&&(!e.selection||e.selection&&me.isCollapsed(e.selection))){var n=t.startContainer.parentElement,r=t.getBoundingClientRect(),i=r.width===0&&r.height===0&&r.x===0&&r.y===0;if(i){var o=n.getBoundingClientRect(),a=o.width>0||o.height>0;if(a)return}n.getBoundingClientRect=t.getBoundingClientRect.bind(t),my(n,{scrollMode:"if-needed"}),delete n.getBoundingClientRect}},ss=(e,t)=>{if(!t)return!1;var n=t(e);return n??(e.isDefaultPrevented()||e.isPropagationStopped())},Rce=e=>Bh(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement),TUt=(e,t)=>{if(!t)return!1;var n=t(e);return n??e.defaultPrevented},Fce=(e,t)=>{var n=e;if(t.inputType==="historyUndo"&&typeof n.undo=="function"){n.undo();return}if(t.inputType==="historyRedo"&&typeof n.redo=="function"){n.redo();return}},AUt=p.createContext(!1),VDe=parseInt(Fe.version.split(".")[0],10),jUt=["editor","children","onChange","onSelectionChange","onValueChange","initialValue"],IUt=e=>{var{editor:t,children:n,onChange:r,onSelectionChange:i,onValueChange:o,initialValue:a}=e,s=O$(e,jUt);Fe.useState(()=>{if(!Be.isNodeList(a))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(Eo.stringify(a)));if(!z.isEditor(t))throw new Error("[Slate] editor is invalid! You passed: ".concat(Eo.stringify(t)));t.children=a,Object.assign(t,s)});var{selectorContext:l,onChange:u}=hUt(),d=p.useCallback(m=>{var g;switch(r&&r(t.children),m==null||(g=m.operation)===null||g===void 0?void 0:g.type){case"set_selection":i==null||i(t.selection);break;default:o==null||o(t.children)}u()},[t,u,r,i,o]);p.useEffect(()=>(YB.set(t,d),()=>{YB.set(t,()=>{})}),[t,d]);var[f,h]=p.useState(Ve.isFocused(t));return p.useEffect(()=>{h(Ve.isFocused(t))},[t]),ef(()=>{var m=()=>h(Ve.isFocused(t));return VDe>=17?(document.addEventListener("focusin",m),document.addEventListener("focusout",m),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",m)}):(document.addEventListener("focus",m,!0),document.addEventListener("blur",m,!0),()=>{document.removeEventListener("focus",m,!0),document.removeEventListener("blur",m,!0)})},[]),Fe.createElement(jP.Provider,{value:l},Fe.createElement(Zq.Provider,{value:t},Fe.createElement(AUt.Provider,{value:f},n)))},IP=()=>{var e=cUt();if(!e)return!1;var t=p.useCallback(n=>{if(!n.selection)return!1;var r=Ve.findPath(n,e),i=z.range(n,r);return!!me.intersection(i,n.selection)},[e]);return e5(t,void 0,{deferred:!0})},$Ut=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",r=t;r=pzt(r,n);var{onChange:i,apply:o,insertText:a}=r;return r.getChunkSize=()=>null,Ka&&(r.insertText=(s,l)=>(Uf.delete(r),a(s,l))),r.onChange=s=>{var l=VDe<18?FZe.unstable_batchedUpdates:u=>u();l(()=>{i(s)})},r.apply=s=>{if(s.type==="move_node"){var l=Be.parent(r,s.path),u=!!r.getChunkSize(l);if(u){var d=Be.get(r,s.path),f=MDe(r,l),h=Ve.findKey(r,d);f.movedNodeKeys.add(h)}}o(s)},r};function $P(e){return typeof e=="object"&&e!==null&&"_key"in e}function Ir(e){const t=e.path.at(0);if($P(t))return t._key}function Xo(e){const t=e.path.at(2);if($P(t))return t._key}function Vh(e){return DUt(e)&&typeof e._type=="string"}function DUt(e){return!!e&&(typeof e=="object"||typeof e=="function")}function OUt({context:e,blocks:t,options:n}){return Array.isArray(t)?t.flatMap(r=>{const i=zh({context:e,block:r,options:n});return i?[i]:[]}):[]}function zh({context:e,block:t,options:n}){return PUt({block:t,context:e,options:n})??MUt({blockObject:t,context:e,options:n})}function MUt({blockObject:e,context:t,options:n}){if(!Vh(e))return;const r=t.schema.blockObjects.find(({name:i})=>i===e._type);if(r)return DP({object:e,context:{keyGenerator:t.keyGenerator,schemaType:r},options:n})}function Au(e,t){return St(e,t)&&t.level!==void 0&&t.listItem!==void 0}function St(e,t){return!(!Vh(t)||t._type!==e.schema.block.name||!Array.isArray(t.children))}function PUt({block:e,context:t,options:n}){var d;if(!Vh(e))return;const r={};for(const f of Object.keys(e))f!=="_type"&&f!=="_key"&&f!=="children"&&f!=="markDefs"&&f!=="style"&&f!=="listItem"&&f!=="level"&&(r[f]=e[f]);if(e._type!==t.schema.block.name)return;const i=n.refreshKeys?t.keyGenerator():typeof e._key=="string"?e._key:t.keyGenerator(),o=Array.isArray(e.markDefs)?e.markDefs:[],a=new Map,s=o.flatMap(f=>{if(!Vh(f))return[];const h=t.schema.annotations.find(({name:g})=>g===f._type);if(!h)return[];if(typeof f._key!="string")return[];const m=DP({object:f,context:{schemaType:h,keyGenerator:t.keyGenerator},options:n});return m?(a.set(f._key,m._key),[m]):[]}),l=(Array.isArray(e.children)?e.children:[]).map(f=>RUt({span:f,context:t,markDefKeyMap:a,options:n})??zDe({inlineObject:f,context:t,options:n})).filter(f=>f!==void 0),u={_type:t.schema.block.name,_key:i,children:l.length>0?l:[{_key:t.keyGenerator(),_type:t.schema.span.name,text:"",marks:[]}],markDefs:s,...n.validateFields?{}:r};if(typeof e.style=="string"&&t.schema.styles.find(f=>f.name===e.style))u.style=e.style;else{const f=(d=t.schema.styles.at(0))==null?void 0:d.name;f!==void 0?u.style=f:console.error("Expected default style")}return typeof e.listItem=="string"&&t.schema.lists.find(f=>f.name===e.listItem)&&(u.listItem=e.listItem),typeof e.level=="number"&&(u.level=e.level),u}function zn(e,t){return!(!Vh(t)||t._type!==e.schema.span.name||typeof t.text!="string")}function RUt({span:e,context:t,markDefKeyMap:n,options:r}){if(!Vh(e))return;const i={};for(const a of Object.keys(e))a!=="_type"&&a!=="_key"&&a!=="text"&&a!=="marks"&&(i[a]=e[a]);if(e._type!==t.schema.span.name||e._type!=="span")return;const o=(Array.isArray(e.marks)?e.marks:[]).flatMap(a=>{if(typeof a!="string")return[];const s=n.get(a);return s!==void 0?[s]:t.schema.decorators.some(l=>l.name===a)?[a]:[]});return{_type:"span",_key:r.refreshKeys?t.keyGenerator():typeof e._key=="string"?e._key:t.keyGenerator(),text:typeof e.text=="string"?e.text:"",marks:o,...r.validateFields?{}:i}}function zDe({inlineObject:e,context:t,options:n}){if(!Vh(e))return;const r=t.schema.inlineObjects.find(({name:i})=>i===e._type);if(r)return DP({object:e,context:{keyGenerator:t.keyGenerator,schemaType:r},options:n})}function FUt({annotation:e,context:t,options:n}){if(!Vh(e))return;const r=t.schema.annotations.find(({name:i})=>i===e._type);if(r)return DP({object:e,context:{keyGenerator:t.keyGenerator,schemaType:r},options:n})}function DP({object:e,context:t,options:n}){const{_type:r,_key:i,...o}=e,a=n.validateFields?t.schemaType.fields.reduce((s,l)=>{const u=e[l.name];return u!==void 0&&(s[l.name]=u),s},{}):o;return{_type:t.schemaType.name,_key:n.refreshKeys?t.keyGenerator():typeof e._key=="string"?e._key:t.keyGenerator(),...a}}function gx({context:e,blockOffset:t,direction:n}){let r=t.offset,i,o=!1;for(const a of e.value)if(a._key===t.path[0]._key&&St(e,a))for(const s of a.children){if(n==="forward"){if(!zn(e,s))continue;if(r<=s.text.length){i={path:[...t.path,"children",{_key:s._key}],offset:r};break}r-=s.text.length;continue}if(!zn(e,s)){o=!0;continue}if(r===0&&i&&!o){o&&(i={path:[...t.path,"children",{_key:s._key}],offset:0});break}if(r>s.text.length){r-=s.text.length;continue}if(r<=s.text.length&&(i={path:[...t.path,"children",{_key:s._key}],offset:r},r-=s.text.length,r!==0))break}return i}function LUt({context:e,selectionPoint:t}){let n=0;const r=Ir(t),i=Xo(t);if(!(!r||!i)){for(const o of e.value)if(o._key===r&&St(e,o)){for(const a of o.children)if(zn(e,a)){if(a._key===i)return{path:[{_key:o._key}],offset:n+t.offset};n+=a.text.length}}}}function Uu({context:e,block:t}){return St(e,t.node)?{path:[...t.path,"children",{_key:t.node.children[0]._key}],offset:0}:{path:t.path,offset:0}}function df(e){return e?e.backward?e.anchor:e.focus:null}function Xu(e){return e?e.backward?e.focus:e.anchor:null}function UDe(e){return e.children.map(t=>t.text??"").join("")}function HDe(e,t){return t._type===e.schema.span.name}function NUt({context:e,blocks:t}){const n=[];if(!e.selection)return n;let r;const i=[];let o;const a=Xu(e.selection),s=df(e.selection),l=Ir(a),u=Xo(a),d=Ir(s),f=Xo(s);if(!l||!d)return n;for(const h of t){if(!St(e,h)&&h._key===l&&h._key===d){r=h;break}if(h._key===l){if(!St(e,h)){r=h;continue}if(u){for(const m of h.children){if(m._key===u){if(zn(e,m)){const g=m._key===f?m.text.slice(a.offset,s.offset):m.text.slice(a.offset);r={...h,children:[{...m,text:g}]}}else r={...h,children:[m]};if(u===f)break;continue}if(r&&St(e,r)&&(f&&m._key===f&&zn(e,m)?r.children.push({...m,text:m.text.slice(0,s.offset)}):r.children.push(m),h._key===d&&f&&m._key===f))break}if(l===d)break;continue}if(r=h,l===d)break}if(h._key===d){if(!St(e,h)){o=h;break}if(f){o={...h,children:[]};for(const m of h.children)if(o&&St(e,o)){if(m._key===f&&zn(e,m)){o.children.push({...m,text:m.text.slice(0,s.offset)});break}if(o.children.push(m),f&&m._key===f)break}break}o=h;break}r&&i.push(h)}return[...r?[r]:[],...i,...o?[o]:[]]}function Nl({context:e,block:t}){if(St(e,t.node)){const n=t.node.children[t.node.children.length-1];if(n)return{path:[...t.path,"children",{_key:n._key}],offset:zn(e,n)?n.text.length:0}}return{path:t.path,offset:0}}function jc(e,t){if(!St(e,t))return!1;const n=t.children.every(i=>zn(e,i)),r=UDe(t);return n&&r===""}function Hu(e,t){return e.offset===t.offset&&JSON.stringify(e.path)===JSON.stringify(t.path)}function Gv(e){return e?JSON.stringify(e.anchor.path)===JSON.stringify(e.focus.path)&&e.anchor.offset===e.focus.offset:!1}const BUt=/_key\s*==\s*['"](.*)['"]/;function WDe(e){return typeof e=="string"?BUt.test(e.trim()):typeof e=="object"&&"_key"in e}function oI(e){return!!e&&(typeof e=="object"||typeof e=="function")}function M$(e){return oI(e)&&typeof e._type=="string"&&Array.isArray(e.children)&&e.children.every(t=>oI(t))&&("markDefs"in e?Array.isArray(e.markDefs)&&e.markDefs.every(t=>oI(t)):!0)&&("style"in e?typeof e.style=="string":!0)}function aI(e){return oI(e)&&e._type==="span"&&typeof e.text=="string"&&("marks"in e?Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"):!0)}function Uh(e){return!!e&&(typeof e=="object"||typeof e=="function")}function Lce(e){return Uh(e)?e.jsonType==="object":!1}function VUt(e){return Uh(e)?e.jsonType==="array":!1}function zUt(e){return typeof e=="object"&&e!==null&&"title"in e&&"value"in e}function UUt(e){return Uh(e)?Array.isArray(e.annotations)&&Array.isArray(e.decorators):!1}function HUt(e){if(!Uh(e)||!Array.isArray(e.fields))return!1;const t=e.fields.find(eV),n=e.fields.find(JB),r=e.fields.find(QB);return eV(t)&&JB(n)&&QB(r)}function JB(e){return!Uh(e)||e.name!=="style"?!1:Uh(e.type)&&e.type.jsonType==="string"}function QB(e){return!Uh(e)||e.name!=="listItem"?!1:Uh(e.type)&&e.type.jsonType==="string"}function eV(e){return!Uh(e)||e.name!=="children"||!VUt(e.type)?!1:e.type.of.some(UUt)}function Nce(e,t){return e}function WUt(e,t){return e}const NE=e=>{if(!e.context.selection)return;const t=Ir(e.context.selection.focus),n=t?e.blockIndexMap.get(t):void 0,r=n!==void 0?e.context.value.at(n):void 0;return r&&t?{node:r,path:[{_key:t}]}:void 0},ta=e=>{const t=NE(e);return t&&St(e.context,t.node)?{node:t.node,path:t.path}:void 0},Xq=e=>{if(!e.context.selection)return;const t=ta(e);if(!t)return;const n=Xo(e.context.selection.focus),r=n?t.node.children.find(i=>i._key===n):void 0;return r&&n?{node:r,path:[...t.path,"children",{_key:n}]}:void 0},xy=e=>{const t=Xq(e);return t&&zn(e.context,t.node)?{node:t.node,path:t.path}:void 0},yx=e=>{if(e.context.selection)return e.context.selection.backward?e.context.selection.focus:e.context.selection.anchor},GUt=e=>{const t=ta(e),n=yx(e),r=n&&WDe(n.path[2])?n.path[2]._key:void 0;if(!t||!r)return;let i;for(const o of t.node.children){if(o._key===r)break;HDe(e.context,o)||(i={node:o,path:[...t.path,"children",{_key:o._key}]})}return i},OP=e=>{const t=e.context.selection;if(!t)return[];const n=Xu(t),r=df(t),i=Ir(n),o=Ir(r);if(!i||!o)return[];const a=e.blockIndexMap.get(i),s=e.blockIndexMap.get(o);if(a===void 0||s===void 0)return[];const l=e.context.value.slice(a,s+1);return NUt({context:e.context,blocks:l})},Bce=e=>OP(e).reduce((t,n)=>St(e.context,n)?t+n.children.reduce((r,i)=>zn(e.context,i)?r+i.text:r,""):t,""),vi=e=>{var t,n;return e.context.selection?JSON.stringify(e.context.selection.anchor.path)===JSON.stringify(e.context.selection.focus.path)&&((t=e.context.selection)==null?void 0:t.anchor.offset)===((n=e.context.selection)==null?void 0:n.focus.offset):!1},r0=e=>!vi(e);function KUt(e){return e?!Gv(e):!1}const Ow=e=>{const t=df(e.context.selection);if(t)return NE({...e,context:{...e.context,selection:{anchor:t,focus:t}}})},t5=e=>{if(e.context.selection)return e.context.selection.backward?e.context.selection.anchor:e.context.selection.focus},YUt=e=>{const t=Ow(e),n=t5(e);if(!t||!n||!St(e.context,t.node))return;const r=Xo(n);let i=!1,o;for(const a of t.node.children){if(a._key===r){i=!0;continue}if(zn(e.context,a)&&i){o={node:a,path:[...t.path,"children",{_key:a._key}]};break}}return o},Mw=e=>{const t=Xu(e.context.selection);if(t)return NE({...e,context:{...e.context,selection:{anchor:t,focus:t}}})},qUt=e=>{const t=Mw(e),n=yx(e);if(!t||!n||!St(e.context,t.node))return;const r=Xo(n);let i;for(const o of t.node.children){if(o._key===r)break;zn(e.context,o)&&(i={node:o,path:[...t.path,"children",{_key:o._key}]})}return i},GDe=e=>{if(!e.context.selection)return[];const t=[],n=yx(e),r=t5(e);if(!n||!r)return t;const i=Ir(n),o=Ir(r),a=Xo(n),s=Xo(r);if(!i||!o)return t;const l=e.blockIndexMap.get(i),u=e.blockIndexMap.get(o);if(l===void 0||u===void 0)return t;const d=e.context.value.slice(l,u+1);let f=!1;for(const h of d)if(h._key===i&&(f=!0),!!St(e.context,h)){if(h._key===i){for(const m of h.children)if(zn(e.context,m)){if(a&&m._key===a){if(n.offset<m.text.length&&t.push({node:m,path:[{_key:h._key},"children",{_key:m._key}]}),a===s)break;continue}if(s&&m._key===s){r.offset>0&&t.push({node:m,path:[{_key:h._key},"children",{_key:m._key}]});break}t.length>0&&t.push({node:m,path:[{_key:h._key},"children",{_key:m._key}]})}if(i===o)break;continue}if(h._key===o){for(const m of h.children)if(zn(e.context,m)){if(s&&m._key===s){r.offset>0&&t.push({node:m,path:[{_key:h._key},"children",{_key:m._key}]});break}t.push({node:m,path:[{_key:h._key},"children",{_key:m._key}]})}break}if(f)for(const m of h.children)zn(e.context,m)&&t.push({node:m,path:[{_key:h._key},"children",{_key:m._key}]})}return t},BE=e=>{var w,C,k,S,E,_,T;if(!e.context.selection)return;const t=ta(e),n=xy(e);if(!t||!n)return;if(KUt(e.context.selection)){const A=GDe(e);let I=0,j=[];for(const $ of A){if(I===0)j=$.node.marks??[];else{if(((w=$.node.marks)==null?void 0:w.length)===0){j=[];continue}j=j.filter(D=>($.node.marks??[]).some(O=>O===D))}I++}return{state:"unchanged",marks:j}}const r=e.context.schema.decorators.map(A=>A.name),i=n.node.marks??[],o=i.filter(A=>r.includes(A)),a=i.length>o.length,s=n.node.text.length===0,l=e.context.selection.anchor.offset===0,u=e.context.selection.anchor.offset===n.node.text.length,d=qUt(e),f=YUt(e),h=((k=(C=f==null?void 0:f.node)==null?void 0:C.marks)==null?void 0:k.filter(A=>!r.includes(A)))??[],m=i.filter(A=>!r.includes(A)),g=d?(S=d.node.marks)==null?void 0:S.some(A=>!r.includes(A)):!1,y=d?(E=d.node.marks)==null?void 0:E.filter(A=>!r.includes(A)).every(A=>i.includes(A)):!1,x=d?(_=d.node.marks)==null?void 0:_.some(A=>!r.includes(A)&&i.includes(A)):!1,b=d?(T=d.node.marks)==null?void 0:T.every(A=>i.includes(A)):!1,v=m.some(A=>h==null?void 0:h.includes(A));if(a&&!s){if(l){if(b)return{state:"changed",marks:(d==null?void 0:d.node.marks)??[]};if(y)return{state:"changed",marks:(d==null?void 0:d.node.marks)??[]};if(x)return{state:"unchanged",marks:n.node.marks??[]};if(!d)return{state:"changed",marks:[]}}if(u){if(f&&v&&h.length<m.length||!v)return{state:"changed",marks:(f==null?void 0:f.node.marks)??[]};if(!f)return{state:"changed",marks:[]}}}return l&&!s&&d?g?{state:"changed",marks:[]}:{state:"changed",marks:((d==null?void 0:d.node.marks)??[]).filter(A=>r.includes(A))}:{state:"unchanged",marks:n.node.marks??[]}},ff=e=>{if(!e.context.selection)return[];const t=[],n=Xu(e.context.selection),r=df(e.context.selection),i=Ir(n),o=Ir(r);if(!i||!o)return t;const a=e.blockIndexMap.get(i),s=e.blockIndexMap.get(o);if(a===void 0||s===void 0)return t;const l=e.context.value.slice(a,s+1);for(const u of l){if(u._key===i){if(t.push({node:u,path:[{_key:u._key}]}),i===o)break;continue}if(u._key===o){t.push({node:u,path:[{_key:u._key}]});break}t.length>0&&t.push({node:u,path:[{_key:u._key}]})}return t},ZUt=e=>{var r;if(!e.context.selection)return[];const t=ff(e),n=(((r=BE(e))==null?void 0:r.marks)??[]).filter(i=>!e.context.schema.decorators.map(o=>o.name).includes(i));return t.flatMap(i=>St(e.context,i.node)?i.node.markDefs??[]:[]).filter(i=>n.includes(i._key))},XUt=e=>{if(!e.context.selection)return;const t=ff(e).map(i=>i.node).filter(i=>St(e.context,i)),n=t.at(0);if(!n)return;const r=n.listItem;if(r&&t.every(i=>i.listItem===r))return r},JUt=e=>{if(!e.context.selection)return;const t=ff(e).map(i=>i.node).filter(i=>St(e.context,i)),n=t.at(0);if(!n)return;const r=n.style;if(r&&t.every(i=>i.style===r))return r},QUt=e=>{const t=ta(e),n=t5(e),r=n&&WDe(n.path[2])?n.path[2]._key:void 0;if(!t||!r)return;let i=!1,o;for(const a of t.node.children){if(a._key===r){i=!0;continue}if(!HDe(e.context,a)&&i){o={node:a,path:[...t.path,"children",{_key:a._key}]};break}}return o},eHt=e=>{if(!e.context.selection||!vi(e))return null;const t=ta(e),n=yx(e),r=n?LUt({context:e.context,selectionPoint:n}):void 0;if(!t||!n||!r)return null;const i=GUt(e),o=Uu({context:e.context,block:t}),a=Bce({...e,context:{...e.context,selection:{anchor:i?{path:i.path,offset:0}:o,focus:n}}}).split(/\s+/).at(-1),s=QUt(e),l=Nl({context:e.context,block:t}),u=Bce({...e,context:{...e.context,selection:{anchor:n,focus:s?{path:s.path,offset:0}:l}}}).split(/\s+/).at(0);if((a===void 0||a==="")&&(u===void 0||u===""))return null;const d=a?{...r,offset:r.offset-a.length}:r,f=u?{...r,offset:r.offset+u.length}:r,h=gx({context:e.context,blockOffset:d,direction:"backward"}),m=gx({context:e.context,blockOffset:f,direction:"forward"});if(!h||!m)return null;const g={anchor:h,focus:m};return r0({context:{...e.context,selection:g}})?g:null},tHt=e=>{const t=e.context.value[0];return t?{node:t,path:[{_key:t._key}]}:void 0},Pw=e=>{const t=NE(e);return t&&!St(e.context,t.node)?{node:t.node,path:t.path}:void 0},MP=e=>{const t=Xq(e);return t&&!aI(t.node)?{node:t.node,path:t.path}:void 0},VE=e=>{const t=ta(e);return t&&Au(e.context,t.node)?{node:t.node,path:t.path}:void 0},nHt=e=>{const t=e.context.value[e.context.value.length-1]?e.context.value[e.context.value.length-1]:void 0;return t?{node:t,path:[{_key:t._key}]}:void 0},Rw=e=>{const t=Ow(e);if(!t)return;const n=e.blockIndexMap.get(t.node._key);if(n===void 0||n===e.context.value.length-1)return;const r=e.context.value.at(n+1);return r?{node:r,path:[{_key:r._key}]}:void 0},Fw=e=>{const t=Mw(e);if(!t)return;const n=e.blockIndexMap.get(t.node._key);if(n===void 0||n===0)return;const r=e.context.value.at(n-1);return r?{node:r,path:[{_key:r._key}]}:void 0},P$=e=>{if(!e.context.selection)return[];const t=[],n=Xu(e.context.selection),r=df(e.context.selection),i=Ir(n),o=Ir(r);if(!i||!o)return t;const a=e.blockIndexMap.get(i),s=e.blockIndexMap.get(o);if(a===void 0||s===void 0)return t;const l=e.context.value.slice(a,s+1);for(const u of l){if(u._key===i){if(St(e.context,u)&&t.push({node:u,path:[{_key:u._key}]}),i===o)break;continue}if(u._key===o){St(e.context,u)&&t.push({node:u,path:[{_key:u._key}]});break}t.length>0&&St(e.context,u)&&t.push({node:u,path:[{_key:u._key}]})}return t},KDe=e=>{if(!e.context.selection)return e.context.selection;const t=Xu(e.context.selection),n=df(e.context.selection),r=Ir(t),i=Xo(t),o=Ir(n),a=Xo(n);if(!r||!o)return e.context.selection;const s=e.blockIndexMap.get(r),l=e.blockIndexMap.get(o);if(s===void 0||l===void 0)return e.context.selection;const u=e.context.value.slice(s,l+1);let d=!1,f,h=!1,m,g=!1,y;for(const b of u)if(!(b._key===r&&(d=!0,St(e.context,b)&&jc(e.context,b)))&&d&&St(e.context,b)){if(b._key===o&&jc(e.context,b))break;for(const v of b.children){if(v._key===a&&(!zn(e.context,v)||n.offset===0)){m=y?{path:[{_key:y.blockKey},"children",{_key:y.span._key}],offset:y.span.text.length}:void 0,g=!0;break}if(h){const w=zn(e.context,v)&&b.children.length===1;(zn(e.context,v)&&v.text.length>0||w)&&(f={path:[{_key:b._key},"children",{_key:v._key}],offset:0},y={blockKey:b._key,span:v},h=!1);continue}if(v._key===i){if(!zn(e.context,v)){h=!0;continue}if(t.offset===v.text.length){h=!0,y=v.text.length>0?{blockKey:b._key,span:v}:y;continue}}y=zn(e.context,v)&&v.text.length>0?{blockKey:b._key,span:v}:y}if(b._key===o)break}const x=e.context.selection.backward?{anchor:g&&m?m:n,focus:f??t,backward:!0}:{anchor:f??t,focus:g&&m?m:n};if(vi({context:{...e.context,selection:x}})){const b=ta({...e,context:{...e.context,selection:x}});if(b&&!jc(e.context,b.node))return null}return x};function Jq(e){var n;const t=e.context.schema;return(((n=BE(e))==null?void 0:n.marks)??[]).filter(r=>!t.decorators.map(i=>i.name).includes(r))}function tV(e){return t=>{const n=ff(t).flatMap(i=>St(t.context,i.node)?i.node.markDefs??[]:[]),r=Jq(t);return n.filter(i=>i._type===e&&r.includes(i._key)).length>0}}function vx(e){const t=e.context.schema,n=e.decoratorState,r=BE(e),i=t.decorators.map(a=>a.name);let o=((r==null?void 0:r.marks)??[]).filter(a=>i.includes(a));for(const a in n)n[a]===!1?o=o.filter(s=>s!==a):n[a]===!0&&(o.includes(a)||o.push(a));return o}function Q8(e){return t=>{if(r0(t)){const n=GDe(t);return n.length>0&&n.every(r=>{var i;return(i=r.node.marks)==null?void 0:i.includes(e)})}return vx(t).includes(e)}}function Vce(e){return t=>XUt(t)===e}function zce(e){return t=>JUt(t)===e}function rHt(e){return t=>{if(!t.context.selection||!vi(t))return!1;const n=Nl({context:t.context,block:e});return Hu(t.context.selection.focus,n)}}function iHt(e){return t=>{if(!t.context.selection||!vi(t))return!1;const n=Uu({context:t.context,block:e});return Hu(t.context.selection.focus,n)}}function qT(e){return t=>{if(!t.context.selection)return!1;const n=df(t.context.selection),r=Ir(n),i=Xo(n),o=Ir(e),a=Xo(e);if(!o||!r)return!1;const s=t.blockIndexMap.get(o),l=t.blockIndexMap.get(r);if(s===void 0||l===void 0)return!1;if(s>l)return!0;if(s<l)return!1;const u=t.context.value.at(s);if(!u||!St(t.context,u))return!1;let d,f,h=-1;for(const m of u.children){if(h++,m._key===a&&m._key===i)return e.offset>n.offset;if(m._key===a&&(d=h),m._key===i&&(f=h),d!==void 0&&f!==void 0)break}return d===void 0||f===void 0?!1:d>f}}function ZT(e){return t=>{if(!t.context.selection)return!1;const n=Xu(t.context.selection),r=Ir(n),i=Xo(n),o=Ir(e),a=Xo(e);if(!o||!r)return!1;const s=t.blockIndexMap.get(r),l=t.blockIndexMap.get(o);if(s===void 0||l===void 0)return!1;if(l<s)return!0;if(l>s)return!1;const u=t.context.value.at(l);if(!u||!St(t.context,u))return!1;let d,f,h=-1;for(const m of u.children){if(h++,m._key===a&&m._key===i)return e.offset<n.offset;if(m._key===a&&(d=h),m._key===i&&(f=h),d!==void 0&&f!==void 0)break}return d===void 0||f===void 0?!1:d<f}}function sI(e){return t=>{if(!e||!t.context.selection)return!1;const n=yx({context:{...t.context,selection:e}}),r=t5({context:{...t.context,selection:e}}),i=yx(t),o=t5(t);if(!n||!r||!i||!o)return!1;const a=ZT(n)(t),s=qT(n)(t),l=ZT(r)(t),u=qT(r)(t),d=ZT(i)({...t,context:{...t.context,selection:{anchor:n,focus:n}}}),f=qT(i)({...t,context:{...t.context,selection:{anchor:n,focus:n}}}),h=ZT(o)({...t,context:{...t.context,selection:{anchor:r,focus:r}}}),m=qT(o)({...t,context:{...t.context,selection:{anchor:r,focus:r}}}),g=Hu(r,i),y=Hu(n,o);return l&&!g||s&&!y?!1:!d&&f&&!h&&m?!g:d&&!f&&h&&!m?!y:!s||!a||!u||!l}}const nV=e=>{if(!e.context.selection)return!1;const t=e.context.selection.backward?e.context.selection.focus:e.context.selection.anchor,n=e.context.selection.backward?e.context.selection.anchor:e.context.selection.focus,r=Mw(e),i=Ow(e);if(!r||!i)return!1;const o=Uu({context:e.context,block:r}),a=Nl({context:e.context,block:i});return Hu(o,t)&&Hu(a,n)};function lI(e){return{type:"forward",event:e}}function Oe(e){return{type:"raise",event:e}}function eF(e){return{type:"effect",effect:e}}function Qq(e){return e.type?Qq(e.type):e.name==="block"}const oHt=Object.prototype.toString;function YDe(e){switch(oHt.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}return e===null?"null":e===void 0?"undefined":e&&typeof e=="object"&&"nodeType"in e&&e.nodeType===1?"element":e===Object(e)?"object":typeof e}var qDe={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},ZDe={0:8203,1:8204,2:8205,3:65279};new Array(4).fill(String.fromCodePoint(ZDe[0])).join("");Object.fromEntries(Object.entries(ZDe).map(e=>e.reverse()));Object.fromEntries(Object.entries(qDe).map(e=>e.reverse()));var aHt=`${Object.values(qDe).map(e=>`\\u{${e.toString(16)}}`).join("")}`,Uce=new RegExp(`[${aHt}]{4,}`,"gu");function sHt(e){var t;return{cleaned:e.replace(Uce,""),encoded:((t=e.match(Uce))==null?void 0:t[0])||""}}function lHt(e){return e&&JSON.parse(sHt(JSON.stringify(e)).cleaned)}const cHt=["pre","textarea","code"],zE="normal",Xs=Object.freeze({_type:"block",markDefs:[],style:zE}),mm=Object.freeze({_type:"span",marks:[]}),R$={p:Xs,blockquote:{...Xs,style:"blockquote"}},XDe={span:{object:"text"}},F$={ol:{object:null},ul:{object:null}},L$={h1:{...Xs,style:"h1"},h2:{...Xs,style:"h2"},h3:{...Xs,style:"h3"},h4:{...Xs,style:"h4"},h5:{...Xs,style:"h5"},h6:{...Xs,style:"h6"}},uHt={br:{...Xs,style:zE}},JDe={b:"strong",strong:"strong",i:"em",em:"em",u:"underline",s:"strike-through",strike:"strike-through",del:"strike-through",code:"code",sup:"sup",sub:"sub",ins:"ins",mark:"mark",small:"small"},QDe={li:{...Xs,style:zE,level:1,listItem:"bullet"}},dHt={...R$,...XDe,...F$,...QDe,...L$,...uHt};Io(Object.values(dHt).filter(e=>"style"in e).map(e=>e.style));Io(Object.values(JDe));function fHt(e){var a,s;if(!e)throw new Error("Parameter 'blockContentType' required");const t=e.of.find(Qq);if(!HUt(t))throw new Error("'block' type is not defined in this schema (required).");const n=(s=(a=t.fields.find(eV))==null?void 0:a.type)==null?void 0:s.of;if(!n)throw new Error("No `of` declaration found for blocks `children` field");const r=n.find(l=>l.name==="span");if(!r)throw new Error("No `span` type found in `block` schema type `children` definition");const i=n.filter(l=>l.name!=="span"&&Lce(l)),o=e.of.filter(l=>l.name!==t.name&&Lce(l));return{styles:hHt(t),decorators:mHt(r),annotations:pHt(r),lists:gHt(t),types:{block:e,span:r,inlineObjects:i,blockObjects:o}}}function hHt(e){const t=e.fields.find(JB);if(!t)throw new Error("A field with name 'style' is not defined in the block type (required).");const n=eOe(t.type.options);if(n.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return n}function pHt(e){return e.annotations.map(t=>({title:t.title,type:t,value:t.name,icon:t.icon}))}function mHt(e){return e.decorators}function gHt(e){const t=e.fields.find(QB);if(!t)throw new Error("A field with name 'list' is not defined in the block type (required).");const n=eOe(t.type.options);if(!n)throw new Error("The list field need at least to be an empty array");return n}function eOe(e){const t=e?e.list:void 0;return Array.isArray(t)?t.map(n=>zUt(n)?n:{title:n,value:n}):[]}const Xm={BOOLEAN_TYPE:3,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6};var yHt=(e,t,n)=>{var o;const r=(n==null?void 0:n.unstable_whitespaceOnPasteMode)||"preserve";let i=t.evaluate('//*[@id and contains(@id, "docs-internal-guid")]',t,null,Xm.ORDERED_NODE_ITERATOR_TYPE,null).iterateNext();if(i){const a=Sn(i)==="b";switch(a||(i=t.body),r){case"normalize":rV(i);break;case"remove":NHt(i);break}const s=t.evaluate("//*",t,null,Xm.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let l=s.snapshotLength-1;l>=0;l--){const u=s.snapshotItem(l);u==null||u.setAttribute("data-is-google-docs","true"),((u==null?void 0:u.parentElement)===i||!a&&u.parentElement===t.body)&&(u==null||u.setAttribute("data-is-root-node","true"),Sn(u)),Sn(u)==="li"&&u.firstChild&&Sn(u==null?void 0:u.firstChild)==="img"&&u.removeChild(u.firstChild)}return a&&((o=t.body.firstElementChild)==null||o.replaceWith(...Array.from(i.childNodes))),t}return t};const vHt=["/html/text()","/html/head/text()","/html/body/text()","/html/body/ul/text()","/html/body/ol/text()","//comment()","//style","//xml","//script","//meta","//link"];var bHt=(e,t)=>{var i,o,a;const n=t.evaluate("/html/body/text()",t,null,Xm.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let s=n.snapshotLength-1;s>=0;s--){const l=n.snapshotItem(s),u=l.textContent||"";if(u.replace(/[^\S\n]+$/g,"")){const d=t.createElement("span");d.appendChild(t.createTextNode(u)),(i=l.parentNode)==null||i.replaceChild(d,l)}else(o=l.parentNode)==null||o.removeChild(l)}const r=t.evaluate(vHt.join("|"),t,null,Xm.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let s=r.snapshotLength-1;s>=0;s--){const l=r.snapshotItem(s);l&&((a=l.parentNode)==null||a.removeChild(l))}return t},xHt=(e,t)=>{var r;const n=/<!-- notionvc:.*?-->/g;if(e.match(n)){const i=t.evaluate("//*",t,null,Xm.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let o=i.snapshotLength-1;o>=0;o--)(r=i.snapshotItem(o))==null||r.setAttribute("data-is-notion","true");return t}return t},wHt=(e,t)=>{function n(r){var i,o;if(r.nodeType===Xm.BOOLEAN_TYPE&&!cHt.includes(((i=r.parentElement)==null?void 0:i.tagName.toLowerCase())||""))r.textContent=((o=r.textContent)==null?void 0:o.replace(/\s\s+/g," ").replace(/[\r\n]+/g," "))||"";else for(let a=0;a<r.childNodes.length;a++)n(r.childNodes[a])}return n(t.body),t};const CHt=/(class="?Mso|style=(?:"|')[^"]*?\bmso-|w:WordDocument|<o:\w+>|<\/font>)/,kHt=["//o:p","//span[@style='mso-list:Ignore']","//span[@style='mso-list: Ignore']"],SHt=["//p[@class='MsoTocHeading']","//p[@class='MsoTitle']","//p[@class='MsoToaHeading']","//p[@class='MsoSubtitle']","//span[@class='MsoSubtleEmphasis']","//span[@class='MsoIntenseEmphasis']"],EHt={MsoTocHeading:["h3"],MsoTitle:["h1"],MsoToaHeading:["h2"],MsoSubtitle:["h5"],MsoSubtleEmphasis:["span","em"],MsoIntenseEmphasis:["span","em","strong"]};function _Ht(e){return CHt.test(e)}var THt=(e,t)=>{var i;if(!_Ht(e))return t;const n=t.evaluate(kHt.join("|"),t,o=>o==="o"?"urn:schemas-microsoft-com:office:office":null,Xm.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let o=n.snapshotLength-1;o>=0;o--){const a=n.snapshotItem(o);a!=null&&a.parentNode&&a.parentNode.removeChild(a)}const r=t.evaluate(SHt.join("|"),t,null,Xm.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let o=r.snapshotLength-1;o>=0;o--){const a=r.snapshotItem(o),s=EHt[a.className],l=t.createTextNode(a.textContent||"");if(!s)continue;const u=t.createElement(s[0]);let d=u,f=u;s.slice(1).forEach(h=>{f=t.createElement(h),d.appendChild(f),d=f}),f.appendChild(l),(i=a==null?void 0:a.parentNode)==null||i.replaceChild(u,a)}return t},AHt=[wHt,xHt,THt,yHt,bHt];function jHt(e){const t=fHt(e),n=t.styles.map(a=>a.value||a.title),r=t.decorators.map(a=>a.value||a.title),i=t.annotations.map(a=>a.value||a.title||""),o=t.lists.map(a=>a.value||a.title||"");return{enabledBlockStyles:n,enabledSpanDecorators:r,enabledBlockAnnotations:i,enabledListTypes:o}}function Sn(e){if(e&&"tagName"in e)return e.tagName.toLowerCase()}function IHt(e,t,n){const r=lHt(e),i=t($Ht(r));return AHt.forEach(o=>{o(r,i,n)}),i}function $Ht(e){return e.trim()}function DHt(){if(YDe(DOMParser)==="undefined")throw new Error("The native `DOMParser` global which the `Html` deserializer uses by default is not present in this environment. You must supply the `options.parseHtml` function instead.");return e=>new DOMParser().parseFromString(e,"text/html")}function OHt(e){let t=0;const n=[],r=i=>{const o=[];i.forEach(a=>{t===0&&n.push(a),M$(a)&&(t>0&&(o.push(a),n.push(a)),t++,r(a.children)),a._type==="__block"&&(o.push(a),n.push(a.block))}),o.forEach(a=>{i.splice(i.indexOf(a),1)}),t--};return r(e),n}function MHt(e,t){const n=e.children[t+1];return n&&n._type==="span"?n:null}function PHt(e,t){const n=e.children[t-1];return n&&n._type==="span"?n:null}function Hce(e){return[""," "].includes(e)}function RHt(e){return e.forEach(t=>{M$(t)&&t.children.forEach((n,r)=>{if(!_b(n))return;const i=MHt(t,r),o=PHt(t,r);r===0&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),r===t.children.length-1&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.slice(Math.max(0,n.text.length-1)))&&i&&_b(i)&&/\s/.test(i.text.slice(0,1))&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.slice(0,1))&&o&&_b(o)&&/\s/.test(o.text.slice(Math.max(0,o.text.length-1)))&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),n.text||t.children.splice(r,1),o&&Dt(o.marks,n.marks)&&Hce(n.text)?(o.text+=" ",t.children.splice(r,1)):i&&Dt(i.marks,n.marks)&&Hce(n.text)&&(i.text=` ${i.text}`,t.children.splice(r,1))})}),e}function FHt(e){return e.reduce((t,n,r,i)=>{if(n._type==="block")return t.push(n),t;if(n._type==="__block")return t.push(n.block),t;const o=t[t.length-1];if(r>0&&!M$(i[r-1])&&M$(o))return o.children.push(n),t;const a={...Xs,children:[n]};return t.push(a),t},[])}function LHt(e){return Object.prototype.toString.call(e)==="[object NodeList]"}function _b(e){return e._type==="span"}function Wce(e){return e._type==="block"}function Gce(e){return e._type==="__decorator"}function Kce(e){return e._type==="__annotation"}function Ji(e){return e.nodeType===1}function rV(e){let t=0,n=null;const r=[];for(let i=e.firstChild;i;i=i.nextSibling){if(!Ji(i)){rV(i),t=0;continue}const o=i;BHt(o)?(n&&o.parentElement===n?(t++,t>1&&r.push(o)):t=1,n=o.parentElement):(rV(i),t=0)}r.forEach(i=>{var o;return(o=i.parentElement)==null?void 0:o.removeChild(i)})}function NHt(e){const t=[];function n(r){var i,o;if(Ji(r)){const a=r;if(Sn(a)==="br"&&(Sn(a.nextElementSibling)==="p"||Sn(a.previousElementSibling)==="p")){t.push(a);return}if((Sn(a)==="p"||Sn(a)==="br")&&((o=(i=a==null?void 0:a.firstChild)==null?void 0:i.textContent)==null?void 0:o.trim())===""){t.push(a);return}for(let s=a.firstChild;s;s=s.nextSibling)n(s)}}n(e),t.forEach(r=>{var i;return(i=r.parentElement)==null?void 0:i.removeChild(r)})}function BHt(e){var t;return["p","br"].includes(Sn(e)||"")&&!((t=e.textContent)!=null&&t.trim())}const tOe=Object.keys(F$);function VHt(e){const t=Ji(e)&&e.getAttribute("style");return/font-style\s*:\s*italic/.test(t||"")}function zHt(e){const t=Ji(e)&&e.getAttribute("style");return/font-weight\s*:\s*700/.test(t||"")}function UHt(e){if(!Ji(e)||Sn(e.parentNode)==="a")return!1;const t=Ji(e)&&e.getAttribute("style");return/text-decoration\s*:\s*underline/.test(t||"")}function HHt(e){const t=Ji(e)&&e.getAttribute("style");return/text-decoration\s*:\s*(?:.*line-through.*;)/.test(t||"")}function VC(e){return Ji(e)&&!!e.getAttribute("data-is-google-docs")}function WHt(e){return Ji(e)&&!!e.getAttribute("data-is-root-node")}function GHt(e){const t=Sn(e.parentNode);if(!(t&&!tOe.includes(t)))return Sn(e.parentNode)==="ul"?"bullet":"number"}function KHt(e){let t=0;if(Sn(e)==="li"){let n=e.parentNode;for(;n;){const r=Sn(n);r&&tOe.includes(r)&&t++,n=n.parentNode}}else t=1;return t}const YHt={...R$,...L$};function qHt(e,t){const n=Sn(e.firstChild),r=n&&YHt[n];return r&&t.includes(r.style)?r.style:zE}function ZHt(e,t){return[{deserialize(n){if(Ji(n)&&Sn(n)==="span"&&VC(n)){const r={...mm,marks:[],text:n.textContent};return zHt(n)&&r.marks.push("strong"),UHt(n)&&r.marks.push("underline"),HHt(n)&&r.marks.push("strike-through"),VHt(n)&&r.marks.push("em"),r}}},{deserialize(n,r){var i;if(Sn(n)==="li"&&VC(n))return{...Xs,listItem:GHt(n),level:KHt(n),style:qHt(n,t.enabledBlockStyles),children:r(((i=n.firstChild)==null?void 0:i.childNodes)||[])}}},{deserialize(n){var r;if(Sn(n)==="br"&&VC(n)&&Ji(n)&&n.classList.contains("apple-interchange-newline"))return{...mm,text:""};if(Sn(n)==="br"&&VC(n)&&Ji(n)&&((r=n==null?void 0:n.parentNode)==null?void 0:r.textContent)==="")return{...mm,text:""};if(Sn(n)==="br"&&VC(n)&&Ji(n)&&WHt(n))return{...mm,text:""}}}]}function jk(){return JHt(12)}function XHt(e=16){const t=new Uint8Array(e);return jE(t),t}const nOe=[];for(let e=0;e<256;++e)nOe[e]=(e+256).toString(16).slice(1);function JHt(e){return XHt(e).reduce((t,n)=>t+nOe[n],"").slice(0,e)}const QHt={deserialize(e){return e.nodeName==="#text"&&eWt(e)?{...mm,marks:[],text:(e.textContent??"").replace(/\s\s+/g," ")}:void 0}};function eWt(e){return(e.nodeType===3&&(e.textContent||"").replace(/[\r\n]/g," ").replace(/\s\s+/g," ")===" "&&e.nextSibling&&e.nextSibling.nodeType!==3&&e.previousSibling&&e.previousSibling.nodeType!==3||e.textContent!==" ")&&Sn(e.parentNode)!=="body"}function tWt(e,t){if(e==="ul"&&t.includes("bullet"))return"bullet";if(e==="ol"&&t.includes("number"))return"number"}function nWt(e,t){return[QHt,{deserialize(n){if(Sn(n)!=="pre")return;const r=t.enabledBlockStyles.includes("code");return{_type:"block",style:"normal",markDefs:[],children:[{...mm,marks:r?["code"]:[],text:n.textContent||""}]}}},{deserialize(n,r){if(Sn(n)!=="blockquote")return;const i={...R$,...L$};delete i.blockquote;const o=Object.keys(i),a=[];return n.childNodes.forEach((s,l)=>{var u;if(n.ownerDocument)if(s.nodeType===1&&o.includes(s.localName.toLowerCase())){const d=n.ownerDocument.createElement("span"),f=a[a.length-1];f&&f.nodeType===3&&((u=f.textContent)!=null&&u.trim())&&d.appendChild(n.ownerDocument.createTextNode("\r")),s.childNodes.forEach(h=>{d.appendChild(h.cloneNode(!0))}),l!==n.childNodes.length&&d.appendChild(n.ownerDocument.createTextNode("\r")),a.push(d)}else a.push(s)}),{_type:"block",style:"blockquote",markDefs:[],children:r(a)}}},{deserialize(n,r){const i={...R$,...L$},o=Sn(n);let a=o?i[o]:void 0;if(a)return n.parentNode&&Sn(n.parentNode)==="li"?r(n.childNodes):(t.enabledBlockStyles.includes(a.style)||(a=Xs),{...a,children:r(n.childNodes)})}},{deserialize(n,r){const i=Sn(n);if(!(!i||!(i in XDe)))return r(n.childNodes)}},{deserialize(n,r){if(Sn(n)==="div")return r(n.childNodes)}},{deserialize(n,r){const i=Sn(n);if(!(!i||!(i in F$)))return r(n.childNodes)}},{deserialize(n){if(Sn(n)==="br")return{...mm,text:`
`}}},{deserialize(n,r,i){const o=Sn(n),a=o?QDe[o]:void 0,s=Sn(n.parentNode)||"";if(!a||!n.parentNode||!F$[s])return;const l=tWt(s,t.enabledListTypes);return l?(a.listItem=l,{...a,children:r(n.childNodes)}):i({_type:"block",children:r(n.childNodes)})}},{deserialize(n,r){const i=JDe[Sn(n)||""];if(!(!i||!t.enabledSpanDecorators.includes(i)))return{_type:"__decorator",name:i,children:r(n.childNodes)}}},{deserialize(n,r){if(Sn(n)!=="a")return;const i=t.enabledBlockAnnotations.includes("link"),o=Ji(n)&&n.getAttribute("href");if(!o)return r(n.childNodes);let a;return i?(a={_key:t.keyGenerator?t.keyGenerator():jk(),_type:"link",href:o},{_type:"__annotation",markDef:a,children:r(n.childNodes)}):n.appendChild(n.ownerDocument.createTextNode(` (${o})`))&&r(n.childNodes)}}]}function rWt(e){const t=Ji(e)&&e.getAttribute("style");return/font-style:italic/.test(t||"")}function iWt(e){const t=Ji(e)&&e.getAttribute("style");return/font-weight:700/.test(t||"")||/font-weight:600/.test(t||"")}function oWt(e){const t=Ji(e)&&e.getAttribute("style");return/text-decoration:underline/.test(t||"")}function aWt(e){return Ji(e)&&!!e.getAttribute("data-is-notion")}function sWt(e){return[{deserialize(t){if(Ji(t)&&Sn(t)==="span"&&aWt(t)){const n={...mm,marks:[],text:t.textContent};return iWt(t)&&n.marks.push("strong"),oWt(t)&&n.marks.push("underline"),rWt(t)&&n.marks.push("em"),n}}}]}function lWt(e){const t=Ji(e)&&e.getAttribute("style");if(t&&t.match(/lfo\d+/))return t.match("lfo1")?"bullet":"number"}function cWt(e){const t=Ji(e)&&e.getAttribute("style");if(!t)return;const n=t.match(/level\d+/);if(!n)return;const[r]=n[0].match(/\d/)||[];return(r?Number.parseInt(r,10):1)||1}function uWt(e){return Ji(e)&&e.className?e.className==="MsoListParagraphCxSpFirst"||e.className==="MsoListParagraphCxSpMiddle"||e.className==="MsoListParagraphCxSpLast":!1}function dWt(){return[{deserialize(e,t){if(Sn(e)==="p"&&uWt(e))return{...Xs,listItem:lWt(e),level:cWt(e),style:zE,children:t(e.childNodes)}}}]}function fWt(e,t){return[...dWt(),...sWt(),...ZHt(e,t),...nWt(e,t)]}class hWt{constructor(t,n={}){Z(this,"blockContentType");Z(this,"rules");Z(this,"parseHtml");Z(this,"_markDefs",[]);Z(this,"deserialize",t=>{this._markDefs=[];const{parseHtml:n}=this,r=n(t),i=Array.from(r.childNodes),o=RHt(OHt(FHt(this.deserializeElements(i))));this._markDefs.length>0&&o.filter(s=>s._type==="block").forEach(s=>{s.markDefs=s.markDefs||[],s.markDefs=s.markDefs.concat(this._markDefs.filter(l=>jr(s.children.map(u=>u.marks||[])).includes(l._key)))});const a=this.blockContentType.of.find(Qq);return a?o.map(s=>(s._type==="block"&&(s._type=a.name),s)):o});Z(this,"deserializeElements",(t=[])=>{let n=[];return t.forEach(r=>{n=n.concat(this.deserializeElement(r))}),n});Z(this,"deserializeElement",t=>{var o,a;const n=s=>{if(LHt(s))return this.deserializeElements(Array.from(s));if(Array.isArray(s))return this.deserializeElements(s);if(s)return this.deserializeElement(s)},r=s=>({_type:"__block",block:s});let i;for(let s=0;s<this.rules.length;s++){const l=this.rules[s];if(!l.deserialize)continue;const u=l.deserialize(t,n,r),d=YDe(u);if(d!=="array"&&d!=="object"&&d!=="null"&&d!=="undefined")throw new Error(`A rule returned an invalid deserialized representation: "${i}".`);if(u!==void 0){{if(u===null)throw new Error("Deserializer rule returned `null`");Array.isArray(u)?i=u:Gce(u)?i=this.deserializeDecorator(u):Kce(u)?i=this.deserializeAnnotation(u):i=u}if(u&&!Array.isArray(u)&&Wce(u)&&"listItem"in u){let f=(o=t.parentNode)==null?void 0:o.parentNode;for(;f&&Sn(f)==="li";)f=(a=f.parentNode)==null?void 0:a.parentNode,u.level=u.level?u.level+1:1}u&&!Array.isArray(u)&&Wce(u)&&u.style==="blockquote"&&u.children.forEach((f,h)=>{_b(f)&&f.text==="\r"&&(f.text=`
`,(h===0||h===u.children.length-1)&&u.children.splice(h,1))});break}}return i||n(t.childNodes)||[]});Z(this,"deserializeDecorator",t=>{const{name:n}=t,r=i=>{if(Gce(i))return this.deserializeDecorator(i);if(_b(i))i.marks=i.marks||[],i.text.trim()&&i.marks.unshift(n);else if("children"in i&&Array.isArray(i.children)){const o=i;o.children=o.children.map(r)}return i};return t.children.reduce((i,o)=>{const a=r(o);return Array.isArray(a)?i.concat(a):(i.push(a),i)},[])});Z(this,"deserializeAnnotation",t=>{const{markDef:n}=t;this._markDefs.push(n);const r=i=>{if(Kce(i))return this.deserializeAnnotation(i);if(_b(i))i.marks=i.marks||[],i.text.trim()&&i.marks.unshift(n._key);else if("children"in i&&Array.isArray(i.children)){const o=i;o.children=o.children.map(r)}return i};return t.children.reduce((i,o)=>{const a=r(o);return Array.isArray(a)?i.concat(a):(i.push(a),i)},[])});const{rules:r=[],unstable_whitespaceOnPasteMode:i="preserve"}=n;if(!t)throw new Error("Parameter 'blockContentType' is required");const o=fWt(t,{...jHt(t),keyGenerator:n.keyGenerator});this.rules=[...r,...o];const a=n.parseHtml||DHt();this.blockContentType=t,this.parseHtml=s=>IHt(s,a,{unstable_whitespaceOnPasteMode:i}).body}}function pWt(e,t={}){if(e._type!==(t.blockTypeName||"block"))return"_key"in e?e:{...e,_key:t.keyGenerator?t.keyGenerator():jk()};const n={_key:t.keyGenerator?t.keyGenerator():jk(),children:[],markDefs:[],...e},r=n.children[n.children.length-1];if(!r)return n.children=[{_type:"span",_key:t.keyGenerator?t.keyGenerator():jk(),text:"",marks:[]}],n;const i=[],o=t.allowedDecorators&&Array.isArray(t.allowedDecorators)?t.allowedDecorators:!1;return n.children=n.children.reduce((a,s)=>{const l=a[a.length-1];return l&&aI(s)&&aI(l)&&Dt(l.marks,s.marks)?(r&&r===s&&s.text===""&&n.children.length>1||(l.text+=s.text),a):(a.push(s),a)},[]).map(a=>{if(!a)throw new Error("missing child");return a._key=t.keyGenerator?t.keyGenerator():jk(),aI(a)&&(a.marks?o&&(a.marks=a.marks.filter(s=>{var d;const l=o.includes(s),u=(d=n.markDefs)==null?void 0:d.some(f=>f._key===s);return l||u})):a.marks=[],i.push(...a.marks)),a}),n.markDefs=(n.markDefs||[]).filter(a=>i.includes(a._key)),n}function rOe(e,t,n={}){return new hWt(t,n).deserialize(e).map(r=>pWt(r,{keyGenerator:n.keyGenerator}))}function Yce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yce(Object(n),!0).forEach(function(r){mWt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yce(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mWt(e,t,n){return(t=gWt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gWt(e){var t=yWt(e,"string");return typeof t=="symbol"?t:t+""}function yWt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N$(e){return e._type==="span"&&"text"in e&&typeof e.text=="string"&&(typeof e.marks>"u"||Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"))}function iOe(e){return typeof e._type=="string"&&e._type[0]!=="@"&&(!("markDefs"in e)||!e.markDefs||Array.isArray(e.markDefs)&&e.markDefs.every(t=>typeof t._key=="string"))&&"children"in e&&Array.isArray(e.children)&&e.children.every(t=>typeof t=="object"&&"_type"in t)}function oOe(e){return iOe(e)&&"listItem"in e&&typeof e.listItem=="string"&&(typeof e.level>"u"||typeof e.level=="number")}function aOe(e){return e._type==="@list"}function sOe(e){return e._type==="@span"}function lOe(e){return e._type==="@text"}const Zce=["strong","em","code","underline","strike-through"];function vWt(e,t,n){if(!N$(e)||!e.marks)return[];if(!e.marks.length)return[];const r=e.marks.slice(),i={};return r.forEach(o=>{i[o]=1;for(let a=t+1;a<n.length;a++){const s=n[a];if(s&&N$(s)&&Array.isArray(s.marks)&&s.marks.indexOf(o)!==-1)i[o]++;else break}}),r.sort((o,a)=>bWt(i,o,a))}function bWt(e,t,n){const r=e[t],i=e[n];if(r!==i)return i-r;const o=Zce.indexOf(t),a=Zce.indexOf(n);return o!==a?o-a:t.localeCompare(n)}function xWt(e){var t,n;const{children:r}=e,i=(t=e.markDefs)!=null?t:[];if(!r||!r.length)return[];const o=r.map(vWt),a={_type:"@span",children:[],markType:"<unknown>"};let s=[a];for(let l=0;l<r.length;l++){const u=r[l];if(!u)continue;const d=o[l]||[];let f=1;if(s.length>1)for(f;f<s.length;f++){const m=((n=s[f])==null?void 0:n.markKey)||"",g=d.indexOf(m);if(g===-1)break;d.splice(g,1)}s=s.slice(0,f);let h=s[s.length-1];if(h){for(const m of d){const g=i==null?void 0:i.find(b=>b._key===m),y=g?g._type:m,x={_type:"@span",_key:u._key,children:[],markDef:g,markType:y,markKey:m};h.children.push(x),s.push(x),h=x}if(N$(u)){const m=u.text.split(`
`);for(let g=m.length;g-- >1;)m.splice(g,0,`
`);h.children=h.children.concat(m.map(g=>({_type:"@text",text:g})))}else h.children=h.children.concat(u)}}return a.children}function wWt(e,t){const n=[];let r;for(let i=0;i<e.length;i++){const o=e[i];if(o){if(!oOe(o)){n.push(o),r=void 0;continue}if(!r){r=XT(o,i,t),n.push(r);continue}if(CWt(o,r)){r.children.push(o);continue}if((o.level||1)>r.level){const a=XT(o,i,t);if(t==="html"){const s=r.children[r.children.length-1],l=qce(qce({},s),{},{children:[...s.children,a]});r.children[r.children.length-1]=l}else r.children.push(a);r=a;continue}if((o.level||1)<r.level){const a=n[n.length-1],s=a&&iV(a,o);if(s){r=s,r.children.push(o);continue}r=XT(o,i,t),n.push(r);continue}if(o.listItem!==r.listItem){const a=n[n.length-1],s=a&&iV(a,{level:o.level||1});if(s&&s.listItem===o.listItem){r=s,r.children.push(o);continue}else{r=XT(o,i,t),n.push(r);continue}}console.warn("Unknown state encountered for block",o),n.push(o)}}return n}function CWt(e,t){return(e.level||1)===t.level&&e.listItem===t.listItem}function XT(e,t,n){return{_type:"@list",_key:`${e._key||`${t}`}-parent`,mode:n,level:e.level||1,listItem:e.listItem,children:[e]}}function iV(e,t){const n=t.level||1,r=t.listItem||"normal",i=typeof t.listItem=="string";if(aOe(e)&&(e.level||1)===n&&i&&(e.listItem||"normal")===r)return e;if(!("children"in e))return;const o=e.children[e.children.length-1];return o&&!N$(o)?iV(o,t):void 0}function cOe(e){let t="";return e.children.forEach(n=>{lOe(n)?t+=n.text:sOe(n)&&(t+=cOe(n))}),t}const kWt=["block","list","listItem","marks","types"],SWt=["listItem"],EWt=["_key"];function Xce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xce(Object(n),!0).forEach(function(r){_Wt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xce(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _Wt(e,t,n){return(t=TWt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TWt(e){var t=AWt(e,"string");return typeof t=="symbol"?t:t+""}function AWt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oV(e,t){if(e==null)return{};var n,r,i=jWt(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jWt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}const IWt=["http","https","mailto","tel"],$Wt={"&":"amp","<":"lt",">":"gt",'"':"quot","'":"#x27"};function uOe(e){return DWt(e.replace(/[&<>"']/g,t=>`&${$Wt[t]};`))}function DWt(e){return e.replace(/ {2,}/g,t=>`${"&nbsp;".repeat(t.length-1)} `)}function OWt(e){const t=(e||"").trim(),n=t.charAt(0);if(n==="#"||n==="/")return!0;const r=t.indexOf(":");if(r===-1)return!0;const i=t.slice(0,r).toLowerCase();if(IWt.indexOf(i)!==-1)return!0;const o=t.indexOf("?");if(o!==-1&&r>o)return!0;const a=t.indexOf("#");return a!==-1&&r>a}const MWt={number:({children:e})=>`<ol>${e}</ol>`,bullet:({children:e})=>`<ul>${e}</ul>`},PWt=({children:e})=>`<li>${e}</li>`,RWt=({children:e,value:t})=>{const n=(t==null?void 0:t.href)||"";return OWt(n)?`<a href="${uOe(n)}">${e}</a>`:e},FWt={em:({children:e})=>`<em>${e}</em>`,strong:({children:e})=>`<strong>${e}</strong>`,code:({children:e})=>`<code>${e}</code>`,underline:({children:e})=>`<span style="text-decoration:underline">${e}</span>`,"strike-through":({children:e})=>`<del>${e}</del>`,link:RWt},UE=(e,t)=>`Unknown ${e}, specify a component for it in the \`components.${t}\` option`,dOe=e=>UE(`block type "${e}"`,"types"),LWt=e=>UE(`mark type "${e}"`,"marks"),NWt=e=>UE(`block style "${e}"`,"block"),BWt=e=>UE(`list style "${e}"`,"list"),VWt=e=>UE(`list item style "${e}"`,"listItem");function zWt(e){console.warn(e)}const UWt=({value:e,isInline:t})=>{const n=dOe(e._type);return t?`<span style="display:none">${n}</span>`:`<div style="display:none">${n}</div>`},HWt=({markType:e,children:t})=>`<span class="unknown__pt__mark__${e}">${t}</span>`,WWt=({children:e})=>`<p>${e}</p>`,GWt=({children:e})=>`<ul>${e}</ul>`,KWt=({children:e})=>`<li>${e}</li>`,YWt=()=>"<br/>",qWt={normal:({children:e})=>`<p>${e}</p>`,blockquote:({children:e})=>`<blockquote>${e}</blockquote>`,h1:({children:e})=>`<h1>${e}</h1>`,h2:({children:e})=>`<h2>${e}</h2>`,h3:({children:e})=>`<h3>${e}</h3>`,h4:({children:e})=>`<h4>${e}</h4>`,h5:({children:e})=>`<h5>${e}</h5>`,h6:({children:e})=>`<h6>${e}</h6>`},Jce={types:{},block:qWt,marks:FWt,list:MWt,listItem:PWt,hardBreak:YWt,escapeHTML:uOe,unknownType:UWt,unknownMark:HWt,unknownList:GWt,unknownListItem:KWt,unknownBlockStyle:WWt};function ZWt(e,t){const n=oV(t,kWt);return gm(gm({},e),{},{block:zC(e,t,"block"),list:zC(e,t,"list"),listItem:zC(e,t,"listItem"),marks:zC(e,t,"marks"),types:zC(e,t,"types")},n)}function zC(e,t,n){const r=t[n],i=e[n];return typeof r=="function"||r&&typeof i=="function"?r:r?gm(gm({},i),r):i}function XWt(e,t={}){const{components:n,onMissingComponent:r=zWt}=t,i=r||QWt,o=Array.isArray(e)?e:[e],a=wWt(o,"html"),s=n?ZWt(Jce,n):Jce,l=JWt(s,i);return a.map((u,d)=>l({node:u,index:d,isInline:!1,renderNode:l})).join("")}const JWt=(e,t)=>{function n(u){const{node:d,index:f,isInline:h}=u;return aOe(d)?i(d,f):oOe(d)?r(d,f):sOe(d)?o(d):iOe(d)?a(d,f,h):lOe(d)?s(d):l(d,f,h)}function r(u,d){const f=Qce({node:u,index:d,isInline:!1,renderNode:n}),h=e.listItem,m=(typeof h=="function"?h:h[u.listItem])||e.unknownListItem;if(m===e.unknownListItem){const y=u.listItem||"bullet";t(VWt(y),{type:y,nodeType:"listItemStyle"})}let g=f.children;if(u.style&&u.style!=="normal"){const y=oV(u,SWt);g=n({node:y,index:d,isInline:!1})}return m({value:u,index:d,isInline:!1,renderNode:n,children:g})}function i(u,d){const f=u.children.map((g,y)=>n({node:g._key?g:gm(gm({},g),{},{_key:`li-${d}-${y}`}),index:y,isInline:!1})),h=e.list,m=(typeof h=="function"?h:h[u.listItem])||e.unknownList;if(m===e.unknownList){const g=u.listItem||"bullet";t(BWt(g),{nodeType:"listStyle",type:g})}return m({value:u,index:d,isInline:!1,renderNode:n,children:f.join("")})}function o(u){const{markDef:d,markType:f,markKey:h}=u,m=e.marks[f]||e.unknownMark,g=u.children.map((y,x)=>n({node:y,index:x,isInline:!0}));return m===e.unknownMark&&t(LWt(f),{nodeType:"mark",type:f}),m({text:cOe(u),value:d,markType:f,markKey:h,renderNode:n,children:g.join("")})}function a(u,d,f){const h=Qce({node:u,index:d,isInline:f,renderNode:n}),m=oV(h,EWt),g=m.node.style||"normal",y=(typeof e.block=="function"?e.block:e.block[g])||e.unknownBlockStyle;return y===e.unknownBlockStyle&&t(NWt(g),{nodeType:"blockStyle",type:g}),y(gm(gm({},m),{},{value:m.node,renderNode:n}))}function s(u){if(u.text===`
`){const d=e.hardBreak;return d?d():`
`}return e.escapeHTML(u.text)}function l(u,d,f){const h=e.types[u._type];return h||t(dOe(u._type),{nodeType:"block",type:u._type}),(h||e.unknownType)({value:u,isInline:f,index:d,renderNode:n})}return n};function Qce(e){const{node:t,index:n,isInline:r,renderNode:i}=e,o=xWt(t).map((a,s)=>i({node:a,isInline:!0,index:s,renderNode:i}));return{_key:t._key||`block-${n}`,children:o.join(""),index:n,isInline:r,node:t}}function QWt(){}var eGt=zY,tGt=hw,nGt=xM,eue=Lc,rGt=Wy;function iGt(e,t,n,r){if(!eue(e))return e;t=tGt(t,e);for(var i=-1,o=t.length,a=o-1,s=e;s!=null&&++i<o;){var l=rGt(t[i]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(i!=a){var d=s[l];u=r?r(d,l,s):void 0,u===void 0&&(u=eue(d)?d:nGt(t[i+1])?[]:{})}eGt(s,l,u),s=s[l]}return e}var oGt=iGt,aGt=oE,sGt=oGt,lGt=hw;function cGt(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=aGt(e,a);n(s,a)&&sGt(o,lGt(a,e),s)}return o}var fOe=cGt,uGt=fOe,dGt=KEe;function fGt(e,t){return uGt(e,t,function(n,r){return dGt(e,r)})}var hGt=fGt,pGt=hGt,mGt=qY,gGt=mGt(function(e,t){return e==null?{}:pGt(e,t)}),yGt=gGt;const Xe=Ue(yGt),vGt=e=>e==null?[]:Array.isArray(e)?e:typeof e=="string"?[e]:typeof e[Symbol.iterator]=="function"?[...e]:[e];var bGt=vGt;const i0=Ue(bGt);function xGt(e){return e===void 0}var wGt=xGt;const eZ=Ue(wGt);var CGt="Expected a function";function kGt(e){if(typeof e!="function")throw new TypeError(CGt);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var hOe=kGt;const SGt=Ue(hOe);var EGt=Gu,_Gt=gg,TGt=fOe,AGt=HY;function jGt(e,t){if(e==null)return{};var n=EGt(AGt(e),function(r){return[r]});return t=_Gt(t),TGt(e,n,function(r,i){return t(r,i[0])})}var IGt=jGt,$Gt=gg,DGt=hOe,OGt=IGt;function MGt(e,t){return OGt(e,DGt($Gt(t)))}var PGt=MGt;const tZ=Ue(PGt);var RGt=bo;function FGt(){if(!arguments.length)return[];var e=arguments[0];return RGt(e)?e:[e]}var LGt=FGt;const Lw=Ue(LGt);var NGt=Gu,BGt=gg,VGt=ZEe,zGt=bo;function UGt(e,t){var n=zGt(e)?NGt:VGt;return n(e,BGt(t))}var HGt=UGt,WGt=cw,GGt=HGt;function KGt(e,t){return WGt(GGt(e,t),1)}var YGt=KGt;const pOe=Ue(YGt);var qGt=Gu,ZGt=UY,XGt=bo,JGt=Ry,QGt=TEe,eKt=Wy,tKt=Uc;function nKt(e){return XGt(e)?qGt(e,eKt):JGt(e)?[e]:ZGt(QGt(tKt(e)))}var rKt=nKt;const mOe=Ue(rKt);var iKt=KY,oKt=1,aKt=4;function sKt(e){return iKt(e,oKt|aKt)}var lKt=sKt;const cKt=Ue(lKt),rs=["jsonType","type","name","title","description","options","fieldsets","validation","readOnly","hidden","components","diffComponent","initialValue","deprecated"],_n="_internal_ownProps",uKt="all-fields";function pn(e,t,n,r={}){return Object.defineProperty(e,t,{configurable:!0,enumerable:r.enumerable!==!1,get(){const i=n();return Object.defineProperty(e,t,{value:i,writable:!!r.writable,configurable:!1}),i}}),e}function Fr(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!1,value:n})}const tue=[...rs],tF={name:"any",type:null,jsonType:"any"},dKt={get(){return tF},extend(e,t){const n={...e,of:e.of.map(o=>({name:o.name,type:t(Po(o,"name"))}))},r=Object.assign(Xe(tF,tue),n,{type:tF});return Fr(r,_n,n),i(r);function i(o){return{get(){return o},extend:a=>{if(a.of)throw new Error('Cannot override `of` property of subtypes of "array"');const s=Xe(a,tue),l=Object.assign({},o,s,{type:o});return Fr(l,_n,s),i(l)}}}}},nue=[...rs],nF={name:"array",type:null,jsonType:"array",of:[]},fKt={get(){return nF},extend(e,t){const n=Object.assign(Xe(nF,nue),e,{type:nF});return pn(n,"of",()=>e.of.map(i=>t.cached(i))),pn(n,_n,()=>({...e,of:n.of}),{enumerable:!1,writable:!1}),r(n);function r(i){return{get(){return i},extend:o=>{if(o.of)throw new Error('Cannot override `of` property of subtypes of "array"');const a=Xe(o,nue),s=Object.assign({},i,a,{type:i});return Fr(s,_n,a),r(s)}}}}};function hKt(e){e.options&&e.options.preview&&console.warn(`Heads up! The preview config is no longer defined on "options", but instead on the type/field itself.
Please move {options: {preview: ...}} to {..., preview: ...} on the type/field definition of "${e.name}".
`)}function pKt(e){const t=e.preview||(e.options||{}).preview;t&&"fields"in t&&console.warn(`Heads up! "preview.fields" should be renamed to "preview.select". Please update the preview config for "${e.name}".
`)}function mKt(e){for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function aV(e,t,n){if(n>t.maxDepth)return"...";if(Array.isArray(e)){if(e.length===0)return"[empty]";const i=Math.max(e.length-t.maxBreadth),o=e.slice(0,t.maxBreadth).map((a,s)=>aV(a,t,n+1)).concat(i>0?`+${i}`:[]).join(", ");return n===0?o:`[${o}]`}if(typeof e=="object"&&e!==null){const i=Object.keys(e).filter(a=>!t.ignoreKeys.includes(a)&&typeof e[a]<"u");if(mKt(Xe(e,i)))return"{empty}";const o=i.slice(0,t.maxBreadth).map(a=>`${a}: ${aV(e[a],t,n+1)}`).join(", ");return n===0?o:`{${o}}`}const r=String(e);return r===""?'""':r}function gKt(e,t={}){const n={maxDepth:"maxDepth"in t?t.maxDepth:2,maxBreadth:"maxBreadth"in t?t.maxBreadth:2,ignoreKeys:"ignoreKeys"in t?t.ignoreKeys:[]};return aV(e,n,0)}const yKt={maxEntries:2,maxDepth:2,maxBreadth:2,ignoreKeys:["_id","_type","_key","_ref"]};function vKt(e){return t=>({title:gKt(Xe(t,e),yKt)})}function bKt(e){return e.type==="array"&&e.of&&e.of.some(t=>t.type==="block")||!1}const gOe=["title","name","label","heading","header","caption"],xKt=["description",...gOe];function yOe(e,t){return i0(e.to||[]).some(n=>n.type===t)}function rue(e){return yOe(e,"sanity.imageAsset")}function wKt(e){const t=e.fields||[],n=t.find(rue);if(n)return n.name;const r=t.find(i=>(i.fields||[]).some(rue));return r?`${r.name}.asset`:void 0}function iue(e){return yOe(e,"sanity.fileAsset")}function CKt(e){const t=e.fields||[],n=t.find(iue);if(n)return n.name;const r=t.find(i=>(i.fields||[]).some(iue));return r?`${r.name}.asset`:void 0}function kKt(e){const t={fields:[],...e},n=t.fields.filter(l=>l.type==="string").map(l=>l.name),r=t.fields.filter(bKt).map(l=>l.name);let i=gOe.find(l=>n.includes(l)||r.includes(l)),o=xKt.find(l=>l!==i&&(n.includes(l)||r.includes(l)));i||(i=n[0]||r[0],o=n[1]||r[1]);const a=t.fields.find(l=>l.type==="image"),s=wKt(t);if(!i){const l=CKt(t);l&&(i=`${l}.originalFilename`),s&&(i=`${s}.originalFilename`)}if(!i&&!s){const l=t.fields.map(u=>u.name);return{select:l.reduce((u,d)=>(u[d]=d,u),{}),prepare:vKt(l)}}return{select:tZ({title:i,description:o,media:a?a.name:s},eZ)}}function SKt(e){return e.reduce((t,n)=>(t[n]=n,t),{})}function EKt(e){if(!e)return e;const t=e.select||e.fields||{};return Array.isArray(t)?{...Xe(e,["prepare","component"]),select:SKt(t)}:{...Xe(e,["prepare","component"]),select:t}}function HE(e){return function(){return hKt(e),pKt(e),EKt(e.preview||(e.options||{}).preview)||kKt(e)}}const _Kt={type:"object",name:"link",title:"Link",i18nTitleKey:"inputs.portable-text.annotation.link",options:{modal:{type:"popover"}},fields:[{name:"href",type:"url",title:"Link",description:"A valid web, email, phone, or relative link.",validation:e=>e.uri({scheme:["http","https","tel","mailto"],allowRelative:!0})}]},TKt={type:"text",name:"text",title:"Text"},AKt={name:"marks",type:"array",of:[{type:"string"}],title:"Marks"},oue={bullet:{title:"Bulleted list",value:"bullet",i18nTitleKey:"inputs.portable-text.list-type.bullet"},numbered:{title:"Numbered list",value:"number",i18nTitleKey:"inputs.portable-text.list-type.number"}},jKt=[oue.bullet,oue.numbered],$f={normal:{title:"Normal",value:"normal",i18nTitleKey:"inputs.portable-text.style.normal"},h1:{title:"Heading 1",value:"h1",i18nTitleKey:"inputs.portable-text.style.h1"},h2:{title:"Heading 2",value:"h2",i18nTitleKey:"inputs.portable-text.style.h2"},h3:{title:"Heading 3",value:"h3",i18nTitleKey:"inputs.portable-text.style.h3"},h4:{title:"Heading 4",value:"h4",i18nTitleKey:"inputs.portable-text.style.h4"},h5:{title:"Heading 5",value:"h5",i18nTitleKey:"inputs.portable-text.style.h5"},h6:{title:"Heading 6",value:"h6",i18nTitleKey:"inputs.portable-text.style.h6"},blockquote:{title:"Quote",value:"blockquote",i18nTitleKey:"inputs.portable-text.style.quote"}},IKt=[$f.normal,$f.h1,$f.h2,$f.h3,$f.h4,$f.h5,$f.h6,$f.blockquote],$Kt={title:"Strong",value:"strong",i18nTitleKey:"inputs.portable-text.decorator.strong"},DKt={title:"Italic",value:"em",i18nTitleKey:"inputs.portable-text.decorator.emphasis"},OKt={title:"Code",value:"code",i18nTitleKey:"inputs.portable-text.decorator.code"},MKt={title:"Underline",value:"underline",i18nTitleKey:"inputs.portable-text.decorator.underline"},PKt={title:"Strike",value:"strike-through",i18nTitleKey:"inputs.portable-text.decorator.strike-through"},UC={strong:$Kt,em:DKt,code:OKt,underline:MKt,strikeThrough:PKt},RKt=[UC.strong,UC.em,UC.code,UC.underline,UC.strikeThrough],aue=["type","name","title","jsonType","description","options","fieldsets","icon"],rF={name:"block",title:"Block",type:null,jsonType:"object"},FKt={},LKt={get(){return rF},extend(e,t){const n={...e.options||FKt},{marks:r,styles:i,lists:o,of:a,...s}=e,l=zKt(r,a),u=BKt(i),d=VKt(o),f={name:"markDefs",title:"Mark definitions",type:"array",of:(r==null?void 0:r.annotations)||vOe},h=[l,u,d,f,{name:"level",title:"Indentation",type:"number"}].concat(e.fields||[]),m={...s,options:n},g=Object.assign(Xe(rF,aue),m,{type:rF});return pn(g,"fields",()=>h.map(x=>t.cachedField(x))),pn(g,"preview",HE(e)),pn(g,_n,()=>({...m,fields:g.fields,preview:g.preview}),{enumerable:!1,writable:!1}),y(g);function y(x){return{get(){return x},extend:b=>{if(b.fields)throw new Error('Cannot override `fields` of subtypes of "block"');const v=Xe(b,aue),w=Object.assign({},x,v,{type:x});return Fr(w,_n,v),y(w)}}}}};function NKt(e){return e.some(t=>t.value==="normal")?e:[$f.normal,...e]}function BKt(e){return{name:"style",title:"Style",type:"string",options:{list:NKt(e||IKt)}}}function VKt(e){return{name:"listItem",title:"List type",type:"string",options:{list:e||jKt}}}const vOe=[_Kt];function zKt(e,t=[]){return{name:"children",title:"Content",type:"array",of:[{type:"span",fields:[TKt,AKt],annotations:e&&e.annotations?e.annotations:vOe,decorators:e&&e.decorators?e.decorators:RKt},...t.filter(n=>n.type!=="span")]}}const sue=["type","name","title","jsonType","description","options","fieldsets","icon"],iF={name:"span",title:"Span",type:null,jsonType:"object"},UKt={name:"marks",title:"Marks",type:"array",of:[{type:"string"}]},HKt={name:"text",title:"Text",type:"string"},WKt={},GKt={get(){return iF},extend(e,t){const n={...e.options||WKt},{annotations:r=[],marks:i=[]}=e,o=[UKt,HKt],a={...e,options:n},s=Object.assign(Xe(iF,sue),a,{type:iF});return pn(s,"fields",()=>o.map(u=>t.cachedField(u))),pn(s,"annotations",()=>r.map(t)),pn(s,"marks",()=>i.map(t)),pn(s,"preview",HE(e)),pn(s,_n,()=>({...a,fields:s.fields,annotations:s.annotations,marks:s.marks,preview:s.preview}),{enumerable:!1,writable:!1}),l(s);function l(u){return{get(){return u},extend:d=>{if(d.fields)throw new Error('Cannot override `fields` of subtypes of "span"');const f=Xe(d,sue),h=Object.assign({},u,f,{type:u});return Fr(h,_n,f),l(h)}}}}};var kg={prepare:e=>({title:String(e)})};const lue=[...rs],oF={name:"boolean",title:"Boolean",type:null,jsonType:"boolean"},KKt={get(){return oF},extend(e){const t={...e,preview:kg},n=Object.assign(Xe(oF,lue),t,{type:oF});return Fr(n,_n,t),r(n);function r(i){return{get(){return i},extend:o=>{const a=Xe(o,lue),s=Object.assign({},i,a,{type:i});return Fr(s,_n,a),r(s)}}}}},cue=5,aF={},bOe=e=>(aF[e]||(aF[e]=Symbol(`__cachedStringFields_${e}`)),aF[e]),YKt=e=>e.type&&e.type.name==="reference",qKt=["style","list"],nZ=e=>e.name==="block"||e.type&&nZ(e.type),ZKt=e=>e.jsonType==="array"&&Array.isArray(e.of)&&e.of.some(nZ);function PP(e,t,n,r=[],i){if(i<0)return n;const o=t(n,e,r);return e.jsonType==="array"&&Array.isArray(e.of)?XKt(e,t,o,r,i):e.jsonType==="object"&&Array.isArray(e.fields)&&!YKt(e)?JKt(e,t,o,r,i):o}function XKt(e,t,n,r,i){return e.of.reduce((o,a)=>PP(a,t,o,r,i-1),n)}function JKt(e,t,n,r,i){const o=nZ(e);return e.fields.reduce((a,s)=>{if(o&&qKt.includes(s.name))return a;const l=[s.name].concat(s.type.jsonType==="array"?[[]]:[]);return PP(s.type,t,a,r.concat(l),i-1)},n)}const xOe=[{weight:1,path:["_id"]},{weight:1,path:["_type"]}],uue={title:10,subtitle:5,description:1.5};function wOe(e,t){var i;const n=(i=e==null?void 0:e.preview)==null?void 0:i.select;if(!n)return[];const r=[];for(const o of Object.keys(n)){if(!(o in uue))continue;const a=n[o].split(".");t>-1&&a.length-1>t||r.push({weight:uue[o],path:a})}return r}function QKt(e,t){const n=bOe(t);return e[n]||(e[n]=Xd([...xOe,...wOe(e,t),...tYt(e,t).map(r=>({weight:1,path:r})),...nYt(e,t).map(r=>({weight:1,path:r,mapWith:"pt::text"}))],r=>r.path.join("."))),e[n]}function eYt(e,t){const n=bOe(t);return e[n]||(e[n]=Xd([...xOe,...wOe(e,t)],r=>r.path.join("."))),e[n]}function tYt(e,t){return PP(e,(n,r,i)=>r.jsonType==="string"?[...n,i]:n,[],[],t)}function nYt(e,t){return PP(e,(n,r,i)=>ZKt(r)?[...n,i]:n,[],[],t)}function rYt(e,t){return eYt(e,COe(t))}function iYt(e,t){return QKt(e,COe(t))}function COe(e){return!DY(e)||e<1||e>cue?cue-1:e-1}const oYt={name:"_ref",title:"Referenced document ID",type:"string"},aYt={name:"_weak",title:"Weak reference marker",type:"boolean"},sYt={name:"_dataset",title:"Target dataset",type:"string"},lYt={name:"_projectId",title:"Target project ID",type:"string",hidden:!0},cYt=[oYt,aYt,sYt,lYt],due=[...rs],sF={name:"crossDatasetReference",type:null,jsonType:"object"};function uYt(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),i=e[n-1];return`${r.join(", ")} ${t} ${i}`}function dYt(e){return!e.to||e.to.length===0?"Cross dataset Reference":`Cross dataset reference to ${uYt(i0(e.to).map(t=>t.title||hp(t.type)),"or").toLowerCase()}`}const fYt={get(){return sF},extend(e,t){if(!e.to)throw new Error(`Missing "to" field in cross dataset reference definition. Check the type ${e.name}`);const n=Object.assign(Xe(sF,due),e,{type:sF});return pn(n,"fields",()=>cYt.map(i=>t.cachedField(i))),pn(n,"to",()=>i0(e.to).map(i=>({...i,__experimental_search:rYt(i)}))),pn(n,"title",()=>e.title||dYt(n)),pn(n,_n,()=>({...e,fields:n.fields,to:n.to,title:n.title}),{enumerable:!1,writable:!1}),r(n);function r(i){return{get(){return i},extend:o=>{if(o.of)throw new Error('Cannot override `of` of subtypes of "reference"');const a=Xe(o,due),s=Object.assign({},i,a,{type:i});return Fr(s,_n,a),r(s)}}}}},fue=[...rs],lF={name:"date",title:"Datetime",type:null,jsonType:"string"},hYt={get(){return lF},extend(e){const t={...e,preview:kg},n=Object.assign(Xe(lF,fue),t,{type:lF});return Fr(n,_n,t),r(n);function r(i){return{get(){return i},extend:o=>{const a=Xe(o,fue),s=Object.assign({},i,a,{type:i});return Fr(s,_n,a),r(s)}}}}},hue=[...rs],cF={name:"datetime",title:"Datetime",type:null,jsonType:"string"},pYt={get(){return cF},extend(e){const t={...e,preview:kg},n=Object.assign(Xe(cF,hue),t,{type:cF});return Fr(n,_n,t),r(n);function r(i){return{get(){return i},extend:o=>{const a=Xe(o,hue),s=Object.assign({},i,a,{type:i});return Fr(s,_n,a),r(s)}}}}},mYt=["title","name","label","heading","header","caption","description"],gYt=["string","boolean","number"],pue=e=>gYt.includes(e.type);function yYt(e){let t=mYt.filter(n=>e.fields.some(r=>pue(r)&&r.name===n));return t.length===0&&(t=e.fields.filter(pue).map(n=>n.name)),t.map(n=>({name:n,i18n:{title:{key:`default-orderings.${n}`,ns:"studio"}},title:hp(Vt(n)),by:[{field:n,direction:"asc"}]}))}function mue(e){if(!Array.isArray(e))throw new Error("The search config of a document type must be an array of search config objects");return e.map(t=>{if(t==="defaults")return t;if(!kr(t))throw new Error("Search config must be an object of {path: string, weight: number}");return{weight:"weight"in t?t.weight:1,path:mOe(t.path),mapWith:typeof t.mapWith=="string"?t.mapWith:void 0}})}const uF=[...rs,"orderings","__experimental_search","blockEditor","icon"],kOe={get(){return{name:"object",title:"Object",type:null,jsonType:"object"}},extend(e,t){const n={fields:[],...e},r={...n.options},i={...n,title:n.title||(n.name?Vt(n.name):"Object"),options:r,orderings:n.orderings||yYt(n),fields:n.fields.map(s=>t.cachedObjectField(s))},o=Object.assign(Xe(this.get(),uF),i,{type:this.get()});return pn(o,"fieldsets",()=>RP(n,o.fields)),pn(o,"groups",()=>vYt(n,o.fields)),pn(o,"preview",HE(n)),pn(o,_n,()=>({...i,preview:o.preview}),{enumerable:!1,writable:!1}),pn(o,"__experimental_search",()=>{const s=n.__experimental_search?mue(n.__experimental_search):null;return s?s.map(l=>l==="defaults"?mue(n):l):iYt(o)},{enumerable:!1}),a(o);function a(s){return{get(){return s},extend:l=>{if(l.fields)throw new Error('Cannot override `fields` of subtypes of "object"');const u=Xe(l,uF);u.title=l.title||n.title||(n.name?Vt(n.name):"Object");const d=Object.assign({},s,Xe(l,uF),{type:s});return pn(d,"__experimental_search",()=>s.__experimental_search),Fr(d,_n,u),a(d)}}}}};function RP(e,t){const n={};for(const i of e.fieldsets||[]){if(n[i.name])throw new Error(`Duplicate fieldset name "${i.name}" found for type '${e.title?e.title:Vt(e.name)}'`);n[i.name]={title:Vt(i.name),...i,fields:[]}}const r=new Set;for(const i of t){if(!i.fieldset){r.add({single:!0,field:i});continue}const o=n[i.fieldset];if(!o)throw new Error(`Fieldset '${i.fieldset}' is not defined in schema for type '${e.name}'`);o.fields.push(i),r.add(o)}return Array.from(r)}function vYt(e,t){const n={};let r=0;for(const i of e.groups||[]){if(n[i.name])throw new Error(`Duplicate group name "${i.name}" found for type '${e.title?e.title:Vt(e.name)}'`);if(n[i.name]={title:Vt(i.name),...i,fields:[]},i.default&&++r>1)throw new Error(`More than one field group defined as default for type '${e.title?e.title:Vt(e.name)}' - only 1 is supported`)}return t.forEach(i=>{const o=Lw(i.group||[]);o.length!==0&&o.forEach(a=>{const s=n[a];if(!s)throw new Error(`Field group '${a}' is not defined in schema for type '${e.title?e.name:Vt(e.name)}'`);s.fields.push(i)})}),pOe(n).filter(i=>i.fields.length>0||i.name===uKt)}const bYt={name:"document",title:"Document",type:null,jsonType:"object"},xYt={get(){return bYt},extend:kOe.extend},gue=[...rs],DS={name:"email",title:"Email",type:null,jsonType:"string"};pn(DS,_n,()=>({...DS,validation:e=>e.email()}),{enumerable:!1});const wYt={get(){return DS},extend(e){const t={...e,preview:kg},n=Object.assign(Xe(DS,gue),t,{type:DS});return Fr(n,_n,t),r(n);function r(i){return{get(){return i},extend:o=>{const a=Xe(o,gue),s=Object.assign({},i,a,{type:i});return Fr(s,_n,a),r(s)}}}}},CYt={name:"asset",type:"reference",to:{type:"sanity.fileAsset"}},kYt={name:"media",type:"globalDocumentReference",hidden:!0,to:[{type:"sanity.asset"}]},yue=[...rs],JT={name:"file",title:"File",type:null,jsonType:"object"},SYt={accept:""},EYt={get(){return JT},extend(e,t){const n={...e.options||SYt},r=[CYt,kYt,...e.fields||[]],i={...e,fields:r},o=Object.assign(Xe(JT,yue),i,{type:JT,title:i.title||(i.name?Vt(i.name):JT.title),options:n,fields:i.fields.map(s=>{const{name:l,fieldset:u,...d}=s,f={name:l,fieldset:u,isCustomized:!!e.fields};return pn(f,"type",()=>t({...d,title:s.title||Vt(l)}))})});return pn(o,"fieldsets",()=>RP(i,o.fields)),pn(o,"preview",HE(Object.assign({},i,{fields:r}))),pn(o,_n,()=>({...i,options:n,fields:o.fields,title:o.title,fieldsets:o.fieldsets,preview:o.preview}),{enumerable:!1,writable:!1}),a(o);function a(s){return{get(){return s},extend:l=>{if(l.fields)throw new Error('Cannot override `fields` of subtypes of "file"');const u=Xe(l,yue),d=Object.assign({},s,u,{type:s});return Fr(d,_n,u),a(d)}}}}},_Yt={name:"_ref",title:"Referenced document ID",type:"string"},TYt={name:"_weak",title:"Weak reference",type:"boolean"},AYt=[_Yt,TYt],vue=[...rs],dF={name:"globalDocumentReference",title:"Global Document Reference",type:null,jsonType:"object"};function jYt(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),i=e[n-1];return`${r.join(", ")} ${t} ${i}`}function IYt(e){return!e.to||e.to.length===0?"Global Document Reference":`Global Document Reference to ${jYt(i0(e.to).map(t=>t.title),"or").toLowerCase()}`}const $Yt={get(){return dF},extend(e,t){if(!e.to)throw new Error(`Missing "to" field in global document reference definition. Check the type ${e.name}`);const n=Object.assign(Xe(dF,vue),e,{type:dF});return pn(n,"fields",()=>AYt.map(i=>t.cachedField(i))),pn(n,"to",()=>i0(e.to).map(i=>({...i}))),pn(n,"title",()=>e.title||IYt(n)),pn(n,_n,()=>({...e,fields:n.fields,to:n.to,title:n.title}),{enumerable:!1,writable:!1}),r(n);function r(i){return{get(){return i},extend:o=>{if(o.of)throw new Error('Cannot override `of` of subtypes of "globalDocumentReference"');const a=Xe(o,vue),s=Object.assign({},i,a,{type:i});return Fr(s,_n,a),r(s)}}}}},DYt={name:"asset",type:"reference",to:[{type:"sanity.imageAsset"}]},OYt={name:"hotspot",type:"sanity.imageHotspot"},MYt={name:"crop",type:"sanity.imageCrop"},PYt={name:"media",type:"globalDocumentReference",hidden:!0,to:[{type:"sanity.asset"}]},bue=[...rs],fF={name:"image",title:"Image",type:null,jsonType:"object"},RYt={},FYt={get(){return fF},extend(e,t){const n={...e.options||RYt};let r=[OYt,MYt];n.hotspot||(r=r.map(l=>({...l,hidden:!0})));const i=[DYt,PYt,...r,...e.fields||[]],o={...e,fields:i},a=Object.assign(Xe(this.get(),bue),o,{type:fF,title:o.title||(o.name?Vt(o.name):fF.title),options:n,fields:o.fields.map(l=>{const{name:u,fieldset:d,...f}=l,h={name:u,fieldset:d,isCustomized:!!e.fields};return pn(h,"type",()=>t({...f,title:l.title||Vt(u)}))})});return pn(a,"fieldsets",()=>RP(o,a.fields)),pn(a,"preview",HE(Object.assign({},o,{fields:i}))),pn(a,_n,()=>({...o,options:n,fields:a.fields,title:a.title,fieldsets:a.fieldsets,preview:a.preview}),{enumerable:!1,writable:!1}),s(a);function s(l){return{get(){return l},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "image"');const d=Xe(u,bue),f=Object.assign({},l,d,{type:l});return Fr(f,_n,d),s(f)}}}}},xue=[...rs],hF={name:"number",title:"Number",type:null,jsonType:"number"},LYt={get(){return hF},extend(e){const t={...e,preview:kg},n=Object.assign(Xe(hF,xue),t,{type:hF});return Fr(n,_n,t),r(n);function r(i){return{get(){return i},extend:o=>{const a=Xe(o,xue),s=Object.assign({},i,a,{type:i});return Fr(s,_n,a),r(s)}}}}},NYt={name:"_ref",title:"Referenced document ID",type:"string"},BYt={name:"_weak",title:"Weak reference",type:"boolean"},VYt=[NYt,BYt],wue=[...rs],pF={name:"reference",title:"Reference",type:null,jsonType:"object"};function zYt(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),i=e[n-1];return`${r.join(", ")} ${t} ${i}`}function UYt(e){return!e.to||e.to.length===0?"Reference":`Reference to ${zYt(i0(e.to).map(t=>t.title),"or").toLowerCase()}`}const HYt={get(){return pF},extend(e,t){if(!e.to)throw new Error(`Missing "to" field in reference definition. Check the type ${e.name}`);const n=Object.assign(Xe(pF,wue),e,{type:pF});return pn(n,"fields",()=>VYt.map(i=>t.cachedField(i))),pn(n,"fieldsets",()=>RP(e,n.fields)),pn(n,"to",()=>i0(e.to).map(i=>t(i))),pn(n,"title",()=>e.title||UYt(n)),pn(n,_n,()=>({...e,fields:n.fields,fieldsets:n.fieldsets,to:n.to,title:n.title}),{enumerable:!1,writable:!1}),r(n);function r(i){return{get(){return i},extend:o=>{if(o.of)throw new Error('Cannot override `of` of subtypes of "reference"');const a=Xe(o,wue),s=Object.assign({},i,a,{type:i});return Fr(s,_n,a),r(s)}}}}},Cue=[...rs],mF={name:"string",title:"String",type:null,jsonType:"string"},WYt={get(){return mF},extend(e){const t={...e,preview:kg},n=Object.assign(Xe(mF,Cue),t,{type:mF});return Fr(n,_n,t),r(n);function r(i){return{get(){return i},extend:o=>{const a=Xe(o,Cue),s=Object.assign({},i,a,{type:i});return Fr(s,_n,a),r(s)}}}}},kue=[...rs,"rows"],gF={name:"text",title:"Text",type:null,jsonType:"string"},GYt={get(){return gF},extend(e){const t={...e,preview:kg},n=Object.assign(Xe(gF,kue),t,{type:gF});return Fr(n,_n,t),r(n);function r(i){return{get(){return i},extend:o=>{const a=Xe(o,kue),s=Object.assign({},i,a,{type:i});return Fr(s,_n,a),r(s)}}}}},Sue=[...rs],yF={name:"url",title:"Url",type:null,jsonType:"string"},KYt={get(){return yF},extend(e){const t={...e,preview:kg},n=Object.assign(Xe(yF,Sue),t,{type:yF});return Fr(n,_n,t),r(n);function r(i){return{get(){return i},extend:o=>{const a=Xe(o,Sue),s=Object.assign({},i,a,{type:i});return Fr(s,_n,a),r(s)}}}}};var Eue=Object.freeze({__proto__:null,any:dKt,array:fKt,block:LKt,boolean:KKt,crossDatasetReference:fYt,date:hYt,datetime:pYt,document:xYt,email:wYt,file:EYt,globalDocumentReference:$Yt,image:FYt,number:LYt,object:kOe,reference:HYt,span:GKt,string:WYt,text:GYt,url:KYt});function YYt(e){const t=Object.create(null);let n;e.parent?(Object.assign(t,e.parent._registry),n=[]):(Object.assign(t,Eue),n=Object.keys(Eue));const r=e.types.reduce((f,h)=>{if(f[h.name])throw new Error(`Duplicate type name added to schema: ${h.name}`);return f[h.name]=h,f},{}),i=new Map,o=new Map,a=new Map,s=Object.assign(u,{cached(f){let h=i.get(f);return h||(h=u(f),i.set(f,h)),h},cachedField(f){let h=o.get(f);if(!h){const{name:m,...g}=f;h={name:m,type:u(g)},o.set(f,h)}return h},cachedObjectField(f){let h=a.get(f);if(!h){const{name:m,fieldset:g,group:y,...x}=f;h={name:m,group:y,fieldset:g},pn(h,"type",()=>u({...x,title:f.title||Vt(m)})),a.set(f,h)}return h}});return e.types.forEach(d),{registry:t,localTypeNames:n};function l(f){if(!t[f]){if(!r[f])throw new Error(`Unknown type: ${f}`);d(r[f])}}function u(f){return l(f.type),t[f.type].extend(f,s).get()}function d(f){l(f.type),!t[f.name]&&(n.push(f.name),t[f.name]=t[f.type].extend(f,u))}}var N5,B5;let qYt=(B5=class{constructor(t){Z(this,"_original");Z(this,"_registry");Bn(this,N5,void 0);this._original=t;const{registry:n,localTypeNames:r}=YYt(t);this._registry=n,Mn(this,N5,r)}static compile(t){return new B5(t)}get name(){return this._original.name}get parent(){return this._original.parent}get(t){return this._registry[t]&&this._registry[t].get()}has(t){return t in this._registry}getTypeNames(){return Object.keys(this._registry)}getLocalTypeNames(){return je(this,N5)}},N5=new WeakMap,B5);const SOe=qYt;var ZYt=p$e;function XYt(e){var t=ZYt(e),n=t%1;return t===t?n?t-n:t:0}var JYt=XYt,QYt=zje,eqt=gg,tqt=JYt,nqt=Math.max;function rqt(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:tqt(n);return i<0&&(i=nqt(r+i,0)),QYt(e,eqt(t),i)}var EOe=rqt;const rZ=Ue(EOe);var iqt=KY,oqt=4;function aqt(e){return iqt(e,oqt)}var sqt=aqt;const _Oe=Ue(sqt);function WE(e){const[t,n]=e;return[t,n]}function _ue(e,t){let n=e,r=t;const i=n.length,o=r.length;if(i===0||o===0)return 0;i>o?n=n.substring(i-o):i<o&&(r=r.substring(0,i));const a=Math.min(i,o);if(n===r)return a;let s=0,l=1;for(let u=0;u!==-1;){const d=n.substring(a-l);if(u=r.indexOf(d),u===-1)return s;l+=u,(u===0||n.substring(a-l)===r.substring(0,l))&&(s=l,l++)}return s}function iZ(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),i=r,o=0;for(;n<i;)e.substring(o,i)===t.substring(o,i)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return i}function FP(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),i=r,o=0;for(;n<i;)e.substring(e.length-i,e.length-o)===t.substring(t.length-i,t.length-o)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return i}function lqt(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function sV(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function cqt(e,t,n){const r=e.length,i=t.length,o=Math.ceil((r+i)/2),a=o,s=2*o,l=new Array(s),u=new Array(s);for(let x=0;x<s;x++)l[x]=-1,u[x]=-1;l[a+1]=0,u[a+1]=0;const d=r-i,f=d%2!==0;let h=0,m=0,g=0,y=0;for(let x=0;x<o&&!(Date.now()>n);x++){for(let b=-x+h;b<=x-m;b+=2){const v=a+b;let w;b===-x||b!==x&&l[v-1]<l[v+1]?w=l[v+1]:w=l[v-1]+1;let C=w-b;for(;w<r&&C<i&&e.charAt(w)===t.charAt(C);)w++,C++;if(l[v]=w,w>r)m+=2;else if(C>i)h+=2;else if(f){const k=a+d-b;if(k>=0&&k<s&&u[k]!==-1){const S=r-u[k];if(w>=S)return Tue(e,t,w,C,n)}}}for(let b=-x+g;b<=x-y;b+=2){const v=a+b;let w;b===-x||b!==x&&u[v-1]<u[v+1]?w=u[v+1]:w=u[v-1]+1;let C=w-b;for(;w<r&&C<i&&e.charAt(r-w-1)===t.charAt(i-C-1);)w++,C++;if(u[v]=w,w>r)y+=2;else if(C>i)g+=2;else if(!f){const k=a+d-b;if(k>=0&&k<s&&l[k]!==-1){const S=l[k],E=a+S-k;if(w=r-w,S>=w)return Tue(e,t,S,E,n)}}}}return[[vr,e],[Rr,t]]}function Tue(e,t,n,r,i){const o=e.substring(0,n),a=t.substring(0,r),s=e.substring(n),l=t.substring(r),u=wy(o,a,{checkLines:!1,deadline:i}),d=wy(s,l,{checkLines:!1,deadline:i});return u.concat(d)}function uqt(e,t,n=1){if(n<=0)return null;const r=e.length>t.length?e:t,i=e.length>t.length?t:e;if(r.length<4||i.length*2<r.length)return null;const o=Aue(r,i,Math.ceil(r.length/4)),a=Aue(r,i,Math.ceil(r.length/2));let s;if(o&&a)s=o[4].length>a[4].length?o:a;else{if(!o&&!a)return null;a?o||(s=a):s=o}if(!s)throw new Error("Unable to find a half match.");let l,u,d,f;e.length>t.length?(l=s[0],u=s[1],d=s[2],f=s[3]):(d=s[0],f=s[1],l=s[2],u=s[3]);const h=s[4];return[l,u,d,f,h]}function Aue(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let i=-1,o="",a,s,l,u;for(;(i=t.indexOf(r,i+1))!==-1;){const d=iZ(e.slice(n),t.slice(i)),f=FP(e.slice(0,n),t.slice(0,i));o.length<f+d&&(o=t.slice(i-f,i)+t.slice(i,i+d),a=e.slice(0,n-f),s=e.slice(n+d),l=t.slice(0,i-f),u=t.slice(i+d))}return o.length*2>=e.length?[a||"",s||"",l||"",u||"",o||""]:null}function dqt(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],i=[];for(let o=0;o<r.length;o++)i[o]=t[r.charCodeAt(o)];e[n][1]=i.join("")}}function fqt(e,t){const n=[],r={};n[0]="";function i(l){let u="",d=0,f=-1,h=n.length;for(;f<l.length-1;){f=l.indexOf(`
`,d),f===-1&&(f=l.length-1);let m=l.slice(d,f+1);(r.hasOwnProperty?r.hasOwnProperty(m):r[m]!==void 0)?u+=String.fromCharCode(r[m]):(h===o&&(m=l.slice(d),f=l.length),u+=String.fromCharCode(h),r[m]=h,n[h++]=m),d=f+1}return u}let o=4e4;const a=i(e);o=65535;const s=i(t);return{chars1:a,chars2:s,lineArray:n}}function hqt(e,t,n){let r=e,i=t;const o=fqt(r,i);r=o.chars1,i=o.chars2;const a=o.lineArray;let s=wy(r,i,{checkLines:!1,deadline:n.deadline});dqt(s,a),s=oZ(s),s.push([Xt,""]);let l=0,u=0,d=0,f="",h="";for(;l<s.length;){switch(s[l][0]){case Rr:d++,h+=s[l][1];break;case vr:u++,f+=s[l][1];break;case Xt:if(u>=1&&d>=1){s.splice(l-u-d,u+d),l=l-u-d;const m=wy(f,h,{checkLines:!1,deadline:n.deadline});for(let g=m.length-1;g>=0;g--)s.splice(l,0,m[g]);l+=m.length}d=0,u=0,f="",h="";break;default:throw new Error("Unknown diff operation.")}l++}return s.pop(),s}function pqt(e,t,n){let r;if(!e)return[[Rr,t]];if(!t)return[[vr,e]];const i=e.length>t.length?e:t,o=e.length>t.length?t:e,a=i.indexOf(o);if(a!==-1)return r=[[Rr,i.substring(0,a)],[Xt,o],[Rr,i.substring(a+o.length)]],e.length>t.length&&(r[0][0]=vr,r[2][0]=vr),r;if(o.length===1)return[[vr,e],[Rr,t]];const s=uqt(e,t);if(s){const l=s[0],u=s[1],d=s[2],f=s[3],h=s[4],m=wy(l,d,n),g=wy(u,f,n);return m.concat([[Xt,h]],g)}return n.checkLines&&e.length>100&&t.length>100?hqt(e,t,n):cqt(e,t,n.deadline)}var mqt=Object.defineProperty,jue=Object.getOwnPropertySymbols,gqt=Object.prototype.hasOwnProperty,yqt=Object.prototype.propertyIsEnumerable,Iue=(e,t,n)=>t in e?mqt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vqt=(e,t)=>{for(var n in t||(t={}))gqt.call(t,n)&&Iue(e,n,t[n]);if(jue)for(var n of jue(t))yqt.call(t,n)&&Iue(e,n,t[n]);return e};const vr=-1,Rr=1,Xt=0;function Nw(e,t,n){if(e===null||t===null)throw new Error("Null input. (diff)");const r=wy(e,t,xqt(n||{}));return Cqt(r),r}function wy(e,t,n){let r=e,i=t;if(r===i)return r?[[Xt,r]]:[];let o=iZ(r,i);const a=r.substring(0,o);r=r.substring(o),i=i.substring(o),o=FP(r,i);const s=r.substring(r.length-o);r=r.substring(0,r.length-o),i=i.substring(0,i.length-o);let l=pqt(r,i,n);return a&&l.unshift([Xt,a]),s&&l.push([Xt,s]),l=LP(l),l}function bqt(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+t*1e3}function xqt(e){return vqt({checkLines:!0,deadline:bqt(e.timeout||1)},e)}function QT(e,t,n){return n===1?e+t:t+e}function eA(e,t){return t===1?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function wqt(e,t,n,r){return r===1?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function $ue(e,t,n){const r=n===1?-1:1;let i=null,o=null,a=t+n;for(;a>=0&&a<e.length&&(i===null||o===null);a+=n){const[u,d]=e[a];if(d.length!==0){if(u===Rr){i===null&&(i=a);continue}else if(u===vr){o===null&&(o=a);continue}else if(u===Xt){if(i===null&&o===null){const[f,h]=eA(e[t][1],n);e[t][1]=f,e[a][1]=QT(e[a][1],h,r);return}break}}}if(i!==null&&o!==null&&wqt(e,i,o,n)){const[u,d]=eA(e[i][1],r),[f]=eA(e[o][1],r);e[i][1]=u,e[o][1]=f,e[t][1]=QT(e[t][1],d,n);return}const[s,l]=eA(e[t][1],n);e[t][1]=s,i===null?(e.splice(a,0,[Rr,l]),o!==null&&o>=a&&o++):e[i][1]=QT(e[i][1],l,r),o===null?e.splice(a,0,[vr,l]):e[o][1]=QT(e[o][1],l,r)}function Cqt(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(r.length===0)continue;const i=r[0],o=r[r.length-1];lqt(o)&&n===Xt&&$ue(e,t,1),sV(i)&&n===Xt&&$ue(e,t,-1)}for(let t=0;t<e.length;t++)e[t][1].length===0&&e.splice(t,1)}function oZ(e){let t=e.map(f=>WE(f)),n=!1;const r=[];let i=0,o=null,a=0,s=0,l=0,u=0,d=0;for(;a<t.length;)t[a][0]===Xt?(r[i++]=a,s=u,l=d,u=0,d=0,o=t[a][1]):(t[a][0]===Rr?u+=t[a][1].length:d+=t[a][1].length,o&&o.length<=Math.max(s,l)&&o.length<=Math.max(u,d)&&(t.splice(r[i-1],0,[vr,o]),t[r[i-1]+1][0]=Rr,i--,i--,a=i>0?r[i-1]:-1,s=0,l=0,u=0,d=0,o=null,n=!0)),a++;for(n&&(t=LP(t)),t=TOe(t),a=1;a<t.length;){if(t[a-1][0]===vr&&t[a][0]===Rr){const f=t[a-1][1],h=t[a][1],m=_ue(f,h),g=_ue(h,f);m>=g?(m>=f.length/2||m>=h.length/2)&&(t.splice(a,0,[Xt,h.substring(0,m)]),t[a-1][1]=f.substring(0,f.length-m),t[a+1][1]=h.substring(m),a++):(g>=f.length/2||g>=h.length/2)&&(t.splice(a,0,[Xt,f.substring(0,g)]),t[a-1][0]=Rr,t[a-1][1]=h.substring(0,h.length-g),t[a+1][0]=vr,t[a+1][1]=f.substring(g),a++),a++}a++}return t}const Due=/[^a-zA-Z0-9]/,Oue=/\s/,Mue=/[\r\n]/,kqt=/\n\r?\n$/,Sqt=/^\r?\n\r?\n/;function TOe(e){const t=e.map(i=>WE(i));function n(i,o){if(!i||!o)return 6;const a=i.charAt(i.length-1),s=o.charAt(0),l=a.match(Due),u=s.match(Due),d=l&&a.match(Oue),f=u&&s.match(Oue),h=d&&a.match(Mue),m=f&&s.match(Mue),g=h&&i.match(kqt),y=m&&o.match(Sqt);return g||y?5:h||m?4:l&&!d&&f?3:d||f?2:l||u?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===Xt&&t[r+1][0]===Xt){let i=t[r-1][1],o=t[r][1],a=t[r+1][1];const s=FP(i,o);if(s){const h=o.substring(o.length-s);i=i.substring(0,i.length-s),o=h+o.substring(0,o.length-s),a=h+a}let l=i,u=o,d=a,f=n(i,o)+n(o,a);for(;o.charAt(0)===a.charAt(0);){i+=o.charAt(0),o=o.substring(1)+a.charAt(0),a=a.substring(1);const h=n(i,o)+n(o,a);h>=f&&(f=h,l=i,u=o,d=a)}t[r-1][1]!==l&&(l?t[r-1][1]=l:(t.splice(r-1,1),r--),t[r][1]=u,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}return t}function LP(e){let t=e.map(u=>WE(u));t.push([Xt,""]);let n=0,r=0,i=0,o="",a="",s;for(;n<t.length;)switch(t[n][0]){case Rr:i++,a+=t[n][1],n++;break;case vr:r++,o+=t[n][1],n++;break;case Xt:r+i>1?(r!==0&&i!==0&&(s=iZ(a,o),s!==0&&(n-r-i>0&&t[n-r-i-1][0]===Xt?t[n-r-i-1][1]+=a.substring(0,s):(t.splice(0,0,[Xt,a.substring(0,s)]),n++),a=a.substring(s),o=o.substring(s)),s=FP(a,o),s!==0&&(t[n][1]=a.substring(a.length-s)+t[n][1],a=a.substring(0,a.length-s),o=o.substring(0,o.length-s))),n-=r+i,t.splice(n,r+i),o.length&&(t.splice(n,0,[vr,o]),n++),a.length&&(t.splice(n,0,[Rr,a]),n++),n++):n!==0&&t[n-1][0]===Xt?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,o="",a="";break;default:throw new Error("Unknown diff operation")}t[t.length-1][1]===""&&t.pop();let l=!1;for(n=1;n<t.length-1;)t[n-1][0]===Xt&&t[n+1][0]===Xt&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),l=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),l=!0)),n++;return l&&(t=LP(t)),t}function Eqt(...e){return e.reduce((t,n)=>t+(n?1:0),0)}function NP(e,t=4){let n=e.map(h=>WE(h)),r=!1;const i=[];let o=0,a=null,s=0,l=!1,u=!1,d=!1,f=!1;for(;s<n.length;)n[s][0]===Xt?(n[s][1].length<t&&(d||f)?(i[o++]=s,l=d,u=f,a=n[s][1]):(o=0,a=null),d=!1,f=!1):(n[s][0]===vr?f=!0:d=!0,a&&(l&&u&&d&&f||a.length<t/2&&Eqt(l,u,d,f)===3)&&(n.splice(i[o-1],0,[vr,a]),n[i[o-1]+1][0]=Rr,o--,a=null,l&&u?(d=!0,f=!0,o=0):(o--,s=o>0?i[o-1]:-1,d=!1,f=!1),r=!0)),s++;return r&&(n=LP(n)),n}var _qt=Object.defineProperty,Pue=Object.getOwnPropertySymbols,Tqt=Object.prototype.hasOwnProperty,Aqt=Object.prototype.propertyIsEnumerable,Rue=(e,t,n)=>t in e?_qt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fue=(e,t)=>{for(var n in t||(t={}))Tqt.call(t,n)&&Rue(e,n,t[n]);if(Pue)for(var n of Pue(t))Aqt.call(t,n)&&Rue(e,n,t[n]);return e};const jqt={threshold:.5,distance:1e3};function Iqt(e){return Fue(Fue({},jqt),e)}const $qt=32;function Dqt(e,t,n,r={}){if(t.length>$qt)throw new Error("Pattern too long for this browser.");const i=Iqt(r),o=Oqt(t);function a(g,y){const x=g/t.length,b=Math.abs(n-y);return i.distance?x+b/i.distance:b?1:x}let s=i.threshold,l=e.indexOf(t,n);l!==-1&&(s=Math.min(a(0,l),s),l=e.lastIndexOf(t,n+t.length),l!==-1&&(s=Math.min(a(0,l),s)));const u=1<<t.length-1;l=-1;let d,f,h=t.length+e.length,m=[];for(let g=0;g<t.length;g++){for(d=0,f=h;d<f;)a(g,n+f)<=s?d=f:h=f,f=Math.floor((h-d)/2+d);h=f;let y=Math.max(1,n-f+1);const x=Math.min(n+f,e.length)+t.length,b=new Array(x+2);b[x+1]=(1<<g)-1;for(let v=x;v>=y;v--){const w=o[e.charAt(v-1)];if(g===0?b[v]=(b[v+1]<<1|1)&w:b[v]=(b[v+1]<<1|1)&w|((m[v+1]|m[v])<<1|1)|m[v+1],b[v]&u){const C=a(g,v-1);if(C<=s)if(s=C,l=v-1,l>n)y=Math.max(1,2*n-l);else break}}if(a(g+1,n)>s)break;m=b}return l}function Oqt(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function vF(e,t,n,r={}){if(e===null||t===null||n===null)throw new Error("Null input. (match())");const i=Math.max(0,Math.min(n,e.length));if(e===t)return 0;if(e.length){if(e.substring(i,i+t.length)===t)return i}else return-1;return Dqt(e,t,i,r)}function aZ(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Rr&&(t[n]=e[n][1]);return t.join("")}function AOe(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==vr&&(t[n]=e[n][1]);return t.join("")}function Mqt(e){let t=0,n=0,r=0;for(let i=0;i<e.length;i++){const o=e[i][0],a=e[i][1];switch(o){case Rr:n+=a.length;break;case vr:r+=a.length;break;case Xt:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function Lue(e,t){let n=0,r=0,i=0,o=0,a;for(a=0;a<e.length&&(e[a][0]!==Rr&&(n+=e[a][1].length),e[a][0]!==vr&&(r+=e[a][1].length),!(n>t));a++)i=n,o=r;return e.length!==a&&e[a][0]===vr?o:o+(t-i)}function ym(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=jOe(r)}return t}function Pqt(e,t,n={}){let r=0,i=0;function o(s){for(;r<s;){const l=t.codePointAt(i);if(typeof l>"u")return i;r+=jOe(l),l>65535?i+=2:i+=1}if(!n.allowExceedingIndices&&r!==s)throw new Error("Failed to determine byte offset");return i}const a=[];for(const s of e)a.push({diffs:s.diffs.map(l=>WE(l)),start1:o(s.start1),start2:o(s.start2),utf8Start1:s.utf8Start1,utf8Start2:s.utf8Start2,length1:s.length1,length2:s.length2,utf8Length1:s.utf8Length1,utf8Length2:s.utf8Length2});return a}function jOe(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const Hp=32,sZ=4;function Rqt(e,t=sZ){const n=t;let r="";for(let a=1;a<=n;a++)r+=String.fromCharCode(a);for(const a of e)a.start1+=n,a.start2+=n,a.utf8Start1+=n,a.utf8Start2+=n;let i=e[0],o=i.diffs;if(o.length===0||o[0][0]!==Xt)o.unshift([Xt,r]),i.start1-=n,i.start2-=n,i.utf8Start1-=n,i.utf8Start2-=n,i.length1+=n,i.length2+=n,i.utf8Length1+=n,i.utf8Length2+=n;else if(n>o[0][1].length){const a=o[0][1].length,s=n-a;o[0][1]=r.substring(a)+o[0][1],i.start1-=s,i.start2-=s,i.utf8Start1-=s,i.utf8Start2-=s,i.length1+=s,i.length2+=s,i.utf8Length1+=s,i.utf8Length2+=s}if(i=e[e.length-1],o=i.diffs,o.length===0||o[o.length-1][0]!==Xt)o.push([Xt,r]),i.length1+=n,i.length2+=n,i.utf8Length1+=n,i.utf8Length2+=n;else if(n>o[o.length-1][1].length){const a=n-o[o.length-1][1].length;o[o.length-1][1]+=r.substring(0,a),i.length1+=a,i.length2+=a,i.utf8Length1+=a,i.utf8Length2+=a}return r}function B$(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function Fqt(e,t=sZ){const n=Hp;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const i=e[r];e.splice(r--,1);let o=i.start1,a=i.start2,s="";for(;i.diffs.length!==0;){const l=B$(o-s.length,a-s.length);let u=!0;if(s!==""){const h=ym(s);l.length1=s.length,l.utf8Length1=h,l.length2=s.length,l.utf8Length2=h,l.diffs.push([Xt,s])}for(;i.diffs.length!==0&&l.length1<n-t;){const h=i.diffs[0][0];let m=i.diffs[0][1],g=ym(m);if(h===Rr){l.length2+=m.length,l.utf8Length2+=g,a+=m.length;const y=i.diffs.shift();y&&l.diffs.push(y),u=!1}else h===vr&&l.diffs.length===1&&l.diffs[0][0]===Xt&&m.length>2*n?(l.length1+=m.length,l.utf8Length1+=g,o+=m.length,u=!1,l.diffs.push([h,m]),i.diffs.shift()):(m=m.substring(0,n-l.length1-t),g=ym(m),l.length1+=m.length,l.utf8Length1+=g,o+=m.length,h===Xt?(l.length2+=m.length,l.utf8Length2+=g,a+=m.length):u=!1,l.diffs.push([h,m]),m===i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(m.length))}s=AOe(l.diffs),s=s.substring(s.length-t);const d=aZ(i.diffs).substring(0,t),f=ym(d);d!==""&&(l.length1+=d.length,l.length2+=d.length,l.utf8Length1+=f,l.utf8Length2+=f,l.diffs.length!==0&&l.diffs[l.diffs.length-1][0]===Xt?l.diffs[l.diffs.length-1][1]+=d:l.diffs.push([Xt,d])),u||e.splice(++r,0,l)}}}function BP(e,t,n={}){if(typeof e=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(e.length===0)return[r,[]];const i=Pqt(e,r,{allowExceedingIndices:n.allowExceedingIndices}),o=n.margin||sZ,a=n.deleteThreshold||.4,s=Rqt(i,o);r=s+r+s,Fqt(i,o);let l=0;const u=[];for(let d=0;d<i.length;d++){const f=i[d].start2+l,h=aZ(i[d].diffs);let m,g=-1;if(h.length>Hp?(m=vF(r,h.substring(0,Hp),f),m!==-1&&(g=vF(r,h.substring(h.length-Hp),f+h.length-Hp),(g===-1||m>=g)&&(m=-1))):m=vF(r,h,f),m===-1)u[d]=!1,l-=i[d].length2-i[d].length1;else{u[d]=!0,l=m-f;let y;if(g===-1?y=r.substring(m,m+h.length):y=r.substring(m,g+Hp),h===y)r=r.substring(0,m)+AOe(i[d].diffs)+r.substring(m+h.length);else{let x=Nw(h,y,{checkLines:!1});if(h.length>Hp&&Mqt(x)/h.length>a)u[d]=!1;else{x=TOe(x);let b=0,v=0;for(let w=0;w<i[d].diffs.length;w++){const C=i[d].diffs[w];C[0]!==Xt&&(v=Lue(x,b)),C[0]===Rr?r=r.substring(0,m+v)+C[1]+r.substring(m+v):C[0]===vr&&(r=r.substring(0,m+v)+r.substring(m+Lue(x,b+C[1].length))),C[0]!==vr&&(b+=C[1].length)}}}}}return r=r.substring(s.length,r.length-s.length),[r,u]}var Lqt=Object.defineProperty,Nue=Object.getOwnPropertySymbols,Nqt=Object.prototype.hasOwnProperty,Bqt=Object.prototype.propertyIsEnumerable,Bue=(e,t,n)=>t in e?Lqt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vue=(e,t)=>{for(var n in t||(t={}))Nqt.call(t,n)&&Bue(e,n,t[n]);if(Nue)for(var n of Nue(t))Bqt.call(t,n)&&Bue(e,n,t[n]);return e};const Vqt={margin:4};function bF(e={}){return Vue(Vue({},Vqt),e)}function VP(e,t,n){if(typeof e=="string"&&typeof t=="string"){let r=Nw(e,t,{checkLines:!0});return r.length>2&&(r=oZ(r),r=NP(r)),xF(e,r,bF(n))}if(e&&Array.isArray(e)&&typeof t>"u")return xF(aZ(e),e,bF(n));if(typeof e=="string"&&t&&Array.isArray(t))return xF(e,t,bF(n));throw new Error("Unknown call format to make()")}function xF(e,t,n){if(t.length===0)return[];const r=[];let i=B$(0,0),o=0,a=0,s=0,l=0,u=0,d=e,f=e;for(let h=0;h<t.length;h++){const m=t[h],[g,y]=m,x=y.length,b=ym(y);switch(!o&&g!==Xt&&(i.start1=a,i.start2=s,i.utf8Start1=l,i.utf8Start2=u),g){case Rr:i.diffs[o++]=m,i.length2+=x,i.utf8Length2+=b,f=f.substring(0,s)+y+f.substring(s);break;case vr:i.length1+=x,i.utf8Length1+=b,i.diffs[o++]=m,f=f.substring(0,s)+f.substring(s+x);break;case Xt:x<=2*n.margin&&o&&t.length!==h+1?(i.diffs[o++]=m,i.length1+=x,i.length2+=x,i.utf8Length1+=b,i.utf8Length2+=b):x>=2*n.margin&&o&&(zue(i,d,n),r.push(i),i=B$(-1,-1),o=0,d=f,a=s,l=u);break;default:throw new Error("Unknown diff type")}g!==Rr&&(a+=x,l+=b),g!==vr&&(s+=x,u+=b)}return o&&(zue(i,d,n),r.push(i)),r}function zue(e,t,n){if(t.length===0)return;let r=t.substring(e.start2,e.start2+e.length1),i=0;for(;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<Hp-n.margin-n.margin;)i+=n.margin,r=t.substring(e.start2-i,e.start2+e.length1+i);i+=n.margin;let o=e.start2-i;o>=1&&sV(t[o])&&o--;const a=t.substring(o,e.start2);a&&e.diffs.unshift([Xt,a]);const s=a.length,l=ym(a);let u=e.start2+e.length1+i;u<t.length&&sV(t[u])&&u++;const d=t.substring(e.start2+e.length1,u);d&&e.diffs.push([Xt,d]);const f=d.length,h=ym(d);e.start1-=s,e.start2-=s,e.utf8Start1-=l,e.utf8Start2-=l,e.length1+=s+f,e.length2+=s+f,e.utf8Length1+=l+h,e.utf8Length2+=l+h}const zqt=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function lZ(e){if(!e)return[];const t=[],n=e.split(`
`);let r=0;for(;r<n.length;){const i=n[r].match(zqt);if(!i)throw new Error(`Invalid patch string: ${n[r]}`);const o=B$(tA(i[1]),tA(i[3]));for(t.push(o),i[2]===""?(o.start1--,o.utf8Start1--,o.length1=1,o.utf8Length1=1):i[2]==="0"?(o.length1=0,o.utf8Length1=0):(o.start1--,o.utf8Start1--,o.utf8Length1=tA(i[2]),o.length1=o.utf8Length1),i[4]===""?(o.start2--,o.utf8Start2--,o.length2=1,o.utf8Length2=1):i[4]==="0"?(o.length2=0,o.utf8Length2=0):(o.start2--,o.utf8Start2--,o.utf8Length2=tA(i[4]),o.length2=o.utf8Length2),r++;r<n.length;){const a=n[r],s=a.charAt(0);if(s==="@")break;if(s===""){r++;continue}let l;try{l=decodeURI(a.slice(1))}catch{throw new Error(`Illegal escape in parse: ${a}`)}const u=ym(l)-l.length;if(s==="-")o.diffs.push([vr,l]),o.length1-=u;else if(s==="+")o.diffs.push([Rr,l]),o.length2-=u;else if(s===" ")o.diffs.push([Xt,l]),o.length1-=u,o.length2-=u;else throw new Error(`Invalid patch mode "${s}" in: ${l}`);r++}}return t}function tA(e){return parseInt(e,10)}function cZ(e){return e.map(Uqt).join("")}function Uqt(e){const{utf8Length1:t,utf8Length2:n,utf8Start1:r,utf8Start2:i,diffs:o}=e;let a;t===0?a=`${r},0`:t===1?a=`${r+1}`:a=`${r+1},${t}`;let s;n===0?s=`${i},0`:n===1?s=`${i+1}`:s=`${i+1},${n}`;const l=[`@@ -${a} +${s} @@
`];let u;for(let d=0;d<o.length;d++){switch(o[d][0]){case Rr:u="+";break;case vr:u="-";break;case Xt:u=" ";break;default:throw new Error("Unknown patch operation.")}l[d+1]=`${u+encodeURI(o[d][1])}
`}return l.join("").replace(/%20/g," ")}const Uue="before",Hue="after";function Hqt(e,t,n,...r){if(t!==Uue&&t!==Hue)throw new Error(`Invalid position "${t}", must be either ${Uue} or ${Hue}`);const i=Wue(...r);if(e.length===0)return i;const o=e.length,a=Math.abs((o+n)%o)%o,s=t==="after"?a+1:a,l=e.slice();return l.splice(s,0,...Wue(i)),l}function Wue(...e){return e.reduce((t,n)=>t.concat(n),[])}function Wqt(e,t){if(typeof t=="number")return t;const n=rZ(e,t);return n===-1?!1:n}function Gqt(e,t){const n=e.slice();if(t.path.length===0){if(t.type==="setIfMissing"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return e===void 0?t.value:e}if(t.type==="set"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}if(t.type==="unset")return;throw new Error(`Invalid array operation: ${t.type}`)}const[r,...i]=t.path,o=Wqt(e,r);if(o===!1)return n;if(i.length===0){if(t.type==="insert"){const{position:a,items:s}=t;return Hqt(e,a,o,s)}else if(t.type==="unset"){if(typeof o!="number")throw new Error(`Expected array index to be a number, instead got "${o}"`);return n.splice(o,1),n}}return n[o]=uZ(n[o],{...t,path:i}),n}function Kqt(e,t){if(t.path.length>0)throw new Error(`Cannot apply deep operations on primitive values. Received patch with type "${t.type}" and path "${t.path.map(n=>JSON.stringify(n)).join(".")} that targeted the value "${JSON.stringify(e)}"`);if(t.type==="set")return t.value;if(t.type==="setIfMissing")return e===void 0?t.value:e;if(t.type!=="unset"){if(t.type==="inc"){if(typeof t.value!="number")throw new Error("Cannot increment with a non-number");return e+t.value}if(t.type==="dec"){if(typeof t.value!="number")throw new Error("Cannot decrement with a non-number");return e-t.value}throw new Error(`Received patch of unsupported type: "${JSON.stringify(t.type)}" for number. This is most likely a bug.`)}}function Yqt(e,t){const n=_Oe(e);if(t.path.length===0){if(t.type==="set"){if(typeof t.value=="object"&&t.value!==null&&!Array.isArray(t.value))return t.value;throw new Error("Cannot set value of an object to a non-object")}if(t.type==="unset")return;throw new Error(`Invalid object operation: ${t.type}`)}const[r,...i]=t.path;if(typeof r!="string")throw new Error(`Expected field name to be a string, instead got: ${r}`);return i.length===0&&t.type==="unset"?Po(n,r):(n[r]=uZ(n[r],{...t,path:i}),n)}function qqt(e,t){if(t.path.length>0)throw new Error(`Cannot apply deep operations on primitive values. Received patch with type "${t.type}" and path "${t.path.map(n=>JSON.stringify(n)).join(".")} that targeted the value "${JSON.stringify(e)}"`);if(t.type==="set")return t.value;if(t.type==="setIfMissing")return e===void 0?t.value:e;if(t.type!=="unset")throw new Error(`Received patch of unsupported type: "${JSON.stringify(t.type)}" for primitives. This is most likely a bug.`)}function Zqt(e,t){if(t.path.length>0)throw new Error(`Cannot apply deep operations on string values. Received patch with type "${t.type}" and path "${t.path.join(".")} that targeted the value "${JSON.stringify(e)}"`);if(t.type==="diffMatchPatch"){const[n]=BP(lZ(t.value),e,{allowExceedingIndices:!0});return n}if(t.type==="setIfMissing")return e===void 0?t.value:e;if(t.type==="set")return t.value;if(t.type!=="unset")throw new Error(`Received patch of unsupported type: "${JSON.stringify(t.type)}" for string. This is most likely a bug.`)}function U1(e,t){return t.reduce(uZ,e)}function uZ(e,t){return Array.isArray(e)?Gqt(e,t):typeof e=="string"?Zqt(e,t):Xqt(e)?Yqt(e,t):typeof e=="number"?Kqt(e,t):qqt(e,t)}function Xqt(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function bx(e,t=[]){return{type:"setIfMissing",path:t,value:e}}function IOe(e,t,n=[]){const r=VP(e,t),i=cZ(r);return{type:"diffMatchPatch",path:n,value:i}}function mh(e,t,n=[]){return{type:"insert",path:n,position:t,items:e}}function Cl(e,t=[]){return{type:"set",path:t,value:e}}function za(e=[]){return{type:"unset",path:e}}function Jqt({context:e,blockOffset:t}){let n;for(const r of e.value)if(r._key===t.path[0]._key){n={path:[{_key:r._key}],offset:t.offset};break}return n}function Gue({context:e,blockOffset:t,direction:n}){return gx({context:e,blockOffset:t,direction:n})||Jqt({context:e,blockOffset:t})}function dZ({context:e,offsets:t,backward:n}){const r=Gue({context:e,blockOffset:t.anchor,direction:n?"backward":"forward"}),i=Gue({context:e,blockOffset:t.focus,direction:n?"forward":"backward"});return!r||!i?null:{anchor:r,focus:i,backward:n}}function Qqt({context:e,selectionPoint:t}){let n=0;const r=Ir(t),i=Xo(t);if(!(!r||!i)){for(const o of e.value)if(o._key===r&&St(e,o))for(const a of o.children){if(a._key===i)return{path:[{_key:o._key}],offset:n+t.offset};zn(e,a)&&(n+=a.text.length)}}}function Kue({context:e,selectionPoint:t}){const n=Ir(t);return t.path.length===1&&n!==void 0?{path:[{_key:n}],offset:t.offset}:Qqt({context:e,selectionPoint:t})}function eZt({context:e,block:t}){const n=Xu(e.selection),r=df(e.selection);if(!n||!r)return t;const i=Ir(n),o=Ir(r);if(i!==o||i!==t._key)return t;const a=Xo(n),s=Xo(r);if(!a||!s)return t;let l=!1;const u=[];for(const d of t.children){if(d._key===a){if(l=!0,zn(e,d)){const f=d._key===s?d.text.slice(n.offset,r.offset):d.text.slice(n.offset);u.push({...d,text:f})}else u.push(d);if(a===s)break;continue}if(d._key===s){zn(e,d)?u.push({...d,text:d.text.slice(0,r.offset)}):u.push(d);break}l&&u.push(d)}return{...t,children:u}}const tZt=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.userAgent);function Yue(e,t){return nZt(e,t)?e.code!==void 0&&e.code.toLowerCase()===t.code.toLowerCase()?!0:e.key!==void 0&&e.key.toLowerCase()===t.key.toLowerCase():!1}function nZt(e,t){return(e.ctrl===t.ctrlKey||e.ctrl===void 0)&&(e.meta===t.metaKey||e.meta===void 0)&&(e.shift===t.shiftKey||e.shift===void 0)&&(e.alt===t.altKey||e.alt===void 0)}function Zi(e){if(tZt){const n=e.apple??e.default,r=n.at(0);return{guard:i=>n.some(o=>Yue(o,i)),keys:[...r!=null&&r.meta?[""]:[],...r!=null&&r.ctrl?["Ctrl"]:[],...r!=null&&r.alt?["Option"]:[],...r!=null&&r.shift?["Shift"]:[],...(r==null?void 0:r.key)!==void 0?[r.key]:(r==null?void 0:r.code)!==void 0?[r.code]:[]]}}const t=e.default.at(0);return{guard:n=>e.default.some(r=>Yue(r,n)),keys:[...t!=null&&t.meta?["Meta"]:[],...t!=null&&t.ctrl?["Ctrl"]:[],...t!=null&&t.alt?["Alt"]:[],...t!=null&&t.shift?["Shift"]:[],...(t==null?void 0:t.key)!==void 0?[t.key]:(t==null?void 0:t.code)!==void 0?[t.code]:[]]}}const rZt=Zi({default:[{key:"B",alt:!1,ctrl:!0,meta:!1,shift:!1}],apple:[{key:"B",alt:!1,ctrl:!1,meta:!0,shift:!1}]}),iZt=Zi({default:[{key:"I",alt:!1,ctrl:!0,meta:!1,shift:!1}],apple:[{key:"I",alt:!1,ctrl:!1,meta:!0,shift:!1}]}),oZt=Zi({default:[{key:"'",alt:!1,ctrl:!0,meta:!1,shift:!1}],apple:[{key:"'",alt:!1,ctrl:!1,meta:!0,shift:!1}]}),aZt=Zi({default:[{key:"U",alt:!1,ctrl:!0,meta:!1,shift:!1}],apple:[{key:"U",alt:!1,ctrl:!1,meta:!0,shift:!1}]});Zi({default:[{key:"X",alt:!1,ctrl:!0,meta:!1,shift:!0}],apple:[{key:"X",alt:!1,ctrl:!1,meta:!0,shift:!0}]});Zi({default:[{key:"K",alt:!1,ctrl:!0,meta:!1,shift:!1}],apple:[{key:"K",alt:!1,ctrl:!1,meta:!0,shift:!1}]});Zi({default:[{key:"0",code:"Digit0",alt:!0,ctrl:!0,meta:!1,shift:!1},{key:"0",code:"Numpad0",alt:!0,ctrl:!0,meta:!1,shift:!1}],apple:[{key:"0",code:"Digit0",alt:!0,ctrl:!1,meta:!0,shift:!1},{key:"0",code:"Numpad0",alt:!0,ctrl:!1,meta:!0,shift:!1}]});Zi({default:[{key:"1",code:"Digit1",alt:!0,ctrl:!0,meta:!1,shift:!1},{key:"1",code:"Numpad1",alt:!0,ctrl:!0,meta:!1,shift:!1}],apple:[{key:"1",code:"Digit1",alt:!0,ctrl:!1,meta:!0,shift:!1},{key:"1",code:"Numpad1",alt:!0,ctrl:!1,meta:!0,shift:!1}]});Zi({default:[{key:"2",code:"Digit2",alt:!0,ctrl:!0,meta:!1,shift:!1},{key:"2",code:"Numpad2",alt:!0,ctrl:!0,meta:!1,shift:!1}],apple:[{key:"2",code:"Digit2",alt:!0,ctrl:!1,meta:!0,shift:!1},{key:"2",code:"Numpad2",alt:!0,ctrl:!1,meta:!0,shift:!1}]});Zi({default:[{key:"3",code:"Digit3",alt:!0,ctrl:!0,meta:!1,shift:!1},{key:"3",code:"Numpad3",alt:!0,ctrl:!0,meta:!1,shift:!1}],apple:[{key:"3",code:"Digit3",alt:!0,ctrl:!1,meta:!0,shift:!1},{key:"3",code:"Numpad3",alt:!0,ctrl:!1,meta:!0,shift:!1}]});Zi({default:[{key:"4",code:"Digit4",alt:!0,ctrl:!0,meta:!1,shift:!1},{key:"4",code:"Numpad4",alt:!0,ctrl:!0,meta:!1,shift:!1}],apple:[{key:"4",code:"Digit4",alt:!0,ctrl:!1,meta:!0,shift:!1},{key:"4",code:"Numpad4",alt:!0,ctrl:!1,meta:!0,shift:!1}]});Zi({default:[{key:"5",code:"Digit5",alt:!0,ctrl:!0,meta:!1,shift:!1},{key:"5",code:"Numpad5",alt:!0,ctrl:!0,meta:!1,shift:!1}],apple:[{key:"5",code:"Digit5",alt:!0,ctrl:!1,meta:!0,shift:!1},{key:"5",code:"Numpad5",alt:!0,ctrl:!1,meta:!0,shift:!1}]});Zi({default:[{key:"6",code:"Digit6",alt:!0,ctrl:!0,meta:!1,shift:!1},{key:"6",code:"Numpad6",alt:!0,ctrl:!0,meta:!1,shift:!1}],apple:[{key:"6",code:"Digit6",alt:!0,ctrl:!1,meta:!0,shift:!1},{key:"6",code:"Numpad6",alt:!0,ctrl:!1,meta:!0,shift:!1}]});Zi({default:[{key:"Q",alt:!1,ctrl:!0,meta:!1,shift:!0}]});const sZt=Zi({default:[{key:"Z",alt:!1,ctrl:!0,meta:!1,shift:!1}],apple:[{key:"Z",alt:!1,ctrl:!1,meta:!0,shift:!1}]}),lZt=Zi({default:[{key:"Y",alt:!1,ctrl:!0,meta:!1,shift:!1},{key:"Z",alt:!1,ctrl:!0,meta:!1,shift:!0}],apple:[{key:"Z",alt:!1,ctrl:!1,meta:!0,shift:!0}]});var cZt=1/0,uZt="[object Symbol]",dZt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fZt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,zP="\\ud800-\\udfff",$Oe="\\u0300-\\u036f\\ufe20-\\ufe23",DOe="\\u20d0-\\u20f0",OOe="\\u2700-\\u27bf",MOe="a-z\\xdf-\\xf6\\xf8-\\xff",hZt="\\xac\\xb1\\xd7\\xf7",pZt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",mZt="\\u2000-\\u206f",gZt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",POe="A-Z\\xc0-\\xd6\\xd8-\\xde",ROe="\\ufe0e\\ufe0f",FOe=hZt+pZt+mZt+gZt,fZ="[']",yZt="["+zP+"]",que="["+FOe+"]",V$="["+$Oe+DOe+"]",LOe="\\d+",vZt="["+OOe+"]",NOe="["+MOe+"]",BOe="[^"+zP+FOe+LOe+OOe+MOe+POe+"]",lV="\\ud83c[\\udffb-\\udfff]",bZt="(?:"+V$+"|"+lV+")",VOe="[^"+zP+"]",hZ="(?:\\ud83c[\\udde6-\\uddff]){2}",pZ="[\\ud800-\\udbff][\\udc00-\\udfff]",av="["+POe+"]",zOe="\\u200d",Zue="(?:"+NOe+"|"+BOe+")",xZt="(?:"+av+"|"+BOe+")",Xue="(?:"+fZ+"(?:d|ll|m|re|s|t|ve))?",Jue="(?:"+fZ+"(?:D|LL|M|RE|S|T|VE))?",UOe=bZt+"?",HOe="["+ROe+"]?",wZt="(?:"+zOe+"(?:"+[VOe,hZ,pZ].join("|")+")"+HOe+UOe+")*",WOe=HOe+UOe+wZt,CZt="(?:"+[vZt,hZ,pZ].join("|")+")"+WOe,kZt="(?:"+[VOe+V$+"?",V$,hZ,pZ,yZt].join("|")+")",SZt=RegExp(fZ,"g"),EZt=RegExp(V$,"g"),_Zt=RegExp(lV+"(?="+lV+")|"+kZt+WOe,"g"),TZt=RegExp([av+"?"+NOe+"+"+Xue+"(?="+[que,av,"$"].join("|")+")",xZt+"+"+Jue+"(?="+[que,av+Zue,"$"].join("|")+")",av+"?"+Zue+"+"+Xue,av+"+"+Jue,LOe,CZt].join("|"),"g"),AZt=RegExp("["+zOe+zP+$Oe+DOe+ROe+"]"),jZt=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,IZt={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"ss"},$Zt=typeof Ko=="object"&&Ko&&Ko.Object===Object&&Ko,DZt=typeof self=="object"&&self&&self.Object===Object&&self,OZt=$Zt||DZt||Function("return this")();function MZt(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function PZt(e){return e.split("")}function RZt(e){return e.match(dZt)||[]}function FZt(e){return function(t){return e==null?void 0:e[t]}}var LZt=FZt(IZt);function GOe(e){return AZt.test(e)}function NZt(e){return jZt.test(e)}function BZt(e){return GOe(e)?VZt(e):PZt(e)}function VZt(e){return e.match(_Zt)||[]}function zZt(e){return e.match(TZt)||[]}var UZt=Object.prototype,HZt=UZt.toString,Que=OZt.Symbol,ede=Que?Que.prototype:void 0,tde=ede?ede.toString:void 0;function WZt(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function GZt(e){if(typeof e=="string")return e;if(XZt(e))return tde?tde.call(e):"";var t=e+"";return t=="0"&&1/e==-cZt?"-0":t}function KZt(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:WZt(e,t,n)}function YZt(e){return function(t){t=mZ(t);var n=GOe(t)?BZt(t):void 0,r=n?n[0]:t.charAt(0),i=n?KZt(n,1).join(""):t.slice(1);return r[e]()+i}}function qZt(e){return function(t){return MZt(tXt(JZt(t).replace(SZt,"")),e,"")}}function ZZt(e){return!!e&&typeof e=="object"}function XZt(e){return typeof e=="symbol"||ZZt(e)&&HZt.call(e)==uZt}function mZ(e){return e==null?"":GZt(e)}function JZt(e){return e=mZ(e),e&&e.replace(fZt,LZt).replace(EZt,"")}var QZt=qZt(function(e,t,n){return e+(n?" ":"")+eXt(t)}),eXt=YZt("toUpperCase");function tXt(e,t,n){return e=mZ(e),t=n?void 0:t,t===void 0?NZt(e)?zZt(e):RZt(e):e.match(t)||[]}var nXt=QZt;const Wp=Ue(nXt),cV="sanity-pte:";zi(cV);function Ts(e){const t=`${cV}${e}`;return zi&&zi.enabled(t)?zi(t):zi(cV)}const uV="void-child";function Tb(e,t){const n=t[e._key];return n&&Dt(e,n)?n:(t[e._key]=e,e)}function Hh(e,{schemaTypes:t},n={}){return e&&Array.isArray(e)?e.map(r=>{const{_type:i,_key:o,...a}=r;if(r&&r._type===t.block.name){const s=r;let l=!1;const u=typeof s.style>"u",d=typeof s.markDefs>"u",f=typeof s.children>"u",h=(s.children||[]).map(m=>{const{_type:g,_key:y,...x}=m;return g!=="span"?(l=!0,Tb({_type:g,_key:y,children:[{_key:uV,_type:"span",text:"",marks:[]}],value:x,__inline:!0},n)):m});return!u&&!d&&!f&&!l&&tt.isElement(r)?r:(u&&(a.style=t.styles[0].name),Tb({_type:i,_key:o,...a,children:h},n))}return Tb({_type:i,_key:o,children:[{_key:uV,_type:"span",text:"",marks:[]}],value:a},n)}):[]}function hi(e,t,n={}){return e.map(r=>{const{_key:i,_type:o}=r;if(!i||!o)throw new Error("Not a valid block");if(o===t&&"children"in r&&Array.isArray(r.children)&&i){let s=!1;const l=r.children.map(u=>{const{_type:d}=u;if("value"in u&&d!=="span"){s=!0;const{value:f,_key:h,_type:m,__inline:g,children:y,...x}=u;return Tb({...x,...f,_key:h,_type:m},n)}return u});return s?Tb({...r,children:l,_key:i,_type:o},n):r}const a="value"in r&&r.value;return Tb({_key:i,_type:o,...typeof a=="object"?a:{}},n)})}function Rm(e,t){var n;return e===void 0||e&&Array.isArray(e)&&e.length===0||e&&Array.isArray(e)&&e.length===1&&tt.isElement(e[0])&&e[0]._type===t.block.name&&"style"in e[0]&&e[0].style===t.styles[0].name&&!("listItem"in e[0])&&Array.isArray(e[0].children)&&e[0].children.length===1&&Ke.isText(e[0].children[0])&&e[0].children[0]._type==="span"&&!((n=e[0].children[0].marks)!=null&&n.join(""))&&e[0].children[0].text===""}function nde({editor:e,_key:t}){const[,n]=Array.from(z.nodes(e,{at:[],match:i=>i._key===t})).at(0)??[void 0,void 0],r=n==null?void 0:n.at(0);if(r!==void 0)return[r]}function KOe({editor:e}){if(!e.selection)return[void 0,void 0];try{return z.node(e,e.selection.focus.path.slice(0,1))??[void 0,void 0]}catch{return[void 0,void 0]}}function rXt({editor:e}){if(!e.selection)return[void 0,void 0];try{const[t,n]=z.node(e,e.selection.focus.path);if(e.isTextSpan(t))return[t,n]}catch{return[void 0,void 0]}return[void 0,void 0]}function iXt({editor:e}){if(!e.selection)return[void 0,void 0];const t=me.start(e.selection);return xx({editor:e,point:t})}function oXt({editor:e}){if(!e.selection)return[void 0,void 0];const t=me.end(e.selection);return xx({editor:e,point:t})}function xx({editor:e,point:t}){try{const[n]=z.node(e,t.path.slice(0,1))??[void 0,void 0];return n?[n,t.path.slice(0,1)]:[void 0,void 0]}catch{return[void 0,void 0]}}function aXt({editor:e}){var i;const[t,n]=KOe({editor:e}),r=(i=e.selection)==null?void 0:i.focus.path.at(1);if(!t||!n||r===void 0)return[void 0,void 0];try{const o=Be.child(t,r);return o?[o,[...n,r]]:[void 0,void 0]}catch{return[void 0,void 0]}}function rde({editor:e,point:t}){const[n,r]=xx({editor:e,point:t}),i=t.path.at(1);if(!n||!r||i===void 0)return[void 0,void 0];try{const o=Be.child(n,i);return o?[o,[...r,i]]:[void 0,void 0]}catch{return[void 0,void 0]}}function sXt({editor:e}){if(e.children.length===0)return[void 0,void 0];const t=z.start(e,[]).path.at(0);try{return t!==void 0?z.node(e,[t])??[void 0,void 0]:[void 0,void 0]}catch{return[void 0,void 0]}}function YOe({editor:e}){if(e.children.length===0)return[void 0,void 0];const t=z.end(e,[]).path.at(0);try{return t!==void 0?z.node(e,[t])??[void 0,void 0]:[void 0,void 0]}catch{return[void 0,void 0]}}function lXt({editor:e,schema:t,node:n}){var i;if(z.isEditor(n))return;if(ode({editor:e,schema:t},n))return ide({schema:t,element:n});const r=(i=Array.from(z.nodes(e,{mode:"highest",at:[],match:o=>ode({editor:e,schema:t},o)&&o.children.some(a=>a._key===n._key)})).at(0))==null?void 0:i.at(0);return tt.isElement(r)?ide({schema:t,element:r}):void 0}function ide({schema:e,element:t}){var n;return(n=hi([t],e.block.name))==null?void 0:n.at(0)}function ode({editor:e,schema:t},n){return tt.isElement(n)&&!e.isInline(n)&&(t.block.name===n._type||t.blockObjects.some(r=>r.name===n._type))}function cXt({editor:e,listItem:t}){if(!e.selection)return!1;const n=[...z.nodes(e,{at:e.selection,match:r=>e.isTextBlock(r)})];return n.length>0?n.every(([r])=>e.isListBlock(r)&&r.listItem===t):!1}function uXt({editor:e,style:t}){if(!e.selection)return!1;const n=[...z.nodes(e,{at:e.selection,match:r=>e.isTextBlock(r)})];return n.length>0?n.every(([r])=>r.style===t):!1}function gs({schema:e,editor:t,range:n}){const[r]=xx({editor:t,point:n.anchor}),[i]=xx({editor:t,point:n.focus});if(!r||!i)return null;const[o]=r._type===e.block.name?rde({editor:t,point:n.anchor}):[void 0,void 0],[a]=i._type===e.block.name?rde({editor:t,point:n.focus}):[void 0,void 0],s={anchor:{path:[{_key:r._key}],offset:n.anchor.offset},focus:{path:[{_key:i._key}],offset:n.focus.offset},backward:me.isBackward(n)};return o&&(s.anchor.path.push("children"),s.anchor.path.push({_key:o._key})),a&&(s.focus.path.push("children"),s.focus.path.push({_key:a._key})),s}function Lg({editorActor:e,slateEditor:t,event:n}){if(e.getSnapshot().matches({setup:"setting up"}))return;const r=dXt({slateEditor:t,event:n});if(!r)return;const i=lXt({editor:t,schema:e.getSnapshot().context.schema,node:r}),o=fXt({node:r,slateEditor:t,event:n}),a=hXt({schema:e.getSnapshot().context.schema,slateEditor:t,event:n});if(i&&o&&!a&&!z.isEditor(r))return{block:o,isEditor:!1,selection:{anchor:Uu({context:e.getSnapshot().context,block:{node:i,path:[{_key:i._key}]}}),focus:Nl({context:e.getSnapshot().context,block:{node:i,path:[{_key:i._key}]}})}};if(!o||!a)return;const s=Ir(a.focus);if(s!==void 0)return Gv(a)&&i&&s!==i._key?{block:o,isEditor:!1,selection:{anchor:Uu({context:e.getSnapshot().context,block:{node:i,path:[{_key:i._key}]}}),focus:Nl({context:e.getSnapshot().context,block:{node:i,path:[{_key:i._key}]}})}}:{block:o,isEditor:z.isEditor(r),selection:a}}function dXt({slateEditor:e,event:t}){return _t.hasTarget(e,t.target)?_t.toSlateNode(e,t.target):void 0}function fXt({node:e,slateEditor:t,event:n}){const[r]=sXt({editor:t});if(!r)return;const i=_t.toDOMNode(t,r).getBoundingClientRect();if(n.pageY<i.top)return"start";const[o]=YOe({editor:t});if(!o)return;const a=_t.toDOMNode(t,o).getBoundingClientRect();if(n.pageY>a.bottom)return"end";const s=_t.toDOMNode(t,e).getBoundingClientRect(),l=s.top,u=s.height;return Math.abs(l-n.pageY)<u/2?"start":"end"}function hXt({schema:e,slateEditor:t,event:n}){const r=pXt(t,n);return r?gs({schema:e,editor:t,range:r}):null}function pXt(e,t){if(!t.target||!Bh(t.target))return;const n=_t.getWindow(e);let r;if(n.document.caretPositionFromPoint!==void 0){const o=n.document.caretPositionFromPoint(t.clientX,t.clientY);if(o)try{r=n.document.createRange(),r.setStart(o.offsetNode,o.offset),r.setEnd(o.offsetNode,o.offset)}catch{}}else if(n.document.caretRangeFromPoint!==void 0)r=n.document.caretRangeFromPoint(t.clientX,t.clientY)??void 0;else{console.warn("Neither caretPositionFromPoint nor caretRangeFromPoint is supported");return}if(!r)return;let i;try{i=_t.toSlateRange(e,r,{exactMatch:!1,suppressThrow:!1})}catch{}return i}function ade(e,t){if(!e||!t)return null;const n=[];let r=e.offset||0;const i=typeof e.path[0]=="object"&&"_key"in e.path[0]&&e.path[0]._key,o=typeof e.path[2]=="object"&&"_key"in e.path[2]&&e.path[2]._key,a=t.find(s=>s._key===i);if(a)n.push({_key:a._key});else return null;if(a&&e.path[1]==="children"){if(!a.children||Array.isArray(a.children)&&a.children.length===0)return null;const s=Array.isArray(a.children)&&a.children.find(l=>l._key===o);if(s)n.push("children"),n.push({_key:s._key}),r=s.text&&s.text.length>=e.offset?e.offset:s.text&&s.text.length||0;else return null}return{path:n,offset:r}}function mXt(e,t){if(!e||!t||t.length===0)return null;let n=null,r=null;const{anchor:i,focus:o}=e;return i&&t.find(a=>Dt({_key:a._key},i.path[0]))&&(n=ade(i,t)),o&&t.find(a=>Dt({_key:a._key},o.path[0]))&&(r=ade(o,t)),n&&r?{anchor:n,focus:r,backward:e.backward}:null}function Go(e){if(!e.context.selection)return null;if(Hu(e.context.selection.anchor,e.context.selection.focus)){const r=wF(e,e.context.selection.anchor,e.context.selection.backward?"forward":"backward");return r?{anchor:r,focus:r}:null}const t=wF(e,e.context.selection.anchor,e.context.selection.backward?"forward":"backward"),n=wF(e,e.context.selection.focus,e.context.selection.backward?"backward":"forward");return!t||!n?null:{anchor:t,focus:n}}function wF(e,t,n){const r=Ir(t);if(!r)return;const i=e.blockIndexMap.get(r);if(i===void 0)return;const o=e.context.value.at(i);if(!o)return;if(!St(e.context,o))return{path:[i,0],offset:0};let a=Xo({path:t.path});const s=a?void 0:gx({context:{schema:e.context.schema,value:[o]},blockOffset:{path:[{_key:r}],offset:t.offset},direction:n});if(a=s?Xo(s):a,!a)return{path:[i,0],offset:0};let l=(s==null?void 0:s.offset)??t.offset,u=[],d=-1,f;for(const h of o.children)if(d++,h._key===a){f=h,zn(e.context,h)?u=[d]:(u=[d,0],l=0);break}return u.length===0?{path:[i,0],offset:0}:{path:[i].concat(u),offset:zn(e.context,f)?Math.min(f.text.length,l):l}}const z$=new WeakMap,dV=new WeakMap,xc=new WeakMap,U$=new WeakMap,o0=p.createContext({});function H$(){const e=pp.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=c.jsx("div",{contentEditable:!1,className:"pt-drop-indicator",style:{position:"absolute",width:"100%",height:1,borderBottom:"1px solid currentColor",zIndex:5},children:c.jsx("span",{})}),e[0]=t):t=e[0],t}function sde(e){const t=pp.c(4);let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n={userSelect:"none"},t[0]=n):n=t[0];let r;return t[1]!==e.blockObject._key||t[2]!==e.blockObject._type?(r=c.jsxs("div",{style:n,children:["[",e.blockObject._type,": ",e.blockObject._key,"]"]}),t[1]=e.blockObject._key,t[2]=e.blockObject._type,t[3]=r):r=t[3],r}function lde(e){const t=pp.c(4);let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n={userSelect:"none"},t[0]=n):n=t[0];let r;return t[1]!==e.inlineObject._key||t[2]!==e.inlineObject._type?(r=c.jsxs("span",{style:n,children:["[",e.inlineObject._type,": ",e.inlineObject._key,"]"]}),t[1]=e.inlineObject._key,t[2]=e.inlineObject._type,t[3]=r):r=t[3],r}function fV({eventSelection:e,snapshot:t}){let n=e;if(MP({...t,context:{...t.context,selection:e}}))return n;const r=vi({context:{...t.context,selection:e}}),i=ta({...t,context:{...t.context,selection:e}}),o=xy({...t,context:{...t.context,selection:e}});r&&i&&o&&(n={anchor:Uu({context:t.context,block:i}),focus:Nl({context:t.context,block:i})});const a=ff(t);if(t.context.selection&&r0(t)&&a.length>1){const s=Mw(t),l=Ow(t);if(!s||!l)return n;const u=Uu({context:t.context,block:s}),d=Nl({context:t.context,block:l});sI(e)({...t,context:{...t.context,selection:{anchor:u,focus:d}}})&&(n={anchor:u,focus:d})}return n}const Jm=()=>vXt(12),gXt=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).slice(1);return e}})();function yXt(e=16){const t=new Uint8Array(e);return jE(t),t}function vXt(e){const t=gXt();return yXt(e).reduce((n,r)=>n+t[r],"").slice(0,e)}function W$(e){return{id:Jm(),name:e==null?void 0:e.name,reference:e==null?void 0:e.reference}}const G$=W$({name:"core"});function bXt({key:e,onSetDragPositionBlock:t}){return[{behavior:{on:"drag.dragover",guard:({snapshot:n,event:r})=>{const i=NE({...n,context:{...n.context,selection:r.position.selection}});if(!i||i.node._key!==e)return!1;const o=r.dragOrigin;if(!o)return!1;const a=fV({eventSelection:o.selection,snapshot:n});return ff({...n,context:{...n.context,selection:a}}).some(s=>s.node._key===e)?!1:nV({...n,context:{...n.context,selection:a}})},actions:[({event:n})=>[{type:"effect",effect:()=>{t(n.position.block)}}]]},priority:W$({reference:{priority:G$,importance:"lower"}})},{behavior:{on:"drag.*",guard:({event:n})=>n.type!=="drag.dragover",actions:[({event:n})=>[{type:"effect",effect:()=>{t(void 0)}},lI(n)]]},priority:W$({reference:{priority:G$,importance:"lower"}})}]}function qOe(e){const t=pp.c(5),{key:n,onSetDragPositionBlock:r}=e,i=p.useContext(o0);let o,a;t[0]!==i||t[1]!==n||t[2]!==r?(o=()=>{const s=bXt({key:n,onSetDragPositionBlock:r});for(const l of s)i.send({type:"add behavior",behaviorConfig:l});return()=>{for(const l of s)i.send({type:"remove behavior",behaviorConfig:l})}},a=[i,n,r],t[0]=i,t[1]=n,t[2]=r,t[3]=o,t[4]=a):(o=t[3],a=t[4]),p.useEffect(o,a)}function xXt(e){const[t,n]=p.useState(),r=p.useRef(null),i=IP(),o=e5(l=>i&&l.selection!==null&&me.isCollapsed(l.selection));qOe({key:e.element._key,onSetDragPositionBlock:n});const a=e.legacySchema.blockObjects.find(l=>l.name===e.element._type);a||console.error(`Unable to find Block Object "${e.element._type}" in Schema`);const s=e.blockObject??{_key:e.element._key,_type:e.element._type};return c.jsxs("div",{...e.attributes,className:"pt-block pt-object-block","data-block-key":e.element._key,"data-block-name":e.element._type,"data-block-type":"object",children:[t==="start"?c.jsx(H$,{}):null,e.children,c.jsx("div",{ref:r,contentEditable:!1,draggable:!e.readOnly,children:e.renderBlock&&a?e.renderBlock({children:c.jsx(sde,{blockObject:s}),editorElementRef:r,focused:o,path:[{_key:e.element._key}],schemaType:a,selected:i,type:a,value:s}):c.jsx(sde,{blockObject:s})}),t==="end"?c.jsx(H$,{}):null]})}function wXt(e){const t=p.useRef(null),n=cl(),r=IP(),i=e5(u=>r&&u.selection!==null&&me.isCollapsed(u.selection)),o=e.legacySchema.inlineObjects.find(u=>u.name===e.element._type);o||console.error(`Unable to find Inline Object "${e.element._type}" in Schema`);const a=_t.findPath(n,e.element),[s]=xx({editor:n,point:{path:a,offset:0}});s||console.error(`Unable to find parent block of inline object ${e.element._key}`);const l={_key:e.element._key,_type:e.element._type,..."value"in e.element&&typeof e.element.value=="object"?e.element.value:{}};return c.jsxs("span",{...e.attributes,draggable:!e.readOnly,className:"pt-inline-object","data-child-key":l._key,"data-child-name":l._type,"data-child-type":"object",children:[e.children,c.jsx("span",{ref:t,style:{display:"inline-block"},children:e.renderChild&&s&&o?e.renderChild({annotations:[],children:c.jsx(lde,{inlineObject:l}),editorElementRef:t,selected:r,focused:i,path:[{_key:s._key},"children",{_key:e.element._key}],schemaType:o,value:l,type:o}):c.jsx(lde,{inlineObject:l})})]})}function CXt(e){const[t,n]=p.useState(),r=p.useRef(null),i=IP(),o=e5(l=>i&&l.selection!==null&&me.isCollapsed(l.selection));qOe({key:e.element._key,onSetDragPositionBlock:n});const a=e5(l=>l.listIndexMap.get(e.textBlock._key));let s=e.children;if(e.renderStyle&&e.textBlock.style){const l=e.textBlock.style!==void 0?e.legacySchema.styles.find(u=>u.value===e.textBlock.style):void 0;l?s=e.renderStyle({block:e.textBlock,children:s,editorElementRef:r,focused:o,path:[{_key:e.textBlock._key}],schemaType:l,selected:i,value:e.textBlock.style}):console.error(`Unable to find Schema type for text block style ${e.textBlock.style}`)}if(e.renderListItem&&e.textBlock.listItem){const l=e.legacySchema.lists.find(u=>u.value===e.textBlock.listItem);l?s=e.renderListItem({block:e.textBlock,children:s,editorElementRef:r,focused:o,level:e.textBlock.level??1,path:[{_key:e.textBlock._key}],selected:i,value:e.textBlock.listItem,schemaType:l}):console.error(`Unable to find Schema type for text block list item ${e.textBlock.listItem}`)}return c.jsxs("div",{...e.attributes,className:["pt-block","pt-text-block",...e.textBlock.style?[`pt-text-block-style-${e.textBlock.style}`]:[],...e.textBlock.listItem?["pt-list-item",`pt-list-item-${e.textBlock.listItem}`,`pt-list-item-level-${e.textBlock.level??1}`]:[]].join(" "),spellCheck:e.spellCheck,"data-block-key":e.textBlock._key,"data-block-name":e.textBlock._type,"data-block-type":"text",...e.textBlock.listItem!==void 0?{"data-list-item":e.textBlock.listItem}:{},...e.textBlock.level!==void 0?{"data-level":e.textBlock.level}:{},...e.textBlock.style!==void 0?{"data-style":e.textBlock.style}:{},...a!==void 0?{"data-list-index":a}:{},children:[t==="start"?c.jsx(H$,{}):null,c.jsx("div",{ref:r,children:e.renderBlock?e.renderBlock({children:s,editorElementRef:r,focused:o,level:e.textBlock.level,listItem:e.textBlock.listItem,path:[{_key:e.textBlock._key}],selected:i,schemaType:e.legacySchema.block,style:e.textBlock.style,type:e.legacySchema.block,value:e.textBlock}):s}),t==="end"?c.jsx(H$,{}):null]})}function kXt(e){const t=pp.c(34),n=p.useContext(o0),r=hx(n,EXt),i=hx(n,SXt),o=cl();if("__inline"in e.element&&e.element.__inline===!0){let u;return t[0]!==i||t[1]!==e.attributes||t[2]!==e.children||t[3]!==e.element||t[4]!==e.readOnly||t[5]!==e.renderChild||t[6]!==r?(u=c.jsx(wXt,{attributes:e.attributes,element:e.element,legacySchema:i,readOnly:e.readOnly,renderChild:e.renderChild,schema:r,children:e.children}),t[0]=i,t[1]=e.attributes,t[2]=e.children,t[3]=e.element,t[4]=e.readOnly,t[5]=e.renderChild,t[6]=r,t[7]=u):u=t[7],u}let a,s;if(t[8]!==e.element._key||t[9]!==r||t[10]!==o.blockIndexMap||t[11]!==o.value){const u=o.blockIndexMap.get(e.element._key);a=u!==void 0?o.value.at(u):void 0,s=St({schema:r},a),t[8]=e.element._key,t[9]=r,t[10]=o.blockIndexMap,t[11]=o.value,t[12]=a,t[13]=s}else a=t[12],s=t[13];if(s){let u;return t[14]!==a||t[15]!==i||t[16]!==e.attributes||t[17]!==e.children||t[18]!==e.element||t[19]!==e.readOnly||t[20]!==e.renderBlock||t[21]!==e.renderListItem||t[22]!==e.renderStyle||t[23]!==e.spellCheck?(u=c.jsx(CXt,{attributes:e.attributes,element:e.element,legacySchema:i,readOnly:e.readOnly,renderBlock:e.renderBlock,renderListItem:e.renderListItem,renderStyle:e.renderStyle,spellCheck:e.spellCheck,textBlock:a,children:e.children}),t[14]=a,t[15]=i,t[16]=e.attributes,t[17]=e.children,t[18]=e.element,t[19]=e.readOnly,t[20]=e.renderBlock,t[21]=e.renderListItem,t[22]=e.renderStyle,t[23]=e.spellCheck,t[24]=u):u=t[24],u}let l;return t[25]!==a||t[26]!==i||t[27]!==e.attributes||t[28]!==e.children||t[29]!==e.element||t[30]!==e.readOnly||t[31]!==e.renderBlock||t[32]!==r?(l=c.jsx(xXt,{attributes:e.attributes,blockObject:a,element:e.element,legacySchema:i,readOnly:e.readOnly,renderBlock:e.renderBlock,schema:r,children:e.children}),t[25]=a,t[26]=i,t[27]=e.attributes,t[28]=e.children,t[29]=e.element,t[30]=e.readOnly,t[31]=e.renderBlock,t[32]=r,t[33]=l):l=t[33],l}function SXt(e){return e.context.getLegacySchema()}function EXt(e){return e.context.schema}const ZOe=p.createContext(null),Lo=()=>{const e=p.useContext(ZOe);if(!e)throw new Error("The `usePortableTextEditor` hook must be used inside the <PortableTextEditor> component's context.");return e},XOe=(e,t)=>{t(e);const n=e.getSnapshot().children;n&&Object.values(n).forEach(r=>{XOe(r,t)})};function nA(e){var r,i;const t=[];XOe(e,o=>{t.push([o,o.getSnapshot()]),o.observers=new Set});const n=(i=(r=e.system).getSnapshot)==null?void 0:i.call(r);e.stop(),e.system._snapshot=n,t.forEach(([o,a])=>{o._processingStatus=0,o._snapshot=a})}const _Xt={mimeType:"application/json",serialize:({snapshot:e,event:t})=>{const n=e.context.converters.find(r=>r.mimeType==="application/x-portable-text");return n?{...n.serialize({snapshot:e,event:t}),mimeType:"application/json",originEvent:t.originEvent}:{type:"serialization.failure",mimeType:"application/json",originEvent:t.originEvent,reason:"No application/x-portable-text Converter found"}},deserialize:({snapshot:e,event:t})=>{const n=e.context.converters.find(r=>r.mimeType==="application/x-portable-text");return n?{...n.deserialize({snapshot:e,event:t}),mimeType:"application/json"}:{type:"deserialization.failure",mimeType:"application/json",reason:"No application/x-portable-text Converter found"}}},TXt={mimeType:"application/x-portable-text",serialize:({snapshot:e,event:t})=>{if(!e.context.selection)return{type:"serialization.failure",mimeType:"application/x-portable-text",originEvent:t.originEvent,reason:"No selection"};const n=OP(e);return n.length===0?{type:"serialization.failure",mimeType:"application/x-portable-text",reason:"No blocks serialized",originEvent:t.originEvent}:{type:"serialization.success",data:JSON.stringify(n),mimeType:"application/x-portable-text",originEvent:t.originEvent}},deserialize:({snapshot:e,event:t})=>{const n=JSON.parse(t.data);if(!Array.isArray(n))return{type:"deserialization.failure",mimeType:"application/x-portable-text",reason:"Data is not an array"};const r=n.flatMap(i=>{const o=zh({context:e.context,block:i,options:{refreshKeys:!0,validateFields:!1}});return o?[o]:[]});return r.length===0&&n.length>0?{type:"deserialization.failure",mimeType:"application/x-portable-text",reason:"No blocks were parsed"}:{type:"deserialization.success",data:r,mimeType:"application/x-portable-text"}}};function AXt(e){return{mimeType:"text/html",serialize:({snapshot:t,event:n})=>{if(!t.context.selection)return{type:"serialization.failure",mimeType:"text/html",originEvent:n.originEvent,reason:"No selection"};const r=OP(t),i=XWt(r,{onMissingComponent:!1,components:{unknownType:({children:o})=>o!==void 0?`${o}`:""}});return i===""?{type:"serialization.failure",mimeType:"text/html",originEvent:n.originEvent,reason:"Serialized HTML is empty"}:{type:"serialization.success",data:i,mimeType:"text/html",originEvent:n.originEvent}},deserialize:({snapshot:t,event:n})=>{const r=rOe(n.data,e.portableText,{keyGenerator:t.context.keyGenerator,unstable_whitespaceOnPasteMode:e.block.options.unstable_whitespaceOnPasteMode}).flatMap(i=>{const o=zh({context:t.context,block:i,options:{refreshKeys:!1,validateFields:!0}});return o?[o]:[]});return r.length===0?{type:"deserialization.failure",mimeType:"text/html",reason:"No blocks deserialized"}:{type:"deserialization.success",data:r,mimeType:"text/html"}}}}function jXt(e){return{mimeType:"text/plain",serialize:({snapshot:t,event:n})=>t.context.selection?{type:"serialization.success",data:OP(t).map(r=>{var i;return St(t.context,r)?r.children.map(o=>{var a;return o._type===t.context.schema.span.name?o.text:n.originEvent==="drag.dragstart"?`[${((a=t.context.schema.inlineObjects.find(s=>s.name===o._type))==null?void 0:a.title)??"Object"}]`:""}).join(""):n.originEvent==="drag.dragstart"?`[${((i=t.context.schema.blockObjects.find(o=>o.name===r._type))==null?void 0:i.title)??"Object"}]`:""}).filter(r=>r!=="").join(`

`),mimeType:"text/plain",originEvent:n.originEvent}:{type:"serialization.failure",mimeType:"text/plain",originEvent:n.originEvent,reason:"No selection"},deserialize:({snapshot:t,event:n})=>{const r=`<html><body>${$Xt(n.data).split(/\n{2,}/).map(o=>o?`<p>${o.replace(/(?:\r\n|\r|\n)/g,"<br/>")}</p>`:"<p></p>").join("")}</body></html>`,i=rOe(r,e.portableText,{keyGenerator:t.context.keyGenerator}).flatMap(o=>{const a=zh({context:t.context,block:o,options:{refreshKeys:!1,validateFields:!0}});return a?[a]:[]});return i.length===0?{type:"deserialization.failure",mimeType:"text/plain",reason:"No blocks deserialized"}:{type:"deserialization.success",data:i,mimeType:"text/plain"}}}}const IXt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function $Xt(e){return String(e).replace(/[&<>"'`=/]/g,t=>IXt[t])}function DXt(e){return[_Xt,TXt,AXt(e),jXt(e)]}function OXt(e){return SOe.compile({name:"blockTypeSchema",types:[e]}).get(e.name)}const iu=new Map;function gZ(e,{blockIndexMap:t,listIndexMap:n}){t.clear(),n.clear(),iu.clear();let r;for(let i=0;i<e.value.length;i++){const o=e.value.at(i);if(o!==void 0){if(t.set(o._key,i),!St(e,o)){iu.clear(),r=void 0;continue}if(o.listItem===void 0||o.level===void 0){iu.clear(),r=void 0;continue}if(!r){r={listItem:o.listItem,level:o.level},iu.set(o.level,1),n.set(o._key,1);continue}if(r.listItem!==o.listItem){iu.clear(),r={listItem:o.listItem,level:o.level},iu.set(o.level,1),n.set(o._key,1);continue}if(r.level===o.level){const a=iu.get(o.level)??0;iu.set(o.level,a+1),r={listItem:o.listItem,level:o.level},n.set(o._key,a+1);continue}if(r.level<o.level){iu.set(o.level,1),r={listItem:o.listItem,level:o.level},n.set(o._key,1);continue}if(r.level>o.level){const a=iu.get(o.level)??0;iu.set(o.level,a+1),r={listItem:o.listItem,level:o.level},n.set(o._key,a+1)}}}}function yZ(e){return{_type:e.schema.block.name,_key:e.keyGenerator(),style:e.schema.styles[0].name??"normal",markDefs:[],children:[{_type:e.schema.span.name,_key:e.keyGenerator(),text:"",marks:[]}]}}const hV=({context:e,operation:t})=>{const n={blockIndexMap:t.editor.blockIndexMap,context:{value:t.editor.value,selection:t.editor.selection?gs({schema:e.schema,editor:t.editor,range:t.editor.selection}):null,schema:e.schema,keyGenerator:e.keyGenerator,converters:[],readOnly:!1},decoratorState:t.editor.decoratorState},r=BE(n),i=vx(n),o=Jq(n),[a]=rXt({editor:t.editor});if(!a){ne.insertText(t.editor,t.text);return}if(r&&r.state==="unchanged"){const s=(r.marks??[]).filter(l=>e.schema.decorators.map(u=>u.name).includes(l));if(s.length===i.length&&s.every(l=>i.includes(l))){ne.insertText(t.editor,t.text);return}}ne.insertNodes(t.editor,{_type:a._type,_key:e.keyGenerator(),text:t.text,marks:[...i,...o]}),t.editor.decoratorState={}};function CF(e){return e._type==="span"&&"text"in e&&typeof e.text=="string"&&(typeof e.marks>"u"||Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"))}function MXt(e){return typeof e._type=="string"&&e._type[0]!=="@"&&(!("markDefs"in e)||!e.markDefs||Array.isArray(e.markDefs)&&e.markDefs.every(t=>typeof t._key=="string"))&&"children"in e&&Array.isArray(e.children)&&e.children.every(t=>typeof t=="object"&&"_type"in t)}function cde({editor:e,blockPath:t,spanPath:n}){let r;for(const[i,o]of Be.children(e,t,{reverse:!0}))if(e.isTextSpan(i)&&ue.isBefore(o,n)){r=i;break}return r}function ude({editor:e,blockPath:t,spanPath:n}){let r;for(const[i,o]of Be.children(e,t))if(e.isTextSpan(i)&&ue.isAfter(o,n)){r=i;break}return r}function OS(e,t){const n=a0(e)||!1;z$.set(e,!0),t(),z$.set(e,n)}function a0(e){return z$.get(e)}const K$=new WeakMap,Y$=new WeakMap;function PXt(e,t){const n=Bw(e);K$.set(e,!0),t(),K$.set(e,n)}function Bw(e){return K$.get(e)??!1}function RXt(e,t){K$.set(e,t)}function FXt(e,t){const n=Vw(e);Y$.set(e,!0),t(),Y$.set(e,n)}function Vw(e){return Y$.get(e)??!1}function LXt(e,t){Y$.set(e,t)}function Ab({editorActorSnapshot:e,slateEditorInstance:t}){return{blockIndexMap:t.blockIndexMap,context:{converters:[...e.context.converters],keyGenerator:e.context.keyGenerator,readOnly:e.matches({"edit mode":"read only"}),schema:e.context.schema,selection:e.context.selection,value:t.value},decoratorState:t.decoratorState}}const Af=Ts("plugin:withPortableTextMarkModel");function NXt(e){return function(t){const{apply:n,normalizeNode:r}=t,i=e.getSnapshot().context.schema.decorators.map(o=>o.name);return t.normalizeNode=o=>{var l,u,d,f;const[a,s]=o;if(t.isTextBlock(a)){const h=Be.children(t,s);for(const[m,g]of h){const y=a.children[g[1]+1];if(t.isTextSpan(m)&&t.isTextSpan(y)&&((l=m.marks)!=null&&l.every(x=>{var b;return(b=y.marks)==null?void 0:b.includes(x)}))&&((u=y.marks)!=null&&u.every(x=>{var b;return(b=m.marks)==null?void 0:b.includes(x)}))){Af("Merging spans",JSON.stringify(m,null,2),JSON.stringify(y,null,2)),e.send({type:"normalizing"}),ne.mergeNodes(t,{at:[g[0],g[1]+1],voids:!0}),e.send({type:"done normalizing"});return}}}if(t.isTextBlock(a)&&!Array.isArray(a.markDefs)){Af("Adding .markDefs to block node"),e.send({type:"normalizing"}),ne.setNodes(t,{markDefs:[]},{at:s}),e.send({type:"done normalizing"});return}if(t.isTextSpan(a)&&!Array.isArray(a.marks)){Af("Adding .marks to span node"),e.send({type:"normalizing"}),ne.setNodes(t,{marks:[]},{at:s}),e.send({type:"done normalizing"});return}if(t.isTextSpan(a)){const h=ue.parent(s),[m]=z.node(t,h),g=e.getSnapshot().context.schema.decorators.map(x=>x.name),y=(d=a.marks)==null?void 0:d.filter(x=>!g.includes(x));if(t.isTextBlock(m)&&a.text===""&&y&&y.length>0){Af("Removing annotations from empty span node"),e.send({type:"normalizing"}),ne.setNodes(t,{marks:(f=a.marks)==null?void 0:f.filter(x=>g.includes(x))},{at:s}),e.send({type:"done normalizing"});return}}if(t.isTextBlock(a)){const h=e.getSnapshot().context.schema.decorators.map(m=>m.name);for(const[m,g]of Be.children(t,s))if(t.isTextSpan(m)){const y=m.marks??[],x=y.filter(b=>{var v;return!h.includes(b)&&!((v=a.markDefs)!=null&&v.find(w=>w._key===b))});if(x.length>0){Af("Removing orphaned annotations from span node"),e.send({type:"normalizing"}),ne.setNodes(t,{marks:y.filter(b=>!x.includes(b))},{at:g}),e.send({type:"done normalizing"});return}}}if(t.isTextSpan(a)){const h=ue.parent(s),[m]=z.node(t,h);if(t.isTextBlock(m)){const g=e.getSnapshot().context.schema.decorators.map(b=>b.name),y=a.marks??[],x=y.filter(b=>{var v;return!g.includes(b)&&!((v=m.markDefs)!=null&&v.find(w=>w._key===b))});if(x.length>0){Af("Removing orphaned annotations from span node"),e.send({type:"normalizing"}),ne.setNodes(t,{marks:y.filter(b=>!x.includes(b))},{at:s}),e.send({type:"done normalizing"});return}}}if(t.isTextBlock(a)){const h=a.markDefs??[],m=new Set,g=[];for(const y of h)m.has(y._key)||(m.add(y._key),g.push(y));if(h.length!==g.length){Af("Removing duplicate markDefs"),e.send({type:"normalizing"}),ne.setNodes(t,{markDefs:g},{at:s}),e.send({type:"done normalizing"});return}}if(t.isTextBlock(a)&&!t.operations.some(h=>h.type==="merge_node"&&"markDefs"in h.properties&&h.path.length===1)){const h=(a.markDefs||[]).filter(m=>a.children.find(g=>Ke.isText(g)&&Array.isArray(g.marks)&&g.marks.includes(m._key)));if(a.markDefs&&!Dt(h,a.markDefs)){Af("Removing markDef not in use"),e.send({type:"normalizing"}),ne.setNodes(t,{markDefs:h},{at:s}),e.send({type:"done normalizing"});return}}r(o)},t.apply=o=>{var a,s,l,u,d,f,h,m,g,y,x,b;if(a0(t)){n(o);return}if(Bw(t)||Vw(t)){n(o);return}if(o.type==="set_selection"&&o.properties&&o.newProperties&&o.properties.anchor&&o.properties.focus&&o.newProperties.anchor&&o.newProperties.focus){const v=me.isCollapsed({anchor:o.properties.anchor,focus:o.properties.focus}),w=me.isCollapsed({anchor:o.newProperties.anchor,focus:o.newProperties.focus});if(v&&w){const C=(a=Array.from(z.nodes(t,{mode:"lowest",at:o.properties.focus,match:_=>t.isTextSpan(_),voids:!1}))[0])==null?void 0:a[0],k=(s=Array.from(z.nodes(t,{mode:"lowest",at:o.newProperties.focus,match:_=>t.isTextSpan(_),voids:!1}))[0])==null?void 0:s[0],S=C&&k&&o.newProperties.focus.path[0]===o.properties.focus.path[0]&&o.newProperties.focus.path[1]===o.properties.focus.path[1]+1&&C.text.length===o.properties.focus.offset&&o.newProperties.focus.offset===0,E=C&&k&&o.newProperties.focus.path[0]===o.properties.focus.path[0]&&o.newProperties.focus.path[1]===o.properties.focus.path[1]-1&&o.properties.focus.offset===0&&k.text.length===o.newProperties.focus.offset;!S&&!E&&(t.decoratorState={})}}if(o.type==="insert_node"){const{selection:v}=t;if(v){const[w,C]=z.node(t,v,{depth:1}),k=cde({editor:t,blockPath:C,spanPath:o.path}),S=k?(l=k.marks)==null?void 0:l.filter(D=>!i.includes(D)):[],E=ude({editor:t,blockPath:C,spanPath:[o.path[0],o.path[1]-1]}),_=E?(u=E.marks)==null?void 0:u.filter(D=>!i.includes(D)):[],T=(S==null?void 0:S.filter(D=>!(_!=null&&_.includes(D))))??[],A=T.length>0;if(A&&CF(o.node)&&((d=o.node.marks)!=null&&d.some(D=>T.includes(D)))){ne.insertNodes(t,{...o.node,_key:e.getSnapshot().context.keyGenerator(),marks:((f=o.node.marks)==null?void 0:f.filter(D=>!T.includes(D)))??[]});return}const I=(_==null?void 0:_.filter(D=>!(S!=null&&S.includes(D))))??[],j=I.length>0;if(j&&CF(o.node)&&((h=o.node.marks)!=null&&h.some(D=>I.includes(D)))){ne.insertNodes(t,{...o.node,_key:e.getSnapshot().context.keyGenerator(),marks:((m=o.node.marks)==null?void 0:m.filter(D=>!I.includes(D)))??[]});return}const $=((g=E==null?void 0:E.marks)==null?void 0:g.filter(D=>i.includes(D)))??[];if($.length>0&&A&&!j&&CF(o.node)&&((y=o.node.marks)==null?void 0:y.length)===0){ne.insertNodes(t,{...o.node,_key:e.getSnapshot().context.keyGenerator(),marks:$});return}}}if(o.type==="insert_text"){const v=Ab({editorActorSnapshot:e.getSnapshot(),slateEditorInstance:t}),w=BE(v);if(!w){n(o);return}if(w.state==="unchanged"){n(o);return}ne.insertNodes(t,{_type:"span",_key:e.getSnapshot().context.keyGenerator(),text:o.text,marks:w.marks});return}if(o.type==="remove_text"){const{selection:v}=t;if(v&&me.isExpanded(v)){const[w,C]=z.node(t,v,{depth:1}),[k,S]=Array.from(z.nodes(t,{mode:"lowest",at:{path:o.path,offset:o.offset},match:E=>t.isTextSpan(E),voids:!1}))[0]??[void 0,void 0];if(k&&w&&MXt(w)){const E=w.markDefs??[],_=k.marks??[],T=_.some(M=>E.find(P=>P._key===M)),A=o.offset+o.text.length===k.text.length,I=o.offset===0&&A,j=cde({editor:t,blockPath:C,spanPath:S}),$=ude({editor:t,blockPath:C,spanPath:S}),D=j?(x=j.marks)==null?void 0:x.some(M=>!i.includes(M)&&_.includes(M)):!1,O=$?(b=$.marks)==null?void 0:b.some(M=>!i.includes(M)&&_.includes(M)):!1;if(T&&I&&!D&&!O){const M=Ab({editorActorSnapshot:e.getSnapshot(),slateEditorInstance:t});z.withoutNormalizing(t,()=>{n(o),ne.setNodes(t,{marks:vx(M)},{at:o.path})}),t.onChange();return}}}}if(o.type==="merge_node"&&o.path.length===1&&"markDefs"in o.properties&&o.properties._type===e.getSnapshot().context.schema.block.name&&Array.isArray(o.properties.markDefs)&&o.properties.markDefs.length>0&&o.path[0]-1>=0){const[v,w]=z.node(t,[o.path[0]-1]);if(t.isTextBlock(v)){const C=Array.isArray(v.markDefs)&&v.markDefs||[],k=Io([...C,...o.properties.markDefs]);Af("Copying markDefs over to merged block",o),ne.setNodes(t,{markDefs:k},{at:w,voids:!1}),n(o);return}}n(o)},t}}const BXt=({operation:e})=>{const t=e.editor,n=e.decorator,{selection:r}=t;if(r){if(me.isExpanded(r))ne.setNodes(t,{},{match:Ke.isText,split:!0,hanging:!0}),t.selection&&[...z.nodes(t,{at:t.selection,match:Ke.isText})].forEach(([i,o])=>{const a=t.children[o[0]];tt.isElement(a)&&a.children.includes(i)&&ne.setNodes(t,{marks:(Array.isArray(i.marks)?i.marks:[]).filter(s=>s!==n),_type:"span"},{at:o})});else{const[i,o]=z.node(t,r,{depth:1}),a=t.isTextBlock(i)&&i.children.length===1&&t.isTextSpan(i.children[0])&&i.children[0].text===""?i.children[0]:void 0;if(a){const s=(a.marks??[]).filter(l=>l!==n);ne.setNodes(t,{marks:s},{at:o,match:l=>t.isTextSpan(l)})}else t.decoratorState[n]=!1}if(t.selection){const i=t.selection;t.selection={...i}}}};function GE(e){const[t,n]=e;return[t,n]}function dde(e,t){let n=e,r=t;const i=n.length,o=r.length;if(i===0||o===0)return 0;i>o?n=n.substring(i-o):i<o&&(r=r.substring(0,i));const a=Math.min(i,o);if(n===r)return a;let s=0,l=1;for(let u=0;u!==-1;){const d=n.substring(a-l);if(u=r.indexOf(d),u===-1)return s;l+=u,(u===0||n.substring(a-l)===r.substring(0,l))&&(s=l,l++)}return s}function vZ(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),i=r,o=0;for(;n<i;)e.substring(o,i)===t.substring(o,i)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return i}function UP(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),i=r,o=0;for(;n<i;)e.substring(e.length-i,e.length-o)===t.substring(t.length-i,t.length-o)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return i}function VXt(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function zXt(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function UXt(e,t,n){const r=e.length,i=t.length,o=Math.ceil((r+i)/2),a=o,s=2*o,l=new Array(s),u=new Array(s);for(let x=0;x<s;x++)l[x]=-1,u[x]=-1;l[a+1]=0,u[a+1]=0;const d=r-i,f=d%2!==0;let h=0,m=0,g=0,y=0;for(let x=0;x<o&&!(Date.now()>n);x++){for(let b=-x+h;b<=x-m;b+=2){const v=a+b;let w;b===-x||b!==x&&l[v-1]<l[v+1]?w=l[v+1]:w=l[v-1]+1;let C=w-b;for(;w<r&&C<i&&e.charAt(w)===t.charAt(C);)w++,C++;if(l[v]=w,w>r)m+=2;else if(C>i)h+=2;else if(f){const k=a+d-b;if(k>=0&&k<s&&u[k]!==-1){const S=r-u[k];if(w>=S)return fde(e,t,w,C,n)}}}for(let b=-x+g;b<=x-y;b+=2){const v=a+b;let w;b===-x||b!==x&&u[v-1]<u[v+1]?w=u[v+1]:w=u[v-1]+1;let C=w-b;for(;w<r&&C<i&&e.charAt(r-w-1)===t.charAt(i-C-1);)w++,C++;if(u[v]=w,w>r)y+=2;else if(C>i)g+=2;else if(!f){const k=a+d-b;if(k>=0&&k<s&&l[k]!==-1){const S=l[k],E=a+S-k;if(w=r-w,S>=w)return fde(e,t,S,E,n)}}}}return[[mi,e],[Ui,t]]}function fde(e,t,n,r,i){const o=e.substring(0,n),a=t.substring(0,r),s=e.substring(n),l=t.substring(r),u=Cy(o,a,{checkLines:!1,deadline:i}),d=Cy(s,l,{checkLines:!1,deadline:i});return u.concat(d)}function HXt(e,t,n=1){if(n<=0)return null;const r=e.length>t.length?e:t,i=e.length>t.length?t:e;if(r.length<4||i.length*2<r.length)return null;const o=hde(r,i,Math.ceil(r.length/4)),a=hde(r,i,Math.ceil(r.length/2));let s;if(o&&a)s=o[4].length>a[4].length?o:a;else{if(!o&&!a)return null;a?o||(s=a):s=o}if(!s)throw new Error("Unable to find a half match.");let l,u,d,f;e.length>t.length?(l=s[0],u=s[1],d=s[2],f=s[3]):(d=s[0],f=s[1],l=s[2],u=s[3]);const h=s[4];return[l,u,d,f,h]}function hde(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let i=-1,o="",a,s,l,u;for(;(i=t.indexOf(r,i+1))!==-1;){const d=vZ(e.slice(n),t.slice(i)),f=UP(e.slice(0,n),t.slice(0,i));o.length<f+d&&(o=t.slice(i-f,i)+t.slice(i,i+d),a=e.slice(0,n-f),s=e.slice(n+d),l=t.slice(0,i-f),u=t.slice(i+d))}return o.length*2>=e.length?[a||"",s||"",l||"",u||"",o||""]:null}function WXt(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],i=[];for(let o=0;o<r.length;o++)i[o]=t[r.charCodeAt(o)];e[n][1]=i.join("")}}function GXt(e,t){const n=[],r={};n[0]="";function i(l){let u="",d=0,f=-1,h=n.length;for(;f<l.length-1;){f=l.indexOf(`
`,d),f===-1&&(f=l.length-1);let m=l.slice(d,f+1);(r.hasOwnProperty?r.hasOwnProperty(m):r[m]!==void 0)?u+=String.fromCharCode(r[m]):(h===o&&(m=l.slice(d),f=l.length),u+=String.fromCharCode(h),r[m]=h,n[h++]=m),d=f+1}return u}let o=4e4;const a=i(e);o=65535;const s=i(t);return{chars1:a,chars2:s,lineArray:n}}function KXt(e,t,n){let r=e,i=t;const o=GXt(r,i);r=o.chars1,i=o.chars2;const a=o.lineArray;let s=Cy(r,i,{checkLines:!1,deadline:n.deadline});WXt(s,a),s=rJt(s),s.push([bn,""]);let l=0,u=0,d=0,f="",h="";for(;l<s.length;){switch(s[l][0]){case Ui:d++,h+=s[l][1];break;case mi:u++,f+=s[l][1];break;case bn:if(u>=1&&d>=1){s.splice(l-u-d,u+d),l=l-u-d;const m=Cy(f,h,{checkLines:!1,deadline:n.deadline});for(let g=m.length-1;g>=0;g--)s.splice(l,0,m[g]);l+=m.length}d=0,u=0,f="",h="";break;default:throw new Error("Unknown diff operation.")}l++}return s.pop(),s}function YXt(e,t,n){let r;if(!e)return[[Ui,t]];if(!t)return[[mi,e]];const i=e.length>t.length?e:t,o=e.length>t.length?t:e,a=i.indexOf(o);if(a!==-1)return r=[[Ui,i.substring(0,a)],[bn,o],[Ui,i.substring(a+o.length)]],e.length>t.length&&(r[0][0]=mi,r[2][0]=mi),r;if(o.length===1)return[[mi,e],[Ui,t]];const s=HXt(e,t);if(s){const l=s[0],u=s[1],d=s[2],f=s[3],h=s[4],m=Cy(l,d,n),g=Cy(u,f,n);return m.concat([[bn,h]],g)}return n.checkLines&&e.length>100&&t.length>100?KXt(e,t,n):UXt(e,t,n.deadline)}var qXt=Object.defineProperty,pde=Object.getOwnPropertySymbols,ZXt=Object.prototype.hasOwnProperty,XXt=Object.prototype.propertyIsEnumerable,mde=(e,t,n)=>t in e?qXt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JXt=(e,t)=>{for(var n in t||(t={}))ZXt.call(t,n)&&mde(e,n,t[n]);if(pde)for(var n of pde(t))XXt.call(t,n)&&mde(e,n,t[n]);return e};const mi=-1,Ui=1,bn=0;function JOe(e,t,n){if(e===null||t===null)throw new Error("Null input. (diff)");const r=Cy(e,t,eJt(n||{}));return nJt(r),r}function Cy(e,t,n){let r=e,i=t;if(r===i)return r?[[bn,r]]:[];let o=vZ(r,i);const a=r.substring(0,o);r=r.substring(o),i=i.substring(o),o=UP(r,i);const s=r.substring(r.length-o);r=r.substring(0,r.length-o),i=i.substring(0,i.length-o);let l=YXt(r,i,n);return a&&l.unshift([bn,a]),s&&l.push([bn,s]),l=HP(l),l}function QXt(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+t*1e3}function eJt(e){return JXt({checkLines:!0,deadline:QXt(e.timeout||1)},e)}function rA(e,t,n){return n===1?e+t:t+e}function iA(e,t){return t===1?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function tJt(e,t,n,r){return r===1?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function gde(e,t,n){const r=n===1?-1:1;let i=null,o=null,a=t+n;for(;a>=0&&a<e.length&&(i===null||o===null);a+=n){const[u,d]=e[a];if(d.length!==0){if(u===Ui){i===null&&(i=a);continue}else if(u===mi){o===null&&(o=a);continue}else if(u===bn){if(i===null&&o===null){const[f,h]=iA(e[t][1],n);e[t][1]=f,e[a][1]=rA(e[a][1],h,r);return}break}}}if(i!==null&&o!==null&&tJt(e,i,o,n)){const[u,d]=iA(e[i][1],r),[f]=iA(e[o][1],r);e[i][1]=u,e[o][1]=f,e[t][1]=rA(e[t][1],d,n);return}const[s,l]=iA(e[t][1],n);e[t][1]=s,i===null?(e.splice(a,0,[Ui,l]),o!==null&&o>=a&&o++):e[i][1]=rA(e[i][1],l,r),o===null?e.splice(a,0,[mi,l]):e[o][1]=rA(e[o][1],l,r)}function nJt(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(r.length===0)continue;const i=r[0],o=r[r.length-1];VXt(o)&&n===bn&&gde(e,t,1),zXt(i)&&n===bn&&gde(e,t,-1)}for(let t=0;t<e.length;t++)e[t][1].length===0&&e.splice(t,1)}function rJt(e){let t=e.map(f=>GE(f)),n=!1;const r=[];let i=0,o=null,a=0,s=0,l=0,u=0,d=0;for(;a<t.length;)t[a][0]===bn?(r[i++]=a,s=u,l=d,u=0,d=0,o=t[a][1]):(t[a][0]===Ui?u+=t[a][1].length:d+=t[a][1].length,o&&o.length<=Math.max(s,l)&&o.length<=Math.max(u,d)&&(t.splice(r[i-1],0,[mi,o]),t[r[i-1]+1][0]=Ui,i--,i--,a=i>0?r[i-1]:-1,s=0,l=0,u=0,d=0,o=null,n=!0)),a++;for(n&&(t=HP(t)),t=QOe(t),a=1;a<t.length;){if(t[a-1][0]===mi&&t[a][0]===Ui){const f=t[a-1][1],h=t[a][1],m=dde(f,h),g=dde(h,f);m>=g?(m>=f.length/2||m>=h.length/2)&&(t.splice(a,0,[bn,h.substring(0,m)]),t[a-1][1]=f.substring(0,f.length-m),t[a+1][1]=h.substring(m),a++):(g>=f.length/2||g>=h.length/2)&&(t.splice(a,0,[bn,f.substring(0,g)]),t[a-1][0]=Ui,t[a-1][1]=h.substring(0,h.length-g),t[a+1][0]=mi,t[a+1][1]=f.substring(g),a++),a++}a++}return t}const yde=/[^a-zA-Z0-9]/,vde=/\s/,bde=/[\r\n]/,iJt=/\n\r?\n$/,oJt=/^\r?\n\r?\n/;function QOe(e){const t=e.map(i=>GE(i));function n(i,o){if(!i||!o)return 6;const a=i.charAt(i.length-1),s=o.charAt(0),l=a.match(yde),u=s.match(yde),d=l&&a.match(vde),f=u&&s.match(vde),h=d&&a.match(bde),m=f&&s.match(bde),g=h&&i.match(iJt),y=m&&o.match(oJt);return g||y?5:h||m?4:l&&!d&&f?3:d||f?2:l||u?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===bn&&t[r+1][0]===bn){let i=t[r-1][1],o=t[r][1],a=t[r+1][1];const s=UP(i,o);if(s){const h=o.substring(o.length-s);i=i.substring(0,i.length-s),o=h+o.substring(0,o.length-s),a=h+a}let l=i,u=o,d=a,f=n(i,o)+n(o,a);for(;o.charAt(0)===a.charAt(0);){i+=o.charAt(0),o=o.substring(1)+a.charAt(0),a=a.substring(1);const h=n(i,o)+n(o,a);h>=f&&(f=h,l=i,u=o,d=a)}t[r-1][1]!==l&&(l?t[r-1][1]=l:(t.splice(r-1,1),r--),t[r][1]=u,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}return t}function HP(e){let t=e.map(u=>GE(u));t.push([bn,""]);let n=0,r=0,i=0,o="",a="",s;for(;n<t.length;)switch(t[n][0]){case Ui:i++,a+=t[n][1],n++;break;case mi:r++,o+=t[n][1],n++;break;case bn:r+i>1?(r!==0&&i!==0&&(s=vZ(a,o),s!==0&&(n-r-i>0&&t[n-r-i-1][0]===bn?t[n-r-i-1][1]+=a.substring(0,s):(t.splice(0,0,[bn,a.substring(0,s)]),n++),a=a.substring(s),o=o.substring(s)),s=UP(a,o),s!==0&&(t[n][1]=a.substring(a.length-s)+t[n][1],a=a.substring(0,a.length-s),o=o.substring(0,o.length-s))),n-=r+i,t.splice(n,r+i),o.length&&(t.splice(n,0,[mi,o]),n++),a.length&&(t.splice(n,0,[Ui,a]),n++),n++):n!==0&&t[n-1][0]===bn?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,o="",a="";break;default:throw new Error("Unknown diff operation")}t[t.length-1][1]===""&&t.pop();let l=!1;for(n=1;n<t.length-1;)t[n-1][0]===bn&&t[n+1][0]===bn&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),l=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),l=!0)),n++;return l&&(t=HP(t)),t}function aJt(...e){return e.reduce((t,n)=>t+(n?1:0),0)}function sJt(e,t=4){let n=e.map(h=>GE(h)),r=!1;const i=[];let o=0,a=null,s=0,l=!1,u=!1,d=!1,f=!1;for(;s<n.length;)n[s][0]===bn?(n[s][1].length<t&&(d||f)?(i[o++]=s,l=d,u=f,a=n[s][1]):(o=0,a=null),d=!1,f=!1):(n[s][0]===mi?f=!0:d=!0,a&&(l&&u&&d&&f||a.length<t/2&&aJt(l,u,d,f)===3)&&(n.splice(i[o-1],0,[mi,a]),n[i[o-1]+1][0]=Ui,o--,a=null,l&&u?(d=!0,f=!0,o=0):(o--,s=o>0?i[o-1]:-1,d=!1,f=!1),r=!0)),s++;return r&&(n=HP(n)),n}var lJt=Object.defineProperty,xde=Object.getOwnPropertySymbols,cJt=Object.prototype.hasOwnProperty,uJt=Object.prototype.propertyIsEnumerable,wde=(e,t,n)=>t in e?lJt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cde=(e,t)=>{for(var n in t||(t={}))cJt.call(t,n)&&wde(e,n,t[n]);if(xde)for(var n of xde(t))uJt.call(t,n)&&wde(e,n,t[n]);return e};const dJt={threshold:.5,distance:1e3};function fJt(e){return Cde(Cde({},dJt),e)}const hJt=32;function pJt(e,t,n,r={}){if(t.length>hJt)throw new Error("Pattern too long for this browser.");const i=fJt(r),o=mJt(t);function a(g,y){const x=g/t.length,b=Math.abs(n-y);return i.distance?x+b/i.distance:b?1:x}let s=i.threshold,l=e.indexOf(t,n);l!==-1&&(s=Math.min(a(0,l),s),l=e.lastIndexOf(t,n+t.length),l!==-1&&(s=Math.min(a(0,l),s)));const u=1<<t.length-1;l=-1;let d,f,h=t.length+e.length,m=[];for(let g=0;g<t.length;g++){for(d=0,f=h;d<f;)a(g,n+f)<=s?d=f:h=f,f=Math.floor((h-d)/2+d);h=f;let y=Math.max(1,n-f+1);const x=Math.min(n+f,e.length)+t.length,b=new Array(x+2);b[x+1]=(1<<g)-1;for(let v=x;v>=y;v--){const w=o[e.charAt(v-1)];if(g===0?b[v]=(b[v+1]<<1|1)&w:b[v]=(b[v+1]<<1|1)&w|((m[v+1]|m[v])<<1|1)|m[v+1],b[v]&u){const C=a(g,v-1);if(C<=s)if(s=C,l=v-1,l>n)y=Math.max(1,2*n-l);else break}}if(a(g+1,n)>s)break;m=b}return l}function mJt(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function kF(e,t,n,r={}){if(e===null||t===null||n===null)throw new Error("Null input. (match())");const i=Math.max(0,Math.min(n,e.length));if(e===t)return 0;if(e.length){if(e.substring(i,i+t.length)===t)return i}else return-1;return pJt(e,t,i,r)}function eMe(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Ui&&(t[n]=e[n][1]);return t.join("")}function tMe(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==mi&&(t[n]=e[n][1]);return t.join("")}function gJt(e){let t=0,n=0,r=0;for(let i=0;i<e.length;i++){const o=e[i][0],a=e[i][1];switch(o){case Ui:n+=a.length;break;case mi:r+=a.length;break;case bn:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function kde(e,t){let n=0,r=0,i=0,o=0,a;for(a=0;a<e.length&&(e[a][0]!==Ui&&(n+=e[a][1].length),e[a][0]!==mi&&(r+=e[a][1].length),!(n>t));a++)i=n,o=r;return e.length!==a&&e[a][0]===mi?o:o+(t-i)}function Ik(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=nMe(r)}return t}function yJt(e,t,n={}){let r=0,i=0;function o(s){for(;r<s;){const l=t.codePointAt(i);if(typeof l>"u")return i;r+=nMe(l),l>65535?i+=2:i+=1}if(!n.allowExceedingIndices&&r!==s)throw new Error("Failed to determine byte offset");return i}const a=[];for(const s of e)a.push({diffs:s.diffs.map(l=>GE(l)),start1:o(s.start1),start2:o(s.start2),utf8Start1:s.utf8Start1,utf8Start2:s.utf8Start2,length1:s.length1,length2:s.length2,utf8Length1:s.utf8Length1,utf8Length2:s.utf8Length2});return a}function nMe(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const e1=32,bZ=4;function vJt(e,t=bZ){const n=t;let r="";for(let a=1;a<=n;a++)r+=String.fromCharCode(a);for(const a of e)a.start1+=n,a.start2+=n,a.utf8Start1+=n,a.utf8Start2+=n;let i=e[0],o=i.diffs;if(o.length===0||o[0][0]!==bn)o.unshift([bn,r]),i.start1-=n,i.start2-=n,i.utf8Start1-=n,i.utf8Start2-=n,i.length1+=n,i.length2+=n,i.utf8Length1+=n,i.utf8Length2+=n;else if(n>o[0][1].length){const a=o[0][1].length,s=n-a;o[0][1]=r.substring(a)+o[0][1],i.start1-=s,i.start2-=s,i.utf8Start1-=s,i.utf8Start2-=s,i.length1+=s,i.length2+=s,i.utf8Length1+=s,i.utf8Length2+=s}if(i=e[e.length-1],o=i.diffs,o.length===0||o[o.length-1][0]!==bn)o.push([bn,r]),i.length1+=n,i.length2+=n,i.utf8Length1+=n,i.utf8Length2+=n;else if(n>o[o.length-1][1].length){const a=n-o[o.length-1][1].length;o[o.length-1][1]+=r.substring(0,a),i.length1+=a,i.length2+=a,i.utf8Length1+=a,i.utf8Length2+=a}return r}function rMe(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function bJt(e,t=bZ){const n=e1;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const i=e[r];e.splice(r--,1);let o=i.start1,a=i.start2,s="";for(;i.diffs.length!==0;){const l=rMe(o-s.length,a-s.length);let u=!0;if(s!==""){const h=Ik(s);l.length1=s.length,l.utf8Length1=h,l.length2=s.length,l.utf8Length2=h,l.diffs.push([bn,s])}for(;i.diffs.length!==0&&l.length1<n-t;){const h=i.diffs[0][0];let m=i.diffs[0][1],g=Ik(m);if(h===Ui){l.length2+=m.length,l.utf8Length2+=g,a+=m.length;const y=i.diffs.shift();y&&l.diffs.push(y),u=!1}else h===mi&&l.diffs.length===1&&l.diffs[0][0]===bn&&m.length>2*n?(l.length1+=m.length,l.utf8Length1+=g,o+=m.length,u=!1,l.diffs.push([h,m]),i.diffs.shift()):(m=m.substring(0,n-l.length1-t),g=Ik(m),l.length1+=m.length,l.utf8Length1+=g,o+=m.length,h===bn?(l.length2+=m.length,l.utf8Length2+=g,a+=m.length):u=!1,l.diffs.push([h,m]),m===i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(m.length))}s=tMe(l.diffs),s=s.substring(s.length-t);const d=eMe(i.diffs).substring(0,t),f=Ik(d);d!==""&&(l.length1+=d.length,l.length2+=d.length,l.utf8Length1+=f,l.utf8Length2+=f,l.diffs.length!==0&&l.diffs[l.diffs.length-1][0]===bn?l.diffs[l.diffs.length-1][1]+=d:l.diffs.push([bn,d])),u||e.splice(++r,0,l)}}}function xJt(e,t,n={}){if(typeof e=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(e.length===0)return[r,[]];const i=yJt(e,r,{allowExceedingIndices:n.allowExceedingIndices}),o=n.margin||bZ,a=n.deleteThreshold||.4,s=vJt(i,o);r=s+r+s,bJt(i,o);let l=0;const u=[];for(let d=0;d<i.length;d++){const f=i[d].start2+l,h=eMe(i[d].diffs);let m,g=-1;if(h.length>e1?(m=kF(r,h.substring(0,e1),f),m!==-1&&(g=kF(r,h.substring(h.length-e1),f+h.length-e1),(g===-1||m>=g)&&(m=-1))):m=kF(r,h,f),m===-1)u[d]=!1,l-=i[d].length2-i[d].length1;else{u[d]=!0,l=m-f;let y;if(g===-1?y=r.substring(m,m+h.length):y=r.substring(m,g+e1),h===y)r=r.substring(0,m)+tMe(i[d].diffs)+r.substring(m+h.length);else{let x=JOe(h,y,{checkLines:!1});if(h.length>e1&&gJt(x)/h.length>a)u[d]=!1;else{x=QOe(x);let b=0,v=0;for(let w=0;w<i[d].diffs.length;w++){const C=i[d].diffs[w];C[0]!==bn&&(v=kde(x,b)),C[0]===Ui?r=r.substring(0,m+v)+C[1]+r.substring(m+v):C[0]===mi&&(r=r.substring(0,m+v)+r.substring(m+kde(x,b+C[1].length))),C[0]!==mi&&(b+=C[1].length)}}}}}return r=r.substring(s.length,r.length-s.length),[r,u]}const wJt=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function iMe(e){if(!e)return[];const t=[],n=e.split(`
`);let r=0;for(;r<n.length;){const i=n[r].match(wJt);if(!i)throw new Error(`Invalid patch string: ${n[r]}`);const o=rMe(oA(i[1]),oA(i[3]));for(t.push(o),i[2]===""?(o.start1--,o.utf8Start1--,o.length1=1,o.utf8Length1=1):i[2]==="0"?(o.length1=0,o.utf8Length1=0):(o.start1--,o.utf8Start1--,o.utf8Length1=oA(i[2]),o.length1=o.utf8Length1),i[4]===""?(o.start2--,o.utf8Start2--,o.length2=1,o.utf8Length2=1):i[4]==="0"?(o.length2=0,o.utf8Length2=0):(o.start2--,o.utf8Start2--,o.utf8Length2=oA(i[4]),o.length2=o.utf8Length2),r++;r<n.length;){const a=n[r],s=a.charAt(0);if(s==="@")break;if(s===""){r++;continue}let l;try{l=decodeURI(a.slice(1))}catch{throw new Error(`Illegal escape in parse: ${a}`)}const u=Ik(l)-l.length;if(s==="-")o.diffs.push([mi,l]),o.length1-=u;else if(s==="+")o.diffs.push([Ui,l]),o.length2-=u;else if(s===" ")o.diffs.push([bn,l]),o.length1-=u,o.length2-=u;else throw new Error(`Invalid patch mode "${s}" in: ${l}`);r++}}return t}function oA(e){return parseInt(e,10)}const cI=new WeakMap;function CJt(e,t){const n=cI.get(e);if(n){t();return}cI.set(e,n??{undoStepId:Jm()}),t(),cI.set(e,void 0)}function Sde(e){var t;return(t=cI.get(e))==null?void 0:t.undoStepId}const Cu=Ts("plugin:withUndoRedo"),wx=new WeakMap,SF=new WeakMap,kJt=1e3,oMe=e=>{const t=wx.get(e);return t===void 0?!0:t},xZ=e=>(SF.get(e)||SF.set(e,[]),SF.get(e)||[]);function SJt(e){const{editorActor:t}=e;return n=>{let r=hi(n.children,t.getSnapshot().context.schema.block.name);const i=xZ(n);let o=Sde(n);e.subscriptions.push(()=>{Cu("Subscribing to patches");const s=t.on("patches",({patches:l,snapshot:u})=>{let d=!1;l.forEach(f=>{if(!d&&f.origin!=="local"&&i){if(f.type==="unset"&&f.path.length===0){Cu("Someone else cleared the content, resetting undo/redo history"),n.history={undos:[],redos:[]},i.splice(0,i.length),wx.set(n,!0),d=!0;return}i.push({patch:f,time:new Date,snapshot:u,previousSnapshot:r})}}),r=u});return()=>{Cu("Unsubscribing to patches"),s.unsubscribe()}}),n.history={undos:[],redos:[]};const{apply:a}=n;return n.apply=s=>{if(t.getSnapshot().matches({"edit mode":"read only"})){a(s);return}if(a0(n)){a(s);return}if(Bw(n)||Vw(n)){a(s);return}const{operations:l,history:u}=n,{undos:d}=u,f=d[d.length-1],h=f&&f.operations&&f.operations[f.operations.length-1],m=AJt(s,h),g=oMe(n),y=Sde(n);let x=y===o;if(g){if(f?l.length===0&&(x=y===void 0&&o===void 0?TJt(s,h)||m:x):x=!1,f&&x)f.operations.push(s);else{const b={operations:[...n.selection===null?[]:[IJt(n)],s],timestamp:new Date};d.push(b),Cu("Created new undo step",f)}for(;d.length>kJt;)d.shift();jJt(s)&&(u.redos=[])}o=y,a(s)},n}}const EJt=({operation:e})=>{const t=e.editor,{undos:n}=t.history,r=xZ(t);if(n.length>0){const i=n[n.length-1];if(Cu("Undoing",i),i.operations.length>0){const o=r.filter(l=>l.time>=i.timestamp);let a=i.operations;o.forEach(l=>{a=jr(a.map(u=>aMe(t,l.patch,u,l.snapshot,l.previousSnapshot)))});const s=a.map(zv.inverse).reverse();try{z.withoutNormalizing(t,()=>{PXt(t,()=>{WP(t,()=>{s.forEach(l=>{t.apply(l)})})})})}catch(l){Cu("Could not perform undo step",l),r.splice(0,r.length),ne.deselect(t),t.history={undos:[],redos:[]},wx.set(t,!0),RXt(t,!1),t.onChange();return}t.history.redos.push(i),t.history.undos.pop()}}},_Jt=({operation:e})=>{const t=e.editor,{redos:n}=t.history,r=xZ(t);if(n.length>0){const i=n[n.length-1];if(Cu("Redoing",i),i.operations.length>0){const o=r.filter(s=>s.time>=i.timestamp);let a=i.operations;o.forEach(s=>{a=jr(a.map(l=>aMe(t,s.patch,l,s.snapshot,s.previousSnapshot)))});try{z.withoutNormalizing(t,()=>{FXt(t,()=>{WP(t,()=>{a.forEach(s=>{t.apply(s)})})})})}catch(s){Cu("Could not perform redo step",s),r.splice(0,r.length),ne.deselect(t),t.history={undos:[],redos:[]},wx.set(t,!0),LXt(t,!1),t.onChange();return}t.history.undos.push(i),t.history.redos.pop()}}};function aMe(e,t,n,r,i){const o={...n};if(t.type==="insert"&&t.path.length===1){const a=(r||[]).findIndex(s=>Dt({_key:s._key},t.path[0]));return Cu(`Adjusting block path (+${t.items.length}) for '${o.type}' operation and patch '${t.type}'`),[Ede(o,t.items.length,a)]}if(t.type==="unset"&&t.path.length===1){const a=(i||[]).findIndex(s=>Dt({_key:s._key},t.path[0]));return"path"in o&&Array.isArray(o.path)&&o.path[0]===a?(Cu("Skipping transformation that targeted removed block"),[]):[Ede(o,-1,a)]}if(t.type==="unset"&&t.path.length===0)return Cu(`Adjusting selection for unset everything patch and ${n.type} operation`),[];if(t.type==="diffMatchPatch"){const a=$Jt(e,o);return!a||!Dt({_key:a._key},t.path[0])?[o]:(iMe(t.value).forEach(s=>{var f,h,m,g;let l=0,u=s.utf8Start1;const{diffs:d}=s;if(d.forEach((y,x)=>{const[b,v]=y;b===Ui?(l+=v.length,u+=v.length):b===mi?(l-=v.length,u-=v.length):b===bn&&(d.slice(x).every(([w])=>w===bn)||(u+=v.length))}),o.type==="insert_text"&&u<o.offset&&(o.offset+=l),o.type==="remove_text"&&u<=o.offset-o.text.length&&(o.offset+=l),o.type==="set_selection"){const y=(f=o.properties)!=null&&f.focus?{...o.properties.focus}:void 0,x=(h=o==null?void 0:o.properties)!=null&&h.anchor?{...o.properties.anchor}:void 0,b=(m=o==null?void 0:o.newProperties)!=null&&m.focus?{...o.newProperties.focus}:void 0,v=(g=o==null?void 0:o.newProperties)!=null&&g.anchor?{...o.newProperties.anchor}:void 0;(y&&x||b&&v)&&([y,x,b,v].forEach(w=>{w&&u<w.offset&&(w.offset+=l)}),y&&x&&(o.properties={focus:y,anchor:x}),b&&v&&(o.newProperties={focus:b,anchor:v}))}}),[o])}return[o]}function Ede(e,t,n){var i,o,a,s;const r={...e};if(n>=0&&r.type!=="set_selection"&&Array.isArray(r.path)&&r.path[0]>=n+t&&r.path[0]+t>-1){const l=[r.path[0]+t,...r.path.slice(1)];r.path=l}if(r.type==="set_selection"){const l=(i=r.properties)!=null&&i.focus?{...r.properties.focus}:void 0,u=(o=r==null?void 0:r.properties)!=null&&o.anchor?{...r.properties.anchor}:void 0,d=(a=r==null?void 0:r.newProperties)!=null&&a.focus?{...r.newProperties.focus}:void 0,f=(s=r==null?void 0:r.newProperties)!=null&&s.anchor?{...r.newProperties.anchor}:void 0;(l&&u||d&&f)&&([l,u,d,f].forEach(h=>{h&&h.path[0]>=n+t&&h.path[0]+t>-1&&(h.path=[h.path[0]+t,...h.path.slice(1)])}),l&&u&&(r.properties={focus:l,anchor:u}),d&&f&&(r.newProperties={focus:d,anchor:f}))}return r}const TJt=(e,t)=>!!(e.type==="set_selection"||t&&e.type==="insert_text"&&t.type==="insert_text"&&e.offset===t.offset+t.text.length&&ue.equals(e.path,t.path)&&e.text!==" "||t&&e.type==="remove_text"&&t.type==="remove_text"&&e.offset+e.text.length===t.offset&&ue.equals(e.path,t.path)),AJt=(e,t)=>!!(t&&e.type==="set_selection"&&t.type==="set_selection"),jJt=e=>e.type!=="set_selection";function WP(e,t){const n=oMe(e);wx.set(e,!1),t(),wx.set(e,n)}function IJt(e){return{type:"set_selection",properties:{...e.selection},newProperties:{...e.selection}}}function $Jt(e,t){let n;return t.type==="set_selection"&&e.selection?n=e.children[e.selection.focus.path[0]]:"path"in t&&(n=e.children[t.path[0]]),n}const sMe=({context:e,operation:t})=>{const n=FUt({annotation:{_type:t.annotation.name,...t.annotation.value},context:e,options:{refreshKeys:!1,validateFields:!0}});if(!n)throw new Error(`Failed to parse annotation ${JSON.stringify(t.annotation)}`);const r=t.editor;if(!r.selection||me.isCollapsed(r.selection))return;let i,o,a;const s=[],l=z.nodes(r,{at:r.selection,match:d=>r.isTextBlock(d),reverse:me.isBackward(r.selection)});let u=0;for(const[d,f]of l){if(d.children.length===0||d.children.length===1&&d.children[0].text==="")continue;const h=u===0?n._key:e.keyGenerator(),m=d.markDefs??[];m.find(y=>y._type===n._type&&y._key===h)===void 0&&(ne.setNodes(r,{markDefs:[...m,{...n,_key:h}]},{at:f}),a=[{_key:d._key},"markDefs",{_key:h}],me.isBackward(r.selection)?s.unshift(a):s.push(a)),ne.setNodes(r,{},{match:Ke.isText,split:!0});const g=Be.children(r,f);for(const[y,x]of g){if(!r.isTextSpan(y)||!me.includes(r.selection,x))continue;const b=y.marks??[],v=b.filter(w=>m.some(C=>C._key===w&&C._type===n._type));ne.setNodes(r,{marks:[...b.filter(w=>!v.includes(w)),h]},{at:x}),o=[{_key:d._key},"children",{_key:y._key}]}u++}return a&&o&&(i={markDefPath:a,markDefPaths:s,spanPath:o}),i},DJt=({operation:e})=>{var n,r,i,o;const t=e.editor;if(t.selection)if(me.isCollapsed(t.selection)){const[a,s]=z.node(t,t.selection,{depth:1});if(!t.isTextBlock(a))return;const l=(a.markDefs??[]).filter(g=>g._type===e.annotation.name),[u,d]=z.node(t,t.selection,{depth:2});if(!t.isTextSpan(u))return;const f=(n=u.marks)==null?void 0:n.find(g=>l.some(y=>y._key===g));if(!f)return;const h=[];for(const[g,y]of Be.children(t,s,{reverse:!0}))if(t.isTextSpan(g)&&ue.isBefore(y,d))if((r=g.marks)!=null&&r.includes(f))h.push([g,y]);else break;const m=[];for(const[g,y]of Be.children(t,s))if(t.isTextSpan(g)&&ue.isAfter(y,d))if((i=g.marks)!=null&&i.includes(f))m.push([g,y]);else break;for(const[g,y]of[...h,[u,d],...m])ne.setNodes(t,{marks:(o=g.marks)==null?void 0:o.filter(x=>x!==f)},{at:y})}else{ne.setNodes(t,{},{match:s=>t.isTextSpan(s),split:!0,hanging:!0});const a=z.nodes(t,{at:t.selection,match:s=>t.isTextBlock(s)});for(const[s,l]of a){const u=Be.children(t,l);for(const[d,f]of u){if(!t.isTextSpan(d)||!me.includes(t.selection,f))continue;const h=s.markDefs??[],m=d.marks??[],g=m.filter(y=>{var x;return((x=h.find(b=>b._key===y))==null?void 0:x._type)!==e.annotation.name});g.length!==m.length&&ne.setNodes(t,{marks:g},{at:f})}}}},OJt=({context:e,operation:t})=>{var u,d;const n=Go({context:{schema:e.schema,value:t.editor.value,selection:{anchor:{path:t.at,offset:0},focus:{path:t.at,offset:0}}},blockIndexMap:t.editor.blockIndexMap});if(!n)throw new Error(`Unable to convert ${JSON.stringify(t.at)} into a Slate Range`);const r=(u=z.node(t.editor,n,{depth:1}))==null?void 0:u[0];if(!r)throw new Error(`Unable to find block at ${JSON.stringify(t.at)}`);const i=hi([r],e.schema.block.name,xc.get(t.editor)).at(0);if(!i)throw new Error(`Unable to parse block at ${JSON.stringify(t.at)}`);const{_type:o,...a}=t.props,s=zh({context:e,block:{...i,...a},options:{refreshKeys:!1,validateFields:!0}});if(!s)throw new Error(`Unable to update block at ${JSON.stringify(t.at)}`);const l=(d=Hh([s],{schemaTypes:e.schema}))==null?void 0:d.at(0);if(!l)throw new Error("Unable to convert block to Slate value");ne.setNodes(t.editor,l,{at:n})},MJt=({context:e,operation:t})=>{var u;const n=Go({context:{schema:e.schema,value:t.editor.value,selection:{anchor:{path:t.at,offset:0},focus:{path:t.at,offset:0}}},blockIndexMap:t.editor.blockIndexMap});if(!n)throw new Error(`Unable to convert ${JSON.stringify(t.at)} into a Slate Range`);const r=(u=z.node(t.editor,n,{depth:1}))==null?void 0:u[0];if(!r)throw new Error(`Unable to find block at ${JSON.stringify(t.at)}`);const i=hi([r],e.schema.block.name,xc.get(t.editor)).at(0);if(!i)throw new Error(`Unable to parse block at ${JSON.stringify(t.at)}`);if(St(e,i)){const d=t.props.filter(m=>m!=="_type"),f=zh({context:e,block:Po(i,d),options:{refreshKeys:!1,validateFields:!0}});if(!f)throw new Error(`Unable to update block at ${JSON.stringify(t.at)}`);const h={};for(const m of d)m in f?h[m]=f[m]:h[m]=void 0;ne.setNodes(t.editor,h,{at:n});return}const o=zh({context:e,block:Po(i,t.props.filter(d=>d!=="_type")),options:{refreshKeys:!1,validateFields:!0}});if(!o)throw new Error(`Unable to update block at ${JSON.stringify(t.at)}`);const{_type:a,_key:s,...l}=o;ne.setNodes(t.editor,{_type:a,_key:s,value:l},{at:n})},PJt=({context:e,operation:t})=>{const n=Go({context:{schema:e.schema,value:t.editor.value,selection:{anchor:{path:t.at,offset:0},focus:{path:t.at,offset:0}}},blockIndexMap:t.editor.blockIndexMap});if(!n)throw new Error(`Unable to convert ${JSON.stringify(t.at)} into a Slate Range`);const r=z.node(t.editor,n,{depth:2}),i=r==null?void 0:r[0],o=r==null?void 0:r[1];if(!i||!o)throw new Error(`Unable to find child at ${JSON.stringify(t.at)}`);if(t.editor.isTextSpan(i)){const{_type:a,text:s,...l}=t.props;ne.setNodes(t.editor,{...i,...l},{at:o}),typeof s=="string"&&i.text!==s&&(t.editor.apply({type:"remove_text",path:o,offset:0,text:i.text}),t.editor.apply({type:"insert_text",path:o,offset:0,text:s}));return}if(tt.isElement(i)){const a=e.schema.inlineObjects.find(f=>f.name===i._type);if(!a)throw new Error(`Unable to find schema definition for Inline Object type ${i._type}`);const s="value"in i&&typeof i.value=="object"?i.value:{},{_type:l,_key:u,...d}=t.props;for(const f in d)a.fields.some(h=>h.name===f)||delete d[f];ne.setNodes(t.editor,{...i,_key:typeof u=="string"?u:i._key,value:{...s,...d}},{at:o});return}throw new Error(`Unable to determine the type of child at ${JSON.stringify(t.at)}`)},RJt=({context:e,operation:t})=>{const n=Go({context:{schema:e.schema,value:t.editor.value,selection:{anchor:{path:t.at,offset:0},focus:{path:t.at,offset:0}}},blockIndexMap:t.editor.blockIndexMap});if(!n)throw new Error(`Unable to convert ${JSON.stringify(t.at)} into a Slate Range`);const r=z.node(t.editor,n,{depth:2}),i=r==null?void 0:r[0],o=r==null?void 0:r[1];if(!i||!o)throw new Error(`Unable to find child at ${JSON.stringify(t.at)}`);if(t.editor.isTextSpan(i)){t.props.includes("text")&&t.editor.apply({type:"remove_text",path:o,offset:0,text:i.text});const a={};for(const s of t.props)if(s!=="_type"){if(s==="_key"){a._key=e.keyGenerator();continue}a[s]=null}ne.setNodes(t.editor,a,{at:o});return}if(tt.isElement(i)){const a="value"in i&&typeof i.value=="object"?i.value:{},s=t.props.map(u=>({type:"unset",path:[u]})),l=U1(a,s);ne.setNodes(t.editor,{...i,_key:t.props.includes("_key")?e.keyGenerator():i._key,value:l},{at:o});return}throw new Error(`Unable to determine the type of child at ${JSON.stringify(t.at)}`)},FJt=({context:e,operation:t})=>{var h,m,g;const n=t.editor,r=t.decorator,i=hi(n.children,e.schema.block.name,xc.get(n)),o=(h=t.at)!=null&&h.anchor?gx({context:{...e,value:i},blockOffset:t.at.anchor,direction:"backward"}):void 0,a=(m=t.at)!=null&&m.focus?gx({context:{...e,value:i},blockOffset:t.at.focus,direction:"forward"}):void 0,s=o&&a?{anchor:o,focus:a}:void 0,l=s?Go({context:{schema:e.schema,value:t.editor.value,selection:s},blockIndexMap:t.editor.blockIndexMap})??n.selection:n.selection;if(!l)return;const u=gs({schema:e.schema,editor:n,range:l}),d=u?Kue({context:{...e,value:i},selectionPoint:u.anchor}):void 0,f=u?Kue({context:{...e,value:i},selectionPoint:u.focus}):void 0;if(!d||!f)throw new Error("Unable to find anchor or focus offset");if(me.isExpanded(l)){ne.setNodes(n,{},{at:l,match:Ke.isText,split:!0,hanging:!0});const y=hi(n.children,e.schema.block.name,xc.get(n)),x=dZ({context:{...e,value:y},offsets:{anchor:d,focus:f},backward:u==null?void 0:u.backward}),b=KDe({blockIndexMap:n.blockIndexMap,context:{converters:[],keyGenerator:e.keyGenerator,readOnly:!1,schema:e.schema,selection:x,value:y},decoratorState:n.decoratorState});if(!b)throw new Error("Unable to find trimmed selection");const v=Go({context:{schema:e.schema,value:t.editor.value,selection:b},blockIndexMap:t.editor.blockIndexMap});if(!v)throw new Error("Unable to find new selection");const w=me.isRange(v)?[...z.nodes(n,{at:v,match:C=>Ke.isText(C)})]:[];for(const[C,k]of w){const S=[...(Array.isArray(C.marks)?C.marks:[]).filter(E=>E!==r),r];ne.setNodes(n,{marks:S},{at:k,match:Ke.isText,split:!0,hanging:!0})}}else{if(!((g=Array.from(z.nodes(n,{at:l,match:v=>n.isTextSpan(v)})))!=null&&g.at(0)))return;const[y,x]=z.node(n,l,{depth:1}),b=n.isTextBlock(y)&&y.children.length===1&&n.isTextSpan(y.children[0])&&y.children[0].text===""?y.children[0]:void 0;if(b){const v=b.marks??[],w=v.filter(C=>C!==r);ne.setNodes(n,{marks:v.length===w.length?[...v,r]:w},{at:x,match:C=>n.isTextSpan(C)})}else n.decoratorState[r]=!0}if(n.selection){const y=n.selection;n.selection={...y}}},LJt=({context:e,operation:t})=>{const n=Ir(t.at.anchor),r=Ir(t.at.focus),i=t.at.backward?n:r,o=t.at.backward?t.at.focus.offset:t.at.anchor.offset;if(!i)throw new Error("Failed to get end block key");const a=t.editor.blockIndexMap.get(i);if(a===void 0)throw new Error("Failed to get end block index");const s=t.editor.value.at(a);if(!s)throw new Error("Failed to get end block");const l=n!==void 0?nde({editor:t.editor,_key:n}):void 0,u=r!==void 0?nde({editor:t.editor,_key:r}):void 0;if(t.at.anchor.path.length===1&&t.at.focus.path.length===1&&l&&u&&l[0]===u[0]){ne.removeNodes(t.editor,{at:[l[0]]}),t.editor.children.length===0&&ne.insertNodes(t.editor,yZ(e));return}const d=Go({context:{schema:e.schema,value:t.editor.value,selection:t.at},blockIndexMap:t.editor.blockIndexMap});if(!d)throw new Error(`Failed to get Slate Range for selection ${JSON.stringify(t.at)}`);const f=St(e,s)&&o===0;t.editor.delete({at:d,reverse:t.direction==="backward",unit:t.unit,hanging:f})},NJt=({context:e,operation:t})=>{var o;const n=zDe({context:e,inlineObject:{_type:t.inlineObject.name,...t.inlineObject.value??{}},options:{refreshKeys:!1,validateFields:!0}});if(!n)throw new Error(`Failed to parse inline object ${JSON.stringify(t.inlineObject)}`);if(!t.editor.selection){console.error("Unable to insert inline object without selection");return}const[r]=Array.from(z.nodes(t.editor,{at:t.editor.selection.focus.path,match:a=>t.editor.isTextBlock(a)})).at(0)??[void 0,void 0];if(!r){console.error("Unable to perform action without focus text block");return}const i=(o=Hh([{_type:e.schema.block.name,_key:e.keyGenerator(),children:[n]}],{schemaTypes:e.schema}).at(0))==null?void 0:o.children.at(0);if(!i){console.error("Unable to insert inline object");return}ne.insertNodes(t.editor,i)},BJt=({context:e,operation:t})=>{if(!t.editor.selection){console.error("Unable to perform action without selection",t);return}const[n,r]=Array.from(z.nodes(t.editor,{at:t.editor.selection.focus.path,match:a=>t.editor.isTextBlock(a)}))[0]??[void 0,void 0];if(!n||!r){console.error("Unable to perform action without focus block",t);return}const i=n.markDefs??[],o=t.annotations?t.annotations.map(a=>({_type:a.name,_key:e.keyGenerator(),...a.value})):void 0;o&&o.length>0&&ne.setNodes(t.editor,{markDefs:[...i,...o]}),ne.insertNodes(t.editor,{_type:"span",_key:e.keyGenerator(),text:t.text,marks:[...(o==null?void 0:o.map(a=>a._key))??[],...t.decorators??[]]})},VJt=({context:e,operation:t})=>{const n=zh({block:t.block,context:e,options:{refreshKeys:!1,validateFields:!0}});if(!n)throw new Error(`Failed to parse block ${JSON.stringify(t.block)}`);const r=Hh([n],{schemaTypes:e.schema})[0];if(!r)throw new Error(`Failed to convert block to Slate fragment ${JSON.stringify(n)}`);zJt({block:r,placement:t.placement,select:t.select??"start",editor:t.editor,schema:e.schema})};function zJt({block:e,placement:t,select:n,editor:r,schema:i}){const[o,a]=iXt({editor:r}),[s,l]=oXt({editor:r});if(!r.selection||!o||!a||!s||!l){n!=="none"&&_t.focus(r);const[u,d]=YOe({editor:r});if(t==="before")ne.insertNodes(r,[e],{at:[0]}),n==="start"?ne.select(r,z.start(r,[0])):n==="end"&&ne.select(r,z.end(r,[0]));else if(t==="after"){const f=d?[d[0]+1]:[0];ne.insertNodes(r,[e],{at:f}),n==="start"?ne.select(r,z.start(r,f)):n==="end"&&ne.select(r,z.end(r,f))}else{if(u&&Rm([u],i)){ne.removeNodes(r,{at:d}),ne.insertNodes(r,[e],{at:d,select:!1}),ne.deselect(r),n==="start"?ne.select(r,z.start(r,d)):n==="end"&&ne.select(r,z.end(r,d));return}if(r.isTextBlock(e)&&u&&r.isTextBlock(u)){const h=z.end(r,d);ne.insertFragment(r,[e],{at:z.end(r,d)}),n==="start"?ne.select(r,h):n==="none"&&ne.deselect(r);return}const f=d?[d[0]+1]:[0];ne.insertNodes(r,[e],{at:f,select:!1}),n==="start"?ne.select(r,z.start(r,f)):n==="end"&&ne.select(r,z.end(r,f))}}else if(t==="before"){const u=r.selection,d=me.start(u);ne.insertNodes(r,[e],{at:[d.path[0]],select:!1}),n==="start"?ne.select(r,z.start(r,[d.path[0]])):n==="end"&&ne.select(r,z.end(r,[d.path[0]]))}else if(t==="after"){const u=r.selection,d=[me.end(u).path[0]+1];ne.insertNodes(r,[e],{at:d,select:!1}),n==="start"?ne.select(r,z.start(r,d)):n==="end"&&ne.select(r,z.end(r,d))}else{const u=r.selection,d=z.start(r,l);if(me.isExpanded(u)&&!r.isTextBlock(e)){ne.delete(r,{at:u});const f=r.selection,[h,m]=KOe({editor:r});ne.insertNodes(r,[e],{voids:!0});const g=f.anchor.offset===0?me.transform(f,{type:"insert_node",node:e,path:[f.anchor.path[0]]}):f;n==="none"&&g&&ne.select(r,g),h&&Rm([h],i)&&ne.removeNodes(r,{at:m});return}if(r.isTextBlock(s)&&r.isTextBlock(e)){const f=me.start(u);if(Rm([s],i)){const h=r.selection;ne.insertNodes(r,[e],{at:l,select:!1}),ne.removeNodes(r,{at:ue.next(l)}),n==="start"?ne.select(r,f):n==="end"?ne.select(r,z.end(r,l)):ne.select(r,h);return}if(ne.setNodes(r,{markDefs:[...s.markDefs??[],...e.markDefs??[]]},{at:l}),n==="end"){ne.insertFragment(r,[e],{voids:!0});return}ne.insertFragment(r,[e],{at:u,voids:!0}),n==="start"?ne.select(r,f):Yt.equals(f,d)||ne.select(r,f)}else if(r.isTextBlock(s)){const f=z.start(r,l),h=z.end(r,l),m=me.start(u),g=me.end(u);if(me.isCollapsed(u)&&Yt.equals(m,f))ne.insertNodes(r,[e],{at:l,select:!1}),(n==="start"||n==="end")&&ne.select(r,z.start(r,l)),jc({schema:i},s)&&ne.removeNodes(r,{at:ue.next(l)});else if(me.isCollapsed(u)&&Yt.equals(g,h)){const y=[l[0]+1];ne.insertNodes(r,[e],{at:y,select:!1}),(n==="start"||n==="end")&&ne.select(r,z.start(r,y))}else if(me.isExpanded(u)&&Yt.equals(m,f)&&Yt.equals(g,h))ne.insertFragment(r,[e],{at:u}),n==="start"?ne.select(r,z.start(r,l)):n==="end"&&ne.select(r,z.end(r,l));else if(me.isExpanded(u)&&Yt.equals(m,f))ne.insertFragment(r,[e],{at:u}),n==="start"?ne.select(r,z.start(r,l)):n==="end"&&ne.select(r,z.end(r,l));else if(me.isExpanded(u)&&Yt.equals(g,h))ne.insertFragment(r,[e],{at:u}),n==="start"?ne.select(r,z.start(r,ue.next(l))):n==="end"&&ne.select(r,z.end(r,ue.next(l)));else{const y=r.selection,[x]=aXt({editor:r});if(x&&r.isTextSpan(x))ne.splitNodes(r,{at:y}),ne.insertFragment(r,[e],{at:y}),n==="start"||n==="end"?ne.select(r,[l[0]+1]):ne.select(r,y);else{const b=[l[0]+1];ne.insertNodes(r,[e],{at:b,select:!1}),ne.select(r,y),n==="start"?ne.select(r,z.start(r,b)):n==="end"&&ne.select(r,z.end(r,b))}}}else{ne.insertNodes(r,[e],{select:!1});const f=[l[0]+1];n==="start"?ne.select(r,z.start(r,f)):n==="end"&&ne.select(r,z.end(r,f))}}}const UJt=({operation:e})=>{ne.move(e.editor,{unit:"character",distance:e.distance,reverse:!0})},HJt=({operation:e})=>{const t=Ir({path:e.at});if(!t)throw new Error("Failed to get block key from selection point");const n=e.editor.blockIndexMap.get(t);if(n===void 0)throw new Error("Failed to get block index from block key");const r=Ir({path:e.to});if(!r)throw new Error("Failed to get block key from selection point");const i=e.editor.blockIndexMap.get(r);if(i===void 0)throw new Error("Failed to get block index from block key");ne.moveNodes(e.editor,{at:[n],to:[i],mode:"highest"})},WJt=({operation:e})=>{ne.move(e.editor,{unit:"character",distance:e.distance})},GJt=({context:e,operation:t})=>{const n=Go({context:{schema:e.schema,value:t.editor.value,selection:t.at},blockIndexMap:t.editor.blockIndexMap});n?ne.select(t.editor,n):ne.deselect(t.editor)},Bo={"annotation.add":sMe,"annotation.remove":DJt,"block.set":OJt,"block.unset":MJt,"child.set":PJt,"child.unset":RJt,"decorator.add":FJt,"decorator.remove":BXt,delete:LJt,"history.redo":_Jt,"history.undo":EJt,"insert.block":VJt,"insert.inline object":NJt,"insert.span":BJt,"insert.text":hV,"move.backward":UJt,"move.block":HJt,"move.forward":WJt,select:GJt};function q$({context:e,operation:t}){try{switch(t.type){case"annotation.add":{Bo["annotation.add"]({context:e,operation:t});break}case"annotation.remove":{Bo["annotation.remove"]({context:e,operation:t});break}case"block.set":{Bo["block.set"]({context:e,operation:t});break}case"block.unset":{Bo["block.unset"]({context:e,operation:t});break}case"child.set":{Bo["child.set"]({context:e,operation:t});break}case"child.unset":{Bo["child.unset"]({context:e,operation:t});break}case"decorator.add":{Bo["decorator.add"]({context:e,operation:t});break}case"decorator.remove":{Bo["decorator.remove"]({context:e,operation:t});break}case"delete":{Bo.delete({context:e,operation:t});break}case"history.redo":{Bo["history.redo"]({context:e,operation:t});break}case"history.undo":{Bo["history.undo"]({context:e,operation:t});break}case"insert.block":{Bo["insert.block"]({context:e,operation:t});break}case"insert.inline object":{Bo["insert.inline object"]({context:e,operation:t});break}case"insert.span":{Bo["insert.span"]({context:e,operation:t});break}case"insert.text":{Bo["insert.text"]({context:e,operation:t});break}case"move.backward":{Bo["move.backward"]({context:e,operation:t});break}case"move.block":{Bo["move.block"]({context:e,operation:t});break}case"move.forward":{Bo["move.forward"]({context:e,operation:t});break}default:{Bo.select({context:e,operation:t});break}}}catch(n){console.error(new Error(`Executing "${t.type}" failed due to: ${n.message}`))}}const pV=new WeakMap;function _de(e,t){pV.set(e,Jm()),z.withoutNormalizing(e,t),pV.set(e,void 0)}function lMe(e){return pV.get(e)}function id(e){return lMe(e)!==void 0}function KJt(e){return function(t){if(e.getSnapshot().context.maxBlocks!==void 0)return t;const{delete:n,select:r}=t;return t.delete=i=>{if(id(t)){n(i);return}const o=(i==null?void 0:i.at)??t.selection;if(!o){console.error("Unexpected call to .delete(...) without `at` option");return}const a=z.range(t,o),s=gs({schema:e.getSnapshot().context.schema,editor:t,range:a});if(!s){console.error("Unexpected call to .delete(...) with invalid `at` option");return}e.send({type:"behavior event",behaviorEvent:{type:"delete",at:s,direction:i!=null&&i.reverse?"backward":"forward",unit:i==null?void 0:i.unit},editor:t})},t.deleteBackward=i=>{if(id(t)){console.error("Unexpected call to .deleteBackward(...)");return}e.send({type:"behavior event",behaviorEvent:{type:"delete.backward",unit:i},editor:t})},t.deleteForward=i=>{if(id(t)){console.error("Unexpected call to .deleteForward(...)");return}e.send({type:"behavior event",behaviorEvent:{type:"delete.forward",unit:i},editor:t})},t.insertBreak=()=>{if(id(t)){console.error("Unexpected call to .insertBreak(...)");return}e.send({type:"behavior event",behaviorEvent:{type:"insert.break"},editor:t})},t.insertData=i=>{if(id(t)){console.error("Unexpected call to .insertData(...)");return}e.send({type:"behavior event",behaviorEvent:{type:"input.*",originEvent:{dataTransfer:i}},editor:t})},t.insertSoftBreak=()=>{if(id(t)){hV({context:{keyGenerator:e.getSnapshot().context.keyGenerator,schema:e.getSnapshot().context.schema},operation:{text:`
`,editor:t}});return}e.send({type:"behavior event",behaviorEvent:{type:"insert.soft break"},editor:t})},t.insertText=i=>{if(id(t)){hV({context:{keyGenerator:e.getSnapshot().context.keyGenerator,schema:e.getSnapshot().context.schema},operation:{text:i,editor:t}});return}e.send({type:"behavior event",behaviorEvent:{type:"insert.text",text:i},editor:t})},t.redo=()=>{if(id(t)){q$({context:{keyGenerator:e.getSnapshot().context.keyGenerator,schema:e.getSnapshot().context.schema},operation:{type:"history.redo",editor:t}});return}e.send({type:"behavior event",behaviorEvent:{type:"history.redo"},editor:t})},t.select=i=>{if(id(t)){r(i);return}const o=z.range(t,i);e.send({type:"behavior event",behaviorEvent:{type:"select",at:gs({schema:e.getSnapshot().context.schema,editor:t,range:o})},editor:t})},t.setFragmentData=()=>{console.error("Unexpected call to .setFragmentData(...)")},t.undo=()=>{if(id(t)){q$({context:{keyGenerator:e.getSnapshot().context.keyGenerator,schema:e.getSnapshot().context.schema},operation:{type:"history.undo",editor:t}});return}e.send({type:"behavior event",behaviorEvent:{type:"history.undo"},editor:t})},t}}function YJt(e){return function(t){const{apply:n}=t;return t.apply=r=>{if(e.getSnapshot().matches({"edit mode":"read only"})){n(r);return}if(a0(t)){n(r);return}if(Bw(t)||Vw(t)){n(r);return}const i=e.getSnapshot().context.maxBlocks??-1;i>0&&t.children.length>=i&&(r.type==="insert_node"||r.type==="split_node")&&r.path.length===1||n(r)},t}}function qJt(e){return function(t){const{apply:n,normalizeNode:r}=t;return t.apply=i=>{if(a0(t)){n(i);return}if(Bw(t)||Vw(t)){n(i);return}if(i.type==="split_node"){const o=[...Be.descendants(t)].map(([a])=>a._key);n({...i,properties:{...i.properties,_key:i.properties._key===void 0||o.includes(i.properties._key)?e.getSnapshot().context.keyGenerator():i.properties._key}});return}if(i.type==="insert_node"&&!z.isEditor(i.node)){const o=[...Be.descendants(t)].map(([a])=>a._key);n({...i,node:{...i.node,_key:i.node._key===void 0||o.includes(i.node._key)?e.getSnapshot().context.keyGenerator():i.node._key}});return}n(i)},t.normalizeNode=i=>{const[o,a]=i;if(tt.isElement(o)&&o._type===e.getSnapshot().context.schema.block.name){if(!o._key){e.send({type:"normalizing"}),ne.setNodes(t,{_key:e.getSnapshot().context.keyGenerator()},{at:a}),e.send({type:"done normalizing"});return}for(const[s,l]of Be.children(t,a))if(!s._key){e.send({type:"normalizing"}),ne.setNodes(t,{_key:e.getSnapshot().context.keyGenerator()},{at:l}),e.send({type:"done normalizing"});return}}r(i)},t}}function ZJt(e){return(t,n)=>{let r=!1;try{switch(n.type){case"insert":r=JJt(t,n,e);break;case"unset":r=eQt(t,n);break;case"set":r=QJt(t,n);break;case"diffMatchPatch":r=XJt(t,n);break}}catch(i){console.error(i)}return r}}function XJt(e,t){const n=GP(e.children,t.path);if(!n)return!1;const r=KP(n,t.path);if(!r||!(n&&e.isTextBlock(n.node)&&t.path.length===4&&t.path[1]==="children"&&t.path[3]==="text")||!Ke.isText(r.node))return!1;const i=iMe(t.value),[o]=xJt(i,r.node.text,{allowExceedingIndices:!0}),a=sJt(JOe(r.node.text,o),5);let s=0;for(const[l,u]of a)l===Ui?(e.apply({type:"insert_text",path:[n.index,r.index],offset:s,text:u}),s+=u.length):l===mi?e.apply({type:"remove_text",path:[n.index,r.index],offset:s,text:u}):l===bn&&(s+=u.length);return!0}function JJt(e,t,n){const r=GP(e.children,t.path);if(!r||t.path.length>1&&t.path[1]!=="children")return!1;if(t.path.length===1){const{items:d,position:f}=t,h=Hh(d,{schemaTypes:n},dV.get(e)),m=r.index,g=f==="after"?m+1:m,y=Rm(e.children,n);return ne.insertNodes(e,h,{at:[g]}),y&&typeof t.path[0]=="number"&&t.path[0]===0&&ne.removeNodes(e,{at:[f==="before"?m+1:m]}),!0}const{items:i,position:o}=t,a=KP(r,t.path);if(!a)return!1;const s=Hh([{...r.node,children:i}],{schemaTypes:n},dV.get(e)),l=o==="after"?a.index+1:a.index,u=[r.index,l];return s&&tt.isElement(s[0])&&ne.insertNodes(e,s[0].children,{at:u}),!0}function QJt(e,t){let n=t.value;typeof t.path[3]=="string"&&(n={},n[t.path[3]]=t.value);const r=GP(e.children,t.path);if(!r)return!1;const i=e.isTextBlock(r.node);if(i&&t.path.length>1&&t.path[1]!=="children")return!1;const o=KP(r,t.path);if(i&&o){if(Ke.isText(o.node))if(Ke.isText(n)){const a=o.node.text,s=n.text;a!==s&&(e.apply({type:"remove_text",path:[r.index,o.index],offset:0,text:a}),e.apply({type:"insert_text",path:[r.index,o.index],offset:0,text:s}),e.onChange())}else{const a=t.path.slice(3),s=a.at(0);if(s===void 0||typeof s=="string"&&["_key","_type","text"].includes(s))return!1;const l=U1(o.node,[{...t,path:a}]);ne.setNodes(e,l,{at:[r.index,o.index]})}else{const a=t.path.slice(3),s=["_key","_type","children","__inline"],l=a.at(0);if(l===void 0||typeof l=="string"&&s.includes(l))return!1;const u="value"in o.node&&typeof o.node.value=="object"?o.node.value:{},d=U1(u,[{...t,path:t.path.slice(3)}]);ne.setNodes(e,{...o.node,value:d},{at:[r.index,o.index]})}return!0}else if(tt.isElement(r.node)&&t.path.length===1){const{children:a,...s}=n,{children:l,...u}=r.node||{children:void 0};e.apply({type:"set_node",path:[r.index],properties:{...u},newProperties:s});const d=r.node;d.children.forEach((f,h)=>{e.apply({type:"remove_node",path:[r.index,d.children.length-1-h],node:f})}),Array.isArray(a)&&a.forEach((f,h)=>{e.apply({type:"insert_node",path:[r.index,h],node:f})})}else if(r&&"value"in r.node)if(t.path.length>1&&t.path[1]!=="children"){const a=U1(r.node.value,[{...t,path:t.path.slice(1)}]);ne.setNodes(e,{...r.node,value:a},{at:[r.index]})}else return!1;return!0}function eQt(e,t){if(t.path.length===0){const i=e.selection;ne.deselect(e);const o=Be.children(e,[],{reverse:!0});for(const[a,s]of o)ne.removeNodes(e,{at:s});return ne.insertNodes(e,e.pteCreateTextBlock({decorators:[]})),i&&ne.select(e,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),e.onChange(),!0}const n=GP(e.children,t.path);if(!n)return!1;if(t.path.length===1){if(e.children.length===1){const i=e.selection;return ne.deselect(e),ne.removeNodes(e,{at:[n.index]}),ne.insertNodes(e,e.pteCreateTextBlock({decorators:[]})),i&&ne.select(e,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),e.onChange(),!0}return ne.removeNodes(e,{at:[n.index]}),!0}const r=KP(n,t.path);if(e.isTextBlock(n.node)&&r&&t.path[1]==="children"&&t.path.length===3)return ne.removeNodes(e,{at:[n.index,r.index]}),!0;if(r&&!Ke.isText(r.node)){const i=t.path.slice(3).at(0);if(i===void 0||typeof i=="string"&&["_key","_type","children","__inline"].includes(i))return!1;const o="value"in r.node&&typeof r.node.value=="object"?r.node.value:{},a=U1(o,[{...t,path:t.path.slice(3)}]);return ne.setNodes(e,{...r.node,value:a},{at:[n.index,r.index]}),!0}if(r&&Ke.isText(r.node)){const i=t.path.slice(3),o=i.at(0);if(o===void 0||typeof o=="string"&&["_key","_type"].includes(o))return!1;if(typeof o=="string"&&o==="text")return e.apply({type:"remove_text",path:[n.index,r.index],offset:0,text:r.node.text}),!0;const a=U1(r.node,[{...t,path:i}]),s=Object.keys(a),l=Object.keys(r.node).filter(u=>!s.includes(u));return ne.unsetNodes(e,l,{at:[n.index,r.index]}),!0}if(!r){if("value"in n.node){const i=U1(n.node.value,[{...t,path:t.path.slice(1)}]);return ne.setNodes(e,{...n.node,value:i},{at:[n.index]}),!0}return!1}return!1}function GP(e,t){let n=-1;const r=e.find((i,o)=>{const a=$P(t[0])?i._key===t[0]._key:o===t[0];return a&&(n=o),a});if(r)return{node:r,index:n}}function KP(e,t){const n=e.node;if(!tt.isElement(n)||t[1]!=="children")return;let r=-1;const i=n.children.find((o,a)=>{const s=$P(t[2])?o._key===t[2]._key:a===t[2];return s&&(r=a),s});if(i)return{node:i,index:r}}function tQt(e,t,n,r){const i=St({schema:e},t[n.path[0]])&&t[n.path[0]];if(!i)throw new Error("Could not find block");const o=St({schema:e},i)&&zn({schema:e},i.children[n.path[1]])&&i.children[n.path[1]];if(!o)throw new Error("Could not find child");const a=[{_key:i._key},"children",{_key:o._key},"text"],s=r[n.path[0]],l=St({schema:e},s)&&s.children[n.path[1]],u=zn({schema:e},l)?l.text:"",d=IOe(u,o.text,a);return d.value.length?[d]:[]}function nQt(e,t,n,r){const i=t[n.path[0]];if(!i)throw new Error("Could not find block");const o=St({schema:e},i)&&i.children[n.path[1]]||void 0,a=zn({schema:e},o)?o:void 0;if(o&&!a)throw new Error("Expected span");if(!a)throw new Error("Could not find child");const s=[{_key:i._key},"children",{_key:a._key},"text"],l=r[n.path[0]],u=St({schema:e},l)&&l.children[n.path[1]],d=zn({schema:e},u)&&u.text,f=IOe(d||"",a.text,s);return f.value?[f]:[]}function rQt(e,t,n){if(n.path.length===1){const r=t[n.path[0]];if(typeof r._key!="string")throw new Error("Expected block to have a _key");const i=tZ({...t[n.path[0]],...n.newProperties},eZ);return[Cl(hi([i],e.block.name)[0],[{_key:r._key}])]}else if(n.path.length===2){const r=t[n.path[0]];if(St({schema:e},r)){const i=r.children[n.path[1]];if(i){const o=r._key,a=i._key,s=[],l=Object.keys(n.newProperties);return l.forEach(u=>{if(l.length===1&&u==="_key"){const d=yr(n.newProperties,u);s.push(Cl(d,[{_key:o},"children",r.children.indexOf(i),u]))}else{const d=yr(n.newProperties,u);s.push(Cl(d,[{_key:o},"children",{_key:a},u]))}}),s}throw new Error("Could not find a valid child")}throw new Error("Could not find a valid block")}else throw new Error(`Unexpected path encountered: ${JSON.stringify(n.path)}`)}function iQt(e,t,n,r){const i=r[n.path[0]];if(n.path.length===1){const o=n.path[0]===0?"before":"after",a=r[n.path[0]-1],s=n.path[0]===0?i==null?void 0:i._key:a==null?void 0:a._key;return s?[mh([hi([n.node],e.block.name)[0]],o,[{_key:s}])]:[bx(r,[]),mh([hi([n.node],e.block.name)[0]],"before",[n.path[0]])]}else if(St({schema:e},i)&&n.path.length===2&&t[n.path[0]]){const o=i.children.length===0||!i.children[n.path[1]-1]?"before":"after",a={...n.node};!a._type&&Ke.isText(a)&&(a._type="span",a.marks=[]);const s=hi([{_key:"bogus",_type:e.block.name,children:[a]}],e.block.name)[0].children[0];return[bx([],[{_key:i._key},"children"]),mh([s],o,[{_key:i._key},"children",i.children.length<=1||!i.children[n.path[1]-1]?0:{_key:i.children[n.path[1]-1]._key}])]}return[]}function oQt(e,t,n,r){const i=[],o=t[n.path[0]];if(!St({schema:e},o))throw new Error(`Block with path ${JSON.stringify(n.path[0])} is not a text block and can't be split`);if(n.path.length===1){const a=r[n.path[0]];if(St({schema:e},a)){const s=hi([t[n.path[0]+1]],e.block.name)[0];s&&(i.push(mh([s],"after",[{_key:o._key}])),a.children.slice(n.position).forEach(l=>{const u=[{_key:a._key},"children",{_key:l._key}];i.push(za(u))}))}return i}if(n.path.length===2){const a=o.children[n.path[1]];if(zn({schema:e},a)){const s=hi([{...o,children:o.children.slice(n.path[1]+1,n.path[1]+2)}],e.block.name)[0].children;i.push(bx([],[{_key:o._key},"children"])),i.push(mh(s,"after",[{_key:o._key},"children",{_key:a._key}])),i.push(Cl(a.text,[{_key:o._key},"children",{_key:a._key},"text"]))}return i}return i}function aQt(e,t,n){const r=t[n.path[0]];if(n.path.length===1){if(r&&r._key)return[za([{_key:r._key}])];throw new Error("Block not found")}else if(St({schema:e},r)&&n.path.length===2){const i=r.children[n.path[1]];return i?r.children.filter(o=>o._key===n.node._key).length>1?(console.warn(`Multiple spans have \`_key\` ${n.node._key}. It's ambiguous which one to remove.`,JSON.stringify(r,null,2)),[]):[za([{_key:r._key},"children",{_key:i._key}])]:[]}else return[]}function sQt(e,t,n,r){const i=[],o=r[n.path[0]],a=t[n.path[0]];if(n.path.length===1)if(o!=null&&o._key){const s=hi([t[n.path[0]-1]],e.block.name)[0];i.push(Cl(s,[{_key:s._key}])),i.push(za([{_key:o._key}]))}else throw new Error("Target key not found!");else if(St({schema:e},o)&&St({schema:e},a)&&n.path.length===2){const s=a.children[n.path[1]-1]&&zn({schema:e},a.children[n.path[1]-1])?a.children[n.path[1]-1]:void 0,l=o.children[n.path[1]]&&zn({schema:e},o.children[n.path[1]])?o.children[n.path[1]]:void 0;s&&(o.children.filter(u=>u._key===s._key).length===1?i.push(Cl(s.text,[{_key:o._key},"children",{_key:s._key},"text"])):console.warn(`Multiple spans have \`_key\` ${s._key}. It's ambiguous which one to update.`,JSON.stringify(o,null,2))),l&&(o.children.filter(u=>u._key===l._key).length===1?i.push(za([{_key:o._key},"children",{_key:l._key}])):console.warn(`Multiple spans have \`_key\` ${l._key}. It's ambiguous which one to remove.`,JSON.stringify(o,null,2)))}return i}function lQt(e,t,n){const r=[],i=t[n.path[0]],o=t[n.newPath[0]];if(!o)return r;if(n.path.length===1){const a=n.path[0]>n.newPath[0]?"before":"after";r.push(za([{_key:i._key}])),r.push(mh([hi([i],e.block.name)[0]],a,[{_key:o._key}]))}else if(n.path.length===2&&St({schema:e},i)&&St({schema:e},o)){const a=i.children[n.path[1]],s=o.children[n.newPath[1]],l=n.newPath[1]===o.children.length?"after":"before",u=hi([i],e.block.name)[0].children[n.path[1]];r.push(za([{_key:i._key},"children",{_key:a._key}])),r.push(bx([],[{_key:o._key},"children"])),r.push(mh([u],l,[{_key:o._key},"children",{_key:s._key}]))}return r}const Z$=new WeakMap;function MS(e,t){const n=cMe(e);Z$.set(e,!1),t(),Z$.set(e,n)}function cMe(e){return Z$.get(e)}const aA=Ts("plugin:withPatches");function cQt({editorActor:e,relayActor:t,subscriptions:n}){let r;const i=ZJt(e.getSnapshot().context.schema);return function(o){z$.set(o,!1),Z$.set(o,!0),r=[...o.children];const{apply:a}=o;let s=[];const l=()=>{if(s.length===0)return;const d=s;s=[];let f=!1;OS(o,()=>{z.withoutNormalizing(o,()=>{MS(o,()=>{WP(o,()=>{for(const h of d){aA.enabled&&aA(`Handling remote patch ${JSON.stringify(h)}`);try{f=i(o,h)}catch(m){console.error(`Applying patch ${JSON.stringify(h)} failed due to: ${m.message}`)}}})})}),f&&(o.normalize(),o.onChange())})},u=({patches:d})=>{const f=d.filter(h=>h.origin!=="local");f.length!==0&&(s=s.concat(f),l())};return n.push(()=>{aA("Subscribing to remote patches");const d=e.on("patches",u);return()=>{aA("Unsubscribing to remote patches"),d.unsubscribe()}}),o.apply=d=>{let f=[];r=o.children;const h=Rm(r,e.getSnapshot().context.schema);a(d);const m=Rm(o.children,e.getSnapshot().context.schema);if(!cMe(o))return o;switch(h&&!m&&d.type!=="set_selection"&&f.push(mh(r,"before",[0])),d.type){case"insert_text":f=[...f,...tQt(e.getSnapshot().context.schema,o.children,d,r)];break;case"remove_text":f=[...f,...nQt(e.getSnapshot().context.schema,o.children,d,r)];break;case"remove_node":f=[...f,...aQt(e.getSnapshot().context.schema,r,d)];break;case"split_node":f=[...f,...oQt(e.getSnapshot().context.schema,o.children,d,r)];break;case"insert_node":f=[...f,...iQt(e.getSnapshot().context.schema,o.children,d,r)];break;case"set_node":f=[...f,...rQt(e.getSnapshot().context.schema,o.children,d)];break;case"merge_node":f=[...f,...sQt(e.getSnapshot().context.schema,o.children,d,r)];break;case"move_node":f=[...f,...lQt(e.getSnapshot().context.schema,r,d)];break}if(!h&&m&&["merge_node","set_node","remove_text","remove_node"].includes(d.type)&&(f=[...f,za([])],t.send({type:"unset",previousValue:hi(r,e.getSnapshot().context.schema.block.name,xc.get(o))})),h&&f.length>0&&(f=[bx([],[]),...f]),f.length>0)for(const g of f)e.send({type:"internal.patch",patch:{...g,origin:"local"},operationId:lMe(o),value:o.value});return o},o}}const uQt=Ts("plugin:withPlaceholderBlock");function dQt(e){return function(t){const{apply:n}=t;return t.apply=r=>{if(e.getSnapshot().matches({"edit mode":"read only"})){n(r);return}if(a0(t)){n(r);return}if(Bw(t)||Vw(t)){n(r);return}if(r.type==="remove_node"){const i=r.path.at(0),o=r.path.length===1&&i===0&&t.children.length===1,a=r.node._type!==e.getSnapshot().context.schema.block.name;o&&a&&(uQt("Adding placeholder block"),z.insertNode(t,t.pteCreateTextBlock({decorators:[]})))}n(r)},t}}const Tde=Ts("plugin:withSchemaTypes");function fQt({editorActor:e}){return function(t){t.isTextBlock=r=>z.isEditor(r)?!1:St(e.getSnapshot().context,r),t.isTextSpan=r=>z.isEditor(r)?!1:zn(e.getSnapshot().context,r),t.isListBlock=r=>z.isEditor(r)?!1:Au(e.getSnapshot().context,r),t.isVoid=r=>z.isEditor(r)?!1:e.getSnapshot().context.schema.block.name!==r._type&&(e.getSnapshot().context.schema.blockObjects.map(i=>i.name).includes(r._type)||e.getSnapshot().context.schema.inlineObjects.map(i=>i.name).includes(r._type)),t.isInline=r=>z.isEditor(r)?!1:e.getSnapshot().context.schema.inlineObjects.map(i=>i.name).includes(r._type)&&"__inline"in r&&r.__inline===!0;const{normalizeNode:n}=t;return t.normalizeNode=r=>{const[i,o]=r;if(i._type===void 0&&o.length===2){Tde("Setting span type on text node without a type");const a=i,s=a._key||e.getSnapshot().context.keyGenerator();e.send({type:"normalizing"}),ne.setNodes(t,{...a,_type:e.getSnapshot().context.schema.span.name,_key:s},{at:o}),e.send({type:"done normalizing"});return}if(i._key===void 0&&(o.length===1||o.length===2)){Tde("Setting missing key on child node without a key");const a=e.getSnapshot().context.keyGenerator();e.send({type:"normalizing"}),ne.setNodes(t,{_key:a},{at:o}),e.send({type:"done normalizing"});return}n(r)},t}}function hQt({editorActor:e}){return function(t){return t.pteCreateTextBlock=n=>Hh([{_type:e.getSnapshot().context.schema.block.name,_key:e.getSnapshot().context.keyGenerator(),style:e.getSnapshot().context.schema.styles[0].name||"normal",...n.listItem?{listItem:n.listItem}:{},...n.level?{level:n.level}:{},markDefs:[],children:[{_type:"span",_key:e.getSnapshot().context.keyGenerator(),text:"",marks:n.decorators.filter(r=>e.getSnapshot().context.schema.decorators.find(({name:i})=>i===r))}]}],{schemaTypes:e.getSnapshot().context.schema})[0],t}}function pQt({editor:e,editorActor:t}){const n=()=>{if(e.selection){const i=U$.get(e.selection);if(i)t.send({type:"update selection",selection:i});else{const o=gs({schema:t.getSnapshot().context.schema,editor:e,range:e.selection});U$.set(e.selection,o),t.send({type:"update selection",selection:o})}}else t.send({type:"update selection",selection:null})},{onChange:r}=e;return e.onChange=()=>{r(),t.getSnapshot().matches({setup:"setting up"})||n()},e}function mV(e){return typeof e=="object"&&e!==null?!("_type"in e)&&"children"in e&&Array.isArray(e.children):!1}function pd(e,t){return Vh(t)&&t._type===e.schema.block.name}function wZ(e,t){return typeof t!="object"||t===null||"children"in t?!1:"_type"in t?t._type===e.schema.span.name:"text"in t}function $k(e){return typeof e=="object"&&e!==null&&"text"in e&&typeof e.text=="string"}function mQt(e,t){return!mV(t)&&!pd(e,t)&&!wZ(e,t)&&!$k(t)}function gV(e,t){const n=t.at(0);if(!(n===void 0||t.length!==1))return e.children.at(n)}function t1(e,t,n){if(n.length===0)return t;if(n.length===1)return gV(t,n);if(n.length===2){const r=gV(t,n.slice(0,1));return!r||!pd(e,r)?void 0:r.children.at(n[1])||void 0}}function Ade(e,t,n){const r=t1(e,t,n);if(r&&wZ(e,r))return r}function HC(e,t,n){if(n.length===0)return;const r=n.slice(0,-1);if(r.length===0)return t;const i=r.at(0);if(i===void 0||r.length!==1)return;const o=t.children.at(i);if(o&&pd(e,o))return o}function gQt(e,t,n){const r=fNt({children:t});try{yQt(e,r,n)}catch(i){console.error(i)}return hNt(r).children}function yQt(e,t,n){var r;switch(n.type){case"insert_node":{const{path:i,node:o}=n,a=HC(e,t,i),s=i[i.length-1];if(!a||s>a.children.length)break;if(i.length===1){if(pd(e,o)){a.children.splice(s,0,{...o,children:o.children.map(l=>"__inline"in l?{_key:l._key,_type:l._type,..."value"in l&&typeof l.value=="object"?l.value:{}}:l)});break}if(tt.isElement(o)&&!("__inline"in o)){a.children.splice(s,0,{_key:o._key,_type:o._type,..."value"in o&&typeof o.value=="object"?o.value:{}});break}}if(i.length===2){if(!pd(e,a))break;if($k(o)){a.children.splice(s,0,o);break}if("__inline"in o){a.children.splice(s,0,{_key:o._key,_type:o._type,..."value"in o&&typeof o.value=="object"?o.value:{}});break}}break}case"insert_text":{const{path:i,offset:o,text:a}=n;if(a.length===0)break;const s=Ade(e,t,i);if(!s)break;const l=s.text.slice(0,o),u=s.text.slice(o);s.text=l+a+u;break}case"merge_node":{const{path:i}=n,o=t1(e,t,i),a=ue.previous(i),s=t1(e,t,a),l=HC(e,t,i);if(!o||!s||!l)break;const u=i[i.length-1];if($k(o)&&$k(s))s.text+=o.text;else if(pd(e,o)&&pd(e,s))s.children.push(...o.children);else break;l.children.splice(u,1);break}case"move_node":{const{path:i,newPath:o}=n;if(ue.isAncestor(i,o))break;const a=t1(e,t,i),s=HC(e,t,i),l=i[i.length-1];if(!a||!s)break;s.children.splice(l,1);const u=ue.transform(i,n),d=t1(e,t,ue.parent(u)),f=u[u.length-1];if(!d||!("children"in d)||!Array.isArray(d.children))break;d.children.splice(f,0,a);break}case"remove_node":{const{path:i}=n,o=i[i.length-1];(r=HC(e,t,i))==null||r.children.splice(o,1);break}case"remove_text":{const{path:i,offset:o,text:a}=n;if(a.length===0)break;const s=Ade(e,t,i);if(!s)break;const l=s.text.slice(0,o),u=s.text.slice(o+a.length);s.text=l+u;break}case"set_node":{const{path:i,properties:o,newProperties:a}=n,s=t1(e,t,i);if(!s||mV(s))break;if(mQt(e,s)){const l="value"in o&&typeof o.value=="object"?o.value:{},u="value"in a&&typeof a.value=="object"?a.value:{};for(const d in a){if(d==="value")continue;const f=a[d];f==null?delete s[d]:s[d]=f}for(const d in o)d!=="value"&&(a.hasOwnProperty(d)||delete s[d]);for(const d in u){const f=u[d];f==null?delete s[d]:s[d]=f}for(const d in l)u.hasOwnProperty(d)||delete s[d];break}if(pd(e,s)){for(const l in a){if(l==="children"||l==="text")break;const u=a[l];u==null?delete s[l]:s[l]=u}for(const l in o)a.hasOwnProperty(l)||delete s[l];break}if($k(s)){for(const l in a){if(l==="text")break;const u=a[l];u==null?delete s[l]:s[l]=u}for(const l in o)a.hasOwnProperty(l)||delete s[l];break}break}case"split_node":{const{path:i,position:o,properties:a}=n;if(i.length===0)break;const s=HC(e,t,i),l=i[i.length-1];if(!s)break;if(mV(s)){const u=gV(t,i);if(!u||!pd(e,u))break;const d=u.children.slice(0,o),f=u.children.slice(o);u.children=d;const h={...a,children:f,_type:e.schema.block.name};s.children.splice(l+1,0,h);break}if(pd(e,s)){const u=t1(e,t,i);if(!u||!wZ(e,u))break;const d=u.text.slice(0,o),f=u.text.slice(o);u.text=d;const h={...a,text:f};s.children.splice(l+1,0,h)}break}}return t}function vQt(e,t){const{apply:n}=t;return t.apply=r=>{if(r.type==="set_selection"){n(r);return}if(t.value=gQt(e,t.value,r),r.type==="insert_text"||r.type==="remove_text"){n(r);return}gZ({schema:e.schema,value:t.value},{blockIndexMap:t.blockIndexMap,listIndexMap:t.listIndexMap}),n(r)},t}const bQt=(e,t)=>{const n=e,{editorActor:r,relayActor:i}=t,o=qJt(r),a=fQt({editorActor:r}),s=cQt({editorActor:r,relayActor:i,subscriptions:t.subscriptions}),l=YJt(r),u=SJt({editorActor:r,subscriptions:t.subscriptions}),d=NXt(r),f=dQt(r),h=hQt({editorActor:r});return KJt(r)(a(o(d(f(h(l(u(s(vQt(r.getSnapshot().context,pQt({editorActor:r,editor:n})))))))))))},xQt=Ts("setup");function wQt(e){xQt("Creating new Slate editor instance");const t=bQt($Ut(OVt()),{editorActor:e.editorActor,relayActor:e.relayActor,subscriptions:e.subscriptions});xc.set(t,{}),dV.set(t,{}),t.decoratedRanges=[],t.decoratorState={};const n=yZ(e.editorActor.getSnapshot().context);t.value=[n],t.blockIndexMap=new Map,t.listIndexMap=new Map,gZ({schema:e.editorActor.getSnapshot().context.schema,value:t.value},{blockIndexMap:t.blockIndexMap,listIndexMap:t.listIndexMap});const r=Hh(t.value,{schemaTypes:e.editorActor.getSnapshot().context.schema});return{instance:t,initialValue:r}}function yV(e,t){return{getBlockNodes:n=>CQt(t,n),getChildNodes:n=>kQt(t,n),setDragGhost:({event:n,ghost:r})=>SQt({sendBack:e,event:n,ghost:r})}}function CQt(e,t){if(!t.context.selection)return[];const n=Go(t);if(!n)return[];try{return Array.from(z.nodes(e,{at:n,mode:"highest",match:r=>!z.isEditor(r)})).map(([r])=>_t.toDOMNode(e,r))}catch{return[]}}function kQt(e,t){if(!t.context.selection)return[];const n=Go(t);if(!n)return[];try{return Array.from(z.nodes(e,{at:n,mode:"lowest",match:r=>!z.isEditor(r)})).map(([r])=>_t.toDOMNode(e,r))}catch{return[]}}function SQt({sendBack:e,event:t,ghost:n}){t.originEvent.dataTransfer.setDragImage(n.element,n.x,n.y),e({type:"set drag ghost",ghost:n.element})}const EQt={on:"annotation.add",guard:({snapshot:e})=>{if(!vi(e))return!1;const t=eHt(e);return!t||!r0({context:{...e.context,selection:t}})?!1:{caretWordSelection:t}},actions:[({event:e},{caretWordSelection:t})=>[Oe({type:"select",at:t}),Oe({type:"annotation.add",annotation:e.annotation})]]},_Qt={addAnnotationOnCollapsedSelection:EQt},wc={arrowDown:Zi({default:[{key:"ArrowDown",alt:!1,ctrl:!1,meta:!1,shift:!1}]}),arrowUp:Zi({default:[{key:"ArrowUp",alt:!1,ctrl:!1,meta:!1,shift:!1}]}),break:Zi({default:[{key:"Enter",shift:!1}]}),lineBreak:Zi({default:[{key:"Enter",shift:!0}]}),decorators:{strong:rZt,em:iZt,underline:aZt,code:oZt},history:{undo:sZt,redo:lZt},tab:Zi({default:[{key:"Tab",alt:!1,ctrl:!1,meta:!1,shift:!1}]}),shiftTab:Zi({default:[{key:"Tab",alt:!1,ctrl:!1,meta:!1,shift:!0}]})},TQt={on:"keyboard.keydown",guard:({snapshot:e,event:t})=>{if(!wc.arrowDown.guard(t.originEvent)||!vi(e))return!1;const n=Pw(e),r=Rw(e);return n&&!r},actions:[({snapshot:e})=>[Oe({type:"insert.block",block:{_type:e.context.schema.block.name},placement:"after"})]]},AQt={on:"keyboard.keydown",guard:({snapshot:e,event:t})=>{if(!wc.arrowUp.guard(t.originEvent)||!vi(e))return!1;const n=Pw(e),r=Fw(e);return n&&!r},actions:[({snapshot:e})=>[Oe({type:"insert.block",block:{_type:e.context.schema.block.name},placement:"before"})]]},jQt={on:"insert.break",guard:({snapshot:e})=>{const t=Pw(e);return vi(e)&&t!==void 0},actions:[({snapshot:e})=>[Oe({type:"insert.block",block:{_type:e.context.schema.block.name},placement:"after"})]]},IQt={on:"mouse.click",guard:({snapshot:e,event:t})=>{if(e.context.readOnly||e.context.selection&&!vi(e))return!1;const n=Pw({...e,context:{...e.context,selection:t.position.selection}}),r=Fw({...e,context:{...e.context,selection:t.position.selection}});return t.position.isEditor&&t.position.block==="start"&&n&&!r},actions:[({snapshot:e,event:t})=>[Oe({type:"select",at:t.position.selection}),Oe({type:"insert.block",block:{_type:e.context.schema.block.name},placement:"before",select:"start"})]]},$Qt={on:"mouse.click",guard:({snapshot:e,event:t})=>{if(e.context.readOnly||e.context.selection&&!vi(e))return!1;const n=Pw({...e,context:{...e.context,selection:t.position.selection}}),r=Rw({...e,context:{...e.context,selection:t.position.selection}});return t.position.isEditor&&t.position.block==="end"&&n&&!r},actions:[({snapshot:e,event:t})=>[Oe({type:"select",at:t.position.selection}),Oe({type:"insert.block",block:{_type:e.context.schema.block.name},placement:"after",select:"start"})]]},DQt={on:"delete.backward",guard:({snapshot:e})=>{const t=ta(e),n=vi(e),r=Fw(e);return!t||!n||!r?!1:jc(e.context,t.node)&&!St(e.context,r.node)?{focusTextBlock:t,previousBlock:r}:!1},actions:[(e,{focusTextBlock:t,previousBlock:n})=>[Oe({type:"delete.block",at:t.path}),Oe({type:"select",at:{anchor:{path:n.path,offset:0},focus:{path:n.path,offset:0}}})]]},OQt={on:"delete.forward",guard:({snapshot:e})=>{const t=ta(e),n=vi(e),r=Rw(e);return!t||!n||!r?!1:jc(e.context,t.node)&&!St(e.context,r.node)?{focusTextBlock:t,nextBlock:r}:!1},actions:[(e,{focusTextBlock:t,nextBlock:n})=>[Oe({type:"delete.block",at:t.path}),Oe({type:"select",at:{anchor:{path:n.path,offset:0},focus:{path:n.path,offset:0}}})]]},Ng={arrowDownOnLonelyBlockObject:TQt,arrowUpOnLonelyBlockObject:AQt,breakingBlockObject:jQt,clickingAboveLonelyBlockObject:IQt,clickingBelowLonelyBlockObject:$Qt,deletingEmptyTextBlockAfterBlockObject:DQt,deletingEmptyTextBlockBeforeBlockObject:OQt},sA={strongShortcut:{on:"keyboard.keydown",guard:({snapshot:e,event:t})=>wc.decorators.strong.guard(t.originEvent)&&e.context.schema.decorators.some(n=>n.name==="strong"),actions:[()=>[Oe({type:"decorator.toggle",decorator:"strong"})]]},emShortcut:{on:"keyboard.keydown",guard:({snapshot:e,event:t})=>wc.decorators.em.guard(t.originEvent)&&e.context.schema.decorators.some(n=>n.name==="em"),actions:[()=>[Oe({type:"decorator.toggle",decorator:"em"})]]},underlineShortcut:{on:"keyboard.keydown",guard:({snapshot:e,event:t})=>wc.decorators.underline.guard(t.originEvent)&&e.context.schema.decorators.some(n=>n.name==="underline"),actions:[()=>[Oe({type:"decorator.toggle",decorator:"underline"})]]},codeShortcut:{on:"keyboard.keydown",guard:({snapshot:e,event:t})=>wc.decorators.code.guard(t.originEvent)&&e.context.schema.decorators.some(n=>n.name==="code"),actions:[()=>[Oe({type:"decorator.toggle",decorator:"code"})]]}};function jde(e){var s;if(e.length===0)return new DOMRect(0,0,0,0);const t=e.filter(l=>l instanceof Element),n=(s=t.at(0))==null?void 0:s.getBoundingClientRect();if(!n)return new DOMRect(0,0,0,0);let r=n.left,i=n.top,o=n.right,a=n.bottom;for(let l=1;l<t.length;l++){const u=t[l].getBoundingClientRect();r=Math.min(r,u.left),i=Math.min(i,u.top),o=Math.max(o,u.right),a=Math.max(a,u.bottom)}return new DOMRect(r,i,o-r,a-i)}const MQt=[{on:"drag.dragstart",guard:({snapshot:e,dom:t,event:n})=>{const r=fV({snapshot:e,eventSelection:n.position.selection}),i=nV({...e,context:{...e.context,selection:r}}),o={blockNodes:t.getBlockNodes({...e,context:{...e.context,selection:r}}),childNodes:t.getChildNodes({...e,context:{...e.context,selection:r}})};return{dragSelection:r,draggedDomNodes:o,selectingEntireBlocks:i}},actions:[({dom:e,event:t},{dragSelection:n,draggedDomNodes:r,selectingEntireBlocks:i})=>{const o=document.createElement("div");if(i){const a=r.blockNodes.map(l=>l.cloneNode(!0));for(const l of a)l instanceof HTMLElement&&(l.style.position="relative"),o.appendChild(l);const s=o.querySelector("[data-pt-drag-ghost-element]");if(s&&o.replaceChildren(s),o.setAttribute("data-dragged",""),o.style.position="absolute",o.style.left="-99999px",o.style.boxSizing="border-box",document.body.appendChild(o),s){const l=s.getBoundingClientRect(),u=t.originEvent.clientX-l.left,d=t.originEvent.clientY-l.top;return o.style.width=`${l.width}px`,o.style.height=`${l.height}px`,[Oe({type:"select",at:n}),eF(()=>{e.setDragGhost({event:t,ghost:{element:o,x:u,y:d}})}),lI(t)]}else{const l=jde(r.blockNodes),u=t.originEvent.clientX-l.left,d=t.originEvent.clientY-l.top;return o.style.width=`${l.width}px`,o.style.height=`${l.height}px`,[Oe({type:"select",at:n}),eF(()=>{e.setDragGhost({event:t,ghost:{element:o,x:u,y:d}})}),lI(t)]}}else{const a=r.childNodes.map(d=>d.cloneNode(!0));for(const d of a)o.appendChild(d);o.style.position="absolute",o.style.left="-99999px",o.style.boxSizing="border-box",document.body.appendChild(o);const s=jde(r.childNodes),l=t.originEvent.clientX-s.left,u=t.originEvent.clientY-s.top;return o.style.width=`${s.width}px`,o.style.height=`${s.height}px`,[Oe({type:"select",at:n}),eF(()=>{e.setDragGhost({event:t,ghost:{element:o,x:l,y:u}})}),lI(t)]}}]},{on:"drag.dragover",guard:({snapshot:e,event:t})=>{const n=t.dragOrigin;return n?sI(t.position.selection)({...e,context:{...e.context,selection:n.selection}}):!1},actions:[]},{on:"drag.drop",guard:({snapshot:e,event:t})=>{const n=t.dragOrigin,r=t.position.selection;return n?sI(r)({...e,context:{...e.context,selection:n.selection}}):!1},actions:[]},{on:"drag.drop",guard:({event:e})=>e.dragOrigin!==void 0,actions:[({event:e})=>[Oe({type:"deserialize",originEvent:e})]]},{on:"drag.drop",actions:[({event:e})=>[Oe({type:"select",at:e.position.selection}),Oe({type:"deserialize",originEvent:e})]]},{on:"deserialization.success",guard:({snapshot:e,event:t})=>{if(t.originEvent.type!=="drag.drop"||t.originEvent.dragOrigin===void 0)return!1;const n=t.originEvent.dragOrigin,r=fV({eventSelection:n.selection,snapshot:e}),i=t.originEvent.position.selection,o=n?sI(i)({...e,context:{...e.context,selection:r}}):!1,a=nV({...e,context:{...e.context,selection:r}}),s=ff({...e,context:{...e.context,selection:r}});return o?!1:{dropPosition:i,draggingEntireBlocks:a,draggedBlocks:s,dragOrigin:n,originEvent:t.originEvent}},actions:[({event:e},{draggingEntireBlocks:t,draggedBlocks:n,dragOrigin:r,dropPosition:i,originEvent:o})=>[Oe({type:"select",at:i}),...t?n.map(a=>Oe({type:"delete.block",at:a.path})):[Oe({type:"delete",at:r.selection})],Oe({type:"insert.blocks",blocks:e.data,placement:t?o.position.block==="start"?"before":o.position.block==="end"?"after":"auto":"auto"})]]}],PQt={on:"insert.break",guard:({snapshot:e})=>{const t=ta(e),n=vi(e);if(!e.context.selection||!t||!n)return!1;const r=rHt(t)(e),i=t.node.listItem,o=t.node.level;return r?{focusListItem:i,focusLevel:o}:!1},actions:[({snapshot:e},{focusListItem:t,focusLevel:n})=>{var r;return[Oe({type:"insert.block",block:{_type:e.context.schema.block.name,children:[{_type:e.context.schema.span.name,text:"",marks:[]}],markDefs:[],listItem:t,level:n,style:(r=e.context.schema.styles[0])==null?void 0:r.name},placement:"after"})]}]},RQt={on:"insert.break",guard:({snapshot:e})=>{var l,u;const t=ta(e),n=vi(e);if(!e.context.selection||!t||!n)return!1;const r=xy(e),i=(l=r==null?void 0:r.node.marks)==null?void 0:l.filter(d=>e.context.schema.decorators.some(f=>f.name===d)??[]),o=((u=r==null?void 0:r.node.marks)==null?void 0:u.filter(d=>!e.context.schema.decorators.some(f=>f.name===d)))??[],a=t.node.listItem,s=t.node.level;return iHt(t)(e)?{focusAnnotations:o,focusDecorators:i,focusListItem:a,focusLevel:s}:!1},actions:[({snapshot:e},{focusAnnotations:t,focusDecorators:n,focusListItem:r,focusLevel:i})=>{var o;return[Oe({type:"insert.block",block:{_type:e.context.schema.block.name,children:[{_type:e.context.schema.span.name,marks:t.length===0?n:[],text:""}],listItem:r,level:i,style:(o=e.context.schema.styles[0])==null?void 0:o.name},placement:"before",select:"none"})]}]},FQt={on:"insert.break",guard:({snapshot:e})=>{if(!e.context.selection||!r0(e))return!1;const t=tHt(e),n=nHt(e);if(!t||!n)return!1;const r=Uu({context:e.context,block:t}),i=Xu(e.context.selection),o=Nl({context:e.context,block:n}),a=df(e.context.selection);return Hu(r,i)&&Hu(o,a)?{selection:e.context.selection}:!1},actions:[(e,{selection:t})=>[Oe({type:"delete",at:t})]]},LQt={on:"insert.break",guard:({snapshot:e})=>{if(!e.context.selection||!r0(e))return!1;const t=ff(e),n=Mw(e),r=Ow(e);if(!n||!r)return!1;const i=Uu({context:e.context,block:n}),o=Xu(e.context.selection),a=Nl({context:e.context,block:r}),s=df(e.context.selection);return Hu(o,i)&&Hu(s,a)?{selectedBlocks:t}:!1},actions:[({snapshot:e},{selectedBlocks:t})=>[Oe({type:"insert.block",block:{_type:e.context.schema.block.name,children:[{_type:e.context.schema.span.name,text:"",marks:[]}]},placement:"before",select:"start"}),...t.map(n=>Oe({type:"delete.block",at:n.path}))]]},NQt={on:"insert.break",guard:({snapshot:e})=>{const t=vi(e),n=MP(e);return t&&n},actions:[()=>[Oe({type:"move.forward",distance:1}),Oe({type:"split"})]]},WC={breakingAtTheEndOfTextBlock:PQt,breakingAtTheStartOfTextBlock:RQt,breakingEntireDocument:FQt,breakingEntireBlocks:LQt,breakingInlineObject:NQt},CZ=10,BQt={on:"delete.backward",guard:({snapshot:e})=>{var i;const t=vi(e),n=ta(e),r=xy(e);return!t||!n||!r?!1:n.node.children[0]._key===r.node._key&&((i=e.context.selection)==null?void 0:i.focus.offset)===0&&n.node.level===1?{focusTextBlock:n}:!1},actions:[(e,{focusTextBlock:t})=>[Oe({type:"block.unset",props:["listItem","level"],at:t.path})]]},VQt={on:"delete.backward",guard:({snapshot:e})=>{var i;const t=vi(e),n=ta(e),r=xy(e);return!t||!n||!r?!1:n.node.children[0]._key===r.node._key&&((i=e.context.selection)==null?void 0:i.focus.offset)===0&&n.node.level!==void 0&&n.node.level>1?{focusTextBlock:n,level:n.node.level-1}:!1},actions:[(e,{focusTextBlock:t,level:n})=>[Oe({type:"block.set",props:{level:n},at:t.path})]]},zQt={on:"delete.forward",guard:({snapshot:e})=>{const t=VE(e),n=Rw(e);return!t||!n||!St(e.context,n.node)||!jc(e.context,t.node)?!1:{focusListBlock:t,nextBlock:n}},actions:[(e,{nextBlock:t})=>[Oe({type:"insert.block",block:t.node,placement:"auto",select:"start"}),Oe({type:"delete.block",at:t.path})]]},UQt={on:"delete.backward",guard:({snapshot:e})=>{const t=ta(e),n=Fw(e);if(!t||!n||!Au(e.context,n.node)||!jc(e.context,n.node))return!1;const r=Nl({context:e.context,block:n});return{focusTextBlock:t,previousBlockEndPoint:r}},actions:[(e,{focusTextBlock:t,previousBlockEndPoint:n})=>[Oe({type:"select",at:{anchor:n,focus:n}}),Oe({type:"insert.block",block:t.node,placement:"auto",select:"start"}),Oe({type:"delete.block",at:t.path})]]},HQt={on:"insert.break",guard:({snapshot:e})=>{const t=vi(e),n=VE(e);return!t||!n||!jc(e.context,n.node)?!1:{focusListBlock:n}},actions:[(e,{focusListBlock:t})=>[Oe({type:"block.unset",props:["listItem","level"],at:t.path})]]},WQt={on:"keyboard.keydown",guard:({snapshot:e,event:t})=>{if(!wc.tab.guard(t.originEvent))return!1;const n=ff(e),r=n.flatMap(i=>Au(e.context,i.node)?[{node:i.node,path:i.path}]:[]);return r.length===n.length?{selectedListBlocks:r}:!1},actions:[(e,{selectedListBlocks:t})=>t.map(n=>Oe({type:"block.set",props:{level:Math.min(CZ,Math.max(1,n.node.level+1))},at:n.path}))]},GQt={on:"keyboard.keydown",guard:({snapshot:e,event:t})=>{if(!wc.shiftTab.guard(t.originEvent))return!1;const n=ff(e),r=n.flatMap(i=>Au(e.context,i.node)?[{node:i.node,path:i.path}]:[]);return r.length===n.length?{selectedListBlocks:r}:!1},actions:[(e,{selectedListBlocks:t})=>t.map(n=>Oe({type:"block.set",props:{level:Math.min(CZ,Math.max(1,n.node.level-1))},at:n.path}))]},KQt={on:"insert.blocks",guard:({snapshot:e,event:t})=>{const n=VE(e);if(!n)return!1;const r=t.blocks.at(0),i=t.blocks.at(1),o=Au(e.context,r)?r:Au(e.context,i)?i:void 0;if(!o)return!1;const a=n.node.level-o.level;return a===0?!1:{levelDifference:a,insertedListBlock:o}},actions:[({snapshot:e,event:t},{levelDifference:n,insertedListBlock:r})=>{let i=!0,o=!1;return[Oe({...t,blocks:t.blocks.map(a=>(a._key===r._key&&(o=!0),i?o&&i&&Au(e.context,a)?{...a,level:Math.min(CZ,Math.max(1,a.level+n))}:(o&&(i=!1),a):a))})]}]},YQt={on:"insert.blocks",guard:({snapshot:e,event:t})=>{const n=VE(e);if(!n||jc(e.context,n.node))return!1;const r=t.blocks.at(0),i=t.blocks.at(1),o=Au(e.context,r)?r:Au(e.context,i)?i:void 0;return!o||n.node.level!==o.level||n.node.listItem===o.listItem?!1:{listItem:n.node.listItem,insertedListBlock:o}},actions:[({snapshot:e,event:t},{listItem:n,insertedListBlock:r})=>{let i=!0,o=!1;return[Oe({...t,blocks:t.blocks.map(a=>(a._key===r._key&&(o=!0),i?o&&i&&Au(e.context,a)?{...a,listItem:a.level===r.level?n:a.listItem}:(o&&(i=!1),a):a))})]}]},qQt={on:"insert.block",guard:({snapshot:e,event:t})=>{if(t.placement!=="auto"||t.block._type!==e.context.schema.block.name||t.block.listItem!==void 0)return!1;const n=VE(e);return!n||!jc(e.context,n.node)?!1:{level:n.node.level,listItem:n.node.listItem}},actions:[({event:e},{level:t,listItem:n})=>[Oe({...e,block:{...e.block,level:t,listItem:n}})]]},od={clearListOnBackspace:BQt,unindentListOnBackspace:VQt,mergeTextIntoListOnDelete:zQt,mergeTextIntoListOnBackspace:UQt,clearListOnEnter:HQt,indentListOnTab:WQt,unindentListOnShiftTab:GQt,inheritListLevel:KQt,inheritListItem:YQt,inheritListProperties:qQt},ZQt=[_Qt.addAnnotationOnCollapsedSelection,sA.strongShortcut,sA.emShortcut,sA.underlineShortcut,sA.codeShortcut,...MQt,Ng.clickingAboveLonelyBlockObject,Ng.clickingBelowLonelyBlockObject,Ng.arrowDownOnLonelyBlockObject,Ng.arrowUpOnLonelyBlockObject,Ng.breakingBlockObject,Ng.deletingEmptyTextBlockAfterBlockObject,Ng.deletingEmptyTextBlockBeforeBlockObject,od.clearListOnBackspace,od.unindentListOnBackspace,od.mergeTextIntoListOnDelete,od.mergeTextIntoListOnBackspace,od.clearListOnEnter,od.indentListOnTab,od.unindentListOnShiftTab,od.inheritListLevel,od.inheritListItem,od.inheritListProperties,WC.breakingAtTheEndOfTextBlock,WC.breakingAtTheStartOfTextBlock,WC.breakingEntireDocument,WC.breakingEntireBlocks,WC.breakingInlineObject].map(e=>({behavior:e,priority:G$})),XQt=[{on:"annotation.set",guard:({snapshot:e,event:t})=>{var a;const n=t.at[0]._key,r=t.at[2]._key,i=ta({...e,context:{...e.context,selection:{anchor:{path:[{_key:n}],offset:0},focus:{path:[{_key:n}],offset:0}}}});if(!i)return!1;const o=(a=i.node.markDefs)==null?void 0:a.map(s=>s._key===r?{...s,...t.props}:s);return{blockKey:n,updatedMarkDefs:o}},actions:[(e,{blockKey:t,updatedMarkDefs:n})=>[Oe({type:"block.set",at:[{_key:t}],props:{markDefs:n}})]]},{on:"annotation.toggle",guard:({snapshot:e,event:t})=>tV(t.annotation.name)(e),actions:[({event:e})=>[Oe({type:"annotation.remove",annotation:e.annotation})]]},{on:"annotation.toggle",guard:({snapshot:e,event:t})=>!tV(t.annotation.name)(e),actions:[({event:e})=>[Oe({type:"annotation.add",annotation:e.annotation})]]}],JQt=[{on:"decorator.toggle",guard:({snapshot:e,event:t})=>Q8(t.decorator)(e),actions:[({event:e})=>[Oe({type:"decorator.remove",decorator:e.decorator})]]},{on:"decorator.toggle",guard:({snapshot:e,event:t})=>{const n=t.at?dZ({context:e.context,offsets:t.at}):null;return n?!Q8(t.decorator)({...e,context:{...e.context,selection:n}}):!Q8(t.decorator)(e)},actions:[({event:e})=>[Oe({...e,type:"decorator.add"})]]}],QQt=[{on:"delete.backward",guard:({snapshot:e})=>e.context.selection?{selection:e.context.selection}:!1,actions:[({event:e},{selection:t})=>[Oe({type:"delete",direction:"backward",unit:e.unit,at:t})]]},{on:"delete.forward",guard:({snapshot:e})=>e.context.selection?{selection:e.context.selection}:!1,actions:[({event:e},{selection:t})=>[Oe({type:"delete",direction:"forward",unit:e.unit,at:t})]]},{on:"delete.block",actions:[({event:e})=>[Oe({type:"delete",at:{anchor:{path:e.at,offset:0},focus:{path:e.at,offset:0}}})]]},{on:"delete.child",guard:({snapshot:e,event:t})=>{const n=Xq({...e,context:{...e.context,selection:{anchor:{path:t.at,offset:0},focus:{path:t.at,offset:0}}}});return n?zn(e.context,n.node)?{selection:{anchor:{path:t.at,offset:0},focus:{path:t.at,offset:n.node.text.length}}}:{selection:{anchor:{path:t.at,offset:0},focus:{path:t.at,offset:0}}}:!1},actions:[(e,{selection:t})=>[Oe({type:"delete",at:t})]]},{on:"delete.text",guard:({snapshot:e,event:t})=>{const n=dZ({context:e.context,offsets:t.at});if(!n)return!1;const r=KDe({...e,context:{...e.context,value:e.context.value,selection:n}});return r?{selection:r}:!1},actions:[(e,{selection:t})=>[Oe({type:"delete",at:t})]]}],een=[{on:"insert.blocks",guard:({event:e})=>e.placement==="before",actions:[({event:e})=>e.blocks.map((t,n)=>Oe({type:"insert.block",block:t,placement:n===0?"before":"after",select:e.select??"end"}))]},{on:"insert.blocks",guard:({event:e})=>e.placement==="after",actions:[({event:e})=>e.blocks.map(t=>Oe({type:"insert.block",block:t,placement:"after",select:e.select??"end"}))]},{on:"insert.blocks",guard:({snapshot:e,event:t})=>{if(t.placement!=="auto")return!1;const n=ta(e);return n?{focusTextBlock:n}:!1},actions:[({snapshot:e,event:t},{focusTextBlock:n})=>t.blocks.length===1?[Oe({type:"insert.block",block:t.blocks[0],placement:"auto",select:t.select??"end"})]:jc(e.context,n.node)?t.blocks.map((r,i)=>Oe({type:"insert.block",block:r,placement:i===0?"auto":"after",select:t.select??"end"})):t.blocks.flatMap((r,i)=>i===0?[Oe({type:"split"}),Oe({type:"select.previous block",select:"end"}),Oe({type:"insert.block",block:r,placement:"auto",select:t.select??"end"})]:i===t.blocks.length-1?[Oe({type:"select.next block",select:"start"}),Oe({type:"insert.block",block:r,placement:"auto",select:t.select??"end"})]:[Oe({type:"insert.block",block:r,placement:"after",select:t.select??"end"})])]},{on:"insert.blocks",guard:({event:e})=>e.placement==="auto",actions:[({event:e})=>e.blocks.map((t,n)=>Oe({type:"insert.block",block:t,placement:n===0?"auto":"after",select:e.select??"end"}))]},{on:"insert.break",actions:[()=>[Oe({type:"split"})]]},{on:"insert.soft break",actions:[()=>[Oe({type:"insert.text",text:`
`})]]}],ten=[{on:"keyboard.keydown",guard:({snapshot:e,event:t})=>wc.break.guard(t.originEvent)&&vi(e)&&MP(e),actions:[()=>[Oe({type:"insert.break"})]]},{on:"keyboard.keydown",guard:({event:e})=>wc.lineBreak.guard(e.originEvent),actions:[()=>[Oe({type:"insert.soft break"})]]},{on:"keyboard.keydown",guard:({event:e})=>wc.history.undo.guard(e.originEvent),actions:[()=>[Oe({type:"history.undo"})]]},{on:"keyboard.keydown",guard:({event:e})=>wc.history.redo.guard(e.originEvent),actions:[()=>[Oe({type:"history.redo"})]]}],nen=[{on:"list item.add",guard:({snapshot:e})=>({selectedTextBlocks:P$(e)}),actions:[({event:e},{selectedTextBlocks:t})=>t.map(n=>Oe({type:"block.set",at:n.path,props:{level:1,listItem:e.listItem}}))]},{on:"list item.remove",guard:({snapshot:e})=>({selectedTextBlocks:P$(e)}),actions:[(e,{selectedTextBlocks:t})=>t.map(n=>Oe({type:"block.unset",at:n.path,props:["level","listItem"]}))]},{on:"list item.toggle",guard:({snapshot:e,event:t})=>Vce(t.listItem)(e),actions:[({event:e})=>[Oe({type:"list item.remove",listItem:e.listItem})]]},{on:"list item.toggle",guard:({snapshot:e,event:t})=>!Vce(t.listItem)(e),actions:[({event:e})=>[Oe({type:"list item.add",listItem:e.listItem})]]}],ren=[{on:"move.block up",guard:({snapshot:e,event:t})=>{const n=Fw({...e,context:{...e.context,selection:{anchor:{path:t.at,offset:0},focus:{path:t.at,offset:0}}}});return n?{previousBlock:n}:!1},actions:[({event:e},{previousBlock:t})=>[Oe({type:"move.block",at:e.at,to:t.path})]]},{on:"move.block down",guard:({snapshot:e,event:t})=>{const n=Rw({...e,context:{...e.context,selection:{anchor:{path:t.at,offset:0},focus:{path:t.at,offset:0}}}});return n?{nextBlock:n}:!1},actions:[({event:e},{nextBlock:t})=>[Oe({type:"move.block",at:e.at,to:t.path})]]}],ien=[{on:"select.previous block",guard:({snapshot:e,event:t})=>{const n=Fw(e);if(!n)return!1;const r=t.select==="end"?Nl({context:e.context,block:n}):Uu({context:e.context,block:n});return{selection:{anchor:r,focus:r}}},actions:[(e,{selection:t})=>[Oe({type:"select",at:t})]]},{on:"select.next block",guard:({snapshot:e,event:t})=>{const n=Rw(e);if(!n)return!1;const r=t.select==="end"?Nl({context:e.context,block:n}):Uu({context:e.context,block:n});return{selection:{anchor:r,focus:r}}},actions:[(e,{selection:t})=>[Oe({type:"select",at:t})]]}],oen=[{on:"split",guard:({snapshot:e})=>vi(e)&&MP(e),actions:[]},{on:"split",guard:({snapshot:e})=>vi(e)&&Pw(e),actions:[]},{on:"split",guard:({snapshot:e})=>{const t=e.context.selection;if(!t||Gv(t))return!1;const n=Mw(e),r=Ow(e);return!n||!r?!1:!St(e.context,n.node)&&St(e.context,r.node)?{selection:t}:!1},actions:[(e,{selection:t})=>[Oe({type:"delete",at:t})]]},{on:"split",guard:({snapshot:e})=>{const t=e.context.selection;return!t||Gv(t)?!1:{selection:t}},actions:[(e,{selection:t})=>[Oe({type:"delete",at:t}),Oe({type:"split"})]]},{on:"split",guard:({snapshot:e})=>{const t=e.context.selection;if(!t||!Gv(t))return!1;const n=Xu(t),r=ta(e);if(!r)return!1;const i=Nl({context:e.context,block:r}),o={anchor:n,focus:i},a=zh({block:eZt({context:{...e.context,selection:o},block:r.node}),context:e.context,options:{refreshKeys:!0,validateFields:!0}});return a?{newTextBlock:a,newTextBlockSelection:o}:!1},actions:[(e,{newTextBlock:t,newTextBlockSelection:n})=>Gv(n)?[Oe({type:"insert.block",block:t,placement:"after",select:"start"})]:[Oe({type:"delete",at:n}),Oe({type:"insert.block",block:t,placement:"after",select:"start"})]]}],aen=[{on:"style.add",guard:({snapshot:e})=>({selectedTextBlocks:P$(e)}),actions:[({event:e},{selectedTextBlocks:t})=>t.map(n=>Oe({type:"block.set",at:n.path,props:{style:e.style}}))]},{on:"style.remove",guard:({snapshot:e})=>({selectedTextBlocks:P$(e)}),actions:[(e,{selectedTextBlocks:t})=>t.map(n=>Oe({type:"block.unset",at:n.path,props:["style"]}))]},{on:"style.toggle",guard:({snapshot:e,event:t})=>zce(t.style)(e),actions:[({event:e})=>[Oe({type:"style.remove",style:e.style})]]},{on:"style.toggle",guard:({snapshot:e,event:t})=>!zce(t.style)(e),actions:[({event:e})=>[Oe({type:"style.add",style:e.style})]]}],sen={on:"deserialize",guard:({snapshot:e,event:t})=>{let n;const r=[];for(const i of e.context.converters){const o=t.originEvent.originEvent.dataTransfer.getData(i.mimeType);if(!o)continue;const a=i.deserialize({snapshot:e,event:{type:"deserialize",data:o}});if(a.type==="deserialization.success"){n=a;break}else r.push(a)}return n||{type:"deserialization.failure",mimeType:"*/*",reason:r.map(i=>i.reason).join(", ")}},actions:[({event:e},t)=>[Oe({...t,originEvent:e.originEvent})]]},len={on:"serialize",guard:({snapshot:e,event:t})=>{if(e.context.converters.length===0)return!1;const n=e.context.converters.map(r=>r.serialize({snapshot:e,event:{...t,originEvent:t.originEvent.type}}));return n.length===0?!1:n},actions:[({event:e},t)=>t.map(n=>Oe({...n,originEvent:e.originEvent}))]},cen=[{on:"clipboard.copy",guard:({snapshot:e})=>{const t=xy(e),n=vi(e);return t&&n},actions:[]},{on:"clipboard.copy",actions:[({event:e})=>[Oe({type:"serialize",originEvent:e})]]},{on:"clipboard.cut",guard:({snapshot:e})=>{const t=xy(e),n=vi(e);return t&&n},actions:[]},{on:"clipboard.cut",guard:({snapshot:e})=>e.context.selection?{selection:e.context.selection}:!1,actions:[({event:e},{selection:t})=>[Oe({type:"serialize",originEvent:e}),Oe({type:"delete",at:t})]]},{on:"drag.dragstart",actions:[({event:e})=>[Oe({type:"serialize",originEvent:e})]]},{on:"serialization.success",actions:[({event:e})=>[{type:"effect",effect:()=>{e.originEvent.originEvent.dataTransfer.setData(e.mimeType,e.data)}}]]},{on:"serialization.failure",actions:[({event:e})=>[{type:"effect",effect:()=>{console.warn(`Serialization of ${e.mimeType} failed with reason "${e.reason}"`)}}]]},{on:"deserialization.success",guard:({snapshot:e,event:t})=>{if(ta(e)&&t.mimeType==="text/plain"&&t.originEvent.type==="clipboard.paste"){const n=vx(e);return{activeAnnotations:ZUt(e),activeDecorators:n,textRuns:t.data.flatMap(r=>St(e.context,r)?[UDe(r)]:[])}}return!1},actions:[(e,{activeAnnotations:t,activeDecorators:n,textRuns:r})=>r.flatMap((i,o)=>o!==r.length-1?[Oe({type:"insert.span",text:i,decorators:n,annotations:t.map(({_key:a,_type:s,...l})=>({name:s,value:l}))}),Oe({type:"insert.break"})]:[Oe({type:"insert.span",text:i,decorators:n,annotations:t.map(({_key:a,_type:s,...l})=>({name:s,value:l}))})])]},{on:"deserialization.success",actions:[({event:e})=>[Oe({type:"insert.blocks",blocks:e.data,placement:"auto"})]]},{on:"deserialization.failure",actions:[({event:e})=>[{type:"effect",effect:()=>{console.warn(`Deserialization of ${e.mimeType} failed with reason "${e.reason}"`)}}]]},{on:"clipboard.paste",guard:({snapshot:e})=>e.context.selection&&r0(e)?{selection:e.context.selection}:!1,actions:[({event:e},{selection:t})=>[Oe({type:"delete",at:t}),Oe({type:"deserialize",originEvent:e})]]},{on:"clipboard.paste",actions:[({event:e})=>[Oe({type:"deserialize",originEvent:e})]]},{on:"input.*",actions:[({event:e})=>[Oe({type:"deserialize",originEvent:e})]]},...XQt,...JQt,...QQt,...een,...ten,...nen,...ren,...aen,...ien,...oen,sen,len];function Ide(e){return!fMe(e)&&!dMe(e)&&!uMe(e)}const uen=["annotation.set","annotation.toggle","decorator.toggle","delete.backward","delete.block","delete.child","delete.forward","delete.text","deserialize","deserialization.success","deserialization.failure","insert.blocks","insert.break","insert.soft break","list item.add","list item.remove","list item.toggle","move.block down","move.block up","select.previous block","select.next block","serialize","serialization.success","serialization.failure","split","style.add","style.remove","style.toggle"];function uMe(e){return uen.includes(e.type)}const den=["clipboard.copy","clipboard.cut","clipboard.paste","drag.dragstart","drag.drag","drag.dragend","drag.dragenter","drag.dragover","drag.dragleave","drag.drop","input.*","keyboard.keydown","keyboard.keyup","mouse.click"];function dMe(e){return den.includes(e.type)}function fMe(e){return e.type.startsWith("custom.")}const EF=Ts("behaviors:event");function _F(e){return dMe(e)?"native":uMe(e)?"synthetic":fMe(e)?"custom":"synthetic"}function sv({mode:e,behaviors:t,remainingEventBehaviors:n,event:r,editor:i,keyGenerator:o,schema:a,getSnapshot:s,nativeEvent:l,sendBack:u}){EF(`(${e}:${_F(r)})`,JSON.stringify(r,null,2));const d=[...n,...cen].filter(y=>{if(y.on==="*")return!0;const[x]=y.on.includes("*")&&y.on.includes(".")?y.on.split("."):[void 0],[b]=r.type.includes(".")?r.type.split("."):[void 0];return x!==void 0&&b!==void 0&&x===b||x!==void 0&&b===void 0&&x===r.type?!0:y.on===r.type});if(d.length===0&&Ide(r)){l==null||l.preventDefault(),_de(i,()=>{EF(`(execute:${_F(r)})`,JSON.stringify(r,null,2)),q$({context:{keyGenerator:o,schema:a},operation:{...r,editor:i}})}),i.onChange();return}const f=s();let h=!1,m=!1,g=-1;for(const y of d){g++;let x=!1;try{x=y.guard===void 0||y.guard({snapshot:f,event:r,dom:yV(u,i)})}catch(b){console.error(new Error(`Evaluating guard for "${r.type}" failed due to: ${b.message}`))}if(x){m=!0;for(const b of y.actions){const v=s();let w=[];try{w=b({snapshot:v,event:r,dom:yV(u,i)},x)}catch(C){console.error(new Error(`Evaluating actions for "${r.type}" failed due to: ${C.message}`))}if(w.length!==0){if(h=w.some(C=>C.type==="raise"||C.type==="execute")||!w.some(C=>C.type==="forward"),w.some(C=>C.type==="execute")){CJt(i,()=>{for(const C of w){if(C.type==="effect"){try{C.effect()}catch(k){console.error(new Error(`Executing effect as a result of "${r.type}" failed due to: ${k.message}`))}continue}if(C.type==="forward"){const k=d.slice(g+1);sv({mode:"forward",behaviors:t,remainingEventBehaviors:k,event:C.event,editor:i,keyGenerator:o,schema:a,getSnapshot:s,nativeEvent:l,sendBack:u});continue}if(C.type==="raise"){sv({mode:"raise",behaviors:t,remainingEventBehaviors:t,event:C.event,editor:i,keyGenerator:o,schema:a,getSnapshot:s,nativeEvent:l,sendBack:u});continue}sv({mode:"execute",behaviors:t,remainingEventBehaviors:[],event:C.event,editor:i,keyGenerator:o,schema:a,getSnapshot:s,nativeEvent:void 0,sendBack:u})}});continue}for(const C of w){if(C.type==="effect"){try{C.effect()}catch(k){console.error(new Error(`Executing effect as a result of "${r.type}" failed due to: ${k.message}`))}continue}if(C.type==="forward"){const k=d.slice(g+1);sv({mode:"forward",behaviors:t,remainingEventBehaviors:k,event:C.event,editor:i,keyGenerator:o,schema:a,getSnapshot:s,nativeEvent:l,sendBack:u});continue}if(C.type==="raise"){sv({mode:"raise",behaviors:t,remainingEventBehaviors:t,event:C.event,editor:i,keyGenerator:o,schema:a,getSnapshot:s,nativeEvent:l,sendBack:u});continue}C.type==="execute"&&console.error("Unexpected action type: `execute`")}}}break}}!m&&Ide(r)?(l==null||l.preventDefault(),_de(i,()=>{EF(`(execute:${_F(r)})`,JSON.stringify(r,null,2)),q$({context:{keyGenerator:o,schema:a},operation:{...r,editor:i}})}),i.onChange()):h&&(l==null||l.preventDefault())}function fen(e){if(e.length===0)return[];const t=e.filter(d=>d.priority!==void 0),n=e.filter(d=>d.priority===void 0);if(t.length===0)return e;const r=new Map(t.map(d=>[d.priority.id,d])),i=new Map,o=new Map;function a(d){i.has(d)||(i.set(d,new Set),o.set(d,0))}for(const d of t){const f=d.priority.id;a(f)}function s(d,f){var h;!i.has(d)||!i.has(f)||((h=i.get(d))==null||h.add(f),o.set(f,(o.get(f)??0)+1))}for(const d of t){const f=d.priority.id,h=new Set;let m=d.priority.reference;for(;m;){const g=m.priority.id;if(a(g),h.has(g))throw new Error("Circular dependency detected in priorities");h.add(g),m.importance==="higher"?s(f,g):s(g,f),m=m.priority.reference}}const l=[];for(const[d,f]of o)f===0&&l.push(d);const u=[];for(;l.length>0;){const d=l.shift(),f=r.get(d);f&&u.push(f);for(const h of i.get(d)??[]){const m=(o.get(h)??0)-1;o.set(h,m),m===0&&l.push(h)}}for(const d of t)u.includes(d)||u.push(d);return[...u,...n]}function hen({converters:e,editor:t,keyGenerator:n,readOnly:r,schema:i}){const o=t.selection?gs({schema:i,editor:t,range:t.selection}):null,a={converters:e,keyGenerator:n,readOnly:r,schema:i,selection:o,value:t.value};return{blockIndexMap:t.blockIndexMap,context:a,decoratorState:t.decoratorState}}const Si=Ts("editor machine"),pen=$w({types:{context:{},events:{},emitted:{},input:{},tags:{}},actions:{"add behavior to context":vn({behaviors:({context:e,event:t})=>(wl(t,"add behavior"),new Set([...e.behaviors,t.behaviorConfig])),behaviorsSorted:!1}),"remove behavior from context":vn({behaviors:({context:e,event:t})=>(wl(t,"remove behavior"),e.behaviors.delete(t.behaviorConfig),new Set([...e.behaviors]))}),"emit patch event":co(({event:e})=>(wl(e,"internal.patch"),e)),"emit mutation event":co(({event:e})=>(wl(e,"mutation"),e)),"emit read only":co({type:"read only"}),"emit editable":co({type:"editable"}),"defer event":vn({pendingEvents:({context:e,event:t})=>(wl(t,["internal.patch","mutation"]),[...e.pendingEvents,t])}),"emit pending events":H2(({context:e,enqueue:t})=>{for(const n of e.pendingEvents)t.emit(n)}),"emit ready":co({type:"ready"}),"clear pending events":vn({pendingEvents:[]}),"defer incoming patches":vn({pendingIncomingPatchesEvents:({context:e,event:t})=>t.type==="patches"?[...e.pendingIncomingPatchesEvents,t]:e.pendingIncomingPatchesEvents}),"emit pending incoming patches":H2(({context:e,enqueue:t})=>{for(const n of e.pendingIncomingPatchesEvents)t.emit(n)}),"clear pending incoming patches":vn({pendingIncomingPatchesEvents:[]}),"handle blur":({event:e})=>{wl(e,"blur");try{Ve.blur(e.editor)}catch(t){console.error(new Error(`Failed to blur editor: ${t.message}`))}},"handle focus":({context:e})=>{if(!e.slateEditor){console.error("No Slate editor found to focus");return}try{const t=e.slateEditor.selection;Ve.focus(e.slateEditor),t&&ne.select(e.slateEditor,t)}catch(t){console.error(new Error(`Failed to focus editor: ${t.message}`))}},"handle behavior event":({context:e,event:t,self:n})=>{wl(t,["behavior event"]);try{const r=[...e.behaviors.values()].map(i=>i.behavior);sv({mode:"raise",behaviors:r,remainingEventBehaviors:r,event:t.behaviorEvent,editor:t.editor,keyGenerator:e.keyGenerator,schema:e.schema,getSnapshot:()=>hen({converters:[...e.converters],editor:t.editor,keyGenerator:e.keyGenerator,readOnly:n.getSnapshot().matches({"edit mode":"read only"}),schema:e.schema}),nativeEvent:t.nativeEvent,sendBack:i=>n.send(i)})}catch(r){console.error(new Error(`Raising "${t.behaviorEvent.type}" failed due to: ${r.message}`))}},"sort behaviors":vn({behaviors:({context:e})=>e.behaviorsSorted?e.behaviors:new Set(fen([...e.behaviors.values()])),behaviorsSorted:!0})},guards:{"slate is busy":({context:e})=>e.slateEditor?e.slateEditor.operations.length>0:!1}}).createMachine({id:"editor",context:({input:e})=>({behaviors:new Set(ZQt),behaviorsSorted:!1,converters:new Set(e.converters??[]),getLegacySchema:e.getLegacySchema,keyGenerator:e.keyGenerator,pendingEvents:[],pendingIncomingPatchesEvents:[],schema:e.schema,selection:null,initialReadOnly:e.readOnly??!1,maxBlocks:e.maxBlocks,initialValue:e.initialValue}),on:{"add behavior":{actions:"add behavior to context"},"remove behavior":{actions:"remove behavior from context"},"update maxBlocks":{actions:vn({maxBlocks:({event:e})=>e.maxBlocks})},"update selection":{actions:[vn({selection:({event:e})=>e.selection}),co(({event:e})=>({...e,type:"selection"}))]},"set drag ghost":{actions:vn({dragGhost:({event:e})=>e.ghost})}},type:"parallel",states:{"edit mode":{initial:"read only",states:{"read only":{initial:"determine initial edit mode",on:{"behavior event":{actions:["sort behaviors","handle behavior event"],guard:({event:e})=>e.behaviorEvent.type==="clipboard.copy"||e.behaviorEvent.type==="mouse.click"||e.behaviorEvent.type==="serialize"||e.behaviorEvent.type==="serialization.failure"||e.behaviorEvent.type==="serialization.success"||e.behaviorEvent.type==="select"}},states:{"determine initial edit mode":{entry:[()=>{Si("entry: edit mode->read only->determine initial edit mode")}],exit:[()=>{Si("exit: edit mode->read only->determine initial edit mode")}],on:{"done syncing value":[{target:"#editor.edit mode.read only.read only",guard:({context:e})=>e.initialReadOnly},{target:"#editor.edit mode.editable"}]}},"read only":{entry:[()=>{Si("entry: edit mode->read only->read only")}],exit:[()=>{Si("exit: edit mode->read only->read only")}],on:{"update readOnly":{guard:({event:e})=>!e.readOnly,target:"#editor.edit mode.editable",actions:["emit editable"]}}}}},editable:{on:{"update readOnly":{guard:({event:e})=>e.readOnly,target:"#editor.edit mode.read only.read only",actions:["emit read only"]},"behavior event":{actions:["sort behaviors","handle behavior event"]},blur:{actions:"handle blur"},focus:{target:".focusing",actions:[vn({slateEditor:({event:e})=>e.editor})]}},initial:"idle",states:{idle:{entry:[()=>{Si("entry: edit mode->editable->idle")}],exit:[()=>{Si("exit: edit mode->editable-idle")}],on:{dragstart:{actions:[vn({internalDrag:({event:e})=>({origin:e.origin})})],target:"dragging internally"}}},focusing:{initial:"checking if busy",states:{"checking if busy":{entry:[()=>{Si("entry: edit mode->editable->focusing->checking if busy")}],exit:[()=>{Si("exit: edit mode->editable->focusing->checking if busy")}],always:[{guard:"slate is busy",target:"busy"},{target:"#editor.edit mode.editable.idle",actions:["handle focus"]}]},busy:{entry:[()=>{Si("entry: edit mode->editable->focusing-busy")}],exit:[()=>{Si("exit: edit mode->editable->focusing->busy")}],after:{10:{target:"checking if busy"}}}}},"dragging internally":{entry:[()=>{Si("entry: edit mode->editable->dragging internally")}],exit:[()=>{Si("exit: edit mode->editable->dragging internally")},({context:e})=>{var t;if(e.dragGhost)try{(t=e.dragGhost.parentNode)==null||t.removeChild(e.dragGhost)}catch(n){console.error(new Error(`Removing the drag ghost failed due to: ${n.message}`))}},vn({dragGhost:void 0}),vn({internalDrag:void 0})],tags:["dragging internally"],on:{dragend:{target:"idle"},drop:{target:"idle"}}}}}}},setup:{initial:"setting up",states:{"setting up":{entry:[()=>{Si("entry: setup->setting up")}],exit:[()=>{Si("exit: setup->setting up")},"emit ready","emit pending incoming patches","clear pending incoming patches"],on:{"internal.patch":{actions:"defer event"},mutation:{actions:"defer event"},"done syncing value":{target:"set up"},patches:{actions:["defer incoming patches"]}}},"set up":{type:"parallel",states:{"value sync":{initial:"idle",states:{idle:{entry:[()=>{Si("entry: setup->set up->value sync->idle")}],exit:[()=>{Si("exit: setup->set up->value sync->idle")}],on:{patches:{actions:[co(({event:e})=>e)]},"syncing value":{target:"syncing value"}}},"syncing value":{entry:[()=>{Si("entry: setup->set up->value sync->syncing value")}],exit:[()=>{Si("exit: setup->set up->value sync->syncing value")},"emit pending incoming patches","clear pending incoming patches"],on:{patches:{actions:["defer incoming patches"]},"done syncing value":{target:"idle"}}}}},writing:{initial:"pristine",states:{pristine:{initial:"idle",states:{idle:{entry:[()=>{Si("entry: setup->set up->writing->pristine->idle")}],exit:[()=>{Si("exit: setup->set up->writing->pristine->idle")}],on:{normalizing:{target:"normalizing"},"internal.patch":{actions:"defer event",target:"#editor.setup.set up.writing.dirty"},mutation:{actions:"defer event",target:"#editor.setup.set up.writing.dirty"}}},normalizing:{entry:[()=>{Si("entry: setup->set up->writing->pristine->normalizing")}],exit:[()=>{Si("exit: setup->set up->writing->pristine->normalizing")}],on:{"done normalizing":{target:"idle"},"internal.patch":{actions:"defer event"},mutation:{actions:"defer event"}}}}},dirty:{entry:[()=>{Si("entry: setup->set up->writing->dirty")},"emit pending events","clear pending events"],exit:[()=>{Si("exit: setup->set up->writing->dirty")}],on:{"internal.patch":{actions:"emit patch event"},mutation:{actions:"emit mutation event"}}}}}}}}}}});function hMe(e){var s,l,u;if(!e)throw new Error("Parameter 'portabletextType' missing (required)");const t=(s=e.of)==null?void 0:s.find(pMe);if(!t)throw new Error("Block type is not defined in this schema (required)");const n=(l=t.fields)==null?void 0:l.find(d=>d.name==="children");if(!n)throw new Error("Children field for block type found in schema (required)");const r=n.type.of;if(!r)throw new Error("Valid types for block children not found in schema (required)");const i=r.find(d=>d.name==="span");if(!i)throw new Error("Span type not found in schema (required)");const o=r.filter(d=>d.name!=="span")||[],a=((u=e.of)==null?void 0:u.filter(d=>d.name!==t.name))||[];return{styles:men(t),decorators:gen(i),lists:yen(t),block:t,span:i,portableText:e,inlineObjects:o,blockObjects:a,annotations:i.annotations}}function men(e){var r,i,o;const t=(r=e.fields)==null?void 0:r.find(a=>a.name==="style");if(!t)throw new Error("A field with name 'style' is not defined in the block type (required).");const n=((i=t.type.options)==null?void 0:i.list)&&((o=t.type.options.list)==null?void 0:o.filter(a=>a.value));if(!n||n.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return n}function gen(e){return e.decorators}function yen(e){var r,i;const t=(r=e.fields)==null?void 0:r.find(o=>o.name==="listItem");if(!t)throw new Error("A field with name 'listItem' is not defined in the block type (required).");const n=((i=t.type.options)==null?void 0:i.list)&&t.type.options.list.filter(o=>o.value);if(!n)throw new Error("The list field need at least to be an empty array");return n}function pMe(e){return e.type?pMe(e.type):e.name==="block"?e:null}const mMe=`tmp-${Jm()}-image`,gMe=`tmp-${Jm()}-url`,$de={image:mMe,url:gMe},GC={[mMe]:"image",[gMe]:"url"},Dde={image:"Image",url:"URL"};function ven(e){return{annotations:e.annotations.map(t=>({name:t.name,fields:t.fields.map(n=>({name:n.name,type:n.type.jsonType,title:n.type.title})),title:t.title})),block:{name:e.block.name},blockObjects:e.blockObjects.map(t=>({name:t.name,fields:t.fields.map(n=>({name:n.name,type:n.type.jsonType,title:n.type.title})),title:t.title})),decorators:e.decorators.map(t=>({name:t.value,title:t.title,value:t.value})),inlineObjects:e.inlineObjects.map(t=>({name:t.name,fields:t.fields.map(n=>({name:n.name,type:n.type.jsonType,title:n.type.title})),title:t.title})),span:{name:e.span.name},styles:e.styles.map(t=>({name:t.value,title:t.title,value:t.value})),lists:e.lists.map(t=>({name:t.value,title:t.title,value:t.value}))}}function ben(e){var a,s,l,u,d,f;const t=((a=e==null?void 0:e.blockObjects)==null?void 0:a.map(h=>{var m;return Nce({type:"object",name:$de[h.name]??h.name,title:h.title===void 0?Dde[h.name]:h.title,fields:((m=h.fields)==null?void 0:m.map(g=>({name:g.name,type:g.type,title:g.title??Wp(g.name)})))??[]})}))??[],n=((s=e==null?void 0:e.inlineObjects)==null?void 0:s.map(h=>{var m;return Nce({type:"object",name:$de[h.name]??h.name,title:h.title===void 0?Dde[h.name]:h.title,fields:((m=h.fields)==null?void 0:m.map(g=>({name:g.name,type:g.type,title:g.title??Wp(g.name)})))??[]})}))??[],r=WUt({type:"array",name:"portable-text",of:[...t.map(h=>({type:h.name})),{type:"block",name:"block",of:n.map(h=>({type:h.name})),marks:{decorators:((l=e==null?void 0:e.decorators)==null?void 0:l.map(h=>({title:h.title??Wp(h.name),value:h.name})))??[],annotations:((u=e==null?void 0:e.annotations)==null?void 0:u.map(h=>{var m;return{name:h.name,type:"object",title:h.title,fields:((m=h.fields)==null?void 0:m.map(g=>({name:g.name,title:g.title??Wp(g.name),type:g.type})))??[]}}))??[]},lists:((d=e==null?void 0:e.lists)==null?void 0:d.map(h=>({value:h.name,title:h.title??Wp(h.name)})))??[],styles:((f=e==null?void 0:e.styles)==null?void 0:f.map(h=>({value:h.name,title:h.title??Wp(h.name)})))??[]}]}),i=SOe.compile({types:[r,...t,...n]}).get("portable-text"),o=hMe(i);return{...o,blockObjects:o.blockObjects.map(h=>GC[h.name]!==void 0?{...h,name:GC[h.name],type:{...h.type,name:GC[h.name]}}:h),inlineObjects:o.inlineObjects.map(h=>GC[h.name]!==void 0?{...h,name:GC[h.name]}:h)}}const Tp=Ts("mutation-machine"),xen=$w({types:{context:{},events:{},input:{},emitted:{}},actions:{"assign readOnly":vn({readOnly:({context:e,event:t})=>t.type==="update readOnly"?t.readOnly:e.readOnly}),"emit patch":co(({event:e})=>(wl(e,"patch"),{type:"patch",patch:e.patch})),"emit has pending mutations":co({type:"has pending mutations"}),"emit mutations":H2(({context:e,enqueue:t})=>{for(const n of e.pendingMutations)t.emit({type:"mutation",patches:n.patches,snapshot:n.value})}),"clear pending mutations":vn({pendingMutations:[]}),"defer mutation":vn({pendingMutations:({context:e,event:t})=>{if(wl(t,"patch"),e.pendingMutations.length===0)return[{operationId:t.operationId,value:t.value,patches:[t.patch]}];const n=e.pendingMutations.at(-1);return n&&n.operationId===t.operationId?e.pendingMutations.slice(0,-1).concat({value:t.value,operationId:n.operationId,patches:[...n.patches,t.patch]}):e.pendingMutations.concat({value:t.value,operationId:t.operationId,patches:[t.patch]})}}),"clear pending patch events":vn({pendingPatchEvents:[]}),"defer patch":vn({pendingPatchEvents:({context:e,event:t})=>t.type==="patch"?[...e.pendingPatchEvents,t]:e.pendingPatchEvents}),"emit pending patch events":H2(({context:e,enqueue:t})=>{for(const n of e.pendingPatchEvents)t.emit(n)})},actors:{"type listener":E$(({input:e,sendBack:t})=>{const n=e.slateEditor.apply;return e.slateEditor.apply=r=>{r.type==="insert_text"||r.type==="remove_text"?t({type:"typing"}):t({type:"not typing"}),n(r)},()=>{e.slateEditor.apply=n}}),"mutation debouncer":E$(({sendBack:e})=>{const t=setInterval(()=>{e({type:"mutation delay passed"})},0);return()=>{clearInterval(t)}})},guards:{"is read-only":({context:e})=>e.readOnly,"is typing":B9t({typing:"typing"}),"slate is normalizing":({context:e})=>z.isNormalizing(e.slateEditor)},delays:{"type debounce":250}}).createMachine({id:"mutation",context:({input:e})=>({pendingMutations:[],pendingPatchEvents:[],readOnly:e.readOnly,schema:e.schema,slateEditor:e.slateEditor}),on:{"update readOnly":{actions:["assign readOnly"]}},type:"parallel",states:{typing:{initial:"idle",invoke:{src:"type listener",input:({context:e})=>({slateEditor:e.slateEditor})},states:{idle:{entry:[()=>{Tp("entry: typing->idle")}],exit:[()=>{Tp("exit: typing->idle"),Tp("entry: typing->typing")}],on:{typing:{target:"typing"}}},typing:{after:{"type debounce":{target:"idle",actions:[()=>{Tp("exit: typing->typing")}]}},on:{"not typing":{target:"idle"},typing:{target:"typing",reenter:!0}}}}},mutations:{initial:"idle",states:{idle:{entry:[()=>{Tp("entry: mutations->idle")}],exit:[()=>{Tp("exit: mutations->idle")}],on:{patch:[{guard:"is read-only",actions:["defer patch","defer mutation"],target:"has pending mutations"},{actions:["emit patch","defer mutation"],target:"has pending mutations"}]}},"has pending mutations":{entry:[()=>{Tp("entry: mutations->has pending mutations")},"emit has pending mutations"],exit:[()=>{Tp("exit: mutations->has pending mutations")}],invoke:{src:"mutation debouncer"},on:{"mutation delay passed":{guard:Sb([TS("is read-only"),TS("is typing"),"slate is normalizing"]),target:"idle",actions:["emit pending patch events","clear pending patch events","emit mutations","clear pending mutations"]},patch:[{guard:"is read-only",actions:["defer patch","defer mutation"]},{actions:["emit patch","defer mutation"]}]}}}}}}),lA=Ts("API:editable");function wen(e,t){const n=t.getSnapshot().context.schema;return{focus:()=>{t.send({type:"focus",editor:e})},blur:()=>{t.send({type:"blur",editor:e})},toggleMark:r=>{t.send({type:"behavior event",behaviorEvent:{type:"decorator.toggle",decorator:r},editor:e})},toggleList:r=>{t.send({type:"behavior event",behaviorEvent:{type:"list item.toggle",listItem:r},editor:e})},toggleBlockStyle:r=>{t.send({type:"behavior event",behaviorEvent:{type:"style.toggle",style:r},editor:e})},isMarkActive:r=>{const i=Ab({editorActorSnapshot:t.getSnapshot(),slateEditorInstance:e});return vx(i).includes(r)},marks:()=>{const r=Ab({editorActorSnapshot:t.getSnapshot(),slateEditorInstance:e}),i=Jq(r),o=vx(r);return[...i,...o]},undo:()=>{t.send({type:"behavior event",behaviorEvent:{type:"history.undo"},editor:e})},redo:()=>{t.send({type:"behavior event",behaviorEvent:{type:"history.redo"},editor:e})},select:r=>{const i=Go({context:{schema:t.getSnapshot().context.schema,value:e.value,selection:r},blockIndexMap:e.blockIndexMap});i?ne.select(e,i):ne.deselect(e),e.onChange()},focusBlock:()=>{if(e.selection){const r=Be.descendant(e,e.selection.focus.path.slice(0,1));if(r)return hi([r],n.block.name,xc.get(e))[0]}},focusChild:()=>{if(e.selection){const r=Be.descendant(e,e.selection.focus.path.slice(0,1));if(r&&e.isTextBlock(r))return hi([r],n.block.name,xc.get(e))[0].children[e.selection.focus.path[1]]}},insertChild:(r,i)=>{var d,f;if(r.name!==n.span.name)return t.send({type:"behavior event",behaviorEvent:{type:"insert.inline object",inlineObject:{name:r.name,value:i}},editor:e}),e.selection?((d=gs({schema:t.getSnapshot().context.schema,editor:e,range:e.selection}))==null?void 0:d.focus.path)??[]:[];if(!e.selection)throw new Error("The editor has no selection");const[o]=Array.from(z.nodes(e,{at:e.selection.focus.path.slice(0,1),match:h=>h._type===n.block.name}))[0]||[void 0];if(!o)throw new Error("No focused text block");if(r.name!==n.span.name&&!n.inlineObjects.some(h=>h.name===r.name))throw new Error("This type cannot be inserted as a child to a text block");const a=Hh([{_key:t.getSnapshot().context.keyGenerator(),_type:n.block.name,children:[{_key:t.getSnapshot().context.keyGenerator(),_type:r.name,...i||{}}]}],{schemaTypes:t.getSnapshot().context.schema})[0].children[0],s=e.selection.focus.path.slice(0,2),l=a._type===n.span.name,u=Be.get(e,s);return l&&u._type!==n.span.name&&(lA("Inserting span child next to inline object child, moving selection + 1"),e.move({distance:1,unit:"character"})),ne.insertNodes(e,a,{select:!0,at:e.selection}),e.onChange(),e.selection?((f=gs({schema:t.getSnapshot().context.schema,editor:e,range:e.selection}))==null?void 0:f.focus.path)??[]:[]},insertBlock:(r,i)=>{var o;return t.send({type:"behavior event",behaviorEvent:{type:"insert.block",block:{_type:r.name,...i||{}},placement:"auto"},editor:e}),e.selection?((o=gs({schema:t.getSnapshot().context.schema,editor:e,range:e.selection}))==null?void 0:o.focus.path)??[]:[]},hasBlockStyle:r=>{try{return uXt({editor:e,style:r})}catch{return!1}},hasListStyle:r=>{try{return cXt({editor:e,listItem:r})}catch{return!1}},isVoid:r=>![n.block.name,n.span.name].includes(r._type),findByPath:r=>{const i=Go({context:{schema:t.getSnapshot().context.schema,value:e.value,selection:{focus:{path:r,offset:0},anchor:{path:r,offset:0}}},blockIndexMap:e.blockIndexMap});if(i){const[o,a]=z.node(e,i.focus.path.slice(0,1));if(o&&a&&typeof o._key=="string"){if(r.length===1&&i.focus.path.length===1)return[hi([o],n.block.name)[0],[{_key:o._key}]];const s=hi([o],n.block.name,xc.get(e))[0];if(e.isTextBlock(s)){const l=s.children[i.focus.path[1]];if(l)return[l,[{_key:o._key},"children",{_key:l._key}]]}}}return[void 0,void 0]},findDOMNode:r=>{let i;try{const[o]=Array.from(z.nodes(e,{at:[],match:a=>a._key===r._key})||[])[0]||[void 0];i=Ve.toDOMNode(e,o)}catch{}return i},activeAnnotations:()=>{var r;if(!e.selection||e.selection.focus.path.length<2)return[];try{const i=[],o=z.nodes(e,{at:e.selection,match:a=>Ke.isText(a)&&a.marks!==void 0&&Array.isArray(a.marks)&&a.marks.length>0});for(const[a,s]of o){const[l]=z.node(e,s,{depth:1});e.isTextBlock(l)&&((r=l.markDefs)==null||r.forEach(u=>{Ke.isText(a)&&a.marks&&Array.isArray(a.marks)&&a.marks.includes(u._key)&&i.push(u)}))}return i}catch{return[]}},isAnnotationActive:r=>{const i=Ab({editorActorSnapshot:t.getSnapshot(),slateEditorInstance:e});return tV(r)(i)},addAnnotation:(r,i)=>{let o;return z.withoutNormalizing(e,()=>{o=sMe({context:{keyGenerator:t.getSnapshot().context.keyGenerator,schema:n},operation:{annotation:{name:r.name,value:i??{}},editor:e}})}),e.onChange(),o},delete:(r,i)=>{if(r){const o=Go({context:{schema:t.getSnapshot().context.schema,value:e.value,selection:r},blockIndexMap:e.blockIndexMap});if(!(o&&o.anchor.path.length>0&&o.focus.path.length>0))throw new Error("Invalid range");if(o){if(!(i!=null&&i.mode)||(i==null?void 0:i.mode)==="selected"){lA("Deleting content in selection"),ne.delete(e,{at:o,hanging:!0,voids:!0}),e.onChange();return}if((i==null?void 0:i.mode)==="blocks"&&(lA("Deleting blocks touched by selection"),ne.removeNodes(e,{at:o,voids:!0,match:a=>e.isTextBlock(a)||!e.isTextBlock(a)&&tt.isElement(a)})),(i==null?void 0:i.mode)==="children"&&(lA("Deleting children touched by selection"),ne.removeNodes(e,{at:o,voids:!0,match:a=>a._type===n.span.name||!e.isTextBlock(a)&&tt.isElement(a)})),e.children.length===0){const a=yZ(t.getSnapshot().context);e.children=[a],e.value=[a],gZ({schema:t.getSnapshot().context.schema,value:e.value},{blockIndexMap:e.blockIndexMap,listIndexMap:e.listIndexMap})}e.onChange()}}},removeAnnotation:r=>{t.send({type:"behavior event",behaviorEvent:{type:"annotation.remove",annotation:{name:r.name}},editor:e})},getSelection:()=>{let r=null;if(e.selection){const i=U$.get(e.selection);if(i)return i;r=gs({schema:t.getSnapshot().context.schema,editor:e,range:e.selection}),U$.set(e.selection,r)}return r},getValue:()=>hi(e.children,n.block.name,xc.get(e)),isCollapsedSelection:()=>!!e.selection&&me.isCollapsed(e.selection),isExpandedSelection:()=>!!e.selection&&me.isExpanded(e.selection),insertBreak:()=>{e.insertBreak(),e.onChange()},getFragment:()=>hi(e.getFragment(),n.block.name),isSelectionsOverlapping:(r,i)=>{const o=Go({context:{schema:t.getSnapshot().context.schema,value:e.value,selection:r},blockIndexMap:e.blockIndexMap}),a=Go({context:{schema:t.getSnapshot().context.schema,value:e.value,selection:i},blockIndexMap:e.blockIndexMap});return me.isRange(o)&&me.isRange(a)&&me.includes(o,a)}}}const Cen=$w({types:{context:{},events:{},emitted:{}}}).createMachine({id:"relay",context:{prevSelection:null,lastEventWasFocused:!1},on:{focused:{actions:[vn({lastEventWasFocused:!0}),co(({event:e})=>e)]},selection:[{guard:({context:e})=>e.lastEventWasFocused,actions:[vn({prevSelection:({event:e})=>e.selection}),co(({event:e})=>e),vn({lastEventWasFocused:!1})]},{guard:({context:e,event:t})=>e.prevSelection!==t.selection,actions:[vn({prevSelection:({event:e})=>e.selection}),co(({event:e})=>e),vn({lastEventWasFocused:!1})]}],"*":{actions:[co(({event:e})=>e),vn({lastEventWasFocused:!1})]}}});function Ode(e,t,n){let r=null,i=!0;const o=[t.span.name,...t.inlineObjects.map(s=>s.name)],a=[t.block.name,...t.blockObjects.map(s=>s.name)];return e===void 0?{valid:!0,resolution:null,value:e}:!Array.isArray(e)||e.length===0?{valid:!1,resolution:{patches:[za([])],description:"Editor value must be an array of Portable Text blocks, or undefined.",action:"Unset the value",item:e,i18n:{description:"inputs.portable-text.invalid-value.not-an-array.description",action:"inputs.portable-text.invalid-value.not-an-array.action"}},value:e}:(e.some((s,l)=>{if(!kr(s))return r={patches:[za([l])],description:`Block must be an object, got ${String(s)}`,action:"Unset invalid item",item:s,i18n:{description:"inputs.portable-text.invalid-value.not-an-object.description",action:"inputs.portable-text.invalid-value.not-an-object.action",values:{index:l}}},!0;if(!s._key||typeof s._key!="string")return r={patches:[Cl({...s,_key:n()},[l])],description:`Block at index ${l} is missing required _key.`,action:"Set the block with a random _key value",item:s,i18n:{description:"inputs.portable-text.invalid-value.missing-key.description",action:"inputs.portable-text.invalid-value.missing-key.action",values:{index:l}}},!0;if(!s._type||!a.includes(s._type)){if(s._type==="block"){const u=t.block.name;return r={patches:[Cl({...s,_type:u},[{_key:s._key}])],description:`Block with _key '${s._key}' has invalid type name '${s._type}'. According to the schema, the block type name is '${u}'`,action:`Use type '${u}'`,item:s,i18n:{description:"inputs.portable-text.invalid-value.incorrect-block-type.description",action:"inputs.portable-text.invalid-value.incorrect-block-type.action",values:{key:s._key,expectedTypeName:u}}},!0}return!s._type&&St({schema:t},{...s,_type:t.block.name})?(r={patches:[Cl({...s,_type:t.block.name},[{_key:s._key}])],description:`Block with _key '${s._key}' is missing a type name. According to the schema, the block type name is '${t.block.name}'`,action:`Use type '${t.block.name}'`,item:s,i18n:{description:"inputs.portable-text.invalid-value.missing-block-type.description",action:"inputs.portable-text.invalid-value.missing-block-type.action",values:{key:s._key,expectedTypeName:t.block.name}}},!0):s._type?(r={patches:[za([{_key:s._key}])],description:`Block with _key '${s._key}' has invalid _type '${s._type}'`,action:"Remove the block",item:s,i18n:{description:"inputs.portable-text.invalid-value.disallowed-type.description",action:"inputs.portable-text.invalid-value.disallowed-type.action",values:{key:s._key,typeName:s._type}}},!0):(r={patches:[za([{_key:s._key}])],description:`Block with _key '${s._key}' is missing an _type property`,action:"Remove the block",item:s,i18n:{description:"inputs.portable-text.invalid-value.missing-type.description",action:"inputs.portable-text.invalid-value.missing-type.action",values:{key:s._key}}},!0)}if(s._type===t.block.name){const u=s;if(u.children&&!Array.isArray(u.children))return r={patches:[Cl({children:[]},[{_key:u._key}])],description:`Text block with _key '${u._key}' has a invalid required property 'children'.`,action:"Reset the children property",item:u,i18n:{description:"inputs.portable-text.invalid-value.missing-or-invalid-children.description",action:"inputs.portable-text.invalid-value.missing-or-invalid-children.action",values:{key:u._key}}},!0;if(u.children===void 0||Array.isArray(u.children)&&u.children.length===0){const h={_type:t.span.name,_key:n(),text:"",marks:[]};return r={autoResolve:!0,patches:[bx([],[{_key:s._key},"children"]),mh([h],"after",[{_key:s._key},"children",0])],description:`Children for text block with _key '${s._key}' is empty.`,action:"Insert an empty text",item:s,i18n:{description:"inputs.portable-text.invalid-value.empty-children.description",action:"inputs.portable-text.invalid-value.empty-children.action",values:{key:s._key}}},!0}const d=Io(jr(u.children.filter(h=>h._type===t.span.name).map(h=>h.marks||[])));if(Array.isArray(s.markDefs)&&s.markDefs.length>0){const h=Io(s.markDefs.map(m=>m._key).filter(m=>!d.includes(m)));if(h.length>0)return r={autoResolve:!0,patches:h.map(m=>za([{_key:s._key},"markDefs",{_key:m}])),description:`Block contains orphaned data (unused mark definitions): ${h.join(", ")}.`,action:"Remove unused mark definition item",item:s,i18n:{description:"inputs.portable-text.invalid-value.orphaned-mark-defs.description",action:"inputs.portable-text.invalid-value.orphaned-mark-defs.action",values:{key:s._key,unusedMarkDefs:h.map(m=>m.toString())}}},!0}const f=d.filter(h=>!t.decorators.map(m=>m.name).includes(h)).filter(h=>u.markDefs===void 0||!u.markDefs.find(m=>m._key===h));if(f.length>0){const h=u.children.filter(m=>m._type===t.span.name&&Array.isArray(m.marks)&&m.marks.some(g=>f.includes(g)));if(h){const m=f.join(", ");return r={autoResolve:!0,patches:h.map(g=>Cl((g.marks||[]).filter(y=>!f.includes(y)),[{_key:s._key},"children",{_key:g._key},"marks"])),description:`Block with _key '${s._key}' contains marks (${m}) not supported by the current content model.`,action:"Remove invalid marks",item:s,i18n:{description:"inputs.portable-text.invalid-value.orphaned-marks.description",action:"inputs.portable-text.invalid-value.orphaned-marks.action",values:{key:s._key,orphanedMarks:f.map(g=>g.toString())}}},!0}}u.children.some((h,m)=>{if(!kr(h))return r={patches:[za([{_key:s._key},"children",m])],description:`Child at index '${m}' in block with key '${s._key}' is not an object.`,action:"Remove the item",item:s,i18n:{description:"inputs.portable-text.invalid-value.non-object-child.description",action:"inputs.portable-text.invalid-value.non-object-child.action",values:{key:s._key,index:m}}},!0;if(!h._key||typeof h._key!="string"){const g={...h,_key:n()};return r={autoResolve:!0,patches:[Cl(g,[{_key:s._key},"children",m])],description:`Child at index ${m} is missing required _key in block with _key ${s._key}.`,action:"Set a new random _key on the object",item:s,i18n:{description:"inputs.portable-text.invalid-value.missing-child-key.description",action:"inputs.portable-text.invalid-value.missing-child-key.action",values:{key:s._key,index:m}}},!0}return h._type?o.includes(h._type)?h._type===t.span.name&&typeof h.text!="string"?(r={patches:[Cl({...h,text:""},[{_key:s._key},"children",{_key:h._key}])],description:`Child with _key '${h._key}' in block with key '${s._key}' has missing or invalid text property!`,action:"Write an empty text property to the object",item:s,i18n:{description:"inputs.portable-text.invalid-value.invalid-span-text.description",action:"inputs.portable-text.invalid-value.invalid-span-text.action",values:{key:s._key,childKey:h._key}}},!0):!1:(r={patches:[za([{_key:s._key},"children",{_key:h._key}])],description:`Child with _key '${h._key}' in block with key '${s._key}' has invalid '_type' property (${h._type}).`,action:"Remove the object",item:s,i18n:{description:"inputs.portable-text.invalid-value.disallowed-child-type.description",action:"inputs.portable-text.invalid-value.disallowed-child-type.action",values:{key:s._key,childKey:h._key,childType:h._type}}},!0):(r={patches:[za([{_key:s._key},"children",{_key:h._key}])],description:`Child with _key '${h._key}' in block with key '${s._key}' is missing '_type' property.`,action:"Remove the object",item:s,i18n:{description:"inputs.portable-text.invalid-value.missing-child-type.description",action:"inputs.portable-text.invalid-value.missing-child-type.action",values:{key:s._key,childKey:h._key}}},!0)})&&(i=!1)}return!1})&&(i=!1),{valid:i,resolution:r,value:e})}const Kr=Ts("sync machine"),ken=({sendBack:e,input:t})=>{_en({context:t.context,sendBack:e,slateEditor:t.slateEditor,value:t.value,streamBlocks:t.streamBlocks})},Sen=E$(ken),Een=$w({types:{context:{},input:{},events:{},emitted:{}},actions:{"assign initial value synced":vn({initialValueSynced:!0}),"assign readOnly":vn({readOnly:({event:e})=>(wl(e,"update readOnly"),e.readOnly)}),"assign pending value":vn({pendingValue:({event:e})=>(wl(e,"update value"),e.value)}),"clear pending value":vn({pendingValue:void 0}),"assign previous value":vn({previousValue:({event:e})=>(wl(e,"done syncing"),e.value)}),"emit done syncing value":co({type:"done syncing value"}),"emit syncing value":co({type:"syncing value"})},guards:{"initial value synced":({context:e})=>e.initialValueSynced,"is busy":({context:e})=>{const t=!e.readOnly,n=e.isProcessingLocalChanges,r=a0(e.slateEditor)??!1,i=t&&(n||r);return Kr("isBusy",{isBusy:i,editable:t,isProcessingLocalChanges:n,isChanging:r}),i},"is empty value":({event:e})=>e.type==="update value"&&e.value===void 0,"is empty array":({event:e})=>e.type==="update value"&&Array.isArray(e.value)&&e.value.length===0,"is new value":({context:e,event:t})=>t.type==="update value"&&e.previousValue!==t.value,"value changed while syncing":({context:e,event:t})=>(wl(t,"done syncing"),e.pendingValue!==t.value),"pending value equals previous value":({context:e})=>Dt(e.pendingValue,e.previousValue)},actors:{"sync value":Sen}}).createMachine({id:"sync",context:({input:e})=>({initialValue:e.initialValue,initialValueSynced:!1,isProcessingLocalChanges:!1,keyGenerator:e.keyGenerator,schema:e.schema,readOnly:e.readOnly,slateEditor:e.slateEditor,pendingValue:void 0,previousValue:void 0}),entry:[CP(({context:e})=>({type:"update value",value:e.initialValue}))],on:{"has pending mutations":{actions:vn({isProcessingLocalChanges:!0})},mutation:{actions:vn({isProcessingLocalChanges:!1})},"update readOnly":{actions:["assign readOnly"]}},initial:"idle",states:{idle:{entry:[()=>{Kr("entry: syncing->idle")}],exit:[()=>{Kr("exit: syncing->idle")}],on:{"update value":[{guard:Sb(["is empty value",TS("initial value synced")]),actions:["assign initial value synced","emit done syncing value"]},{guard:Sb(["is empty array",TS("initial value synced")]),actions:["assign initial value synced",co({type:"value changed",value:[]}),"emit done syncing value"]},{guard:Sb(["is busy","is new value"]),target:"busy",actions:["assign pending value"]},{guard:"is new value",target:"syncing",actions:["assign pending value"]},{guard:TS("initial value synced"),actions:[()=>{Kr("no new value  setting initial value as synced")},"assign initial value synced","emit done syncing value"]},{actions:[()=>{Kr("no new value and initial value already synced")}]}]}},busy:{entry:[()=>{Kr("entry: syncing->busy")}],exit:[()=>{Kr("exit: syncing->busy")}],after:{1e3:[{guard:"is busy",target:".",reenter:!0,actions:[()=>{Kr("reenter: syncing->busy")}]},{target:"syncing"}]},on:{"update value":[{guard:"is new value",actions:["assign pending value"]}]}},syncing:{entry:[()=>{Kr("entry: syncing->syncing")},"emit syncing value"],exit:[()=>{Kr("exit: syncing->syncing")},"emit done syncing value"],invoke:{src:"sync value",id:"sync value",input:({context:e})=>({context:{keyGenerator:e.keyGenerator,previousValue:e.previousValue,readOnly:e.readOnly,schema:e.schema},slateEditor:e.slateEditor,streamBlocks:!e.initialValueSynced,value:e.pendingValue})},on:{"update value":{guard:"is new value",actions:["assign pending value"]},patch:{actions:[co(({event:e})=>e)]},"invalid value":{actions:[co(({event:e})=>e)]},"value changed":{actions:[co(({event:e})=>e)]},"done syncing":[{guard:"value changed while syncing",actions:["assign previous value","assign initial value synced"],target:"syncing",reenter:!0},{target:"idle",actions:["clear pending value","assign previous value","assign initial value synced"]}]}}}});async function _en({context:e,sendBack:t,slateEditor:n,streamBlocks:r,value:i}){let o=!1,a=!1,s=!0;const l=!!n.selection;if((!i||i.length===0)&&(Kr("Value is empty"),z.withoutNormalizing(n,()=>{WP(n,()=>{OS(n,()=>{MS(n,()=>{if(o)return;l&&ne.deselect(n);const u=n.children.length;n.children.forEach((d,f)=>{ne.removeNodes(n,{at:[u-1-f]})}),ne.insertNodes(n,n.pteCreateTextBlock({decorators:[]}),{at:[0]}),l&&ne.select(n,[0,0])})})})}),a=!0),i&&i.length>0){const u=Hh(i,{schemaTypes:e.schema});r?await new Promise(d=>{z.withoutNormalizing(n,()=>{OS(n,()=>{MS(n,()=>{if(o){d();return}a=Mde({slateEditor:n,slateValueFromProps:u}),(async()=>{for await(const[f,h]of Ten({slateValue:u})){const{blockChanged:m,blockValid:g}=Pde({context:e,sendBack:t,block:f,index:h,slateEditor:n,value:i});a=m||a,s=s&&g}d()})()})})})}):z.withoutNormalizing(n,()=>{OS(n,()=>{MS(n,()=>{if(o)return;a=Mde({slateEditor:n,slateValueFromProps:u});let d=0;for(const f of u){const{blockChanged:h,blockValid:m}=Pde({context:e,sendBack:t,block:f,index:d,slateEditor:n,value:i});a=h||a,s=s&&m,d++}})})})}if(!s){Kr("Invalid value, returning"),o=!0,t({type:"done syncing",value:i});return}if(a){Kr("Server value changed, syncing editor");try{n.onChange()}catch(u){console.error(u),t({type:"invalid value",resolution:null,value:i}),o=!0,t({type:"done syncing",value:i});return}l&&!n.selection&&(ne.select(n,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),n.onChange()),t({type:"value changed",value:i})}else Kr("Server value and editor value is equal, no need to sync.");o=!0,t({type:"done syncing",value:i})}function Mde({slateEditor:e,slateValueFromProps:t}){let n=!1;const r=e.children.length;if(t.length<r){for(let i=r-1;i>t.length-1;i--)ne.removeNodes(e,{at:[i]});n=!0}return n}async function*Ten({slateValue:e}){let t=0;for await(const n of e)t%10===0&&await new Promise(r=>setTimeout(r,0)),yield[n,t],t++}function Pde({context:e,sendBack:t,block:n,index:r,slateEditor:i,value:o}){let a=!1,s=!0;const l=n,u=r,d=i.children[u],f=d&&!Dt(l,d);return z.withoutNormalizing(i,()=>{OS(i,()=>{MS(i,()=>{var h,m,g,y,x;if(f&&s){const b=[o[u]],v=Ode(b,e.schema,e.keyGenerator);!v.valid&&((h=v.resolution)!=null&&h.autoResolve)&&((m=v.resolution)==null?void 0:m.patches.length)>0&&!e.readOnly&&e.previousValue&&e.previousValue!==o&&(console.warn(`${v.resolution.action} for block with _key '${b[0]._key}'. ${(g=v.resolution)==null?void 0:g.description}`),v.resolution.patches.forEach(w=>{t({type:"patch",patch:w})})),v.valid||(y=v.resolution)!=null&&y.autoResolve?(d._key===l._key&&d._type===l._type?(Kr.enabled&&Kr("Updating block",d,l),jen(i,l,d,u)):(Kr.enabled&&Kr("Replacing block",d,l),Aen(i,l,u)),a=!0):(t({type:"invalid value",resolution:v.resolution,value:o}),s=!1)}if(!d&&s){const b=[o[u]],v=Ode(b,e.schema,e.keyGenerator);Kr.enabled&&Kr("Validating and inserting new block in the end of the value",l),v.valid||(x=v.resolution)!=null&&x.autoResolve?ne.insertNodes(i,l,{at:[u]}):(Kr("Invalid",v),t({type:"invalid value",resolution:v.resolution,value:o}),s=!1)}})})}),{blockChanged:a,blockValid:s}}function Aen(e,t,n){const r=e.selection,i=r&&r.focus.path[0]===n;i&&ne.deselect(e),ne.removeNodes(e,{at:[n]}),ne.insertNodes(e,t,{at:[n]}),e.onChange(),i&&ne.select(e,r)}function jen(e,t,n,r){if(ne.setNodes(e,t,{at:[r]}),e.isTextBlock(t)&&e.isTextBlock(n)){const i=n.children.length;t.children.length<i&&Array.from(Array(i-t.children.length)).forEach((o,a)=>{const s=i-1-a;s>0&&(Kr("Removing child"),ne.removeNodes(e,{at:[r,s]}))}),t.children.forEach((o,a)=>{const s=n.children[a],l=!Dt(o,s),u=!Dt(o.text,s==null?void 0:s.text),d=[r,a];if(l)if(o._key===(s==null?void 0:s._key)&&o._type===(s==null?void 0:s._type)){Kr("Updating changed child",o,s),ne.setNodes(e,o,{at:d});const f=Ke.isText(o)&&o._type==="span"&&Ke.isText(s)&&s._type==="span";f&&u?(s.text.length>0&&ne.delete(e,{at:{focus:{path:d,offset:0},anchor:{path:d,offset:s.text.length}}}),ne.insertText(e,o.text,{at:d}),e.onChange()):f||(Kr("Updating changed inline object child",o),ne.setNodes(e,{_key:uV},{at:[...d,0],voids:!0}))}else s?(Kr("Replacing child",o),ne.removeNodes(e,{at:[r,a]}),ne.insertNodes(e,o,{at:[r,a]}),e.onChange()):s||(Kr("Inserting new child",o),ne.insertNodes(e,o,{at:[r,a]}),e.onChange())})}}const yMe=Ts("setup");function Ien(e){yMe("Creating new Editor instance");const t=[],n=Qd(pen,{input:$en(e)}),r=Qd(Cen),i=wQt({editorActor:n,relayActor:r,subscriptions:t}),o=wen(i.instance,n),{mutationActor:a,syncActor:s}=Oen({editorActor:n,relayActor:r,slateEditor:i.instance,subscriptions:t}),l={dom:yV(u=>n.send(u),i.instance),getSnapshot:()=>Ab({editorActorSnapshot:n.getSnapshot(),slateEditorInstance:i.instance}),registerBehavior:u=>{const d=W$({name:"custom",reference:{priority:G$,importance:"higher"}}),f={...u,priority:d};return n.send({type:"add behavior",behaviorConfig:f}),()=>{n.send({type:"remove behavior",behaviorConfig:f})}},send:u=>{switch(u.type){case"update value":s.send(u);break;case"update readOnly":case"patches":case"update maxBlocks":n.send(u);break;case"blur":n.send({type:"blur",editor:i.instance});break;case"focus":n.send({type:"focus",editor:i.instance});break;case"insert.block object":n.send({type:"behavior event",behaviorEvent:{type:"insert.block",block:{_type:u.blockObject.name,...u.blockObject.value??{}},placement:u.placement},editor:i.instance});break;default:n.send({type:"behavior event",behaviorEvent:u,editor:i.instance})}},on:(u,d)=>r.on(u,f=>{switch(f.type){case"blurred":case"done loading":case"editable":case"focused":case"invalid value":case"loading":case"mutation":case"patch":case"read only":case"ready":case"selection":case"value changed":d(f);break}}),_internal:{editable:o,editorActor:n,slateEditor:i}};return{actors:{editorActor:n,mutationActor:a,relayActor:r,syncActor:s},editor:l,subscriptions:t}}function $en(e){const{legacySchema:t,schema:n}=Den(e);return{converters:DXt(t),getLegacySchema:()=>t,keyGenerator:e.keyGenerator??Jm,maxBlocks:e.maxBlocks,readOnly:e.readOnly,schema:n,initialValue:e.initialValue}}function Den(e){const t=e.schemaDefinition?ben(e.schemaDefinition):hMe(e.schema.hasOwnProperty("jsonType")?e.schema:OXt(e.schema)),n=ven(t);return{legacySchema:t,schema:n}}function Oen(e){yMe("Creating new Actors");const t=Qd(xen,{input:{readOnly:e.editorActor.getSnapshot().matches({"edit mode":"read only"}),schema:e.editorActor.getSnapshot().context.schema,slateEditor:e.slateEditor}}),n=Qd(Een,{input:{initialValue:e.editorActor.getSnapshot().context.initialValue,keyGenerator:e.editorActor.getSnapshot().context.keyGenerator,readOnly:e.editorActor.getSnapshot().matches({"edit mode":"read only"}),schema:e.editorActor.getSnapshot().context.schema,slateEditor:e.slateEditor}});return e.subscriptions.push(()=>{const r=t.on("*",i=>{i.type==="has pending mutations"&&n.send({type:"has pending mutations"}),i.type==="mutation"&&(n.send({type:"mutation"}),e.editorActor.send({type:"mutation",patches:i.patches,snapshot:i.snapshot,value:i.snapshot})),i.type==="patch"&&e.relayActor.send(i)});return()=>{r.unsubscribe()}}),e.subscriptions.push(()=>{const r=n.on("*",i=>{switch(i.type){case"invalid value":e.relayActor.send(i);break;case"value changed":e.relayActor.send(i);break;case"patch":e.editorActor.send({...i,type:"internal.patch",value:hi(e.slateEditor.children,e.editorActor.getSnapshot().context.schema.block.name,xc.get(e.slateEditor))});break;default:e.editorActor.send(i)}});return()=>{r.unsubscribe()}}),e.subscriptions.push(()=>{const r=e.editorActor.subscribe(i=>{i.matches({"edit mode":"read only"})?(t.send({type:"update readOnly",readOnly:!0}),n.send({type:"update readOnly",readOnly:!0})):(t.send({type:"update readOnly",readOnly:!1}),n.send({type:"update readOnly",readOnly:!1}))});return()=>{r.unsubscribe()}}),e.subscriptions.push(()=>{const r=e.editorActor.on("*",i=>{switch(i.type){case"editable":case"mutation":case"ready":case"read only":case"selection":e.relayActor.send(i);break;case"internal.patch":t.send({...i,type:"patch"});break}});return()=>{r.unsubscribe()}}),{mutationActor:t,syncActor:n}}const vMe=p.createContext({});function Men(e){switch(e.type){case"blurred":return{type:"blur",event:e.event};case"patch":return e;case"loading":return{type:"loading",isLoading:!0};case"done loading":return{type:"loading",isLoading:!1};case"focused":return{type:"focus",event:e.event};case"value changed":return{type:"value",value:e.value};case"invalid value":return{type:"invalidValue",resolution:e.resolution,value:e.value};case"mutation":return e;case"ready":return e;case"selection":return e;case"unset":return e}}const Ap=Ts("component:PortableTextEditor");class Pe extends p.Component{constructor(n){super(n);Z(this,"change$",new Jr);Z(this,"subscriptions",[]);Z(this,"unsubscribers",[]);Z(this,"setEditable",n=>{this.editor._internal.editable={...this.editor._internal.editable,...n}});if(n.editor)this.editor=n.editor,this.schemaTypes=this.editor._internal.editorActor.getSnapshot().context.getLegacySchema();else{const{actors:r,editor:i,subscriptions:o}=Ien({initialValue:n.value,keyGenerator:n.keyGenerator,maxBlocks:n.maxBlocks===void 0?void 0:Number.parseInt(n.maxBlocks.toString(),10),readOnly:n.readOnly,schema:n.schemaType});this.subscriptions=o,this.actors=r,this.editor=i,this.schemaTypes=r.editorActor.getSnapshot().context.getLegacySchema()}this.editable=this.editor._internal.editable}componentDidMount(){if(!this.actors)return;for(const r of this.subscriptions)this.unsubscribers.push(r());const n=this.actors.relayActor.on("*",r=>{const i=Men(r);i&&(this.props.editor||this.props.onChange(i),this.change$.next(i))});this.unsubscribers.push(n.unsubscribe),this.actors.editorActor.start(),this.actors.mutationActor.start(),this.actors.relayActor.start(),this.actors.syncActor.start()}componentDidUpdate(n){!this.props.editor&&!n.editor&&this.props.schemaType!==n.schemaType&&console.warn("Updating schema type is no longer supported"),!this.props.editor&&!n.editor&&(this.props.readOnly!==n.readOnly&&this.editor._internal.editorActor.send({type:"update readOnly",readOnly:this.props.readOnly??!1}),this.props.maxBlocks!==n.maxBlocks&&this.editor._internal.editorActor.send({type:"update maxBlocks",maxBlocks:this.props.maxBlocks===void 0?void 0:Number.parseInt(this.props.maxBlocks.toString(),10)}),this.props.value!==n.value&&this.editor.send({type:"update value",value:this.props.value}),this.props.editorRef!==n.editorRef&&this.props.editorRef&&(this.props.editorRef.current=this))}componentWillUnmount(){for(const n of this.unsubscribers)n();this.actors&&(nA(this.actors.editorActor),nA(this.actors.mutationActor),nA(this.actors.relayActor),nA(this.actors.syncActor))}render(){const n=this.props.editor?void 0:this.props.incomingPatches$??this.props.patches$;return c.jsxs(c.Fragment,{children:[n?c.jsx(Pen,{editorActor:this.editor._internal.editorActor,patches$:n}):null,c.jsx(o0.Provider,{value:this.editor._internal.editorActor,children:c.jsx(vMe.Provider,{value:this.actors.relayActor,children:c.jsx(IUt,{editor:this.editor._internal.slateEditor.instance,initialValue:this.editor._internal.slateEditor.initialValue,children:c.jsx(ZOe.Provider,{value:this,children:this.props.children})})})})]})}}Z(Pe,"displayName","PortableTextEditor"),Z(Pe,"activeAnnotations",n=>n&&n.editable?n.editable.activeAnnotations():[]),Z(Pe,"isAnnotationActive",(n,r)=>n&&n.editable?n.editable.isAnnotationActive(r):!1),Z(Pe,"addAnnotation",(n,r,i)=>{var o;return(o=n.editable)==null?void 0:o.addAnnotation(r,i)}),Z(Pe,"blur",n=>{var r;Ap("Host blurred"),(r=n.editable)==null||r.blur()}),Z(Pe,"delete",(n,r,i)=>{var o;return(o=n.editable)==null?void 0:o.delete(r,i)}),Z(Pe,"findDOMNode",(n,r)=>{var i;return(i=n.editable)==null?void 0:i.findDOMNode(r)}),Z(Pe,"findByPath",(n,r)=>{var i;return((i=n.editable)==null?void 0:i.findByPath(r))||[]}),Z(Pe,"focus",n=>{var r;Ap("Host requesting focus"),(r=n.editable)==null||r.focus()}),Z(Pe,"focusBlock",n=>{var r;return(r=n.editable)==null?void 0:r.focusBlock()}),Z(Pe,"focusChild",n=>{var r;return(r=n.editable)==null?void 0:r.focusChild()}),Z(Pe,"getSelection",n=>n.editable?n.editable.getSelection():null),Z(Pe,"getValue",n=>{var r;return(r=n.editable)==null?void 0:r.getValue()}),Z(Pe,"hasBlockStyle",(n,r)=>{var i;return(i=n.editable)==null?void 0:i.hasBlockStyle(r)}),Z(Pe,"hasListStyle",(n,r)=>{var i;return(i=n.editable)==null?void 0:i.hasListStyle(r)}),Z(Pe,"isCollapsedSelection",n=>{var r;return(r=n.editable)==null?void 0:r.isCollapsedSelection()}),Z(Pe,"isExpandedSelection",n=>{var r;return(r=n.editable)==null?void 0:r.isExpandedSelection()}),Z(Pe,"isMarkActive",(n,r)=>{var i;return(i=n.editable)==null?void 0:i.isMarkActive(r)}),Z(Pe,"insertChild",(n,r,i)=>{var o;return Ap("Host inserting child"),(o=n.editable)==null?void 0:o.insertChild(r,i)}),Z(Pe,"insertBlock",(n,r,i)=>{var o;return(o=n.editable)==null?void 0:o.insertBlock(r,i)}),Z(Pe,"insertBreak",n=>{var r;return(r=n.editable)==null?void 0:r.insertBreak()}),Z(Pe,"isVoid",(n,r)=>{var i;return(i=n.editable)==null?void 0:i.isVoid(r)}),Z(Pe,"isObjectPath",(n,r)=>{if(!r||!Array.isArray(r))return!1;const i=r.length>3&&r[1]==="children";return r.length>1&&r[1]!=="children"||i}),Z(Pe,"marks",n=>{var r;return(r=n.editable)==null?void 0:r.marks()}),Z(Pe,"select",(n,r)=>{var i;Ap("Host setting selection",r),(i=n.editable)==null||i.select(r)}),Z(Pe,"removeAnnotation",(n,r)=>{var i;return(i=n.editable)==null?void 0:i.removeAnnotation(r)}),Z(Pe,"toggleBlockStyle",(n,r)=>{var i;return Ap("Host is toggling block style"),(i=n.editable)==null?void 0:i.toggleBlockStyle(r)}),Z(Pe,"toggleList",(n,r)=>{var i;return(i=n.editable)==null?void 0:i.toggleList(r)}),Z(Pe,"toggleMark",(n,r)=>{var i;Ap("Host toggling mark",r),(i=n.editable)==null||i.toggleMark(r)}),Z(Pe,"getFragment",n=>{var r;return(r=n.editable)==null?void 0:r.getFragment()}),Z(Pe,"undo",n=>{var r;Ap("Host undoing"),(r=n.editable)==null||r.undo()}),Z(Pe,"redo",n=>{var r;Ap("Host redoing"),(r=n.editable)==null||r.redo()}),Z(Pe,"isSelectionsOverlapping",(n,r,i)=>{var o;return(o=n.editable)==null?void 0:o.isSelectionsOverlapping(r,i)});function Pen(e){const t=pp.c(4);let n,r;return t[0]!==e.editorActor||t[1]!==e.patches$?(n=()=>{const i=e.patches$.subscribe(o=>{e.editorActor.send({type:"patches",...o})});return()=>{i.unsubscribe()}},r=[e.editorActor,e.patches$],t[0]=e.editorActor,t[1]=e.patches$,t[2]=n,t[3]=r):(n=t[2],r=t[3]),p.useEffect(n,r),null}function Ren(e){const t=cl(),n=p.useContext(o0),r=hx(n,C=>C.context.getLegacySchema()),i=p.useRef(null),o=Lo(),a=IP(),[s,l]=p.useState(!1),[u,d]=p.useState(!1),f=e.children.props.parent,h=f&&t.isTextBlock(f)?f:void 0,m=p.useMemo(()=>h?[{_key:h._key},"children",{_key:e.leaf._key}]:void 0,[h,e.leaf._key]),g=n.getSnapshot().context.schema.decorators.map(C=>C.name),y=Io((e.leaf.marks??[]).filter(C=>g.includes(C))),x=(e.leaf.marks??[]).flatMap(C=>{var S;if(g.includes(C))return[];const k=(S=h==null?void 0:h.markDefs)==null?void 0:S.find(E=>E._key===C);return k?[k]:[]}),b=x.length>0&&a;p.useEffect(()=>{if(!b){l(!1);return}const C=Pe.getSelection(o);C&&Dt(C.focus.path,m)&&Pe.isCollapsedSelection(o)&&p.startTransition(()=>{l(!0)})},[b,m,o]);const v=p.useCallback(()=>{if(!b)return;const C=window.getSelection();if(!C){d(!1);return}if(C&&C.rangeCount>0){const k=C.getRangeAt(0);i.current&&k.intersectsNode(i.current)?d(!0):d(!1)}else d(!1)},[b]);p.useEffect(()=>{if(!b)return;const C=n.on("blurred",()=>{l(!1),d(!1)}),k=n.on("focused",()=>{const E=Pe.getSelection(o);E&&Dt(E.focus.path,m)&&Pe.isCollapsedSelection(o)&&l(!0),v()}),S=n.on("selection",E=>{E.selection&&Dt(E.selection.focus.path,m)&&Pe.isCollapsedSelection(o)?l(!0):l(!1),v()});return()=>{C.unsubscribe(),k.unsubscribe(),S.unsubscribe()}},[n,m,o,v,b]),p.useEffect(()=>v(),[v]);let w=e.children;for(const C of y){const k=r.decorators.find(S=>S.value===C);m&&k&&e.renderDecorator&&(w=e.renderDecorator({children:w,editorElementRef:i,focused:s,path:m,selected:u,schemaType:k,value:C,type:k}))}for(const C of x){const k=r.annotations.find(S=>S.name===C._type);k&&(h&&m&&e.renderAnnotation?w=c.jsx("span",{ref:i,children:e.renderAnnotation({block:h,children:w,editorElementRef:i,focused:s,path:m,selected:u,schemaType:k,value:C,type:k})}):w=c.jsx("span",{ref:i,children:w}))}if(h&&m&&e.renderChild){const C=h.children.find(k=>k._key===e.leaf._key);C&&(w=e.renderChild({annotations:x,children:w,editorElementRef:i,focused:s,path:m,schemaType:r.span,selected:u,value:C,type:r.span}))}return c.jsx("span",{...e.attributes,ref:i,children:w})}const Fen={position:"absolute",userSelect:"none",pointerEvents:"none",left:0,right:0};function Len(e){const t=pp.c(12),n=p.useContext(o0),r=hx(n,Nen);if(e.leaf._type!==r.span.name)return e.children;let i;t[0]!==e?(i=c.jsx(Ren,{...e}),t[0]=e,t[1]=i):i=t[1];let o=i;if(e.renderPlaceholder&&e.leaf.placeholder&&e.text.text===""){let s;t[2]!==e.renderPlaceholder?(s=e.renderPlaceholder(),t[2]=e.renderPlaceholder,t[3]=s):s=t[3];let l;t[4]!==s?(l=c.jsx("span",{style:Fen,contentEditable:!1,children:s}),t[4]=s,t[5]=l):l=t[5];let u;return t[6]!==o||t[7]!==l?(u=c.jsxs(c.Fragment,{children:[l,o]}),t[6]=o,t[7]=l,t[8]=u):u=t[8],u}const a=e.leaf.rangeDecoration;if(a){let s;t[9]!==a||t[10]!==o?(s=a.component({children:o}),t[9]=a,t[10]=o,t[11]=s):s=t[11],o=s}return o}function Nen(e){return e.context.schema}function Ben(e){const t=pp.c(5);let n;return t[0]!==e.attributes||t[1]!==e.children||t[2]!==e.text._key||t[3]!==e.text._type?(n=c.jsx("span",{...e.attributes,"data-child-key":e.text._key,"data-child-name":e.text._type,"data-child-type":"span",children:e.children}),t[0]=e.attributes,t[1]=e.children,t[2]=e.text._key,t[3]=e.text._type,t[4]=n):n=t[4],n}const Ven=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.userAgent),zen={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},bMe={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:Ven?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},xMe={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,f13:124,f14:125,f15:126,f16:127,f17:128,f18:129,f19:130,f20:131};function Rde(e,t){return Hen(Uen(e),t)}function Uen(e){const t={altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1},n=e.replace("++","+add").split("+");for(const r of n){const i=r.endsWith("?")&&r.length>1,o=i?r.slice(0,-1):r,a=wMe(o),s=zen[a],l=bMe[o],u=xMe[a];if(o.length>1&&s===void 0&&l===void 0&&u===void 0)throw new TypeError(`Unknown modifier: "${o}"`);(n.length===1||s===void 0)&&(t.key=a,t.keyCode=Wen(o)),s!==void 0&&(t[s]=i?null:!0)}return t}function Hen(e,t){return(e.altKey==null||e.altKey===t.altKey)&&(e.ctrlKey==null||e.ctrlKey===t.ctrlKey)&&(e.metaKey==null||e.metaKey===t.metaKey)&&(e.shiftKey==null||e.shiftKey===t.shiftKey)?e.keyCode!==void 0&&t.keyCode!==void 0?e.keyCode===91&&t.keyCode===93?!0:e.keyCode===t.keyCode:e.keyCode===t.keyCode||e.key===t.key.toLowerCase():!1}function Wen(e){const t=wMe(e);return xMe[t]??t.toUpperCase().charCodeAt(0)}function wMe(e){const t=e.toLowerCase();return bMe[t]??t}const Gen=Ts("plugin:withHotKeys");function Ken(e,t,n){const r=["enter","tab","shift","delete","end"],i=n??{};return function(o){return o.pteWithHotKeys=a=>{Object.keys(i).forEach(s=>{if(s==="marks")for(const l in i[s]){if(r.includes(l))throw new Error(`The hotkey ${l} is reserved!`);if(Rde(l,a.nativeEvent)){a.preventDefault();const u=i[s];if(u){const d=u[l];Gen(`HotKey ${l} to toggle ${d}`),e.send({type:"behavior event",behaviorEvent:{type:"decorator.toggle",decorator:d},editor:o})}}}if(s==="custom")for(const l in i[s]){if(r.includes(l))throw new Error(`The hotkey ${l} is reserved!`);if(Rde(l,a.nativeEvent)){const u=i[s];if(u){const d=u[l];d(a,t)}}}})},o}}function Yen(e,t){const n=Yt.transform(e.anchor,t),r=Yt.transform(e.focus,t);return n===null||r===null?null:Yt.equals(n,e.anchor)&&Yt.equals(r,e.focus)?e:{anchor:n,focus:r}}const qen=({input:e,sendBack:t})=>{const n=e.slateEditor.apply;return e.slateEditor.apply=r=>{r.type!=="set_selection"&&t({type:"slate operation",operation:r}),n(r)},()=>{e.slateEditor.apply=n}},Zen=$w({types:{context:{},input:{},events:{}},actions:{"update pending range decorations":vn({pendingRangeDecorations:({context:e,event:t})=>t.type!=="range decorations updated"?e.pendingRangeDecorations:t.rangeDecorations}),"set up initial range decorations":({context:e})=>{var n;const t=[];for(const r of e.pendingRangeDecorations){const i=Go({context:{schema:e.schema,value:e.slateEditor.value,selection:r.selection},blockIndexMap:e.slateEditor.blockIndexMap});if(!me.isRange(i)){(n=r.onMoved)==null||n.call(r,{newSelection:null,rangeDecoration:r,origin:"local"});continue}t.push({rangeDecoration:r,...i})}e.slateEditor.decoratedRanges=t},"update range decorations":({context:e,event:t})=>{var r;if(t.type!=="range decorations updated")return;const n=[];for(const i of t.rangeDecorations){const o=Go({context:{schema:e.schema,value:e.slateEditor.value,selection:i.selection},blockIndexMap:e.slateEditor.blockIndexMap});if(!me.isRange(o)){(r=i.onMoved)==null||r.call(i,{newSelection:null,rangeDecoration:i,origin:"local"});continue}n.push({rangeDecoration:i,...o})}e.slateEditor.decoratedRanges=n},"move range decorations":({context:e,event:t})=>{var r,i,o,a;if(t.type!=="slate operation")return;const n=[];for(const s of e.slateEditor.decoratedRanges){const l=Go({context:{schema:e.schema,value:e.slateEditor.value,selection:s.rangeDecoration.selection},blockIndexMap:e.slateEditor.blockIndexMap});if(!me.isRange(l)){(i=(r=s.rangeDecoration).onMoved)==null||i.call(r,{newSelection:null,rangeDecoration:s.rangeDecoration,origin:"local"});continue}let u;if(u=Yen(l,t.operation),u&&u!==l||u===null&&l){const d=u?gs({schema:e.schema,editor:e.slateEditor,range:u}):null;(a=(o=s.rangeDecoration).onMoved)==null||a.call(o,{newSelection:d,rangeDecoration:s.rangeDecoration,origin:"local"})}u!==null&&n.push({...u||l,rangeDecoration:{...s.rangeDecoration,selection:gs({schema:e.schema,editor:e.slateEditor,range:u})}})}e.slateEditor.decoratedRanges=n},"assign readOnly":vn({readOnly:({context:e,event:t})=>t.type!=="update read only"?e.readOnly:t.readOnly}),"update decorate":vn({decorate:({context:e})=>({fn:Fde(e.schema,e.slateEditor)})})},actors:{"slate operation listener":E$(qen)},guards:{"has pending range decorations":({context:e})=>e.pendingRangeDecorations.length>0,"has range decorations":({context:e})=>e.slateEditor.decoratedRanges.length>0,"has different decorations":({context:e,event:t})=>{if(t.type!=="range decorations updated")return!1;const n=e.slateEditor.decoratedRanges.map(i=>{var o,a;return{anchor:(o=i.rangeDecoration.selection)==null?void 0:o.anchor,focus:(a=i.rangeDecoration.selection)==null?void 0:a.focus}}),r=t.rangeDecorations.map(i=>{var o,a;return{anchor:(o=i.selection)==null?void 0:o.anchor,focus:(a=i.selection)==null?void 0:a.focus}});return!Dt(n,r)},"not read only":({context:e})=>!e.readOnly,"should skip setup":({context:e})=>e.skipSetup}}).createMachine({id:"range decorations",context:({input:e})=>({readOnly:e.readOnly,pendingRangeDecorations:e.rangeDecorations,decoratedRanges:[],skipSetup:e.skipSetup,schema:e.schema,slateEditor:e.slateEditor,decorate:{fn:Fde(e.schema,e.slateEditor)}}),invoke:{src:"slate operation listener",input:({context:e})=>({slateEditor:e.slateEditor})},on:{"update read only":{actions:["assign readOnly"]}},initial:"setting up",states:{"setting up":{always:[{guard:Sb(["should skip setup","has pending range decorations"]),target:"ready",actions:["set up initial range decorations","update decorate"]},{guard:"should skip setup",target:"ready"}],on:{"range decorations updated":{actions:["update pending range decorations"]},ready:[{target:"ready",guard:"has pending range decorations",actions:["set up initial range decorations","update decorate"]},{target:"ready"}]}},ready:{initial:"idle",on:{"range decorations updated":{target:".idle",guard:"has different decorations",actions:["update range decorations","update decorate"]}},states:{idle:{on:{"slate operation":{target:"moving range decorations",guard:Sb(["has range decorations","not read only"])}}},"moving range decorations":{entry:["move range decorations"],always:{target:"idle"}}}}}});function Fde(e,t){return function([n,r]){if(Rm(t.children,e))return[{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0},placeholder:!0}];if(r.length===0)return[];if(!tt.isElement(n)||n.children.length===0)return[];const i=r.at(0);return i===void 0?[]:t.decoratedRanges.filter(o=>me.isCollapsed(o)?n.children.some((a,s)=>ue.equals(o.anchor.path,[i,s])&&ue.equals(o.focus.path,[i,s])):me.intersection(o,{anchor:{path:r,offset:0},focus:{path:r,offset:0}})||me.includes(o,r))}}const Bg=Ts("component:Editable"),kZ=p.forwardRef(function(e,t){const{hotkeys:n,onBlur:r,onFocus:i,onBeforeInput:o,onPaste:a,onCopy:s,onCut:l,onClick:u,onDragStart:d,onDrag:f,onDragEnd:h,onDragEnter:m,onDragOver:g,onDrop:y,onDragLeave:x,rangeDecorations:b,renderAnnotation:v,renderBlock:w,renderChild:C,renderDecorator:k,renderListItem:S,renderPlaceholder:E,renderStyle:_,selection:T,scrollSelectionIntoView:A,spellCheck:I,...j}=e,$=Lo(),D=p.useRef(null),[O,M]=p.useState(null),[P,F]=p.useState(!1);p.useImperativeHandle(t,()=>D.current);const L=p.useContext(o0),U=p.useContext(vMe),H=hx(L,ce=>ce.matches({"edit mode":"read only"})),N=NDe(),Y=Q7t(Zen,{input:{rangeDecorations:b??[],readOnly:H,schema:L.getSnapshot().context.schema,slateEditor:N,skipSetup:!L.getSnapshot().matches({setup:"setting up"})}}),J=hx(Y,ce=>{var _e;return(_e=ce.context.decorate)==null?void 0:_e.fn});p.useEffect(()=>{Y.send({type:"update read only",readOnly:H})},[Y,H]),p.useEffect(()=>{Y.send({type:"range decorations updated",rangeDecorations:b??[]})},[Y,b]),p.useMemo(()=>H?N:Ken(L,$,n)(N),[L,n,$,H,N]);const ee=p.useCallback(ce=>c.jsx(kXt,{...ce,readOnly:H,renderBlock:w,renderChild:C,renderListItem:S,renderStyle:_,spellCheck:I}),[I,H,w,C,S,_]),oe=p.useCallback(ce=>c.jsx(Len,{...ce,readOnly:H,renderAnnotation:v,renderChild:C,renderDecorator:k,renderPlaceholder:E}),[H,v,C,k,E]),re=p.useCallback(ce=>c.jsx(Ben,{...ce}),[]),se=p.useCallback(()=>{if(T){Bg(`Selection from props ${JSON.stringify(T)}`);const ce=mXt(T,hi(N.children,L.getSnapshot().context.schema.block.name));if(ce!==null){Bg(`Normalized selection from props ${JSON.stringify(ce)}`);const _e=Go({context:{schema:L.getSnapshot().context.schema,value:N.value,selection:ce},blockIndexMap:N.blockIndexMap});_e&&(ne.select(N,_e),N.operations.some(Ie=>Ie.type==="set_selection")||L.send({type:"update selection",selection:ce}),N.onChange())}}},[L,T,N]);p.useEffect(()=>{const ce=L.on("ready",()=>{Y.send({type:"ready"}),se()}),_e=L.on("invalid value",()=>{F(!0)}),Ie=L.on("value changed",()=>{F(!1)});return()=>{ce.unsubscribe(),_e.unsubscribe(),Ie.unsubscribe()}},[Y,L,se]),p.useEffect(()=>{T&&!P&&se()},[P,T,se]);const G=p.useCallback(ce=>{if(s)s(ce)!==void 0&&ce.preventDefault();else if(ce.nativeEvent.clipboardData){ce.stopPropagation(),ce.preventDefault();const _e=N.selection?gs({schema:L.getSnapshot().context.schema,editor:N,range:N.selection}):void 0,Ie=_e?{selection:_e}:void 0;if(!Ie){console.warn("Could not find position for copy event");return}L.send({type:"behavior event",behaviorEvent:{type:"clipboard.copy",originEvent:{dataTransfer:ce.nativeEvent.clipboardData},position:Ie},editor:N,nativeEvent:ce})}},[s,L,N]),K=p.useCallback(ce=>{if(l)l(ce)!==void 0&&ce.preventDefault();else if(ce.nativeEvent.clipboardData){ce.stopPropagation(),ce.preventDefault();const _e=L.getSnapshot().context.selection,Ie=_e?{selection:_e}:void 0;if(!Ie){console.warn("Could not find position for cut event");return}L.send({type:"behavior event",behaviorEvent:{type:"clipboard.cut",originEvent:{dataTransfer:ce.nativeEvent.clipboardData},position:Ie},editor:N,nativeEvent:ce})}},[l,L,N]),q=p.useCallback(ce=>{var Le;const _e=hi(N.children,L.getSnapshot().context.schema.block.name,xc.get(N)),Ie=((Le=N.selection?gs({schema:L.getSnapshot().context.schema,editor:N,range:N.selection}):null)==null?void 0:Le.focus.path)||[],Me=a==null?void 0:a({event:ce,value:_e,path:Ie,schemaTypes:$.schemaTypes});if(Me||!N.selection)ce.preventDefault(),U.send({type:"loading"}),Promise.resolve(Me).then(et=>{if(Bg("Custom paste function from client resolved",et),!et||!et.insert){Bg("No result from custom paste handler, pasting normally");const Ct=L.getSnapshot().context.selection,Ge=Ct?{selection:Ct}:void 0;if(!Ge){console.warn("Could not find position for paste event");return}L.send({type:"behavior event",behaviorEvent:{type:"clipboard.paste",originEvent:{dataTransfer:ce.clipboardData},position:Ge},editor:N,nativeEvent:ce})}else et.insert?L.send({type:"behavior event",behaviorEvent:{type:"insert.blocks",blocks:OUt({context:{keyGenerator:L.getSnapshot().context.keyGenerator,schema:L.getSnapshot().context.schema},blocks:et.insert,options:{refreshKeys:!0,validateFields:!0}}),placement:"auto"},editor:N}):console.warn("Your onPaste function returned something unexpected:",et)}).catch(et=>(console.warn(et),et)).finally(()=>{U.send({type:"done loading"})});else if(ce.nativeEvent.clipboardData){ce.preventDefault(),ce.stopPropagation();const et=L.getSnapshot().context.selection,Ct=et?{selection:et}:void 0;if(!Ct){console.warn("Could not find position for paste event");return}L.send({type:"behavior event",behaviorEvent:{type:"clipboard.paste",originEvent:{dataTransfer:ce.nativeEvent.clipboardData},position:Ct},editor:N,nativeEvent:ce})}Bg("No result from custom paste handler, pasting normally")},[L,a,$,U,N]),X=p.useCallback(ce=>{i&&i(ce),ce.isDefaultPrevented()||(U.send({type:"focused",event:ce}),!N.selection&&Rm(N.children,L.getSnapshot().context.schema)&&(ne.select(N,z.start(N,[])),N.onChange()))},[L,i,U,N]),ie=p.useCallback(ce=>{if(u&&u(ce),ce.isDefaultPrevented()||ce.isPropagationStopped())return;const _e=Lg({editorActor:L,slateEditor:N,event:ce.nativeEvent});_e&&L.send({type:"behavior event",behaviorEvent:{type:"mouse.click",position:_e},editor:N,nativeEvent:ce})},[u,L,N]),te=p.useCallback(ce=>{r&&r(ce),ce.isPropagationStopped()||U.send({type:"blurred",event:ce})},[U,r]),de=p.useCallback(ce=>{o&&o(ce)},[o]),pe=p.useCallback(()=>{if(!N.selection)return;const ce=Ve.findDocumentOrShadowRoot(N),{activeElement:_e}=ce;if(D.current!==_e)return;const Ie=Ve.getWindow(N).getSelection();if(!Ie||Ie.rangeCount===0)return;const Me=Ie.getRangeAt(0);try{const Le=Ve.toDOMRange(N,N.selection);(Le.startOffset!==Me.startOffset||Le.endOffset!==Me.endOffset)&&(Bg("DOM range out of sync, validating selection"),Ie==null||Ie.removeAllRanges(),Ie.addRange(Le))}catch{Bg("Could not resolve selection, selecting top document"),ne.deselect(N),N.children.length>0&&ne.select(N,[0,0]),N.onChange()}},[D,N]);p.useEffect(()=>{if(O){const ce=new MutationObserver(pe);return ce.observe(O,{attributeOldValue:!1,attributes:!1,characterData:!1,childList:!0,subtree:!0}),()=>{ce.disconnect()}}},[pe,O]);const ve=p.useCallback(ce=>{e.onKeyDown&&e.onKeyDown(ce),ce.isDefaultPrevented()||N.pteWithHotKeys(ce),ce.isDefaultPrevented()||L.send({type:"behavior event",behaviorEvent:{type:"keyboard.keydown",originEvent:{key:ce.key,code:ce.code,altKey:ce.altKey,ctrlKey:ce.ctrlKey,metaKey:ce.metaKey,shiftKey:ce.shiftKey}},editor:N,nativeEvent:ce})},[e,L,N]),Ce=p.useCallback(ce=>{e.onKeyUp&&e.onKeyUp(ce),ce.isDefaultPrevented()||L.send({type:"behavior event",behaviorEvent:{type:"keyboard.keyup",originEvent:{key:ce.key,code:ce.code,altKey:ce.altKey,ctrlKey:ce.ctrlKey,metaKey:ce.metaKey,shiftKey:ce.shiftKey}},editor:N,nativeEvent:ce})},[e,L,N]),xe=p.useMemo(()=>{if(A!==void 0)return A===null?B5t:(ce,_e)=>{A($,_e)}},[$,A]);p.useEffect(()=>{D.current=Ve.toDOMNode(N,N),M(D.current)},[N,D]),p.useEffect(()=>{const ce=Ve.getWindow(N),_e=()=>{L.send({type:"dragend"})},Ie=()=>{L.send({type:"drop"})};return ce.document.addEventListener("dragend",_e),ce.document.addEventListener("drop",Ie),()=>{ce.document.removeEventListener("dragend",_e),ce.document.removeEventListener("drop",Ie)}},[N,L]);const Ae=p.useCallback(ce=>{if(d==null||d(ce),ce.isDefaultPrevented()||ce.isPropagationStopped())return;const _e=Lg({editorActor:L,slateEditor:N,event:ce.nativeEvent});if(!_e){console.warn("Could not find position for dragstart event");return}return L.send({type:"dragstart",origin:_e}),L.send({type:"behavior event",behaviorEvent:{type:"drag.dragstart",originEvent:{clientX:ce.clientX,clientY:ce.clientY,dataTransfer:ce.dataTransfer},position:_e},editor:N}),!0},[d,L,N]),Re=p.useCallback(ce=>{if(f==null||f(ce),!(ce.isDefaultPrevented()||ce.isPropagationStopped()||!Lg({editorActor:L,slateEditor:N,event:ce.nativeEvent})))return L.send({type:"behavior event",behaviorEvent:{type:"drag.drag",originEvent:{dataTransfer:ce.dataTransfer}},editor:N}),!0},[f,L,N]),we=p.useCallback(ce=>{if(h==null||h(ce),!(ce.isDefaultPrevented()||ce.isPropagationStopped()))return L.send({type:"behavior event",behaviorEvent:{type:"drag.dragend",originEvent:{dataTransfer:ce.dataTransfer}},editor:N}),!0},[h,L,N]),ye=p.useCallback(ce=>{if(m==null||m(ce),ce.isDefaultPrevented()||ce.isPropagationStopped())return;const _e=Lg({editorActor:L,slateEditor:N,event:ce.nativeEvent});if(_e)return L.send({type:"behavior event",behaviorEvent:{type:"drag.dragenter",originEvent:{dataTransfer:ce.dataTransfer},position:_e},editor:N}),!0},[m,L,N]),ke=p.useCallback(ce=>{var Ie;if(g==null||g(ce),ce.isDefaultPrevented()||ce.isPropagationStopped())return;const _e=Lg({editorActor:L,slateEditor:N,event:ce.nativeEvent});if(_e)return L.send({type:"behavior event",behaviorEvent:{type:"drag.dragover",originEvent:{dataTransfer:ce.dataTransfer},dragOrigin:(Ie=L.getSnapshot().context.internalDrag)==null?void 0:Ie.origin,position:_e},editor:N,nativeEvent:ce}),!0},[g,L,N]),be=p.useCallback(ce=>{var Ie;if(y==null||y(ce),ce.isDefaultPrevented()||ce.isPropagationStopped())return;const _e=Lg({editorActor:L,slateEditor:N,event:ce.nativeEvent});if(!_e){console.warn("Could not find position for drop event");return}return L.send({type:"behavior event",behaviorEvent:{type:"drag.drop",originEvent:{dataTransfer:ce.dataTransfer},dragOrigin:(Ie=L.getSnapshot().context.internalDrag)==null?void 0:Ie.origin,position:_e},editor:N,nativeEvent:ce}),!0},[y,L,N]),Ee=p.useCallback(ce=>{if(x==null||x(ce),!(ce.isDefaultPrevented()||ce.isPropagationStopped()||!Lg({editorActor:L,slateEditor:N,event:ce.nativeEvent})))return L.send({type:"behavior event",behaviorEvent:{type:"drag.dragleave",originEvent:{dataTransfer:ce.dataTransfer}},editor:N}),!0},[x,L,N]);return $?P?null:c.jsx(kUt,{...j,"data-read-only":H,autoFocus:!1,className:j.className||"pt-editable",decorate:J,onBlur:te,onCopy:G,onCut:K,onClick:ie,onDOMBeforeInput:de,onDragStart:Ae,onDrag:Re,onDragEnd:we,onDragEnter:ye,onDragOver:ke,onDrop:be,onDragLeave:Ee,onFocus:X,onKeyDown:ve,onKeyUp:Ce,onPaste:q,readOnly:H,renderPlaceholder:void 0,renderElement:ee,renderLeaf:oe,renderText:re,scrollSelectionIntoView:xe}):null});kZ.displayName="ForwardRef(PortableTextEditable)";const s0=()=>{const e=pp.c(3),t=p.useContext(o0),[n,r]=p.useState(null);let i,o;return e[0]!==t?(i=()=>{const a=t.on("selection",s=>{p.startTransition(()=>{r(s.selection)})});return()=>{a.unsubscribe()}},o=[t],e[0]=t,e[1]=i,e[2]=o):(i=e[1],o=e[2]),p.useEffect(i,o),n};var Xen=function(e){return e==null?[]:Array.isArray(e)?e:[e]};const zw=Ue(Xen),As=["jsonType","type","name","title","description","options","fieldsets","validation","readOnly","hidden","components","diffComponent","initialValue","deprecated"],Lde=[...As],TF={name:"any",type:null,jsonType:"any"},Jen={get(){return TF},extend(e,t){const n=Object.assign(Xe(TF,Lde),e,{type:TF,of:e.of.map(i=>({name:i.name,type:t(Po(i,"name"))}))});return r(n);function r(i){return{get(){return i},extend:o=>{if(o.of)throw new Error('Cannot override `of` property of subtypes of "array"');const a=Object.assign({},i,Xe(o,Lde),{type:i});return r(a)}}}}};function Zr(e,t,n,r={}){return Object.defineProperty(e,t,{configurable:!0,enumerable:r.enumerable!==!1,get(){const i=n();return Object.defineProperty(e,t,{value:i,writable:!!r.writable,configurable:!1}),i}}),e}const Nde=[...As],AF={name:"array",type:null,jsonType:"array",of:[]},Qen={get(){return AF},extend(e,t){const n=Object.assign(Xe(AF,Nde),e,{type:AF});return Zr(n,"of",()=>e.of.map(i=>t(i))),r(n);function r(i){return{get(){return i},extend:o=>{if(o.of)throw new Error('Cannot override `of` property of subtypes of "array"');const a=Object.assign({},i,Xe(o,Nde),{type:i});return r(a)}}}}};function etn(e){e.options&&e.options.preview&&console.warn(`Heads up! The preview config is no longer defined on "options", but instead on the type/field itself.
Please move {options: {preview: ...}} to {..., preview: ...} on the type/field definition of "${e.name}".
`)}function ttn(e){const t=e.preview||(e.options||{}).preview;t&&"fields"in t&&console.warn(`Heads up! "preview.fields" should be renamed to "preview.select". Please update the preview config for "${e.name}".
`)}function ntn(e){for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function vV(e,t,n){if(n>t.maxDepth)return"...";if(Array.isArray(e)){if(e.length===0)return"[empty]";const i=Math.max(e.length-t.maxBreadth),o=e.slice(0,t.maxBreadth).map((a,s)=>vV(a,t,n+1)).concat(i>0?`+${i}`:[]).join(", ");return n===0?o:`[${o}]`}if(typeof e=="object"&&e!==null){const i=Object.keys(e).filter(a=>!t.ignoreKeys.includes(a)&&typeof e[a]<"u");if(ntn(Xe(e,i)))return"{empty}";const o=i.slice(0,t.maxBreadth).map(a=>`${a}: ${vV(e[a],t,n+1)}`).join(", ");return n===0?o:`{${o}}`}const r=String(e);return r===""?'""':r}function rtn(e,t={}){const n={maxDepth:"maxDepth"in t?t.maxDepth:2,maxBreadth:"maxBreadth"in t?t.maxBreadth:2,ignoreKeys:"ignoreKeys"in t?t.ignoreKeys:[]};return vV(e,n,0)}const itn={maxEntries:2,maxDepth:2,maxBreadth:2,ignoreKeys:["_id","_type","_key","_ref"]};function otn(e){return t=>({title:rtn(Xe(t,e),itn)})}function atn(e){return e.type==="array"&&e.of&&e.of.some(t=>t.type==="block")||!1}const CMe=["title","name","label","heading","header","caption"],stn=["description",...CMe];function kMe(e,t){return zw(e.to||[]).some(n=>n.type===t)}function Bde(e){return kMe(e,"sanity.imageAsset")}function ltn(e){const t=e.fields||[],n=t.find(Bde);if(n)return n.name;const r=t.find(i=>(i.fields||[]).some(Bde));return r?`${r.name}.asset`:void 0}function Vde(e){return kMe(e,"sanity.fileAsset")}function ctn(e){const t=e.fields||[],n=t.find(Vde);if(n)return n.name;const r=t.find(i=>(i.fields||[]).some(Vde));return r?`${r.name}.asset`:void 0}function utn(e){const t={fields:[],...e},n=t.fields.filter(l=>l.type==="string").map(l=>l.name),r=t.fields.filter(atn).map(l=>l.name);let i=CMe.find(l=>n.includes(l)||r.includes(l)),o=stn.find(l=>l!==i&&(n.includes(l)||r.includes(l)));i||(i=n[0]||r[0],o=n[1]||r[1]);const a=t.fields.find(l=>l.type==="image"),s=ltn(t);if(!i){const l=ctn(t);l&&(i=`${l}.originalFilename`),s&&(i=`${s}.originalFilename`)}if(!i&&!s){const l=t.fields.map(u=>u.name);return{select:l.reduce((u,d)=>(u[d]=d,u),{}),prepare:otn(l)}}return{select:tZ({title:i,description:o,media:a?a.name:s},eZ)}}function dtn(e){return e.reduce((t,n)=>(t[n]=n,t),{})}function ftn(e){if(!e)return e;const t=e.select||e.fields||{};return Array.isArray(t)?{...Xe(e,["prepare","component"]),select:dtn(t)}:{...Xe(e,["prepare","component"]),select:t}}function KE(e){return function(){return etn(e),ttn(e),ftn(e.preview||(e.options||{}).preview)||utn(e)}}const htn={type:"object",name:"link",title:"Link",i18nTitleKey:"inputs.portable-text.annotation.link",options:{modal:{type:"popover"}},fields:[{name:"href",type:"url",title:"Link",description:"A valid web, email, phone, or relative link.",validation:e=>e.uri({scheme:["http","https","tel","mailto"],allowRelative:!0})}]},ptn={type:"text",name:"text",title:"Text"},mtn={name:"marks",type:"array",of:[{type:"string"}],title:"Marks"},zde={bullet:{title:"Bulleted list",value:"bullet",i18nTitleKey:"inputs.portable-text.list-type.bullet"},numbered:{title:"Numbered list",value:"number",i18nTitleKey:"inputs.portable-text.list-type.number"}},gtn=[zde.bullet,zde.numbered],Df={normal:{title:"Normal",value:"normal",i18nTitleKey:"inputs.portable-text.style.normal"},h1:{title:"Heading 1",value:"h1",i18nTitleKey:"inputs.portable-text.style.h1"},h2:{title:"Heading 2",value:"h2",i18nTitleKey:"inputs.portable-text.style.h2"},h3:{title:"Heading 3",value:"h3",i18nTitleKey:"inputs.portable-text.style.h3"},h4:{title:"Heading 4",value:"h4",i18nTitleKey:"inputs.portable-text.style.h4"},h5:{title:"Heading 5",value:"h5",i18nTitleKey:"inputs.portable-text.style.h5"},h6:{title:"Heading 6",value:"h6",i18nTitleKey:"inputs.portable-text.style.h6"},blockquote:{title:"Quote",value:"blockquote",i18nTitleKey:"inputs.portable-text.style.quote"}},ytn=[Df.normal,Df.h1,Df.h2,Df.h3,Df.h4,Df.h5,Df.h6,Df.blockquote],vtn={title:"Strong",value:"strong",i18nTitleKey:"inputs.portable-text.decorator.strong"},btn={title:"Italic",value:"em",i18nTitleKey:"inputs.portable-text.decorator.emphasis"},xtn={title:"Code",value:"code",i18nTitleKey:"inputs.portable-text.decorator.code"},wtn={title:"Underline",value:"underline",i18nTitleKey:"inputs.portable-text.decorator.underline"},Ctn={title:"Strike",value:"strike-through",i18nTitleKey:"inputs.portable-text.decorator.strike-through"},KC={strong:vtn,em:btn,code:xtn,underline:wtn,strikeThrough:Ctn},ktn=[KC.strong,KC.em,KC.code,KC.underline,KC.strikeThrough],Ude=["type","name","title","jsonType","description","options","fieldsets","icon"],jF={name:"block",title:"Block",type:null,jsonType:"object"},Stn={},Etn={get(){return jF},extend(e,t){const n={...e.options||Stn},{marks:r,styles:i,lists:o,of:a,...s}=e,l=jtn(r,a),u=Ttn(i),d=Atn(o),f={name:"markDefs",title:"Mark definitions",type:"array",of:(r==null?void 0:r.annotations)||SMe},h=[l,u,d,f,{name:"level",title:"Indentation",type:"number"}].concat(e.fields||[]),m=Object.assign(Xe(jF,Ude),s,{type:jF,options:n});return Zr(m,"fields",()=>h.map(y=>{const{name:x,...b}=y;return{name:x,type:t(b)}})),Zr(m,"preview",KE(e)),g(m);function g(y){return{get(){return y},extend:x=>{if(x.fields)throw new Error('Cannot override `fields` of subtypes of "block"');const b=Object.assign({},y,Xe(x,Ude),{type:y});return g(b)}}}}};function _tn(e){return e.some(t=>t.value==="normal")?e:[Df.normal,...e]}function Ttn(e){return{name:"style",title:"Style",type:"string",options:{list:_tn(e||ytn)}}}function Atn(e){return{name:"listItem",title:"List type",type:"string",options:{list:e||gtn}}}const SMe=[htn];function jtn(e,t=[]){return{name:"children",title:"Content",type:"array",of:[{type:"span",fields:[ptn,mtn],annotations:e&&e.annotations?e.annotations:SMe,decorators:e&&e.decorators?e.decorators:ktn},...t.filter(n=>n.type!=="span")]}}const Hde=["type","name","title","jsonType","description","options","fieldsets","icon"],IF={name:"span",title:"Span",type:null,jsonType:"object"},Itn={name:"marks",title:"Marks",type:"array",of:[{type:"string"}]},$tn={name:"text",title:"Text",type:"string"},Dtn={},Otn={get(){return IF},extend(e,t){const n={...e.options||Dtn},{annotations:r=[],marks:i=[]}=e,o=[Itn,$tn],a=Object.assign(Xe(IF,Hde),e,{type:IF,options:n});return Zr(a,"fields",()=>o.map(l=>{const{name:u,...d}=l;return{name:u,type:t(d)}})),Zr(a,"annotations",()=>r.map(t)),Zr(a,"marks",()=>i.map(t)),Zr(a,"preview",KE(e)),s(a);function s(l){return{get(){return l},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "span"');const d=Object.assign({},l,Xe(u,Hde),{type:l});return s(d)}}}}};var Sg={prepare:e=>({title:String(e)})};const Wde=[...As],$F={name:"boolean",title:"Boolean",type:null,jsonType:"boolean"},Mtn={get(){return $F},extend(e){const t=Object.assign(Xe($F,Wde),e,{type:$F,preview:Sg});return n(t);function n(r){return{get(){return r},extend:i=>{const o=Object.assign({},r,Xe(i,Wde),{type:r});return n(o)}}}}},Ptn={name:"_ref",title:"Referenced document ID",type:"string"},Rtn={name:"_weak",title:"Weak reference marker",type:"boolean"},Ftn={name:"_dataset",title:"Target dataset",type:"string"},Ltn={name:"_projectId",title:"Target project ID",type:"string",hidden:!0},Ntn=[Ptn,Rtn,Ftn,Ltn],Gde=[...As],DF={name:"crossDatasetReference",type:null,jsonType:"object"};function Btn(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),i=e[n-1];return`${r.join(", ")} ${t} ${i}`}function Vtn(e){return!e.to||e.to.length===0?"Cross dataset Reference":`Cross dataset reference to ${Btn(zw(e.to).map(t=>t.title||hp(t.type)),"or").toLowerCase()}`}const ztn={get(){return DF},extend(e,t){if(!e.to)throw new Error(`Missing "to" field in cross dataset reference definition. Check the type ${e.name}`);const n=Object.assign(Xe(DF,Gde),e,{type:DF});return Zr(n,"fields",()=>Ntn.map(i=>{const{name:o,...a}=i;return{name:o,type:t(a)}})),Zr(n,"to",()=>zw(e.to).map(i=>({...i,__experimental_search:M_t(i)}))),Zr(n,"title",()=>e.title||Vtn(n)),r(n);function r(i){return{get(){return i},extend:o=>{if(o.of)throw new Error('Cannot override `of` of subtypes of "reference"');const a=Object.assign({},i,Xe(o,Gde),{type:i});return r(a)}}}}},Kde=[...As],OF={name:"date",title:"Datetime",type:null,jsonType:"string"},Utn={get(){return OF},extend(e){const t=Object.assign(Xe(OF,Kde),e,{type:OF,preview:Sg});return n(t);function n(r){return{get(){return r},extend:i=>{const o=Object.assign({},r,Xe(i,Kde),{type:r});return n(o)}}}}},Yde=[...As],MF={name:"datetime",title:"Datetime",type:null,jsonType:"string"},Htn={get(){return MF},extend(e){const t=Object.assign(Xe(MF,Yde),e,{type:MF,preview:Sg});return n(t);function n(r){return{get(){return r},extend:i=>{const o=Object.assign({},r,Xe(i,Yde),{type:r});return n(o)}}}}},Wtn=["title","name","label","heading","header","caption","description"],Gtn=["string","boolean","number"],qde=e=>Gtn.includes(e.type);function Ktn(e){let t=Wtn.filter(n=>e.fields.some(r=>qde(r)&&r.name===n));return t.length===0&&(t=e.fields.filter(qde).map(n=>n.name)),t.map(n=>({name:n,i18n:{title:{key:`default-orderings.${n}`,ns:"studio"}},title:hp(Vt(n)),by:[{field:n,direction:"asc"}]}))}function Zde(e){if(!Array.isArray(e))throw new Error("The search config of a document type must be an array of search config objects");return e.map(t=>{if(t==="defaults")return t;if(!kr(t))throw new Error("Search config must be an object of {path: string, weight: number}");return{weight:"weight"in t?t.weight:1,path:mOe(t.path),mapWith:typeof t.mapWith=="string"?t.mapWith:void 0}})}const Xde=[...As,"orderings","__experimental_search","blockEditor","icon"],EMe={get(){return{name:"object",title:"Object",type:null,jsonType:"object"}},extend(e,t){const n={fields:[],...e},r={...n.options||{}},i=Object.assign(Xe(this.get(),Xde),n,{type:this.get(),title:n.title||(n.name?Vt(n.name):"Object"),options:r,orderings:n.orderings||Ktn(n),fields:n.fields.map(a=>{const{name:s,fieldset:l,group:u,...d}=a;return Zr({name:s,group:u,fieldset:l},"type",()=>t({...d,title:a.title||Vt(s)}))})});return Zr(i,"fieldsets",()=>YP(n,i.fields)),Zr(i,"groups",()=>Ytn(n,i.fields)),Zr(i,"preview",KE(n)),Zr(i,"__experimental_search",()=>{const a=n.__experimental_search?Zde(n.__experimental_search):null;return a?a.map(s=>s==="defaults"?Zde(n):s):P_t(i)},{enumerable:!1}),o(i);function o(a){return{get(){return a},extend:s=>{if(s.fields)throw new Error('Cannot override `fields` of subtypes of "object"');const l=Object.assign({},a,Xe(s,Xde),{title:s.title||n.title||(n.name?Vt(n.name):"Object"),type:a});return Zr(l,"__experimental_search",()=>a.__experimental_search),o(l)}}}}};function YP(e,t){const n={};for(const i of e.fieldsets||[]){if(n[i.name])throw new Error(`Duplicate fieldset name "${i.name}" found for type '${e.title?e.title:Vt(e.name)}'`);n[i.name]={title:Vt(i.name),...i,fields:[]}}const r=new Set;for(const i of t){if(!i.fieldset){r.add({single:!0,field:i});continue}const o=n[i.fieldset];if(!o)throw new Error(`Fieldset '${i.fieldset}' is not defined in schema for type '${e.name}'`);o.fields.push(i),r.add(o)}return Array.from(r)}function Ytn(e,t){const n={};let r=0;for(const i of e.groups||[]){if(n[i.name])throw new Error(`Duplicate group name "${i.name}" found for type '${e.title?e.title:Vt(e.name)}'`);if(n[i.name]={title:Vt(i.name),...i,fields:[]},i.default&&++r>1)throw new Error(`More than one field group defined as default for type '${e.title?e.title:Vt(e.name)}' - only 1 is supported`)}return t.forEach(i=>{const o=Lw(i.group||[]);o.length!==0&&o.forEach(a=>{const s=n[a];if(!s)throw new Error(`Field group '${a}' is not defined in schema for type '${e.title?e.name:Vt(e.name)}'`);s.fields.push(i)})}),pOe(n).filter(i=>i.fields.length>0)}const qtn={name:"document",title:"Document",type:null,jsonType:"object"},Ztn={get(){return qtn},extend:EMe.extend},Jde=[...As],PF={name:"email",title:"Email",type:null,jsonType:"string"},Xtn={get(){return PF},extend(e){const t=Object.assign(Xe(PF,Jde),e,{type:PF,preview:Sg});return n(t);function n(r){return{get(){return r},extend:i=>{const o=Object.assign({},r,Xe(i,Jde),{type:r});return n(o)}}}}},Jtn={name:"asset",type:"reference",to:{type:"sanity.fileAsset"}},Qde=[...As],cA={name:"file",title:"File",type:null,jsonType:"object"},Qtn={accept:""},enn={get(){return cA},extend(e,t){const n={...e.options||Qtn},r=[Jtn,...e.fields||[]],i={...e,fields:r},o=Object.assign(Xe(cA,Qde),i,{type:cA,title:i.title||(i.name?Vt(i.name):cA.title),options:n,fields:i.fields.map(s=>{const{name:l,fieldset:u,...d}=s,f={name:l,fieldset:u,isCustomized:!!e.fields};return Zr(f,"type",()=>t({...d,title:s.title||Vt(l)}))})});return Zr(o,"fieldsets",()=>YP(i,o.fields)),Zr(o,"preview",KE(Object.assign({},i,{fields:r}))),a(o);function a(s){return{get(){return s},extend:l=>{if(l.fields)throw new Error('Cannot override `fields` of subtypes of "file"');const u=Object.assign({},s,Xe(l,Qde),{type:s});return a(u)}}}}},tnn={name:"asset",type:"reference",to:[{type:"sanity.imageAsset"}]},nnn={name:"hotspot",type:"sanity.imageHotspot"},rnn={name:"crop",type:"sanity.imageCrop"},efe=[...As],RF={name:"image",title:"Image",type:null,jsonType:"object"},inn={},onn={get(){return RF},extend(e,t){const n={...e.options||inn};let r=[nnn,rnn];n.hotspot||(r=r.map(l=>({...l,hidden:!0})));const i=[tnn,...r,...e.fields||[]],o={...e,fields:i},a=Object.assign(Xe(this.get(),efe),o,{type:RF,title:o.title||(o.name?Vt(o.name):RF.title),options:n,fields:o.fields.map(l=>{const{name:u,fieldset:d,...f}=l,h={name:u,fieldset:d,isCustomized:!!e.fields};return Zr(h,"type",()=>t({...f,title:l.title||Vt(u)}))})});return Zr(a,"fieldsets",()=>YP(o,a.fields)),Zr(a,"preview",KE(Object.assign({},o,{fields:i}))),s(a);function s(l){return{get(){return l},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "image"');const d=Object.assign({},l,Xe(u,efe),{type:l});return s(d)}}}}},tfe=[...As],FF={name:"number",title:"Number",type:null,jsonType:"number"},ann={get(){return FF},extend(e){const t=Object.assign(Xe(FF,tfe),e,{type:FF,preview:Sg});return n(t);function n(r){return{get(){return r},extend:i=>{const o=Object.assign({},r,Xe(i,tfe),{type:r});return n(o)}}}}},snn={name:"_ref",title:"Referenced document ID",type:"string"},lnn={name:"_weak",title:"Weak reference",type:"boolean"},cnn=[snn,lnn],nfe=[...As],LF={name:"reference",title:"Reference",type:null,jsonType:"object"};function unn(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),i=e[n-1];return`${r.join(", ")} ${t} ${i}`}function dnn(e){return!e.to||e.to.length===0?"Reference":`Reference to ${unn(zw(e.to).map(t=>t.title),"or").toLowerCase()}`}const fnn={get(){return LF},extend(e,t){if(!e.to)throw new Error(`Missing "to" field in reference definition. Check the type ${e.name}`);const n=Object.assign(Xe(LF,nfe),e,{type:LF});return Zr(n,"fields",()=>cnn.map(i=>{const{name:o,...a}=i;return{name:o,type:t(a)}})),Zr(n,"fieldsets",()=>YP(e,n.fields)),Zr(n,"to",()=>zw(e.to).map(i=>t(i))),Zr(n,"title",()=>e.title||dnn(n)),r(n);function r(i){return{get(){return i},extend:o=>{if(o.of)throw new Error('Cannot override `of` of subtypes of "reference"');const a=Object.assign({},i,Xe(o,nfe),{type:i});return r(a)}}}}},rfe=[...As],NF={name:"string",title:"String",type:null,jsonType:"string"},hnn={get(){return NF},extend(e){const t=Object.assign(Xe(NF,rfe),e,{type:NF,preview:Sg});return n(t);function n(r){return{get(){return r},extend:i=>{const o=Object.assign({},r,Xe(i,rfe),{type:r});return n(o)}}}}},ife=[...As,"rows"],BF={name:"text",title:"Text",type:null,jsonType:"string"},pnn={get(){return BF},extend(e){const t=Object.assign(Xe(BF,ife),e,{type:BF,preview:Sg});return n(t);function n(r){return{get(){return r},extend:i=>{const o=Object.assign({},r,Xe(i,ife),{type:r});return n(o)}}}}},ofe=[...As],VF={name:"url",title:"Url",type:null,jsonType:"string"},mnn={get(){return VF},extend(e){const t=Object.assign(Xe(VF,ofe),e,{type:VF,preview:Sg});return n(t);function n(r){return{get(){return r},extend:i=>{const o=Object.assign({},r,Xe(i,ofe),{type:r});return n(o)}}}}};var gnn=Object.freeze({__proto__:null,any:Jen,array:Qen,block:Etn,boolean:Mtn,crossDatasetReference:ztn,date:Utn,datetime:Htn,document:Ztn,email:Xtn,file:enn,image:onn,number:ann,object:EMe,reference:fnn,span:Otn,string:hnn,text:pnn,url:mnn});function ynn(e){const t=Object.assign(Object.create(null),gnn),n=e.types.reduce((a,s)=>{if(a[s.name])throw new Error(`Duplicate type name added to schema: ${s.name}`);return a[s.name]=s,a},{});return e.types.forEach(o),t;function r(a){if(!t[a]){if(!n[a])throw new Error(`Unknown type: ${a}`);o(n[a])}}function i(a){return r(a.type),t[a.type].extend(a,i).get()}function o(a){r(a.type),!t[a.name]&&(t[a.name]=t[a.type].extend(a,i))}}let vnn=class _Me{constructor(t){Z(this,"_original");Z(this,"_registry");this._original=t,this._registry=ynn(t)}static compile(t){return new _Me(t)}get name(){return this._original.name}get(t){return this._registry[t]&&this._registry[t].get()}has(t){return t in this._registry}getTypeNames(){return Object.keys(this._registry)}};const TMe=vnn;var Hr="0123456789abcdefghjkmnpqrstvwxyz",yt=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,10,11,12,13,14,15,16,17,255,18,19,255,20,21,255,22,23,24,25,26,255,27,28,29,30,31,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255]);function zF(e){const t=new Array(26).fill("");if(e.length!==16)throw new Error("Invalid length");return t[0]=Hr[(e[0]&224)>>5],t[1]=Hr[e[0]&31],t[2]=Hr[(e[1]&248)>>3],t[3]=Hr[(e[1]&7)<<2|(e[2]&192)>>6],t[4]=Hr[(e[2]&62)>>1],t[5]=Hr[(e[2]&1)<<4|(e[3]&240)>>4],t[6]=Hr[(e[3]&15)<<1|(e[4]&128)>>7],t[7]=Hr[(e[4]&124)>>2],t[8]=Hr[(e[4]&3)<<3|(e[5]&224)>>5],t[9]=Hr[e[5]&31],t[10]=Hr[(e[6]&248)>>3],t[11]=Hr[(e[6]&7)<<2|(e[7]&192)>>6],t[12]=Hr[(e[7]&62)>>1],t[13]=Hr[(e[7]&1)<<4|(e[8]&240)>>4],t[14]=Hr[(e[8]&15)<<1|(e[9]&128)>>7],t[15]=Hr[(e[9]&124)>>2],t[16]=Hr[(e[9]&3)<<3|(e[10]&224)>>5],t[17]=Hr[e[10]&31],t[18]=Hr[(e[11]&248)>>3],t[19]=Hr[(e[11]&7)<<2|(e[12]&192)>>6],t[20]=Hr[(e[12]&62)>>1],t[21]=Hr[(e[12]&1)<<4|(e[13]&240)>>4],t[22]=Hr[(e[13]&15)<<1|(e[14]&128)>>7],t[23]=Hr[(e[14]&124)>>2],t[24]=Hr[(e[14]&3)<<3|(e[15]&224)>>5],t[25]=Hr[e[15]&31],t.join("")}function afe(e){if(e.length!==26)throw new Error("Invalid length");const n=new TextEncoder().encode(e);if(yt[n[0]]===255||yt[n[1]]===255||yt[n[2]]===255||yt[n[3]]===255||yt[n[4]]===255||yt[n[5]]===255||yt[n[6]]===255||yt[n[7]]===255||yt[n[8]]===255||yt[n[9]]===255||yt[n[10]]===255||yt[n[11]]===255||yt[n[12]]===255||yt[n[13]]===255||yt[n[14]]===255||yt[n[15]]===255||yt[n[16]]===255||yt[n[17]]===255||yt[n[18]]===255||yt[n[19]]===255||yt[n[20]]===255||yt[n[21]]===255||yt[n[22]]===255||yt[n[23]]===255||yt[n[24]]===255||yt[n[25]]===255)throw new Error("Invalid base32 character");const r=new Uint8Array(16);return r[0]=yt[n[0]]<<5|yt[n[1]],r[1]=yt[n[2]]<<3|yt[n[3]]>>2,r[2]=(yt[n[3]]&3)<<6|yt[n[4]]<<1|yt[n[5]]>>4,r[3]=(yt[n[5]]&15)<<4|yt[n[6]]>>1,r[4]=(yt[n[6]]&1)<<7|yt[n[7]]<<2|yt[n[8]]>>3,r[5]=(yt[n[8]]&7)<<5|yt[n[9]],r[6]=yt[n[10]]<<3|yt[n[11]]>>2,r[7]=(yt[n[11]]&3)<<6|yt[n[12]]<<1|yt[n[13]]>>4,r[8]=(yt[n[13]]&15)<<4|yt[n[14]]>>1,r[9]=(yt[n[14]]&1)<<7|yt[n[15]]<<2|yt[n[16]]>>3,r[10]=(yt[n[16]]&7)<<5|yt[n[17]],r[11]=yt[n[18]]<<3|yt[n[19]]>>2,r[12]=(yt[n[19]]&3)<<6|yt[n[20]]<<1|yt[n[21]]>>4,r[13]=(yt[n[21]]&15)<<4|yt[n[22]]>>1,r[14]=(yt[n[22]]&1)<<7|yt[n[23]]<<2|yt[n[24]]>>3,r[15]=(yt[n[24]]&7)<<5|yt[n[25]],r}function bnn(e){let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}var l1=Math.pow,sfe="0123456789abcdef",X$=class{constructor(e){if(this.bytes=e,e.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(e,t,n,r){if(!Number.isInteger(e)||!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||e<0||t<0||n<0||r<0||e>0xffffffffffff||t>4095||n>1073741823||r>4294967295)throw new RangeError("invalid field value");const i=new Uint8Array(16);return i[0]=e/l1(2,40),i[1]=e/l1(2,32),i[2]=e/l1(2,24),i[3]=e/l1(2,16),i[4]=e/l1(2,8),i[5]=e,i[6]=112|t>>>8,i[7]=t,i[8]=128|n>>>24,i[9]=n>>>16,i[10]=n>>>8,i[11]=n,i[12]=r>>>24,i[13]=r>>>16,i[14]=r>>>8,i[15]=r,new X$(i)}toString(){let e="";for(let t=0;t<this.bytes.length;t++)e+=sfe.charAt(this.bytes[t]>>>4),e+=sfe.charAt(this.bytes[t]&15),(t===3||t===5||t===7||t===9)&&(e+="-");return e}clone(){return new X$(this.bytes.slice(0))}equals(e){return this.compareTo(e)===0}compareTo(e){for(let t=0;t<16;t++){const n=this.bytes[t]-e.bytes[t];if(n!==0)return Math.sign(n)}return 0}},xnn=class{constructor(){this.timestamp=0,this.counter=0,this.random=new wnn}generate(){const e=this.generateOrAbort();return e!==void 0?e:(this.timestamp=0,this.generateOrAbort())}generateOrAbort(){const n=Date.now();if(n>this.timestamp)this.timestamp=n,this.resetCounter();else if(n+1e4>this.timestamp)this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter());else return;return X$.fromFieldsV7(this.timestamp,Math.trunc(this.counter/l1(2,30)),this.counter&l1(2,30)-1,this.random.nextUint32())}resetCounter(){this.counter=this.random.nextUint32()*1024+(this.random.nextUint32()&1023)}},AMe=e=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(let t=0;t<e.length;t++)e[t]=Math.trunc(Math.random()*65536)*65536+Math.trunc(Math.random()*65536);return e};typeof crypto<"u"&&crypto.getRandomValues&&(AMe=e=>crypto.getRandomValues(e));var wnn=class{constructor(){this.buffer=new Uint32Array(8),this.cursor=99}nextUint32(){return this.cursor>=this.buffer.length&&(AMe(this.buffer),this.cursor=0),this.buffer[this.cursor++]}},lfe,Cnn=()=>(lfe||(lfe=new xnn)).generate();function knn(e){if(e.length>63)return!1;let t,n,r;for(n=0,r=e.length;n<r;n+=1)if(t=e.charCodeAt(n),!(t>96&&t<123))return!1;return!0}var Dk=class{constructor(e,t=""){if(this.prefix=e,this.suffix=t,!knn(e))throw new Error("Invalid prefix. Must be at most 63 ascii letters [a-z]");if(this.prefix=e,t)this.suffix=t;else{const n=Cnn();this.suffix=zF(n.bytes)}if(this.suffix.length!==26)throw new Error(`Invalid length. Suffix should have 26 characters, got ${t.length}`);if(this.suffix[0]>"7")throw new Error("Invalid suffix. First character must be in the range [0-7]");afe(this.suffix)}getType(){return this.prefix}getSuffix(){return this.suffix}asType(e){const t=this;if(t.prefix!==e)throw new Error(`Cannot convert TypeID of type ${t.prefix} to type ${e}`);return t}toUUIDBytes(){return afe(this.suffix)}toUUID(){return new X$(this.toUUIDBytes()).toString()}toString(){return this.prefix===""?this.suffix:`${this.prefix}_${this.suffix}`}static fromString(e){const t=e.split("_");if(t.length===1)return new Dk("",t[0]);if(t.length===2){if(t[0]==="")throw new Error(`Invalid TypeID. Prefix cannot be empty when there's a separator: ${e}`);return new Dk(t[0],t[1])}throw new Error(`Invalid TypeID string: ${e}`)}static fromUUIDBytes(e,t){const n=zF(t);return new Dk(e,n)}static fromUUID(e,t){const n=zF(bnn(t));return new Dk(e,n)}};function jMe(e="",t=""){return new Dk(e,t)}/*! Bundled license information:

uuidv7/dist/index.js:
  (**
   * uuidv7: An experimental implementation of the proposed UUID Version 7
   *
   * @license Apache-2.0
   * @copyright 2021-2023 LiosK
   * @packageDocumentation
   *)
*/const cfe={capture:!0};function uI(e,t,n){return e.addEventListener(t,n,cfe),()=>e.removeEventListener(t,n,cfe)}function Snn(e){if("onpagehide"in window)return uI(window,"pagehide",e);const t=uI(window,"unload",e),n=uI(window,"unload",e);return()=>{t(),n()}}function Enn(e){return uI(document,"visibilitychange",()=>{document.visibilityState==="hidden"&&e()})}function _nn(){const e={updateUserProperties(){},trace:t,log:n};function t(r){return{start(){},log(i){},complete(){},newContext(i){return e},error(i){},await:i=>i}}function n(r,i){}return e}const Tnn=_nn();function Ann(){return jMe("session").toString()}function jnn(){return jMe("trace").toString()}function Inn(e,t){return t<1?[e,""]:[e.substring(0,t),e.substring(t)]}const ufe=1024;function $nn(e){const t=e.indexOf(`
`),n=t===-1?ufe:Math.min(t,ufe),[r,i]=Inn(e,n);return r+(i?" (+".concat(i.length,")"):"")}function Dnn(e){const t=new Jr;function n(l,u,d,f){t.next({sessionId:e,type:"trace.error",traceId:l,name:u.name,version:u.version,data:{message:$nn(d.message)},context:f,createdAt:new Date().toISOString()})}function r(l,u,d,f,h){t.next({sessionId:e,type:l,traceId:u,name:d.name,version:d.version,data:f,context:h,createdAt:new Date().toISOString()})}function i(l,u,d){t.next({sessionId:e,type:l,version:u.version,name:u.name,data:d,createdAt:new Date().toISOString()})}function o(l){t.next({sessionId:e,type:"userProperties",properties:l,createdAt:new Date().toISOString()})}function a(l,u,d){return{start(){r("trace.start",l,u,void 0,d)},newContext(f){return{trace(h){return a("".concat(l,".").concat(f),h,d)},updateUserProperties(){},log:s}},log(f){r("trace.log",l,u,f,d)},complete(){r("trace.complete",l,u,void 0,d)},error(f){n(l,u,f,d)},await(f,h){return this.start(),f.then(m=>(this.log(h||m),this.complete(),m),m=>{throw this.error(m),m}),f}}}function s(l,u){i("log",l,u)}return{events$:t.asObservable(),logger:{updateUserProperties(l){o(l)},trace:(l,u)=>{const d=jnn();return a(d,l,u)},log:s}}}const Onn=e=>new Lt(t=>{const n=setTimeout(()=>{t.next(),t.complete()},e);return typeof n.unref=="function"&&n.unref(),()=>clearTimeout(n)});function Mnn(e,t){var n;const r=Dnn(e);function i(){return t.resolveConsent().catch(g=>({status:"undetermined"}))}const o=[];function a(){const g=o.slice();return o.length=0,g}function s(){const g=a();return g.length===0?ur:mo([Se(g),i()]).pipe(Ot(y=>{let[x,b]=y;return x.length===0||b.status!=="granted"?ur:ti(t.sendEvents(x)).pipe(En(v=>(o.unshift(...x),ur)))}))}const l=(n=t.flushInterval)!=null?n:3e4,u=r.events$.pipe(or(g=>o.push(g)),fe(()=>{}),qK(()=>Onn(l),{leading:!1,trailing:!0}),F1(()=>s()));function d(){return so(s(),{defaultValue:void 0}).then(()=>{})}const f=u.subscribe();function h(){if(!t.sendBeacon)return m(),!0;const g=a();return f.unsubscribe(),g.length>0?t.sendBeacon(g):!0}function m(){return d().then(()=>{},()=>{}).finally(()=>{f.unsubscribe()})}return{end:m,endWithBeacon:h,flush:d,logger:r.logger}}function Oi(e){return{type:"log",name:e.name,version:e.version,description:e.description,schema:void 0}}const IMe=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),qP=p.createContext({}),ZP=p.createContext(null),XP=typeof document<"u",SZ=XP?p.useLayoutEffect:p.useEffect,$Me=p.createContext({strict:!1}),EZ=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Pnn="framerAppearId",DMe="data-"+EZ(Pnn),OMe={skipAnimations:!1,useManualTiming:!1};class dfe{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Rnn(e){let t=new dfe,n=new dfe,r=0,i=!1,o=!1;const a=new WeakSet,s={schedule:(l,u=!1,d=!1)=>{const f=d&&i,h=f?t:n;return u&&a.add(l),h.add(l)&&f&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),a.delete(l)},process:l=>{if(i){o=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];a.has(d)&&(s.schedule(d),e()),d(l)}i=!1,o&&(o=!1,s.process(l))}};return s}const uA=["prepare","read","update","preRender","render","postRender"],Fnn=40;function MMe(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=uA.reduce((f,h)=>(f[h]=Rnn(()=>n=!0),f),{}),a=f=>{o[f].process(i)},s=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,Fnn),1),i.timestamp=f,i.isProcessing=!0,uA.forEach(a),i.isProcessing=!1,n&&t&&(r=!1,e(s))},l=()=>{n=!0,r=!0,i.isProcessing||e(s)};return{schedule:uA.reduce((f,h)=>{const m=o[h];return f[h]=(g,y=!1,x=!1)=>(n||l(),m.schedule(g,y,x)),f},{}),cancel:f=>uA.forEach(h=>o[h].cancel(f)),state:i,steps:o}}const{schedule:_Z,cancel:Lgr}=MMe(queueMicrotask,!1);function Lnn(e,t,n,r){const{visualElement:i}=p.useContext(qP),o=p.useContext($Me),a=p.useContext(ZP),s=p.useContext(IMe).reducedMotion,l=p.useRef();r=r||o.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:s}));const u=l.current;p.useInsertionEffect(()=>{u&&u.update(n,a)});const d=p.useRef(!!(n[DMe]&&!window.HandoffComplete));return SZ(()=>{u&&(_Z.postRender(u.render),d.current&&u.animationState&&u.animationState.animateChanges())}),p.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Kv(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Nnn(e,t,n){return p.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Kv(n)&&(n.current=r))},[t])}function n5(e){return typeof e=="string"||Array.isArray(e)}function JP(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const TZ=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],AZ=["initial",...TZ];function QP(e){return JP(e.animate)||AZ.some(t=>n5(e[t]))}function PMe(e){return!!(QP(e)||e.variants)}function Bnn(e,t){if(QP(e)){const{initial:n,animate:r}=e;return{initial:n===!1||n5(n)?n:void 0,animate:n5(r)?r:void 0}}return e.inherit!==!1?t:{}}function Vnn(e){const{initial:t,animate:n}=Bnn(e,p.useContext(qP));return p.useMemo(()=>({initial:t,animate:n}),[ffe(t),ffe(n)])}function ffe(e){return Array.isArray(e)?e.join(" "):e}const hfe={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},r5={};for(const e in hfe)r5[e]={isEnabled:t=>hfe[e].some(n=>!!t[n])};function znn(e){for(const t in e)r5[t]={...r5[t],...e[t]}}const jZ=p.createContext({}),RMe=p.createContext({}),Unn=Symbol.for("motionComponentSymbol");function Hnn({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&znn(e);function o(s,l){let u;const d={...p.useContext(IMe),...s,layoutId:Wnn(s)},{isStatic:f}=d,h=Vnn(s),m=r(s,f);if(!f&&XP){h.visualElement=Lnn(i,m,d,t);const g=p.useContext(RMe),y=p.useContext($Me).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,y,e,g))}return p.createElement(qP.Provider,{value:h},u&&h.visualElement?p.createElement(u,{visualElement:h.visualElement,...d}):null,n(i,s,Nnn(m,h.visualElement,l),m,f,h.visualElement))}const a=p.forwardRef(o);return a[Unn]=i,a}function Wnn({layoutId:e}){const t=p.useContext(jZ).id;return t&&e!==void 0?t+"-"+e:e}function Gnn(e){function t(r,i={}){return Hnn(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const Knn=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function IZ(e){return typeof e!="string"||e.includes("-")?!1:!!(Knn.indexOf(e)>-1||/[A-Z]/.test(e))}const J$={};function Ynn(e){Object.assign(J$,e)}const YE=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],l0=new Set(YE);function FMe(e,{layout:t,layoutId:n}){return l0.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!J$[e]||e==="opacity")}const ol=e=>!!(e&&e.getVelocity),qnn={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Znn=YE.length;function Xnn(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let o="";for(let a=0;a<Znn;a++){const s=YE[a];if(e[s]!==void 0){const l=qnn[s]||s;o+=`${l}(${e[s]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(e,r?"":o):n&&r&&(o="none"),o}const LMe=e=>t=>typeof t=="string"&&t.startsWith(e),NMe=LMe("--"),Jnn=LMe("var(--"),Q$=e=>Jnn(e)?Qnn.test(e.split("/*")[0].trim()):!1,Qnn=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)$/i,ern=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Qm=(e,t,n)=>n>t?t:n<e?e:n,Uw={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},PS={...Uw,transform:e=>Qm(0,1,e)},dA={...Uw,default:1},RS=e=>Math.round(e*1e5)/1e5,$Z=/(-)?([\d]*\.?[\d])+/g,trn=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,nrn=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function qE(e){return typeof e=="string"}const ZE=e=>({test:t=>qE(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Rp=ZE("deg"),Vd=ZE("%"),Mt=ZE("px"),rrn=ZE("vh"),irn=ZE("vw"),pfe={...Vd,parse:e=>Vd.parse(e)/100,transform:e=>Vd.transform(e*100)},mfe={...Uw,transform:Math.round},BMe={borderWidth:Mt,borderTopWidth:Mt,borderRightWidth:Mt,borderBottomWidth:Mt,borderLeftWidth:Mt,borderRadius:Mt,radius:Mt,borderTopLeftRadius:Mt,borderTopRightRadius:Mt,borderBottomRightRadius:Mt,borderBottomLeftRadius:Mt,width:Mt,maxWidth:Mt,height:Mt,maxHeight:Mt,size:Mt,top:Mt,right:Mt,bottom:Mt,left:Mt,padding:Mt,paddingTop:Mt,paddingRight:Mt,paddingBottom:Mt,paddingLeft:Mt,margin:Mt,marginTop:Mt,marginRight:Mt,marginBottom:Mt,marginLeft:Mt,rotate:Rp,rotateX:Rp,rotateY:Rp,rotateZ:Rp,scale:dA,scaleX:dA,scaleY:dA,scaleZ:dA,skew:Rp,skewX:Rp,skewY:Rp,distance:Mt,translateX:Mt,translateY:Mt,translateZ:Mt,x:Mt,y:Mt,z:Mt,perspective:Mt,transformPerspective:Mt,opacity:PS,originX:pfe,originY:pfe,originZ:Mt,zIndex:mfe,fillOpacity:PS,strokeOpacity:PS,numOctaves:mfe};function DZ(e,t,n,r){const{style:i,vars:o,transform:a,transformOrigin:s}=e;let l=!1,u=!1,d=!0;for(const f in t){const h=t[f];if(NMe(f)){o[f]=h;continue}const m=BMe[f],g=ern(h,m);if(l0.has(f)){if(l=!0,a[f]=g,!d)continue;h!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,s[f]=g):i[f]=g}if(t.transform||(l||r?i.transform=Xnn(e.transform,n,d,r):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:m=0}=s;i.transformOrigin=`${f} ${h} ${m}`}}const OZ=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function VMe(e,t,n){for(const r in t)!ol(t[r])&&!FMe(r,n)&&(e[r]=t[r])}function orn({transformTemplate:e},t,n){return p.useMemo(()=>{const r=OZ();return DZ(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function arn(e,t,n){const r=e.style||{},i={};return VMe(i,r,e),Object.assign(i,orn(e,t,n)),i}function srn(e,t,n){const r={},i=arn(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const lrn=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function eD(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||lrn.has(e)}let zMe=e=>!eD(e);function crn(e){e&&(zMe=t=>t.startsWith("on")?!eD(t):e(t))}try{crn(require("@emotion/is-prop-valid").default)}catch{}function urn(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(zMe(i)||n===!0&&eD(i)||!t&&!eD(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function gfe(e,t,n){return typeof e=="string"?e:Mt.transform(t+n*e)}function drn(e,t,n){const r=gfe(t,e.x,e.width),i=gfe(n,e.y,e.height);return`${r} ${i}`}const frn={offset:"stroke-dashoffset",array:"stroke-dasharray"},hrn={offset:"strokeDashoffset",array:"strokeDasharray"};function prn(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?frn:hrn;e[o.offset]=Mt.transform(-r);const a=Mt.transform(t),s=Mt.transform(n);e[o.array]=`${a} ${s}`}function MZ(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:o,pathLength:a,pathSpacing:s=1,pathOffset:l=0,...u},d,f,h){if(DZ(e,u,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:g,dimensions:y}=e;m.transform&&(y&&(g.transform=m.transform),delete m.transform),y&&(i!==void 0||o!==void 0||g.transform)&&(g.transformOrigin=drn(y,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),a!==void 0&&prn(m,a,s,l,!1)}const UMe=()=>({...OZ(),attrs:{}}),PZ=e=>typeof e=="string"&&e.toLowerCase()==="svg";function mrn(e,t,n,r){const i=p.useMemo(()=>{const o=UMe();return MZ(o,t,{enableHardwareAcceleration:!1},PZ(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};VMe(o,e.style,e),i.style={...o,...i.style}}return i}function grn(e=!1){return(n,r,i,{latestValues:o},a)=>{const l=(IZ(n)?mrn:srn)(r,o,a,n),u=urn(r,typeof n=="string",e),d=n!==p.Fragment?{...u,...l,ref:i}:{},{children:f}=r,h=p.useMemo(()=>ol(f)?f.get():f,[f]);return p.createElement(n,{...d,children:h})}}function HMe(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const WMe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function GMe(e,t,n,r){HMe(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(WMe.has(i)?i:EZ(i),t.attrs[i])}function RZ(e,t){const{style:n}=e,r={};for(const i in n)(ol(n[i])||t.style&&ol(t.style[i])||FMe(i,e))&&(r[i]=n[i]);return r}function KMe(e,t){const n=RZ(e,t);for(const r in e)if(ol(e[r])||ol(t[r])){const i=YE.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function FZ(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function YMe(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const tD=e=>Array.isArray(e),yrn=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),vrn=e=>tD(e)?e[e.length-1]||0:e;function dI(e){const t=ol(e)?e.get():e;return yrn(t)?t.toValue():t}function brn({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,o){const a={latestValues:xrn(r,i,o,e),renderState:t()};return n&&(a.mount=s=>n(r,s,a)),a}const qMe=e=>(t,n)=>{const r=p.useContext(qP),i=p.useContext(ZP),o=()=>brn(e,t,r,i);return n?o():YMe(o)};function xrn(e,t,n,r){const i={},o=r(e,{});for(const h in o)i[h]=dI(o[h]);let{initial:a,animate:s}=e;const l=QP(e),u=PMe(e);t&&u&&!l&&e.inherit!==!1&&(a===void 0&&(a=t.initial),s===void 0&&(s=t.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const f=d?s:a;return f&&typeof f!="boolean"&&!JP(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const g=FZ(e,m);if(!g)return;const{transitionEnd:y,transition:x,...b}=g;for(const v in b){let w=b[v];if(Array.isArray(w)){const C=d?w.length-1:0;w=w[C]}w!==null&&(i[v]=w)}for(const v in y)i[v]=y[v]}),i}const fo=e=>e,{schedule:ji,cancel:Wh,state:ma,steps:UF}=MMe(typeof requestAnimationFrame<"u"?requestAnimationFrame:fo,!0),wrn={useVisualState:qMe({scrapeMotionValuesFromProps:KMe,createRenderState:UMe,onMount:(e,t,{renderState:n,latestValues:r})=>{ji.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ji.render(()=>{MZ(n,r,{enableHardwareAcceleration:!1},PZ(t.tagName),e.transformTemplate),GMe(t,n)})}})},Crn={useVisualState:qMe({scrapeMotionValuesFromProps:RZ,createRenderState:OZ})};function krn(e,{forwardMotionProps:t=!1},n,r){return{...IZ(e)?wrn:Crn,preloadedFeatures:n,useRender:grn(t),createVisualElement:r,Component:e}}function sh(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const ZMe=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function eR(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Srn=e=>t=>ZMe(t)&&e(t,eR(t));function gh(e,t,n,r){return sh(e,t,Srn(n),r)}const Ern=(e,t)=>n=>t(e(n)),yh=(...e)=>e.reduce(Ern);function XMe(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const yfe=XMe("dragHorizontal"),vfe=XMe("dragVertical");function JMe(e){let t=!1;if(e==="y")t=vfe();else if(e==="x")t=yfe();else{const n=yfe(),r=vfe();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function QMe(){const e=JMe(!0);return e?(e(),!1):!0}class Eg{constructor(t){this.isMounted=!1,this.node=t}update(){}}function bfe(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(o,a)=>{if(o.pointerType==="touch"||QMe())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&ji.update(()=>s[r](o,a))};return gh(e.current,n,i,{passive:!e.getProps()[r]})}class _rn extends Eg{mount(){this.unmount=yh(bfe(this.node,!0),bfe(this.node,!1))}unmount(){}}class Trn extends Eg{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yh(sh(this.node.current,"focus",()=>this.onFocus()),sh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const ePe=(e,t)=>t?e===t?!0:ePe(e,t.parentElement):!1;function HF(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,eR(n))}class Arn extends Eg{constructor(){super(...arguments),this.removeStartListeners=fo,this.removeEndListeners=fo,this.removeAccessibleListeners=fo,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=gh(window,"pointerup",(s,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();ji.update(()=>{!f&&!ePe(this.node.current,s.target)?d&&d(s,l):u&&u(s,l)})},{passive:!(r.onTap||r.onPointerUp)}),a=gh(window,"pointercancel",(s,l)=>this.cancelPress(s,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=yh(o,a),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const a=s=>{s.key!=="Enter"||!this.checkPressEnd()||HF("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&ji.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=sh(this.node.current,"keyup",a),HF("down",(s,l)=>{this.startPress(s,l)})},n=sh(this.node.current,"keydown",t),r=()=>{this.isPressing&&HF("cancel",(o,a)=>this.cancelPress(o,a))},i=sh(this.node.current,"blur",r);this.removeAccessibleListeners=yh(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ji.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!QMe()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ji.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=gh(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=sh(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=yh(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const bV=new WeakMap,WF=new WeakMap,jrn=e=>{const t=bV.get(e.target);t&&t(e)},Irn=e=>{e.forEach(jrn)};function $rn({root:e,...t}){const n=e||document;WF.has(n)||WF.set(n,{});const r=WF.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Irn,{root:e,...t})),r[i]}function Drn(e,t,n){const r=$rn(t);return bV.set(e,n),r.observe(e),()=>{bV.delete(e),r.unobserve(e)}}const Orn={some:0,all:1};class Mrn extends Eg{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Orn[i]},s=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(l)};return Drn(this.node.current,a,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Prn(t,n))&&this.startObserver()}unmount(){}}function Prn({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Rrn={inView:{Feature:Mrn},tap:{Feature:Arn},focus:{Feature:Trn},hover:{Feature:_rn}};function tPe(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Frn(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function Lrn(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function tR(e,t,n){const r=e.getProps();return FZ(r,t,n!==void 0?n:r.custom,Frn(e),Lrn(e))}let Nrn=fo,LZ=fo;const Fm=e=>e*1e3,vh=e=>e/1e3,Brn={current:!1},nPe=e=>Array.isArray(e)&&typeof e[0]=="number";function rPe(e){return!!(!e||typeof e=="string"&&iPe[e]||nPe(e)||Array.isArray(e)&&e.every(rPe))}const Ok=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,iPe={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ok([0,.65,.55,1]),circOut:Ok([.55,0,1,.45]),backIn:Ok([.31,.01,.66,-.59]),backOut:Ok([.33,1.53,.69,.99])};function oPe(e){if(e)return nPe(e)?Ok(e):Array.isArray(e)?e.map(oPe):iPe[e]}function Vrn(e,t,n,{delay:r=0,duration:i,repeat:o=0,repeatType:a="loop",ease:s,times:l}={}){const u={[t]:n};l&&(u.offset=l);const d=oPe(s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"})}function zrn(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const aPe=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Urn=1e-7,Hrn=12;function Wrn(e,t,n,r,i){let o,a,s=0;do a=t+(n-t)/2,o=aPe(a,r,i)-e,o>0?n=a:t=a;while(Math.abs(o)>Urn&&++s<Hrn);return a}function XE(e,t,n,r){if(e===t&&n===r)return fo;const i=o=>Wrn(o,0,1,e,n);return o=>o===0||o===1?o:aPe(i(o),t,r)}const Grn=XE(.42,0,1,1),Krn=XE(0,0,.58,1),sPe=XE(.42,0,.58,1),Yrn=e=>Array.isArray(e)&&typeof e[0]!="number",lPe=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,cPe=e=>t=>1-e(1-t),NZ=e=>1-Math.sin(Math.acos(e)),uPe=cPe(NZ),qrn=lPe(NZ),dPe=XE(.33,1.53,.69,.99),BZ=cPe(dPe),Zrn=lPe(BZ),Xrn=e=>(e*=2)<1?.5*BZ(e):.5*(2-Math.pow(2,-10*(e-1))),Jrn={linear:fo,easeIn:Grn,easeInOut:sPe,easeOut:Krn,circIn:NZ,circInOut:qrn,circOut:uPe,backIn:BZ,backInOut:Zrn,backOut:dPe,anticipate:Xrn},xfe=e=>{if(Array.isArray(e)){LZ(e.length===4);const[t,n,r,i]=e;return XE(t,n,r,i)}else if(typeof e=="string")return Jrn[e];return e},i5=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Bi=(e,t,n)=>e+(t-e)*n;function GF(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Qrn({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,a=0;if(!t)i=o=a=n;else{const s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;i=GF(l,s,e+1/3),o=GF(l,s,e),a=GF(l,s,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}const VZ=(e,t)=>n=>!!(qE(n)&&nrn.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),fPe=(e,t,n)=>r=>{if(!qE(r))return r;const[i,o,a,s]=r.match($Z);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(a),alpha:s!==void 0?parseFloat(s):1}},ein=e=>Qm(0,255,e),KF={...Uw,transform:e=>Math.round(ein(e))},k1={test:VZ("rgb","red"),parse:fPe("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+KF.transform(e)+", "+KF.transform(t)+", "+KF.transform(n)+", "+RS(PS.transform(r))+")"};function tin(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const xV={test:VZ("#"),parse:tin,transform:k1.transform},Yv={test:VZ("hsl","hue"),parse:fPe("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Vd.transform(RS(t))+", "+Vd.transform(RS(n))+", "+RS(PS.transform(r))+")"},YF=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},nin=[xV,k1,Yv],rin=e=>nin.find(t=>t.test(e));function wfe(e){const t=rin(e);let n=t.parse(e);return t===Yv&&(n=Qrn(n)),n}const Cfe=(e,t)=>{const n=wfe(e),r=wfe(t),i={...n};return o=>(i.red=YF(n.red,r.red,o),i.green=YF(n.green,r.green,o),i.blue=YF(n.blue,r.blue,o),i.alpha=Bi(n.alpha,r.alpha,o),k1.transform(i))},Va={test:e=>k1.test(e)||xV.test(e)||Yv.test(e),parse:e=>k1.test(e)?k1.parse(e):Yv.test(e)?Yv.parse(e):xV.parse(e),transform:e=>qE(e)?e:e.hasOwnProperty("red")?k1.transform(e):Yv.transform(e)};function iin(e){var t,n;return isNaN(e)&&qE(e)&&(((t=e.match($Z))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(trn))===null||n===void 0?void 0:n.length)||0)>0}const hPe="number",pPe="color",oin="var",ain="var(",kfe="${}",Sfe=/(var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\))|(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))|((-)?([\d]*\.?[\d])+)/gi;function nD(e){const t=e.toString(),n=t.match(Sfe)||[],r=[],i={color:[],number:[],var:[]},o=[];for(let l=0;l<n.length;l++){const u=n[l];Va.test(u)?(i.color.push(l),o.push(pPe),r.push(Va.parse(u))):u.startsWith(ain)?(i.var.push(l),o.push(oin),r.push(u)):(i.number.push(l),o.push(hPe),r.push(parseFloat(u)))}const s=t.replace(Sfe,kfe).split(kfe);return{values:r,split:s,indexes:i,types:o}}function mPe(e){return nD(e).values}function gPe(e){const{split:t,types:n}=nD(e),r=t.length;return i=>{let o="";for(let a=0;a<r;a++)if(o+=t[a],i[a]!==void 0){const s=n[a];s===hPe?o+=RS(i[a]):s===pPe?o+=Va.transform(i[a]):o+=i[a]}return o}}const sin=e=>typeof e=="number"?0:e;function lin(e){const t=mPe(e);return gPe(e)(t.map(sin))}const eg={test:iin,parse:mPe,createTransformer:gPe,getAnimatableNone:lin};function wV(e,t){return n=>n>0?t:e}function cin(e,t){return n=>Bi(e,t,n)}function zZ(e){return typeof e=="number"?cin:typeof e=="string"?Q$(e)?wV:Va.test(e)?Cfe:fin:Array.isArray(e)?yPe:typeof e=="object"?Va.test(e)?Cfe:uin:wV}function yPe(e,t){const n=[...e],r=n.length,i=e.map((o,a)=>zZ(o)(o,t[a]));return o=>{for(let a=0;a<r;a++)n[a]=i[a](o);return n}}function uin(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=zZ(e[i])(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function din(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const a=t.types[o],s=e.indexes[a][i[a]],l=(n=e.values[s])!==null&&n!==void 0?n:0;r[o]=l,i[a]++}return r}const fin=(e,t)=>{const n=eg.createTransformer(t),r=nD(e),i=nD(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?yh(yPe(din(r,i),i.values),n):wV(e,t)};function vPe(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Bi(e,t,n):zZ(e)(e,t)}function hin(e,t,n){const r=[],i=n||vPe,o=e.length-1;for(let a=0;a<o;a++){let s=i(e[a],e[a+1]);if(t){const l=Array.isArray(t)?t[a]||fo:t;s=yh(l,s)}r.push(s)}return r}function pin(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(LZ(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=hin(t,r,i),s=a.length,l=u=>{let d=0;if(s>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=i5(e[d],e[d+1],u);return a[d](f)};return n?u=>l(Qm(e[0],e[o-1],u)):l}function min(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=i5(0,t,r);e.push(Bi(n,1,i))}}function gin(e){const t=[0];return min(t,e.length-1),t}function yin(e,t){return e.map(n=>n*t)}function vin(e,t){return e.map(()=>t||sPe).splice(0,e.length-1)}function rD({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=Yrn(r)?r.map(xfe):xfe(r),o={done:!1,value:t[0]},a=yin(n&&n.length===t.length?n:gin(t),e),s=pin(a,t,{ease:Array.isArray(i)?i:vin(t,i)});return{calculatedDuration:e,next:l=>(o.value=s(l),o.done=l>=e,o)}}function bPe(e,t){return t?e*(1e3/t):0}const bin=5;function xPe(e,t,n){const r=Math.max(t-bin,0);return bPe(n-e(r),t-r)}const qF=.001,xin=.01,Efe=10,win=.05,Cin=1;function kin({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,o;Nrn(e<=Fm(Efe));let a=1-t;a=Qm(win,Cin,a),e=Qm(xin,Efe,vh(e)),a<1?(i=u=>{const d=u*a,f=d*e,h=d-n,m=CV(u,a),g=Math.exp(-f);return qF-h/m*g},o=u=>{const f=u*a*e,h=f*n+n,m=Math.pow(a,2)*Math.pow(u,2)*e,g=Math.exp(-f),y=CV(Math.pow(u,2),a);return(-i(u)+qF>0?-1:1)*((h-m)*g)/y}):(i=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-qF+d*f},o=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const s=5/e,l=Ein(i,o,s);if(e=Fm(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:e}}}const Sin=12;function Ein(e,t,n){let r=n;for(let i=1;i<Sin;i++)r=r-e(r)/t(r);return r}function CV(e,t){return e*Math.sqrt(1-t*t)}const _in=["duration","bounce"],Tin=["stiffness","damping","mass"];function _fe(e,t){return t.some(n=>e[n]!==void 0)}function Ain(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!_fe(e,Tin)&&_fe(e,_in)){const n=kin(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function wPe({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],o=e[e.length-1],a={done:!1,value:i},{stiffness:s,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=Ain({...r,velocity:-vh(r.velocity||0)}),m=f||0,g=l/(2*Math.sqrt(s*u)),y=o-i,x=vh(Math.sqrt(s/u)),b=Math.abs(y)<5;n||(n=b?.01:2),t||(t=b?.005:.5);let v;if(g<1){const w=CV(x,g);v=C=>{const k=Math.exp(-g*x*C);return o-k*((m+g*x*y)/w*Math.sin(w*C)+y*Math.cos(w*C))}}else if(g===1)v=w=>o-Math.exp(-x*w)*(y+(m+x*y)*w);else{const w=x*Math.sqrt(g*g-1);v=C=>{const k=Math.exp(-g*x*C),S=Math.min(w*C,300);return o-k*((m+g*x*y)*Math.sinh(S)+w*y*Math.cosh(S))/w}}return{calculatedDuration:h&&d||null,next:w=>{const C=v(w);if(h)a.done=w>=d;else{let k=m;w!==0&&(g<1?k=xPe(v,w,C):k=0);const S=Math.abs(k)<=n,E=Math.abs(o-C)<=t;a.done=S&&E}return a.value=a.done?o:C,a}}}function Tfe({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:s,max:l,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=_=>s!==void 0&&_<s||l!==void 0&&_>l,g=_=>s===void 0?l:l===void 0||Math.abs(s-_)<Math.abs(l-_)?s:l;let y=n*t;const x=f+y,b=a===void 0?x:a(x);b!==x&&(y=b-f);const v=_=>-y*Math.exp(-_/r),w=_=>b+v(_),C=_=>{const T=v(_),A=w(_);h.done=Math.abs(T)<=u,h.value=h.done?b:A};let k,S;const E=_=>{m(h.value)&&(k=_,S=wPe({keyframes:[h.value,g(h.value)],velocity:xPe(w,_,h.value),damping:i,stiffness:o,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:_=>{let T=!1;return!S&&k===void 0&&(T=!0,C(_),E(_)),k!==void 0&&_>k?S.next(_-k):(!T&&C(_),h)}}}let fI;function jin(){fI=void 0}const H1={now:()=>(fI===void 0&&H1.set(ma.isProcessing||OMe.useManualTiming?ma.timestamp:performance.now()),fI),set:e=>{fI=e,queueMicrotask(jin)}},Iin=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ji.update(t,!0),stop:()=>Wh(t),now:()=>ma.isProcessing?ma.timestamp:H1.now()}},Afe=2e4;function jfe(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Afe;)t+=n,r=e.next(t);return t>=Afe?1/0:t}const $in={decay:Tfe,inertia:Tfe,tween:rD,keyframes:rD,spring:wPe},Din=e=>e/100;function iD({autoplay:e=!0,delay:t=0,driver:n=Iin,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:s="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:f,...h}){let m=1,g=!1,y,x;const b=()=>{x=new Promise(H=>{y=H})};b();let v;const w=$in[i]||rD;let C;w!==rD&&typeof r[0]!="number"&&(C=yh(Din,vPe(r[0],r[1])),r=[0,100]);const k=w({...h,keyframes:r});let S;s==="mirror"&&(S=w({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let E="idle",_=null,T=null,A=null;k.calculatedDuration===null&&o&&(k.calculatedDuration=jfe(k));const{calculatedDuration:I}=k;let j=1/0,$=1/0;I!==null&&(j=I+a,$=j*(o+1)-a);let D=0;const O=H=>{if(T===null)return;m>0&&(T=Math.min(T,H)),m<0&&(T=Math.min(H-$/m,T)),_!==null?D=_:D=Math.round(H-T)*m;const N=D-t*(m>=0?1:-1),Y=m>=0?N<0:N>$;D=Math.max(N,0),E==="finished"&&_===null&&(D=$);let J=D,ee=k;if(o){const G=Math.min(D,$)/j;let K=Math.floor(G),q=G%1;!q&&G>=1&&(q=1),q===1&&K--,K=Math.min(K,o+1),!!(K%2)&&(s==="reverse"?(q=1-q,a&&(q-=a/j)):s==="mirror"&&(ee=S)),J=Qm(0,1,q)*j}const oe=Y?{done:!1,value:r[0]}:ee.next(J);C&&(oe.value=C(oe.value));let{done:re}=oe;!Y&&I!==null&&(re=m>=0?D>=$:D<=0);const se=_===null&&(E==="finished"||E==="running"&&re);return f&&f(oe.value),se&&F(),oe},M=()=>{v&&v.stop(),v=void 0},P=()=>{E="idle",M(),y(),b(),T=A=null},F=()=>{E="finished",d&&d(),M(),y()},L=()=>{if(g)return;v||(v=n(O));const H=v.now();l&&l(),_!==null?T=H-_:(!T||E==="finished")&&(T=H),E==="finished"&&b(),A=T,_=null,E="running",v.start()};e&&L();const U={then(H,N){return x.then(H,N)},get time(){return vh(D)},set time(H){H=Fm(H),D=H,_!==null||!v||m===0?_=H:T=v.now()-H/m},get duration(){const H=k.calculatedDuration===null?jfe(k):k.calculatedDuration;return vh(H)},get speed(){return m},set speed(H){H===m||!v||(m=H,U.time=vh(D))},get state(){return E},play:L,pause:()=>{E="paused",_=D},stop:()=>{g=!0,E!=="idle"&&(E="idle",u&&u(),P())},cancel:()=>{A!==null&&O(A),P()},complete:()=>{E="finished"},sample:H=>(T=0,O(H))};return U}function Oin(e){let t;return()=>(t===void 0&&(t=e()),t)}const Min=Oin(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Pin=new Set(["opacity","clipPath","filter","transform"]),fA=10,Rin=2e4,Fin=(e,t)=>t.type==="spring"||e==="backgroundColor"||!rPe(t.ease);function Lin(e,t,{onUpdate:n,onComplete:r,...i}){if(!(Min()&&Pin.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let a=!1,s,l,u=!1;const d=()=>{l=new Promise(w=>{s=w})};d();let{keyframes:f,duration:h=300,ease:m,times:g}=i;if(Fin(t,i)){const w=iD({...i,repeat:0,delay:0});let C={done:!1,value:f[0]};const k=[];let S=0;for(;!C.done&&S<Rin;)C=w.sample(S),k.push(C.value),S+=fA;g=void 0,f=k,h=S-fA,m="linear"}const y=Vrn(e.owner.current,t,f,{...i,duration:h,ease:m,times:g}),x=()=>{u=!1,y.cancel()},b=()=>{u=!0,ji.update(x),s(),d()};return y.onfinish=()=>{u||(e.set(zrn(f,i)),r&&r(),b())},{then(w,C){return l.then(w,C)},attachTimeline(w){return y.timeline=w,y.onfinish=null,fo},get time(){return vh(y.currentTime||0)},set time(w){y.currentTime=Fm(w)},get speed(){return y.playbackRate},set speed(w){y.playbackRate=w},get duration(){return vh(h)},play:()=>{a||(y.play(),Wh(x))},pause:()=>y.pause(),stop:()=>{if(a=!0,y.playState==="idle")return;const{currentTime:w}=y;if(w){const C=iD({...i,autoplay:!1});e.setWithVelocity(C.sample(w-fA).value,C.sample(w).value,fA)}b()},complete:()=>{u||y.finish()},cancel:b}}function Nin({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:fo,pause:fo,stop:fo,then:o=>(o(),Promise.resolve()),cancel:fo,complete:fo});return t?iD({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const Bin={type:"spring",stiffness:500,damping:25,restSpeed:10},Vin=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),zin={type:"keyframes",duration:.8},Uin={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Hin=(e,{keyframes:t})=>t.length>2?zin:l0.has(e)?e.startsWith("scale")?Vin(t[1]):Bin:Uin,kV=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(eg.test(t)||t==="0")&&!t.startsWith("url(")),Win=new Set(["brightness","contrast","saturate","opacity"]);function Gin(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match($Z)||[];if(!r)return e;const i=n.replace(r,"");let o=Win.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const Kin=/([a-z-]*)\(.*?\)/g,SV={...eg,getAnimatableNone:e=>{const t=e.match(Kin);return t?t.map(Gin).join(" "):e}},Yin={...BMe,color:Va,backgroundColor:Va,outlineColor:Va,fill:Va,stroke:Va,borderColor:Va,borderTopColor:Va,borderRightColor:Va,borderBottomColor:Va,borderLeftColor:Va,filter:SV,WebkitFilter:SV},UZ=e=>Yin[e];function CPe(e,t){let n=UZ(e);return n!==SV&&(n=eg),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const kPe=e=>/^0[^.\s]+$/.test(e);function qin(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||kPe(e)}function Zin(e,t,n,r){const i=kV(t,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const a=r.from!==void 0?r.from:e.get();let s;const l=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?a:o[u-1]),qin(o[u])&&l.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(s=o[u]);if(i&&l.length&&s)for(let u=0;u<l.length;u++){const d=l[u];o[d]=CPe(t,s)}return o}function Xin({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:s,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function HZ(e,t){return e[t]||e.default||e}const WZ=(e,t,n,r={})=>i=>{const o=HZ(r,e)||{},a=o.delay||r.delay||0;let{elapsed:s=0}=r;s=s-Fm(a);const l=Zin(t,e,n,o),u=l[0],d=l[l.length-1],f=kV(e,u),h=kV(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-s,onUpdate:g=>{t.set(g),o.onUpdate&&o.onUpdate(g)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(Xin(o)||(m={...m,...Hin(e,m)}),m.duration&&(m.duration=Fm(m.duration)),m.repeatDelay&&(m.repeatDelay=Fm(m.repeatDelay)),!f||!h||Brn.current||o.type===!1||OMe.skipAnimations)return Nin(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const g=Lin(t,e,m);if(g)return g}return iD(m)};function oD(e){return!!(ol(e)&&e.add)}const SPe=e=>/^\-?\d*\.?\d+$/.test(e);function GZ(e,t){e.indexOf(t)===-1&&e.push(t)}function KZ(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class YZ{constructor(){this.subscriptions=[]}add(t){return GZ(this.subscriptions,t),()=>KZ(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const a=this.subscriptions[o];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ife=30,Jin=e=>!isNaN(parseFloat(e));class Qin{constructor(t,n={}){this.version="11.0.8",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=H1.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.canTrackVelocity=Jin(this.current),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=H1.now()}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new YZ);const r=this.events[t].add(n);return t==="change"?()=>{r(),ji.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=H1.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Ife)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Ife);return bPe(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Cx(e,t){return new Qin(e,t)}const EPe=e=>t=>t.test(e),eon={test:e=>e==="auto",parse:e=>e},_Pe=[Uw,Mt,Vd,Rp,irn,rrn,eon],YC=e=>_Pe.find(EPe(e)),ton=[..._Pe,Va,eg],non=e=>ton.find(EPe(e));function ron(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Cx(n))}function ion(e,t){const n=tR(e,t);let{transitionEnd:r={},transition:i={},...o}=n?e.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const a in o){const s=vrn(o[a]);ron(e,a,s)}}function oon(e,t,n){var r,i;const o=Object.keys(t).filter(s=>!e.hasValue(s)),a=o.length;if(a)for(let s=0;s<a;s++){const l=o[s],u=t[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),d!=null&&(typeof d=="string"&&(SPe(d)||kPe(d))?d=parseFloat(d):!non(d)&&eg.test(u)&&(d=CPe(l,u)),e.addValue(l,Cx(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function aon(e,t){return t?(t[e]||t.default||t).from:void 0}function son(e,t,n){const r={};for(const i in e){const o=aon(i,t);if(o!==void 0)r[i]=o;else{const a=n.getValue(i);a&&(r[i]=a.get())}}return r}function lon({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function con(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function TPe(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:a,...s}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(o=r);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const f in s){const h=e.getValue(f),m=s[f];if(!h||m===void 0||d&&lon(d,f))continue;const g={delay:n,elapsed:0,...HZ(o||{},f)};if(window.HandoffAppearAnimations){const b=e.getProps()[DMe];if(b){const v=window.HandoffAppearAnimations(b,f,h,ji);v!==null&&(g.elapsed=v,g.isHandoff=!0)}}let y=!g.isHandoff&&!con(h,m);if(g.type==="spring"&&(h.getVelocity()||g.velocity)&&(y=!1),h.animation&&(y=!1),y)continue;h.start(WZ(f,h,m,e.shouldReduceMotion&&l0.has(f)?{type:!1}:g));const x=h.animation;oD(l)&&(l.add(f),x.then(()=>l.remove(f))),u.push(x)}return a&&Promise.all(u).then(()=>{a&&ion(e,a)}),u}function EV(e,t,n={}){const r=tR(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(TPe(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=i;return uon(e,t,u+l,d,f,n)}:()=>Promise.resolve(),{when:s}=i;if(s){const[l,u]=s==="beforeChildren"?[o,a]:[a,o];return l().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function uon(e,t,n=0,r=0,i=1,o){const a=[],s=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>s-u*r;return Array.from(e.variantChildren).sort(don).forEach((u,d)=>{u.notify("AnimationStart",t),a.push(EV(u,t,{...o,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function don(e,t){return e.sortNodePosition(t)}function fon(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>EV(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=EV(e,t,n);else{const i=typeof t=="function"?tR(e,t,n.custom):t;r=Promise.all(TPe(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const hon=[...TZ].reverse(),pon=TZ.length;function mon(e){return t=>Promise.all(t.map(({animation:n,options:r})=>fon(e,n,r)))}function gon(e){let t=mon(e);const n=von();let r=!0;const i=(l,u)=>{const d=tR(e,u);if(d){const{transition:f,transitionEnd:h,...m}=d;l={...l,...m,...h}}return l};function o(l){t=l(e)}function a(l,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],m=new Set;let g={},y=1/0;for(let b=0;b<pon;b++){const v=hon[b],w=n[v],C=d[v]!==void 0?d[v]:f[v],k=n5(C),S=v===u?w.isActive:null;S===!1&&(y=b);let E=C===f[v]&&C!==d[v]&&k;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),w.protectedKeys={...g},!w.isActive&&S===null||!C&&!w.prevProp||JP(C)||typeof C=="boolean")continue;let T=yon(w.prevProp,C)||v===u&&w.isActive&&!E&&k||b>y&&k,A=!1;const I=Array.isArray(C)?C:[C];let j=I.reduce(i,{});S===!1&&(j={});const{prevResolvedValues:$={}}=w,D={...$,...j},O=M=>{T=!0,m.has(M)&&(A=!0,m.delete(M)),w.needsAnimating[M]=!0};for(const M in D){const P=j[M],F=$[M];if(g.hasOwnProperty(M))continue;let L=!1;tD(P)&&tD(F)?L=!tPe(P,F):L=P!==F,L?P!==void 0?O(M):m.add(M):P!==void 0&&m.has(M)?O(M):w.protectedKeys[M]=!0}w.prevProp=C,w.prevResolvedValues=j,w.isActive&&(g={...g,...j}),r&&e.blockInitialAnimation&&(T=!1),T&&(!E||A)&&h.push(...I.map(M=>({animation:M,options:{type:v,...l}})))}if(m.size){const b={};m.forEach(v=>{const w=e.getBaseTarget(v);w!==void 0&&(b[v]=w)}),h.push({animation:b})}let x=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(h):Promise.resolve()}function s(l,u,d){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),n[l].isActive=u;const h=a(d,l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:a,setActive:s,setAnimateFunction:o,getState:()=>n}}function yon(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!tPe(t,e):!1}function Vg(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function von(){return{animate:Vg(!0),whileInView:Vg(),whileHover:Vg(),whileTap:Vg(),whileDrag:Vg(),whileFocus:Vg(),exit:Vg()}}class bon extends Eg{constructor(t){super(t),t.animationState||(t.animationState=gon(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),JP(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let xon=0;class won extends Eg{constructor(){super(...arguments),this.id=xon++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const o=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Con={animation:{Feature:bon},exit:{Feature:won}},$fe=(e,t)=>Math.abs(e-t);function kon(e,t){const n=$fe(e.x,t.x),r=$fe(e.y,t.y);return Math.sqrt(n**2+r**2)}class APe{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=XF(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=kon(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:g}=f,{timestamp:y}=ma;this.history.push({...g,timestamp:y});const{onStart:x,onMove:b}=this.handlers;h||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=ZF(h,this.transformPagePoint),ji.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=XF(f.type==="pointercancel"?this.lastMoveEventInfo:ZF(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,x),g&&g(f,x)},!ZMe(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const a=eR(t),s=ZF(a,this.transformPagePoint),{point:l}=s,{timestamp:u}=ma;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,XF(s,this.history)),this.removeListeners=yh(gh(this.contextWindow,"pointermove",this.handlePointerMove),gh(this.contextWindow,"pointerup",this.handlePointerUp),gh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Wh(this.updatePoint)}}function ZF(e,t){return t?{point:t(e.point)}:e}function Dfe(e,t){return{x:e.x-t.x,y:e.y-t.y}}function XF({point:e},t){return{point:e,delta:Dfe(e,jPe(t)),offset:Dfe(e,Son(t)),velocity:Eon(t,.1)}}function Son(e){return e[0]}function jPe(e){return e[e.length-1]}function Eon(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=jPe(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Fm(t)));)n--;if(!r)return{x:0,y:0};const o=vh(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Bl(e){return e.max-e.min}function _V(e,t=0,n=.01){return Math.abs(e-t)<=n}function Ofe(e,t,n,r=.5){e.origin=r,e.originPoint=Bi(t.min,t.max,e.origin),e.scale=Bl(n)/Bl(t),(_V(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Bi(n.min,n.max,e.origin)-e.originPoint,(_V(e.translate)||isNaN(e.translate))&&(e.translate=0)}function FS(e,t,n,r){Ofe(e.x,t.x,n.x,r?r.originX:void 0),Ofe(e.y,t.y,n.y,r?r.originY:void 0)}function Mfe(e,t,n){e.min=n.min+t.min,e.max=e.min+Bl(t)}function _on(e,t,n){Mfe(e.x,t.x,n.x),Mfe(e.y,t.y,n.y)}function Pfe(e,t,n){e.min=t.min-n.min,e.max=e.min+Bl(t)}function LS(e,t,n){Pfe(e.x,t.x,n.x),Pfe(e.y,t.y,n.y)}function Ton(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Bi(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Bi(n,e,r.max):Math.min(e,n)),e}function Rfe(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Aon(e,{top:t,left:n,bottom:r,right:i}){return{x:Rfe(e.x,n,i),y:Rfe(e.y,t,r)}}function Ffe(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function jon(e,t){return{x:Ffe(e.x,t.x),y:Ffe(e.y,t.y)}}function Ion(e,t){let n=.5;const r=Bl(e),i=Bl(t);return i>r?n=i5(t.min,t.max-r,e.min):r>i&&(n=i5(e.min,e.max-i,t.min)),Qm(0,1,n)}function $on(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const TV=.35;function Don(e=TV){return e===!1?e=0:e===!0&&(e=TV),{x:Lfe(e,"left","right"),y:Lfe(e,"top","bottom")}}function Lfe(e,t,n){return{min:Nfe(e,t),max:Nfe(e,n)}}function Nfe(e,t){return typeof e=="number"?e:e[t]||0}const Bfe=()=>({translate:0,scale:1,origin:0,originPoint:0}),qv=()=>({x:Bfe(),y:Bfe()}),Vfe=()=>({min:0,max:0}),oo=()=>({x:Vfe(),y:Vfe()});function ic(e){return[e("x"),e("y")]}function IPe({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Oon({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Mon(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function JF(e){return e===void 0||e===1}function AV({scale:e,scaleX:t,scaleY:n}){return!JF(e)||!JF(t)||!JF(n)}function n1(e){return AV(e)||$Pe(e)||e.z||e.rotate||e.rotateX||e.rotateY}function $Pe(e){return zfe(e.x)||zfe(e.y)}function zfe(e){return e&&e!=="0%"}function aD(e,t,n){const r=e-n,i=t*r;return n+i}function Ufe(e,t,n,r,i){return i!==void 0&&(e=aD(e,i,r)),aD(e,n,r)+t}function jV(e,t=0,n=1,r,i){e.min=Ufe(e.min,t,n,r,i),e.max=Ufe(e.max,t,n,r,i)}function DPe(e,{x:t,y:n}){jV(e.x,t.translate,t.scale,t.originPoint),jV(e.y,n.translate,n.scale,n.originPoint)}function Pon(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,a;for(let s=0;s<i;s++){o=n[s],a=o.projectionDelta;const l=o.instance;l&&l.style&&l.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Zv(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,DPe(e,a)),r&&n1(o.latestValues)&&Zv(e,o.latestValues))}t.x=Hfe(t.x),t.y=Hfe(t.y)}function Hfe(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Gp(e,t){e.min=e.min+t,e.max=e.max+t}function Wfe(e,t,[n,r,i]){const o=t[i]!==void 0?t[i]:.5,a=Bi(e.min,e.max,o);jV(e,t[n],t[r],a,t.scale)}const Ron=["x","scaleX","originX"],Fon=["y","scaleY","originY"];function Zv(e,t){Wfe(e.x,t,Ron),Wfe(e.y,t,Fon)}function OPe(e,t){return IPe(Mon(e.getBoundingClientRect(),t))}function Lon(e,t,n){const r=OPe(e,n),{scroll:i}=t;return i&&(Gp(r.x,i.offset.x),Gp(r.y,i.offset.y)),r}const MPe=({current:e})=>e?e.ownerDocument.defaultView:null,Non=new WeakMap;class Bon{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=oo(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(eR(d,"page").point)},o=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:g}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=JMe(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ic(x=>{let b=this.getAxisMotionValue(x).get()||0;if(Vd.test(b)){const{projection:v}=this.visualElement;if(v&&v.layout){const w=v.layout.layoutBox[x];w&&(b=Bl(w)*(parseFloat(b)/100))}}this.originPoint[x]=b}),g&&ji.update(()=>g(d,f),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:g,onDrag:y}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:x}=f;if(m&&this.currentDirection===null){this.currentDirection=Von(x),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),y&&y(d,f)},s=(d,f)=>this.stop(d,f),l=()=>ic(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new APe(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:MPe(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&ji.update(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!hA(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=Ton(a,this.constraints[t],this.elastic[t])),o.set(a)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&Kv(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Aon(i.layoutBox,n):this.constraints=!1,this.elastic=Don(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ic(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=$on(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Kv(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Lon(r,i.root,this.visualElement.getTransformPagePoint());let a=jon(i.layout.layoutBox,o);if(n){const s=n(Oon(a));this.hasMutatedConstraints=!!s,s&&(a=IPe(s))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},u=ic(d=>{if(!hA(d,n,this.currentDirection))return;let f=l&&l[d]||{};a&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(s)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(WZ(t,r,0,n))}stopAnimation(){ic(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ic(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ic(n=>{const{drag:r}=this.getProps();if(!hA(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:s}=i.layout.layoutBox[n];o.set(t[n]-Bi(a,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Kv(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ic(a=>{const s=this.getAxisMotionValue(a);if(s){const l=s.get();i[a]=Ion({min:l,max:l},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ic(a=>{if(!hA(a,t,null))return;const s=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];s.set(Bi(l,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;Non.set(this.visualElement,this);const t=this.visualElement.current,n=gh(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Kv(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const a=sh(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(ic(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:a=TV,dragMomentum:s=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:a,dragMomentum:s}}}function hA(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Von(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class zon extends Eg{constructor(t){super(t),this.removeGroupControls=fo,this.removeListeners=fo,this.controls=new Bon(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fo}unmount(){this.removeGroupControls(),this.removeListeners()}}const Gfe=e=>(t,n)=>{e&&ji.update(()=>e(t,n))};class Uon extends Eg{constructor(){super(...arguments),this.removePointerDownListener=fo}onPointerDown(t){this.session=new APe(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:MPe(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Gfe(t),onStart:Gfe(n),onMove:r,onEnd:(o,a)=>{delete this.session,i&&ji.update(()=>i(o,a))}}}mount(){this.removePointerDownListener=gh(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Hon(){const e=p.useContext(ZP);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=p.useId();return p.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const hI={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Kfe(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const qC={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Mt.test(e))e=parseFloat(e);else return e;const n=Kfe(e,t.target.x),r=Kfe(e,t.target.y);return`${n}% ${r}%`}},Won={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=eg.parse(e);if(i.length>5)return r;const o=eg.createTransformer(e),a=typeof i[0]!="number"?1:0,s=n.x.scale*t.x,l=n.y.scale*t.y;i[0+a]/=s,i[1+a]/=l;const u=Bi(s,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),o(i)}};class Gon extends Fe.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;Ynn(Kon),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),hI.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,a=r.projection;return a&&(a.isPresent=o,i||t.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?a.promote():a.relegate()||ji.postRender(()=>{const s=a.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),_Z.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function PPe(e){const[t,n]=Hon(),r=p.useContext(jZ);return Fe.createElement(Gon,{...e,layoutGroup:r,switchLayoutGroup:p.useContext(RMe),isPresent:t,safeToRemove:n})}const Kon={borderRadius:{...qC,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qC,borderTopRightRadius:qC,borderBottomLeftRadius:qC,borderBottomRightRadius:qC,boxShadow:Won},RPe=["TopLeft","TopRight","BottomLeft","BottomRight"],Yon=RPe.length,Yfe=e=>typeof e=="string"?parseFloat(e):e,qfe=e=>typeof e=="number"||Mt.test(e);function qon(e,t,n,r,i,o){i?(e.opacity=Bi(0,n.opacity!==void 0?n.opacity:1,Zon(r)),e.opacityExit=Bi(t.opacity!==void 0?t.opacity:1,0,Xon(r))):o&&(e.opacity=Bi(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<Yon;a++){const s=`border${RPe[a]}Radius`;let l=Zfe(t,s),u=Zfe(n,s);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||qfe(l)===qfe(u)?(e[s]=Math.max(Bi(Yfe(l),Yfe(u),r),0),(Vd.test(u)||Vd.test(l))&&(e[s]+="%")):e[s]=u}(t.rotate||n.rotate)&&(e.rotate=Bi(t.rotate||0,n.rotate||0,r))}function Zfe(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Zon=FPe(0,.5,uPe),Xon=FPe(.5,.95,fo);function FPe(e,t,n){return r=>r<e?0:r>t?1:n(i5(e,t,r))}function Xfe(e,t){e.min=t.min,e.max=t.max}function Jl(e,t){Xfe(e.x,t.x),Xfe(e.y,t.y)}function Jfe(e,t,n,r,i){return e-=t,e=aD(e,1/n,r),i!==void 0&&(e=aD(e,1/i,r)),e}function Jon(e,t=0,n=1,r=.5,i,o=e,a=e){if(Vd.test(t)&&(t=parseFloat(t),t=Bi(a.min,a.max,t/100)-a.min),typeof t!="number")return;let s=Bi(o.min,o.max,r);e===o&&(s-=t),e.min=Jfe(e.min,t,n,s,i),e.max=Jfe(e.max,t,n,s,i)}function Qfe(e,t,[n,r,i],o,a){Jon(e,t[n],t[r],t[i],t.scale,o,a)}const Qon=["x","scaleX","originX"],ean=["y","scaleY","originY"];function ehe(e,t,n,r){Qfe(e.x,t,Qon,n?n.x:void 0,r?r.x:void 0),Qfe(e.y,t,ean,n?n.y:void 0,r?r.y:void 0)}function the(e){return e.translate===0&&e.scale===1}function LPe(e){return the(e.x)&&the(e.y)}function tan(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function NPe(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function nhe(e){return Bl(e.x)/Bl(e.y)}class nan{constructor(){this.members=[]}add(t){GZ(this.members,t),t.scheduleRender()}remove(t){if(KZ(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rhe(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const a=e.x.scale*t.x,s=e.y.scale*t.y;return(a!==1||s!==1)&&(r+=`scale(${a}, ${s})`),r||"none"}const ran=(e,t)=>e.depth-t.depth;class ian{constructor(){this.children=[],this.isDirty=!1}add(t){GZ(this.children,t),this.isDirty=!0}remove(t){KZ(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ran),this.isDirty=!1,this.children.forEach(t)}}function oan(e,t){const n=H1.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(Wh(r),e(o-t))};return ji.read(r,!0),()=>Wh(r)}function aan(e){window.MotionDebug&&window.MotionDebug.record(e)}function san(e){return e instanceof SVGElement&&e.tagName!=="svg"}function lan(e,t,n){const r=ol(e)?e:Cx(e);return r.start(WZ("",r,t,n)),r.animation}const ihe=["","X","Y","Z"],can={visibility:"hidden"},ohe=1e3;let uan=0;const r1={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function BPe({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},s=t==null?void 0:t()){this.id=uan++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,r1.totalNodes=r1.resolvedTargetDeltas=r1.recalculatedProjection=0,this.nodes.forEach(han),this.nodes.forEach(van),this.nodes.forEach(ban),this.nodes.forEach(pan),aan(r1)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new ian)}addEventListener(a,s){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new YZ),this.eventHandlers.get(a).add(s)}notifyListeners(a,...s){const l=this.eventHandlers.get(a);l&&l.notify(...s)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,s=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=san(a),this.instance=a;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(u||l)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=oan(h,250),hI.hasAnimatedSinceResize&&(hI.hasAnimatedSinceResize=!1,this.nodes.forEach(she))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||San,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=d.getProps(),v=!this.targetLayout||!NPe(this.targetLayout,g)||m,w=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const C={...HZ(y,"layout"),onPlay:x,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else h||she(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Wh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xan),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ahe);return}this.isUpdating||this.nodes.forEach(gan),this.isUpdating=!1,window.HandoffCancelAllAnimations&&window.HandoffCancelAllAnimations(),this.nodes.forEach(yan),this.nodes.forEach(dan),this.nodes.forEach(fan),this.clearAllSnapshots();const s=H1.now();ma.delta=Qm(0,1e3/60,s-ma.timestamp),ma.timestamp=s,ma.isProcessing=!0,UF.update.process(ma),UF.preRender.process(ma),UF.render.process(ma),ma.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_Z.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(man),this.sharedNodes.forEach(wan)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ji.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ji.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=oo(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let s=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(s=!1),s&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform,s=this.projectionDelta&&!LPe(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(s||n1(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return a&&(l=this.removeTransform(l)),Ean(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return oo();const s=a.measureViewportBox(),{scroll:l}=this.root;return l&&(Gp(s.x,l.offset.x),Gp(s.y,l.offset.y)),s}removeElementScroll(a){const s=oo();Jl(s,a);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Jl(s,a);const{scroll:h}=this.root;h&&(Gp(s.x,-h.offset.x),Gp(s.y,-h.offset.y))}Gp(s.x,d.offset.x),Gp(s.y,d.offset.y)}}return s}applyTransform(a,s=!1){const l=oo();Jl(l,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!s&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Zv(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),n1(d.latestValues)&&Zv(l,d.latestValues)}return n1(this.latestValues)&&Zv(l,this.latestValues),l}removeTransform(a){const s=oo();Jl(s,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!n1(u.latestValues))continue;AV(u.latestValues)&&u.updateSnapshot();const d=oo(),f=u.measurePageBox();Jl(d,f),ehe(s,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return n1(this.latestValues)&&ehe(s,this.latestValues),s}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ma.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var s;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=ma.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=oo(),this.relativeTargetOrigin=oo(),LS(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Jl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=oo(),this.targetWithTransforms=oo()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_on(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Jl(this.target,this.layout.layoutBox),DPe(this.target,this.targetDelta)):Jl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=oo(),this.relativeTargetOrigin=oo(),LS(this.relativeTargetOrigin,this.target,m.target),Jl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}r1.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||AV(this.parent.latestValues)||$Pe(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const s=this.getLead(),l=!!this.resumingFrom||this!==s;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ma.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Jl(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;Pon(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=oo());const{target:g}=s;if(!g){this.projectionTransform&&(this.projectionDelta=qv(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=qv(),this.projectionDeltaWithTransform=qv());const y=this.projectionTransform;FS(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=rhe(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),r1.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const s=this.getStack();s&&s.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,s=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},f=qv();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const h=oo(),m=l?l.source:void 0,g=this.layout?this.layout.source:void 0,y=m!==g,x=this.getStack(),b=!x||x.members.length<=1,v=!!(y&&!b&&this.options.crossfade===!0&&!this.path.some(kan));this.animationProgress=0;let w;this.mixTargetDelta=C=>{const k=C/1e3;lhe(f.x,a.x,k),lhe(f.y,a.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(LS(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Can(this.relativeTarget,this.relativeTargetOrigin,h,k),w&&tan(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=oo()),Jl(w,this.relativeTarget)),y&&(this.animationValues=d,qon(d,u,this.latestValues,k,v,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Wh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ji.update(()=>{hI.hasAnimatedSinceResize=!0,this.currentAnimation=lan(0,ohe,{...a,onUpdate:s=>{this.mixTargetDelta(s),a.onUpdate&&a.onUpdate(s)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ohe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:s,target:l,layout:u,latestValues:d}=a;if(!(!s||!l||!u)){if(this!==a&&this.layout&&u&&VPe(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||oo();const f=Bl(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+f;const h=Bl(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+h}Jl(s,l),Zv(s,d),FS(this.projectionDeltaWithTransform,this.layoutCorrected,s,d)}}registerSharedNode(a,s){this.sharedNodes.has(a)||this.sharedNodes.set(a,new nan),this.sharedNodes.get(a).add(s);const u=s.options.initialPromotionConfig;s.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(s):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:s}=this.options;return s?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:s}=this.options;return s?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:s,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let s=!1;const{latestValues:l}=a;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(s=!0),!s)return;const u={};for(let d=0;d<ihe.length;d++){const f="rotate"+ihe[d];l[f]&&(u[f]=l[f],a.setStaticValue(f,0))}a.render();for(const d in u)a.setStaticValue(d,u[d]);a.scheduleRender()}getProjectionStyles(a){var s,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return can;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=dI(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=dI(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!n1(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=rhe(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:m,y:g}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(s=h.opacity)!==null&&s!==void 0?s:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in J$){if(h[y]===void 0)continue;const{correct:x,applyTo:b}=J$[y],v=u.transform==="none"?h[y]:x(h[y],f);if(b){const w=b.length;for(let C=0;C<w;C++)u[b[C]]=v}else u[y]=v}return this.options.layoutId&&(u.pointerEvents=f===this?dI(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var s;return(s=a.currentAnimation)===null||s===void 0?void 0:s.stop()}),this.root.nodes.forEach(ahe),this.root.sharedNodes.clear()}}}function dan(e){e.updateLayout()}function fan(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:o}=e.options,a=n.source!==e.layout.source;o==="size"?ic(f=>{const h=a?n.measuredBox[f]:n.layoutBox[f],m=Bl(h);h.min=r[f].min,h.max=h.min+m}):VPe(o,n.layoutBox,r)&&ic(f=>{const h=a?n.measuredBox[f]:n.layoutBox[f],m=Bl(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const s=qv();FS(s,r,n.layoutBox);const l=qv();a?FS(l,e.applyTransform(i,!0),n.measuredBox):FS(l,r,n.layoutBox);const u=!LPe(s);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const g=oo();LS(g,n.layoutBox,h.layoutBox);const y=oo();LS(y,r,m.layoutBox),NPe(g,y)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:s,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function han(e){r1.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function pan(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function man(e){e.clearSnapshot()}function ahe(e){e.clearMeasurements()}function gan(e){e.isLayoutDirty=!1}function yan(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function she(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function van(e){e.resolveTargetDelta()}function ban(e){e.calcProjection()}function xan(e){e.resetRotation()}function wan(e){e.removeLeadSnapshot()}function lhe(e,t,n){e.translate=Bi(t.translate,0,n),e.scale=Bi(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function che(e,t,n,r){e.min=Bi(t.min,n.min,r),e.max=Bi(t.max,n.max,r)}function Can(e,t,n,r){che(e.x,t.x,n.x,r),che(e.y,t.y,n.y,r)}function kan(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const San={duration:.45,ease:[.4,0,.1,1]},uhe=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),dhe=uhe("applewebkit/")&&!uhe("chrome/")?Math.round:fo;function fhe(e){e.min=dhe(e.min),e.max=dhe(e.max)}function Ean(e){fhe(e.x),fhe(e.y)}function VPe(e,t,n){return e==="position"||e==="preserve-aspect"&&!_V(nhe(t),nhe(n),.2)}const _an=BPe({attachResizeListener:(e,t)=>sh(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),QF={current:void 0},zPe=BPe({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!QF.current){const e=new _an({});e.mount(window),e.setOptions({layoutScroll:!0}),QF.current=e}return QF.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Tan={pan:{Feature:Uon},drag:{Feature:zon,ProjectionNode:zPe,MeasureLayout:PPe}},Aan=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function jan(e){const t=Aan.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function IV(e,t,n=1){const[r,i]=jan(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const a=o.trim();return SPe(a)?parseFloat(a):a}else return Q$(i)?IV(i,t,n+1):i}function Ian(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const o=i.get();if(!Q$(o))return;const a=IV(o,r);a&&i.set(a)});for(const i in t){const o=t[i];if(!Q$(o))continue;const a=IV(o,r);a&&(t[i]=a,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:t,transitionEnd:n}}const $an=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),UPe=e=>$an.has(e),Dan=e=>Object.keys(e).some(UPe),hhe=e=>e===Uw||e===Mt,phe=(e,t)=>parseFloat(e.split(", ")[t]),mhe=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return phe(i[1],t);{const o=r.match(/^matrix\((.+)\)$/);return o?phe(o[1],e):0}},Oan=new Set(["x","y","z"]),Man=YE.filter(e=>!Oan.has(e));function Pan(e){const t=[];return Man.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const kx={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:mhe(4,13),y:mhe(5,14)};kx.translateX=kx.x;kx.translateY=kx.y;const Ran=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,o=getComputedStyle(i),{display:a}=o,s={};a==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{s[u]=kx[u](r,o)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(s[u]),e[u]=kx[u](l,o)}),e},Fan=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(UPe);let o=[],a=!1;const s=[];if(i.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=YC(d);const h=t[l];let m;if(tD(h)){const g=h.length,y=h[0]===null?1:0;d=h[y],f=YC(d);for(let x=y;x<g&&h[x]!==null;x++)m?LZ(YC(h[x])===m):m=YC(h[x])}else m=YC(h);if(f!==m)if(hhe(f)&&hhe(m)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof h=="string"?t[l]=parseFloat(h):Array.isArray(h)&&m===Mt&&(t[l]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||h===0)?d===0?u.set(m.transform(d)):t[l]=f.transform(h):(a||(o=Pan(e),a=!0),s.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(h))}),s.length){const l=s.indexOf("height")>=0?window.pageYOffset:null,u=Ran(t,e,s);return o.length&&o.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),XP&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Lan(e,t,n,r){return Dan(t)?Fan(e,t,n,r):{target:t,transitionEnd:r}}const Nan=(e,t,n,r)=>{const i=Ian(e,t,r);return t=i.target,r=i.transitionEnd,Lan(e,t,n,r)},$V={current:null},HPe={current:!1};function Ban(){if(HPe.current=!0,!!XP)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>$V.current=e.matches;e.addListener(t),t()}else $V.current=!1}function Van(e,t,n){const{willChange:r}=t;for(const i in t){const o=t[i],a=n[i];if(ol(o))e.addValue(i,o),oD(r)&&r.add(i);else if(ol(a))e.addValue(i,Cx(o,{owner:e})),oD(r)&&r.remove(i);else if(a!==o)if(e.hasValue(i)){const s=e.getValue(i);!s.hasAnimated&&s.set(o)}else{const s=e.getStaticValue(i);e.addValue(i,Cx(s!==void 0?s:o,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const ghe=new WeakMap,WPe=Object.keys(r5),zan=WPe.length,yhe=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Uan=AZ.length;class Han{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ji.render(this.render,!1,!0);const{latestValues:s,renderState:l}=o;this.latestValues=s,this.baseTarget={...s},this.initialValues=n.initial?{...s}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.isControllingVariants=QP(n),this.isVariantNode=PMe(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];s[f]!==void 0&&ol(h)&&(h.set(s[f],!1),oD(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,ghe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),HPe.current||Ban(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$V.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ghe.delete(this.current),this.projection&&this.projection.unmount(),Wh(this.notifyUpdate),Wh(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=l0.has(t),i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&ji.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,o){let a,s;for(let l=0;l<zan;l++){const u=WPe[l],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:m}=r5[u];h&&(a=h),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(s=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||f&&Kv(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:h,layoutRoot:m})}return s}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):oo()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<yhe.length;r++){const i=yhe[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=t["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Van(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Uan;r++){const i=AZ[r],o=this.props[i];(n5(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Cx(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=FZ(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!ol(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new YZ),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class GPe extends Han{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},i){const o=son(r,t||{},this);if(i){oon(this,r,o);const a=Nan(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function Wan(e){return window.getComputedStyle(e)}class Gan extends GPe{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(l0.has(n)){const r=UZ(n);return r&&r.default||0}else{const r=Wan(t),i=(NMe(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return OPe(t,n)}build(t,n,r,i){DZ(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return RZ(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ol(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){HMe(t,n,r,i)}}class Kan extends GPe{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(l0.has(n)){const r=UZ(n);return r&&r.default||0}return n=WMe.has(n)?n:EZ(n),t.getAttribute(n)}measureInstanceViewportBox(){return oo()}scrapeMotionValuesFromProps(t,n){return KMe(t,n)}build(t,n,r,i){MZ(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){GMe(t,n,r,i)}mount(t){this.isSVGTag=PZ(t.tagName),super.mount(t)}}const Yan=(e,t)=>IZ(e)?new Kan(t,{enableHardwareAcceleration:!1}):new Gan(t,{enableHardwareAcceleration:!0}),qan={layout:{ProjectionNode:zPe,MeasureLayout:PPe}},Zan={...Con,...Rrn,...Tan,...qan},na=Gnn((e,t)=>krn(e,t,Zan,Yan));function KPe(){const e=p.useRef(!1);return SZ(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Xan(){const e=KPe(),[t,n]=p.useState(0),r=p.useCallback(()=>{e.current&&n(t+1)},[t]);return[p.useCallback(()=>ji.postRender(r),[r]),t]}class Jan extends p.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Qan({children:e,isPresent:t}){const n=p.useId(),r=p.useRef(null),i=p.useRef({width:0,height:0,top:0,left:0});return p.useInsertionEffect(()=>{const{width:o,height:a,top:s,left:l}=i.current;if(t||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${s}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),p.createElement(Jan,{isPresent:t,childRef:r,sizeRef:i},p.cloneElement(e,{ref:r}))}const eL=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:a})=>{const s=YMe(esn),l=p.useId(),u=p.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:d=>{s.set(d,!0);for(const f of s.values())if(!f)return;r&&r()},register:d=>(s.set(d,!1),()=>s.delete(d))}),o?void 0:[n]);return p.useMemo(()=>{s.forEach((d,f)=>s.set(f,!1))},[n]),p.useEffect(()=>{!n&&!s.size&&r&&r()},[n]),a==="popLayout"&&(e=p.createElement(Qan,{isPresent:n},e)),p.createElement(ZP.Provider,{value:u},e)};function esn(){return new Map}function tsn(e){return p.useEffect(()=>()=>e(),[])}const i1=e=>e.key||"";function nsn(e,t){e.forEach(n=>{const r=i1(n);t.set(r,n)})}function rsn(e){const t=[];return p.Children.forEach(e,n=>{p.isValidElement(n)&&t.push(n)}),t}const hf=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:a="sync"})=>{const s=p.useContext(jZ).forceRender||Xan()[0],l=KPe(),u=rsn(e);let d=u;const f=p.useRef(new Map).current,h=p.useRef(d),m=p.useRef(new Map).current,g=p.useRef(!0);if(SZ(()=>{g.current=!1,nsn(u,m),h.current=d}),tsn(()=>{g.current=!0,m.clear(),f.clear()}),g.current)return p.createElement(p.Fragment,null,d.map(v=>p.createElement(eL,{key:i1(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:a},v)));d=[...d];const y=h.current.map(i1),x=u.map(i1),b=y.length;for(let v=0;v<b;v++){const w=y[v];x.indexOf(w)===-1&&!f.has(w)&&f.set(w,void 0)}return a==="wait"&&f.size&&(d=[]),f.forEach((v,w)=>{if(x.indexOf(w)!==-1)return;const C=m.get(w);if(!C)return;const k=y.indexOf(w);let S=v;if(!S){const E=()=>{f.delete(w);const _=Array.from(m.keys()).filter(T=>!x.includes(T));if(_.forEach(T=>m.delete(T)),h.current=u.filter(T=>{const A=i1(T);return A===w||_.includes(A)}),!f.size){if(l.current===!1)return;s(),r&&r()}};S=p.createElement(eL,{key:i1(C),isPresent:!1,onExitComplete:E,custom:t,presenceAffectsLayout:o,mode:a},C),f.set(w,S)}d.splice(k,0,S)}),d=d.map(v=>{const w=v.key;return f.has(w)?v:p.createElement(eL,{key:i1(v),isPresent:!0,presenceAffectsLayout:o,mode:a},v)}),p.createElement(p.Fragment,null,f.size?d:d.map(v=>p.cloneElement(v)))};function isn(e){return!!e&&(typeof e=="object"||typeof e=="function")}function tL(e){return isn(e)&&e._type==="span"&&typeof e.text=="string"&&("marks"in e?Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"):!0)}var YPe={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},qPe={0:8203,1:8204,2:8205,3:65279};new Array(4).fill(String.fromCodePoint(qPe[0])).join("");Object.fromEntries(Object.entries(qPe).map(e=>e.reverse()));Object.fromEntries(Object.entries(YPe).map(e=>e.reverse()));`${Object.values(YPe).map(e=>`\\u{${e.toString(16)}}`).join("")}`;const qZ="normal",vd=Object.freeze({_type:"block",markDefs:[],style:qZ}),osn={p:vd,blockquote:{...vd,style:"blockquote"}},asn={span:{object:"text"}},ssn={ol:{object:null},ul:{object:null}},lsn={h1:{...vd,style:"h1"},h2:{...vd,style:"h2"},h3:{...vd,style:"h3"},h4:{...vd,style:"h4"},h5:{...vd,style:"h5"},h6:{...vd,style:"h6"}},csn={br:{...vd,style:qZ}},usn={b:"strong",strong:"strong",i:"em",em:"em",u:"underline",s:"strike-through",strike:"strike-through",del:"strike-through",code:"code",sup:"sup",sub:"sub",ins:"ins",mark:"mark",small:"small"},dsn={li:{...vd,style:qZ,level:1,listItem:"bullet"}},fsn={...osn,...asn,...ssn,...dsn,...lsn,...csn};Io(Object.values(fsn).filter(e=>"style"in e).map(e=>e.style));Io(Object.values(usn));function hsn(e=16){const t=new Uint8Array(e);return jE(t),t}const ZPe=[];for(let e=0;e<256;++e)ZPe[e]=(e+256).toString(16).slice(1);function vhe(e){return hsn(e).reduce((t,n)=>t+ZPe[n],"").slice(0,e)}function XPe(e,t={}){if(e._type!==(t.blockTypeName||"block"))return"_key"in e?e:{...e,_key:vhe(12)};const n={_key:vhe(12),children:[],markDefs:[],...e},r=n.children[n.children.length-1];if(!r)return n.children=[{_type:"span",_key:`${n._key}0`,text:"",marks:[]}],n;const i=[],o=t.allowedDecorators&&Array.isArray(t.allowedDecorators)?t.allowedDecorators:!1;return n.children=n.children.reduce((a,s)=>{const l=a[a.length-1];return l&&tL(s)&&tL(l)&&Dt(l.marks,s.marks)?(r&&r===s&&s.text===""&&n.children.length>1||(l.text+=s.text),a):(a.push(s),a)},[]).map((a,s)=>{if(!a)throw new Error("missing child");return a._key=`${n._key}${s}`,tL(a)&&(a.marks?o&&(a.marks=a.marks.filter(l=>{var f;const u=o.includes(l),d=(f=n.markDefs)==null?void 0:f.some(h=>h._key===l);return u||d})):a.marks=[],i.push(...a.marks)),a}),n.markDefs=(n.markDefs||[]).filter(a=>i.includes(a._key)),n}var psn=Ry;function msn(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(a!=null&&(s===void 0?a===a&&!psn(a):n(a,s)))var s=a,l=o}return l}var JPe=msn;function gsn(e,t){return e>t}var ysn=gsn,vsn=JPe,bsn=ysn,xsn=Gy;function wsn(e){return e&&e.length?vsn(e,xsn,bsn):void 0}var Csn=wsn;const ksn=Ue(Csn);function Ssn(e,t){return e<t}var Esn=Ssn,_sn=JPe,Tsn=Esn,Asn=Gy;function jsn(e){return e&&e.length?_sn(e,Asn,Tsn):void 0}var Isn=jsn;const $sn=Ue(Isn);var pA,Dsn=new Uint8Array(16);function Osn(){if(!pA&&(pA=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!pA))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return pA(Dsn)}const Msn=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Psn(e){return typeof e=="string"&&Msn.test(e)}var fa=[];for(var nL=0;nL<256;++nL)fa.push((nL+256).toString(16).substr(1));function Rsn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(fa[e[t+0]]+fa[e[t+1]]+fa[e[t+2]]+fa[e[t+3]]+"-"+fa[e[t+4]]+fa[e[t+5]]+"-"+fa[e[t+6]]+fa[e[t+7]]+"-"+fa[e[t+8]]+fa[e[t+9]]+"-"+fa[e[t+10]]+fa[e[t+11]]+fa[e[t+12]]+fa[e[t+13]]+fa[e[t+14]]+fa[e[t+15]]).toLowerCase();if(!Psn(n))throw TypeError("Stringified UUID is invalid");return n}function Ca(e,t,n){e=e||{};var r=e.random||(e.rng||Osn)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return Rsn(r)}const Pn=zi("mutator-document");class hd{constructor(t,n){Z(this,"_value");Z(this,"path");this._value=t,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}get(){return this._value}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(t){return Array.isArray(this._value)?t>=this.length()?null:new hd(this._value[t],this.path.concat(t)):!1}hasAttribute(t){return ZC(this._value)?this._value.hasOwnProperty(t):!1}attributeKeys(){return ZC(this._value)?Object.keys(this._value):[]}getAttribute(t){if(!ZC(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(t)?new hd(this._value[t],this.path.concat(t)):null}set(t){return t===this._value?this:new hd(t,this.path)}setIndex(t,n){if(!Array.isArray(this._value))throw new Error("setIndex only applies to arrays");if(Object.is(n,this._value[t]))return this;const r=this._value.slice();return r[t]=n,new hd(r,this.path)}setIndexAccessor(t,n){return this.setIndex(t,n.get())}unsetIndices(t){if(!Array.isArray(this._value))throw new Error("unsetIndices only applies to arrays");const n=this._value.length,r=[];for(let i=0;i<n;i++)t.indexOf(i)===-1&&r.push(this._value[i]);return new hd(r,this.path)}insertItemsAt(t,n){if(!Array.isArray(this._value))throw new Error("insertItemsAt only applies to arrays");let r;return this._value.length===0&&t===0?r=n:r=this._value.slice(0,t).concat(n).concat(this._value.slice(t)),new hd(r,this.path)}setAttribute(t,n){if(!ZC(this._value))throw new Error("Unable to set attribute of non-object container");if(Object.is(n,this._value[t]))return this;const r=Object.assign({},this._value,{[t]:n});return new hd(r,this.path)}setAttributeAccessor(t,n){return this.setAttribute(t,n.get())}unsetAttribute(t){if(!ZC(this._value))throw new Error("Unable to unset attribute of non-object container");const n=Object.assign({},this._value);return delete n[t],new hd(n,this.path)}}function ZC(e){return e!==null&&typeof e=="object"}function pI(e){return e!==null&&typeof e=="object"}const Fsn=/^[a-z_$]+/;function QPe(e){let t="";return e.forEach((n,r)=>{t+=Lsn(n,r===0)}),t}function Lsn(e,t){if(typeof e=="number")return`[${e}]`;if(pI(e)){const n=e;return Object.keys(e).map(r=>Nsn(n[r])?`[${r}=="${n[r]}"]`:"").join("")}return typeof e=="string"&&Fsn.test(e)?t?e:`.${e}`:`['${e}']`}function Nsn(e){switch(typeof e){case"number":case"string":case"boolean":return!0;default:return!1}}function Bsn(e){const[t,n]=eRe(e);if(!t)throw new Error("Head cannot be null");return zsn(t,n)}function eRe(e){if(e.type!=="path")return[e,null];const t=e.nodes;return t.length===0?[null,null]:t.length===1?[t[0],null]:[t[0],{type:"path",nodes:t.slice(1)}]}function Vsn(e,t){if(!e&&!t)return null;const n=e?e.nodes:[],r=t?t.nodes:[];return{type:"path",nodes:n.concat(r)}}function zsn(e,t){return e.type!=="union"?[[e,t]]:e.nodes.map(n=>{if(n.type==="path"){const[r,i]=eRe(n);return[r,Vsn(i,t)]}return[n,t]})}const Usn=/[0-9]/,rL=/^[a-zA-Z0-9_]$/,Hsn=/^[a-zA-Z_]$/,tRe={operator:["..",".",",",":","?"],comparator:[">=","<=","<",">","==","!="],keyword:["$","@"],boolean:["true","false"],paren:["[","]"]},Wsn=Object.keys(tRe);class Gsn{constructor(t){Z(this,"source");Z(this,"i");Z(this,"length");Z(this,"tokenizers");this.source=t,this.length=t.length,this.i=0,this.tokenizers=[this.tokenizeSymbol,this.tokenizeIdentifier,this.tokenizeNumber,this.tokenizeQuoted].map(n=>n.bind(this))}tokenize(){const t=[];for(;!this.EOF();){this.chompWhitespace();let n=null;if(!this.tokenizers.some(r=>(n=r(),!!n))||!n)throw new Error(`Invalid tokens in jsonpath '${this.source}' @ ${this.i}`);t.push(n)}return t}takeWhile(t){const n=this.i;let r="";for(;!this.EOF();){const i=t(this.source[this.i]);if(i===null)break;r+=i,this.i++}return this.i===n?null:r}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.source[this.i]}consume(t){if(this.i+t.length>this.length)throw new Error(`Expected ${t} at end of jsonpath`);if(t===this.source.slice(this.i,this.i+t.length))this.i+=t.length;else throw new Error(`Expected "${t}", but source contained "${this.source.slice()}`)}tryConsume(t){if(this.i+t.length>this.length)return null;if(t===this.source.slice(this.i,this.i+t.length)){if(t[0].match(rL)&&this.length>this.i+t.length){const n=this.source[this.i+t.length];if(n&&n.match(rL))return null}return this.i+=t.length,t}return null}chompWhitespace(){this.takeWhile(t=>t===" "?"":null)}tokenizeQuoted(){const t=this.peek();if(t==="'"||t==='"'){this.consume(t);let n=!1;const r=this.takeWhile(i=>n?(n=!1,i):i==="\\"?(n=!0,""):i!=t?i:null);return this.consume(t),{type:"quoted",value:r,quote:t==='"'?"double":"single"}}return null}tokenizeIdentifier(){let t=!0;const n=this.takeWhile(r=>t?(t=!1,r.match(Hsn)?r:null):r.match(rL)?r:null);return n!==null?{type:"identifier",name:n}:null}tokenizeNumber(){const t=this.i;let n=!1,r=!1,i=!1;this.peek()==="-"&&(i=!0,this.consume("-"));const o=this.takeWhile(a=>a==="."&&!n&&r?(n=!0,a):(r=!0,a.match(Usn)?a:null));return o!==null?{type:"number",value:i?-o:+o,raw:i?`-${o}`:o}:(this.i=t,null)}tokenizeSymbol(){for(const t of Wsn){const n=tRe[t].find(r=>this.tryConsume(r));if(n)return{type:t,symbol:n}}return null}}function Ksn(e){return new Gsn(e).tokenize()}class Ysn{constructor(t){Z(this,"tokens");Z(this,"length");Z(this,"i");this.tokens=Ksn(t),this.length=this.tokens.length,this.i=0}parse(){return this.parsePath()}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.tokens[this.i]}consume(){const t=this.peek();return this.i+=1,t}probe(t){const n=this.peek();if(!n)return null;const r=n;return Object.keys(t).every(i=>i in n&&t[i]===r[i])?n:null}match(t){return this.probe(t)?this.consume():null}parseAttribute(){const t=this.match({type:"identifier"});if(t&&t.type==="identifier")return{type:"attribute",name:t.name};const n=this.match({type:"quoted",quote:"single"});return n&&n.type==="quoted"?{type:"attribute",name:n.value||""}:null}parseAlias(){return this.match({type:"keyword",symbol:"@"})||this.match({type:"keyword",symbol:"$"})?{type:"alias",target:"self"}:null}parseNumber(){const t=this.match({type:"number"});return t&&t.type==="number"?{type:"number",value:t.value}:null}parseNumberValue(){const t=this.parseNumber();return t?t.value:null}parseSliceSelector(){const t=this.i,n=this.parseNumberValue();if(!this.match({type:"operator",symbol:":"}))return n===null?(this.i=t,null):{type:"index",value:n};const r={type:"range",start:n,end:this.parseNumberValue()};return this.match({type:"operator",symbol:":"})&&(r.step=this.parseNumberValue()),r.start===null&&r.end===null?(this.i=t,null):r}parseValueReference(){return this.parseAttribute()||this.parseSliceSelector()}parseLiteralValue(){const t=this.match({type:"quoted",quote:"double"});if(t&&t.type==="quoted")return{type:"string",value:t.value||""};const n=this.match({type:"boolean"});return n&&n.type==="boolean"?{type:"boolean",value:n.symbol==="true"}:this.parseNumber()}parseFilterExpression(){const t=this.i,n=this.parseAttribute()||this.parseAlias();if(!n)return null;if(this.match({type:"operator",symbol:"?"}))return{type:"constraint",operator:"?",lhs:n};const r=this.match({type:"comparator"});if(!r||r.type!=="comparator")return this.i=t,null;const i=n,o=this.parseLiteralValue();if(!o)throw new Error(`Operator ${r.symbol} needs a literal value at the right hand side`);return{type:"constraint",operator:r.symbol,lhs:i,rhs:o}}parseExpression(){return this.parseFilterExpression()||this.parseValueReference()}parseUnion(){if(!this.match({type:"paren",symbol:"["}))return null;const t=[];let n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference();for(;n&&(t.push(n),!this.match({type:"paren",symbol:"]"}));){if(!this.match({type:"operator",symbol:","}))throw new Error("Expected ]");if(n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference(),!n)throw new Error("Expected expression following ','")}return{type:"union",nodes:t}}parseRecursive(){if(!this.match({type:"operator",symbol:".."}))return null;const t=this.parsePath();if(!t)throw new Error("Expected path following '..' operator");return{type:"recursive",term:t}}parsePath(){const t=[],n=this.parseAttribute()||this.parseUnion()||this.parseRecursive();if(!n)return null;for(t.push(n);!this.EOF();)if(this.match({type:"operator",symbol:"."})){const r=this.parseAttribute();if(!r)throw new Error("Expected attribute name following '.");t.push(r);continue}else if(this.probe({type:"paren",symbol:"["})){const r=this.parseUnion();if(!r)throw new Error("Expected union following '['");t.push(r)}else{const r=this.parseRecursive();r&&t.push(r);break}return t.length===1?t[0]:{type:"path",nodes:t}}}function nRe(e){const t=new Ysn(e).parse();if(!t)throw new Error(`Failed to parse JSON path "${e}"`);return t}function rRe(e){return lv(e,!1)}function lv(e,t){switch(e.type){case"attribute":return e.name;case"alias":return e.target==="self"?"@":"$";case"number":return`${e.value}`;case"range":{const n=[];return t||n.push("["),e.start&&n.push(`${e.start}`),n.push(":"),e.end&&n.push(`${e.end}`),e.step&&n.push(`:${e.step}`),t||n.push("]"),n.join("")}case"index":return t?`${e.value}`:`[${e.value}]`;case"constraint":{const n=e.rhs?` ${lv(e.rhs,!1)}`:"",r=`${lv(e.lhs,!1)} ${e.operator}${n}`;return t?r:`[${r}]`}case"string":return JSON.stringify(e.value);case"path":{const n=[],r=e.nodes.slice();for(;r.length>0;){const i=r.shift();i&&n.push(rRe(i));const o=r[0];o&&lv(o,!1)[0]!=="["&&n.push(".")}return n.join("")}case"union":return`[${e.nodes.map(n=>lv(n,!0)).join(",")}]`;default:throw new Error(`Unknown node type ${e.type}`);case"recursive":return`..${lv(e.term,!1)}`}}class kl{constructor(t){Z(this,"expr");if(!t)throw new Error("Attempted to create Expression from null-value");if("expr"in t?this.expr=t.expr:this.expr=t,!("type"in this.expr))throw new Error("Attempt to create Expression for expression with no type")}isPath(){return this.expr.type==="path"}isUnion(){return this.expr.type==="union"}isCollection(){return this.isPath()||this.isUnion()}isConstraint(){return this.expr.type==="constraint"}isRecursive(){return this.expr.type==="recursive"}isExistenceConstraint(){return this.expr.type==="constraint"&&this.expr.operator==="?"}isIndex(){return this.expr.type==="index"}isRange(){return this.expr.type==="range"}expandRange(t){const n=()=>{if(!t)throw new Error("expandRange() required a probe that was not passed");return t.length()};let r="start"in this.expr&&this.expr.start||0;r=iL(r,t);let i="end"in this.expr&&this.expr.end||n();i=iL(i,t);const o="step"in this.expr&&this.expr.step||1;return{start:r,end:i,step:o}}isAttributeReference(){return this.expr.type==="attribute"}isIndexReference(){return this.isIndex()||this.isRange()}name(){return"name"in this.expr?this.expr.name:""}isSelfReference(){return this.expr.type==="alias"&&this.expr.target==="self"}constraintTargetIsSelf(){return this.expr.type==="constraint"&&this.expr.lhs.type==="alias"&&this.expr.lhs.target==="self"}constraintTargetIsAttribute(){return this.expr.type==="constraint"&&this.expr.lhs.type==="attribute"}testConstraint(t){const n=this.expr;if(n.type==="constraint"&&n.lhs.type==="alias"&&n.lhs.target==="self"){if(t.containerType()!=="primitive")return!1;if(n.type==="constraint"&&n.operator==="?")return!0;const a=t.get(),s=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return bhe(a,n.operator,s)}if(n.type!=="constraint")return!1;const r=n.lhs;if(!r)throw new Error("No LHS of expression");if(r.type!=="attribute")throw new Error(`Constraint target ${r.type} not supported`);if(t.containerType()!=="object")return!1;const i=t.getAttribute(r.name);if(i==null||i.containerType()!=="primitive")return!1;if(this.isExistenceConstraint())return!0;const o=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return bhe(i.get(),n.operator,o)}pathNodes(){return this.expr.type==="path"?this.expr.nodes:[this.expr]}prepend(t){return t?new kl({type:"path",nodes:t.pathNodes().concat(this.pathNodes())}):this}concat(t){return t?t.prepend(this):this}descend(){return Bsn(this.expr).map(t=>{const[n,r]=t;return{head:n?new kl(n):null,tail:r?new kl(r):null}})}unwrapRecursive(){if(this.expr.type!=="recursive")throw new Error(`Attempt to unwrap recursive on type ${this.expr.type}`);return new kl(this.expr.term)}toIndicies(t){if(this.expr.type!=="index"&&this.expr.type!=="range")throw new Error("Node cannot be converted to indexes");if(this.expr.type==="index")return[iL(this.expr.value,t)];const n=[],r=this.expandRange(t);let{start:i,end:o}=r;r.step<0&&([i,o]=[o,i]);for(let a=i;a<o;a++)n.push(a);return n}toFieldReferences(){if(this.isIndexReference())return this.toIndicies();if(this.expr.type==="attribute")return[this.expr.name];throw new Error(`Can't convert ${this.expr.type} to field references`)}toString(){return rRe(this.expr)}static fromPath(t){const n=nRe(t);if(!n)throw new Error(`Failed to parse path "${t}"`);return new kl(n)}static attributeReference(t){return new kl({type:"attribute",name:t})}static indexReference(t){return new kl({type:"index",value:t})}}function bhe(e,t,n){switch(t){case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n;case"==":return e===n;case"!=":return e!==n;default:throw new Error(`Unsupported binary operator ${t}`)}}function iL(e,t){if(e>=0)return e;if(!t)throw new Error("interpretNegativeIndex() must have a probe when < 0");return e+t.length()}class Xv{constructor(t,n){Z(this,"head");Z(this,"tail");this.head=t,this.tail=n}iterate(t){let n=[this];if(this.head&&this.head.isConstraint()){let r=!0;for(;r;)n=jr(n.map(i=>i.iterateConstraints(t))),r=n.some(i=>i.head&&i.head.isConstraint())}return n}isRecursive(){return!!(this.head&&this.head.isRecursive())}hasArrived(){return this.head===null&&this.tail===null}extractRecursives(){if(this.head&&this.head.isRecursive()){const t=this.head.unwrapRecursive();return new Xv(null,t.concat(this.tail)).descend()}return[]}iterateConstraints(t){const n=this.head;if(n===null||!n.isConstraint())return[this];const r=[];if(t.containerType()==="primitive"&&n.constraintTargetIsSelf())return n.testConstraint(t)&&r.push(...this.descend()),r;if(t.containerType()==="array"){const i=t.length();for(let o=0;o<i;o++){const a=t.getIndex(o);a&&n.testConstraint(a)&&r.push(new Xv(new kl({type:"index",value:o}),this.tail))}return r}return t.containerType()==="object"?n.constraintTargetIsSelf()?[]:n.testConstraint(t)?this.descend():r:r}descend(){return this.tail?this.tail.descend().map(t=>new Xv(t.head,t.tail)):[new Xv(null,null)]}toString(){const t=["<"];return this.head&&t.push(this.head.toString()),t.push("|"),this.tail&&t.push(this.tail.toString()),t.push(">"),t.join("")}}class S1{constructor(t,n){Z(this,"active");Z(this,"recursives");Z(this,"payload");this.active=t||[],n?(this.recursives=n.recursives,this.payload=n.payload):this.recursives=[],this.extractRecursives()}setPayload(t){return this.payload=t,this}extractRecursives(){this.active=this.active.filter(t=>t.isRecursive()?(this.recursives.push(...t.extractRecursives()),!1):!0)}activeRecursives(t){return this.recursives.filter(n=>{const r=n.head;return r?r.isConstraint()||t.containerType()==="array"&&r.isIndexReference()?!0:t.containerType()==="object"?r.isAttributeReference()&&t.hasAttribute(r.name()):!1:!1})}match(t){return this.iterate(t).extractMatches(t)}iterate(t){const n=[];return this.active.concat(this.activeRecursives(t)).forEach(r=>{n.push(...r.iterate(t))}),new S1(n,this)}isDestination(){return this.active.some(t=>t.hasArrived())}hasRecursives(){return this.recursives.length>0}extractMatches(t){const n=[],r=[];if(this.active.forEach(i=>{if(i.hasArrived()){r.push(new kl({type:"alias",target:"self"}));return}const o=i.head;if(o&&!(t.containerType()==="array"&&!o.isIndexReference())&&!(t.containerType()==="object"&&!o.isAttributeReference()))if(i.tail){const a=new S1(i.descend(),this);o.toFieldReferences().forEach(()=>{n.push({target:o,matcher:a})})}else r.push(o)}),this.hasRecursives()){const i=new S1([],this);if(t.containerType()==="array"){const o=t.length();for(let a=0;a<o;a++)n.push({target:kl.indexReference(a),matcher:i})}else t.containerType()==="object"&&t.attributeKeys().forEach(o=>{n.push({target:kl.attributeReference(o),matcher:i})})}return r.length>0?{leads:n,delivery:{targets:r,payload:this.payload}}:{leads:n}}static fromPath(t){const n=nRe(t);if(!n)throw new Error(`Failed to parse path from "${t}"`);const r=new Xv(null,new kl(n));return new S1(r.descend())}}class sD{constructor(t,n){Z(this,"_value");Z(this,"path");this._value=t,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(t){return Array.isArray(this._value)?t>=this.length()?null:new sD(this._value[t],this.path.concat(t)):!1}hasAttribute(t){return pI(this._value)?this._value.hasOwnProperty(t):!1}attributeKeys(){return pI(this._value)?Object.keys(this._value):[]}getAttribute(t){if(!pI(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(t)?new sD(this._value[t],this.path.concat(t)):null}get(){return this._value}}function qsn(e,t){const n=[],r=S1.fromPath(e).setPayload(function(o){n.push(...o)}),i=new sD(t);return iRe(r,i),n}function iRe(e,t){const{leads:n,delivery:r}=e.match(t);n.forEach(i=>{xhe(i.target,t).forEach(o=>{iRe(i.matcher,o)})}),r&&r.targets.forEach(i=>{typeof r.payload=="function"&&r.payload(xhe(i,t))})}function xhe(e,t){const n=[];if(e.isIndexReference())e.toIndicies(t).forEach(r=>{n.push(t.getIndex(r))});else if(e.isAttributeReference())n.push(t.getAttribute(e.name()));else if(e.isSelfReference())n.push(t);else throw new Error(`Unable to derive accessor for target ${e.toString()}`);return aP(n)}function Zsn(e,t){return qsn(e,t).map(n=>({path:n.path,value:n.get()}))}function whe(e,t){if(typeof t!="string")return t;const[n]=BP(e,t,{allowExceedingIndices:!0});return n}class Xsn{constructor(t,n,r){Z(this,"path");Z(this,"dmpPatch");Z(this,"id");this.id=t,this.path=n,this.dmpPatch=lZ(r)}apply(t,n){let r=n;if(r.containerType()==="primitive")return r;for(const i of t){if(i.isIndexReference()){for(const o of i.toIndicies(n)){const a=r.getIndex(o);if(!a)continue;const s=a.get(),l=whe(this.dmpPatch,s);r=r.setIndex(o,l)}continue}if(i.isAttributeReference()&&r.hasAttribute(i.name())){const o=r.getAttribute(i.name());if(!o)continue;const a=o.get(),s=whe(this.dmpPatch,a);r=r.setAttribute(i.name(),s);continue}throw new Error(`Unable to apply diffMatchPatch to target ${i.toString()}`)}return r}}function Che(e,t){return typeof e!="number"||!Number.isFinite(e)?e:e+t}class khe{constructor(t,n,r){Z(this,"path");Z(this,"value");Z(this,"id");this.path=n,this.value=r,this.id=t}apply(t,n){let r=n;if(r.containerType()==="primitive")return r;for(const i of t){if(i.isIndexReference()){for(const o of i.toIndicies(n)){const a=r.getIndex(o);if(!a)continue;const s=a.get();r=r.setIndex(o,Che(s,this.value))}continue}if(i.isAttributeReference()){const o=r.getAttribute(i.name());if(!o)continue;const a=o.get();r=r.setAttribute(i.name(),Che(a,this.value));continue}throw new Error(`Unable to apply to target ${i.toString()}`)}return r}}function nR(e,t){const n=[];return e.forEach(r=>{r.isIndexReference()&&n.push(...r.toIndicies(t))}),n.sort()}class Jsn{constructor(t,n,r,i){Z(this,"location");Z(this,"path");Z(this,"items");Z(this,"id");this.id=t,this.location=n,this.path=r,this.items=i}apply(t,n){let r=n;if(n.containerType()!=="array")throw new Error("Attempt to apply insert patch to non-array value");switch(this.location){case"before":{const i=Qsn(t,n);r=r.insertItemsAt(i,this.items);break}case"after":{const i=eln(t,n);r=r.insertItemsAt(i+1,this.items);break}case"replace":{const i=nR(t,n);r=r.unsetIndices(i),r=r.insertItemsAt(i[0],this.items);break}default:throw new Error(`Unsupported location atm: ${this.location}`)}return r}}function Qsn(e,t){let n=$sn(nR(e,t))||0;return e.forEach(r=>{if(r.isRange()){const{start:i}=r.expandRange();i<n&&(n=i)}}),n}function eln(e,t){let n=ksn(nR(e,t))||0;return e.forEach(r=>{if(r.isRange()){const{end:i}=r.expandRange();i>n&&(n=i)}}),n}class oRe{constructor(t,n,r){Z(this,"id");Z(this,"path");Z(this,"value");this.id=t,this.path=n,this.value=r}apply(t,n){let r=n;return t.forEach(i=>{if(!i.isIndexReference())if(i.isAttributeReference())r.containerType()==="primitive"?r=r.set({[i.name()]:this.value}):r.hasAttribute(i.name())||(r=n.setAttribute(i.name(),this.value));else throw new Error(`Unable to apply to target ${i.toString()}`)}),r}}class aRe{constructor(t,n,r){Z(this,"id");Z(this,"path");Z(this,"value");this.id=t,this.path=n,this.value=r}apply(t,n){let r=n;return t.forEach(i=>{if(i.isSelfReference())r=r.set(this.value);else if(i.isIndexReference())i.toIndicies(n).forEach(o=>{r=r.setIndex(o,this.value)});else if(i.isAttributeReference())r.containerType()==="primitive"?r=r.set({[i.name()]:this.value}):r=r.setAttribute(i.name(),this.value);else throw new Error(`Unable to apply to target ${i.toString()}`)}),r}}class tln{constructor(t,n){Z(this,"id");Z(this,"path");Z(this,"value");this.id=t,this.path=n}apply(t,n){let r=n;switch(n.containerType()){case"array":r=r.unsetIndices(nR(t,n));break;case"object":t.forEach(i=>{r=r.unsetAttribute(i.name())});break;default:throw new Error("Target value is neither indexable or an object. This error should potentially just be silently ignored?")}return r}}function sRe(e){const t=[];if(Array.isArray(e))return e.reduce((u,d)=>u.concat(sRe(d)),t);const{set:n,setIfMissing:r,unset:i,diffMatchPatch:o,inc:a,dec:s,insert:l}=e;if(r&&Object.keys(r).forEach(u=>{t.push(new oRe(e.id,u,r[u]))}),n&&Object.keys(n).forEach(u=>{t.push(new aRe(e.id,u,n[u]))}),i&&i.forEach(u=>{t.push(new tln(e.id,u))}),o&&Object.keys(o).forEach(u=>{t.push(new Xsn(e.id,u,o[u]))}),a&&Object.keys(a).forEach(u=>{t.push(new khe(e.id,u,a[u]))}),s&&Object.keys(s).forEach(u=>{t.push(new khe(e.id,u,-s[u]))}),l){let u,d;const f=l;if("before"in f)u="before",d=f.before;else if("after"in f)u="after",d=f.after;else if("replace"in f)u="replace",d=f.replace;else throw new Error("Invalid insert patch");t.push(new Jsn(e.id,u,d,f.items))}return t}let nln=class{constructor(t){Z(this,"patches");this.patches=sRe(t)}apply(t){const n=new hd(t);return this.applyViaAccessor(n).get()}applyViaAccessor(t){let n=t;const r=t.getAttribute("_id");if(!r)throw new Error("Cannot apply patch to document with no _id");const i=r.get();for(const o of this.patches){if(o.id!==i)continue;const a=S1.fromPath(o.path).setPayload(o);n=DV(a,n)}return n}};function DV(e,t){const n=e.payload instanceof aRe||e.payload instanceof oRe;let r=t;const{leads:i,delivery:o}=e.match(t);return i.forEach(a=>{if(a.target.isIndexReference())a.target.toIndicies().forEach(s=>{const l=r.getIndex(s);if(!l)throw new Error("Index out of bounds");r=r.setIndexAccessor(s,DV(a.matcher,l))});else if(a.target.isAttributeReference()){n&&r.containerType()==="primitive"&&(r=r.set({}));let s=r.getAttribute(a.target.name());if(!s&&n&&(r=r.setAttribute(a.target.name(),{}),s=r.getAttribute(a.target.name())),!s)return;const l=DV(a.matcher,s);s!==l&&(r=r.setAttributeAccessor(a.target.name(),l))}else throw new Error(`Unable to handle target ${a.target.toString()}`)}),o&&rln(o.payload)&&(r=o.payload.apply(o.targets,r)),r}function rln(e){return!!(e&&typeof e=="object"&&e!==null&&"apply"in e&&typeof e.apply=="function")}const iln=Ca;class zd{constructor(t){Z(this,"params");Z(this,"compiled");Z(this,"_appliesToMissingDocument");this.params=t}get transactionId(){return this.params.transactionId}get transition(){return this.params.transition}get identity(){return this.params.identity}get previousRev(){return this.params.previousRev}get resultRev(){return this.params.resultRev}get mutations(){return this.params.mutations}get timestamp(){if(typeof this.params.timestamp=="string")return new Date(this.params.timestamp)}get effects(){return this.params.effects}assignRandomTransactionId(){this.params.transactionId=iln(),this.params.resultRev=this.params.transactionId}appliesToMissingDocument(){if(typeof this._appliesToMissingDocument<"u")return this._appliesToMissingDocument;const t=this.mutations[0];return t?this._appliesToMissingDocument=!!(t.create||t.createIfNotExists||t.createOrReplace):this._appliesToMissingDocument=!0,this._appliesToMissingDocument}compile(){const t=[];this.mutations.forEach(i=>{if(i.create){const o=i.create||{};t.push(a=>a||Object.assign(o,{_createdAt:o._createdAt||this.params.timestamp}));return}if(i.createIfNotExists){const o=i.createIfNotExists||{};t.push(a=>a===null?Object.assign(o,{_createdAt:o._createdAt||this.params.timestamp}):a);return}if(i.createOrReplace){const o=i.createOrReplace||{};t.push(()=>Object.assign(o,{_createdAt:o._createdAt||this.params.timestamp}));return}if(i.delete){t.push(()=>null);return}if(i.patch){if("query"in i.patch)return;const o=new nln(i.patch);t.push(a=>o.apply(a));return}throw new Error(`Unsupported mutation ${JSON.stringify(i,null,2)}`)}),typeof this.params.timestamp=="string"&&t.push(i=>i?Object.assign(i,{_updatedAt:this.params.timestamp}):null);const n=this.previousRev,r=this.resultRev||this.transactionId;this.compiled=i=>{if(n&&i&&n!==i._rev)throw new Error(`Previous revision for this mutation was ${n}, but the document revision is ${i._rev}`);let o=i;for(const a of t)o=a(o);return o&&r&&(o===i&&(o=Object.assign({},i)),o._rev=r),o}}apply(t){Pn("Applying mutation %O to document %O",this.mutations,t),this.compiled||this.compile();const n=this.compiled(t);return Pn("  => %O",n),n}static applyAll(t,n){return n.reduce((r,i)=>i.apply(r),t)}static squash(t,n){const r=n.reduce((i,o)=>i.concat(...o.mutations),[]);return new zd({mutations:r})}}let oln=class{constructor(t){Z(this,"incoming",[]);Z(this,"submitted",[]);Z(this,"pending",[]);Z(this,"HEAD");Z(this,"EDGE");Z(this,"onRebase");Z(this,"onMutation");Z(this,"onConsistencyChanged");Z(this,"onRemoteMutation");Z(this,"inconsistentAt",null);Z(this,"lastStagedAt",null);this.reset(t),this.HEAD=t,this.EDGE=t}reset(t){this.incoming=[],this.submitted=[],this.pending=[],this.inconsistentAt=null,this.HEAD=t,this.EDGE=t,this.considerIncoming(),this.updateConsistencyFlag()}arrive(t){this.incoming.push(t),this.considerIncoming(),this.updateConsistencyFlag()}stage(t,n){if(!t.transactionId)throw new Error("Mutations _must_ have transactionId when submitted");this.lastStagedAt=new Date,Pn("Staging mutation %s (pushed to pending)",t.transactionId),this.pending.push(t),this.EDGE=t.apply(this.EDGE),this.onMutation&&!n&&this.onMutation({mutation:t,document:this.EDGE,remote:!1});const r=t.transactionId;return this.updateConsistencyFlag(),{success:()=>{this.pendingSuccessfullySubmitted(r),this.updateConsistencyFlag()},failure:()=>{this.pendingFailed(r),this.updateConsistencyFlag()}}}isConsistent(){return!this.inconsistentAt}considerIncoming(){let t=!1,n;const r=[];if(this.HEAD&&this.HEAD._updatedAt){const o=new Date(this.HEAD._updatedAt);this.incoming.find(a=>a.timestamp&&a.timestamp<o)&&(this.incoming=this.incoming.filter(a=>a.timestamp&&a.timestamp<o))}let i=0;do{if(this.HEAD){const o=this.HEAD;n=o._rev?this.incoming.find(a=>a.previousRev===o._rev):void 0}else n=this.incoming.find(o=>o.appliesToMissingDocument());if(n){const o=this.applyIncoming(n);if(t=t||o,t&&r.push(n),i++>10)throw new Error(`Mutator stuck flushing incoming mutations. Probably stuck here: ${JSON.stringify(n)}`)}}while(n);this.incoming.length>0&&Pn.enabled&&Pn("Unable to apply mutations %s",this.incoming.map(o=>o.transactionId).join(", ")),t&&this.rebase(r)}updateConsistencyFlag(){const t=this.isConsistent(),n=this.pending.length===0&&this.submitted.length===0&&this.incoming.length===0;n?this.inconsistentAt=null:this.inconsistentAt||(this.inconsistentAt=new Date),t!=n&&this.onConsistencyChanged&&(Pn(n?"Buffered document is inconsistent":"Buffered document is consistent"),this.onConsistencyChanged(n))}applyIncoming(t){if(!t)return!1;if(!t.transactionId)throw new Error("Received incoming mutation without a transaction ID");if(Pn("Applying mutation %s -> %s to rev %s",t.previousRev,t.resultRev,this.HEAD&&this.HEAD._rev),this.HEAD=t.apply(this.HEAD),this.onRemoteMutation&&this.onRemoteMutation(t),this.incoming=this.incoming.filter(n=>n.transactionId!==t.transactionId),this.hasUnresolvedMutations()){const n=this.consumeUnresolved(t.transactionId);return Pn.enabled&&(Pn(`Incoming mutation ${t.transactionId} appeared while there were pending or submitted local mutations`),Pn(`Submitted txnIds: ${this.submitted.map(r=>r.transactionId).join(", ")}`),Pn(`Pending txnIds: ${this.pending.map(r=>r.transactionId).join(", ")}`),Pn("needRebase === %s",n)),n}return Pn("Remote mutation %s arrived w/o any pending or submitted local mutations",t.transactionId),this.EDGE=this.HEAD,this.onMutation&&this.onMutation({mutation:t,document:this.EDGE,remote:!0}),!1}hasUnresolvedMutations(){return this.submitted.length>0||this.pending.length>0}consumeUnresolved(t){if(this.submitted.length===0&&this.pending.length===0)return!1;if(this.submitted.length!==0){if(this.submitted[0].transactionId===t)return Pn("Remote mutation %s matches upcoming submitted mutation, consumed from 'submitted' buffer",t),this.submitted.shift(),!1}else if(this.pending.length>0&&this.pending[0].transactionId===t)return Pn("Remote mutation %s matches upcoming pending mutation, consumed from 'pending' buffer",t),this.pending.shift(),!1;return Pn("The mutation was not the upcoming mutation, scrubbing. Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),this.submitted=this.submitted.filter(n=>n.transactionId!==t),this.pending=this.pending.filter(n=>n.transactionId!==t),Pn("After scrubbing: Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),!0}pendingSuccessfullySubmitted(t){if(this.pending.length===0)return;const n=this.pending[0];if(n.transactionId===t){this.pending.shift(),this.submitted.push(n);return}let r;const i=[];this.pending.forEach(o=>{if(o.transactionId===t){r=o;return}i.push(o)}),r&&this.submitted.push(r),this.pending=i,this.rebase([])}pendingFailed(t){this.pending=this.pending.filter(n=>n.transactionId!==t),this.rebase([])}rebase(t){const n=this.EDGE;this.EDGE=zd.applyAll(this.HEAD,this.submitted.concat(this.pending)),n!==null&&this.EDGE!==null&&(n._rev=this.EDGE._rev),!Dt(this.EDGE,n)&&this.onRebase&&this.onRebase(this.EDGE,t,this.pending)}};class mA{constructor(t){Z(this,"BASIS");Z(this,"PRESTAGE");Z(this,"setOperations");Z(this,"documentPresent");Z(this,"out",[]);Z(this,"staged");t?Pn("Reset mutation buffer to rev %s",t._rev):Pn("Reset mutation buffer state to document being deleted"),this.staged=[],this.setOperations={},this.documentPresent=!1,this.BASIS=t,this.PRESTAGE=t}add(t){t.mutations.forEach(n=>this.addOperation(n))}hasChanges(){return this.out.length>0||Object.keys(this.setOperations).length>0}purge(t){this.stashStagedOperations();let n=null;return this.out.length>0&&(Pn("Purged mutation buffer"),n=new zd({mutations:this.out,resultRev:t,transactionId:t})),this.out=[],this.documentPresent=!1,n}addOperation(t){var n;if(t.patch&&t.patch.set&&"id"in t.patch&&t.patch.id===((n=this.PRESTAGE)==null?void 0:n._id)&&Object.keys(t.patch).length===2){const r=t.patch.set,i={};for(const o of Object.keys(r))r.hasOwnProperty(o)&&(this.optimiseSetOperation(o,r[o])||(i[o]=r[o]));Object.keys(i).length>0&&(Pn("Unoptimizable set-operation detected, purging optimization buffer"),this.staged.push({patch:{id:this.PRESTAGE._id,set:i}}),this.stashStagedOperations());return}if(t.createIfNotExists&&this.PRESTAGE&&t.createIfNotExists._id===this.PRESTAGE._id){this.documentPresent||(this.staged.push(t),this.documentPresent=!0,this.stashStagedOperations());return}Pn("Unoptimizable mutation detected, purging optimization buffer"),this.staged.push(t),this.stashStagedOperations()}optimiseSetOperation(t,n){if(typeof n=="object")return!1;const r=Zsn(t,this.PRESTAGE);if(r.length!==1)return!1;const i=r[0];if(typeof i.value=="object"||!this.PRESTAGE)return!1;let o=null;if(i.value===n)o=null;else if(typeof i.value=="string"&&typeof n=="string")try{const s=cZ(VP(i.value,n));o={patch:{id:this.PRESTAGE._id,diffMatchPatch:{[t]:s}}}}catch{return!1}else o={patch:{id:this.PRESTAGE._id,set:{[t]:n}}};const a=QPe(i.path);return o?this.setOperations[a]=o:delete this.setOperations[a],!0}stashStagedOperations(){const t=[];Object.keys(this.setOperations).forEach(n=>{const r=this.setOperations[n];r&&t.push(r)}),t.push(...this.staged),t.length>0&&(this.PRESTAGE=new zd({mutations:t}).apply(this.PRESTAGE),this.staged=[],this.setOperations={}),this.out.push(...t)}rebase(t){return this.stashStagedOperations(),t===null?(this.out=[],this.BASIS=t,this.PRESTAGE=t,this.documentPresent=!1):(this.BASIS=t,this.out?this.PRESTAGE=new zd({mutations:this.out}).apply(this.BASIS):this.PRESTAGE=this.BASIS),this.PRESTAGE}}const aln=1e3*60;class sln{constructor(t,{resolve:n,reject:r}){Z(this,"mutations");Z(this,"tries");Z(this,"resolve");Z(this,"reject");this.mutations=t,this.tries=0,this.resolve=n,this.reject=r}apply(t){return zd.applyAll(t,this.mutations)}squash(t){const n=zd.squash(t,this.mutations);return n.assignRandomTransactionId(),n}}const She=(e,t)=>e.concat(t.mutations);class lln{constructor(t){Z(this,"mutations");Z(this,"document");Z(this,"LOCAL");Z(this,"commits");Z(this,"buffer");Z(this,"onMutation");Z(this,"onRemoteMutation");Z(this,"onRebase");Z(this,"onDelete");Z(this,"onConsistencyChanged");Z(this,"commitHandler");Z(this,"committerRunning",!1);this.buffer=new mA(t),this.document=new oln(t),this.document.onMutation=n=>this.handleDocMutation(n),this.document.onRemoteMutation=n=>this.onRemoteMutation&&this.onRemoteMutation(n),this.document.onRebase=(n,r,i)=>this.handleDocRebase(n,r,i),this.document.onConsistencyChanged=n=>this.handleDocConsistencyChanged(n),this.LOCAL=t,this.mutations=[],this.commits=[]}reset(t){t?Pn("Document state reset to revision %s",t._rev):Pn("Document state reset to being deleted"),this.document.reset(t),this.rebase([],[]),this.handleDocConsistencyChanged(this.document.isConsistent())}add(t){this.onConsistencyChanged&&this.onConsistencyChanged(!1),Pn("Staged local mutation"),this.buffer.add(t);const n=this.LOCAL;this.LOCAL=t.apply(this.LOCAL),this.onMutation&&n!==this.LOCAL&&(Pn("onMutation fired"),this.onMutation({mutation:t,document:this.LOCAL,remote:!1}),this.LOCAL===null&&this.onDelete&&this.onDelete(this.LOCAL))}arrive(t){if(Pn("Remote mutation arrived %s -> %s",t.previousRev,t.resultRev),t.previousRev===t.resultRev)throw new Error(`Mutation ${t.transactionId} has previousRev === resultRev (${t.previousRev})`);return this.document.arrive(t)}commit(){return new Promise((t,n)=>{if(!this.buffer.hasChanges()){t();return}Pn("Committing local changes");const r=this.buffer.purge();this.commits.push(new sln(r?[r]:[],{resolve:t,reject:n})),this.buffer=new mA(this.LOCAL),this.performCommits()})}performCommits(){if(!this.commitHandler)throw new Error("No commitHandler configured for this BufferedDocument");this.committerRunning||this._cycleCommitter()}_cycleCommitter(){const t=this.commits.shift();if(!t){this.committerRunning=!1;return}this.committerRunning=!0;const n=t.squash(this.LOCAL),r=this.document.stage(n,!0),i={success:()=>{Pn("Commit succeeded"),r.success(),t.resolve(),this._cycleCommitter()},failure:()=>{Pn("Commit failed"),t.tries+=1,this.LOCAL!==null&&this.commits.unshift(t),r.failure(),t.tries<200&&setTimeout(()=>this._cycleCommitter(),Math.min(t.tries*1e3,aln))},cancel:o=>{this.commits.forEach(a=>a.reject(o)),this.commits=[],this.reset(this.document.HEAD),this.buffer=new mA(this.LOCAL),this.committerRunning=!1}};Pn("Posting commit"),this.commitHandler&&this.commitHandler({mutation:n,success:i.success,failure:i.failure,cancel:i.cancel})}handleDocRebase(t,n,r){this.rebase(n,r)}handleDocumentDeleted(){Pn("Document deleted"),this.LOCAL!==null&&this.onDelete&&this.onDelete(this.LOCAL),this.commits=[],this.mutations=[]}handleDocMutation(t){if(this.commits.length===0&&!this.buffer.hasChanges()){Pn("Document mutated from remote with no local changes"),this.LOCAL=this.document.EDGE,this.buffer=new mA(this.LOCAL),this.onMutation&&this.onMutation(t);return}Pn("Document mutated from remote with local changes"),this.document.EDGE===null&&this.handleDocumentDeleted(),this.rebase([t.mutation],[])}rebase(t,n){Pn("Rebasing document"),this.document.EDGE===null&&this.handleDocumentDeleted();const r=this.LOCAL;this.LOCAL=this.commits.reduce((i,o)=>o.apply(i),this.document.EDGE),this.LOCAL=this.buffer.rebase(this.LOCAL),r!==null&&this.LOCAL!==null&&(r._rev=this.LOCAL._rev),!Dt(this.LOCAL,r)&&this.onRebase&&this.onRebase(this.LOCAL,t.reduce(She,[]),n.reduce(She,[]))}handleDocConsistencyChanged(t){if(!this.onConsistencyChanged)return;const n=this.commits.length>0||this.buffer.hasChanges();t&&!n&&this.onConsistencyChanged(!0),t||this.onConsistencyChanged(!1)}}const qt=e=>typeof e=="string",XC=()=>{let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n},Ehe=e=>e==null?"":""+e,cln=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},uln=/###/g,_he=e=>e&&e.indexOf("###")>-1?e.replace(uln,"."):e,The=e=>!e||qt(e),NS=(e,t,n)=>{const r=qt(t)?t.split("."):t;let i=0;for(;i<r.length-1;){if(The(e))return{};const o=_he(r[i]);!e[o]&&n&&(e[o]=new n),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={},++i}return The(e)?{}:{obj:e,k:_he(r[i])}},Ahe=(e,t,n)=>{const{obj:r,k:i}=NS(e,t,Object);if(r!==void 0||t.length===1){r[i]=n;return}let o=t[t.length-1],a=t.slice(0,t.length-1),s=NS(e,a,Object);for(;s.obj===void 0&&a.length;)o=`${a[a.length-1]}.${o}`,a=a.slice(0,a.length-1),s=NS(e,a,Object),s&&s.obj&&typeof s.obj[`${s.k}.${o}`]<"u"&&(s.obj=void 0);s.obj[`${s.k}.${o}`]=n},dln=(e,t,n,r)=>{const{obj:i,k:o}=NS(e,t,Object);i[o]=i[o]||[],i[o].push(n)},lD=(e,t)=>{const{obj:n,k:r}=NS(e,t);if(n)return n[r]},fln=(e,t,n)=>{const r=lD(e,n);return r!==void 0?r:lD(t,n)},lRe=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?qt(e[r])||e[r]instanceof String||qt(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):lRe(e[r],t[r],n):e[r]=t[r]);return e},W0=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var hln={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const pln=e=>qt(e)?e.replace(/[&<>"'\/]/g,t=>hln[t]):e;class mln{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const gln=[" ",",","?","!",";"],yln=new mln(20),vln=(e,t,n)=>{t=t||"",n=n||"";const r=gln.filter(a=>t.indexOf(a)<0&&n.indexOf(a)<0);if(r.length===0)return!0;const i=yln.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let o=!i.test(e);if(!o){const a=e.indexOf(n);a>0&&!i.test(e.substring(0,a))&&(o=!0)}return o},OV=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let i=e;for(let o=0;o<r.length;){if(!i||typeof i!="object")return;let a,s="";for(let l=o;l<r.length;++l)if(l!==o&&(s+=n),s+=r[l],a=i[s],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<r.length-1)continue;o+=l-o+1;break}i=a}return i},cD=e=>e&&e.replace("_","-"),bln={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class uD{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||bln,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,i){return i&&!this.debug?null:(qt(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new uD(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new uD(this.logger,t)}}var Id=new uD;class rR{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(a=>{let[s,l]=a;for(let u=0;u<l;u++)s(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[s,l]=a;for(let u=0;u<l;u++)s.apply(s,[t,...r])})}}class jhe extends rR{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;t.indexOf(".")>-1?s=t.split("."):(s=[t,n],r&&(Array.isArray(r)?s.push(...r):qt(r)&&o?s.push(...r.split(o)):s.push(r)));const l=lD(this.data,s);return!l&&!n&&!r&&t.indexOf(".")>-1&&(t=s[0],n=s[1],r=s.slice(2).join(".")),l||!a||!qt(r)?l:OV(this.data&&this.data[t]&&this.data[t][n],r,o)}addResource(t,n,r,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let s=[t,n];r&&(s=s.concat(a?r.split(a):r)),t.indexOf(".")>-1&&(s=t.split("."),i=n,n=s[1]),this.addNamespaces(n),Ahe(this.data,s,i),o.silent||this.emit("added",t,n,r,i)}addResources(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in r)(qt(r[o])||Array.isArray(r[o]))&&this.addResource(t,n,o,r[o],{silent:!0});i.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,i,o){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},s=[t,n];t.indexOf(".")>-1&&(s=t.split("."),i=r,r=n,n=s[1]),this.addNamespaces(n);let l=lD(this.data,s)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?lRe(l,r,o):l={...l,...r},Ahe(this.data,s,l),a.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,n)}:this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var cRe={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(o=>{this.processors[o]&&(t=this.processors[o].process(t,n,r,i))}),t}};const Ihe={};class dD extends rR{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),cln(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Id.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const r=this.resolve(t,n);return r&&r.res!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const a=r&&t.indexOf(r)>-1,s=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!vln(t,r,i);if(a&&!s){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:qt(o)?[o]:o};const u=t.split(r);(r!==i||r===i&&this.options.ns.indexOf(u[0])>-1)&&(o=u.shift()),t=u.join(i)}return{key:t,namespaces:qt(o)?[o]:o}}translate(t,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:a,namespaces:s}=this.extractFromKey(t[t.length-1],n),l=s[s.length-1],u=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(d){const C=n.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${C}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${C}${a}`}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:a}const f=this.resolve(t,n);let h=f&&f.res;const m=f&&f.usedKey||a,g=f&&f.exactUsedKey||a,y=Object.prototype.toString.apply(h),x=["[object Number]","[object Function]","[object RegExp]"],b=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,w=!qt(h)&&typeof h!="boolean"&&typeof h!="number";if(v&&h&&w&&x.indexOf(y)<0&&!(qt(b)&&Array.isArray(h))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,h,{...n,ns:s}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(f.res=C,f.usedParams=this.getUsedParamsDetails(n),f):C}if(o){const C=Array.isArray(h),k=C?[]:{},S=C?g:m;for(const E in h)if(Object.prototype.hasOwnProperty.call(h,E)){const _=`${S}${o}${E}`;k[E]=this.translate(_,{...n,joinArrays:!1,ns:s}),k[E]===_&&(k[E]=h[E])}h=k}}else if(v&&qt(b)&&Array.isArray(h))h=h.join(b),h&&(h=this.extendTranslation(h,t,n,r));else{let C=!1,k=!1;const S=n.count!==void 0&&!qt(n.count),E=dD.hasDefaultValue(n),_=S?this.pluralResolver.getSuffix(u,n.count,n):"",T=n.ordinal&&S?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",A=S&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),I=A&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${_}`]||n[`defaultValue${T}`]||n.defaultValue;!this.isValidLookup(h)&&E&&(C=!0,h=I),this.isValidLookup(h)||(k=!0,h=a);const $=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&k?void 0:h,D=E&&I!==h&&this.options.updateMissing;if(k||C||D){if(this.logger.log(D?"updateKey":"missingKey",u,l,a,D?I:h),o){const F=this.resolve(a,{...n,keySeparator:!1});F&&F.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let O=[];const M=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&M&&M[0])for(let F=0;F<M.length;F++)O.push(M[F]);else this.options.saveMissingTo==="all"?O=this.languageUtils.toResolveHierarchy(n.lng||this.language):O.push(n.lng||this.language);const P=(F,L,U)=>{const H=E&&U!==h?U:$;this.options.missingKeyHandler?this.options.missingKeyHandler(F,l,L,H,D,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(F,l,L,H,D,n),this.emit("missingKey",F,l,L,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?O.forEach(F=>{const L=this.pluralResolver.getSuffixes(F,n);A&&n[`defaultValue${this.options.pluralSeparator}zero`]&&L.indexOf(`${this.options.pluralSeparator}zero`)<0&&L.push(`${this.options.pluralSeparator}zero`),L.forEach(U=>{P([F],a+U,n[`defaultValue${U}`]||I)})}):P(O,a,I))}h=this.extendTranslation(h,t,n,f,r),k&&h===a&&this.options.appendNamespaceToMissingKey&&(h=`${l}:${a}`),(k||C)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${a}`:a,C?h:void 0):h=this.options.parseMissingKeyHandler(h))}return i?(f.res=h,f.usedParams=this.getUsedParamsDetails(n),f):h}extendTranslation(t,n,r,i,o){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=qt(t)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const h=t.match(this.interpolator.nestingRegexp);d=h&&h.length}let f=r.replace&&!qt(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),t=this.interpolator.interpolate(t,f,r.lng||this.language||i.usedLng,r),u){const h=t.match(this.interpolator.nestingRegexp),m=h&&h.length;d<m&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var h=arguments.length,m=new Array(h),g=0;g<h;g++)m[g]=arguments[g];return o&&o[0]===m[0]&&!r.context?(a.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${n[0]}`),null):a.translate(...m,n)},r)),r.interpolation&&this.interpolator.reset()}const s=r.postProcess||this.options.postProcess,l=qt(s)?[s]:s;return t!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(t=cRe.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,o,a,s;return qt(t)&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),d=u.key;i=d;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const h=n.count!==void 0&&!qt(n.count),m=h&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),g=n.context!==void 0&&(qt(n.context)||typeof n.context=="number")&&n.context!=="",y=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(x=>{this.isValidLookup(r)||(s=x,!Ihe[`${y[0]}-${x}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(s)&&(Ihe[`${y[0]}-${x}`]=!0,this.logger.warn(`key "${i}" for languages "${y.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(b=>{if(this.isValidLookup(r))return;a=b;const v=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(v,d,b,x,n);else{let C;h&&(C=this.pluralResolver.getSuffix(b,n.count,n));const k=`${this.options.pluralSeparator}zero`,S=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(v.push(d+C),n.ordinal&&C.indexOf(S)===0&&v.push(d+C.replace(S,this.options.pluralSeparator)),m&&v.push(d+k)),g){const E=`${d}${this.options.contextSeparator}${n.context}`;v.push(E),h&&(v.push(E+C),n.ordinal&&C.indexOf(S)===0&&v.push(E+C.replace(S,this.options.pluralSeparator)),m&&v.push(E+k))}}let w;for(;w=v.pop();)this.isValidLookup(r)||(o=w,r=this.getResource(b,x,w,n))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:a,usedNS:s}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,n,r,i):this.resourceStore.getResource(t,n,r,i)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!qt(t.replace);let i=r?t.replace:t;if(r&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const o of n)delete i[o]}return i}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}const oL=e=>e.charAt(0).toUpperCase()+e.slice(1);class $he{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Id.create("languageUtils")}getScriptPartFromCode(t){if(t=cD(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=cD(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(qt(t)&&t.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(t)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch{}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=t.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=oL(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=oL(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=oL(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),qt(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],t),i=[],o=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return qt(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):qt(t)&&o(this.formatLanguageCode(t)),r.forEach(a=>{i.indexOf(a)<0&&o(this.formatLanguageCode(a))}),i}}let xln=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],wln={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3};const Cln=["v1","v2","v3"],kln=["v4"],Dhe={zero:0,one:1,two:2,few:3,many:4,other:5},Sln=()=>{const e={};return xln.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:wln[t.fc]}})}),e};class Eln{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=Id.create("pluralResolver"),(!this.options.compatibilityJSON||kln.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Sln(),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=cD(t==="dev"?"en":t),i=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let a;try{a=new Intl.PluralRules(r,{type:i})}catch{if(!t.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(t);a=this.getRule(l,n)}return this.pluralRulesCache[o]=a,a}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(i=>`${n}${i}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,o)=>Dhe[i]-Dhe[o]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(t,i,n)):[]}getSuffix(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(t,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,n){const r=t.noAbs?t.plurals(n):t.plurals(Math.abs(n));let i=t.numbers[r];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const o=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!Cln.includes(this.options.compatibilityJSON)}}const Ohe=function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=fln(e,t,n);return!o&&i&&qt(n)&&(o=OV(e,n,r),o===void 0&&(o=OV(t,n,r))),o},aL=e=>e.replace(/\$/g,"$$$$");class _ln{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Id.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:o,prefixEscaped:a,suffix:s,suffixEscaped:l,formatSeparator:u,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:m,nestingSuffix:g,nestingSuffixEscaped:y,nestingOptionsSeparator:x,maxReplaces:b,alwaysFormat:v}=t.interpolation;this.escape=n!==void 0?n:pln,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?W0(o):a||"{{",this.suffix=s?W0(s):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=h?W0(h):m||W0("$t("),this.nestingSuffix=g?W0(g):y||W0(")"),this.nestingOptionsSeparator=x||",",this.maxReplaces=b||1e3,this.alwaysFormat=v!==void 0?v:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,i){let o,a,s;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=m=>{if(m.indexOf(this.formatSeparator)<0){const b=Ohe(n,l,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,r,{...i,...n,interpolationkey:m}):b}const g=m.split(this.formatSeparator),y=g.shift().trim(),x=g.join(this.formatSeparator).trim();return this.format(Ohe(n,l,y,this.options.keySeparator,this.options.ignoreJSONStructure),x,r,{...i,...n,interpolationkey:y})};this.resetRegExp();const d=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,f=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>aL(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?aL(this.escape(m)):aL(m)}].forEach(m=>{for(s=0;o=m.regex.exec(t);){const g=o[1].trim();if(a=u(g),a===void 0)if(typeof d=="function"){const x=d(t,o,i);a=qt(x)?x:""}else if(i&&Object.prototype.hasOwnProperty.call(i,g))a="";else if(f){a=o[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${t}`),a="";else!qt(a)&&!this.useRawValueToEscape&&(a=Ehe(a));const y=m.safeValue(a);if(t=t.replace(o[0],y),f?(m.regex.lastIndex+=a.length,m.regex.lastIndex-=o[0].length):m.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),t}nest(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,o,a;const s=(l,u)=>{const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const f=l.split(new RegExp(`${d}[ ]*{`));let h=`{${f[1]}`;l=f[0],h=this.interpolate(h,a);const m=h.match(/'/g),g=h.match(/"/g);(m&&m.length%2===0&&!g||g.length%2!==0)&&(h=h.replace(/'/g,'"'));try{a=JSON.parse(h),u&&(a={...u,...a})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,y),`${l}${d}${h}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;i=this.nestingRegexp.exec(t);){let l=[];a={...r},a=a.replace&&!qt(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const d=i[1].split(this.formatSeparator).map(f=>f.trim());i[1]=d.shift(),l=d,u=!0}if(o=n(s.call(this,i[1].trim(),a),a),o&&i[0]===t&&!qt(o))return o;qt(o)||(o=Ehe(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),o=""),u&&(o=l.reduce((d,f)=>this.format(d,f,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),t=t.replace(i[0],o),this.regexp.lastIndex=0}return t}}const Tln=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);t==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(a=>{if(a){const[s,...l]=a.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),d=s.trim();n[d]||(n[d]=u),u==="false"&&(n[d]=!1),u==="true"&&(n[d]=!0),isNaN(u)||(n[d]=parseInt(u,10))}})}return{formatName:t,formatOptions:n}},G0=e=>{const t={};return(n,r,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});const a=r+JSON.stringify(o);let s=t[a];return s||(s=e(cD(r),i),t[a]=s),s(n)}};class Aln{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Id.create("formatter"),this.options=t,this.formats={number:G0((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return o=>i.format(o)}),currency:G0((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return o=>i.format(o)}),datetime:G0((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return o=>i.format(o)}),relativetime:G0((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return o=>i.format(o,r.range||"day")}),list:G0((n,r)=>{const i=new Intl.ListFormat(n,{...r});return o=>i.format(o)})},this.init(t)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=G0(n)}format(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(s=>s.indexOf(")")>-1)){const s=o.findIndex(l=>l.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,s)].join(this.formatSeparator)}return o.reduce((s,l)=>{const{formatName:u,formatOptions:d}=Tln(l);if(this.formats[u]){let f=s;try{const h=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},m=h.locale||h.lng||i.locale||i.lng||r;f=this.formats[u](s,m,{...d,...i,...h})}catch(h){this.logger.warn(h)}return f}else this.logger.warn(`there was no format function for ${u}`);return s},t)}}const jln=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};let Iln=class extends rR{constructor(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Id.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(t,n,r,i){const o={},a={},s={},l={};return t.forEach(u=>{let d=!0;n.forEach(f=>{const h=`${u}|${f}`;!r.reload&&this.store.hasResourceBundle(u,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?a[h]===void 0&&(a[h]=!0):(this.state[h]=1,d=!1,a[h]===void 0&&(a[h]=!0),o[h]===void 0&&(o[h]=!0),l[f]===void 0&&(l[f]=!0)))}),d||(s[u]=!0)}),(Object.keys(o).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}loaded(t,n,r){const i=t.split("|"),o=i[0],a=i[1];n&&this.emit("failedLoading",o,a,n),!n&&r&&this.store.addResourceBundle(o,a,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const s={};this.queue.forEach(l=>{dln(l.loaded,[o],a),jln(l,t),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{s[u]||(s[u]={});const d=l.loaded[u];d.length&&d.forEach(f=>{s[u][f]===void 0&&(s[u][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(l=>!l.done)}read(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!t.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:i,wait:o,callback:a});return}this.readingCalls++;const s=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,i+1,o*2,a)},o);return}a(u,d)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(t,n);u&&typeof u.then=="function"?u.then(d=>s(null,d)).catch(s):s(null,u)}catch(u){s(u)}return}return l(t,n,s)}prepareLoading(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();qt(t)&&(t=this.languageUtils.toResolveHierarchy(t)),qt(n)&&(n=[n]);const o=this.queueLoad(t,n,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(a=>{this.loadOne(a)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(a,s)=>{a&&this.logger.warn(`${n}loading namespace ${o} for language ${i} failed`,a),!a&&s&&this.logger.log(`${n}loaded namespace ${o} for language ${i}`,s),this.loaded(t,a,s)})}saveMissing(t,n,r,i,o){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...a,isUpdate:o},u=this.backend.create.bind(this.backend);if(u.length<6)try{let d;u.length===5?d=u(t,n,r,i,l):d=u(t,n,r,i),d&&typeof d.then=="function"?d.then(f=>s(null,f)).catch(s):s(null,d)}catch(d){s(d)}else u(t,n,r,i,s,l)}!t||!t[0]||this.store.addResource(t[0],n,r,i)}}};const Mhe=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),qt(e[1])&&(t.defaultValue=e[1]),qt(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Phe=e=>(qt(e.ns)&&(e.ns=[e.ns]),qt(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),qt(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),gA=()=>{},$ln=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class o5 extends rR{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Phe(t),this.services={},this.logger=Id,this.modules={external:[]},$ln(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(qt(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=Mhe();this.options={...i,...this.options,...Phe(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const o=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?Id.init(o(this.modules.logger),this.options):Id.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=Aln);const f=new $he(this.options);this.store=new jhe(this.options.resources,this.options);const h=this.services;h.logger=Id,h.resourceStore=this.store,h.languageUtils=f,h.pluralResolver=new Eln(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(h.formatter=o(d),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new _ln(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new Iln(o(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(m){for(var g=arguments.length,y=new Array(g>1?g-1:0),x=1;x<g;x++)y[x-1]=arguments[x];t.emit(m,...y)}),this.modules.languageDetector&&(h.languageDetector=o(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=o(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new dD(this.services,this.options),this.translator.on("*",function(m){for(var g=arguments.length,y=new Array(g>1?g-1:0),x=1;x<g;x++)y[x-1]=arguments[x];t.emit(m,...y)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,r||(r=gA),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return t.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return t.store[d](...arguments),t}});const l=XC(),u=()=>{const d=(f,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(h),r(f,h)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gA;const i=qt(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],a=s=>{if(!s||s==="cimode")return;this.services.languageUtils.toResolveHierarchy(s).forEach(u=>{u!=="cimode"&&o.indexOf(u)<0&&o.push(u)})};i?a(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>a(l)),this.options.preload&&this.options.preload.forEach(s=>a(s)),this.services.backendConnector.load(o,this.options.ns,s=>{!s&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(s)})}else r(null)}reloadResources(t,n,r){const i=XC();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=gA),this.services.backendConnector.reload(t,n,o=>{i.resolve(),r(o)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&cRe.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,n){var r=this;this.isLanguageChangingTo=t;const i=XC();this.emit("languageChanging",t);const o=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,u)=>{u?(o(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},s=l=>{!t&&!l&&this.services.languageDetector&&(l=[]);const u=qt(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||o(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,d=>{a(d,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(t),i}getFixedT(t,n,r){var i=this;const o=function(a,s){let l;if(typeof s!="object"){for(var u=arguments.length,d=new Array(u>2?u-2:0),f=2;f<u;f++)d[f-2]=arguments[f];l=i.options.overloadTranslationOptionHandler([a,s].concat(d))}else l={...s};l.lng=l.lng||o.lng,l.lngs=l.lngs||o.lngs,l.ns=l.ns||o.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||o.keyPrefix);const h=i.options.keySeparator||".";let m;return l.keyPrefix&&Array.isArray(a)?m=a.map(g=>`${l.keyPrefix}${h}${g}`):m=l.keyPrefix?`${l.keyPrefix}${h}${a}`:a,i.t(m,l)};return qt(t)?o.lng=t:o.lngs=t,o.ns=n,o.keyPrefix=r,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(s,l)=>{const u=this.services.backendConnector.state[`${s}|${l}`];return u===-1||u===0||u===2};if(n.precheck){const s=n.precheck(this,a);if(s!==void 0)return s}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,t)&&(!i||a(o,t)))}loadNamespaces(t,n){const r=XC();return this.options.ns?(qt(t)&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=XC();qt(t)&&(t=[t]);const i=this.options.preload||[],o=t.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return o.length?(this.options.preload=i.concat(o),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new $he(Mhe());return n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new o5(t,n)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gA;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},o=new o5(i);return(t.debug!==void 0||t.prefix!==void 0)&&(o.logger=o.logger.clone(t)),["store","services","language"].forEach(s=>{o[s]=this[s]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r&&(o.store=new jhe(this.store.data,i),o.services.resourceStore=o.store),o.translator=new dD(o.services,i),o.translator.on("*",function(s){for(var l=arguments.length,u=new Array(l>1?l-1:0),d=1;d<l;d++)u[d-1]=arguments[d];o.emit(s,...u)}),o.init(i,n),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const js=o5.createInstance();js.createInstance=o5.createInstance;const uRe=js.createInstance;js.dir;js.init;js.loadResources;js.reloadResources;js.use;js.changeLanguage;js.getFixedT;js.t;js.exists;js.setDefaultNamespace;js.hasLoadedNamespace;js.loadNamespaces;js.loadLanguages;var MV={exports:{}};const Dln="2.0.0",dRe=256,Oln=Number.MAX_SAFE_INTEGER||9007199254740991,Mln=16,Pln=dRe-6,Rln=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var iR={MAX_LENGTH:dRe,MAX_SAFE_COMPONENT_LENGTH:Mln,MAX_SAFE_BUILD_LENGTH:Pln,MAX_SAFE_INTEGER:Oln,RELEASE_TYPES:Rln,SEMVER_SPEC_VERSION:Dln,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const Fln=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var oR=Fln;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=iR,o=oR;t=e.exports={};const a=t.re=[],s=t.safeRe=[],l=t.src=[],u=t.safeSrc=[],d=t.t={};let f=0;const h="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",i],[h,r]],g=x=>{for(const[b,v]of m)x=x.split(`${b}*`).join(`${b}{0,${v}}`).split(`${b}+`).join(`${b}{1,${v}}`);return x},y=(x,b,v)=>{const w=g(b),C=f++;o(x,C,b),d[x]=C,l[C]=b,u[C]=w,a[C]=new RegExp(b,v?"g":void 0),s[C]=new RegExp(w,v?"g":void 0)};y("NUMERICIDENTIFIER","0|[1-9]\\d*"),y("NUMERICIDENTIFIERLOOSE","\\d+"),y("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),y("MAINVERSION",`(${l[d.NUMERICIDENTIFIER]})\\.(${l[d.NUMERICIDENTIFIER]})\\.(${l[d.NUMERICIDENTIFIER]})`),y("MAINVERSIONLOOSE",`(${l[d.NUMERICIDENTIFIERLOOSE]})\\.(${l[d.NUMERICIDENTIFIERLOOSE]})\\.(${l[d.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASEIDENTIFIER",`(?:${l[d.NONNUMERICIDENTIFIER]}|${l[d.NUMERICIDENTIFIER]})`),y("PRERELEASEIDENTIFIERLOOSE",`(?:${l[d.NONNUMERICIDENTIFIER]}|${l[d.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASE",`(?:-(${l[d.PRERELEASEIDENTIFIER]}(?:\\.${l[d.PRERELEASEIDENTIFIER]})*))`),y("PRERELEASELOOSE",`(?:-?(${l[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[d.PRERELEASEIDENTIFIERLOOSE]})*))`),y("BUILDIDENTIFIER",`${h}+`),y("BUILD",`(?:\\+(${l[d.BUILDIDENTIFIER]}(?:\\.${l[d.BUILDIDENTIFIER]})*))`),y("FULLPLAIN",`v?${l[d.MAINVERSION]}${l[d.PRERELEASE]}?${l[d.BUILD]}?`),y("FULL",`^${l[d.FULLPLAIN]}$`),y("LOOSEPLAIN",`[v=\\s]*${l[d.MAINVERSIONLOOSE]}${l[d.PRERELEASELOOSE]}?${l[d.BUILD]}?`),y("LOOSE",`^${l[d.LOOSEPLAIN]}$`),y("GTLT","((?:<|>)?=?)"),y("XRANGEIDENTIFIERLOOSE",`${l[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),y("XRANGEIDENTIFIER",`${l[d.NUMERICIDENTIFIER]}|x|X|\\*`),y("XRANGEPLAIN",`[v=\\s]*(${l[d.XRANGEIDENTIFIER]})(?:\\.(${l[d.XRANGEIDENTIFIER]})(?:\\.(${l[d.XRANGEIDENTIFIER]})(?:${l[d.PRERELEASE]})?${l[d.BUILD]}?)?)?`),y("XRANGEPLAINLOOSE",`[v=\\s]*(${l[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[d.XRANGEIDENTIFIERLOOSE]})(?:${l[d.PRERELEASELOOSE]})?${l[d.BUILD]}?)?)?`),y("XRANGE",`^${l[d.GTLT]}\\s*${l[d.XRANGEPLAIN]}$`),y("XRANGELOOSE",`^${l[d.GTLT]}\\s*${l[d.XRANGEPLAINLOOSE]}$`),y("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),y("COERCE",`${l[d.COERCEPLAIN]}(?:$|[^\\d])`),y("COERCEFULL",l[d.COERCEPLAIN]+`(?:${l[d.PRERELEASE]})?(?:${l[d.BUILD]})?(?:$|[^\\d])`),y("COERCERTL",l[d.COERCE],!0),y("COERCERTLFULL",l[d.COERCEFULL],!0),y("LONETILDE","(?:~>?)"),y("TILDETRIM",`(\\s*)${l[d.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",y("TILDE",`^${l[d.LONETILDE]}${l[d.XRANGEPLAIN]}$`),y("TILDELOOSE",`^${l[d.LONETILDE]}${l[d.XRANGEPLAINLOOSE]}$`),y("LONECARET","(?:\\^)"),y("CARETTRIM",`(\\s*)${l[d.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",y("CARET",`^${l[d.LONECARET]}${l[d.XRANGEPLAIN]}$`),y("CARETLOOSE",`^${l[d.LONECARET]}${l[d.XRANGEPLAINLOOSE]}$`),y("COMPARATORLOOSE",`^${l[d.GTLT]}\\s*(${l[d.LOOSEPLAIN]})$|^$`),y("COMPARATOR",`^${l[d.GTLT]}\\s*(${l[d.FULLPLAIN]})$|^$`),y("COMPARATORTRIM",`(\\s*)${l[d.GTLT]}\\s*(${l[d.LOOSEPLAIN]}|${l[d.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",y("HYPHENRANGE",`^\\s*(${l[d.XRANGEPLAIN]})\\s+-\\s+(${l[d.XRANGEPLAIN]})\\s*$`),y("HYPHENRANGELOOSE",`^\\s*(${l[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[d.XRANGEPLAINLOOSE]})\\s*$`),y("STAR","(<|>)?=?\\s*\\*"),y("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),y("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(MV,MV.exports);var JE=MV.exports;const Lln=Object.freeze({loose:!0}),Nln=Object.freeze({}),Bln=e=>e?typeof e!="object"?Lln:e:Nln;var ZZ=Bln;const Rhe=/^[0-9]+$/,fRe=(e,t)=>{if(typeof e=="number"&&typeof t=="number")return e===t?0:e<t?-1:1;const n=Rhe.test(e),r=Rhe.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},Vln=(e,t)=>fRe(t,e);var hRe={compareIdentifiers:fRe,rcompareIdentifiers:Vln};const yA=oR,{MAX_LENGTH:Fhe,MAX_SAFE_INTEGER:vA}=iR,{safeRe:bA,t:xA}=JE,zln=ZZ,{compareIdentifiers:sL}=hRe;let Uln=class sd{constructor(t,n){if(n=zln(n),t instanceof sd){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>Fhe)throw new TypeError(`version is longer than ${Fhe} characters`);yA("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=t.trim().match(n.loose?bA[xA.LOOSE]:bA[xA.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>vA||this.major<0)throw new TypeError("Invalid major version");if(this.minor>vA||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>vA||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const o=+i;if(o>=0&&o<vA)return o}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(yA("SemVer.compare",this.version,this.options,t),!(t instanceof sd)){if(typeof t=="string"&&t===this.version)return 0;t=new sd(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof sd||(t=new sd(t,this.options)),this.major<t.major?-1:this.major>t.major?1:this.minor<t.minor?-1:this.minor>t.minor?1:this.patch<t.patch?-1:this.patch>t.patch?1:0}comparePre(t){if(t instanceof sd||(t=new sd(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=t.prerelease[n];if(yA("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return sL(r,i)}while(++n)}compareBuild(t){t instanceof sd||(t=new sd(t,this.options));let n=0;do{const r=this.build[n],i=t.build[n];if(yA("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return sL(r,i)}while(++n)}inc(t,n,r){if(t.startsWith("pre")){if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(n){const i=`-${n}`.match(this.options.loose?bA[xA.PRERELEASELOOSE]:bA[xA.PRERELEASE]);if(!i||i[1]!==n)throw new Error(`invalid identifier: ${n}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let o=[n,i];r===!1&&(o=[n]),sL(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Is=Uln;const Lhe=Is,Hln=(e,t,n=!1)=>{if(e instanceof Lhe)return e;try{return new Lhe(e,t)}catch(r){if(!n)return null;throw r}};var Hw=Hln;const Wln=Hw,Gln=(e,t)=>{const n=Wln(e,t);return n?n.version:null};var Kln=Gln;const Yln=Hw,qln=(e,t)=>{const n=Yln(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null};var Zln=qln;const Nhe=Is,Xln=(e,t,n,r,i)=>{typeof n=="string"&&(i=r,r=n,n=void 0);try{return new Nhe(e instanceof Nhe?e.version:e,n).inc(t,r,i).version}catch{return null}};var Jln=Xln;const Bhe=Hw,Qln=(e,t)=>{const n=Bhe(e,null,!0),r=Bhe(t,null,!0),i=n.compare(r);if(i===0)return null;const o=i>0,a=o?n:r,s=o?r:n,l=!!a.prerelease.length;if(!!s.prerelease.length&&!l){if(!s.patch&&!s.minor)return"major";if(s.compareMain(a)===0)return s.minor&&!s.patch?"minor":"patch"}const d=l?"pre":"";return n.major!==r.major?d+"major":n.minor!==r.minor?d+"minor":n.patch!==r.patch?d+"patch":"prerelease"};var ecn=Qln;const tcn=Is,ncn=(e,t)=>new tcn(e,t).major;var rcn=ncn;const icn=Is,ocn=(e,t)=>new icn(e,t).minor;var acn=ocn;const scn=Is,lcn=(e,t)=>new scn(e,t).patch;var ccn=lcn;const ucn=Hw,dcn=(e,t)=>{const n=ucn(e,t);return n&&n.prerelease.length?n.prerelease:null};var fcn=dcn;const Vhe=Is,hcn=(e,t,n)=>new Vhe(e,n).compare(new Vhe(t,n));var Ju=hcn;const pcn=Ju,mcn=(e,t,n)=>pcn(t,e,n);var gcn=mcn;const ycn=Ju,vcn=(e,t)=>ycn(e,t,!0);var bcn=vcn;const zhe=Is,xcn=(e,t,n)=>{const r=new zhe(e,n),i=new zhe(t,n);return r.compare(i)||r.compareBuild(i)};var XZ=xcn;const wcn=XZ,Ccn=(e,t)=>e.sort((n,r)=>wcn(n,r,t));var kcn=Ccn;const Scn=XZ,Ecn=(e,t)=>e.sort((n,r)=>Scn(r,n,t));var _cn=Ecn;const Tcn=Ju,Acn=(e,t,n)=>Tcn(e,t,n)>0;var aR=Acn;const jcn=Ju,Icn=(e,t,n)=>jcn(e,t,n)<0;var JZ=Icn;const $cn=Ju,Dcn=(e,t,n)=>$cn(e,t,n)===0;var pRe=Dcn;const Ocn=Ju,Mcn=(e,t,n)=>Ocn(e,t,n)!==0;var mRe=Mcn;const Pcn=Ju,Rcn=(e,t,n)=>Pcn(e,t,n)>=0;var QZ=Rcn;const Fcn=Ju,Lcn=(e,t,n)=>Fcn(e,t,n)<=0;var eX=Lcn;const Ncn=pRe,Bcn=mRe,Vcn=aR,zcn=QZ,Ucn=JZ,Hcn=eX,Wcn=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return Ncn(e,n,r);case"!=":return Bcn(e,n,r);case">":return Vcn(e,n,r);case">=":return zcn(e,n,r);case"<":return Ucn(e,n,r);case"<=":return Hcn(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};var gRe=Wcn;const Gcn=Is,Kcn=Hw,{safeRe:wA,t:CA}=JE,Ycn=(e,t)=>{if(e instanceof Gcn)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let n=null;if(!t.rtl)n=e.match(t.includePrerelease?wA[CA.COERCEFULL]:wA[CA.COERCE]);else{const l=t.includePrerelease?wA[CA.COERCERTLFULL]:wA[CA.COERCERTL];let u;for(;(u=l.exec(e))&&(!n||n.index+n[0].length!==e.length);)(!n||u.index+u[0].length!==n.index+n[0].length)&&(n=u),l.lastIndex=u.index+u[1].length+u[2].length;l.lastIndex=-1}if(n===null)return null;const r=n[2],i=n[3]||"0",o=n[4]||"0",a=t.includePrerelease&&n[5]?`-${n[5]}`:"",s=t.includePrerelease&&n[6]?`+${n[6]}`:"";return Kcn(`${r}.${i}.${o}${a}${s}`,t)};var qcn=Ycn;class Zcn{constructor(){this.max=1e3,this.map=new Map}get(t){const n=this.map.get(t);if(n!==void 0)return this.map.delete(t),this.map.set(t,n),n}delete(t){return this.map.delete(t)}set(t,n){if(!this.delete(t)&&n!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(t,n)}return this}}var Xcn=Zcn,lL,Uhe;function Qu(){if(Uhe)return lL;Uhe=1;const e=/\s+/g;class t{constructor(O,M){if(M=i(M),O instanceof t)return O.loose===!!M.loose&&O.includePrerelease===!!M.includePrerelease?O:new t(O.raw,M);if(O instanceof o)return this.raw=O.value,this.set=[[O]],this.formatted=void 0,this;if(this.options=M,this.loose=!!M.loose,this.includePrerelease=!!M.includePrerelease,this.raw=O.trim().replace(e," "),this.set=this.raw.split("||").map(P=>this.parseRange(P.trim())).filter(P=>P.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const P=this.set[0];if(this.set=this.set.filter(F=>!y(F[0])),this.set.length===0)this.set=[P];else if(this.set.length>1){for(const F of this.set)if(F.length===1&&x(F[0])){this.set=[F];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let O=0;O<this.set.length;O++){O>0&&(this.formatted+="||");const M=this.set[O];for(let P=0;P<M.length;P++)P>0&&(this.formatted+=" "),this.formatted+=M[P].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(O){const P=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+O,F=r.get(P);if(F)return F;const L=this.options.loose,U=L?l[u.HYPHENRANGELOOSE]:l[u.HYPHENRANGE];O=O.replace(U,j(this.options.includePrerelease)),a("hyphen replace",O),O=O.replace(l[u.COMPARATORTRIM],d),a("comparator trim",O),O=O.replace(l[u.TILDETRIM],f),a("tilde trim",O),O=O.replace(l[u.CARETTRIM],h),a("caret trim",O);let H=O.split(" ").map(ee=>v(ee,this.options)).join(" ").split(/\s+/).map(ee=>I(ee,this.options));L&&(H=H.filter(ee=>(a("loose invalid filter",ee,this.options),!!ee.match(l[u.COMPARATORLOOSE])))),a("range list",H);const N=new Map,Y=H.map(ee=>new o(ee,this.options));for(const ee of Y){if(y(ee))return[ee];N.set(ee.value,ee)}N.size>1&&N.has("")&&N.delete("");const J=[...N.values()];return r.set(P,J),J}intersects(O,M){if(!(O instanceof t))throw new TypeError("a Range is required");return this.set.some(P=>b(P,M)&&O.set.some(F=>b(F,M)&&P.every(L=>F.every(U=>L.intersects(U,M)))))}test(O){if(!O)return!1;if(typeof O=="string")try{O=new s(O,this.options)}catch{return!1}for(let M=0;M<this.set.length;M++)if($(this.set[M],O,this.options))return!0;return!1}}lL=t;const n=Xcn,r=new n,i=ZZ,o=sR(),a=oR,s=Is,{safeRe:l,t:u,comparatorTrimReplace:d,tildeTrimReplace:f,caretTrimReplace:h}=JE,{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=iR,y=D=>D.value==="<0.0.0-0",x=D=>D.value==="",b=(D,O)=>{let M=!0;const P=D.slice();let F=P.pop();for(;M&&P.length;)M=P.every(L=>F.intersects(L,O)),F=P.pop();return M},v=(D,O)=>(D=D.replace(l[u.BUILD],""),a("comp",D,O),D=S(D,O),a("caret",D),D=C(D,O),a("tildes",D),D=_(D,O),a("xrange",D),D=A(D,O),a("stars",D),D),w=D=>!D||D.toLowerCase()==="x"||D==="*",C=(D,O)=>D.trim().split(/\s+/).map(M=>k(M,O)).join(" "),k=(D,O)=>{const M=O.loose?l[u.TILDELOOSE]:l[u.TILDE];return D.replace(M,(P,F,L,U,H)=>{a("tilde",D,P,F,L,U,H);let N;return w(F)?N="":w(L)?N=`>=${F}.0.0 <${+F+1}.0.0-0`:w(U)?N=`>=${F}.${L}.0 <${F}.${+L+1}.0-0`:H?(a("replaceTilde pr",H),N=`>=${F}.${L}.${U}-${H} <${F}.${+L+1}.0-0`):N=`>=${F}.${L}.${U} <${F}.${+L+1}.0-0`,a("tilde return",N),N})},S=(D,O)=>D.trim().split(/\s+/).map(M=>E(M,O)).join(" "),E=(D,O)=>{a("caret",D,O);const M=O.loose?l[u.CARETLOOSE]:l[u.CARET],P=O.includePrerelease?"-0":"";return D.replace(M,(F,L,U,H,N)=>{a("caret",D,F,L,U,H,N);let Y;return w(L)?Y="":w(U)?Y=`>=${L}.0.0${P} <${+L+1}.0.0-0`:w(H)?L==="0"?Y=`>=${L}.${U}.0${P} <${L}.${+U+1}.0-0`:Y=`>=${L}.${U}.0${P} <${+L+1}.0.0-0`:N?(a("replaceCaret pr",N),L==="0"?U==="0"?Y=`>=${L}.${U}.${H}-${N} <${L}.${U}.${+H+1}-0`:Y=`>=${L}.${U}.${H}-${N} <${L}.${+U+1}.0-0`:Y=`>=${L}.${U}.${H}-${N} <${+L+1}.0.0-0`):(a("no pr"),L==="0"?U==="0"?Y=`>=${L}.${U}.${H}${P} <${L}.${U}.${+H+1}-0`:Y=`>=${L}.${U}.${H}${P} <${L}.${+U+1}.0-0`:Y=`>=${L}.${U}.${H} <${+L+1}.0.0-0`),a("caret return",Y),Y})},_=(D,O)=>(a("replaceXRanges",D,O),D.split(/\s+/).map(M=>T(M,O)).join(" ")),T=(D,O)=>{D=D.trim();const M=O.loose?l[u.XRANGELOOSE]:l[u.XRANGE];return D.replace(M,(P,F,L,U,H,N)=>{a("xRange",D,P,F,L,U,H,N);const Y=w(L),J=Y||w(U),ee=J||w(H),oe=ee;return F==="="&&oe&&(F=""),N=O.includePrerelease?"-0":"",Y?F===">"||F==="<"?P="<0.0.0-0":P="*":F&&oe?(J&&(U=0),H=0,F===">"?(F=">=",J?(L=+L+1,U=0,H=0):(U=+U+1,H=0)):F==="<="&&(F="<",J?L=+L+1:U=+U+1),F==="<"&&(N="-0"),P=`${F+L}.${U}.${H}${N}`):J?P=`>=${L}.0.0${N} <${+L+1}.0.0-0`:ee&&(P=`>=${L}.${U}.0${N} <${L}.${+U+1}.0-0`),a("xRange return",P),P})},A=(D,O)=>(a("replaceStars",D,O),D.trim().replace(l[u.STAR],"")),I=(D,O)=>(a("replaceGTE0",D,O),D.trim().replace(l[O.includePrerelease?u.GTE0PRE:u.GTE0],"")),j=D=>(O,M,P,F,L,U,H,N,Y,J,ee,oe)=>(w(P)?M="":w(F)?M=`>=${P}.0.0${D?"-0":""}`:w(L)?M=`>=${P}.${F}.0${D?"-0":""}`:U?M=`>=${M}`:M=`>=${M}${D?"-0":""}`,w(Y)?N="":w(J)?N=`<${+Y+1}.0.0-0`:w(ee)?N=`<${Y}.${+J+1}.0-0`:oe?N=`<=${Y}.${J}.${ee}-${oe}`:D?N=`<${Y}.${J}.${+ee+1}-0`:N=`<=${N}`,`${M} ${N}`.trim()),$=(D,O,M)=>{for(let P=0;P<D.length;P++)if(!D[P].test(O))return!1;if(O.prerelease.length&&!M.includePrerelease){for(let P=0;P<D.length;P++)if(a(D[P].semver),D[P].semver!==o.ANY&&D[P].semver.prerelease.length>0){const F=D[P].semver;if(F.major===O.major&&F.minor===O.minor&&F.patch===O.patch)return!0}return!1}return!0};return lL}var cL,Hhe;function sR(){if(Hhe)return cL;Hhe=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(d,f){if(f=n(f),d instanceof t){if(d.loose===!!f.loose)return d;d=d.value}d=d.trim().split(/\s+/).join(" "),a("comparator",d,f),this.options=f,this.loose=!!f.loose,this.parse(d),this.semver===e?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(d){const f=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],h=d.match(f);if(!h)throw new TypeError(`Invalid comparator: ${d}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new s(h[2],this.options.loose):this.semver=e}toString(){return this.value}test(d){if(a("Comparator.test",d,this.options.loose),this.semver===e||d===e)return!0;if(typeof d=="string")try{d=new s(d,this.options)}catch{return!1}return o(d,this.operator,this.semver,this.options)}intersects(d,f){if(!(d instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(d.value,f).test(this.value):d.operator===""?d.value===""?!0:new l(this.value,f).test(d.semver):(f=n(f),f.includePrerelease&&(this.value==="<0.0.0-0"||d.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||d.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&d.operator.startsWith(">")||this.operator.startsWith("<")&&d.operator.startsWith("<")||this.semver.version===d.semver.version&&this.operator.includes("=")&&d.operator.includes("=")||o(this.semver,"<",d.semver,f)&&this.operator.startsWith(">")&&d.operator.startsWith("<")||o(this.semver,">",d.semver,f)&&this.operator.startsWith("<")&&d.operator.startsWith(">")))}}cL=t;const n=ZZ,{safeRe:r,t:i}=JE,o=gRe,a=oR,s=Is,l=Qu();return cL}const Jcn=Qu(),Qcn=(e,t,n)=>{try{t=new Jcn(t,n)}catch{return!1}return t.test(e)};var lR=Qcn;const eun=Qu(),tun=(e,t)=>new eun(e,t).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));var nun=tun;const run=Is,iun=Qu(),oun=(e,t,n)=>{let r=null,i=null,o=null;try{o=new iun(t,n)}catch{return null}return e.forEach(a=>{o.test(a)&&(!r||i.compare(a)===-1)&&(r=a,i=new run(r,n))}),r};var aun=oun;const sun=Is,lun=Qu(),cun=(e,t,n)=>{let r=null,i=null,o=null;try{o=new lun(t,n)}catch{return null}return e.forEach(a=>{o.test(a)&&(!r||i.compare(a)===1)&&(r=a,i=new sun(r,n))}),r};var uun=cun;const uL=Is,dun=Qu(),Whe=aR,fun=(e,t)=>{e=new dun(e,t);let n=new uL("0.0.0");if(e.test(n)||(n=new uL("0.0.0-0"),e.test(n)))return n;n=null;for(let r=0;r<e.set.length;++r){const i=e.set[r];let o=null;i.forEach(a=>{const s=new uL(a.semver.version);switch(a.operator){case">":s.prerelease.length===0?s.patch++:s.prerelease.push(0),s.raw=s.format();case"":case">=":(!o||Whe(s,o))&&(o=s);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),o&&(!n||Whe(n,o))&&(n=o)}return n&&e.test(n)?n:null};var hun=fun;const pun=Qu(),mun=(e,t)=>{try{return new pun(e,t).range||"*"}catch{return null}};var gun=mun;const yun=Is,yRe=sR(),{ANY:vun}=yRe,bun=Qu(),xun=lR,Ghe=aR,Khe=JZ,wun=eX,Cun=QZ,kun=(e,t,n,r)=>{e=new yun(e,r),t=new bun(t,r);let i,o,a,s,l;switch(n){case">":i=Ghe,o=wun,a=Khe,s=">",l=">=";break;case"<":i=Khe,o=Cun,a=Ghe,s="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(xun(e,t,r))return!1;for(let u=0;u<t.set.length;++u){const d=t.set[u];let f=null,h=null;if(d.forEach(m=>{m.semver===vun&&(m=new yRe(">=0.0.0")),f=f||m,h=h||m,i(m.semver,f.semver,r)?f=m:a(m.semver,h.semver,r)&&(h=m)}),f.operator===s||f.operator===l||(!h.operator||h.operator===s)&&o(e,h.semver))return!1;if(h.operator===l&&a(e,h.semver))return!1}return!0};var tX=kun;const Sun=tX,Eun=(e,t,n)=>Sun(e,t,">",n);var _un=Eun;const Tun=tX,Aun=(e,t,n)=>Tun(e,t,"<",n);var jun=Aun;const Yhe=Qu(),Iun=(e,t,n)=>(e=new Yhe(e,n),t=new Yhe(t,n),e.intersects(t,n));var $un=Iun;const Dun=lR,Oun=Ju;var Mun=(e,t,n)=>{const r=[];let i=null,o=null;const a=e.sort((d,f)=>Oun(d,f,n));for(const d of a)Dun(d,t,n)?(o=d,i||(i=d)):(o&&r.push([i,o]),o=null,i=null);i&&r.push([i,null]);const s=[];for(const[d,f]of r)d===f?s.push(d):!f&&d===a[0]?s.push("*"):f?d===a[0]?s.push(`<=${f}`):s.push(`${d} - ${f}`):s.push(`>=${d}`);const l=s.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return l.length<u.length?l:t};const qhe=Qu(),nX=sR(),{ANY:dL}=nX,JC=lR,rX=Ju,Pun=(e,t,n={})=>{if(e===t)return!0;e=new qhe(e,n),t=new qhe(t,n);let r=!1;e:for(const i of e.set){for(const o of t.set){const a=Fun(i,o,n);if(r=r||a!==null,a)continue e}if(r)return!1}return!0},Run=[new nX(">=0.0.0-0")],Zhe=[new nX(">=0.0.0")],Fun=(e,t,n)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===dL){if(t.length===1&&t[0].semver===dL)return!0;n.includePrerelease?e=Run:e=Zhe}if(t.length===1&&t[0].semver===dL){if(n.includePrerelease)return!0;t=Zhe}const r=new Set;let i,o;for(const m of e)m.operator===">"||m.operator===">="?i=Xhe(i,m,n):m.operator==="<"||m.operator==="<="?o=Jhe(o,m,n):r.add(m.semver);if(r.size>1)return null;let a;if(i&&o){if(a=rX(i.semver,o.semver,n),a>0)return null;if(a===0&&(i.operator!==">="||o.operator!=="<="))return null}for(const m of r){if(i&&!JC(m,String(i),n)||o&&!JC(m,String(o),n))return null;for(const g of t)if(!JC(m,String(g),n))return!1;return!0}let s,l,u,d,f=o&&!n.includePrerelease&&o.semver.prerelease.length?o.semver:!1,h=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&o.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const m of t){if(d=d||m.operator===">"||m.operator===">=",u=u||m.operator==="<"||m.operator==="<=",i){if(h&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===h.major&&m.semver.minor===h.minor&&m.semver.patch===h.patch&&(h=!1),m.operator===">"||m.operator===">="){if(s=Xhe(i,m,n),s===m&&s!==i)return!1}else if(i.operator===">="&&!JC(i.semver,String(m),n))return!1}if(o){if(f&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===f.major&&m.semver.minor===f.minor&&m.semver.patch===f.patch&&(f=!1),m.operator==="<"||m.operator==="<="){if(l=Jhe(o,m,n),l===m&&l!==o)return!1}else if(o.operator==="<="&&!JC(o.semver,String(m),n))return!1}if(!m.operator&&(o||i)&&a!==0)return!1}return!(i&&u&&!o&&a!==0||o&&d&&!i&&a!==0||h||f)},Xhe=(e,t,n)=>{if(!e)return t;const r=rX(e.semver,t.semver,n);return r>0?e:r<0||t.operator===">"&&e.operator===">="?t:e},Jhe=(e,t,n)=>{if(!e)return t;const r=rX(e.semver,t.semver,n);return r<0?e:r>0||t.operator==="<"&&e.operator==="<="?t:e};var Lun=Pun;const fL=JE,Qhe=iR,Nun=Is,epe=hRe,Bun=Hw,Vun=Kln,zun=Zln,Uun=Jln,Hun=ecn,Wun=rcn,Gun=acn,Kun=ccn,Yun=fcn,qun=Ju,Zun=gcn,Xun=bcn,Jun=XZ,Qun=kcn,edn=_cn,tdn=aR,ndn=JZ,rdn=pRe,idn=mRe,odn=QZ,adn=eX,sdn=gRe,ldn=qcn,cdn=sR(),udn=Qu(),ddn=lR,fdn=nun,hdn=aun,pdn=uun,mdn=hun,gdn=gun,ydn=tX,vdn=_un,bdn=jun,xdn=$un,wdn=Mun,Cdn=Lun;var vRe={parse:Bun,valid:Vun,clean:zun,inc:Uun,diff:Hun,major:Wun,minor:Gun,patch:Kun,prerelease:Yun,compare:qun,rcompare:Zun,compareLoose:Xun,compareBuild:Jun,sort:Qun,rsort:edn,gt:tdn,lt:ndn,eq:rdn,neq:idn,gte:odn,lte:adn,cmp:sdn,coerce:ldn,Comparator:cdn,Range:udn,satisfies:ddn,toComparators:fdn,maxSatisfying:hdn,minSatisfying:pdn,minVersion:mdn,validRange:gdn,outside:ydn,gtr:vdn,ltr:bdn,intersects:xdn,simplifyRange:wdn,subset:Cdn,SemVer:Nun,re:fL.re,src:fL.src,tokens:fL.t,SEMVER_SPEC_VERSION:Qhe.SEMVER_SPEC_VERSION,RELEASE_TYPES:Qhe.RELEASE_TYPES,compareIdentifiers:epe.compareIdentifiers,rcompareIdentifiers:epe.rcompareIdentifiers};const kdn=Ue(vRe);function Sdn(e){p.useEffect(()=>Enn(e.flush),[e.flush]),p.useEffect(()=>Snn(e.endWithBeacon),[e.endWithBeacon])}const bRe=p.createContext(Tnn);function Edn(e){let{children:t,store:n}=e;return Sdn(n),c.jsx(bRe.Provider,{value:n.logger,children:t})}function $s(){return p.useContext(bRe)}var PV={exports:{}},xRe={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(xRe);var Gi=xRe.exports,RV={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r,i){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o]);return r}e.exports=t.default})(RV,RV.exports);var _dn=RV.exports;(function(e,t){var n=Gi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=n(_dn);function i(o){return(0,r.default)({},o)}e.exports=t.default})(PV,PV.exports);var Tdn=PV.exports;const wRe=Ue(Tdn);var FV={exports:{}},LV={exports:{}},NV={exports:{}},CRe={exports:{}};(function(e){function t(n){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(CRe);var kRe=CRe.exports,BV={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r,i){if(i.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+i.length+" present")}e.exports=t.default})(BV,BV.exports);var Ds=BV.exports;(function(e,t){var n=Gi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(kRe),i=n(Ds);function o(a){return(0,i.default)(1,arguments),a instanceof Date||(0,r.default)(a)==="object"&&Object.prototype.toString.call(a)==="[object Date]"}e.exports=t.default})(NV,NV.exports);var Adn=NV.exports,VV={exports:{}};(function(e,t){var n=Gi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(kRe),i=n(Ds);function o(a){(0,i.default)(1,arguments);var s=Object.prototype.toString.call(a);return a instanceof Date||(0,r.default)(a)==="object"&&s==="[object Date]"?new Date(a.getTime()):typeof a=="number"||s==="[object Number]"?new Date(a):((typeof a=="string"||s==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}e.exports=t.default})(VV,VV.exports);var pf=VV.exports;(function(e,t){var n=Gi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(Adn),i=n(pf),o=n(Ds);function a(s){if((0,o.default)(1,arguments),!(0,r.default)(s)&&typeof s!="number")return!1;var l=(0,i.default)(s);return!isNaN(Number(l))}e.exports=t.default})(LV,LV.exports);var jdn=LV.exports,zV={exports:{}},UV={exports:{}},HV={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var i=Number(r);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}e.exports=t.default})(HV,HV.exports);var c0=HV.exports;const Idn=Ue(c0);(function(e,t){var n=Gi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(c0),i=n(pf),o=n(Ds);function a(s,l){(0,o.default)(2,arguments);var u=(0,i.default)(s).getTime(),d=(0,r.default)(l);return new Date(u+d)}e.exports=t.default})(UV,UV.exports);var $dn=UV.exports;(function(e,t){var n=Gi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n($dn),i=n(Ds),o=n(c0);function a(s,l){(0,i.default)(2,arguments);var u=(0,o.default)(l);return(0,r.default)(s,-u)}e.exports=t.default})(zV,zV.exports);var Ddn=zV.exports,WV={exports:{}},GV={exports:{}};(function(e,t){var n=Gi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(pf),i=n(Ds),o=864e5;function a(s){(0,i.default)(1,arguments);var l=(0,r.default)(s),u=l.getTime();l.setUTCMonth(0,1),l.setUTCHours(0,0,0,0);var d=l.getTime(),f=u-d;return Math.floor(f/o)+1}e.exports=t.default})(GV,GV.exports);var Odn=GV.exports,KV={exports:{}},YV={exports:{}};(function(e,t){var n=Gi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(pf),i=n(Ds);function o(a){(0,i.default)(1,arguments);var s=1,l=(0,r.default)(a),u=l.getUTCDay(),d=(u<s?7:0)+u-s;return l.setUTCDate(l.getUTCDate()-d),l.setUTCHours(0,0,0,0),l}e.exports=t.default})(YV,YV.exports);var iX=YV.exports,qV={exports:{}},ZV={exports:{}};(function(e,t){var n=Gi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(pf),i=n(Ds),o=n(iX);function a(s){(0,i.default)(1,arguments);var l=(0,r.default)(s),u=l.getUTCFullYear(),d=new Date(0);d.setUTCFullYear(u+1,0,4),d.setUTCHours(0,0,0,0);var f=(0,o.default)(d),h=new Date(0);h.setUTCFullYear(u,0,4),h.setUTCHours(0,0,0,0);var m=(0,o.default)(h);return l.getTime()>=f.getTime()?u+1:l.getTime()>=m.getTime()?u:u-1}e.exports=t.default})(ZV,ZV.exports);var SRe=ZV.exports;(function(e,t){var n=Gi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(SRe),i=n(iX),o=n(Ds);function a(s){(0,o.default)(1,arguments);var l=(0,r.default)(s),u=new Date(0);u.setUTCFullYear(l,0,4),u.setUTCHours(0,0,0,0);var d=(0,i.default)(u);return d}e.exports=t.default})(qV,qV.exports);var Mdn=qV.exports;(function(e,t){var n=Gi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=n(pf),i=n(iX),o=n(Mdn),a=n(Ds),s=6048e5;function l(u){(0,a.default)(1,arguments);var d=(0,r.default)(u),f=(0,i.default)(d).getTime()-(0,o.default)(d).getTime();return Math.round(f/s)+1}e.exports=t.default})(KV,KV.exports);var Pdn=KV.exports,XV={exports:{}},JV={exports:{}},u0={};Object.defineProperty(u0,"__esModule",{value:!0});u0.getDefaultOptions=Rdn;u0.setDefaultOptions=Fdn;var ERe={};function Rdn(){return ERe}function Fdn(e){ERe=e}(function(e,t){var n=Gi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=n(pf),i=n(Ds),o=n(c0),a=u0;function s(l,u){var d,f,h,m,g,y,x,b;(0,i.default)(1,arguments);var v=(0,a.getDefaultOptions)(),w=(0,o.default)((d=(f=(h=(m=u==null?void 0:u.weekStartsOn)!==null&&m!==void 0?m:u==null||(g=u.locale)===null||g===void 0||(y=g.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&h!==void 0?h:v.weekStartsOn)!==null&&f!==void 0?f:(x=v.locale)===null||x===void 0||(b=x.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&d!==void 0?d:0);if(!(w>=0&&w<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var C=(0,r.default)(l),k=C.getUTCDay(),S=(k<w?7:0)+k-w;return C.setUTCDate(C.getUTCDate()-S),C.setUTCHours(0,0,0,0),C}e.exports=t.default})(JV,JV.exports);var oX=JV.exports,QV={exports:{}},ez={exports:{}};(function(e,t){var n=Gi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=n(pf),i=n(Ds),o=n(oX),a=n(c0),s=u0;function l(u,d){var f,h,m,g,y,x,b,v;(0,i.default)(1,arguments);var w=(0,r.default)(u),C=w.getUTCFullYear(),k=(0,s.getDefaultOptions)(),S=(0,a.default)((f=(h=(m=(g=d==null?void 0:d.firstWeekContainsDate)!==null&&g!==void 0?g:d==null||(y=d.locale)===null||y===void 0||(x=y.options)===null||x===void 0?void 0:x.firstWeekContainsDate)!==null&&m!==void 0?m:k.firstWeekContainsDate)!==null&&h!==void 0?h:(b=k.locale)===null||b===void 0||(v=b.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&f!==void 0?f:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=new Date(0);E.setUTCFullYear(C+1,0,S),E.setUTCHours(0,0,0,0);var _=(0,o.default)(E,d),T=new Date(0);T.setUTCFullYear(C,0,S),T.setUTCHours(0,0,0,0);var A=(0,o.default)(T,d);return w.getTime()>=_.getTime()?C+1:w.getTime()>=A.getTime()?C:C-1}e.exports=t.default})(ez,ez.exports);var _Re=ez.exports;(function(e,t){var n=Gi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=n(_Re),i=n(Ds),o=n(oX),a=n(c0),s=u0;function l(u,d){var f,h,m,g,y,x,b,v;(0,i.default)(1,arguments);var w=(0,s.getDefaultOptions)(),C=(0,a.default)((f=(h=(m=(g=d==null?void 0:d.firstWeekContainsDate)!==null&&g!==void 0?g:d==null||(y=d.locale)===null||y===void 0||(x=y.options)===null||x===void 0?void 0:x.firstWeekContainsDate)!==null&&m!==void 0?m:w.firstWeekContainsDate)!==null&&h!==void 0?h:(b=w.locale)===null||b===void 0||(v=b.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&f!==void 0?f:1),k=(0,r.default)(u,d),S=new Date(0);S.setUTCFullYear(k,0,C),S.setUTCHours(0,0,0,0);var E=(0,o.default)(S,d);return E}e.exports=t.default})(QV,QV.exports);var Ldn=QV.exports;(function(e,t){var n=Gi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=n(pf),i=n(oX),o=n(Ldn),a=n(Ds),s=6048e5;function l(u,d){(0,a.default)(1,arguments);var f=(0,r.default)(u),h=(0,i.default)(f,d).getTime()-(0,o.default)(f,d).getTime();return Math.round(h/s)+1}e.exports=t.default})(XV,XV.exports);var Ndn=XV.exports,tz={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r,i){for(var o=r<0?"-":"",a=Math.abs(r).toString();a.length<i;)a="0"+a;return o+a}e.exports=t.default})(tz,tz.exports);var TRe=tz.exports,nz={exports:{}};(function(e,t){var n=Gi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(TRe),i={y:function(s,l){var u=s.getUTCFullYear(),d=u>0?u:1-u;return(0,r.default)(l==="yy"?d%100:d,l.length)},M:function(s,l){var u=s.getUTCMonth();return l==="M"?String(u+1):(0,r.default)(u+1,2)},d:function(s,l){return(0,r.default)(s.getUTCDate(),l.length)},a:function(s,l){var u=s.getUTCHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return u.toUpperCase();case"aaa":return u;case"aaaaa":return u[0];case"aaaa":default:return u==="am"?"a.m.":"p.m."}},h:function(s,l){return(0,r.default)(s.getUTCHours()%12||12,l.length)},H:function(s,l){return(0,r.default)(s.getUTCHours(),l.length)},m:function(s,l){return(0,r.default)(s.getUTCMinutes(),l.length)},s:function(s,l){return(0,r.default)(s.getUTCSeconds(),l.length)},S:function(s,l){var u=l.length,d=s.getUTCMilliseconds(),f=Math.floor(d*Math.pow(10,u-3));return(0,r.default)(f,l.length)}},o=i;t.default=o,e.exports=t.default})(nz,nz.exports);var Bdn=nz.exports;(function(e,t){var n=Gi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(Odn),i=n(Pdn),o=n(SRe),a=n(Ndn),s=n(_Re),l=n(TRe),u=n(Bdn),d={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},f={G:function(b,v,w){var C=b.getUTCFullYear()>0?1:0;switch(v){case"G":case"GG":case"GGG":return w.era(C,{width:"abbreviated"});case"GGGGG":return w.era(C,{width:"narrow"});case"GGGG":default:return w.era(C,{width:"wide"})}},y:function(b,v,w){if(v==="yo"){var C=b.getUTCFullYear(),k=C>0?C:1-C;return w.ordinalNumber(k,{unit:"year"})}return u.default.y(b,v)},Y:function(b,v,w,C){var k=(0,s.default)(b,C),S=k>0?k:1-k;if(v==="YY"){var E=S%100;return(0,l.default)(E,2)}return v==="Yo"?w.ordinalNumber(S,{unit:"year"}):(0,l.default)(S,v.length)},R:function(b,v){var w=(0,o.default)(b);return(0,l.default)(w,v.length)},u:function(b,v){var w=b.getUTCFullYear();return(0,l.default)(w,v.length)},Q:function(b,v,w){var C=Math.ceil((b.getUTCMonth()+1)/3);switch(v){case"Q":return String(C);case"QQ":return(0,l.default)(C,2);case"Qo":return w.ordinalNumber(C,{unit:"quarter"});case"QQQ":return w.quarter(C,{width:"abbreviated",context:"formatting"});case"QQQQQ":return w.quarter(C,{width:"narrow",context:"formatting"});case"QQQQ":default:return w.quarter(C,{width:"wide",context:"formatting"})}},q:function(b,v,w){var C=Math.ceil((b.getUTCMonth()+1)/3);switch(v){case"q":return String(C);case"qq":return(0,l.default)(C,2);case"qo":return w.ordinalNumber(C,{unit:"quarter"});case"qqq":return w.quarter(C,{width:"abbreviated",context:"standalone"});case"qqqqq":return w.quarter(C,{width:"narrow",context:"standalone"});case"qqqq":default:return w.quarter(C,{width:"wide",context:"standalone"})}},M:function(b,v,w){var C=b.getUTCMonth();switch(v){case"M":case"MM":return u.default.M(b,v);case"Mo":return w.ordinalNumber(C+1,{unit:"month"});case"MMM":return w.month(C,{width:"abbreviated",context:"formatting"});case"MMMMM":return w.month(C,{width:"narrow",context:"formatting"});case"MMMM":default:return w.month(C,{width:"wide",context:"formatting"})}},L:function(b,v,w){var C=b.getUTCMonth();switch(v){case"L":return String(C+1);case"LL":return(0,l.default)(C+1,2);case"Lo":return w.ordinalNumber(C+1,{unit:"month"});case"LLL":return w.month(C,{width:"abbreviated",context:"standalone"});case"LLLLL":return w.month(C,{width:"narrow",context:"standalone"});case"LLLL":default:return w.month(C,{width:"wide",context:"standalone"})}},w:function(b,v,w,C){var k=(0,a.default)(b,C);return v==="wo"?w.ordinalNumber(k,{unit:"week"}):(0,l.default)(k,v.length)},I:function(b,v,w){var C=(0,i.default)(b);return v==="Io"?w.ordinalNumber(C,{unit:"week"}):(0,l.default)(C,v.length)},d:function(b,v,w){return v==="do"?w.ordinalNumber(b.getUTCDate(),{unit:"date"}):u.default.d(b,v)},D:function(b,v,w){var C=(0,r.default)(b);return v==="Do"?w.ordinalNumber(C,{unit:"dayOfYear"}):(0,l.default)(C,v.length)},E:function(b,v,w){var C=b.getUTCDay();switch(v){case"E":case"EE":case"EEE":return w.day(C,{width:"abbreviated",context:"formatting"});case"EEEEE":return w.day(C,{width:"narrow",context:"formatting"});case"EEEEEE":return w.day(C,{width:"short",context:"formatting"});case"EEEE":default:return w.day(C,{width:"wide",context:"formatting"})}},e:function(b,v,w,C){var k=b.getUTCDay(),S=(k-C.weekStartsOn+8)%7||7;switch(v){case"e":return String(S);case"ee":return(0,l.default)(S,2);case"eo":return w.ordinalNumber(S,{unit:"day"});case"eee":return w.day(k,{width:"abbreviated",context:"formatting"});case"eeeee":return w.day(k,{width:"narrow",context:"formatting"});case"eeeeee":return w.day(k,{width:"short",context:"formatting"});case"eeee":default:return w.day(k,{width:"wide",context:"formatting"})}},c:function(b,v,w,C){var k=b.getUTCDay(),S=(k-C.weekStartsOn+8)%7||7;switch(v){case"c":return String(S);case"cc":return(0,l.default)(S,v.length);case"co":return w.ordinalNumber(S,{unit:"day"});case"ccc":return w.day(k,{width:"abbreviated",context:"standalone"});case"ccccc":return w.day(k,{width:"narrow",context:"standalone"});case"cccccc":return w.day(k,{width:"short",context:"standalone"});case"cccc":default:return w.day(k,{width:"wide",context:"standalone"})}},i:function(b,v,w){var C=b.getUTCDay(),k=C===0?7:C;switch(v){case"i":return String(k);case"ii":return(0,l.default)(k,v.length);case"io":return w.ordinalNumber(k,{unit:"day"});case"iii":return w.day(C,{width:"abbreviated",context:"formatting"});case"iiiii":return w.day(C,{width:"narrow",context:"formatting"});case"iiiiii":return w.day(C,{width:"short",context:"formatting"});case"iiii":default:return w.day(C,{width:"wide",context:"formatting"})}},a:function(b,v,w){var C=b.getUTCHours(),k=C/12>=1?"pm":"am";switch(v){case"a":case"aa":return w.dayPeriod(k,{width:"abbreviated",context:"formatting"});case"aaa":return w.dayPeriod(k,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return w.dayPeriod(k,{width:"narrow",context:"formatting"});case"aaaa":default:return w.dayPeriod(k,{width:"wide",context:"formatting"})}},b:function(b,v,w){var C=b.getUTCHours(),k;switch(C===12?k=d.noon:C===0?k=d.midnight:k=C/12>=1?"pm":"am",v){case"b":case"bb":return w.dayPeriod(k,{width:"abbreviated",context:"formatting"});case"bbb":return w.dayPeriod(k,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return w.dayPeriod(k,{width:"narrow",context:"formatting"});case"bbbb":default:return w.dayPeriod(k,{width:"wide",context:"formatting"})}},B:function(b,v,w){var C=b.getUTCHours(),k;switch(C>=17?k=d.evening:C>=12?k=d.afternoon:C>=4?k=d.morning:k=d.night,v){case"B":case"BB":case"BBB":return w.dayPeriod(k,{width:"abbreviated",context:"formatting"});case"BBBBB":return w.dayPeriod(k,{width:"narrow",context:"formatting"});case"BBBB":default:return w.dayPeriod(k,{width:"wide",context:"formatting"})}},h:function(b,v,w){if(v==="ho"){var C=b.getUTCHours()%12;return C===0&&(C=12),w.ordinalNumber(C,{unit:"hour"})}return u.default.h(b,v)},H:function(b,v,w){return v==="Ho"?w.ordinalNumber(b.getUTCHours(),{unit:"hour"}):u.default.H(b,v)},K:function(b,v,w){var C=b.getUTCHours()%12;return v==="Ko"?w.ordinalNumber(C,{unit:"hour"}):(0,l.default)(C,v.length)},k:function(b,v,w){var C=b.getUTCHours();return C===0&&(C=24),v==="ko"?w.ordinalNumber(C,{unit:"hour"}):(0,l.default)(C,v.length)},m:function(b,v,w){return v==="mo"?w.ordinalNumber(b.getUTCMinutes(),{unit:"minute"}):u.default.m(b,v)},s:function(b,v,w){return v==="so"?w.ordinalNumber(b.getUTCSeconds(),{unit:"second"}):u.default.s(b,v)},S:function(b,v){return u.default.S(b,v)},X:function(b,v,w,C){var k=C._originalDate||b,S=k.getTimezoneOffset();if(S===0)return"Z";switch(v){case"X":return m(S);case"XXXX":case"XX":return g(S);case"XXXXX":case"XXX":default:return g(S,":")}},x:function(b,v,w,C){var k=C._originalDate||b,S=k.getTimezoneOffset();switch(v){case"x":return m(S);case"xxxx":case"xx":return g(S);case"xxxxx":case"xxx":default:return g(S,":")}},O:function(b,v,w,C){var k=C._originalDate||b,S=k.getTimezoneOffset();switch(v){case"O":case"OO":case"OOO":return"GMT"+h(S,":");case"OOOO":default:return"GMT"+g(S,":")}},z:function(b,v,w,C){var k=C._originalDate||b,S=k.getTimezoneOffset();switch(v){case"z":case"zz":case"zzz":return"GMT"+h(S,":");case"zzzz":default:return"GMT"+g(S,":")}},t:function(b,v,w,C){var k=C._originalDate||b,S=Math.floor(k.getTime()/1e3);return(0,l.default)(S,v.length)},T:function(b,v,w,C){var k=C._originalDate||b,S=k.getTime();return(0,l.default)(S,v.length)}};function h(x,b){var v=x>0?"-":"+",w=Math.abs(x),C=Math.floor(w/60),k=w%60;if(k===0)return v+String(C);var S=b||"";return v+String(C)+S+(0,l.default)(k,2)}function m(x,b){if(x%60===0){var v=x>0?"-":"+";return v+(0,l.default)(Math.abs(x)/60,2)}return g(x,b)}function g(x,b){var v=b||"",w=x>0?"-":"+",C=Math.abs(x),k=(0,l.default)(Math.floor(C/60),2),S=(0,l.default)(C%60,2);return w+k+v+S}var y=f;t.default=y,e.exports=t.default})(WV,WV.exports);var Vdn=WV.exports,rz={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(l,u){switch(l){case"P":return u.date({width:"short"});case"PP":return u.date({width:"medium"});case"PPP":return u.date({width:"long"});case"PPPP":default:return u.date({width:"full"})}},r=function(l,u){switch(l){case"p":return u.time({width:"short"});case"pp":return u.time({width:"medium"});case"ppp":return u.time({width:"long"});case"pppp":default:return u.time({width:"full"})}},i=function(l,u){var d=l.match(/(P+)(p+)?/)||[],f=d[1],h=d[2];if(!h)return n(l,u);var m;switch(f){case"P":m=u.dateTime({width:"short"});break;case"PP":m=u.dateTime({width:"medium"});break;case"PPP":m=u.dateTime({width:"long"});break;case"PPPP":default:m=u.dateTime({width:"full"});break}return m.replace("{{date}}",n(f,u)).replace("{{time}}",r(h,u))},o={p:r,P:i},a=o;t.default=a,e.exports=t.default})(rz,rz.exports);var zdn=rz.exports,iz={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){var i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return i.setUTCFullYear(r.getFullYear()),r.getTime()-i.getTime()}e.exports=t.default})(iz,iz.exports);var ARe=iz.exports;const tpe=Ue(ARe);var QE={};Object.defineProperty(QE,"__esModule",{value:!0});QE.isProtectedDayOfYearToken=Wdn;QE.isProtectedWeekYearToken=Gdn;QE.throwProtectedError=Kdn;var Udn=["D","DD"],Hdn=["YY","YYYY"];function Wdn(e){return Udn.indexOf(e)!==-1}function Gdn(e){return Hdn.indexOf(e)!==-1}function Kdn(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var oz={exports:{}},az={exports:{}},sz={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},r=function(a,s,l){var u,d=n[a];return typeof d=="string"?u=d:s===1?u=d.one:u=d.other.replace("{{count}}",s.toString()),l!=null&&l.addSuffix?l.comparison&&l.comparison>0?"in "+u:u+" ago":u},i=r;t.default=i,e.exports=t.default})(sz,sz.exports);var Ydn=sz.exports,lz={exports:{}},cz={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){return function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=i.width?String(i.width):r.defaultWidth,a=r.formats[o]||r.formats[r.defaultWidth];return a}}e.exports=t.default})(cz,cz.exports);var qdn=cz.exports;(function(e,t){var n=Gi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(qdn),i={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},o={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},a={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},s={date:(0,r.default)({formats:i,defaultWidth:"full"}),time:(0,r.default)({formats:o,defaultWidth:"full"}),dateTime:(0,r.default)({formats:a,defaultWidth:"full"})},l=s;t.default=l,e.exports=t.default})(lz,lz.exports);var Zdn=lz.exports,uz={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},r=function(a,s,l,u){return n[a]},i=r;t.default=i,e.exports=t.default})(uz,uz.exports);var Xdn=uz.exports,dz={exports:{}},fz={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){return function(i,o){var a=o!=null&&o.context?String(o.context):"standalone",s;if(a==="formatting"&&r.formattingValues){var l=r.defaultFormattingWidth||r.defaultWidth,u=o!=null&&o.width?String(o.width):l;s=r.formattingValues[u]||r.formattingValues[l]}else{var d=r.defaultWidth,f=o!=null&&o.width?String(o.width):r.defaultWidth;s=r.values[f]||r.values[d]}var h=r.argumentCallback?r.argumentCallback(i):i;return s[h]}}e.exports=t.default})(fz,fz.exports);var Jdn=fz.exports;(function(e,t){var n=Gi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(Jdn),i={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},o={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},a={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},s={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},l={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},u={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},d=function(g,y){var x=Number(g),b=x%100;if(b>20||b<10)switch(b%10){case 1:return x+"st";case 2:return x+"nd";case 3:return x+"rd"}return x+"th"},f={ordinalNumber:d,era:(0,r.default)({values:i,defaultWidth:"wide"}),quarter:(0,r.default)({values:o,defaultWidth:"wide",argumentCallback:function(g){return g-1}}),month:(0,r.default)({values:a,defaultWidth:"wide"}),day:(0,r.default)({values:s,defaultWidth:"wide"}),dayPeriod:(0,r.default)({values:l,defaultWidth:"wide",formattingValues:u,defaultFormattingWidth:"wide"})},h=f;t.default=h,e.exports=t.default})(dz,dz.exports);var Qdn=dz.exports,hz={exports:{}},pz={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(o){return function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=s.width,u=l&&o.matchPatterns[l]||o.matchPatterns[o.defaultMatchWidth],d=a.match(u);if(!d)return null;var f=d[0],h=l&&o.parsePatterns[l]||o.parsePatterns[o.defaultParseWidth],m=Array.isArray(h)?i(h,function(x){return x.test(f)}):r(h,function(x){return x.test(f)}),g;g=o.valueCallback?o.valueCallback(m):m,g=s.valueCallback?s.valueCallback(g):g;var y=a.slice(f.length);return{value:g,rest:y}}}function r(o,a){for(var s in o)if(o.hasOwnProperty(s)&&a(o[s]))return s}function i(o,a){for(var s=0;s<o.length;s++)if(a(o[s]))return s}e.exports=t.default})(pz,pz.exports);var efn=pz.exports,mz={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){return function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=i.match(r.matchPattern);if(!a)return null;var s=a[0],l=i.match(r.parsePattern);if(!l)return null;var u=r.valueCallback?r.valueCallback(l[0]):l[0];u=o.valueCallback?o.valueCallback(u):u;var d=i.slice(s.length);return{value:u,rest:d}}}e.exports=t.default})(mz,mz.exports);var tfn=mz.exports;(function(e,t){var n=Gi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(efn),i=n(tfn),o=/^(\d+)(th|st|nd|rd)?/i,a=/\d+/i,s={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},l={any:[/^b/i,/^(a|c)/i]},u={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},d={any:[/1/i,/2/i,/3/i,/4/i]},f={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},h={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},m={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},g={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},y={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},x={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},b={ordinalNumber:(0,i.default)({matchPattern:o,parsePattern:a,valueCallback:function(C){return parseInt(C,10)}}),era:(0,r.default)({matchPatterns:s,defaultMatchWidth:"wide",parsePatterns:l,defaultParseWidth:"any"}),quarter:(0,r.default)({matchPatterns:u,defaultMatchWidth:"wide",parsePatterns:d,defaultParseWidth:"any",valueCallback:function(C){return C+1}}),month:(0,r.default)({matchPatterns:f,defaultMatchWidth:"wide",parsePatterns:h,defaultParseWidth:"any"}),day:(0,r.default)({matchPatterns:m,defaultMatchWidth:"wide",parsePatterns:g,defaultParseWidth:"any"}),dayPeriod:(0,r.default)({matchPatterns:y,defaultMatchWidth:"any",parsePatterns:x,defaultParseWidth:"any"})},v=b;t.default=v,e.exports=t.default})(hz,hz.exports);var nfn=hz.exports;(function(e,t){var n=Gi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(Ydn),i=n(Zdn),o=n(Xdn),a=n(Qdn),s=n(nfn),l={code:"en-US",formatDistance:r.default,formatLong:i.default,formatRelative:o.default,localize:a.default,match:s.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},u=l;t.default=u,e.exports=t.default})(az,az.exports);var rfn=az.exports;(function(e,t){var n=Gi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(rfn),i=r.default;t.default=i,e.exports=t.default})(oz,oz.exports);var ifn=oz.exports;(function(e,t){var n=Gi.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=w;var r=n(jdn),i=n(Ddn),o=n(pf),a=n(Vdn),s=n(zdn),l=n(ARe),u=QE,d=n(c0),f=n(Ds),h=u0,m=n(ifn),g=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,y=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,x=/^'([^]*?)'?$/,b=/''/g,v=/[a-zA-Z]/;function w(k,S,E){var _,T,A,I,j,$,D,O,M,P,F,L,U,H,N,Y,J,ee;(0,f.default)(2,arguments);var oe=String(S),re=(0,h.getDefaultOptions)(),se=(_=(T=E==null?void 0:E.locale)!==null&&T!==void 0?T:re.locale)!==null&&_!==void 0?_:m.default,G=(0,d.default)((A=(I=(j=($=E==null?void 0:E.firstWeekContainsDate)!==null&&$!==void 0?$:E==null||(D=E.locale)===null||D===void 0||(O=D.options)===null||O===void 0?void 0:O.firstWeekContainsDate)!==null&&j!==void 0?j:re.firstWeekContainsDate)!==null&&I!==void 0?I:(M=re.locale)===null||M===void 0||(P=M.options)===null||P===void 0?void 0:P.firstWeekContainsDate)!==null&&A!==void 0?A:1);if(!(G>=1&&G<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var K=(0,d.default)((F=(L=(U=(H=E==null?void 0:E.weekStartsOn)!==null&&H!==void 0?H:E==null||(N=E.locale)===null||N===void 0||(Y=N.options)===null||Y===void 0?void 0:Y.weekStartsOn)!==null&&U!==void 0?U:re.weekStartsOn)!==null&&L!==void 0?L:(J=re.locale)===null||J===void 0||(ee=J.options)===null||ee===void 0?void 0:ee.weekStartsOn)!==null&&F!==void 0?F:0);if(!(K>=0&&K<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!se.localize)throw new RangeError("locale must contain localize property");if(!se.formatLong)throw new RangeError("locale must contain formatLong property");var q=(0,o.default)(k);if(!(0,r.default)(q))throw new RangeError("Invalid time value");var X=(0,l.default)(q),ie=(0,i.default)(q,X),te={firstWeekContainsDate:G,weekStartsOn:K,locale:se,_originalDate:q},de=oe.match(y).map(function(pe){var ve=pe[0];if(ve==="p"||ve==="P"){var Ce=s.default[ve];return Ce(pe,se.formatLong)}return pe}).join("").match(g).map(function(pe){if(pe==="''")return"'";var ve=pe[0];if(ve==="'")return C(pe);var Ce=a.default[ve];if(Ce)return!(E!=null&&E.useAdditionalWeekYearTokens)&&(0,u.isProtectedWeekYearToken)(pe)&&(0,u.throwProtectedError)(pe,S,String(k)),!(E!=null&&E.useAdditionalDayOfYearTokens)&&(0,u.isProtectedDayOfYearToken)(pe)&&(0,u.throwProtectedError)(pe,S,String(k)),Ce(ie,pe,se.localize,te);if(ve.match(v))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ve+"`");return pe}).join("");return de}function C(k){var S=k.match(x);return S?S[1].replace(b,"'"):k}e.exports=t.default})(FV,FV.exports);var ofn=FV.exports;const afn=Ue(ofn);let sfn=e=>crypto.getRandomValues(new Uint8Array(e)),lfn=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*r*t/e.length);return(o=t)=>{let a="";for(;;){let s=n(i),l=i|0;for(;l--;)if(a+=e[s[l]&r]||"",a.length===o)return a}}},cfn=(e,t=21)=>lfn(e,t,sfn),ufn=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");var dfn=Math.floor,ffn=Math.random;function hfn(e,t){return e+dfn(ffn()*(t-e+1))}var pfn=hfn,mfn=pfn;function gfn(e){var t=e.length;return t?e[mfn(0,t-1)]:void 0}var jRe=gfn,yfn=Gu;function vfn(e,t){return yfn(t,function(n){return e[n]})}var IRe=vfn,bfn=IRe,xfn=of;function wfn(e){return e==null?[]:bfn(e,xfn(e))}var $Re=wfn;const Cfn=Ue($Re);var kfn=jRe,Sfn=$Re;function Efn(e){return kfn(Sfn(e))}var _fn=Efn,Tfn=jRe,Afn=_fn,jfn=bo;function Ifn(e){var t=jfn(e)?Tfn:Afn;return t(e)}var $fn=Ifn;const Dfn=Ue($fn);var Ofn=function(){function e(n,r){if(typeof n!="function")throw new TypeError("DataLoader must be constructed with a function which accepts "+("Array<key> and returns Promise<Array<value>>, but got: "+n+"."));this._batchLoadFn=n,this._maxBatchSize=Ffn(r),this._batchScheduleFn=Lfn(r),this._cacheKeyFn=Nfn(r),this._cacheMap=Bfn(r),this._batch=null,this.name=Vfn(r)}var t=e.prototype;return t.load=function(r){if(r==null)throw new TypeError("The loader.load() function must be called with a value, "+("but got: "+String(r)+"."));var i=Pfn(this),o=this._cacheMap,a;if(o){a=this._cacheKeyFn(r);var s=o.get(a);if(s){var l=i.cacheHits||(i.cacheHits=[]);return new Promise(function(d){l.push(function(){d(s)})})}}i.keys.push(r);var u=new Promise(function(d,f){i.callbacks.push({resolve:d,reject:f})});return o&&o.set(a,u),u},t.loadMany=function(r){if(!DRe(r))throw new TypeError("The loader.loadMany() function must be called with Array<key> "+("but got: "+r+"."));for(var i=[],o=0;o<r.length;o++)i.push(this.load(r[o]).catch(function(a){return a}));return Promise.all(i)},t.clear=function(r){var i=this._cacheMap;if(i){var o=this._cacheKeyFn(r);i.delete(o)}return this},t.clearAll=function(){var r=this._cacheMap;return r&&r.clear(),this},t.prime=function(r,i){var o=this._cacheMap;if(o){var a=this._cacheKeyFn(r);if(o.get(a)===void 0){var s;i instanceof Error?(s=Promise.reject(i),s.catch(function(){})):s=Promise.resolve(i),o.set(a,s)}}return this},e}(),Mfn=typeof process=="object"&&typeof process.nextTick=="function"?function(e){hL||(hL=Promise.resolve()),hL.then(function(){process.nextTick(e)})}:typeof setImmediate=="function"?function(e){setImmediate(e)}:function(e){setTimeout(e)},hL;function Pfn(e){var t=e._batch;if(t!==null&&!t.hasDispatched&&t.keys.length<e._maxBatchSize)return t;var n={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=n,e._batchScheduleFn(function(){Rfn(e,n)}),n}function Rfn(e,t){if(t.hasDispatched=!0,t.keys.length===0){gz(t);return}var n;try{n=e._batchLoadFn(t.keys)}catch(r){return pL(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function "+("errored synchronously: "+String(r)+".")))}if(!n||typeof n.then!="function")return pL(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise: "+String(n)+".")));n.then(function(r){if(!DRe(r))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise of an Array: "+String(r)+"."));if(r.length!==t.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys."+(`

Keys:
`+String(t.keys))+(`

Values:
`+String(r)));gz(t);for(var i=0;i<t.callbacks.length;i++){var o=r[i];o instanceof Error?t.callbacks[i].reject(o):t.callbacks[i].resolve(o)}}).catch(function(r){pL(e,t,r)})}function pL(e,t,n){gz(t);for(var r=0;r<t.keys.length;r++)e.clear(t.keys[r]),t.callbacks[r].reject(n)}function gz(e){if(e.cacheHits)for(var t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function Ffn(e){var t=!e||e.batch!==!1;if(!t)return 1;var n=e&&e.maxBatchSize;if(n===void 0)return 1/0;if(typeof n!="number"||n<1)throw new TypeError("maxBatchSize must be a positive number: "+n);return n}function Lfn(e){var t=e&&e.batchScheduleFn;if(t===void 0)return Mfn;if(typeof t!="function")throw new TypeError("batchScheduleFn must be a function: "+t);return t}function Nfn(e){var t=e&&e.cacheKeyFn;if(t===void 0)return function(n){return n};if(typeof t!="function")throw new TypeError("cacheKeyFn must be a function: "+t);return t}function Bfn(e){var t=!e||e.cache!==!1;if(!t)return null;var n=e&&e.cacheMap;if(n===void 0)return new Map;if(n!==null){var r=["get","set","delete","clear"],i=r.filter(function(o){return n&&typeof n[o]!="function"});if(i.length!==0)throw new TypeError("Custom cacheMap missing methods: "+i.join(", "))}return n}function Vfn(e){return e&&e.name?e.name:null}function DRe(e){return typeof e=="object"&&e!==null&&typeof e.length=="number"&&(e.length===0||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}var zfn=Ofn;const ORe=Ue(zfn);function Ufn(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}var Hfn=Ufn;const npe=Ue(Hfn);var Wfn=Gu;function Gfn(e,t){return Wfn(t,function(n){return[n,e[n]]})}var Kfn=Gfn;function Yfn(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=[r,r]}),n}var qfn=Yfn,Zfn=Kfn,Xfn=yw,Jfn=DEe,Qfn=qfn,ehn="[object Map]",thn="[object Set]";function nhn(e){return function(t){var n=Xfn(t);return n==ehn?Jfn(t):n==thn?Qfn(t):Zfn(t,e(t))}}var rhn=nhn,ihn=rhn,ohn=of,ahn=ihn(ohn),shn=ahn;const lhn=Ue(shn);function Os(){const e=p.useContext(RH);if(!e)throw new Error("Router: missing context value");return e}function chn(e){return e.button===0}function uhn(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function aX(e){const{onClick:t,href:n,target:r,replace:i=!1}=e,{navigateUrl:o}=Os();return{onClick:p.useCallback(a=>{a.isDefaultPrevented()||n&&(t&&t(a),!(uhn(a)||!chn(a))&&(r||(a.preventDefault(),o({path:n,replace:i}))))},[n,o,t,i,r])}}function e_(e){const{intent:t,onClick:n,params:r,replace:i,target:o,searchParams:a}=e,{resolveIntentLink:s}=Os(),l=p.useMemo(()=>s(t,r,a),[t,r,a,s]),{onClick:u}=aX({href:l,onClick:n,replace:i,target:o});return{onClick:u,href:l}}const Kc=p.forwardRef(function(e,t){const{intent:n,params:r,target:i,searchParams:o,...a}=e,{onClick:s,href:l}=e_({intent:n,params:r,target:i,onClick:e.onClick,searchParams:o});return c.jsx("a",{...a,href:l,onClick:s,ref:t,target:i})});p.forwardRef(function(e,t){const{onClick:n,href:r,target:i,replace:o,...a}=e,{onClick:s}=aX({onClick:n,href:r,target:i,replace:o});return c.jsx("a",{...a,onClick:s,href:r,target:i,ref:t})});const dhn=/^[a-zA-Z0-9_-]+$/;function fhn(e){if(!e)return null;if(e.startsWith(":")){const t=e.slice(1);if(!dhn.test(t)){const n=e.includes("*")?" Splats are not supported. Consider using child routes instead":"";console.error(new Error(`Warning: Param segments "${e}" includes invalid characters.${n}`))}return{type:"param",name:t}}return{type:"dir",name:e}}function hhn(e){const[t]=e.split("?"),n=t.split("/").map(fhn).filter(Boolean);return{raw:e,segments:n}}function MRe(e){return Array.isArray(e)?e:e?[e]:[]}function rpe(e){return kr(e)}function mL(e,t,n){return{type:"error",node:e,missingKeys:t,unmappableStateKeys:n}}function gL(e,t,n,r){return{type:"ok",node:e,matchedState:t,searchParams:n,child:r}}function PRe(e,t){if(!t)return gL(e,{},[]);const n=e.scope?t[e.scope]:t,{_searchParams:r=[],...i}=n||{},o=e.route.segments.filter(y=>y.type==="param").map(y=>y.name),a=rpe(i)?Object.keys(i):[],s=u$(a,o),l=hy(o,s),u=hy(a,s);if(l.length>0)return mL(e,l,[]);const d=r.map(([y,x])=>[[y],x]),f=Xe(i,s);if(u.length===0)return gL(e,f,d);const h=MRe((typeof e.children=="function"?e.children(rpe(i)?i:{}):e.children)||[]);if(u.length>0&&h.length===0)return mL(e,[],u);const m=Xe(i,u),g=h.map(y=>PRe(y,m)).find(y=>y.type==="ok");return g?gL(e,f,d,g):mL(e,[],u)}function RRe(e,t){const n=[...String(e)];let r="";for(let i=0;i<n.length;i++){const o=n[i];t.includes(o)?r+=o:r+=encodeURIComponent(o)}return r}const yz=zi("state-router");function phn(e,t){yz("Resolving path from state %o",t);const n=PRe(e,t);if(n.type==="error"){const a=n.unmappableStateKeys;if(a.length>0)throw new Error(`Unable to find matching route for state. Could not map the following state key${a.length==1?"":"s"} to a valid url: ${a.map(ipe).join(", ")}`);const s=n.missingKeys;throw new Error(`Unable to find matching route for state. State object is missing the following key${s.length==1?"":"s"} defined in route: ${s.map(ipe).join(", ")}`)}const{path:r,searchParams:i}=FRe(n),o=i.length>0?ghn(i):"";return`/${r.join("/")}${o?`?${o}`:""}`}function mhn(e){return`[${e}]`}function ghn(e){return e.flatMap(([t,n])=>n===void 0?[]:[bhn(yhn(t)),vhn(n)].join("=")).join("&")}function yhn(e){const[t,...n]=e;return n.length>0?[t,...n.map(mhn)].join(""):t}function vhn(e){return RRe(e,"/")}function bhn(e){return RRe(e,"[]")}function FRe(e){const t=e.matchedState,n=e.node.route.segments.map(o=>{if(o.type==="dir")return o.name;const a=e.node.transform&&e.node.transform[o.name];return a?a.toPath(t[o.name]):t[o.name]}),r=e.child?FRe(e.child):void 0,i=r!=null&&r.searchParams?[...e.searchParams,...r.searchParams]:e.searchParams;return{searchParams:xhn(e.node,i),path:[...n||[],...(r==null?void 0:r.path)||[]]}}function xhn(e,t){const n=e.scope;return n&&!e.__unsafe_disableScopedSearchParams?t.map(([r,i])=>[[n,...r],i]):t}function ipe(e){return`"${e}"`}function whn(e){return e.map(([t,n])=>[Chn(t),n])}const yL=1,ope=0;function Chn(e){const t=[];let n=0,r=ope;for(;n<e.length;){const i=e.indexOf("[",n);if(i===-1){t.push(e.slice(n,e.length));break}if(r===yL)throw new Error("Nested brackets not supported");r=yL,i>n&&(t.push(e.slice(n,i)),n=i);const o=e.indexOf("]",i);if(o===-1){if(r===yL)throw new Error("Unclosed bracket");break}r=ope,t.push(e.slice(n+1,o)),n=o+1}return t}function LRe(e,t,n){const r=t.split("/").filter(Boolean),i=e.route.segments.length;if(r.length<i)return null;const o={};if(!e.route.segments.every((h,m)=>{if(h.type==="dir")return h.name===r[m];const g=e.transform&&e.transform[h.name];return o[h.name]=g?g.toState(r[m]):r[m],!0}))return null;const a=r.slice(i);let s=null;const l=typeof e.children=="function"?MRe(e.children(o)):e.children,u=Shn(e.scope,n);if(l.some(h=>{if(h){const m=h.scope?u.filter(([g])=>h.scope===g[0]):u;return s=LRe(h,a.join("/"),m),s}}),a.length>0&&!s)return null;const d=u.flatMap(([h,m])=>h.length===1?[[h[0],m]]:[]),f={...o,...s||{},...d.length>0?{_searchParams:d}:{}};return e.scope?{[e.scope]:f}:f}function khn(e,t){yz("resolving state from path %s",t);const[n,r]=t.split("?"),i=Array.from(new URLSearchParams(r).entries()),o=LRe(e,n,whn(i));return yz("resolved: %o",o||null),o||null}function Shn(e,t){return e?t.map(([n,r])=>[n[0]===e?n.slice(1):n,r]):t}function Ehn(e){return Ahn(e).replace(/\//g,"_").replace(/\+/g,"-").replace(/[=]+$/,"")}function _hn(e){return Ihn(e.replace(/-/g,"+").replace(/_/g,"/"))}function Thn(e){return String.fromCharCode(parseInt(e.slice(1),16))}function Ahn(e){return btoa(encodeURIComponent(e).replace(/%[0-9A-F]{2}/g,Thn))}function jhn(e){return`%${`00${e.charCodeAt(0).toString(16)}`.slice(-2)}`}function Ihn(e){return decodeURIComponent(Array.from(atob(e),jhn).join(""))}function NRe(e=""){const t=decodeURIComponent(e);if(!t)return{};try{return JSON.parse(_hn(t))}catch{}try{return JSON.parse(atob(t))}catch{}try{return JSON.parse(t)}catch{console.warn("Failed to parse JSON parameters")}return{}}function BRe(e){return e?Ehn(JSON.stringify(e)):""}function $hn(e){return e.split(";").reduce((t,n)=>{const[r,i]=n.split("=");return t[decodeURIComponent(r)]=decodeURIComponent(i),t},{})}function Dhn(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${encodeURIComponent(t)}=${encodeURIComponent(n)}`).join(";")}const aa={create:(e,t,n)=>cpe(spe(e,t,n)),intents:e=>{const t=Mhn(e).join("/");return aa.create(`${t}/:intent`,[aa.create(":params",{transform:{params:{toState:$hn,toPath:Dhn}}},[aa.create(":payload",{transform:{payload:{toState:NRe,toPath:BRe}}})])])},scope(e,t,n,r){const i=spe(t,n,r);return cpe({...i,scope:e})}};function ape(e){return Array.isArray(e)||typeof e=="function"?e:e?[e]:[]}function Ohn(e){return e&&"_isRoute"in e}function spe(e,t,n){return typeof e=="object"?e:Array.isArray(t)||typeof t=="function"||Ohn(t)?{path:e,children:ape(t)}:n?{path:e,...t,children:ape(n)}:{path:e,...t}}function Mhn(...e){return e.reduce((t,n)=>t.concat(n.split("/")),[]).filter(Boolean)}const Phn={};function lpe(e){return e.split("/").every(t=>!t)}function cpe(e){const{path:t,scope:n,transform:r,children:i,__unsafe_disableScopedSearchParams:o}=e;if(!t)throw new TypeError("Missing path");const a=hhn(t);return{_isRoute:!0,scope:n,__unsafe_disableScopedSearchParams:o,route:a,children:i||[],transform:r,encode(s){return phn(this,s)},decode(s){return khn(this,s)},isRoot:lpe,isNotFound(s){return this.decode(s)===null},getBasePath(){return this.encode(Phn)},getRedirectBase(s){if(lpe(s)){const l=this.getBasePath();if(s!==l)return l}return null}}}const kA=[];function Rhn(e){const{onNavigate:t,router:n,state:r}=e,i=p.useCallback((h,m,g)=>{const[y,x]=Array.isArray(m)?m:[m];return n.encode({intent:h,params:y,payload:x,_searchParams:lhn({...npe((r._searchParams??[]).filter(([b])=>kA.includes(b))),...npe(g??[])})})},[n,r._searchParams]),o=p.useCallback(h=>{const m=r._searchParams||[],g=h._searchParams||[],y=kA.reduce((x,b)=>Fhn(x,b,upe(g,b)??upe(m,b)),g||[]);return n.encode({...h,_searchParams:y})},[n,r]),a=p.useCallback((h,m,g={})=>{if(!kA.includes(h))throw new Error("Parameter is not sticky");t({path:o({...r,_searchParams:[[h,m||""]]}),replace:g.replace})},[t,o,r]),s=p.useCallback((h,m={})=>{t({path:o(h),replace:m.replace})},[t,o]),l=p.useCallback((h,m,g={})=>{t({path:i(h,m),replace:g.replace})},[t,i]),[u,d]=p.useMemo(()=>{if(!r._searchParams)return[r,null];const{_searchParams:h,...m}=r,[g,y]=rP(h,([x])=>kA.includes(x));return g.length===0?[r,null]:[{...m,_searchParams:y},g]},[r]),f=p.useMemo(()=>({navigate:s,navigateIntent:l,navigateStickyParam:a,navigateUrl:t,resolveIntentLink:i,resolvePathFromState:o,state:u,stickyParams:Object.fromEntries(d||[])}),[a,s,l,t,i,o,u,d]);return c.jsx(RH.Provider,{value:f,children:e.children})}function Fhn(e,t,n){const r=e.filter(([i])=>i!==t);return n===void 0||n==""?r:[...r,[t,n]]}function upe(e,t){const n=e.find(([r])=>r===t);return n?n[1]:void 0}function Lhn(e,t,n){return n&&{...e,[t]:n}}function Nhn(e){const{children:t,scope:n,__unsafe_disableScopedSearchParams:r}=e,i=Os(),{resolvePathFromState:o,navigate:a}=i,s=p.useRef(i.state);s.current=i.state;const l=p.useCallback(h=>{const{_searchParams:m,...g}=h,y=Lhn(s.current,n,g);return r?y._searchParams=m:y[n]._searchParams=m,y},[n,r]),u=p.useCallback(h=>o(l(h)),[o,l]),d=p.useCallback((h,m)=>a(l(h),m),[a,l]),f=p.useMemo(()=>{const h=i.state,m={...h[n]||{}};return r&&(m._searchParams=h._searchParams),{...i,navigate:d,resolvePathFromState:u,state:m}},[n,i,d,u,r]);return c.jsx(RH.Provider,{value:f,children:t})}const dpe={};function sX(e){const{onClick:t,replace:n,state:r,target:i,toIndex:o=!1}=e;if(r&&o)throw new Error("Passing both `state` and `toIndex={true}` as props to StateLink is invalid");!r&&!o&&console.error(new Error("No state passed to StateLink. If you want to link to an empty state, its better to use the the `toIndex` property"));const{resolvePathFromState:a}=Os(),s=p.useMemo(()=>a(o?dpe:r||dpe),[a,r,o]),{onClick:l}=aX({href:s,onClick:t,replace:n,target:i});return{onClick:l,href:s}}const cR=p.forwardRef(function(e,t){const{onClick:n,replace:r,state:i,target:o,toIndex:a=!1,...s}=e,{onClick:l,href:u}=sX({onClick:n,replace:r,state:i,target:o,toIndex:a});return c.jsx("a",{...s,href:u,onClick:l,ref:t})});function t_(e=YEe){const{state:t}=Os();return p.useMemo(()=>e(t),[e,t])}function Bhn(e){function t(n){const r=Os();return c.jsx(e,{...n,router:r})}return t.displayName=`withRouter(${e.displayName||e.name})`,t}Bhn(e=>e.children(e.router));function BS(e,t,n){return Math.min(Math.max(e,n),t)}class Vhn extends Error{constructor(t){super(`Failed to parse color: "${t}"`)}}var Mk=Vhn;function VRe(e){if(typeof e!="string")throw new Mk(e);if(e.trim().toLowerCase()==="transparent")return[0,0,0,0];let t=e.trim();t=qhn.test(e)?Hhn(e):e;const n=Whn.exec(t);if(n){const a=Array.from(n).slice(1);return[...a.slice(0,3).map(s=>parseInt(a5(s,2),16)),parseInt(a5(a[3]||"f",2),16)/255]}const r=Ghn.exec(t);if(r){const a=Array.from(r).slice(1);return[...a.slice(0,3).map(s=>parseInt(s,16)),parseInt(a[3]||"ff",16)/255]}const i=Khn.exec(t);if(i){const a=Array.from(i).slice(1);return[...a.slice(0,3).map(s=>parseInt(s,10)),parseFloat(a[3]||"1")]}const o=Yhn.exec(t);if(o){const[a,s,l,u]=Array.from(o).slice(1).map(parseFloat);if(BS(0,100,s)!==s)throw new Mk(e);if(BS(0,100,l)!==l)throw new Mk(e);return[...Zhn(a,s,l),Number.isNaN(u)?1:u]}throw new Mk(e)}function zhn(e){let t=5381,n=e.length;for(;n;)t=t*33^e.charCodeAt(--n);return(t>>>0)%2341}const fpe=e=>parseInt(e.replace(/_/g,""),36),Uhn="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((e,t)=>{const n=fpe(t.substring(0,3)),r=fpe(t.substring(3)).toString(16);let i="";for(let o=0;o<6-r.length;o++)i+="0";return e[n]=`${i}${r}`,e},{});function Hhn(e){const t=e.toLowerCase().trim(),n=Uhn[zhn(t)];if(!n)throw new Mk(e);return`#${n}`}const a5=(e,t)=>Array.from(Array(t)).map(()=>e).join(""),Whn=new RegExp(`^#${a5("([a-f0-9])",3)}([a-f0-9])?$`,"i"),Ghn=new RegExp(`^#${a5("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),Khn=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${a5(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),Yhn=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,qhn=/^[a-z]+$/i,hpe=e=>Math.round(e*255),Zhn=(e,t,n)=>{let r=n/100;if(t===0)return[r,r,r].map(hpe);const i=(e%360+360)%360/60,o=(1-Math.abs(2*r-1))*(t/100),a=o*(1-Math.abs(i%2-1));let s=0,l=0,u=0;i>=0&&i<1?(s=o,l=a):i>=1&&i<2?(s=a,l=o):i>=2&&i<3?(l=o,u=a):i>=3&&i<4?(l=a,u=o):i>=4&&i<5?(s=a,u=o):i>=5&&i<6&&(s=o,u=a);const d=r-o/2,f=s+d,h=l+d,m=u+d;return[f,h,m].map(hpe)};function Xhn(e){const[t,n,r,i]=VRe(e).map((f,h)=>h===3?f:f/255),o=Math.max(t,n,r),a=Math.min(t,n,r),s=(o+a)/2;if(o===a)return[0,0,s,i];const l=o-a,u=s>.5?l/(2-o-a):l/(o+a);return[60*(t===o?(n-r)/l+(n<r?6:0):n===o?(r-t)/l+2:(t-n)/l+4),u,s,i]}function Jhn(e,t,n,r){return`hsla(${(e%360).toFixed()}, ${BS(0,100,t*100).toFixed()}%, ${BS(0,100,n*100).toFixed()}%, ${parseFloat(BS(0,1,r).toFixed(3))})`}function zRe(e,t){const[n,r,i,o]=Xhn(e);return Jhn(n,r,i-t,o)}function vz(e){if(e==="transparent")return 0;function t(o){const a=o/255;return a<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}const[n,r,i]=VRe(e);return .2126*t(n)+.7152*t(r)+.0722*t(i)}function Qhn(e,t){const n=vz(e),r=vz(t);return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)}const epn={decorative:1.5,readable:3,aa:4.5,aaa:7};function ppe(e,t="aa",n="#fff"){return Qhn(e,n)<epn[t]}function tpn(e,t){return zRe(e,-t)}function npn(e){return vz(e)>.179}function rpn(e){return npn(e)?"#000":"#fff"}var ipn=apn,opn=Object.prototype.hasOwnProperty;function apn(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)opn.call(n,r)&&(e[r]=n[r])}return e}var URe=HRe,lX=HRe.prototype;lX.space=null;lX.normal={};lX.property={};function HRe(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}var mpe=ipn,spn=URe,lpn=cpn;function cpn(e){for(var t=e.length,n=[],r=[],i=-1,o,a;++i<t;)o=e[i],n.push(o.property),r.push(o.normal),a=o.space;return new spn(mpe.apply(null,n),mpe.apply(null,r),a)}var cX=upn;function upn(e){return e.toLowerCase()}var WRe=GRe,Yc=GRe.prototype;Yc.space=null;Yc.attribute=null;Yc.property=null;Yc.boolean=!1;Yc.booleanish=!1;Yc.overloadedBoolean=!1;Yc.number=!1;Yc.commaSeparated=!1;Yc.spaceSeparated=!1;Yc.commaOrSpaceSeparated=!1;Yc.mustUseProperty=!1;Yc.defined=!1;function GRe(e,t){this.property=e,this.attribute=t}var mf={},dpn=0;mf.boolean=d0();mf.booleanish=d0();mf.overloadedBoolean=d0();mf.number=d0();mf.spaceSeparated=d0();mf.commaSeparated=d0();mf.commaOrSpaceSeparated=d0();function d0(){return Math.pow(2,++dpn)}var KRe=WRe,gpe=mf,YRe=uX;uX.prototype=new KRe;uX.prototype.defined=!0;var qRe=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],fpn=qRe.length;function uX(e,t,n,r){var i=-1,o;for(ype(this,"space",r),KRe.call(this,e,t);++i<fpn;)o=qRe[i],ype(this,o,(n&gpe[o])===gpe[o])}function ype(e,t,n){n&&(e[t]=n)}var vpe=cX,hpn=URe,ppn=YRe,n_=mpn;function mpn(e){var t=e.space,n=e.mustUseProperty||[],r=e.attributes||{},i=e.properties,o=e.transform,a={},s={},l,u;for(l in i)u=new ppn(l,o(r,l),i[l],t),n.indexOf(l)!==-1&&(u.mustUseProperty=!0),a[l]=u,s[vpe(l)]=l,s[vpe(u.attribute)]=l;return new hpn(a,s,t)}var gpn=n_,ypn=gpn({space:"xlink",transform:vpn,properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}});function vpn(e,t){return"xlink:"+t.slice(5).toLowerCase()}var bpn=n_,xpn=bpn({space:"xml",transform:wpn,properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function wpn(e,t){return"xml:"+t.slice(3).toLowerCase()}var Cpn=kpn;function kpn(e,t){return t in e?e[t]:t}var Spn=Cpn,ZRe=Epn;function Epn(e,t){return Spn(e,t.toLowerCase())}var _pn=n_,Tpn=ZRe,Apn=_pn({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Tpn,properties:{xmlns:null,xmlnsXLink:null}}),dX=mf,jpn=n_,Bs=dX.booleanish,Ql=dX.number,zg=dX.spaceSeparated,Ipn=jpn({transform:$pn,properties:{ariaActiveDescendant:null,ariaAtomic:Bs,ariaAutoComplete:null,ariaBusy:Bs,ariaChecked:Bs,ariaColCount:Ql,ariaColIndex:Ql,ariaColSpan:Ql,ariaControls:zg,ariaCurrent:null,ariaDescribedBy:zg,ariaDetails:null,ariaDisabled:Bs,ariaDropEffect:zg,ariaErrorMessage:null,ariaExpanded:Bs,ariaFlowTo:zg,ariaGrabbed:Bs,ariaHasPopup:null,ariaHidden:Bs,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:zg,ariaLevel:Ql,ariaLive:null,ariaModal:Bs,ariaMultiLine:Bs,ariaMultiSelectable:Bs,ariaOrientation:null,ariaOwns:zg,ariaPlaceholder:null,ariaPosInSet:Ql,ariaPressed:Bs,ariaReadOnly:Bs,ariaRelevant:null,ariaRequired:Bs,ariaRoleDescription:zg,ariaRowCount:Ql,ariaRowIndex:Ql,ariaRowSpan:Ql,ariaSelected:Bs,ariaSetSize:Ql,ariaSort:null,ariaValueMax:Ql,ariaValueMin:Ql,ariaValueNow:Ql,ariaValueText:null,role:null}});function $pn(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}var Ww=mf,Dpn=n_,Opn=ZRe,yn=Ww.boolean,Mpn=Ww.overloadedBoolean,QC=Ww.booleanish,oi=Ww.number,ls=Ww.spaceSeparated,SA=Ww.commaSeparated,Ppn=Dpn({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Opn,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:SA,acceptCharset:ls,accessKey:ls,action:null,allow:null,allowFullScreen:yn,allowPaymentRequest:yn,allowUserMedia:yn,alt:null,as:null,async:yn,autoCapitalize:null,autoComplete:ls,autoFocus:yn,autoPlay:yn,capture:yn,charSet:null,checked:yn,cite:null,className:ls,cols:oi,colSpan:null,content:null,contentEditable:QC,controls:yn,controlsList:ls,coords:oi|SA,crossOrigin:null,data:null,dateTime:null,decoding:null,default:yn,defer:yn,dir:null,dirName:null,disabled:yn,download:Mpn,draggable:QC,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:yn,formTarget:null,headers:ls,height:oi,hidden:yn,high:oi,href:null,hrefLang:null,htmlFor:ls,httpEquiv:ls,id:null,imageSizes:null,imageSrcSet:SA,inputMode:null,integrity:null,is:null,isMap:yn,itemId:null,itemProp:ls,itemRef:ls,itemScope:yn,itemType:ls,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:yn,low:oi,manifest:null,max:null,maxLength:oi,media:null,method:null,min:null,minLength:oi,multiple:yn,muted:yn,name:null,nonce:null,noModule:yn,noValidate:yn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:yn,optimum:oi,pattern:null,ping:ls,placeholder:null,playsInline:yn,poster:null,preload:null,readOnly:yn,referrerPolicy:null,rel:ls,required:yn,reversed:yn,rows:oi,rowSpan:oi,sandbox:ls,scope:null,scoped:yn,seamless:yn,selected:yn,shape:null,size:oi,sizes:null,slot:null,span:oi,spellCheck:QC,src:null,srcDoc:null,srcLang:null,srcSet:SA,start:oi,step:null,style:null,tabIndex:oi,target:null,title:null,translate:null,type:null,typeMustMatch:yn,useMap:null,value:QC,width:oi,wrap:null,align:null,aLink:null,archive:ls,axis:null,background:null,bgColor:null,border:oi,borderColor:null,bottomMargin:oi,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:yn,declare:yn,event:null,face:null,frame:null,frameBorder:null,hSpace:oi,leftMargin:oi,link:null,longDesc:null,lowSrc:null,marginHeight:oi,marginWidth:oi,noResize:yn,noHref:yn,noShade:yn,noWrap:yn,object:null,profile:null,prompt:null,rev:null,rightMargin:oi,rules:null,scheme:null,scrolling:QC,standby:null,summary:null,text:null,topMargin:oi,valueType:null,version:null,vAlign:null,vLink:null,vSpace:oi,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:yn,disableRemotePlayback:yn,prefix:null,property:null,results:oi,security:null,unselectable:null}}),Rpn=lpn,Fpn=ypn,Lpn=xpn,Npn=Apn,Bpn=Ipn,Vpn=Ppn,zpn=Rpn([Lpn,Fpn,Npn,Bpn,Vpn]),Upn=cX,Hpn=YRe,Wpn=WRe,fX="data",Gpn=qpn,Kpn=/^data[-\w.:]+$/i,XRe=/-[a-z]/g,Ypn=/[A-Z]/g;function qpn(e,t){var n=Upn(t),r=t,i=Wpn;return n in e.normal?e.property[e.normal[n]]:(n.length>4&&n.slice(0,4)===fX&&Kpn.test(t)&&(t.charAt(4)==="-"?r=Zpn(t):t=Xpn(t),i=Hpn),new i(r,t))}function Zpn(e){var t=e.slice(5).replace(XRe,Qpn);return fX+t.charAt(0).toUpperCase()+t.slice(1)}function Xpn(e){var t=e.slice(4);return XRe.test(t)?e:(t=t.replace(Ypn,Jpn),t.charAt(0)!=="-"&&(t="-"+t),fX+t)}function Jpn(e){return"-"+e.toLowerCase()}function Qpn(e){return e.charAt(1).toUpperCase()}var emn=tmn,bpe=/[#.]/g;function tmn(e,t){for(var n=e||"",r=t||"div",i={},o=0,a,s,l;o<n.length;)bpe.lastIndex=o,l=bpe.exec(n),a=n.slice(o,l?l.index:n.length),a&&(s?s==="#"?i.id=a:i.className?i.className.push(a):i.className=[a]:r=a,o+=a.length),l&&(s=l[0],o++);return{type:"element",tagName:r,properties:i,children:[]}}var hX={};hX.parse=imn;hX.stringify=omn;var xpe="",nmn=" ",rmn=/[ \t\n\r\f]+/g;function imn(e){var t=String(e||xpe).trim();return t===xpe?[]:t.split(rmn)}function omn(e){return e.join(nmn).trim()}var pX={};pX.parse=amn;pX.stringify=smn;var bz=",",wpe=" ",Pk="";function amn(e){for(var t=[],n=String(e||Pk),r=n.indexOf(bz),i=0,o=!1,a;!o;)r===-1&&(r=n.length,o=!0),a=n.slice(i,r).trim(),(a||!o)&&t.push(a),i=r+1,r=n.indexOf(bz,i);return t}function smn(e,t){var n=t||{},r=n.padLeft===!1?Pk:wpe,i=n.padRight?wpe:Pk;return e[e.length-1]===Pk&&(e=e.concat(Pk)),e.join(i+bz+r).trim()}var lmn=Gpn,Cpe=cX,cmn=emn,kpe=hX.parse,Spe=pX.parse,umn=fmn,dmn={}.hasOwnProperty;function fmn(e,t,n){var r=n?ymn(n):null;return i;function i(a,s){var l=cmn(a,t),u=Array.prototype.slice.call(arguments,2),d=l.tagName.toLowerCase(),f;if(l.tagName=r&&dmn.call(r,d)?r[d]:d,s&&hmn(s,l)&&(u.unshift(s),s=null),s)for(f in s)o(l.properties,f,s[f]);return JRe(l.children,u),l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}function o(a,s,l){var u,d,f;l==null||l!==l||(u=lmn(e,s),d=u.property,f=l,typeof f=="string"&&(u.spaceSeparated?f=kpe(f):u.commaSeparated?f=Spe(f):u.commaOrSpaceSeparated&&(f=kpe(Spe(f).join(" ")))),d==="style"&&typeof l!="string"&&(f=gmn(f)),d==="className"&&a.className&&(f=a.className.concat(f)),a[d]=mmn(u,d,f))}}function hmn(e,t){return typeof e=="string"||"length"in e||pmn(t.tagName,e)}function pmn(e,t){var n=t.type;return e==="input"||!n||typeof n!="string"?!1:typeof t.children=="object"&&"length"in t.children?!0:(n=n.toLowerCase(),e==="button"?n!=="menu"&&n!=="submit"&&n!=="reset"&&n!=="button":"value"in t)}function JRe(e,t){var n,r;if(typeof t=="string"||typeof t=="number"){e.push({type:"text",value:String(t)});return}if(typeof t=="object"&&"length"in t){for(n=-1,r=t.length;++n<r;)JRe(e,t[n]);return}if(typeof t!="object"||!("type"in t))throw new Error("Expected node, nodes, or string, got `"+t+"`");e.push(t)}function mmn(e,t,n){var r,i,o;if(typeof n!="object"||!("length"in n))return Epe(e,t,n);for(i=n.length,r=-1,o=[];++r<i;)o[r]=Epe(e,t,n[r]);return o}function Epe(e,t,n){var r=n;return e.number||e.positiveNumber?!isNaN(r)&&r!==""&&(r=Number(r)):(e.boolean||e.overloadedBoolean)&&typeof r=="string"&&(r===""||Cpe(n)===Cpe(t))&&(r=!0),r}function gmn(e){var t=[],n;for(n in e)t.push([n,e[n]].join(": "));return t.join("; ")}function ymn(e){for(var t=e.length,n=-1,r={},i;++n<t;)i=e[n],r[i.toLowerCase()]=i;return r}var vmn=zpn,bmn=umn,QRe=bmn(vmn,"div");QRe.displayName="html";var xmn=QRe,wmn=xmn;const Cmn="",kmn="&",Smn="",Emn="",_mn="",Tmn="",Amn="",jmn="",Imn="",$mn="",Dmn="",Omn="",Mmn="",Pmn="",Rmn="",Fmn=">",Lmn="",Nmn="",Bmn="",Vmn="",zmn="<",Umn="",Hmn="",Wmn="",Gmn="",Kmn="",Ymn="",qmn="",Zmn='"',Xmn="",Jmn="",Qmn="",egn="",tgn="",ngn="",rgn="",ign="",ogn="",agn="",sgn="",lgn="",cgn="&",ugn="",dgn="",fgn="",hgn="",pgn="",mgn="",ggn="",ygn="",vgn="",bgn="",xgn="",wgn="",Cgn="",kgn="",Sgn="",Egn="",_gn="",Tgn="",Agn="",jgn=">",Ign="",$gn="",Dgn="",Ogn="",Mgn="",Pgn="",Rgn="",Fgn="<",Lgn="",Ngn="",Bgn="",Vgn="",zgn="",Ugn="",Hgn="",Wgn="",Ggn="",Kgn="",Ygn="",qgn="",Zgn="",Xgn="",Jgn="",Qgn="",e1n="",t1n='"',n1n="",r1n="",i1n="",o1n="",a1n="",s1n="",l1n="",c1n="",u1n="",d1n="",f1n="",h1n="",p1n="",m1n="",g1n="",y1n="",v1n="",b1n="",x1n={AElig:Cmn,AMP:kmn,Aacute:Smn,Acirc:Emn,Agrave:_mn,Aring:Tmn,Atilde:Amn,Auml:jmn,COPY:Imn,Ccedil:$mn,ETH:Dmn,Eacute:Omn,Ecirc:Mmn,Egrave:Pmn,Euml:Rmn,GT:Fmn,Iacute:Lmn,Icirc:Nmn,Igrave:Bmn,Iuml:Vmn,LT:zmn,Ntilde:Umn,Oacute:Hmn,Ocirc:Wmn,Ograve:Gmn,Oslash:Kmn,Otilde:Ymn,Ouml:qmn,QUOT:Zmn,REG:Xmn,THORN:Jmn,Uacute:Qmn,Ucirc:egn,Ugrave:tgn,Uuml:ngn,Yacute:rgn,aacute:ign,acirc:ogn,acute:agn,aelig:sgn,agrave:lgn,amp:cgn,aring:ugn,atilde:dgn,auml:fgn,brvbar:hgn,ccedil:pgn,cedil:mgn,cent:ggn,copy:ygn,curren:vgn,deg:bgn,divide:xgn,eacute:wgn,ecirc:Cgn,egrave:kgn,eth:Sgn,euml:Egn,frac12:_gn,frac14:Tgn,frac34:Agn,gt:jgn,iacute:Ign,icirc:$gn,iexcl:Dgn,igrave:Ogn,iquest:Mgn,iuml:Pgn,laquo:Rgn,lt:Fgn,macr:Lgn,micro:Ngn,middot:Bgn,nbsp:Vgn,not:zgn,ntilde:Ugn,oacute:Hgn,ocirc:Wgn,ograve:Ggn,ordf:Kgn,ordm:Ygn,oslash:qgn,otilde:Zgn,ouml:Xgn,para:Jgn,plusmn:Qgn,pound:e1n,quot:t1n,raquo:n1n,reg:r1n,sect:i1n,shy:o1n,sup1:a1n,sup2:s1n,sup3:l1n,szlig:c1n,thorn:u1n,times:d1n,uacute:f1n,ucirc:h1n,ugrave:p1n,uml:m1n,uuml:g1n,yacute:y1n,yen:v1n,yuml:b1n},w1n={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};var e4e=C1n;function C1n(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=48&&t<=57}var k1n=S1n;function S1n(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}var E1n=_1n;function _1n(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}var T1n=E1n,A1n=e4e,j1n=I1n;function I1n(e){return T1n(e)||A1n(e)}var EA,$1n=59,D1n=O1n;function O1n(e){var t="&"+e+";",n;return EA=EA||document.createElement("i"),EA.innerHTML=t,n=EA.textContent,n.charCodeAt(n.length-1)===$1n&&e!=="semi"||n===t?!1:n}var _pe=x1n,Tpe=w1n,M1n=e4e,P1n=k1n,t4e=j1n,R1n=D1n,F1n=Z1n,L1n={}.hasOwnProperty,K0=String.fromCharCode,N1n=Function.prototype,Ape={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},B1n=9,jpe=10,V1n=12,z1n=32,Ipe=38,U1n=59,H1n=60,W1n=61,G1n=35,K1n=88,Y1n=120,q1n=65533,cv="named",mX="hexadecimal",gX="decimal",yX={};yX[mX]=16;yX[gX]=10;var uR={};uR[cv]=t4e;uR[gX]=M1n;uR[mX]=P1n;var n4e=1,r4e=2,i4e=3,o4e=4,a4e=5,xz=6,s4e=7,_g={};_g[n4e]="Named character references must be terminated by a semicolon";_g[r4e]="Numeric character references must be terminated by a semicolon";_g[i4e]="Named character references cannot be empty";_g[o4e]="Numeric character references cannot be empty";_g[a4e]="Named character references must be known";_g[xz]="Numeric character references cannot be disallowed";_g[s4e]="Numeric character references cannot be outside the permissible Unicode range";function Z1n(e,t){var n={},r,i;t||(t={});for(i in Ape)r=t[i],n[i]=r??Ape[i];return(n.position.indent||n.position.start)&&(n.indent=n.position.indent||[],n.position=n.position.start),X1n(e,n)}function X1n(e,t){var n=t.additional,r=t.nonTerminated,i=t.text,o=t.reference,a=t.warning,s=t.textContext,l=t.referenceContext,u=t.warningContext,d=t.position,f=t.indent||[],h=e.length,m=0,g=-1,y=d.column||1,x=d.line||1,b="",v=[],w,C,k,S,E,_,T,A,I,j,$,D,O,M,P,F,L,U,H;for(typeof n=="string"&&(n=n.charCodeAt(0)),F=N(),A=a?Y:N1n,m--,h++;++m<h;)if(E===jpe&&(y=f[g]||1),E=e.charCodeAt(m),E===Ipe){if(T=e.charCodeAt(m+1),T===B1n||T===jpe||T===V1n||T===z1n||T===Ipe||T===H1n||T!==T||n&&T===n){b+=K0(E),y++;continue}for(O=m+1,D=O,H=O,T===G1n?(H=++D,T=e.charCodeAt(H),T===K1n||T===Y1n?(M=mX,H=++D):M=gX):M=cv,w="",$="",S="",P=uR[M],H--;++H<h&&(T=e.charCodeAt(H),!!P(T));)S+=K0(T),M===cv&&L1n.call(_pe,S)&&(w=S,$=_pe[S]);k=e.charCodeAt(H)===U1n,k&&(H++,C=M===cv?R1n(S):!1,C&&(w=S,$=C)),U=1+H-O,!k&&!r||(S?M===cv?(k&&!$?A(a4e,1):(w!==S&&(H=D+w.length,U=1+H-D,k=!1),k||(I=w?n4e:i4e,t.attribute?(T=e.charCodeAt(H),T===W1n?(A(I,U),$=null):t4e(T)?$=null:A(I,U)):A(I,U))),_=$):(k||A(r4e,U),_=parseInt(S,yX[M]),J1n(_)?(A(s4e,U),_=K0(q1n)):_ in Tpe?(A(xz,U),_=Tpe[_]):(j="",Q1n(_)&&A(xz,U),_>65535&&(_-=65536,j+=K0(_>>>10|55296),_=56320|_&1023),_=j+K0(_))):M!==cv&&A(o4e,U)),_?(J(),F=N(),m=H-1,y+=H-O+1,v.push(_),L=N(),L.offset++,o&&o.call(l,_,{start:F,end:L},e.slice(O-1,H)),F=L):(S=e.slice(O-1,H),b+=S,y+=S.length,m=H-1)}else E===10&&(x++,g++,y=0),E===E?(b+=K0(E),y++):J();return v.join("");function N(){return{line:x,column:y,offset:m+(d.offset||0)}}function Y(ee,oe){var re=N();re.column+=oe,re.offset+=oe,a.call(u,_g[ee],re,ee)}function J(){b&&(v.push(b),i&&i.call(s,b,{start:F,end:N()}),b="")}}function J1n(e){return e>=55296&&e<=57343||e>1114111}function Q1n(e){return e>=1&&e<=8||e===11||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534}var l4e={exports:{}};(function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,o=0,a={},s={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function v(w){return w instanceof l?new l(w.type,v(w.content),w.alias):Array.isArray(w)?w.map(v):w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(v){return Object.prototype.toString.call(v).slice(8,-1)},objId:function(v){return v.__id||Object.defineProperty(v,"__id",{value:++o}),v.__id},clone:function v(w,C){C=C||{};var k,S;switch(s.util.type(w)){case"Object":if(S=s.util.objId(w),C[S])return C[S];k={},C[S]=k;for(var E in w)w.hasOwnProperty(E)&&(k[E]=v(w[E],C));return k;case"Array":return S=s.util.objId(w),C[S]?C[S]:(k=[],C[S]=k,w.forEach(function(_,T){k[T]=v(_,C)}),k);default:return w}},getLanguage:function(v){for(;v;){var w=i.exec(v.className);if(w)return w[1].toLowerCase();v=v.parentElement}return"none"},setLanguage:function(v,w){v.className=v.className.replace(RegExp(i,"gi"),""),v.classList.add("language-"+w)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(k){var v=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(k.stack)||[])[1];if(v){var w=document.getElementsByTagName("script");for(var C in w)if(w[C].src==v)return w[C]}return null}},isActive:function(v,w,C){for(var k="no-"+w;v;){var S=v.classList;if(S.contains(w))return!0;if(S.contains(k))return!1;v=v.parentElement}return!!C}},languages:{plain:a,plaintext:a,text:a,txt:a,extend:function(v,w){var C=s.util.clone(s.languages[v]);for(var k in w)C[k]=w[k];return C},insertBefore:function(v,w,C,k){k=k||s.languages;var S=k[v],E={};for(var _ in S)if(S.hasOwnProperty(_)){if(_==w)for(var T in C)C.hasOwnProperty(T)&&(E[T]=C[T]);C.hasOwnProperty(_)||(E[_]=S[_])}var A=k[v];return k[v]=E,s.languages.DFS(s.languages,function(I,j){j===A&&I!=v&&(this[I]=E)}),E},DFS:function v(w,C,k,S){S=S||{};var E=s.util.objId;for(var _ in w)if(w.hasOwnProperty(_)){C.call(w,_,w[_],k||_);var T=w[_],A=s.util.type(T);A==="Object"&&!S[E(T)]?(S[E(T)]=!0,v(T,C,null,S)):A==="Array"&&!S[E(T)]&&(S[E(T)]=!0,v(T,C,_,S))}}},plugins:{},highlightAll:function(v,w){s.highlightAllUnder(document,v,w)},highlightAllUnder:function(v,w,C){var k={callback:C,container:v,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};s.hooks.run("before-highlightall",k),k.elements=Array.prototype.slice.apply(k.container.querySelectorAll(k.selector)),s.hooks.run("before-all-elements-highlight",k);for(var S=0,E;E=k.elements[S++];)s.highlightElement(E,w===!0,k.callback)},highlightElement:function(v,w,C){var k=s.util.getLanguage(v),S=s.languages[k];s.util.setLanguage(v,k);var E=v.parentElement;E&&E.nodeName.toLowerCase()==="pre"&&s.util.setLanguage(E,k);var _=v.textContent,T={element:v,language:k,grammar:S,code:_};function A(j){T.highlightedCode=j,s.hooks.run("before-insert",T),T.element.innerHTML=T.highlightedCode,s.hooks.run("after-highlight",T),s.hooks.run("complete",T),C&&C.call(T.element)}if(s.hooks.run("before-sanity-check",T),E=T.element.parentElement,E&&E.nodeName.toLowerCase()==="pre"&&!E.hasAttribute("tabindex")&&E.setAttribute("tabindex","0"),!T.code){s.hooks.run("complete",T),C&&C.call(T.element);return}if(s.hooks.run("before-highlight",T),!T.grammar){A(s.util.encode(T.code));return}if(w&&r.Worker){var I=new Worker(s.filename);I.onmessage=function(j){A(j.data)},I.postMessage(JSON.stringify({language:T.language,code:T.code,immediateClose:!0}))}else A(s.highlight(T.code,T.grammar,T.language))},highlight:function(v,w,C){var k={code:v,grammar:w,language:C};if(s.hooks.run("before-tokenize",k),!k.grammar)throw new Error('The language "'+k.language+'" has no grammar.');return k.tokens=s.tokenize(k.code,k.grammar),s.hooks.run("after-tokenize",k),l.stringify(s.util.encode(k.tokens),k.language)},tokenize:function(v,w){var C=w.rest;if(C){for(var k in C)w[k]=C[k];delete w.rest}var S=new f;return h(S,S.head,v),d(v,S,w,S.head,0),g(S)},hooks:{all:{},add:function(v,w){var C=s.hooks.all;C[v]=C[v]||[],C[v].push(w)},run:function(v,w){var C=s.hooks.all[v];if(!(!C||!C.length))for(var k=0,S;S=C[k++];)S(w)}},Token:l};r.Prism=s;function l(v,w,C,k){this.type=v,this.content=w,this.alias=C,this.length=(k||"").length|0}l.stringify=function v(w,C){if(typeof w=="string")return w;if(Array.isArray(w)){var k="";return w.forEach(function(A){k+=v(A,C)}),k}var S={type:w.type,content:v(w.content,C),tag:"span",classes:["token",w.type],attributes:{},language:C},E=w.alias;E&&(Array.isArray(E)?Array.prototype.push.apply(S.classes,E):S.classes.push(E)),s.hooks.run("wrap",S);var _="";for(var T in S.attributes)_+=" "+T+'="'+(S.attributes[T]||"").replace(/"/g,"&quot;")+'"';return"<"+S.tag+' class="'+S.classes.join(" ")+'"'+_+">"+S.content+"</"+S.tag+">"};function u(v,w,C,k){v.lastIndex=w;var S=v.exec(C);if(S&&k&&S[1]){var E=S[1].length;S.index+=E,S[0]=S[0].slice(E)}return S}function d(v,w,C,k,S,E){for(var _ in C)if(!(!C.hasOwnProperty(_)||!C[_])){var T=C[_];T=Array.isArray(T)?T:[T];for(var A=0;A<T.length;++A){if(E&&E.cause==_+","+A)return;var I=T[A],j=I.inside,$=!!I.lookbehind,D=!!I.greedy,O=I.alias;if(D&&!I.pattern.global){var M=I.pattern.toString().match(/[imsuy]*$/)[0];I.pattern=RegExp(I.pattern.source,M+"g")}for(var P=I.pattern||I,F=k.next,L=S;F!==w.tail&&!(E&&L>=E.reach);L+=F.value.length,F=F.next){var U=F.value;if(w.length>v.length)return;if(!(U instanceof l)){var H=1,N;if(D){if(N=u(P,L,v,$),!N||N.index>=v.length)break;var oe=N.index,Y=N.index+N[0].length,J=L;for(J+=F.value.length;oe>=J;)F=F.next,J+=F.value.length;if(J-=F.value.length,L=J,F.value instanceof l)continue;for(var ee=F;ee!==w.tail&&(J<Y||typeof ee.value=="string");ee=ee.next)H++,J+=ee.value.length;H--,U=v.slice(L,J),N.index-=L}else if(N=u(P,0,U,$),!N)continue;var oe=N.index,re=N[0],se=U.slice(0,oe),G=U.slice(oe+re.length),K=L+U.length;E&&K>E.reach&&(E.reach=K);var q=F.prev;se&&(q=h(w,q,se),L+=se.length),m(w,q,H);var X=new l(_,j?s.tokenize(re,j):re,O,re);if(F=h(w,q,X),G&&h(w,F,G),H>1){var ie={cause:_+","+A,reach:K};d(v,w,C,F.prev,L,ie),E&&ie.reach>E.reach&&(E.reach=ie.reach)}}}}}}function f(){var v={value:null,prev:null,next:null},w={value:null,prev:v,next:null};v.next=w,this.head=v,this.tail=w,this.length=0}function h(v,w,C){var k=w.next,S={value:C,prev:w,next:k};return w.next=S,k.prev=S,v.length++,S}function m(v,w,C){for(var k=w.next,S=0;S<C&&k!==v.tail;S++)k=k.next;w.next=k,k.prev=w,v.length-=S}function g(v){for(var w=[],C=v.head.next;C!==v.tail;)w.push(C.value),C=C.next;return w}if(!r.document)return r.addEventListener&&(s.disableWorkerMessageHandler||r.addEventListener("message",function(v){var w=JSON.parse(v.data),C=w.language,k=w.code,S=w.immediateClose;r.postMessage(s.highlight(k,s.languages[C],C)),S&&r.close()},!1)),s;var y=s.util.currentScript();y&&(s.filename=y.src,y.hasAttribute("data-manual")&&(s.manual=!0));function x(){s.manual||s.highlightAll()}if(!s.manual){var b=document.readyState;b==="loading"||b==="interactive"&&y&&y.defer?document.addEventListener("DOMContentLoaded",x):window.requestAnimationFrame?window.requestAnimationFrame(x):window.setTimeout(x,16)}return s}(t);e.exports&&(e.exports=n),typeof Ko<"u"&&(Ko.Prism=n)})(l4e);var eyn=l4e.exports,tyn=vX;vX.displayName="markup";vX.aliases=["html","mathml","svg","xml","ssml","atom","rss"];function vX(e){e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(n,r){var i={};i["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[r]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};o["language-"+r]={pattern:/[\s\S]+/,inside:e.languages[r]};var a={};a[n]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return n}),"i"),lookbehind:!0,greedy:!0,inside:o},e.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(t,n){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:e.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml}var nyn=bX;bX.displayName="css";bX.aliases=[];function bX(e){(function(t){var n=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+n.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+n.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+n.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:n,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var r=t.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))})(e)}var ryn=xX;xX.displayName="clike";xX.aliases=[];function xX(e){e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}var c4e=wX;wX.displayName="javascript";wX.aliases=["js"];function wX(e){e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript}const iyn=Ue(c4e);var Rk=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof Ko=="object"?Ko:{},oyn=wyn();Rk.Prism={manual:!0,disableWorkerMessageHandler:!0};var ayn=wmn,syn=F1n,u4e=eyn,lyn=tyn,cyn=nyn,uyn=ryn,dyn=c4e;oyn();var CX={}.hasOwnProperty;function d4e(){}d4e.prototype=u4e;var $o=new d4e,fyn=$o;$o.highlight=pyn;$o.register=r_;$o.alias=hyn;$o.registered=myn;$o.listLanguages=gyn;r_(lyn);r_(cyn);r_(uyn);r_(dyn);$o.util.encode=byn;$o.Token.stringify=yyn;function r_(e){if(typeof e!="function"||!e.displayName)throw new Error("Expected `function` for `grammar`, got `"+e+"`");$o.languages[e.displayName]===void 0&&e($o)}function hyn(e,t){var n=$o.languages,r=e,i,o,a,s;t&&(r={},r[e]=t);for(i in r)for(o=r[i],o=typeof o=="string"?[o]:o,a=o.length,s=-1;++s<a;)n[o[s]]=n[i]}function pyn(e,t){var n=u4e.highlight,r;if(typeof e!="string")throw new Error("Expected `string` for `value`, got `"+e+"`");if($o.util.type(t)==="Object")r=t,t=null;else{if(typeof t!="string")throw new Error("Expected `string` for `name`, got `"+t+"`");if(CX.call($o.languages,t))r=$o.languages[t];else throw new Error("Unknown language: `"+t+"` is not registered")}return n.call(this,e,r,t)}function myn(e){if(typeof e!="string")throw new Error("Expected `string` for `language`, got `"+e+"`");return CX.call($o.languages,e)}function gyn(){var e=$o.languages,t=[],n;for(n in e)CX.call(e,n)&&typeof e[n]=="object"&&t.push(n);return t}function yyn(e,t,n){var r;return typeof e=="string"?{type:"text",value:e}:$o.util.type(e)==="Array"?vyn(e,t):(r={type:e.type,content:$o.Token.stringify(e.content,t,n),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:n},e.alias&&(r.classes=r.classes.concat(e.alias)),$o.hooks.run("wrap",r),ayn(r.tag+"."+r.classes.join("."),xyn(r.attributes),r.content))}function vyn(e,t){for(var n=[],r=e.length,i=-1,o;++i<r;)o=e[i],o!==""&&o!==null&&o!==void 0&&n.push(o);for(i=-1,r=n.length;++i<r;)o=n[i],n[i]=$o.Token.stringify(o,t,n);return n}function byn(e){return e}function xyn(e){var t;for(t in e)e[t]=syn(e[t]);return e}function wyn(){var e="Prism"in Rk,t=e?Rk.Prism:void 0;return n;function n(){e?Rk.Prism=t:delete Rk.Prism,e=void 0,t=void 0}}var f4e={},Cyn=p;function kyn(e,t,n){if(e.tagName){var r=e.properties&&Array.isArray(e.properties.className)?e.properties.className.join(" "):e.properties.className;return Cyn.createElement(e.tagName,Object.assign({key:"fract-".concat(n,"-").concat(t)},e.properties,{className:r}),e.children&&e.children.map(h4e(n+1)))}return e.value}function h4e(e){return function(n,r){return kyn(n,r,e)}}f4e.depth=h4e;var p4e=m4e;function m4e(e){if(e==null)return Tyn;if(typeof e=="string")return _yn(e);if(typeof e=="object")return"length"in e?Eyn(e):Syn(e);if(typeof e=="function")return e;throw new Error("Expected function, string, or object as test")}function Syn(e){return t;function t(n){var r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function Eyn(e){for(var t=[],n=-1;++n<e.length;)t[n]=m4e(e[n]);return r;function r(){for(var i=-1;++i<t.length;)if(t[i].apply(this,arguments))return!0;return!1}}function _yn(e){return t;function t(n){return!!(n&&n.type===e)}}function Tyn(){return!0}var Ayn=p4e,jyn=$yn,Iyn={}.hasOwnProperty;function $yn(e,t,n){var r=Ayn(n||t),i=t.cascade==null?!0:t.cascade;return o(e,null,null);function o(a,s,l){var u,d,f,h,m;if(!r(a,s,l))return null;if(a.children){for(u=[],d=-1;++d<a.children.length;)f=o(a.children[d],d,a),f&&u.push(f);if(i&&a.children.length&&!u.length)return null}h={};for(m in a)Iyn.call(a,m)&&(h[m]=m==="children"?u:a[m]);return h}}var Dyn=Oyn;function Oyn(e){return e}var Myn=dR,Pyn=p4e,Ryn=Dyn,g4e=!0,y4e="skip",wz=!1;dR.CONTINUE=g4e;dR.SKIP=y4e;dR.EXIT=wz;function dR(e,t,n,r){var i,o;typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),o=Pyn(t),i=r?-1:1,a(e,null,[])();function a(s,l,u){var d=typeof s=="object"&&s!==null?s:{},f;return typeof d.type=="string"&&(f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0,h.displayName="node ("+Ryn(d.type+(f?"<"+f+">":""))+")"),h;function h(){var m=u.concat(s),g=[],y,x;if((!t||o(s,l,u[u.length-1]||null))&&(g=Fyn(n(s,u)),g[0]===wz))return g;if(s.children&&g[0]!==y4e)for(x=(r?s.children.length:-1)+i;x>-1&&x<s.children.length;){if(y=a(s.children[x],x,m)(),y[0]===wz)return y;x=typeof y[1]=="number"?y[1]:x+i}return g}}}function Fyn(e){return e!==null&&typeof e=="object"&&"length"in e?e:typeof e=="number"?[g4e,e]:[e]}var Lyn=typeof WeakMap=="function"?i_:o_;function i_(){this.map=new WeakMap}i_.prototype.has=function(e){return this.map.has(e)};i_.prototype.set=function(e,t){return this.map.set(e,t),this};i_.prototype.get=function(e){return this.map.get(e)};i_.prototype.clear=function(){};function o_(){this.keys=[],this.values=[]}o_.prototype.has=function(e){return this.keys.indexOf(e)!==-1};o_.prototype.set=function(e,t){var n=this.keys.indexOf(e);return n===-1?(this.keys.push(e),this.values.push(t)):this.values[n]=t,this};o_.prototype.get=function(e){var t=this.keys.indexOf(e);return t===-1?void 0:this.values[t]};o_.prototype.clear=function(){this.keys=[],this.values=[]};var Nyn=jyn,$pe=Myn,vL=Lyn;function v4e(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{lineNumber:1};return e.reduce(function(n,r){var i=t.lineNumber;if(r.type==="text"){if(r.value.indexOf(`
`)===-1)return r.lineStart=i,r.lineEnd=i,n.nodes.push(r),n;for(var o=r.value.split(`
`),a=0;a<o.length;a++){var s=a===0?t.lineNumber:++t.lineNumber;n.nodes.push({type:"text",value:a===o.length-1?o[a]:"".concat(o[a],`
`),lineStart:s,lineEnd:s})}return n.lineNumber=t.lineNumber,n}if(r.children){var l=v4e(r.children,t),u=l.nodes[0],d=l.nodes[l.nodes.length-1];return r.lineStart=u?u.lineStart:i,r.lineEnd=d?d.lineEnd:i,r.children=l.nodes,n.lineNumber=l.lineNumber,n.nodes.push(r),n}return n.nodes.push(r),n},{nodes:[],lineNumber:t.lineNumber})}function Byn(e,t){var n={type:"root",children:t},r=new vL,i=new vL,o=new vL,a=[];function s(f,h,m){a.push(h),m.forEach(function(v){f.has(v)||(f.set(v,Object.assign({},v,{children:[]})),v!==n&&a.push(v))});for(var g=m.length;g--;){var y=f.get(m[g]),x=m[g+1],b=f.get(x)||h;y.children.indexOf(b)===-1&&y.children.push(b)}}$pe(n,function(f,h){if(!f.children){if(f.lineStart<e){s(r,f,h);return}if(f.lineStart===e){s(i,f,h);return}f.lineEnd>e&&a.some(function(m){return h.indexOf(m)!==-1})&&s(o,f,h)}});var l=Nyn(n,function(f){return a.indexOf(f)===-1}),u=function(h){var m=h.get(n);return m?($pe(m,function(g,y){if(g.children){g.lineStart=0,g.lineEnd=0;return}y.forEach(function(x){x.lineStart=Math.max(x.lineStart,g.lineStart),x.lineEnd=Math.max(x.lineEnd,g.lineEnd)})}),m.children):[]},d=[].concat(u(r),u(i),u(o),l?l.children:[]);return r.clear(),i.clear(),o.clear(),d}function Vyn(e,t,n){var r=t.className||"refractor-marker";return{type:"element",tagName:t.component||"div",properties:t.component?Object.assign({},n,{className:r}):{className:r},children:e,lineStart:t.line,lineEnd:e[e.length-1].lineEnd,isMarker:!0}}function zyn(e,t,n){if(t.length===0||e.length===0)return e;for(var r=t.reduce(function(f,h){return Byn(h.line,f)},e),i=[],o=0,a=0;a<t.length;a++){for(var s=t[a],l=r[o];l&&l.lineEnd<s.line;l=r[++o])i.push(l);for(var u=[],d=r[o];d&&d.lineEnd===s.line;d=r[++o])u.push(d);u.length>0&&i.push(Vyn(u,s,n))}for(;o<r.length;)i.push(r[o++]);return i}function Uyn(e,t){var n=t.markers.map(function(i){return i.line?i:{line:i}}).sort(function(i,o){return i.line-o.line}),r=v4e(e).nodes;return zyn(r,n,t)}var Hyn=Uyn,Wyn=p,kX=fyn,Gyn=f4e,Kyn=Hyn,Dpe=Wyn.createElement;function SX(e){var t="language-".concat(e.language),n={className:t},r={className:[e.className||"refractor",t].filter(Boolean).join(" ")};e.inline&&(n.style={display:"inline"},n.className=e.className||"refractor");var i=kX.highlight(e.value,e.language);e.markers&&e.markers.length>0&&(i=Kyn(i,{markers:e.markers}));var o=i.length===0?e.value:i.map(Gyn.depth(0)),a=Dpe("code",n,o);return e.inline?a:Dpe("pre",r,a)}SX.registerLanguage=function(e){return kX.register(e)};SX.hasLanguage=function(e){return kX.registered(e)};var Yyn=SX;const a_=Ue(Yyn);var qyn=EX;EX.displayName="bash";EX.aliases=["shell"];function EX(e){(function(t){var n="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",r={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},i={bash:r,environment:{pattern:RegExp("\\$"+n),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+n),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};t.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+n),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:i},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:r}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:i},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:i.entity}}],environment:{pattern:RegExp("\\$?"+n),alias:"constant"},variable:i.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},r.inside=t.languages.bash;for(var o=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],a=i.variable[1].inside,s=0;s<o.length;s++)a[o[s]]=t.languages.bash[o[s]];t.languages.shell=t.languages.bash})(e)}const Zyn=Ue(qyn);var Xyn=_X;_X.displayName="json";_X.aliases=["webmanifest"];function _X(e){e.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},e.languages.webmanifest=e.languages.json}const Jyn=Ue(Xyn);var Qyn=TX;TX.displayName="jsx";TX.aliases=[];function TX(e){(function(t){var n=t.util.clone(t.languages.javascript),r=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,i=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,o=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function a(u,d){return u=u.replace(/<S>/g,function(){return r}).replace(/<BRACES>/g,function(){return i}).replace(/<SPREAD>/g,function(){return o}),RegExp(u,d)}o=a(o).source,t.languages.jsx=t.languages.extend("markup",n),t.languages.jsx.tag.pattern=a(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),t.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,t.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,t.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,t.languages.jsx.tag.inside.comment=n.comment,t.languages.insertBefore("inside","attr-name",{spread:{pattern:a(/<SPREAD>/.source),inside:t.languages.jsx}},t.languages.jsx.tag),t.languages.insertBefore("inside","special-attr",{script:{pattern:a(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:t.languages.jsx}}},t.languages.jsx.tag);var s=function(u){return u?typeof u=="string"?u:typeof u.content=="string"?u.content:u.content.map(s).join(""):""},l=function(u){for(var d=[],f=0;f<u.length;f++){var h=u[f],m=!1;if(typeof h!="string"&&(h.type==="tag"&&h.content[0]&&h.content[0].type==="tag"?h.content[0].content[0].content==="</"?d.length>0&&d[d.length-1].tagName===s(h.content[0].content[1])&&d.pop():h.content[h.content.length-1].content==="/>"||d.push({tagName:s(h.content[0].content[1]),openedBraces:0}):d.length>0&&h.type==="punctuation"&&h.content==="{"?d[d.length-1].openedBraces++:d.length>0&&d[d.length-1].openedBraces>0&&h.type==="punctuation"&&h.content==="}"?d[d.length-1].openedBraces--:m=!0),(m||typeof h=="string")&&d.length>0&&d[d.length-1].openedBraces===0){var g=s(h);f<u.length-1&&(typeof u[f+1]=="string"||u[f+1].type==="plain-text")&&(g+=s(u[f+1]),u.splice(f+1,1)),f>0&&(typeof u[f-1]=="string"||u[f-1].type==="plain-text")&&(g=s(u[f-1])+g,u.splice(f-1,1),f--),u[f]=new t.Token("plain-text",g,null,g)}h.content&&typeof h.content!="string"&&l(h.content)}};t.hooks.add("after-tokenize",function(u){u.language!=="jsx"&&u.language!=="tsx"||l(u.tokens)})})(e)}const e0n=Ue(Qyn);var t0n=AX;AX.displayName="typescript";AX.aliases=["ts"];function AX(e){(function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var n=t.languages.extend("typescript",{});delete n["class-name"],t.languages.typescript["class-name"].inside=n,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n}}}}),t.languages.ts=t.languages.typescript})(e)}const n0n=Ue(t0n),Or=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,W1="8.55.0",ar=globalThis;function fR(e,t,n){const r=n||ar,i=r.__SENTRY__=r.__SENTRY__||{},o=i[W1]=i[W1]||{};return o[e]||(o[e]=t())}const f0=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,r0n="Sentry Logger ",Cz=["debug","info","warn","error","log","assert","trace"],fD={};function h0(e){if(!("console"in ar))return e();const t=ar.console,n={},r=Object.keys(fD);r.forEach(i=>{const o=fD[i];n[i]=t[i],t[i]=o});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function i0n(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return f0?Cz.forEach(n=>{t[n]=(...r)=>{e&&h0(()=>{ar.console[n](`${r0n}[${n}]:`,...r)})}}):Cz.forEach(n=>{t[n]=()=>{}}),t}const Wt=fR("logger",i0n),b4e=50,ky="?",Ope=/\(error: (.*)\)/,Mpe=/captureMessage|captureException/;function x4e(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const o=[],a=n.split(`
`);for(let s=r;s<a.length;s++){const l=a[s];if(l.length>1024)continue;const u=Ope.test(l)?l.replace(Ope,"$1"):l;if(!u.match(/\S*Error: /)){for(const d of t){const f=d(u);if(f){o.push(f);break}}if(o.length>=b4e+i)break}}return a0n(o.slice(i))}}function o0n(e){return Array.isArray(e)?x4e(...e):e}function a0n(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(_A(t).function||"")&&t.pop(),t.reverse(),Mpe.test(_A(t).function||"")&&(t.pop(),Mpe.test(_A(t).function||"")&&t.pop()),t.slice(0,b4e).map(n=>({...n,filename:n.filename||_A(t).filename,function:n.function||ky}))}function _A(e){return e[e.length-1]||{}}const bL="<anonymous>";function tg(e){try{return!e||typeof e!="function"?bL:e.name||bL}catch{return bL}}function Ppe(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const mI={},Rpe={};function p0(e,t){mI[e]=mI[e]||[],mI[e].push(t)}function m0(e,t){if(!Rpe[e]){Rpe[e]=!0;try{t()}catch(n){f0&&Wt.error(`Error while instrumenting ${e}`,n)}}}function ju(e,t){const n=e&&mI[e];if(n)for(const r of n)try{r(t)}catch(i){f0&&Wt.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${tg(r)}
Error:`,i)}}let xL=null;function s0n(e){const t="error";p0(t,e),m0(t,l0n)}function l0n(){xL=ar.onerror,ar.onerror=function(e,t,n,r,i){return ju("error",{column:r,error:i,line:n,msg:e,url:t}),xL?xL.apply(this,arguments):!1},ar.onerror.__SENTRY_INSTRUMENTED__=!0}let wL=null;function c0n(e){const t="unhandledrejection";p0(t,e),m0(t,u0n)}function u0n(){wL=ar.onunhandledrejection,ar.onunhandledrejection=function(e){return ju("unhandledrejection",e),wL?wL.apply(this,arguments):!0},ar.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function hR(){return jX(ar),ar}function jX(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||W1,t[W1]=t[W1]||{}}const w4e=Object.prototype.toString;function IX(e){switch(w4e.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Sy(e,Error)}}function Gw(e,t){return w4e.call(e)===`[object ${t}]`}function C4e(e){return Gw(e,"ErrorEvent")}function Fpe(e){return Gw(e,"DOMError")}function d0n(e){return Gw(e,"DOMException")}function bh(e){return Gw(e,"String")}function $X(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function DX(e){return e===null||$X(e)||typeof e!="object"&&typeof e!="function"}function Sx(e){return Gw(e,"Object")}function pR(e){return typeof Event<"u"&&Sy(e,Event)}function f0n(e){return typeof Element<"u"&&Sy(e,Element)}function h0n(e){return Gw(e,"RegExp")}function mR(e){return!!(e&&e.then&&typeof e.then=="function")}function p0n(e){return Sx(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Sy(e,t){try{return e instanceof t}catch{return!1}}function k4e(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}const OX=ar,m0n=80;function S4e(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let o=0,a=0;const s=" > ",l=s.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||m0n;for(;n&&o++<r&&(u=g0n(n,d),!(u==="html"||o>1&&a+i.length*l+u.length>=f));)i.push(u),a+=u.length,n=n.parentNode;return i.reverse().join(s)}catch{return"<unknown>"}}function g0n(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(OX.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter(a=>n.getAttribute(a)).map(a=>[a,n.getAttribute(a)]):null;if(i&&i.length)i.forEach(a=>{r.push(`[${a[0]}="${a[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const a=n.className;if(a&&bh(a)){const s=a.split(/\s+/);for(const l of s)r.push(`.${l}`)}}const o=["aria-label","type","name","title","alt"];for(const a of o){const s=n.getAttribute(a);s&&r.push(`[${a}="${s}"]`)}return r.join("")}function y0n(){try{return OX.document.location.href}catch{return""}}function v0n(e){if(!OX.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function jb(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Lpe(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{k4e(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function b0n(e,t,n=!1){return bh(e)?h0n(t)?t.test(e):bh(t)?n?e===t:e.includes(t):!1:!1}function gR(e,t=[],n=!1){return t.some(r=>b0n(e,r,n))}function _l(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);typeof i=="function"&&E4e(i,r);try{e[t]=i}catch{f0&&Wt.log(`Failed to replace method "${t}" in object`,e)}}function Ey(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{f0&&Wt.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function E4e(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Ey(e,"__sentry_original__",t)}catch{}}function MX(e){return e.__sentry_original__}function _4e(e){if(IX(e))return{message:e.message,name:e.name,stack:e.stack,...Bpe(e)};if(pR(e)){const t={type:e.type,target:Npe(e.target),currentTarget:Npe(e.currentTarget),...Bpe(e)};return typeof CustomEvent<"u"&&Sy(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Npe(e){try{return f0n(e)?S4e(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Bpe(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function x0n(e,t=40){const n=Object.keys(_4e(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return jb(r,t);for(let i=n.length;i>0;i--){const o=n.slice(0,i).join(", ");if(!(o.length>t))return i===n.length?o:jb(o,t)}return""}function Cc(e){return kz(e,new Map)}function kz(e,t){if(w0n(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const i of Object.getOwnPropertyNames(e))typeof e[i]<"u"&&(r[i]=kz(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(i=>{r.push(kz(i,t))}),r}return e}function w0n(e){if(!Sx(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const T4e=1e3;function s_(){return Date.now()/T4e}function C0n(){const{performance:e}=ar;if(!e||!e.now)return s_;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/T4e}const xh=C0n();(()=>{const{performance:e}=ar;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=i<t,a=e.timing&&e.timing.navigationStart,l=typeof a=="number"?Math.abs(a+n-r):t,u=l<t;return o||u?i<=l?e.timeOrigin:a:r})();function Ic(){const e=ar,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function A4e(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Kp(e){const{message:t,event_id:n}=e;if(t)return t;const r=A4e(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Sz(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")}function Ex(e,t){const n=A4e(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const o={...i&&i.data,...t.data};n.mechanism.data=o}}function Vpe(e){if(k0n(e))return!0;try{Ey(e,"__sentry_captured__",!0)}catch{}return!1}function k0n(e){try{return e.__sentry_captured__}catch{}}var Nf;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(Nf||(Nf={}));function _y(e){return new dc(t=>{t(e)})}function hD(e){return new dc((t,n)=>{n(e)})}class dc{constructor(t){dc.prototype.__init.call(this),dc.prototype.__init2.call(this),dc.prototype.__init3.call(this),dc.prototype.__init4.call(this),this._state=Nf.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new dc((r,i)=>{this._handlers.push([!1,o=>{if(!t)r(o);else try{r(t(o))}catch(a){i(a)}},o=>{if(!n)i(o);else try{r(n(o))}catch(a){i(a)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new dc((n,r)=>{let i,o;return this.then(a=>{o=!1,i=a,t&&t()},a=>{o=!0,i=a,t&&t()}).then(()=>{if(o){r(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(Nf.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Nf.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===Nf.PENDING){if(mR(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Nf.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Nf.RESOLVED&&n[1](this._value),this._state===Nf.REJECTED&&n[2](this._value),n[0]=!0)})}}}function S0n(e){const t=xh(),n={sid:Ic(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>_0n(n)};return e&&_x(n,e),n}function _x(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||xh(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Ic()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function E0n(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),_x(e,n)}function _0n(e){return Cc({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}function zpe(){return Ic()}function Ez(){return Ic().substring(16)}function yR(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const r={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=yR(r[i],t[i],n-1));return r}const _z="_sentrySpan";function Upe(e,t){t?Ey(e,_z,t):delete e[_z]}function Hpe(e){return e[_z]}const T0n=100;class PX{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:zpe(),spanId:Ez()}}clone(){const t=new PX;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Upe(t,Hpe(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&_x(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,i]=n instanceof Gh?[n.getScopeData(),n.getRequestSession()]:Sx(n)?[t,t.requestSession]:[],{tags:o,extra:a,user:s,contexts:l,level:u,fingerprint:d=[],propagationContext:f}=r||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...a},this._contexts={...this._contexts,...l},s&&Object.keys(s).length&&(this._user=s),u&&(this._level=u),d.length&&(this._fingerprint=d),f&&(this._propagationContext=f),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,Upe(this,void 0),this._attachments=[],this.setPropagationContext({traceId:zpe()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:T0n;if(r<=0)return this;const i={timestamp:s_(),...t};return this._breadcrumbs.push(i),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Hpe(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=yR(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:Ez(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:Ic();if(!this._client)return Wt.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:Ic();if(!this._client)return Wt.warn("No client configured on scope - will not capture message!"),i;const o=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:o,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:Ic();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(Wt.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const Gh=PX;function A0n(){return fR("defaultCurrentScope",()=>new Gh)}function j0n(){return fR("defaultIsolationScope",()=>new Gh)}class I0n{constructor(t,n){let r;t?r=t:r=new Gh;let i;n?i=n:i=new Gh,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return mR(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Tx(){const e=hR(),t=jX(e);return t.stack=t.stack||new I0n(A0n(),j0n())}function $0n(e){return Tx().withScope(e)}function D0n(e,t){const n=Tx();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function Wpe(e){return Tx().withScope(()=>e(Tx().getIsolationScope()))}function O0n(){return{withIsolationScope:Wpe,withScope:$0n,withSetScope:D0n,withSetIsolationScope:(e,t)=>Wpe(t),getCurrentScope:()=>Tx().getScope(),getIsolationScope:()=>Tx().getIsolationScope()}}function RX(e){const t=jX(e);return t.acs?t.acs:O0n()}function Wu(){const e=hR();return RX(e).getCurrentScope()}function Kw(){const e=hR();return RX(e).getIsolationScope()}function M0n(){return fR("globalScope",()=>new Gh)}function j4e(...e){const t=hR(),n=RX(t);if(e.length===2){const[r,i]=e;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(e[0])}function Do(){return Wu().getClient()}function P0n(e){const t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:i}=t;return Cc({trace_id:n,span_id:r,parent_span_id:i})}const R0n="_sentryMetrics";function F0n(e){const t=e[R0n];if(!t)return;const n={};for(const[,[r,i]]of t)(n[r]||(n[r]=[])).push(Cc(i));return n}const L0n="sentry.source",N0n="sentry.sample_rate",B0n="sentry.op",V0n="sentry.origin",z0n=0,U0n=1,H0n="sentry-",W0n=/^sentry-/;function G0n(e){const t=K0n(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,o])=>{if(i.match(W0n)){const a=i.slice(H0n.length);r[a]=o}return r},{});if(Object.keys(n).length>0)return n}function K0n(e){if(!(!e||!bh(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=Gpe(n);return Object.entries(r).forEach(([i,o])=>{t[i]=o}),t},{}):Gpe(e)}function Gpe(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}const Y0n=1;let Kpe=!1;function q0n(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),i=r?t:FX(e).parent_span_id,o=r?Ez():t;return Cc({parent_span_id:i,span_id:o,trace_id:n})}function Ype(e){return typeof e=="number"?qpe(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?qpe(e.getTime()):xh()}function qpe(e){return e>9999999999?e/1e3:e}function FX(e){if(X0n(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(Z0n(e)){const{attributes:r,startTime:i,name:o,endTime:a,parentSpanId:s,status:l}=e;return Cc({span_id:t,trace_id:n,data:r,description:o,parent_span_id:s,start_timestamp:Ype(i),timestamp:Ype(a)||void 0,status:Q0n(l),op:r[B0n],origin:r[V0n],_metrics_summary:F0n(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function Z0n(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function X0n(e){return typeof e.getSpanJSON=="function"}function J0n(e){const{traceFlags:t}=e.spanContext();return t===Y0n}function Q0n(e){if(!(!e||e.code===z0n))return e.code===U0n?"ok":e.message||"unknown_error"}const evn="_sentryRootSpan";function I4e(e){return e[evn]||e}function tvn(){Kpe||(h0(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),Kpe=!0)}function nvn(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=Do(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}const LX="production",rvn="_frozenDsc";function $4e(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=Cc({environment:n.environment||LX,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",i),i}function ivn(e,t){const n=t.getPropagationContext();return n.dsc||$4e(n.traceId,e)}function ovn(e){const t=Do();if(!t)return{};const n=I4e(e),r=n[rvn];if(r)return r;const i=n.spanContext().traceState,o=i&&i.get("sentry.dsc"),a=o&&G0n(o);if(a)return a;const s=$4e(e.spanContext().traceId,t),l=FX(n),u=l.data||{},d=u[N0n];d!=null&&(s.sample_rate=`${d}`);const f=u[L0n],h=l.description;return f!=="url"&&h&&(s.transaction=h),nvn()&&(s.sampled=String(J0n(n))),t.emit("createDsc",s,n),s}function avn(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){Or&&Wt.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}const svn=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function lvn(e){return e==="http"||e==="https"}function vR(e,t=!1){const{host:n,path:r,pass:i,port:o,projectId:a,protocol:s,publicKey:l}=e;return`${s}://${l}${t&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${r&&`${r}/`}${a}`}function cvn(e){const t=svn.exec(e);if(!t){h0(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",o="",a="",s=""]=t.slice(1);let l="",u=s;const d=u.split("/");if(d.length>1&&(l=d.slice(0,-1).join("/"),u=d.pop()),u){const f=u.match(/^\d+/);f&&(u=f[0])}return D4e({host:o,pass:i,path:l,projectId:u,port:a,protocol:n,publicKey:r})}function D4e(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function uvn(e){if(!f0)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(a=>e[a]?!1:(Wt.error(`Invalid Sentry Dsn: ${a} missing`),!0))?!1:n.match(/^\d+$/)?lvn(r)?t&&isNaN(parseInt(t,10))?(Wt.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(Wt.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(Wt.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function dvn(e){const t=typeof e=="string"?cvn(e):D4e(e);if(!(!t||!uvn(t)))return t}function fvn(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let o=0;o<t.length;o++)if(t[o]===i)return!0;return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let o=0;o<t.length;o++)if(t[o]===i){t.splice(o,1);break}}return[n,r]}function Bf(e,t=100,n=1/0){try{return Tz("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function O4e(e,t=3,n=100*1024){const r=Bf(e,t);return gvn(r)>n?O4e(e,t-1,n):r}function Tz(e,t,n=1/0,r=1/0,i=fvn()){const[o,a]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const s=hvn(e,t);if(!s.startsWith("[object "))return s;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return s.replace("object ","");if(o(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const m=u.toJSON();return Tz("",m,l-1,r,i)}catch{}const d=Array.isArray(t)?[]:{};let f=0;const h=_4e(t);for(const m in h){if(!Object.prototype.hasOwnProperty.call(h,m))continue;if(f>=r){d[m]="[MaxProperties ~]";break}const g=h[m];d[m]=Tz(m,g,l-1,r,i),f++}return a(t),d}function hvn(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(k4e(t))return"[VueViewModel]";if(p0n(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${tg(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=pvn(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function pvn(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function mvn(e){return~-encodeURI(e).split(/%..|./).length}function gvn(e){return mvn(JSON.stringify(e))}function l_(e,t=[]){return[e,t]}function yvn(e,t){const[n,r]=e;return[n,[...r,t]]}function Zpe(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function Az(e){return ar.__SENTRY__&&ar.__SENTRY__.encodePolyfill?ar.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function vvn(e){const[t,n]=e;let r=JSON.stringify(t);function i(o){typeof r=="string"?r=typeof o=="string"?r+o:[Az(r),o]:r.push(typeof o=="string"?Az(o):o)}for(const o of n){const[a,s]=o;if(i(`
${JSON.stringify(a)}
`),typeof s=="string"||s instanceof Uint8Array)i(s);else{let l;try{l=JSON.stringify(s)}catch{l=JSON.stringify(Bf(s))}i(l)}}return typeof r=="string"?r:bvn(r)}function bvn(e){const t=e.reduce((i,o)=>i+o.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function xvn(e){const t=typeof e.data=="string"?Az(e.data):e.data;return[Cc({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const wvn={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function Xpe(e){return wvn[e]}function M4e(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function Cvn(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:vR(r)},...i&&{trace:Cc({...i})}}}function kvn(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function Svn(e,t,n,r){const i=M4e(n),o={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:vR(t)}},a="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return l_(o,[a])}function Evn(e,t,n,r){const i=M4e(n),o=e.type&&e.type!=="replay_event"?e.type:"event";kvn(e,n&&n.sdk);const a=Cvn(e,i,r,t);return delete e.sdkProcessingMetadata,l_(a,[[{type:o},e]])}function jz(e,t,n,r=0){return new dc((i,o)=>{const a=e[r];if(t===null||typeof a!="function")i(t);else{const s=a({...t},n);Or&&a.id&&s===null&&Wt.log(`Event processor "${a.id}" dropped event`),mR(s)?s.then(l=>jz(e,l,n,r+1).then(i)).then(null,o):jz(e,s,n,r+1).then(i).then(null,o)}})}let TA,Jpe,AA;function _vn(e){const t=ar._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return AA&&n.length===Jpe||(Jpe=n.length,AA=n.reduce((r,i)=>{TA||(TA={});const o=TA[i];if(o)r[o[0]]=o[1];else{const a=e(i);for(let s=a.length-1;s>=0;s--){const l=a[s],u=l&&l.filename,d=t[i];if(u&&d){r[u]=d,TA[i]=[u,d];break}}}return r},{})),AA}function Tvn(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:o}=t;Avn(e,t),r&&$vn(e,r),Dvn(e,n),jvn(e,i),Ivn(e,o)}function Qpe(e,t){const{extra:n,tags:r,user:i,contexts:o,level:a,sdkProcessingMetadata:s,breadcrumbs:l,fingerprint:u,eventProcessors:d,attachments:f,propagationContext:h,transactionName:m,span:g}=t;jA(e,"extra",n),jA(e,"tags",r),jA(e,"user",i),jA(e,"contexts",o),e.sdkProcessingMetadata=yR(e.sdkProcessingMetadata,s,2),a&&(e.level=a),m&&(e.transactionName=m),g&&(e.span=g),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext={...e.propagationContext,...h}}function jA(e,t,n){e[t]=yR(e[t],n,1)}function Avn(e,t){const{extra:n,tags:r,user:i,contexts:o,level:a,transactionName:s}=t,l=Cc(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const u=Cc(r);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});const d=Cc(i);d&&Object.keys(d).length&&(e.user={...d,...e.user});const f=Cc(o);f&&Object.keys(f).length&&(e.contexts={...f,...e.contexts}),a&&(e.level=a),s&&e.type!=="transaction"&&(e.transaction=s)}function jvn(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function Ivn(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function $vn(e,t){e.contexts={trace:q0n(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:ovn(t),...e.sdkProcessingMetadata};const n=I4e(t),r=FX(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function Dvn(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function Ovn(e,t,n,r,i,o){const{normalizeDepth:a=3,normalizeMaxBreadth:s=1e3}=e,l={...t,event_id:t.event_id||n.event_id||Ic(),timestamp:t.timestamp||s_()},u=n.integrations||e.integrations.map(x=>x.name);Mvn(l,e),Fvn(l,u),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&Pvn(l,e.stackParser);const d=Nvn(r,n.captureContext);n.mechanism&&Ex(l,n.mechanism);const f=i?i.getEventProcessors():[],h=M0n().getScopeData();if(o){const x=o.getScopeData();Qpe(h,x)}if(d){const x=d.getScopeData();Qpe(h,x)}const m=[...n.attachments||[],...h.attachments];m.length&&(n.attachments=m),Tvn(l,h);const g=[...f,...h.eventProcessors];return jz(g,l,n).then(x=>(x&&Rvn(x),typeof a=="number"&&a>0?Lvn(x,a,s):x))}function Mvn(e,t){const{environment:n,release:r,dist:i,maxValueLength:o=250}=t;e.environment=e.environment||n||LX,!e.release&&r&&(e.release=r),!e.dist&&i&&(e.dist=i),e.message&&(e.message=jb(e.message,o));const a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=jb(a.value,o));const s=e.request;s&&s.url&&(s.url=jb(s.url,o))}function Pvn(e,t){const n=_vn(t);try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{n&&i.filename&&(i.debug_id=n[i.filename])})})}catch{}}function Rvn(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,i])=>{n.push({type:"sourcemap",code_file:r,debug_id:i})})}function Fvn(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function Lvn(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:Bf(i.data,t,n)}}))},...e.user&&{user:Bf(e.user,t,n)},...e.contexts&&{contexts:Bf(e.contexts,t,n)},...e.extra&&{extra:Bf(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Bf(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:Bf(i.data,t,n)}}))),e.contexts&&e.contexts.flags&&r.contexts&&(r.contexts.flags=Bf(e.contexts.flags,3,n)),r}function Nvn(e,t){if(!t)return e;const n=e?e.clone():new Gh;return n.update(t),n}function Bvn(e){if(e)return Vvn(e)?{captureContext:e}:Uvn(e)?{captureContext:e}:e}function Vvn(e){return e instanceof Gh||typeof e=="function"}const zvn=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Uvn(e){return Object.keys(e).some(t=>zvn.includes(t))}function P4e(e,t){return Wu().captureException(e,Bvn(t))}function R4e(e,t){return Wu().captureEvent(e,t)}function Hvn(e,t){Kw().setContext(e,t)}function Wvn(){return!!Do()}function eme(e){const t=Do(),n=Kw(),r=Wu(),{release:i,environment:o=LX}=t&&t.getOptions()||{},{userAgent:a}=ar.navigator||{},s=S0n({release:i,environment:o,user:r.getUser()||n.getUser(),...a&&{userAgent:a},...e}),l=n.getSession();return l&&l.status==="ok"&&_x(l,{status:"exited"}),F4e(),n.setSession(s),r.setSession(s),s}function F4e(){const e=Kw(),t=Wu(),n=t.getSession()||e.getSession();n&&E0n(n),L4e(),e.setSession(),t.setSession()}function L4e(){const e=Kw(),t=Wu(),n=Do(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function tme(e=!1){if(e){F4e();return}L4e()}const Gvn="7";function Kvn(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Yvn(e){return`${Kvn(e)}${e.projectId}/envelope/`}function qvn(e,t){const n={sentry_version:Gvn};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function Zvn(e,t,n){return t||`${Yvn(e)}?${qvn(e,n)}`}const nme=[];function Xvn(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function Jvn(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(a=>{a.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const a=n(t);r=Array.isArray(a)?a:[a]}else r=t;const i=Xvn(r),o=i.findIndex(a=>a.name==="Debug");if(o>-1){const[a]=i.splice(o,1);i.push(a)}return i}function Qvn(e,t){const n={};return t.forEach(r=>{r&&N4e(e,r,n)}),n}function rme(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function N4e(e,t,n){if(n[t.name]){Or&&Wt.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,nme.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),nme.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,o)=>r(i,o,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((o,a)=>r(o,a,e),{id:t.name});e.addEventProcessor(i)}Or&&Wt.log(`Integration installed: ${t.name}`)}function ebn(e,t,n){const r=[{type:"client_report"},{timestamp:n||s_(),discarded_events:e}];return l_(t?{dsn:t}:{},[r])}class hu extends Error{constructor(t,n="warn"){super(t),this.message=t,this.logLevel=n}}const ime="Not capturing exception because it's already been captured.";class tbn{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=dvn(t.dsn):Or&&Wt.warn("No DSN provided, client will not send events."),this._dsn){const i=Zvn(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:i})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find(i=>i in t&&t[i]==null);r&&h0(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,n,r){const i=Ic();if(Vpe(t))return Or&&Wt.log(ime),i;const o={event_id:i,...n};return this._process(this.eventFromException(t,o).then(a=>this._captureEvent(a,o,r))),o.event_id}captureMessage(t,n,r,i){const o={event_id:Ic(),...r},a=$X(t)?t:String(t),s=DX(t)?this.eventFromMessage(a,n,o):this.eventFromException(t,o);return this._process(s.then(l=>this._captureEvent(l,o,i))),o.event_id}captureEvent(t,n,r){const i=Ic();if(n&&n.originalException&&Vpe(n.originalException))return Or&&Wt.log(ime),i;const o={event_id:i,...n},s=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,o,s||r)),o.event_id}captureSession(t){typeof t.release!="string"?Or&&Wt.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),_x(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):_y(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];N4e(this,t,this._integrations),n||rme(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Evn(t,this._dsn,this._options._metadata,this._options.tunnel);for(const o of n.attachments||[])r=yvn(r,xvn(o));const i=this.sendEnvelope(r);i&&i.then(o=>this.emit("afterSendEvent",t,o),null)}sendSession(t){const n=Svn(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const i=typeof r=="number"?r:1,o=`${t}:${n}`;Or&&Wt.log(`Recording outcome: "${o}"${i>1?` (${i} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+i}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const i=r.indexOf(n);i>-1&&r.splice(i,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(i=>i(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(Or&&Wt.error("Error while sending envelope:",n),n)):(Or&&Wt.error("Transport disabled"),_y({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=Qvn(this,t),rme(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",i=!1;const o=n.exception&&n.exception.values;if(o){i=!0;for(const l of o){const u=l.mechanism;if(u&&u.handled===!1){r=!0;break}}}const a=t.status==="ok";(a&&t.errors===0||a&&r)&&(_x(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new dc(n=>{let r=0;const i=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),n(!0)):(r+=i,t&&r>=t&&(clearInterval(o),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r=Wu(),i=Kw()){const o=this.getOptions(),a=Object.keys(this._integrations);return!n.integrations&&a.length>0&&(n.integrations=a),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),Ovn(o,t,n,r,this,i).then(s=>{if(s===null)return s;s.contexts={trace:P0n(r),...s.contexts};const l=ivn(this,r);return s.sdkProcessingMetadata={dynamicSamplingContext:l,...s.sdkProcessingMetadata},s})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{Or&&(i instanceof hu&&i.logLevel==="log"?Wt.log(i.message):Wt.warn(i))})}_processEvent(t,n,r){const i=this.getOptions(),{sampleRate:o}=i,a=V4e(t),s=B4e(t),l=t.type||"error",u=`before send for type \`${l}\``,d=typeof o>"u"?void 0:avn(o);if(s&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),hD(new hu(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const f=l==="replay_event"?"replay":l,m=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,m).then(g=>{if(g===null)throw this.recordDroppedEvent("event_processor",f,t),new hu("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return g;const x=rbn(this,i,g,n);return nbn(x,u)}).then(g=>{if(g===null){if(this.recordDroppedEvent("before_send",f,t),a){const v=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",v)}throw new hu(`${u} returned \`null\`, will not send event.`,"log")}const y=r&&r.getSession();if(!a&&y&&this._updateSessionFromEvent(y,g),a){const b=g.sdkProcessingMetadata&&g.sdkProcessingMetadata.spanCountBeforeProcessing||0,v=g.spans?g.spans.length:0,w=b-v;w>0&&this.recordDroppedEvent("before_send","span",w)}const x=g.transaction_info;if(a&&x&&g.transaction!==t.transaction){const b="custom";g.transaction_info={...x,source:b}}return this.sendEvent(g,n),g}).then(null,g=>{throw g instanceof hu?g:(this.captureException(g,{data:{__sentry__:!0},originalException:g}),new hu(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${g}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[i,o]=n.split(":");return{reason:i,category:o,quantity:r}})}_flushOutcomes(){Or&&Wt.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){Or&&Wt.log("No outcomes to send");return}if(!this._dsn){Or&&Wt.log("No dsn provided, will not send outcomes");return}Or&&Wt.log("Sending outcomes:",t);const n=ebn(t,this._options.tunnel&&vR(this._dsn));this.sendEnvelope(n)}}function nbn(e,t){const n=`${t} must return \`null\` or a valid event.`;if(mR(e))return e.then(r=>{if(!Sx(r)&&r!==null)throw new hu(n);return r},r=>{throw new hu(`${t} rejected with ${r}`)});if(!Sx(e)&&e!==null)throw new hu(n);return e}function rbn(e,t,n,r){const{beforeSend:i,beforeSendTransaction:o,beforeSendSpan:a}=t;if(B4e(n)&&i)return i(n,r);if(V4e(n)){if(n.spans&&a){const s=[];for(const l of n.spans){const u=a(l);u?s.push(u):(tvn(),e.recordDroppedEvent("before_send","span"))}n.spans=s}if(o){if(n.spans){const s=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:s}}return o(n,r)}}return n}function B4e(e){return e.type===void 0}function V4e(e){return e.type==="transaction"}function ibn(e,t){t.debug===!0&&(Or?Wt.enable():h0(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Wu().update(t.initialScope);const r=new e(t);return obn(r),r.init(),r}function obn(e){Wu().setClient(e)}function abn(e){const t=[];function n(){return e===void 0||t.length<e}function r(a){return t.splice(t.indexOf(a),1)[0]||Promise.resolve(void 0)}function i(a){if(!n())return hD(new hu("Not adding Promise because buffer limit was reached."));const s=a();return t.indexOf(s)===-1&&t.push(s),s.then(()=>r(s)).then(null,()=>r(s).then(null,()=>{})),s}function o(a){return new dc((s,l)=>{let u=t.length;if(!u)return s(!0);const d=setTimeout(()=>{a&&a>0&&s(!1)},a);t.forEach(f=>{_y(f).then(()=>{--u||(clearTimeout(d),s(!0))},l)})})}return{$:t,add:i,drain:o}}const sbn=60*1e3;function lbn(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?sbn:r-t}function cbn(e,t){return e[t]||e.all||0}function ubn(e,t,n=Date.now()){return cbn(e,t)>n}function dbn(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},o=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(o)for(const s of o.trim().split(",")){const[l,u,,,d]=s.split(":",5),f=parseInt(l,10),h=(isNaN(f)?60:f)*1e3;if(!u)i.all=r+h;else for(const m of u.split(";"))m==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(i[m]=r+h):i[m]=r+h}else a?i.all=r+lbn(a,r):t===429&&(i.all=r+60*1e3);return i}const fbn=64;function hbn(e,t,n=abn(e.bufferSize||fbn)){let r={};const i=a=>n.drain(a);function o(a){const s=[];if(Zpe(a,(f,h)=>{const m=Xpe(h);if(ubn(r,m)){const g=ome(f,h);e.recordDroppedEvent("ratelimit_backoff",m,g)}else s.push(f)}),s.length===0)return _y({});const l=l_(a[0],s),u=f=>{Zpe(l,(h,m)=>{const g=ome(h,m);e.recordDroppedEvent(f,Xpe(m),g)})},d=()=>t({body:vvn(l)}).then(f=>(f.statusCode!==void 0&&(f.statusCode<200||f.statusCode>=300)&&Or&&Wt.warn(`Sentry responded with status code ${f.statusCode} to sent event.`),r=dbn(r,f),f),f=>{throw u("network_error"),f});return n.add(d).then(f=>f,f=>{if(f instanceof hu)return Or&&Wt.error("Skipped sending event because buffer is full."),u("queue_overflow"),_y({});throw f})}return{send:o,flush:i}}function ome(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function z4e(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(o=>({name:`${r}:@sentry/${o}`,version:W1})),version:W1}),e._metadata=i}const pbn=100;function Ty(e,t){const n=Do(),r=Kw();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=pbn}=n.getOptions();if(o<=0)return;const s={timestamp:s_(),...e},l=i?h0(()=>i(s,t)):s;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,o))}let ame;const mbn="FunctionToString",sme=new WeakMap,gbn=()=>({name:mbn,setupOnce(){ame=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=MX(this),n=sme.has(Do())&&t!==void 0?t:this;return ame.apply(n,e)}}catch{}},setup(e){sme.set(e,!0)}}),U4e=gbn,ybn=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],vbn="InboundFilters",bbn=(e={})=>({name:vbn,processEvent(t,n,r){const i=r.getOptions(),o=xbn(e,i);return wbn(t,o)?null:t}}),H4e=bbn;function xbn(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:ybn],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function wbn(e,t){return t.ignoreInternal&&Tbn(e)?(Or&&Wt.warn(`Event dropped due to being internal Sentry Error.
Event: ${Kp(e)}`),!0):Cbn(e,t.ignoreErrors)?(Or&&Wt.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Kp(e)}`),!0):jbn(e)?(Or&&Wt.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Kp(e)}`),!0):kbn(e,t.ignoreTransactions)?(Or&&Wt.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Kp(e)}`),!0):Sbn(e,t.denyUrls)?(Or&&Wt.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Kp(e)}.
Url: ${pD(e)}`),!0):Ebn(e,t.allowUrls)?!1:(Or&&Wt.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Kp(e)}.
Url: ${pD(e)}`),!0)}function Cbn(e,t){return e.type||!t||!t.length?!1:_bn(e).some(n=>gR(n,t))}function kbn(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?gR(n,t):!1}function Sbn(e,t){if(!t||!t.length)return!1;const n=pD(e);return n?gR(n,t):!1}function Ebn(e,t){if(!t||!t.length)return!0;const n=pD(e);return n?gR(n,t):!0}function _bn(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function Tbn(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function Abn(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function pD(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?Abn(t):null}catch{return Or&&Wt.error(`Cannot extract url for event ${Kp(e)}`),null}}function jbn(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}function Ibn(e,t,n=250,r,i,o,a){if(!o.exception||!o.exception.values||!a||!Sy(a.originalException,Error))return;const s=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;s&&(o.exception.values=$bn(Iz(e,t,i,a.originalException,r,o.exception.values,s,0),n))}function Iz(e,t,n,r,i,o,a,s){if(o.length>=n+1)return o;let l=[...o];if(Sy(r[i],Error)){lme(a,s);const u=e(t,r[i]),d=l.length;cme(u,i,d,s),l=Iz(e,t,n,r[i],i,[u,...l],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(Sy(u,Error)){lme(a,s);const f=e(t,u),h=l.length;cme(f,`errors[${d}]`,h,s),l=Iz(e,t,n,u,i,[f,...l],f,h)}}),l}function lme(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function cme(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function $bn(e,t){return e.map(n=>(n.value&&(n.value=jb(n.value,t)),n))}function CL(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Dbn(e){const t="console";p0(t,e),m0(t,Obn)}function Obn(){"console"in ar&&Cz.forEach(function(e){e in ar.console&&_l(ar.console,e,function(t){return fD[e]=t,function(...n){ju("console",{args:n,level:e});const i=fD[e];i&&i.apply(ar.console,n)}})})}function Mbn(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const Pbn="Dedupe",Rbn=()=>{let e;return{name:Pbn,processEvent(t){if(t.type)return t;try{if(Fbn(t,e))return Or&&Wt.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},W4e=Rbn;function Fbn(e,t){return t?!!(Lbn(e,t)||Nbn(e,t)):!1}function Lbn(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!K4e(e,t)||!G4e(e,t))}function Nbn(e,t){const n=ume(t),r=ume(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!K4e(e,t)||!G4e(e,t))}function G4e(e,t){let n=Ppe(e),r=Ppe(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const o=r[i],a=n[i];if(o.filename!==a.filename||o.lineno!==a.lineno||o.colno!==a.colno||o.function!==a.function)return!1}return!0}function K4e(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function ume(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Y4e(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const $z=ar;function q4e(){if(!("fetch"in $z))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Dz(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Bbn(){if(typeof EdgeRuntime=="string")return!0;if(!q4e())return!1;if(Dz($z.fetch))return!0;let e=!1;const t=$z.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Dz(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){f0&&Wt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function Vbn(e,t){const n="fetch";p0(n,e),m0(n,()=>zbn(void 0,t))}function zbn(e,t=!1){t&&!Bbn()||_l(ar,"fetch",function(n){return function(...r){const i=new Error,{method:o,url:a}=Ubn(r),s={args:r,fetchData:{method:o,url:a},startTimestamp:xh()*1e3,virtualError:i};return e||ju("fetch",{...s}),n.apply(ar,r).then(async l=>(e?e(l):ju("fetch",{...s,endTimestamp:xh()*1e3,response:l}),l),l=>{throw ju("fetch",{...s,endTimestamp:xh()*1e3,error:l}),IX(l)&&l.stack===void 0&&(l.stack=i.stack,Ey(l,"framesToPop",1)),l})}})}function Oz(e,t){return!!e&&typeof e=="object"&&!!e[t]}function dme(e){return typeof e=="string"?e:e?Oz(e,"url")?e.url:e.toString?e.toString():"":""}function Ubn(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:dme(n),method:Oz(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:dme(t),method:Oz(t,"method")?String(t.method).toUpperCase():"GET"}}function Hbn(){return"npm"}const IA=ar;function Wbn(){const e=IA.chrome,t=e&&e.app&&e.app.runtime,n="history"in IA&&!!IA.history.pushState&&!!IA.history.replaceState;return!t&&n}const Mr=ar;let Mz=0;function Z4e(){return Mz>0}function Gbn(){Mz++,setTimeout(()=>{Mz--})}function Ax(e,t={}){function n(i){return typeof i=="function"}if(!n(e))return e;try{const i=e.__sentry_wrapped__;if(i)return typeof i=="function"?i:e;if(MX(e))return e}catch{return e}const r=function(...i){try{const o=i.map(a=>Ax(a,t));return e.apply(this,o)}catch(o){throw Gbn(),j4e(a=>{a.addEventProcessor(s=>(t.mechanism&&(Sz(s,void 0,void 0),Ex(s,t.mechanism)),s.extra={...s.extra,arguments:i},s)),P4e(o)}),o}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}E4e(r,e),Ey(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const c_=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function NX(e,t){const n=BX(e,t),r={type:Xbn(t),value:Jbn(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function Kbn(e,t,n,r){const i=Do(),o=i&&i.getOptions().normalizeDepth,a=rxn(t),s={__serialized__:O4e(t,o)};if(a)return{exception:{values:[NX(e,a)]},extra:s};const l={exception:{values:[{type:pR(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:txn(t,{isUnhandledRejection:r})}]},extra:s};if(n){const u=BX(e,n);u.length&&(l.exception.values[0].stacktrace={frames:u})}return l}function kL(e,t){return{exception:{values:[NX(e,t)]}}}function BX(e,t){const n=t.stacktrace||t.stack||"",r=qbn(t),i=Zbn(t);try{return e(n,r,i)}catch{}return[]}const Ybn=/Minified React error #\d+;/i;function qbn(e){return e&&Ybn.test(e.message)?1:0}function Zbn(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function X4e(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function Xbn(e){const t=e&&e.name;return!t&&X4e(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function Jbn(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:X4e(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function Qbn(e,t,n,r){const i=n&&n.syntheticException||void 0,o=VX(e,t,i,r);return Ex(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),_y(o)}function exn(e,t,n="info",r,i){const o=r&&r.syntheticException||void 0,a=Pz(e,t,o,i);return a.level=n,r&&r.event_id&&(a.event_id=r.event_id),_y(a)}function VX(e,t,n,r,i){let o;if(C4e(t)&&t.error)return kL(e,t.error);if(Fpe(t)||d0n(t)){const a=t;if("stack"in t)o=kL(e,t);else{const s=a.name||(Fpe(a)?"DOMError":"DOMException"),l=a.message?`${s}: ${a.message}`:s;o=Pz(e,l,n,r),Sz(o,l)}return"code"in a&&(o.tags={...o.tags,"DOMException.code":`${a.code}`}),o}return IX(t)?kL(e,t):Sx(t)||pR(t)?(o=Kbn(e,t,n,i),Ex(o,{synthetic:!0}),o):(o=Pz(e,t,n,r),Sz(o,`${t}`,void 0),Ex(o,{synthetic:!0}),o)}function Pz(e,t,n,r){const i={};if(r&&n){const o=BX(e,n);o.length&&(i.exception={values:[{value:t,stacktrace:{frames:o}}]}),Ex(i,{synthetic:!0})}if($X(t)){const{__sentry_template_string__:o,__sentry_template_values__:a}=t;return i.logentry={message:o,params:a},i}return i.message=t,i}function txn(e,{isUnhandledRejection:t}){const n=x0n(e),r=t?"promise rejection":"exception";return C4e(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:pR(e)?`Event \`${nxn(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function nxn(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function rxn(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function ixn(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:vR(r)}},o=oxn(e);return l_(i,[o])}function oxn(e){return[{type:"user_report"},e]}class J4e extends tbn{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t},r=Mr.SENTRY_SDK_SOURCE||Hbn();z4e(n,"browser",["browser"],r),super(n),n.sendClientReports&&Mr.document&&Mr.document.addEventListener("visibilitychange",()=>{Mr.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return Qbn(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return exn(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){c_&&Wt.warn("SDK not enabled, will not capture user feedback.");return}const n=ixn(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const axn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ds=ar,sxn=1e3;let fme,Rz,Fz;function lxn(e){const t="dom";p0(t,e),m0(t,cxn)}function cxn(){if(!ds.document)return;const e=ju.bind(null,"dom"),t=hme(e,!0);ds.document.addEventListener("click",t,!1),ds.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const i=ds[n],o=i&&i.prototype;!o||!o.hasOwnProperty||!o.hasOwnProperty("addEventListener")||(_l(o,"addEventListener",function(a){return function(s,l,u){if(s==="click"||s=="keypress")try{const d=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},f=d[s]=d[s]||{refCount:0};if(!f.handler){const h=hme(e);f.handler=h,a.call(this,s,h,u)}f.refCount++}catch{}return a.call(this,s,l,u)}}),_l(o,"removeEventListener",function(a){return function(s,l,u){if(s==="click"||s=="keypress")try{const d=this.__sentry_instrumentation_handlers__||{},f=d[s];f&&(f.refCount--,f.refCount<=0&&(a.call(this,s,f.handler,u),f.handler=void 0,delete d[s]),Object.keys(d).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return a.call(this,s,l,u)}}))})}function uxn(e){if(e.type!==Rz)return!1;try{if(!e.target||e.target._sentryId!==Fz)return!1}catch{}return!0}function dxn(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function hme(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=fxn(n);if(dxn(n.type,r))return;Ey(n,"_sentryCaptured",!0),r&&!r._sentryId&&Ey(r,"_sentryId",Ic());const i=n.type==="keypress"?"input":n.type;uxn(n)||(e({event:n,name:i,global:t}),Rz=n.type,Fz=r?r._sentryId:void 0),clearTimeout(fme),fme=ds.setTimeout(()=>{Fz=void 0,Rz=void 0},sxn)}}function fxn(e){try{return e.target}catch{return null}}let $A;function Q4e(e){const t="history";p0(t,e),m0(t,hxn)}function hxn(){if(!Wbn())return;const e=ds.onpopstate;ds.onpopstate=function(...n){const r=ds.location.href,i=$A;if($A=r,ju("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const o=$A,a=String(i);$A=a,ju("history",{from:o,to:a})}return n.apply(this,r)}}_l(ds.history,"pushState",t),_l(ds.history,"replaceState",t)}const gI={};function pxn(e){const t=gI[e];if(t)return t;let n=ds[e];if(Dz(n))return gI[e]=n.bind(ds);const r=ds.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const o=i.contentWindow;o&&o[e]&&(n=o[e]),r.head.removeChild(i)}catch(i){axn&&Wt.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(gI[e]=n.bind(ds))}function pme(e){gI[e]=void 0}const Fk="__sentry_xhr_v3__";function mxn(e){const t="xhr";p0(t,e),m0(t,gxn)}function gxn(){if(!ds.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const i=new Error,o=xh()*1e3,a=bh(r[0])?r[0].toUpperCase():void 0,s=yxn(r[1]);if(!a||!s)return t.apply(n,r);n[Fk]={method:a,url:s,request_headers:{}},a==="POST"&&s.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const l=()=>{const u=n[Fk];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const d={endTimestamp:xh()*1e3,startTimestamp:o,xhr:n,virtualError:i};ju("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,d,f){return l(),u.apply(d,f)}}):n.addEventListener("readystatechange",l),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,f){const[h,m]=f,g=d[Fk];return g&&bh(h)&&bh(m)&&(g.request_headers[h.toLowerCase()]=m),u.apply(d,f)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const i=n[Fk];if(!i)return t.apply(n,r);r[0]!==void 0&&(i.body=r[0]);const o={startTimestamp:xh()*1e3,xhr:n};return ju("xhr",o),t.apply(n,r)}})}function yxn(e){if(bh(e))return e;try{return e.toString()}catch{}}function e6e(e,t=pxn("fetch")){let n=0,r=0;function i(o){const a=o.body.length;n+=a,r++;const s={body:o.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return pme("fetch"),hD("No fetch implementation available");try{return t(e.url,s).then(l=>(n-=a,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return pme("fetch"),n-=a,r--,hD(l)}}return hbn(e,i)}const vxn=30,bxn=50;function Lz(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?ky:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const xxn=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,wxn=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Cxn=/\((\S*)(?::(\d+))(?::(\d+))\)/,kxn=e=>{const t=xxn.exec(e);if(t){const[,r,i,o]=t;return Lz(r,ky,+i,+o)}const n=wxn.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const a=Cxn.exec(n[2]);a&&(n[2]=a[1],n[3]=a[2],n[4]=a[3])}const[i,o]=n6e(n[1]||ky,n[2]);return Lz(o,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},Sxn=[vxn,kxn],Exn=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,_xn=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Txn=e=>{const t=Exn.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const o=_xn.exec(t[3]);o&&(t[1]=t[1]||"eval",t[3]=o[1],t[4]=o[2],t[5]="")}let r=t[3],i=t[1]||ky;return[i,r]=n6e(i,r),Lz(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},Axn=[bxn,Txn],jxn=[Sxn,Axn],t6e=x4e(...jxn),n6e=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:ky,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},DA=1024,Ixn="Breadcrumbs",$xn=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Ixn,setup(n){t.console&&Dbn(Mxn(n)),t.dom&&lxn(Oxn(n,t.dom)),t.xhr&&mxn(Pxn(n)),t.fetch&&Vbn(Rxn(n)),t.history&&Q4e(Fxn(n)),t.sentry&&n.on("beforeSendEvent",Dxn(n))}}},r6e=$xn;function Dxn(e){return function(n){Do()===e&&Ty({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Kp(n)},{event:n})}}function Oxn(e,t){return function(r){if(Do()!==e)return;let i,o,a=typeof t=="object"?t.serializeAttribute:void 0,s=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;s&&s>DA&&(c_&&Wt.warn(`\`dom.maxStringLength\` cannot exceed ${DA}, but a value of ${s} was configured. Sentry will use ${DA} instead.`),s=DA),typeof a=="string"&&(a=[a]);try{const u=r.event,d=Lxn(u)?u.target:u;i=S4e(d,{keyAttrs:a,maxStringLength:s}),o=v0n(d)}catch{i="<unknown>"}if(i.length===0)return;const l={category:`ui.${r.name}`,message:i};o&&(l.data={"ui.component_name":o}),Ty(l,{event:r.event,name:r.name,global:r.global})}}function Mxn(e){return function(n){if(Do()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:Mbn(n.level),message:Lpe(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Lpe(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Ty(r,{input:n.args,level:n.level})}}function Pxn(e){return function(n){if(Do()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,o=n.xhr[Fk];if(!r||!i||!o)return;const{method:a,url:s,status_code:l,body:u}=o,d={method:a,url:s,status_code:l},f={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:i},h=Y4e(l);Ty({category:"xhr",data:d,type:"http",level:h},f)}}function Rxn(e){return function(n){if(Do()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const o=n.fetchData,a={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i};Ty({category:"fetch",data:o,level:"error",type:"http"},a)}else{const o=n.response,a={...n.fetchData,status_code:o&&o.status},s={input:n.args,response:o,startTimestamp:r,endTimestamp:i},l=Y4e(a.status_code);Ty({category:"fetch",data:a,type:"http",level:l},s)}}}function Fxn(e){return function(n){if(Do()!==e)return;let r=n.from,i=n.to;const o=CL(Mr.location.href);let a=r?CL(r):void 0;const s=CL(i);(!a||!a.path)&&(a=o),o.protocol===s.protocol&&o.host===s.host&&(i=s.relative),o.protocol===a.protocol&&o.host===a.host&&(r=a.relative),Ty({category:"navigation",data:{from:r,to:i}})}}function Lxn(e){return!!e&&!!e.target}const Nxn=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Bxn="BrowserApiErrors",Vxn=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:Bxn,setupOnce(){t.setTimeout&&_l(Mr,"setTimeout",mme),t.setInterval&&_l(Mr,"setInterval",mme),t.requestAnimationFrame&&_l(Mr,"requestAnimationFrame",zxn),t.XMLHttpRequest&&"XMLHttpRequest"in Mr&&_l(XMLHttpRequest.prototype,"send",Uxn);const n=t.eventTarget;n&&(Array.isArray(n)?n:Nxn).forEach(Hxn)}}},i6e=Vxn;function mme(e){return function(...t){const n=t[0];return t[0]=Ax(n,{mechanism:{data:{function:tg(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function zxn(e){return function(t){return e.apply(this,[Ax(t,{mechanism:{data:{function:"requestAnimationFrame",handler:tg(e)},handled:!1,type:"instrument"}})])}}function Uxn(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&_l(n,i,function(o){const a={mechanism:{data:{function:i,handler:tg(o)},handled:!1,type:"instrument"}},s=MX(o);return s&&(a.mechanism.data.handler=tg(s)),Ax(o,a)})}),e.apply(this,t)}}function Hxn(e){const n=Mr[e],r=n&&n.prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(_l(r,"addEventListener",function(i){return function(o,a,s){try{Wxn(a)&&(a.handleEvent=Ax(a.handleEvent,{mechanism:{data:{function:"handleEvent",handler:tg(a),target:e},handled:!1,type:"instrument"}}))}catch{}return i.apply(this,[o,Ax(a,{mechanism:{data:{function:"addEventListener",handler:tg(a),target:e},handled:!1,type:"instrument"}}),s])}}),_l(r,"removeEventListener",function(i){return function(o,a,s){try{const l=a.__sentry_wrapped__;l&&i.call(this,o,l,s)}catch{}return i.call(this,o,a,s)}}))}function Wxn(e){return typeof e.handleEvent=="function"}const Gxn=()=>({name:"BrowserSession",setupOnce(){if(typeof Mr.document>"u"){c_&&Wt.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}eme({ignoreDuration:!0}),tme(),Q4e(({from:e,to:t})=>{e!==void 0&&e!==t&&(eme({ignoreDuration:!0}),tme())})}}),Kxn="GlobalHandlers",Yxn=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:Kxn,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(qxn(n),gme("onerror")),t.onunhandledrejection&&(Zxn(n),gme("onunhandledrejection"))}}},o6e=Yxn;function qxn(e){s0n(t=>{const{stackParser:n,attachStacktrace:r}=a6e();if(Do()!==e||Z4e())return;const{msg:i,url:o,line:a,column:s,error:l}=t,u=Qxn(VX(n,l||i,void 0,r,!1),o,a,s);u.level="error",R4e(u,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function Zxn(e){c0n(t=>{const{stackParser:n,attachStacktrace:r}=a6e();if(Do()!==e||Z4e())return;const i=Xxn(t),o=DX(i)?Jxn(i):VX(n,i,void 0,r,!0);o.level="error",R4e(o,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function Xxn(e){if(DX(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function Jxn(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function Qxn(e,t,n,r){const i=e.exception=e.exception||{},o=i.values=i.values||[],a=o[0]=o[0]||{},s=a.stacktrace=a.stacktrace||{},l=s.frames=s.frames||[],u=r,d=n,f=bh(t)&&t.length>0?t:y0n();return l.length===0&&l.push({colno:u,filename:f,function:ky,in_app:!0,lineno:d}),e}function gme(e){c_&&Wt.log(`Global Handler attached: ${e}`)}function a6e(){const e=Do();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const s6e=()=>({name:"HttpContext",preprocessEvent(e){if(!Mr.navigator&&!Mr.location&&!Mr.document)return;const t=e.request&&e.request.url||Mr.location&&Mr.location.href,{referrer:n}=Mr.document||{},{userAgent:r}=Mr.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},o={...e.request,...t&&{url:t},headers:i};e.request=o}}),ewn="cause",twn=5,nwn="LinkedErrors",rwn=(e={})=>{const t=e.limit||twn,n=e.key||ewn;return{name:nwn,preprocessEvent(r,i,o){const a=o.getOptions();Ibn(NX,a.stackParser,a.maxValueLength,n,t,r,i)}}},l6e=rwn;function iwn(e){const t=[H4e(),U4e(),i6e(),r6e(),o6e(),l6e(),W4e(),s6e()];return e.autoSessionTracking!==!1&&t.push(Gxn()),t}function own(e={}){const t={defaultIntegrations:iwn(e),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:Mr.SENTRY_RELEASE&&Mr.SENTRY_RELEASE.id?Mr.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return e.defaultIntegrations==null&&delete e.defaultIntegrations,{...t,...e}}function awn(){const e=typeof Mr.window<"u"&&Mr;if(!e)return!1;const t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,i=Mr.location&&Mr.location.href||"",o=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],a=!!r&&Mr===Mr.top&&o.some(l=>i.startsWith(`${l}//`)),s=typeof e.nw<"u";return!!r&&!a&&!s}function swn(e={}){const t=own(e);if(!t.skipBrowserExtensionCheck&&awn()){h0(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}c_&&(q4e()||Wt.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:o0n(t.stackParser||t6e),integrations:Jvn(t),transport:t.transport||e6e};return ibn(J4e,n)}function lwn(e){const t={...e};return z4e(t,"react"),Hvn("react",{version:p.version}),swn(t)}var $d;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})($d||($d={}));var mD=function(e){return e},yme="beforeunload",cwn="popstate";function uwn(e){e===void 0&&(e={});var t=e,n=t.window,r=n===void 0?document.defaultView:n,i=r.history;function o(){var E=r.location,_=E.pathname,T=E.search,A=E.hash,I=i.state||{};return[I.idx,mD({pathname:_,search:T,hash:A,state:I.usr||null,key:I.key||"default"})]}var a=null;function s(){if(a)m.call(a),a=null;else{var E=$d.Pop,_=o(),T=_[0],A=_[1];if(m.length){if(T!=null){var I=d-T;I&&(a={action:E,location:A,retry:function(){k(I*-1)}},k(I))}}else v(E)}}r.addEventListener(cwn,s);var l=$d.Pop,u=o(),d=u[0],f=u[1],h=gD(),m=gD();d==null&&(d=0,i.replaceState(Ph({},i.state,{idx:d}),""));function g(E){return typeof E=="string"?E:c6e(E)}function y(E,_){return _===void 0&&(_=null),mD(Ph({pathname:f.pathname,hash:"",search:""},typeof E=="string"?Bz(E):E,{state:_,key:Nz()}))}function x(E,_){return[{usr:E.state,key:E.key,idx:_},g(E)]}function b(E,_,T){return!m.length||(m.call({action:E,location:_,retry:T}),!1)}function v(E){l=E;var _=o();d=_[0],f=_[1],h.call({action:l,location:f})}function w(E,_){var T=$d.Push,A=y(E,_);function I(){w(E,_)}if(b(T,A,I)){var j=x(A,d+1),$=j[0],D=j[1];try{i.pushState($,"",D)}catch{r.location.assign(D)}v(T)}}function C(E,_){var T=$d.Replace,A=y(E,_);function I(){C(E,_)}if(b(T,A,I)){var j=x(A,d),$=j[0],D=j[1];i.replaceState($,"",D),v(T)}}function k(E){i.go(E)}var S={get action(){return l},get location(){return f},createHref:g,push:w,replace:C,go:k,back:function(){k(-1)},forward:function(){k(1)},listen:function(_){return h.push(_)},block:function(_){var T=m.push(_);return m.length===1&&r.addEventListener(yme,bme),function(){T(),m.length||r.removeEventListener(yme,bme)}}};return S}function dwn(e){e===void 0&&(e={});var t=e,n=t.initialEntries,r=n===void 0?["/"]:n,i=t.initialIndex,o=r.map(function(w){var C=mD(Ph({pathname:"/",search:"",hash:"",state:null,key:Nz()},typeof w=="string"?Bz(w):w));return C}),a=vme(i??o.length-1,0,o.length-1),s=$d.Pop,l=o[a],u=gD(),d=gD();function f(w){return typeof w=="string"?w:c6e(w)}function h(w,C){return C===void 0&&(C=null),mD(Ph({pathname:l.pathname,search:"",hash:""},typeof w=="string"?Bz(w):w,{state:C,key:Nz()}))}function m(w,C,k){return!d.length||(d.call({action:w,location:C,retry:k}),!1)}function g(w,C){s=w,l=C,u.call({action:s,location:l})}function y(w,C){var k=$d.Push,S=h(w,C);function E(){y(w,C)}m(k,S,E)&&(a+=1,o.splice(a,o.length,S),g(k,S))}function x(w,C){var k=$d.Replace,S=h(w,C);function E(){x(w,C)}m(k,S,E)&&(o[a]=S,g(k,S))}function b(w){var C=vme(a+w,0,o.length-1),k=$d.Pop,S=o[C];function E(){b(w)}m(k,S,E)&&(a=C,g(k,S))}var v={get index(){return a},get action(){return s},get location(){return l},createHref:f,push:y,replace:x,go:b,back:function(){b(-1)},forward:function(){b(1)},listen:function(C){return u.push(C)},block:function(C){return d.push(C)}};return v}function vme(e,t,n){return Math.min(Math.max(e,t),n)}function bme(e){e.preventDefault(),e.returnValue=""}function gD(){var e=[];return{get length(){return e.length},push:function(n){return e.push(n),function(){e=e.filter(function(r){return r!==n})}},call:function(n){e.forEach(function(r){return r&&r(n)})}}}function Nz(){return Math.random().toString(36).substr(2,8)}function c6e(e){var t=e.pathname,n=t===void 0?"/":t,r=e.search,i=r===void 0?"":r,o=e.hash,a=o===void 0?"":o;return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),a&&a!=="#"&&(n+=a.charAt(0)==="#"?a:"#"+a),n}function Bz(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var u6e={exports:{}},d6e={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_=p;function fwn(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hwn=typeof Object.is=="function"?Object.is:fwn,pwn=u_.useSyncExternalStore,mwn=u_.useRef,gwn=u_.useEffect,ywn=u_.useMemo,vwn=u_.useDebugValue;d6e.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=mwn(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=ywn(function(){function l(m){if(!u){if(u=!0,d=m,m=r(m),i!==void 0&&a.hasValue){var g=a.value;if(i(g,m))return f=g}return f=m}if(g=f,hwn(d,m))return g;var y=r(m);return i!==void 0&&i(g,y)?(d=m,g):(d=m,f=y)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var s=pwn(e,o[0],o[1]);return gwn(function(){a.hasValue=!0,a.value=s},[s]),vwn(s),s};u6e.exports=d6e;var zX=u6e.exports,bwn=Uc,f6e=/[\\^$.*+?()[\]{}|]/g,xwn=RegExp(f6e.source);function wwn(e){return e=bwn(e),e&&xwn.test(e)?e.replace(f6e,"\\$&"):e}var Cwn=wwn;const UX=Ue(Cwn);var yD=globalThis&&globalThis.__assign||function(){return yD=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},yD.apply(this,arguments)},kwn=cfn("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-",20),Swn="";function xme(e,t,n){return JSON.stringify({jsonrpc:"2.0",method:e,params:_wn(t,"v1"),id:n})}function Ewn(e){try{return[null,JSON.parse(e)]}catch(t){return t instanceof Error?[t]:[new Error("".concat(t))]}}function _wn(e,t){return yD(yD({},e),{apiVersion:t})}var Twn=function(e,t){t===void 0&&(t={});var n=t.token$,r=t.getNextRequestId,i=r===void 0?kwn:r,o=WK(e.pipe(At(function(m){return es(m,"message")})),function(m){return m.data===Swn}),a=o[0],s=o[1],l=s.pipe(Ot(function(m){var g=Ewn(m.data),y=g[0],x=g[1];return y?(console.warn("Unable to parse message: %s",y.message),ur):!x||!x.jsonrpc?(console.warn("Received empty or non-jsonrpc message: %s",x),ur):Se(x)}),ts()),u=n?mo([n,e]).pipe(Ar(function(m,g){var y=m[0],x=m[1],b=g[0],v=g[1];return y===b&&x===v}),At(function(m){var g=m[0],y=m[1];return g?d(y,"authorization",{authorization:"Bearer ".concat(g)}).pipe(sa(1),MM(y)):Se(y)}),go({refCount:!0,bufferSize:1})):e;function d(m,g,y){y===void 0&&(y={});var x=i();return Un(l.pipe(Bt(function(b){return b.id===x}),fe(function(b){return b.result})),Qi(function(){return m.send(xme(g,y,x)),ur}))}function f(m,g){return u.pipe(sa(1),Ot(function(y){return d(y,m,g).pipe(sa(1))}))}function h(m,g){return u.pipe(sa(1),Ot(function(y){return d(y,"".concat(m,"_subscribe"),g).pipe(sa(1),Ot(function(x){return l.pipe(Bt(function(b){return b.method==="".concat(m,"_subscription")&&b.params.subscription===x}),fe(function(b){return b.params.result}),bw(function(){y.readyState!==y.CLOSED&&y.readyState!==y.CLOSING&&y.send(xme("".concat(m,"_unsubscribe"),{subscriptionId:x},i()))}))}))}))}return{heartbeats:Un(u,a,s).pipe(fe(function(){return new Date})),listen:function(m,g){return h(m,g)},request:function(m,g){return f(m,g)}}},Awn=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),wme=function(e){Awn(t,e);function t(n,r,i,o){var a=e.call(this,n)||this;return a.type=r,a.code=i,a.reason=o,a}return t}(Error);function jwn(e){return function(t){return new Lt(function(n){var r=e(t),i=!1,o=function(){n.next(r)},a=function(){n.error(new wme("WebSocket connection error","CONNECTION_ERROR"))},s=function(l){i?n.complete():n.error(new wme("WebSocket connection error","CONNECTION_CLOSED",l.code,l.reason))};return r.onopen=o,r.onclose=s,r.onerror=a,function(){i=!0,r.close(1e3,"WebSockets connection closed by client")}})}}var Iwn=function(e,t){return function(n){return sxt(n,ni(e).pipe(Ot(function(){return t})))}},Cme;(function(e){e[e.BAD_REQUEST=4e3]="BAD_REQUEST",e[e.UNAUTHORIZED=4001]="UNAUTHORIZED",e[e.NOT_FOUND=4004]="NOT_FOUND",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.SUBSCRIPTION_NOT_FOUND=-32602]="SUBSCRIPTION_NOT_FOUND",e[e.PARSE_ERROR=-32700]="PARSE_ERROR"})(Cme||(Cme={}));var $wn=function(e){return e};function Dwn(e,t){t===void 0&&(t={});var n=t.timeout,r=t.token$,i=jwn(function(o,a){return new window.WebSocket(o,a)});return Twn(i(e).pipe(n?Iwn(n,qd(function(){return new Error("Timeout after ".concat(n," while establishing WebSockets connection"))})):$wn,go({refCount:!0}),YK(es(window,"beforeunload"))),{token$:r})}const Own="#FF5500",yI="#0D0E12",Mwn=p.forwardRef(function(e,t){const{dark:n,...r}=e,i=n?Md.hex:yI;return c.jsxs("svg",{"data-sanity-icon":"sanity-logo",height:"1em",viewBox:"0 0 435 154",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,ref:t,children:[c.jsx("path",{d:"M44.883 52.4463C33.4181 43.7972 21.8121 37.1021 21.8121 27.3381C21.8121 21.482 26.9827 15.4851 34.1181 15.4851C46.983 15.4851 54.5302 28.8754 61.942 45.6103H66.5538V7.11182H34.3946C7.82952 7.11182 0 23.1543 0 35.7055C0 52.1647 13.5649 61.9287 28.9416 73.365C39.7064 81.3158 48.7948 88.7092 48.7948 97.2175C48.7948 106.424 42.5006 111.723 34.5299 111.723C26.0004 111.723 13.4178 100.562 4.60595 77.4137H0V120.096H36.777C59.4302 120.096 70.7539 102.24 71.1716 87.876C71.7304 71.1411 57.3302 61.7937 44.883 52.4463Z",fill:i}),c.jsx("path",{d:"M145.002 106.841V61.7878C145.002 42.2598 132.837 37.1021 115.219 37.1021H83.8952L84.0364 68.9054H89.2071C94.6601 55.3743 102.49 45.4754 110.878 45.4754C118.149 45.4754 121.366 51.7539 121.366 58.3082V64.4459C109.619 71.4227 78.301 77.2788 78.301 98.4791C78.301 110.754 86.8306 120.935 99.2778 120.935C110.043 120.935 117.454 113.958 121.231 105.732C121.931 112.568 126.402 120.096 136.614 120.096H152.696V113.958C147.525 113.958 145.008 110.473 145.008 106.847L145.002 106.841ZM120.949 99.8639C118.713 103.074 115.213 106.7 111.019 106.7C105.148 106.7 101.372 102.234 101.372 93.3096C101.372 83.129 115.072 76.5746 120.949 71.6926V99.8697V99.8639Z",fill:i}),c.jsx("path",{d:"M270.145 28.4529C279.092 28.4529 284.686 22.1744 284.686 14.0885C284.686 6.00274 279.092 0 270.145 0C261.198 0 255.462 5.99688 255.462 14.0885C255.462 22.1802 261.474 28.4529 270.145 28.4529Z",fill:i}),c.jsx("path",{d:"M409.135 37.102V43.2397C417.947 43.2397 420.459 47.84 416.129 60.2563L405.641 88.5683L392.217 54.1186C389.141 47.4234 390.817 43.2397 397.252 43.2397V37.102H330.557V9.20654H324.263C322.446 18.6889 312.516 37.102 295.598 37.102V43.2397H306.504V100.568C306.504 110.191 309.722 121.07 328.457 121.07H357.54V89.5482H352.37C350.269 96.9417 345.94 111.723 336.569 111.723C331.399 111.723 330.557 106.002 330.557 101.401V45.8861H357.264C360.481 45.8861 363.834 46.3027 365.511 50.2106L393.894 120.231C388.441 132.647 379.07 134.595 362.293 129.437V153.988C366.629 153.988 377.811 154.129 379.77 153.572C390.817 150.362 398.364 128.745 401.441 120.378L425.488 55.521C428.147 48.4092 430.382 43.2456 434.994 43.2456V37.1079H409.129L409.135 37.102Z",fill:i}),c.jsx("path",{d:"M237.703 106.841V59.2764C237.703 44.3546 230.574 35.4238 216.45 35.4238C204.009 35.4238 196.803 44.0319 191.279 52.0414V37.0961H159.396V43.2338C164.849 43.2338 167.226 46.5785 167.226 50.4864V106.835C167.226 110.602 164.432 113.947 159.396 113.947V120.084H199.109V113.947C194.073 113.947 191.279 110.602 191.279 106.835V59.646C194.503 55.3743 198.214 50.7681 204.42 50.7681C210.291 50.7681 213.65 55.5093 213.65 61.2303V106.841C213.65 110.608 210.856 113.952 205.82 113.952V120.09H245.533V113.952C240.497 113.952 237.703 110.608 237.703 106.841Z",fill:i}),c.jsx("path",{d:"M284.127 106.841V37.1021H252.245V43.2398C257.698 43.2398 260.074 46.5844 260.074 50.4923V106.841C260.074 110.608 257.28 113.952 252.245 113.952V120.09H291.957V113.952C286.922 113.952 284.127 110.608 284.127 106.841Z",fill:i})]})}),kme={light:{bg:Md.hex,fg:yI},dark:{bg:yI,fg:Md.hex},default:{bg:Own,fg:yI}},Pwn=p.forwardRef(function(e,t){const{scheme:n="default",color:r,...i}=e,o=(r==null?void 0:r.bg1)||kme[n].bg,a=(r==null?void 0:r.fg)||kme[n].fg;return c.jsxs("svg",{"data-sanity-icon":"sanity-monogram",height:"1em",viewBox:"0 0 192 192",fill:"none",xmlns:"http://www.w3.org/2000/svg",...i,ref:t,children:[c.jsx("rect",{width:"192",height:"192",fill:o}),c.jsx("path",{d:"M160.077 112.697L154.865 103.629L129.659 118.981L157.655 83.3368L161.888 80.8533L160.841 79.2802L162.764 76.8232L153.929 69.4699L149.886 74.6225L68.2657 122.375L98.4429 86.0855L154.651 55.2759L149.311 44.953L118.696 61.7277L133.771 43.6096L125.134 36L91.2055 76.7966L57.5083 95.2771L83.307 61.1709L99.4731 52.757L94.3391 42.3192L47.2403 66.8361L60.0839 49.8405L51.1123 42.6551L24 78.5378L24.4207 78.8736L29.486 89.1877L59.543 73.5354L32.1474 109.745L36.6375 113.342L39.3075 118.504L70.9528 101.154L36.1052 143.065L44.742 150.674L46.4762 148.588L130.543 99.2454L102.632 134.792L103.088 135.172L103.045 135.199L108.831 145.265L145.954 122.649L131.659 145.716L141.24 152L164 115.278L160.077 112.697Z",fill:a})]})});var Rwn=(()=>{try{return typeof import.meta<"u"}catch{return!1}})(),Fwn=(()=>{try{return!!(Rwn&&import.meta.webpackHot)}catch{return!1}})();function h6e(e){if(Fwn)return typeof import.meta.webpackHot>"u"?Nwn(e):Lwn(e)}function Lwn(e){p.useEffect(()=>{if(import.meta.webpackHot){const t=n=>n==="idle"?e():void 0;return import.meta.webpackHot.addStatusHandler(t),()=>{var n;return(n=import.meta.webpackHot)==null?void 0:n.removeStatusHandler(t)}}},[e])}function Nwn(e){p.useEffect(()=>{},[e])}var Yw={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p6e=p;function Qt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ws=Object.prototype.hasOwnProperty,Bwn=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sme={},Eme={};function m6e(e){return Ws.call(Eme,e)?!0:Ws.call(Sme,e)?!1:Bwn.test(e)?Eme[e]=!0:(Sme[e]=!0,!1)}function Ms(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Ta={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ta[e]=new Ms(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ta[t]=new Ms(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ta[e]=new Ms(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ta[e]=new Ms(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ta[e]=new Ms(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ta[e]=new Ms(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ta[e]=new Ms(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ta[e]=new Ms(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ta[e]=new Ms(e,5,!1,e.toLowerCase(),null,!1,!1)});var HX=/[\-:]([a-z])/g;function WX(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(HX,WX);Ta[t]=new Ms(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(HX,WX);Ta[t]=new Ms(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(HX,WX);Ta[t]=new Ms(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ta[e]=new Ms(e,1,!1,e.toLowerCase(),null,!1,!1)});Ta.xlinkHref=new Ms("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ta[e]=new Ms(e,1,!1,e.toLowerCase(),null,!0,!0)});var vI={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vwn=["Webkit","ms","Moz","O"];Object.keys(vI).forEach(function(e){Vwn.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vI[t]=vI[e]})});var zwn=/["'&<>]/;function fs(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=zwn.exec(e);if(t){var n="",r,i=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==r&&(n+=e.substring(i,r)),i=r+1,n+=t}e=i!==r?n+e.substring(i,r):n}return e}var Uwn=/([A-Z])/g,Hwn=/^ms-/,Vz=Array.isArray;function jf(e,t){return{insertionMode:e,selectedValue:t}}function Wwn(e,t,n){switch(t){case"select":return jf(1,n.value!=null?n.value:n.defaultValue);case"svg":return jf(2,null);case"math":return jf(3,null);case"foreignObject":return jf(1,null);case"table":return jf(4,null);case"thead":case"tbody":case"tfoot":return jf(5,null);case"colgroup":return jf(7,null);case"tr":return jf(6,null)}return 4<=e.insertionMode||e.insertionMode===0?jf(1,null):e}var _me=new Map;function g6e(e,t,n){if(typeof n!="object")throw Error(Qt(62));t=!0;for(var r in n)if(Ws.call(n,r)){var i=n[r];if(i!=null&&typeof i!="boolean"&&i!==""){if(r.indexOf("--")===0){var o=fs(r);i=fs((""+i).trim())}else{o=r;var a=_me.get(o);a!==void 0||(a=fs(o.replace(Uwn,"-$1").toLowerCase().replace(Hwn,"-ms-")),_me.set(o,a)),o=a,i=typeof i=="number"?i===0||Ws.call(vI,r)?""+i:i+"px":fs((""+i).trim())}t?(t=!1,e.push(' style="',o,":",i)):e.push(";",o,":",i)}}t||e.push('"')}function fl(e,t,n,r){switch(n){case"style":g6e(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=Ta.hasOwnProperty(n)?Ta[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:r===!0?e.push(" ",n,'=""'):r!==!1&&e.push(" ",n,'="',fs(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',fs(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',fs(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',fs(r),'"')}}else if(m6e(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(" ",n,'="',fs(r),'"')}}}function bI(e,t,n){if(t!=null){if(n!=null)throw Error(Qt(60));if(typeof t!="object"||!("__html"in t))throw Error(Qt(61));t=t.__html,t!=null&&e.push(""+t)}}function Gwn(e){var t="";return p6e.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function SL(e,t,n,r){e.push(ld(n));var i=n=null,o;for(o in t)if(Ws.call(t,o)){var a=t[o];if(a!=null)switch(o){case"children":n=a;break;case"dangerouslySetInnerHTML":i=a;break;default:fl(e,r,o,a)}}return e.push(">"),bI(e,i,n),typeof n=="string"?(e.push(fs(n)),null):n}var Kwn=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Tme=new Map;function ld(e){var t=Tme.get(e);if(t===void 0){if(!Kwn.test(e))throw Error(Qt(65,e));t="<"+e,Tme.set(e,t)}return t}function Ywn(e,t,n,r,i){switch(t){case"select":e.push(ld("select"));var o=null,a=null;for(d in n)if(Ws.call(n,d)){var s=n[d];if(s!=null)switch(d){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;case"defaultValue":case"value":break;default:fl(e,r,d,s)}}return e.push(">"),bI(e,a,o),o;case"option":a=i.selectedValue,e.push(ld("option"));var l=s=null,u=null,d=null;for(o in n)if(Ws.call(n,o)){var f=n[o];if(f!=null)switch(o){case"children":s=f;break;case"selected":u=f;break;case"dangerouslySetInnerHTML":d=f;break;case"value":l=f;default:fl(e,r,o,f)}}if(a!=null)if(n=l!==null?""+l:Gwn(s),Vz(a)){for(r=0;r<a.length;r++)if(""+a[r]===n){e.push(' selected=""');break}}else""+a===n&&e.push(' selected=""');else u&&e.push(' selected=""');return e.push(">"),bI(e,d,s),s;case"textarea":e.push(ld("textarea")),d=a=o=null;for(s in n)if(Ws.call(n,s)&&(l=n[s],l!=null))switch(s){case"children":d=l;break;case"value":o=l;break;case"defaultValue":a=l;break;case"dangerouslySetInnerHTML":throw Error(Qt(91));default:fl(e,r,s,l)}if(o===null&&a!==null&&(o=a),e.push(">"),d!=null){if(o!=null)throw Error(Qt(92));if(Vz(d)&&1<d.length)throw Error(Qt(93));o=""+d}return typeof o=="string"&&o[0]===`
`&&e.push(`
`),o!==null&&e.push(fs(""+o)),null;case"input":e.push(ld("input")),l=d=s=o=null;for(a in n)if(Ws.call(n,a)&&(u=n[a],u!=null))switch(a){case"children":case"dangerouslySetInnerHTML":throw Error(Qt(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":s=u;break;case"checked":d=u;break;case"value":o=u;break;default:fl(e,r,a,u)}return d!==null?fl(e,r,"checked",d):l!==null&&fl(e,r,"checked",l),o!==null?fl(e,r,"value",o):s!==null&&fl(e,r,"value",s),e.push("/>"),null;case"menuitem":e.push(ld("menuitem"));for(var h in n)if(Ws.call(n,h)&&(o=n[h],o!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(Qt(400));default:fl(e,r,h,o)}return e.push(">"),null;case"title":e.push(ld("title")),o=null;for(f in n)if(Ws.call(n,f)&&(a=n[f],a!=null))switch(f){case"children":o=a;break;case"dangerouslySetInnerHTML":throw Error(Qt(434));default:fl(e,r,f,a)}return e.push(">"),o;case"listing":case"pre":e.push(ld(t)),a=o=null;for(l in n)if(Ws.call(n,l)&&(s=n[l],s!=null))switch(l){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;default:fl(e,r,l,s)}if(e.push(">"),a!=null){if(o!=null)throw Error(Qt(60));if(typeof a!="object"||!("__html"in a))throw Error(Qt(61));n=a.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(`
`,n):e.push(""+n))}return typeof o=="string"&&o[0]===`
`&&e.push(`
`),o;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(ld(t));for(var m in n)if(Ws.call(n,m)&&(o=n[m],o!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(Qt(399,t));default:fl(e,r,m,o)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return SL(e,n,t,r);case"html":return i.insertionMode===0&&e.push("<!DOCTYPE html>"),SL(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return SL(e,n,t,r);e.push(ld(t)),a=o=null;for(u in n)if(Ws.call(n,u)&&(s=n[u],s!=null))switch(u){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;case"style":g6e(e,r,s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:m6e(u)&&typeof s!="function"&&typeof s!="symbol"&&e.push(" ",u,'="',fs(s),'"')}return e.push(">"),bI(e,a,o),o}}function Ame(e,t,n){if(e.push('<!--$?--><template id="'),n===null)throw Error(Qt(395));return e.push(n),e.push('"></template>')}function qwn(e,t,n,r){switch(n.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');default:throw Error(Qt(397))}}function Zwn(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(Qt(397))}}var Xwn=/[<\u2028\u2029]/g;function EL(e){return JSON.stringify(e).replace(Xwn,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function Jwn(e,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function jme(e,t,n,r){return n.generateStaticMarkup?(e.push(fs(t)),!1):(t===""?e=r:(r&&e.push("<!-- -->"),e.push(fs(t)),e=!0),e)}var VS=Object.assign,Qwn=Symbol.for("react.element"),y6e=Symbol.for("react.portal"),v6e=Symbol.for("react.fragment"),b6e=Symbol.for("react.strict_mode"),x6e=Symbol.for("react.profiler"),w6e=Symbol.for("react.provider"),C6e=Symbol.for("react.context"),k6e=Symbol.for("react.forward_ref"),S6e=Symbol.for("react.suspense"),E6e=Symbol.for("react.suspense_list"),_6e=Symbol.for("react.memo"),GX=Symbol.for("react.lazy"),eCn=Symbol.for("react.scope"),tCn=Symbol.for("react.debug_trace_mode"),nCn=Symbol.for("react.legacy_hidden"),rCn=Symbol.for("react.default_value"),Ime=Symbol.iterator;function zz(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case v6e:return"Fragment";case y6e:return"Portal";case x6e:return"Profiler";case b6e:return"StrictMode";case S6e:return"Suspense";case E6e:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case C6e:return(e.displayName||"Context")+".Consumer";case w6e:return(e._context.displayName||"Context")+".Provider";case k6e:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _6e:return t=e.displayName||null,t!==null?t:zz(e.type)||"Memo";case GX:t=e._payload,e=e._init;try{return zz(e(t))}catch{}}return null}var T6e={};function $me(e,t){if(e=e.contextTypes,!e)return T6e;var n={},r;for(r in e)n[r]=t[r];return n}var E1=null;function bR(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(Qt(401))}else{if(n===null)throw Error(Qt(401));bR(e,n)}t.context._currentValue2=t.value}}function A6e(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&A6e(e)}function j6e(e){var t=e.parent;t!==null&&j6e(t),e.context._currentValue2=e.value}function I6e(e,t){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(Qt(402));e.depth===t.depth?bR(e,t):I6e(e,t)}function $6e(e,t){var n=t.parent;if(n===null)throw Error(Qt(402));e.depth===n.depth?bR(e,n):$6e(e,n),t.context._currentValue2=t.value}function vD(e){var t=E1;t!==e&&(t===null?j6e(e):e===null?A6e(t):t.depth===e.depth?bR(t,e):t.depth>e.depth?I6e(t,e):$6e(t,e),E1=e)}var Dme={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function Ome(e,t,n,r){var i=e.state!==void 0?e.state:null;e.updater=Dme,e.props=n,e.state=i;var o={queue:[],replace:!1};e._reactInternals=o;var a=t.contextType;if(e.context=typeof a=="object"&&a!==null?a._currentValue2:r,a=t.getDerivedStateFromProps,typeof a=="function"&&(a=a(n,i),i=a==null?i:VS({},i,a),e.state=i),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&Dme.enqueueReplaceState(e,e.state,null),o.queue!==null&&0<o.queue.length)if(t=o.queue,a=o.replace,o.queue=null,o.replace=!1,a&&t.length===1)e.state=t[0];else{for(o=a?t[0]:e.state,i=!0,a=a?1:0;a<t.length;a++){var s=t[a];s=typeof s=="function"?s.call(e,o,n,r):s,s!=null&&(i?(i=!1,o=VS({},o,s)):VS(o,s))}e.state=o}else o.queue=null}var iCn={id:1,overflow:""};function Uz(e,t,n){var r=e.id;e=e.overflow;var i=32-xI(r)-1;r&=~(1<<i),n+=1;var o=32-xI(t)+i;if(30<o){var a=i-i%5;return o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,{id:1<<32-xI(t)+i|n<<i|r,overflow:o+e}}return{id:1<<o|n<<i|r,overflow:e}}var xI=Math.clz32?Math.clz32:sCn,oCn=Math.log,aCn=Math.LN2;function sCn(e){return e>>>=0,e===0?32:31-(oCn(e)/aCn|0)|0}function lCn(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cCn=typeof Object.is=="function"?Object.is:lCn,Kh=null,KX=null,wI=null,Yr=null,Lk=!1,bD=!1,s5=0,vm=null,xR=0;function c1(){if(Kh===null)throw Error(Qt(321));return Kh}function Mme(){if(0<xR)throw Error(Qt(312));return{memoizedState:null,queue:null,next:null}}function YX(){return Yr===null?wI===null?(Lk=!1,wI=Yr=Mme()):(Lk=!0,Yr=wI):Yr.next===null?(Lk=!1,Yr=Yr.next=Mme()):(Lk=!0,Yr=Yr.next),Yr}function qX(){KX=Kh=null,bD=!1,wI=null,xR=0,Yr=vm=null}function D6e(e,t){return typeof t=="function"?t(e):t}function Pme(e,t,n){if(Kh=c1(),Yr=YX(),Lk){var r=Yr.queue;if(t=r.dispatch,vm!==null&&(n=vm.get(r),n!==void 0)){vm.delete(r),r=Yr.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return Yr.memoizedState=r,[r,t]}return[Yr.memoizedState,t]}return e=e===D6e?typeof t=="function"?t():t:n!==void 0?n(t):t,Yr.memoizedState=e,e=Yr.queue={last:null,dispatch:null},e=e.dispatch=uCn.bind(null,Kh,e),[Yr.memoizedState,e]}function Rme(e,t){if(Kh=c1(),Yr=YX(),t=t===void 0?null:t,Yr!==null){var n=Yr.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!cCn(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Yr.memoizedState=[e,t],e}function uCn(e,t,n){if(25<=xR)throw Error(Qt(301));if(e===Kh)if(bD=!0,e={action:n,next:null},vm===null&&(vm=new Map),n=vm.get(t),n===void 0)vm.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function dCn(){throw Error(Qt(394))}function OA(){}var Fme={readContext:function(e){return e._currentValue2},useContext:function(e){return c1(),e._currentValue2},useMemo:Rme,useReducer:Pme,useRef:function(e){Kh=c1(),Yr=YX();var t=Yr.memoizedState;return t===null?(e={current:e},Yr.memoizedState=e):t},useState:function(e){return Pme(D6e,e)},useInsertionEffect:OA,useLayoutEffect:function(){},useCallback:function(e,t){return Rme(function(){return e},t)},useImperativeHandle:OA,useEffect:OA,useDebugValue:OA,useDeferredValue:function(e){return c1(),e},useTransition:function(){return c1(),[!1,dCn]},useId:function(){var e=KX.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-xI(e)-1)).toString(32)+t;var n=CI;if(n===null)throw Error(Qt(404));return t=s5++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return c1(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(Qt(407));return n()}},CI=null,_L=p6e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function fCn(e){return console.error(e),null}function Nk(){}function hCn(e,t,n,r,i,o,a,s,l){var u=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?fCn:i,onAllReady:o===void 0?Nk:o,onShellReady:a===void 0?Nk:a,onShellError:s===void 0?Nk:s,onFatalError:l===void 0?Nk:l},n=xD(t,0,null,n,!1,!1),n.parentFlushed=!0,e=ZX(t,e,null,n,d,T6e,null,iCn),u.push(e),t}function ZX(e,t,n,r,i,o,a,s){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var u=e.pingedTasks;u.push(l),u.length===1&&P6e(e)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:o,context:a,treeContext:s};return i.add(l),l}function xD(e,t,n,r,i,o){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:o}}function l5(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function wD(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function Lme(e,t,n,r,i){for(Kh={},KX=t,s5=0,e=n(r,i);bD;)bD=!1,s5=0,xR+=1,Yr=null,e=n(r,i);return qX(),e}function Nme(e,t,n,r){var i=n.render(),o=r.childContextTypes;if(o!=null){var a=t.legacyContext;if(typeof n.getChildContext!="function")r=a;else{n=n.getChildContext();for(var s in n)if(!(s in o))throw Error(Qt(108,zz(r)||"Unknown",s));r=VS({},a,n)}t.legacyContext=r,yl(e,t,i),t.legacyContext=a}else yl(e,t,i)}function Bme(e,t){if(e&&e.defaultProps){t=VS({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Hz(e,t,n,r,i){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){i=$me(n,t.legacyContext);var o=n.contextType;o=new n(r,typeof o=="object"&&o!==null?o._currentValue2:i),Ome(o,n,r,i),Nme(e,t,o,n)}else{o=$me(n,t.legacyContext),i=Lme(e,t,n,r,o);var a=s5!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)Ome(i,n,r,o),Nme(e,t,i,n);else if(a){r=t.treeContext,t.treeContext=Uz(r,1,0);try{yl(e,t,i)}finally{t.treeContext=r}}else yl(e,t,i)}else if(typeof n=="string"){switch(i=t.blockedSegment,o=Ywn(i.chunks,n,r,e.responseState,i.formatContext),i.lastPushedText=!1,a=i.formatContext,i.formatContext=Wwn(a,n,r),Wz(e,t,o),i.formatContext=a,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push("</",n,">")}i.lastPushedText=!1}else{switch(n){case nCn:case tCn:case b6e:case x6e:case v6e:yl(e,t,r.children);return;case E6e:yl(e,t,r.children);return;case eCn:throw Error(Qt(343));case S6e:e:{n=t.blockedBoundary,i=t.blockedSegment,o=r.fallback,r=r.children,a=new Set;var s={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:a,errorDigest:null},l=xD(e,i.chunks.length,s,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var u=xD(e,0,null,i.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=s,t.blockedSegment=u;try{if(Wz(e,t,r),e.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),u.status=1,CD(s,u),s.pendingTasks===0)break e}catch(d){u.status=4,s.forceClientRender=!0,s.errorDigest=l5(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=i}t=ZX(e,o,n,l,a,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case k6e:if(r=Lme(e,t,n.render,r,i),s5!==0){n=t.treeContext,t.treeContext=Uz(n,1,0);try{yl(e,t,r)}finally{t.treeContext=n}}else yl(e,t,r);return;case _6e:n=n.type,r=Bme(n,r),Hz(e,t,n,r,i);return;case w6e:if(i=r.children,n=n._context,r=r.value,o=n._currentValue2,n._currentValue2=r,a=E1,E1=r={parent:a,depth:a===null?0:a.depth+1,context:n,parentValue:o,value:r},t.context=r,yl(e,t,i),e=E1,e===null)throw Error(Qt(403));r=e.parentValue,e.context._currentValue2=r===rCn?e.context._defaultValue:r,e=E1=e.parent,t.context=e;return;case C6e:r=r.children,r=r(n._currentValue2),yl(e,t,r);return;case GX:i=n._init,n=i(n._payload),r=Bme(n,r),Hz(e,t,n,r,void 0);return}throw Error(Qt(130,n==null?n:typeof n,""))}}function yl(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case Qwn:Hz(e,t,n.type,n.props,n.ref);return;case y6e:throw Error(Qt(257));case GX:var r=n._init;n=r(n._payload),yl(e,t,n);return}if(Vz(n)){Vme(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=Ime&&n[Ime]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var i=[];do i.push(n.value),n=r.next();while(!n.done);Vme(e,t,i)}return}throw e=Object.prototype.toString.call(n),Error(Qt(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=jme(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=jme(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function Vme(e,t,n){for(var r=n.length,i=0;i<r;i++){var o=t.treeContext;t.treeContext=Uz(o,r,i);try{Wz(e,t,n[i])}finally{t.treeContext=o}}}function Wz(e,t,n){var r=t.blockedSegment.formatContext,i=t.legacyContext,o=t.context;try{return yl(e,t,n)}catch(l){if(qX(),typeof l=="object"&&l!==null&&typeof l.then=="function"){n=l;var a=t.blockedSegment,s=xD(e,a.chunks.length,null,a.formatContext,a.lastPushedText,!0);a.children.push(s),a.lastPushedText=!1,e=ZX(e,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,vD(o)}else throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,vD(o),l}}function pCn(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,M6e(this,t,e)}function O6e(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(Qt(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(i){return O6e(i,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function CD(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&CD(e,n)}else e.completedSegments.push(t)}function M6e(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(Qt(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=Nk,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&CD(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(pCn,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(CD(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function P6e(e){if(e.status!==2){var t=E1,n=_L.current;_L.current=Fme;var r=CI;CI=e.responseState;try{var i=e.pingedTasks,o;for(o=0;o<i.length;o++){var a=i[o],s=e,l=a.blockedSegment;if(l.status===0){vD(a.context);try{yl(s,a,a.node),s.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("<!-- -->"),a.abortSet.delete(a),l.status=1,M6e(s,a.blockedBoundary,l)}catch(g){if(qX(),typeof g=="object"&&g!==null&&typeof g.then=="function"){var u=a.ping;g.then(u,u)}else{a.abortSet.delete(a),l.status=4;var d=a.blockedBoundary,f=g,h=l5(s,f);if(d===null?wD(s,f):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=h,d.parentFlushed&&s.clientRenderedBoundaries.push(d))),s.allPendingTasks--,s.allPendingTasks===0){var m=s.onAllReady;m()}}}finally{}}}i.splice(0,o),e.destination!==null&&XX(e,e.destination)}catch(g){l5(e,g),wD(e,g)}finally{CI=r,_L.current=n,n===Fme&&vD(t)}}}function MA(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=r.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var i=!0;r=n.chunks;var o=0;n=n.children;for(var a=0;a<n.length;a++){for(i=n[a];o<i.index;o++)t.push(r[o]);i=wR(e,t,i)}for(;o<r.length-1;o++)t.push(r[o]);return o<r.length&&(i=t.push(r[o])),i;default:throw Error(Qt(390))}}function wR(e,t,n){var r=n.boundary;if(r===null)return MA(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)return e.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("<!--$!-->"),t.push("<template"),r&&(t.push(' data-dgst="'),r=fs(r),t.push(r),t.push('"')),t.push("></template>")),MA(e,t,n),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e;if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var i=e.responseState,o=i.nextSuspenseID++;return i=i.boundaryPrefix+o.toString(16),r=r.id=i,Ame(t,e.responseState,r),MA(e,t,n),t.push("<!--/$-->")}if(r.byteSize>e.progressiveChunkSize)return r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),Ame(t,e.responseState,r.id),MA(e,t,n),t.push("<!--/$-->");if(e.responseState.generateStaticMarkup||t.push("<!--$-->"),n=r.completedSegments,n.length!==1)throw Error(Qt(391));return wR(e,t,n[0]),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e}function zme(e,t,n){return qwn(t,e.responseState,n.formatContext,n.id),wR(e,t,n),Zwn(t,n.formatContext)}function Ume(e,t,n){for(var r=n.completedSegments,i=0;i<r.length;i++)R6e(e,t,n,r[i]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(Qt(395));return n=n.toString(16),t.push(r),t.push('","'),t.push(e.segmentPrefix),t.push(n),t.push('")<\/script>')}function R6e(e,t,n,r){if(r.status===2)return!0;var i=r.id;if(i===-1){if((r.id=n.rootSegmentID)===-1)throw Error(Qt(392));return zme(e,t,r)}return zme(e,t,r),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),i=i.toString(16),t.push(i),t.push('","'),t.push(e.placeholderPrefix),t.push(i),t.push('")<\/script>')}function XX(e,t){try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){wR(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)t.push(r[n]);n<r.length&&t.push(r[n])}var i=e.clientRenderedBoundaries,o;for(o=0;o<i.length;o++){var a=i[o];r=t;var s=e.responseState,l=a.id,u=a.errorDigest,d=a.errorMessage,f=a.errorComponentStack;if(r.push(s.startInlineScript),s.sentClientRenderFunction?r.push('$RX("'):(s.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),l===null)throw Error(Qt(395));if(r.push(l),r.push('"'),u||d||f){r.push(",");var h=EL(u||"");r.push(h)}if(d||f){r.push(",");var m=EL(d||"");r.push(m)}if(f){r.push(",");var g=EL(f);r.push(g)}if(!r.push(")<\/script>")){e.destination=null,o++,i.splice(0,o);return}}i.splice(0,o);var y=e.completedBoundaries;for(o=0;o<y.length;o++)if(!Ume(e,t,y[o])){e.destination=null,o++,y.splice(0,o);return}y.splice(0,o);var x=e.partialBoundaries;for(o=0;o<x.length;o++){var b=x[o];e:{i=e,a=t;var v=b.completedSegments;for(s=0;s<v.length;s++)if(!R6e(i,a,b,v[s])){s++,v.splice(0,s);var w=!1;break e}v.splice(0,s),w=!0}if(!w){e.destination=null,o++,x.splice(0,o);return}}x.splice(0,o);var C=e.completedBoundaries;for(o=0;o<C.length;o++)if(!Ume(e,t,C[o])){e.destination=null,o++,C.splice(0,o);return}C.splice(0,o)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.push(null)}}function mCn(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return O6e(r,e,t)}),n.clear(),e.destination!==null&&XX(e,e.destination)}catch(r){l5(e,r),wD(e,r)}}function gCn(){}function F6e(e,t,n,r){var i=!1,o=null,a="",s={push:function(u){return u!==null&&(a+=u),!0},destroy:function(u){i=!0,o=u}},l=!1;if(e=hCn(e,Jwn(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,gCn,void 0,function(){l=!0},void 0,void 0),P6e(e),mCn(e,r),e.status===1)e.status=2,s.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=s;try{XX(e,s)}catch(u){l5(e,u),wD(e,u)}}if(i)throw o;if(!l)throw Error(Qt(426));return a}Yw.renderToNodeStream=function(){throw Error(Qt(207))};Yw.renderToStaticMarkup=function(e,t){return F6e(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};Yw.renderToStaticNodeStream=function(){throw Error(Qt(208))};Yw.renderToString=function(e,t){return F6e(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};Yw.version="18.3.1";var JX={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L6e=p;function fn(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vl=null,bl=0;function bt(e,t){if(t.length!==0)if(512<t.length)0<bl&&(e.enqueue(new Uint8Array(vl.buffer,0,bl)),vl=new Uint8Array(512),bl=0),e.enqueue(t);else{var n=vl.length-bl;n<t.length&&(n===0?e.enqueue(vl):(vl.set(t.subarray(0,n),bl),e.enqueue(vl),t=t.subarray(n)),vl=new Uint8Array(512),bl=0),vl.set(t,bl),bl+=t.length}}function di(e,t){return bt(e,t),!0}function Hme(e){vl&&0<bl&&(e.enqueue(new Uint8Array(vl.buffer,0,bl)),vl=null,bl=0)}var N6e=new TextEncoder;function xn(e){return N6e.encode(e)}function ot(e){return N6e.encode(e)}function B6e(e,t){typeof e.error=="function"?e.error(t):e.close()}var Gs=Object.prototype.hasOwnProperty,yCn=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wme={},Gme={};function V6e(e){return Gs.call(Gme,e)?!0:Gs.call(Wme,e)?!1:yCn.test(e)?Gme[e]=!0:(Wme[e]=!0,!1)}function Ps(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Aa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Aa[e]=new Ps(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Aa[t]=new Ps(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Aa[e]=new Ps(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Aa[e]=new Ps(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Aa[e]=new Ps(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Aa[e]=new Ps(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Aa[e]=new Ps(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Aa[e]=new Ps(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Aa[e]=new Ps(e,5,!1,e.toLowerCase(),null,!1,!1)});var QX=/[\-:]([a-z])/g;function eJ(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(QX,eJ);Aa[t]=new Ps(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(QX,eJ);Aa[t]=new Ps(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(QX,eJ);Aa[t]=new Ps(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Aa[e]=new Ps(e,1,!1,e.toLowerCase(),null,!1,!1)});Aa.xlinkHref=new Ps("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Aa[e]=new Ps(e,1,!1,e.toLowerCase(),null,!0,!0)});var kI={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vCn=["Webkit","ms","Moz","O"];Object.keys(kI).forEach(function(e){vCn.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),kI[t]=kI[e]})});var bCn=/["'&<>]/;function va(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=bCn.exec(e);if(t){var n="",r,i=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==r&&(n+=e.substring(i,r)),i=r+1,n+=t}e=i!==r?n+e.substring(i,r):n}return e}var xCn=/([A-Z])/g,wCn=/^ms-/,Gz=Array.isArray,CCn=ot("<script>"),kCn=ot("<\/script>"),SCn=ot('<script src="'),ECn=ot('<script type="module" src="'),Kme=ot('" async=""><\/script>'),_Cn=/(<\/|<)(s)(cript)/gi;function TCn(e,t,n,r){return""+t+(n==="s"?"\\u0073":"\\u0053")+r}function ACn(e,t,n,r,i){e=e===void 0?"":e,t=t===void 0?CCn:ot('<script nonce="'+va(t)+'">');var o=[];if(n!==void 0&&o.push(t,xn((""+n).replace(_Cn,TCn)),kCn),r!==void 0)for(n=0;n<r.length;n++)o.push(SCn,xn(va(r[n])),Kme);if(i!==void 0)for(r=0;r<i.length;r++)o.push(ECn,xn(va(i[r])),Kme);return{bootstrapChunks:o,startInlineScript:t,placeholderPrefix:ot(e+"P:"),segmentPrefix:ot(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function cd(e,t){return{insertionMode:e,selectedValue:t}}function jCn(e){return cd(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function ICn(e,t,n){switch(t){case"select":return cd(1,n.value!=null?n.value:n.defaultValue);case"svg":return cd(2,null);case"math":return cd(3,null);case"foreignObject":return cd(1,null);case"table":return cd(4,null);case"thead":case"tbody":case"tfoot":return cd(5,null);case"colgroup":return cd(7,null);case"tr":return cd(6,null)}return 4<=e.insertionMode||e.insertionMode===0?cd(1,null):e}var tJ=ot("<!-- -->");function Yme(e,t,n,r){return t===""?r:(r&&e.push(tJ),e.push(xn(va(t))),!0)}var qme=new Map,$Cn=ot(' style="'),Zme=ot(":"),DCn=ot(";");function z6e(e,t,n){if(typeof n!="object")throw Error(fn(62));t=!0;for(var r in n)if(Gs.call(n,r)){var i=n[r];if(i!=null&&typeof i!="boolean"&&i!==""){if(r.indexOf("--")===0){var o=xn(va(r));i=xn(va((""+i).trim()))}else{o=r;var a=qme.get(o);a!==void 0||(a=ot(va(o.replace(xCn,"-$1").toLowerCase().replace(wCn,"-ms-"))),qme.set(o,a)),o=a,i=typeof i=="number"?i===0||Gs.call(kI,r)?xn(""+i):xn(i+"px"):xn(va((""+i).trim()))}t?(t=!1,e.push($Cn,o,Zme,i)):e.push(DCn,o,Zme,i)}}t||e.push(u1)}var Fp=ot(" "),uv=ot('="'),u1=ot('"'),Xme=ot('=""');function hl(e,t,n,r){switch(n){case"style":z6e(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=Aa.hasOwnProperty(n)?Aa[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=xn(t.attributeName),t.type){case 3:r&&e.push(Fp,n,Xme);break;case 4:r===!0?e.push(Fp,n,Xme):r!==!1&&e.push(Fp,n,uv,xn(va(r)),u1);break;case 5:isNaN(r)||e.push(Fp,n,uv,xn(va(r)),u1);break;case 6:!isNaN(r)&&1<=r&&e.push(Fp,n,uv,xn(va(r)),u1);break;default:t.sanitizeURL&&(r=""+r),e.push(Fp,n,uv,xn(va(r)),u1)}}else if(V6e(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(Fp,xn(n),uv,xn(va(r)),u1)}}}var Lp=ot(">"),Jme=ot("/>");function SI(e,t,n){if(t!=null){if(n!=null)throw Error(fn(60));if(typeof t!="object"||!("__html"in t))throw Error(fn(61));t=t.__html,t!=null&&e.push(xn(""+t))}}function OCn(e){var t="";return L6e.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}var TL=ot(' selected=""');function AL(e,t,n,r){e.push(ud(n));var i=n=null,o;for(o in t)if(Gs.call(t,o)){var a=t[o];if(a!=null)switch(o){case"children":n=a;break;case"dangerouslySetInnerHTML":i=a;break;default:hl(e,r,o,a)}}return e.push(Lp),SI(e,i,n),typeof n=="string"?(e.push(xn(va(n))),null):n}var jL=ot(`
`),MCn=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Qme=new Map;function ud(e){var t=Qme.get(e);if(t===void 0){if(!MCn.test(e))throw Error(fn(65,e));t=ot("<"+e),Qme.set(e,t)}return t}var PCn=ot("<!DOCTYPE html>");function RCn(e,t,n,r,i){switch(t){case"select":e.push(ud("select"));var o=null,a=null;for(d in n)if(Gs.call(n,d)){var s=n[d];if(s!=null)switch(d){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;case"defaultValue":case"value":break;default:hl(e,r,d,s)}}return e.push(Lp),SI(e,a,o),o;case"option":a=i.selectedValue,e.push(ud("option"));var l=s=null,u=null,d=null;for(o in n)if(Gs.call(n,o)){var f=n[o];if(f!=null)switch(o){case"children":s=f;break;case"selected":u=f;break;case"dangerouslySetInnerHTML":d=f;break;case"value":l=f;default:hl(e,r,o,f)}}if(a!=null)if(n=l!==null?""+l:OCn(s),Gz(a)){for(r=0;r<a.length;r++)if(""+a[r]===n){e.push(TL);break}}else""+a===n&&e.push(TL);else u&&e.push(TL);return e.push(Lp),SI(e,d,s),s;case"textarea":e.push(ud("textarea")),d=a=o=null;for(s in n)if(Gs.call(n,s)&&(l=n[s],l!=null))switch(s){case"children":d=l;break;case"value":o=l;break;case"defaultValue":a=l;break;case"dangerouslySetInnerHTML":throw Error(fn(91));default:hl(e,r,s,l)}if(o===null&&a!==null&&(o=a),e.push(Lp),d!=null){if(o!=null)throw Error(fn(92));if(Gz(d)&&1<d.length)throw Error(fn(93));o=""+d}return typeof o=="string"&&o[0]===`
`&&e.push(jL),o!==null&&e.push(xn(va(""+o))),null;case"input":e.push(ud("input")),l=d=s=o=null;for(a in n)if(Gs.call(n,a)&&(u=n[a],u!=null))switch(a){case"children":case"dangerouslySetInnerHTML":throw Error(fn(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":s=u;break;case"checked":d=u;break;case"value":o=u;break;default:hl(e,r,a,u)}return d!==null?hl(e,r,"checked",d):l!==null&&hl(e,r,"checked",l),o!==null?hl(e,r,"value",o):s!==null&&hl(e,r,"value",s),e.push(Jme),null;case"menuitem":e.push(ud("menuitem"));for(var h in n)if(Gs.call(n,h)&&(o=n[h],o!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(fn(400));default:hl(e,r,h,o)}return e.push(Lp),null;case"title":e.push(ud("title")),o=null;for(f in n)if(Gs.call(n,f)&&(a=n[f],a!=null))switch(f){case"children":o=a;break;case"dangerouslySetInnerHTML":throw Error(fn(434));default:hl(e,r,f,a)}return e.push(Lp),o;case"listing":case"pre":e.push(ud(t)),a=o=null;for(l in n)if(Gs.call(n,l)&&(s=n[l],s!=null))switch(l){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;default:hl(e,r,l,s)}if(e.push(Lp),a!=null){if(o!=null)throw Error(fn(60));if(typeof a!="object"||!("__html"in a))throw Error(fn(61));n=a.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(jL,xn(n)):e.push(xn(""+n)))}return typeof o=="string"&&o[0]===`
`&&e.push(jL),o;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(ud(t));for(var m in n)if(Gs.call(n,m)&&(o=n[m],o!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(fn(399,t));default:hl(e,r,m,o)}return e.push(Jme),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return AL(e,n,t,r);case"html":return i.insertionMode===0&&e.push(PCn),AL(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return AL(e,n,t,r);e.push(ud(t)),a=o=null;for(u in n)if(Gs.call(n,u)&&(s=n[u],s!=null))switch(u){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;case"style":z6e(e,r,s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:V6e(u)&&typeof s!="function"&&typeof s!="symbol"&&e.push(Fp,xn(u),uv,xn(va(s)),u1)}return e.push(Lp),SI(e,a,o),o}}var FCn=ot("</"),LCn=ot(">"),NCn=ot('<template id="'),BCn=ot('"></template>'),VCn=ot("<!--$-->"),zCn=ot('<!--$?--><template id="'),UCn=ot('"></template>'),HCn=ot("<!--$!-->"),WCn=ot("<!--/$-->"),GCn=ot("<template"),KCn=ot('"'),YCn=ot(' data-dgst="');ot(' data-msg="');ot(' data-stck="');var qCn=ot("></template>");function ege(e,t,n){if(bt(e,zCn),n===null)throw Error(fn(395));return bt(e,n),di(e,UCn)}var ZCn=ot('<div hidden id="'),XCn=ot('">'),JCn=ot("</div>"),QCn=ot('<svg aria-hidden="true" style="display:none" id="'),ekn=ot('">'),tkn=ot("</svg>"),nkn=ot('<math aria-hidden="true" style="display:none" id="'),rkn=ot('">'),ikn=ot("</math>"),okn=ot('<table hidden id="'),akn=ot('">'),skn=ot("</table>"),lkn=ot('<table hidden><tbody id="'),ckn=ot('">'),ukn=ot("</tbody></table>"),dkn=ot('<table hidden><tr id="'),fkn=ot('">'),hkn=ot("</tr></table>"),pkn=ot('<table hidden><colgroup id="'),mkn=ot('">'),gkn=ot("</colgroup></table>");function ykn(e,t,n,r){switch(n.insertionMode){case 0:case 1:return bt(e,ZCn),bt(e,t.segmentPrefix),bt(e,xn(r.toString(16))),di(e,XCn);case 2:return bt(e,QCn),bt(e,t.segmentPrefix),bt(e,xn(r.toString(16))),di(e,ekn);case 3:return bt(e,nkn),bt(e,t.segmentPrefix),bt(e,xn(r.toString(16))),di(e,rkn);case 4:return bt(e,okn),bt(e,t.segmentPrefix),bt(e,xn(r.toString(16))),di(e,akn);case 5:return bt(e,lkn),bt(e,t.segmentPrefix),bt(e,xn(r.toString(16))),di(e,ckn);case 6:return bt(e,dkn),bt(e,t.segmentPrefix),bt(e,xn(r.toString(16))),di(e,fkn);case 7:return bt(e,pkn),bt(e,t.segmentPrefix),bt(e,xn(r.toString(16))),di(e,mkn);default:throw Error(fn(397))}}function vkn(e,t){switch(t.insertionMode){case 0:case 1:return di(e,JCn);case 2:return di(e,tkn);case 3:return di(e,ikn);case 4:return di(e,skn);case 5:return di(e,ukn);case 6:return di(e,hkn);case 7:return di(e,gkn);default:throw Error(fn(397))}}var bkn=ot('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),xkn=ot('$RS("'),wkn=ot('","'),Ckn=ot('")<\/script>'),kkn=ot('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),Skn=ot('$RC("'),Ekn=ot('","'),_kn=ot('")<\/script>'),Tkn=ot('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),Akn=ot('$RX("'),jkn=ot('"'),Ikn=ot(")<\/script>"),IL=ot(","),$kn=/[<\u2028\u2029]/g;function $L(e){return JSON.stringify(e).replace($kn,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var zS=Object.assign,Dkn=Symbol.for("react.element"),U6e=Symbol.for("react.portal"),H6e=Symbol.for("react.fragment"),W6e=Symbol.for("react.strict_mode"),G6e=Symbol.for("react.profiler"),K6e=Symbol.for("react.provider"),Y6e=Symbol.for("react.context"),q6e=Symbol.for("react.forward_ref"),Z6e=Symbol.for("react.suspense"),X6e=Symbol.for("react.suspense_list"),J6e=Symbol.for("react.memo"),nJ=Symbol.for("react.lazy"),Okn=Symbol.for("react.scope"),Mkn=Symbol.for("react.debug_trace_mode"),Pkn=Symbol.for("react.legacy_hidden"),Rkn=Symbol.for("react.default_value"),tge=Symbol.iterator;function Kz(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H6e:return"Fragment";case U6e:return"Portal";case G6e:return"Profiler";case W6e:return"StrictMode";case Z6e:return"Suspense";case X6e:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Y6e:return(e.displayName||"Context")+".Consumer";case K6e:return(e._context.displayName||"Context")+".Provider";case q6e:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J6e:return t=e.displayName||null,t!==null?t:Kz(e.type)||"Memo";case nJ:t=e._payload,e=e._init;try{return Kz(e(t))}catch{}}return null}var Q6e={};function nge(e,t){if(e=e.contextTypes,!e)return Q6e;var n={},r;for(r in e)n[r]=t[r];return n}var _1=null;function CR(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(fn(401))}else{if(n===null)throw Error(fn(401));CR(e,n)}t.context._currentValue=t.value}}function e8e(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&e8e(e)}function t8e(e){var t=e.parent;t!==null&&t8e(t),e.context._currentValue=e.value}function n8e(e,t){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(fn(402));e.depth===t.depth?CR(e,t):n8e(e,t)}function r8e(e,t){var n=t.parent;if(n===null)throw Error(fn(402));e.depth===n.depth?CR(e,n):r8e(e,n),t.context._currentValue=t.value}function kD(e){var t=_1;t!==e&&(t===null?t8e(e):e===null?e8e(t):t.depth===e.depth?CR(t,e):t.depth>e.depth?n8e(t,e):r8e(t,e),_1=e)}var rge={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function ige(e,t,n,r){var i=e.state!==void 0?e.state:null;e.updater=rge,e.props=n,e.state=i;var o={queue:[],replace:!1};e._reactInternals=o;var a=t.contextType;if(e.context=typeof a=="object"&&a!==null?a._currentValue:r,a=t.getDerivedStateFromProps,typeof a=="function"&&(a=a(n,i),i=a==null?i:zS({},i,a),e.state=i),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&rge.enqueueReplaceState(e,e.state,null),o.queue!==null&&0<o.queue.length)if(t=o.queue,a=o.replace,o.queue=null,o.replace=!1,a&&t.length===1)e.state=t[0];else{for(o=a?t[0]:e.state,i=!0,a=a?1:0;a<t.length;a++){var s=t[a];s=typeof s=="function"?s.call(e,o,n,r):s,s!=null&&(i?(i=!1,o=zS({},o,s)):zS(o,s))}e.state=o}else o.queue=null}var Fkn={id:1,overflow:""};function Yz(e,t,n){var r=e.id;e=e.overflow;var i=32-EI(r)-1;r&=~(1<<i),n+=1;var o=32-EI(t)+i;if(30<o){var a=i-i%5;return o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,{id:1<<32-EI(t)+i|n<<i|r,overflow:o+e}}return{id:1<<o|n<<i|r,overflow:e}}var EI=Math.clz32?Math.clz32:Bkn,Lkn=Math.log,Nkn=Math.LN2;function Bkn(e){return e>>>=0,e===0?32:31-(Lkn(e)/Nkn|0)|0}function Vkn(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zkn=typeof Object.is=="function"?Object.is:Vkn,Yh=null,rJ=null,_I=null,qr=null,Bk=!1,SD=!1,c5=0,bm=null,kR=0;function d1(){if(Yh===null)throw Error(fn(321));return Yh}function oge(){if(0<kR)throw Error(fn(312));return{memoizedState:null,queue:null,next:null}}function iJ(){return qr===null?_I===null?(Bk=!1,_I=qr=oge()):(Bk=!0,qr=_I):qr.next===null?(Bk=!1,qr=qr.next=oge()):(Bk=!0,qr=qr.next),qr}function oJ(){rJ=Yh=null,SD=!1,_I=null,kR=0,qr=bm=null}function i8e(e,t){return typeof t=="function"?t(e):t}function age(e,t,n){if(Yh=d1(),qr=iJ(),Bk){var r=qr.queue;if(t=r.dispatch,bm!==null&&(n=bm.get(r),n!==void 0)){bm.delete(r),r=qr.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return qr.memoizedState=r,[r,t]}return[qr.memoizedState,t]}return e=e===i8e?typeof t=="function"?t():t:n!==void 0?n(t):t,qr.memoizedState=e,e=qr.queue={last:null,dispatch:null},e=e.dispatch=Ukn.bind(null,Yh,e),[qr.memoizedState,e]}function sge(e,t){if(Yh=d1(),qr=iJ(),t=t===void 0?null:t,qr!==null){var n=qr.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!zkn(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),qr.memoizedState=[e,t],e}function Ukn(e,t,n){if(25<=kR)throw Error(fn(301));if(e===Yh)if(SD=!0,e={action:n,next:null},bm===null&&(bm=new Map),n=bm.get(t),n===void 0)bm.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function Hkn(){throw Error(fn(394))}function PA(){}var lge={readContext:function(e){return e._currentValue},useContext:function(e){return d1(),e._currentValue},useMemo:sge,useReducer:age,useRef:function(e){Yh=d1(),qr=iJ();var t=qr.memoizedState;return t===null?(e={current:e},qr.memoizedState=e):t},useState:function(e){return age(i8e,e)},useInsertionEffect:PA,useLayoutEffect:function(){},useCallback:function(e,t){return sge(function(){return e},t)},useImperativeHandle:PA,useEffect:PA,useDebugValue:PA,useDeferredValue:function(e){return d1(),e},useTransition:function(){return d1(),[!1,Hkn]},useId:function(){var e=rJ.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-EI(e)-1)).toString(32)+t;var n=TI;if(n===null)throw Error(fn(404));return t=c5++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return d1(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(fn(407));return n()}},TI=null,DL=L6e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Wkn(e){return console.error(e),null}function Vk(){}function Gkn(e,t,n,r,i,o,a,s,l){var u=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?Wkn:i,onAllReady:o===void 0?Vk:o,onShellReady:a===void 0?Vk:a,onShellError:s===void 0?Vk:s,onFatalError:l===void 0?Vk:l},n=ED(t,0,null,n,!1,!1),n.parentFlushed=!0,e=aJ(t,e,null,n,d,Q6e,null,Fkn),u.push(e),t}function aJ(e,t,n,r,i,o,a,s){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var u=e.pingedTasks;u.push(l),u.length===1&&s8e(e)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:o,context:a,treeContext:s};return i.add(l),l}function ED(e,t,n,r,i,o){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:o}}function u5(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function _D(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,B6e(e.destination,t)):(e.status=1,e.fatalError=t)}function cge(e,t,n,r,i){for(Yh={},rJ=t,c5=0,e=n(r,i);SD;)SD=!1,c5=0,kR+=1,qr=null,e=n(r,i);return oJ(),e}function uge(e,t,n,r){var i=n.render(),o=r.childContextTypes;if(o!=null){var a=t.legacyContext;if(typeof n.getChildContext!="function")r=a;else{n=n.getChildContext();for(var s in n)if(!(s in o))throw Error(fn(108,Kz(r)||"Unknown",s));r=zS({},a,n)}t.legacyContext=r,xl(e,t,i),t.legacyContext=a}else xl(e,t,i)}function dge(e,t){if(e&&e.defaultProps){t=zS({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function qz(e,t,n,r,i){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){i=nge(n,t.legacyContext);var o=n.contextType;o=new n(r,typeof o=="object"&&o!==null?o._currentValue:i),ige(o,n,r,i),uge(e,t,o,n)}else{o=nge(n,t.legacyContext),i=cge(e,t,n,r,o);var a=c5!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)ige(i,n,r,o),uge(e,t,i,n);else if(a){r=t.treeContext,t.treeContext=Yz(r,1,0);try{xl(e,t,i)}finally{t.treeContext=r}}else xl(e,t,i)}else if(typeof n=="string"){switch(i=t.blockedSegment,o=RCn(i.chunks,n,r,e.responseState,i.formatContext),i.lastPushedText=!1,a=i.formatContext,i.formatContext=ICn(a,n,r),Zz(e,t,o),i.formatContext=a,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push(FCn,xn(n),LCn)}i.lastPushedText=!1}else{switch(n){case Pkn:case Mkn:case W6e:case G6e:case H6e:xl(e,t,r.children);return;case X6e:xl(e,t,r.children);return;case Okn:throw Error(fn(343));case Z6e:e:{n=t.blockedBoundary,i=t.blockedSegment,o=r.fallback,r=r.children,a=new Set;var s={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:a,errorDigest:null},l=ED(e,i.chunks.length,s,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var u=ED(e,0,null,i.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=s,t.blockedSegment=u;try{if(Zz(e,t,r),u.lastPushedText&&u.textEmbedded&&u.chunks.push(tJ),u.status=1,TD(s,u),s.pendingTasks===0)break e}catch(d){u.status=4,s.forceClientRender=!0,s.errorDigest=u5(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=i}t=aJ(e,o,n,l,a,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case q6e:if(r=cge(e,t,n.render,r,i),c5!==0){n=t.treeContext,t.treeContext=Yz(n,1,0);try{xl(e,t,r)}finally{t.treeContext=n}}else xl(e,t,r);return;case J6e:n=n.type,r=dge(n,r),qz(e,t,n,r,i);return;case K6e:if(i=r.children,n=n._context,r=r.value,o=n._currentValue,n._currentValue=r,a=_1,_1=r={parent:a,depth:a===null?0:a.depth+1,context:n,parentValue:o,value:r},t.context=r,xl(e,t,i),e=_1,e===null)throw Error(fn(403));r=e.parentValue,e.context._currentValue=r===Rkn?e.context._defaultValue:r,e=_1=e.parent,t.context=e;return;case Y6e:r=r.children,r=r(n._currentValue),xl(e,t,r);return;case nJ:i=n._init,n=i(n._payload),r=dge(n,r),qz(e,t,n,r,void 0);return}throw Error(fn(130,n==null?n:typeof n,""))}}function xl(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case Dkn:qz(e,t,n.type,n.props,n.ref);return;case U6e:throw Error(fn(257));case nJ:var r=n._init;n=r(n._payload),xl(e,t,n);return}if(Gz(n)){fge(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=tge&&n[tge]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var i=[];do i.push(n.value),n=r.next();while(!n.done);fge(e,t,i)}return}throw e=Object.prototype.toString.call(n),Error(fn(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=Yme(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=Yme(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function fge(e,t,n){for(var r=n.length,i=0;i<r;i++){var o=t.treeContext;t.treeContext=Yz(o,r,i);try{Zz(e,t,n[i])}finally{t.treeContext=o}}}function Zz(e,t,n){var r=t.blockedSegment.formatContext,i=t.legacyContext,o=t.context;try{return xl(e,t,n)}catch(l){if(oJ(),typeof l=="object"&&l!==null&&typeof l.then=="function"){n=l;var a=t.blockedSegment,s=ED(e,a.chunks.length,null,a.formatContext,a.lastPushedText,!0);a.children.push(s),a.lastPushedText=!1,e=aJ(e,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,kD(o)}else throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,kD(o),l}}function Kkn(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,a8e(this,t,e)}function o8e(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(fn(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(i){return o8e(i,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function TD(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&TD(e,n)}else e.completedSegments.push(t)}function a8e(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(fn(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=Vk,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&TD(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(Kkn,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(TD(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function s8e(e){if(e.status!==2){var t=_1,n=DL.current;DL.current=lge;var r=TI;TI=e.responseState;try{var i=e.pingedTasks,o;for(o=0;o<i.length;o++){var a=i[o],s=e,l=a.blockedSegment;if(l.status===0){kD(a.context);try{xl(s,a,a.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(tJ),a.abortSet.delete(a),l.status=1,a8e(s,a.blockedBoundary,l)}catch(g){if(oJ(),typeof g=="object"&&g!==null&&typeof g.then=="function"){var u=a.ping;g.then(u,u)}else{a.abortSet.delete(a),l.status=4;var d=a.blockedBoundary,f=g,h=u5(s,f);if(d===null?_D(s,f):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=h,d.parentFlushed&&s.clientRenderedBoundaries.push(d))),s.allPendingTasks--,s.allPendingTasks===0){var m=s.onAllReady;m()}}}finally{}}}i.splice(0,o),e.destination!==null&&sJ(e,e.destination)}catch(g){u5(e,g),_D(e,g)}finally{TI=r,DL.current=n,n===lge&&kD(t)}}}function RA(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,bt(t,NCn),bt(t,e.placeholderPrefix),e=xn(r.toString(16)),bt(t,e),di(t,BCn);case 1:n.status=2;var i=!0;r=n.chunks;var o=0;n=n.children;for(var a=0;a<n.length;a++){for(i=n[a];o<i.index;o++)bt(t,r[o]);i=SR(e,t,i)}for(;o<r.length-1;o++)bt(t,r[o]);return o<r.length&&(i=di(t,r[o])),i;default:throw Error(fn(390))}}function SR(e,t,n){var r=n.boundary;if(r===null)return RA(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,di(t,HCn),bt(t,GCn),r&&(bt(t,YCn),bt(t,xn(va(r))),bt(t,KCn)),di(t,qCn),RA(e,t,n);else if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var i=e.responseState,o=i.nextSuspenseID++;i=ot(i.boundaryPrefix+o.toString(16)),r=r.id=i,ege(t,e.responseState,r),RA(e,t,n)}else if(r.byteSize>e.progressiveChunkSize)r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),ege(t,e.responseState,r.id),RA(e,t,n);else{if(di(t,VCn),n=r.completedSegments,n.length!==1)throw Error(fn(391));SR(e,t,n[0])}return di(t,WCn)}function hge(e,t,n){return ykn(t,e.responseState,n.formatContext,n.id),SR(e,t,n),vkn(t,n.formatContext)}function pge(e,t,n){for(var r=n.completedSegments,i=0;i<r.length;i++)l8e(e,t,n,r[i]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,bt(t,e.startInlineScript),e.sentCompleteBoundaryFunction?bt(t,Skn):(e.sentCompleteBoundaryFunction=!0,bt(t,kkn)),r===null)throw Error(fn(395));return n=xn(n.toString(16)),bt(t,r),bt(t,Ekn),bt(t,e.segmentPrefix),bt(t,n),di(t,_kn)}function l8e(e,t,n,r){if(r.status===2)return!0;var i=r.id;if(i===-1){if((r.id=n.rootSegmentID)===-1)throw Error(fn(392));return hge(e,t,r)}return hge(e,t,r),e=e.responseState,bt(t,e.startInlineScript),e.sentCompleteSegmentFunction?bt(t,xkn):(e.sentCompleteSegmentFunction=!0,bt(t,bkn)),bt(t,e.segmentPrefix),i=xn(i.toString(16)),bt(t,i),bt(t,wkn),bt(t,e.placeholderPrefix),bt(t,i),di(t,Ckn)}function sJ(e,t){vl=new Uint8Array(512),bl=0;try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){SR(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)bt(t,r[n]);n<r.length&&di(t,r[n])}var i=e.clientRenderedBoundaries,o;for(o=0;o<i.length;o++){var a=i[o];r=t;var s=e.responseState,l=a.id,u=a.errorDigest,d=a.errorMessage,f=a.errorComponentStack;if(bt(r,s.startInlineScript),s.sentClientRenderFunction?bt(r,Akn):(s.sentClientRenderFunction=!0,bt(r,Tkn)),l===null)throw Error(fn(395));bt(r,l),bt(r,jkn),(u||d||f)&&(bt(r,IL),bt(r,xn($L(u||"")))),(d||f)&&(bt(r,IL),bt(r,xn($L(d||"")))),f&&(bt(r,IL),bt(r,xn($L(f)))),di(r,Ikn)}i.splice(0,o);var h=e.completedBoundaries;for(o=0;o<h.length;o++)pge(e,t,h[o]);h.splice(0,o),Hme(t),vl=new Uint8Array(512),bl=0;var m=e.partialBoundaries;for(o=0;o<m.length;o++){var g=m[o];e:{i=e,a=t;var y=g.completedSegments;for(s=0;s<y.length;s++)if(!l8e(i,a,g,y[s])){s++,y.splice(0,s);var x=!1;break e}y.splice(0,s),x=!0}if(!x){e.destination=null,o++,m.splice(0,o);return}}m.splice(0,o);var b=e.completedBoundaries;for(o=0;o<b.length;o++)pge(e,t,b[o]);b.splice(0,o)}finally{Hme(t),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.close()}}function mge(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return o8e(r,e,t)}),n.clear(),e.destination!==null&&sJ(e,e.destination)}catch(r){u5(e,r),_D(e,r)}}JX.renderToReadableStream=function(e,t){return new Promise(function(n,r){var i,o,a=new Promise(function(d,f){o=d,i=f}),s=Gkn(e,ACn(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),jCn(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,o,function(){var d=new ReadableStream({type:"bytes",pull:function(f){if(s.status===1)s.status=2,B6e(f,s.fatalError);else if(s.status!==2&&s.destination===null){s.destination=f;try{sJ(s,f)}catch(h){u5(s,h),_D(s,h)}}},cancel:function(){mge(s)}},{highWaterMark:0});d.allReady=a,n(d)},function(d){a.catch(function(){}),r(d)},i);if(t&&t.signal){var l=t.signal,u=function(){mge(s,l.reason),l.removeEventListener("abort",u)};l.addEventListener("abort",u)}s8e(s)})};JX.version="18.3.1";var qw,c8e;qw=Yw,c8e=JX;qw.version;var Ykn=qw.renderToString;qw.renderToStaticMarkup;qw.renderToNodeStream;qw.renderToStaticNodeStream;c8e.renderToReadableStream;var qkn=ZM,Zkn=jY,Xkn=Zkn(function(e,t,n){qkn(e,n,t)}),Jkn=Xkn;const lJ=Ue(Jkn);var Qkn=tp,eSn=bo,tSn=Ul,nSn="[object String]";function rSn(e){return typeof e=="string"||!eSn(e)&&tSn(e)&&Qkn(e)==nSn}var iSn=rSn;const cJ=Ue(iSn);var oSn=Ky,aSn=CM;function sSn(e){return oSn(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,a&&aSn(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t})}var u8e=sSn,lSn=e0,cSn=u8e,uSn=iP,dSn=cSn(function(e,t,n,r){lSn(t,uSn(t),e,r)}),fSn=dSn,hSn=tp,pSn=Ul,mSn=VY,gSn="[object DOMException]",ySn="[object Error]";function vSn(e){if(!pSn(e))return!1;var t=hSn(e);return t==ySn||t==gSn||typeof e.message=="string"&&typeof e.name=="string"&&!mSn(e)}var d8e=vSn,bSn=JEe,xSn=Ky,wSn=d8e,CSn=xSn(function(e,t){try{return bSn(e,void 0,t)}catch(n){return wSn(n)?n:new Error(n)}}),kSn=CSn,SSn=iE,f8e=Object.prototype,ESn=f8e.hasOwnProperty;function _Sn(e,t,n,r){return e===void 0||SSn(e,f8e[n])&&!ESn.call(r,n)?t:e}var TSn=_Sn,ASn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function jSn(e){return"\\"+ASn[e]}var ISn=jSn,$Sn=/<%=([\s\S]+?)%>/g,h8e=$Sn,DSn=b3e,OSn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},MSn=DSn(OSn),PSn=MSn,RSn=PSn,FSn=Uc,p8e=/[&<>"']/g,LSn=RegExp(p8e.source);function NSn(e){return e=FSn(e),e&&LSn.test(e)?e.replace(p8e,RSn):e}var BSn=NSn,VSn=/<%-([\s\S]+?)%>/g,zSn=VSn,USn=/<%([\s\S]+?)%>/g,HSn=USn,WSn=BSn,GSn=zSn,KSn=HSn,YSn=h8e,qSn={escape:GSn,evaluate:KSn,interpolate:YSn,variable:"",imports:{_:{escape:WSn}}},ZSn=qSn,gge=fSn,XSn=kSn,JSn=IRe,yge=TSn,QSn=ISn,e2n=d8e,t2n=CM,n2n=of,r2n=h8e,vge=ZSn,i2n=Uc,o2n="Invalid `variable` option passed into `_.template`",a2n=/\b__p \+= '';/g,s2n=/\b(__p \+=) '' \+/g,l2n=/(__e\(.*?\)|\b__t\)) \+\n'';/g,c2n=/[()=,{}\[\]\/\s]/,u2n=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,FA=/($^)/,d2n=/['\n\r\u2028\u2029\\]/g,f2n=Object.prototype,bge=f2n.hasOwnProperty;function h2n(e,t,n){var r=vge.imports._.templateSettings||vge;n&&t2n(e,t,n)&&(t=void 0),e=i2n(e),t=gge({},t,r,yge);var i=gge({},t.imports,r.imports,yge),o=n2n(i),a=JSn(i,o),s,l,u=0,d=t.interpolate||FA,f="__p += '",h=RegExp((t.escape||FA).source+"|"+d.source+"|"+(d===r2n?u2n:FA).source+"|"+(t.evaluate||FA).source+"|$","g"),m=bge.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+`
`:"";e.replace(h,function(x,b,v,w,C,k){return v||(v=w),f+=e.slice(u,k).replace(d2n,QSn),b&&(s=!0,f+=`' +
__e(`+b+`) +
'`),C&&(l=!0,f+=`';
`+C+`;
__p += '`),v&&(f+=`' +
((__t = (`+v+`)) == null ? '' : __t) +
'`),u=k+x.length,x}),f+=`';
`;var g=bge.call(t,"variable")&&t.variable;if(!g)f=`with (obj) {
`+f+`
}
`;else if(c2n.test(g))throw new Error(o2n);f=(l?f.replace(a2n,""):f).replace(s2n,"$1").replace(l2n,"$1;"),f="function("+(g||"obj")+`) {
`+(g?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(s?", __e = _.escape":"")+(l?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+f+`return __p
}`;var y=XSn(function(){return Function(o,m+"return "+f).apply(void 0,a)});if(y.source=f,e2n(y))throw y;return y}var p2n=h2n;const jx=Ue(p2n);var m2n=e0,g2n=u8e,y2n=of,v2n=g2n(function(e,t,n,r){m2n(t,y2n(t),e,r)}),b2n=v2n;const x2n=Ue(b2n);var Ay={};Object.defineProperty(Ay,"__esModule",{value:!0});Ay.SKIP=g8e;var m8e=Ay.reduce=y8e;Ay.withCustomPathSegment=Ay.SKIP_MARKER=void 0;function uJ(e,t){return k2n(e)||C2n(e,t)||w2n()}function w2n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function C2n(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a=e[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}function k2n(e){if(Array.isArray(e))return e}function AI(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?AI=function(n){return typeof n}:AI=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},AI(e)}function ER(e,t,n){return t}function S2n(e){return Array.isArray(e)?"array":e===null?"null":AI(e)}var dJ={_:"SKIP_MARKER"};Ay.SKIP_MARKER=dJ;function g8e(e){return[dJ,e]}function fJ(e,t,n,r){var i=t(e,n,r);return i===g8e?[!0,e]:Array.isArray(i)&&i[0]===dJ?[!0,i[1]]:[!1,i]}function E2n(e,t,n,r){var i=fJ(e,t,n,r),o=uJ(i,2),a=o[1];return a}function _2n(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:ER,o=fJ(e,t,n,r),a=uJ(o,2),s=a[0],l=a[1];return s?l:Object.keys(n).reduce(function(u,d){return hJ(u,t,n[d],r.concat(i(n[d],d,n)),i)},l)}function T2n(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:ER,o=fJ(e,t,n,r),a=uJ(o,2),s=a[0],l=a[1];return s?l:n.reduce(function(u,d,f){return hJ(u,t,d,r.concat(i(d,f,n)),i)},l)}function hJ(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:ER,o=S2n(n);return o==="object"?_2n(e,t,n,r,i):o==="array"?T2n(e,t,n,r,i):E2n(e,t,n,r)}function y8e(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ER;return hJ(n,t,e,[],r)}var A2n=function(t){return function(n,r,i){return y8e(n,r,i,t)}};Ay.withCustomPathSegment=A2n;function pJ(e){return t=>Qi(()=>{const n=new Jr;return t.pipe(qK(()=>n,{leading:!0,trailing:!0}),lAe((r,i)=>YTe(e(r,i),Rc).pipe(bw(()=>{n.next()}))))})}class j2n{constructor(t){Z(this,"current",0);Z(this,"resolvers",[]);Z(this,"ready",()=>this.max===1/0?Promise.resolve():this.current<this.max?(this.current++,Promise.resolve()):new Promise(t=>{this.resolvers.push(t)}));Z(this,"release",()=>{if(this.max===1/0)return;const t=this.resolvers.shift();if(t){t();return}this.current=Math.max(0,this.current-1)});this.max=t}}const I2n=["Value","Copy","Blank","ReturnIntoArray","ReturnIntoObject","ReturnIntoObjectSameKey","PushField","PushElement","PushParent","Pop","PushFieldCopy","PushFieldBlank","PushElementCopy","PushElementBlank","ReturnIntoObjectPop","ReturnIntoObjectSameKeyPop","ReturnIntoArrayPop","ObjectSetFieldValue","ObjectCopyField","ObjectDeleteField","ArrayAppendValue","ArrayAppendSlice","StringAppendString","StringAppendSlice"];class v8e{constructor(t,n,r){this.model=t,this.root=n,this.patch=r,this.i=0,this.inputStack=[],this.outputStack=[]}read(){return this.patch[this.i++]}process(){for(this.inputStack.push({value:this.root}),this.outputStack.push({value:this.root});this.i<this.patch.length;){let n=this.read(),r=I2n[n];if(!r)throw new Error(`Unknown opcode: ${n}`);let i=`process${r}`;this[i].apply(this)}let t=this.outputStack.pop();return this.finalizeOutput(t)}inputEntry(){return this.inputStack[this.inputStack.length-1]}inputKey(t,n){return t.keys||(t.keys=this.model.objectGetKeys(t.value).sort()),t.keys[n]}outputEntry(){return this.outputStack[this.outputStack.length-1]}outputArray(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyArray(t.value)),t.writeValue}outputObject(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyObject(t.value)),t.writeValue}outputString(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyString(t.value)),t.writeValue}finalizeOutput(t){return t.writeValue?this.model.finalize(t.writeValue):t.value}processValue(){let t=this.model.wrap(this.read());this.outputStack.push({value:t})}processCopy(){let t=this.inputEntry();this.outputStack.push({value:t.value})}processBlank(){this.outputStack.push({value:null})}processReturnIntoArray(){let t=this.outputStack.pop(),n=this.finalizeOutput(t),r=this.outputArray();this.model.arrayAppendValue(r,n)}processReturnIntoObject(){let t=this.read(),n=this.outputStack.pop(),r=this.finalizeOutput(n);r=this.model.markChanged(r);let i=this.outputObject();this.model.objectSetField(i,t,r)}processReturnIntoObjectSameKey(){let t=this.inputEntry(),n=this.outputStack.pop(),r=this.finalizeOutput(n),i=this.outputObject();this.model.objectSetField(i,t.key,r)}processPushField(){let t=this.read(),n=this.inputEntry(),r=this.inputKey(n,t),i=this.model.objectGetField(n.value,r);this.inputStack.push({value:i,key:r})}processPushElement(){let t=this.read(),n=this.inputEntry(),r=this.model.arrayGetElement(n.value,t);this.inputStack.push({value:r})}processPop(){this.inputStack.pop()}processPushFieldCopy(){this.processPushField(),this.processCopy()}processPushFieldBlank(){this.processPushField(),this.processBlank()}processPushElementCopy(){this.processPushElement(),this.processCopy()}processPushElementBlank(){this.processPushElement(),this.processBlank()}processReturnIntoObjectPop(){this.processReturnIntoObject(),this.processPop()}processReturnIntoObjectSameKeyPop(){this.processReturnIntoObjectSameKey(),this.processPop()}processReturnIntoArrayPop(){this.processReturnIntoArray(),this.processPop()}processObjectSetFieldValue(){this.processValue(),this.processReturnIntoObject()}processObjectCopyField(){this.processPushField(),this.processCopy(),this.processReturnIntoObjectSameKey(),this.processPop()}processObjectDeleteField(){let t=this.read(),n=this.inputEntry(),r=this.inputKey(n,t),i=this.outputObject();this.model.objectDeleteField(i,r)}processArrayAppendValue(){let t=this.model.wrap(this.read()),n=this.outputArray();this.model.arrayAppendValue(n,t)}processArrayAppendSlice(){let t=this.read(),n=this.read(),r=this.outputArray(),i=this.inputEntry().value;this.model.arrayAppendSlice(r,i,t,n)}processStringAppendString(){let t=this.model.wrap(this.read()),n=this.outputString();this.model.stringAppendValue(n,t)}processStringAppendSlice(){let t=this.read(),n=this.read(),r=this.outputString(),i=this.inputEntry().value;this.model.stringAppendSlice(r,i,t,n)}}function d_(e){return e>>16?4:e>>11?3:e>>7?2:1}function Xz(e){let t=0;for(let n=0;n<e.length;n++){let r=e.codePointAt(n),i=d_(r);i==4&&n++,t+=i}return t}function xge(e,t,n=0){let r=n,i=0;for(i=n;r<t;i++){let o=e.codePointAt(i),a=d_(o);a===4&&i++,r+=a}return i}function $2n(e,t){let n=Math.min(e.length,t.length),r=0;for(let i=0;i<n;){let o=e.codePointAt(i),a=t.codePointAt(i);if(o!==a)return r;let s=d_(o);r+=s,i+=s===4?2:1}return r}function D2n(e,t,n=0){let r=Math.min(e.length,t.length)-n,i=0;for(let o=0;o<r;){let a=e.codePointAt(e.length-1-o),s=t.codePointAt(t.length-1-o);if(a!==s)return i;let l=d_(a);i+=l,o+=l===4?2:1}return i}class Jz{constructor(t){this.meta=t}wrap(t){return this.wrapWithMeta(t,this.meta,this.meta)}wrapWithMeta(t,n,r=this.meta){return{data:t,startMeta:n,endMeta:r}}asObject(t){if(!t.content){let n={};for(let[r,i]of Object.entries(t.data))n[r]=this.wrapWithMeta(i,t.startMeta);t.content={type:"object",fields:n}}return t.content}asArray(t){if(!t.content){let n=t.data.map(i=>this.wrapWithMeta(i,t.startMeta)),r=n.map(()=>this.meta);t.content={type:"array",elements:n,metas:r}}return t.content}asString(t){if(!t.content){let n=t.data,r={value:n,utf8size:Xz(n),uses:[],startMeta:t.startMeta,endMeta:t.endMeta};t.content=this.stringFromParts([r])}return t.content}stringFromParts(t){let n={type:"string",parts:t};for(let r of t)r.uses.push(n);return n}objectGetKeys(t){return t.content?Object.keys(t.content.fields):Object.keys(t.data)}objectGetField(t,n){return this.asObject(t).fields[n]}arrayGetElement(t,n){return this.asArray(t).elements[n]}finalize(t){return this.updateEndMeta(t),{content:t,startMeta:this.meta,endMeta:this.meta}}markChanged(t){return this.wrap(Zf(t))}updateEndMeta(t){if(t.type=="string")for(let n of t.parts)n.endMeta=this.meta;else if(t.type==="array")for(let n of t.elements)n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta;else for(let n of Object.values(t.fields))n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta}copyString(t){if(t){let n=this.asString(t);return this.stringFromParts(n.parts.slice())}else return{type:"string",parts:[]}}copyObject(t){let n={type:"object",fields:{}};if(t){let r=this.asObject(t);Object.assign(n.fields,r.fields)}return n}copyArray(t){let n=t?this.asArray(t):null,r=n?n.elements:[],i=n?n.metas:[];return{type:"array",elements:r,metas:i}}objectSetField(t,n,r){t.fields[n]=r}objectDeleteField(t,n){delete t.fields[n]}arrayAppendValue(t,n){t.elements.push(n),t.metas.push(this.meta)}arrayAppendSlice(t,n,r,i){let o=this.asArray(n),a=o.elements.length===r;if(t.elements.push(...o.elements.slice(r,i)),a)t.metas.push(...o.metas.slice(r,i));else for(let s=r;s<i;s++)t.metas.push(this.meta)}stringAppendValue(t,n){let r=this.asString(n);for(let i of r.parts)this.stringAppendPart(t,i)}stringAppendPart(t,n){t.parts.push(n),n.uses.push(t)}resolveStringPart(t,n,r){if(r===0)return n;for(let i=n;i<t.parts.length;i++){let o=t.parts[i];if(r===o.utf8size)return i+1;if(r<o.utf8size)return this.splitString(o,r),i+1;r-=o.utf8size}throw new Error("splitting string out of bounds")}splitString(t,n){let r,i,o=n,a=t.utf8size-o;if(t.utf8size!==t.value.length){let l=0;for(n=0;l<o;n++){let u=t.value.codePointAt(n),d=d_(u);d===4&&n++,l+=d}}r=t.value.slice(0,n),i=t.value.slice(n);let s={value:i,utf8size:a,uses:t.uses.slice(),startMeta:t.startMeta,endMeta:t.endMeta};t.value=r,t.utf8size=o;for(let l of t.uses){let u=l.parts.indexOf(t);if(u===-1)throw new Error("bug: mismatch between string parts and use.");l.parts.splice(u+1,0,s)}}stringAppendSlice(t,n,r,i){let o=this.asString(n),a=this.resolveStringPart(o,0,r),s=this.resolveStringPart(o,a,i-r);for(let l=a;l<s;l++){let u=o.parts[l];this.stringAppendPart(t,u)}}}function O2n(e,t){return{data:e,startMeta:t,endMeta:t}}function Zf(e){if(typeof e.data<"u")return e.data;let t,n=e.content;switch(n.type){case"string":t=n.parts.map(r=>r.value).join("");break;case"array":t=n.elements.map(r=>Zf(r));break;case"object":{t={};for(let[r,i]of Object.entries(n.fields))t[r]=Zf(i)}}return e.data=t,t}function Qz(e){return e.content?e.content.type:Array.isArray(e.data)?"array":e.data===null?"null":typeof e.data}function eU(e,t){let n=Qz(e),r=Qz(t);if(n!==r)return t;let i=new Jz(e.endMeta),o=new Jz(t.endMeta);switch(n){case"object":{let a=i.asObject(e),s=o.asObject(t),l=0,u=Object.keys(a.fields).length,d=Object.keys(s.fields).length;for(let[f,h]of Object.entries(s.fields)){let m=a.fields[f];m&&(s.fields[f]=eU(m,h),s.fields[f]===m&&l++)}return u===d&&u===l?e:t}case"array":{let a=i.asArray(e),s=o.asArray(t);if(a.elements.length!==s.elements.length)break;let l=0;for(let u=0;u<s.elements.length;u++)s.elements[u]=eU(a.elements[u],s.elements[u]),s.elements[u]!==a.elements[u]&&l++;return l===0?e:t}case"null":case"boolean":case"number":{if(Zf(e)===Zf(t))return e;break}case"string":{let a=Zf(e),s=Zf(t);if(a===s)return e;let l=o.copyString(null),u=$2n(a,s),d=D2n(a,s,u),f=Xz(s),h=Xz(a);0<u&&o.stringAppendSlice(l,e,0,u),u<f-d&&o.stringAppendSlice(l,t,u,f-d),h-d<h&&o.stringAppendSlice(l,e,h-d,h);let m=o.finalize(l);if(Zf(m)!==s)throw new Error("incorrect string rebase");return m}}return t}function M2n(e,t,n){let r=new Jz(n);return new v8e(r,e,t).process()}var au=Object.freeze({__proto__:null,applyPatch:M2n,getType:Qz,rebaseValue:eU,unwrap:Zf,wrap:O2n});class P2n{wrap(t){return t}finalize(t){return Array.isArray(t)?t:t.data}markChanged(t){return t}objectGetKeys(t){return Object.keys(t)}objectGetField(t,n){return t[n]}arrayGetElement(t,n){return t[n]}copyObject(t){let n={type:"object",data:{}};if(t!==null)for(let[r,i]of Object.entries(t))n.data[r]=i;return n}copyArray(t){return t===null?[]:t.slice()}copyString(t){return{type:"string",data:t===null?"":t}}objectSetField(t,n,r){t.data[n]=r}objectDeleteField(t,n){delete t.data[n]}arrayAppendValue(t,n){t.push(n)}arrayAppendSlice(t,n,r,i){t.push(...n.slice(r,i))}stringAppendSlice(t,n,r,i){const o=n,a=xge(o,r),s=xge(o,i,a);t.data+=o.slice(a,s)}stringAppendValue(t,n){t.data+=n}}function AD(e,t){let n=e;return new v8e(new P2n,n,t).process()}function Tg(e,t,n){return delete e[t],e[t]=n,n}function R2n(e,t){const n=F2n(e,t);return L2n(n,e,t)}function F2n(e,t){const n=e.length,r=t.length;let i=0,o=0;const a=new Array(n+1);for(i=0;i<n+1;i++)for(a[i]=[r+1],o=0;o<r+1;o++)a[i][o]=0;for(i=1;i<n+1;i++)for(o=1;o<r+1;o++)e[i-1]===t[o-1]?a[i][o]=a[i-1][o-1]+1:a[i][o]=Math.max(a[i-1][o],a[i][o-1]);return a}function L2n(e,t,n){let r=t.length,i=n.length;const o={sequence:[],prevIndices:[],nextIndices:[]};for(;r!==0&&i!==0;)if(t[r-1]===n[i-1])o.sequence.unshift(t[r-1]),o.prevIndices.unshift(r-1),o.nextIndices.unshift(i-1),--r,--i;else{const a=e[r][i-1],s=e[r-1][i];a>s?--i:--r}return o}function N2n(e,t,n){if(e===t){const a=e.value,s=t.value;return{type:"array",action:"unchanged",isChanged:!1,fromValue:a,toValue:s,get items(){const l=wge(e,t,n);if(!l)throw new Error("invariant broken: equivalent input, but diff detected");return Tg(this,"items",l)}}}const r=kge(e),i=kge(t);if(r&&i)return V2n(e,r,t,i);const o=wge(e,t,n);return o?mJ(e,t,o,!1):B2n(e,t)}function mJ(e,t,n,r){const i=e.value,o=t.value;return r?{type:"array",action:"changed",isChanged:!0,fromValue:i,toValue:o,items:n,annotation:t.annotation}:{type:"array",action:"unchanged",isChanged:!1,fromValue:i,toValue:o,items:n}}function wge(e,t,n){if(e.length!==t.length)return;const r=[];for(let i=0;i<e.length;i++){const o=_R(e.at(i),t.at(i),n);if(o.isChanged)return;r.push({fromIndex:i,toIndex:i,hasMoved:!1,diff:o,annotation:t.annotationAt(i)})}return r}function B2n(e,t,n){const r=[];for(let i=0;i<t.length;i++){const o=t.at(i);r.push({fromIndex:void 0,toIndex:i,hasMoved:!1,diff:y0(o,void 0),annotation:o.annotation})}for(let i=0;i<e.length;i++){const o=e.at(i);r.push({fromIndex:i,toIndex:void 0,hasMoved:!1,diff:g0(o,void 0),annotation:o.annotation})}return mJ(e,t,r,!0)}function V2n(e,t,n,r,i){const o=[];let a=!1;function s(u,d,f,h){Cge(t.index,u,d),Cge(r.index,u,f);const m=e.at(d),g=n.at(f),y=_R(m,g);o.push({fromIndex:d,toIndex:f,hasMoved:h,diff:y,annotation:n.annotationAt(f)}),(y.isChanged||d!==f)&&(a=!0)}const l=R2n(t.keys,r.keys);for(let u=0;u<t.keys.length;u++){const d=t.keys[u],f=l.prevIndices.indexOf(u);if(f!==-1){s(d,u,l.nextIndices[f],!1);continue}const h=r.index.get(d),m=h&&h.find(y=>!l.nextIndices.includes(y));if(m!==void 0){s(d,u,m,!0);continue}const g=e.at(u);o.push({fromIndex:u,toIndex:void 0,hasMoved:!1,diff:g0(g,void 0),annotation:e.annotationAt(u)}),a=!0}for(const u of r.index.values()){for(const d of u){const f=n.at(d);o.push({fromIndex:void 0,toIndex:d,hasMoved:!1,diff:y0(f,void 0),annotation:n.annotationAt(d)})}a=!0}return o.sort(z2n),mJ(e,n,o,a)}function z2n(e,t){if(e.toIndex!==void 0&&t.toIndex!==void 0)return e.toIndex-t.toIndex;if(e.fromIndex!==void 0&&t.fromIndex!==void 0)return e.fromIndex-t.fromIndex;if(e.fromIndex!==void 0&&t.toIndex!==void 0)return-1;if(e.toIndex!==void 0&&t.fromIndex!==void 0)return 1;throw new Error("invalid item diff comparison")}function Cge(e,t,n){const r=e.get(t);U2n(r,n),r.length===0&&e.delete(t)}function U2n(e,t){const n=e.indexOf(t);if(n===-1)throw new Error("value not found");e.splice(n,1)}function kge(e){const t=new Map,n=[],r=e.length;for(let i=0;i<r;i++){const o=e.at(i);let a=null;switch(o.type){case"string":a=`s${o.value}`;break;case"number":a=o.value;break;case"boolean":a=o.value;break;case"null":a="n";break;case"object":{const l=o.get("_key");if(l&&l.type==="string"&&(a=`k${l.value}`,t.has(a)))return}break}if(a===null)return;n.push(a);let s=t.get(a);s||(s=[],t.set(a,s)),s.push(i)}return{keys:n,index:t}}function H2n(e,t,n){return{type:"array",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get items(){const r=[];for(let i=0;i<e.length;i++){const o=e.at(i);r.push({fromIndex:i,toIndex:void 0,hasMoved:!1,diff:g0(o,void 0),annotation:e.annotationAt(i)})}return Tg(this,"items",r)}}}function W2n(e,t,n){return{type:"array",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get items(){const r=[];for(let i=0;i<e.length;i++){const o=e.at(i);r.push({fromIndex:void 0,toIndex:i,hasMoved:!1,diff:y0(o,void 0),annotation:e.annotationAt(i)})}return Tg(this,"items",r)}}}const Sge=new Set(["_id","_type","_createdAt","_updatedAt","_rev","_weak"]);function G2n(e,t,n){const r={};let i=!1;for(const s of e.keys){if(Sge.has(s))continue;const l=e.get(s),u=t.get(s);if(u){const d=_R(l,u,n);r[s]=d,d.isChanged&&(i=!0)}else r[s]=g0(l,void 0),i=!0}for(const s of t.keys){if(Sge.has(s)||e.get(s))continue;const l=t.get(s);r[s]=y0(l,void 0),i=!0}const o=e.value,a=t.value;return i?{type:"object",action:"changed",isChanged:!0,fromValue:o,toValue:a,fields:r,annotation:t.annotation}:{type:"object",action:"unchanged",isChanged:!1,fromValue:o,toValue:a,fields:r}}function K2n(e,t,n){return{type:"object",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get fields(){const r={};for(const i of e.keys){const o=e.get(i);r[i]=g0(o,void 0)}return Tg(this,"fields",r)}}}function Y2n(e,t,n){return{type:"object",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get fields(){const r={};for(const i of e.keys){const o=e.get(i);r[i]=y0(o,void 0)}return Tg(this,"fields",r)}}}function q2n(e,t,n){const r=e.value,i=t.value,o=e.type;return r===i?{type:o,action:"unchanged",fromValue:r,toValue:i,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:i,annotation:t.annotation}}function Z2n(e,t,n){const r=e.value,i=t.value,o=e.type;return r===i?{type:o,action:"unchanged",fromValue:r,toValue:i,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:i,annotation:t.annotation}}function X2n(e,t,n){const r=e.value,i=t.value;return r===i?{type:"string",action:"unchanged",isChanged:!1,fromValue:r,toValue:i,segments:[{type:"stringSegment",action:"unchanged",text:r}]}:{type:"string",action:"changed",isChanged:!0,fromValue:r,toValue:i,annotation:t.annotation,get segments(){const o=J2n(e,t);return Tg(this,"segments",o)}}}function J2n(e,t){const n=[],r=oZ(Nw(e.value,t.value));let i=0,o=0;for(const[a,s]of r)switch(a){case Xt:n.push({type:"stringSegment",action:"unchanged",text:s}),i+=s.length,o+=s.length;break;case vr:for(const l of e.sliceAnnotation(i,i+s.length))n.push({type:"stringSegment",action:"removed",text:l.text,annotation:l.annotation});i+=s.length;break;case Rr:for(const l of t.sliceAnnotation(o,o+s.length))n.push({type:"stringSegment",action:"added",text:l.text,annotation:l.annotation});o+=s.length;break;default:throw new Error(`Unhandled diff-match-patch operation "${a}"`)}return n}function Q2n(e,t,n){return{type:"string",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get segments(){const r=e.sliceAnnotation(0,e.value.length).map(i=>({type:"stringSegment",action:"removed",...i}));return Tg(this,"segments",r)}}}function e5n(e,t,n){return{type:"string",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get segments(){const r=e.sliceAnnotation(0,e.value.length).map(i=>({type:"stringSegment",action:"added",...i}));return Tg(this,"segments",r)}}}function t5n(e,t,n){return{type:"typeChange",action:"changed",isChanged:!0,fromType:e.type,fromValue:e.value,fromDiff:g0(e,void 0),toType:t.type,toValue:t.value,toDiff:y0(t,void 0),annotation:t.annotation}}function _R(e,t,n={}){return e.type!==t.type?e.type==="null"?y0(t,null):t.type==="null"?g0(e,null):t5n(e,t):n5n(e.type,e,t,n)}function n5n(e,t,n,r){switch(e){case"null":return{type:"null",action:"unchanged",isChanged:!1,toValue:null,fromValue:null};case"boolean":return Z2n(t,n);case"number":return q2n(t,n);case"string":return X2n(t,n);case"array":return N2n(t,n,r);case"object":return G2n(t,n,r);default:throw new Error(`Unhandled diff type "${e}"`)}}function g0(e,t,n){switch(e.type){case"null":return{type:"null",action:"removed",isChanged:!0,fromValue:null,toValue:t,annotation:e.annotation};case"boolean":return{type:"boolean",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"number":return{type:"number",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"string":return Q2n(e,t);case"array":return H2n(e,t);case"object":return K2n(e,t);default:throw new Error("Unhandled diff type")}}function y0(e,t,n){switch(e.type){case"null":return{type:"null",action:"added",isChanged:!0,fromValue:t,toValue:null,annotation:e.annotation};case"boolean":return{type:"boolean",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"number":return{type:"number",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"string":return e5n(e,t);case"array":return W2n(e,t);case"object":return Y2n(e,t);default:throw new Error("Unhandled diff type")}}class r5n{constructor(t,n){Z(this,"type","array");Z(this,"length");Z(this,"value");Z(this,"annotation");Z(this,"elements",[]);this.annotation=n,this.value=t,this.length=t.length}at(t){if(t>=this.length)throw new Error("out of bounds");return this.elements[t]||(this.elements[t]=gJ(this.value[t],this.annotation))}annotationAt(){return this.annotation}}class OL{constructor(t,n,r){Z(this,"type");Z(this,"value");Z(this,"annotation");this.type=t,this.value=n,this.annotation=r}}class i5n{constructor(t,n){Z(this,"type","object");Z(this,"value");Z(this,"keys");Z(this,"annotation");Z(this,"fields",{});this.value=t,this.annotation=n,this.keys=Object.keys(t)}get(t){const n=this.fields[t];if(n)return n;if(!this.value.hasOwnProperty(t))return;const r=this.value[t];return this.fields[t]=gJ(r,this.annotation)}}let o5n=class{constructor(t,n){Z(this,"type","string");Z(this,"value");Z(this,"annotation");this.value=t,this.annotation=n}sliceAnnotation(t,n){return[{text:this.value.slice(t,n),annotation:this.annotation}]}};function gJ(e,t){if(Array.isArray(e))return new r5n(e,t);if(e===null)return new OL("null",e,t);const n=typeof e;switch(n){case"number":return new OL(n,e,t);case"boolean":return new OL(n,e,t);case"object":return new i5n(e,t);case"string":return new o5n(e,t);default:throw new Error(`cannot wrap value of type: ${n}`)}}var TR={exports:{}},zk={exports:{}};(function(){var e,t,n,r,i,o;typeof performance<"u"&&performance!==null&&performance.now?zk.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(zk.exports=function(){return(e()-i)/1e6},t=process.hrtime,e=function(){var a;return a=t(),a[0]*1e9+a[1]},r=e(),o=process.uptime()*1e9,i=r-o):Date.now?(zk.exports=function(){return Date.now()-n},n=Date.now()):(zk.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(Ko);var a5n=zk.exports,s5n=a5n,wh=typeof window>"u"?Ko:window,LA=["moz","webkit"],Ib="AnimationFrame",Ix=wh["request"+Ib],d5=wh["cancel"+Ib]||wh["cancelRequest"+Ib];for(var ek=0;!Ix&&ek<LA.length;ek++)Ix=wh[LA[ek]+"Request"+Ib],d5=wh[LA[ek]+"Cancel"+Ib]||wh[LA[ek]+"CancelRequest"+Ib];if(!Ix||!d5){var ML=0,Ege=0,Ug=[],l5n=1e3/60;Ix=function(e){if(Ug.length===0){var t=s5n(),n=Math.max(0,l5n-(t-ML));ML=n+t,setTimeout(function(){var r=Ug.slice(0);Ug.length=0;for(var i=0;i<r.length;i++)if(!r[i].cancelled)try{r[i].callback(ML)}catch(o){setTimeout(function(){throw o},0)}},Math.round(n))}return Ug.push({handle:++Ege,callback:e,cancelled:!1}),Ege},d5=function(e){for(var t=0;t<Ug.length;t++)Ug[t].handle===e&&(Ug[t].cancelled=!0)}}TR.exports=function(e){return Ix.call(wh,e)};TR.exports.cancel=function(){d5.apply(wh,arguments)};TR.exports.polyfill=function(e){e||(e=wh),e.requestAnimationFrame=Ix,e.cancelAnimationFrame=d5};var c5n=TR.exports;const u5n=Ue(c5n),d5n=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"search",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M15.0355 15.0355L20 20M16.5 11.5C16.5 14.2614 14.2614 16.5 11.5 16.5C8.73858 16.5 6.5 14.2614 6.5 11.5C6.5 8.73858 8.73858 6.5 11.5 6.5C14.2614 6.5 16.5 8.73858 16.5 11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),f5n=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"th-large",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:c.jsx("path",{d:"M12.5 6.5V12.5M12.5 12.5V18.5M12.5 12.5H19.5M12.5 12.5H5.5M19.5 12.5V6.5H5.5V12.5M19.5 12.5V18.5H5.5V12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),h5n=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"ulist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,ref:t,children:[c.jsx("path",{d:"M7.10153 17.5C7.10153 17.8322 6.83221 18.1016 6.5 18.1016C6.16778 18.1016 5.89847 17.8322 5.89847 17.5C5.89847 17.1678 6.16778 16.8985 6.5 16.8985C6.83221 16.8985 7.10153 17.1678 7.10153 17.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.10153 7.49997C7.10153 7.83218 6.83221 8.1015 6.5 8.1015C6.16778 8.1015 5.89847 7.83218 5.89847 7.49997C5.89847 7.16775 6.16778 6.89844 6.5 6.89844C6.83221 6.89844 7.10153 7.16775 7.10153 7.49997Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M7.10153 12.5C7.10153 12.8322 6.83221 13.1015 6.5 13.1015C6.16778 13.1015 5.89847 12.8322 5.89847 12.5C5.89847 12.1678 6.16778 11.8984 6.5 11.8984C6.83221 11.8984 7.10153 12.1678 7.10153 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("path",{d:"M10 7.5H19M10 17.5H19M10 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})});function _ge(e){var n;const t=b8e(e)&&(e.to??[]).length===1?e.to[0].icon:void 0;return e.icon??((n=e.type)==null?void 0:n.icon)??t}function b8e(e){return p5n(e)&&(e.name==="reference"||b8e(e.type))}function p5n(e){return!!e&&(typeof e=="object"||typeof e=="function")}function m5n(e,t){return{query:t.type==="change query"?t.query:e.query,groups:t.type==="select group"?e.groups.map(n=>({...n,selected:t.name===n.name})):e.groups,views:t.type==="toggle view"?e.views.map(n=>({...n,selected:t.name===n.name})):e.views}}const x8e="all-items",g5n={gridTemplateColumns:"repeat(auto-fill, minmax(118px, 1fr))"};function y5n(e){const t=e.showIcons===void 0?!0:e.showIcons,n=e.filter===void 0||e.filter==="auto"?e.schemaTypes.length>5:e.filter,[r,i]=p.useReducer(m5n,{query:"",groups:e.groups?[{name:x8e,title:e.labels["insert-menu.filter.all-items"],selected:!0},...e.groups.map(u=>({...u,selected:!1}))]:[],views:(e.views??[{name:"list"}]).map((u,d)=>({...u,selected:d===0}))}),o=C5n(e.schemaTypes,r.query,r.groups),a=r.views.find(u=>u.selected),s=n||r.views.length>1,l=r.groups&&r.groups.length>0;return c.jsx(Nt,{padding:0,children:c.jsxs(W,{direction:"column",height:"fill",children:[c.jsxs(V,{...s||l?{style:{borderBottom:"1px solid var(--card-border-color)"},paddingBottom:1}:{},children:[s?c.jsxs(W,{flex:"none",align:"center",paddingTop:1,paddingX:1,gap:1,children:[n?c.jsx(V,{flex:1,children:c.jsx(ei,{autoFocus:!0,border:!1,fontSize:1,icon:d5n,onChange:u=>{i({type:"change query",query:u.target.value})},placeholder:e.labels["insert-menu.search.placeholder"],value:r.query})}):null,r.views.length>1?c.jsx(V,{flex:"none",children:c.jsx(x5n,{views:r.views,onToggle:u=>{i({type:"toggle view",name:u})},labels:e.labels})}):null]}):null,l?c.jsx(V,{paddingTop:1,paddingX:1,children:c.jsx(ow,{space:1,children:r.groups.map(u=>c.jsx(LG,{id:`${u.name}-tab`,"aria-controls":`${u.name}-panel`,label:u.title??Wp(u.name),selected:u.selected,onClick:()=>{i({type:"select group",name:u.name})}},u.name))})}):null]}),c.jsx(V,{padding:1,children:o.length===0?c.jsx(V,{padding:2,children:c.jsx(B,{muted:!0,size:1,children:e.labels["insert-menu.search.no-results"]})}):a?a.name==="grid"?c.jsx(Xn,{autoRows:"auto",flex:1,gap:1,style:g5n,children:o.map(u=>{var d;return c.jsx(w5n,{icon:t?_ge(u):void 0,onClick:()=>{e.onSelect(u)},previewImageUrl:(d=a.previewImageUrl)==null?void 0:d.call(a,u.name),schemaType:u},u.name)})}):c.jsx(ae,{flex:1,space:1,children:o.map(u=>c.jsx(Uy,{icon:t?_ge(u):void 0,onClick:()=>{e.onSelect(u)},text:u.title??Wp(u.name)},u.name))}):null})]})})}const v5n={grid:f5n,list:h5n},b5n={grid:"insert-menu.toggle-grid-view.tooltip",list:"insert-menu.toggle-list-view.tooltip"};function x5n(e){const t=e.views.findIndex(r=>r.selected),n=e.views[t+1]??e.views[0];return c.jsx(D3,{content:c.jsx(B,{size:1,children:e.labels[b5n[n.name]]}),placement:"top",portal:!0,children:c.jsx(zt,{mode:"bleed",icon:v5n[n.name],onClick:()=>{e.onToggle(n.name)}})})}function w5n(e){const[t,n]=p.useState(!1);return c.jsx(Uy,{padding:0,radius:2,onClick:e.onClick,style:{overflow:"hidden"},children:c.jsxs(W,{direction:"column",gap:1,padding:1,children:[c.jsxs(V,{flex:"none",style:{backgroundColor:"var(--card-muted-bg-color)",paddingBottom:"66.6%",position:"relative"},children:[Hd.isValidElementType(e.icon)?c.jsx(W,{align:"center",justify:"center",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:c.jsx(B,{size:1,children:p.createElement(e.icon)})}):null,!e.previewImageUrl||t?null:c.jsx("img",{src:e.previewImageUrl,style:{objectFit:"contain",width:"100%",height:"100%",position:"absolute",inset:0},onError:()=>{n(!0)}}),c.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",boxShadow:"inset 0 0 0 0.5px var(--card-fg-color)",opacity:.1}})]}),c.jsx(V,{flex:1,padding:2,children:c.jsx(B,{size:1,weight:"medium",children:e.schemaType.title??e.schemaType.name})})]})})}function C5n(e,t,n){return e.filter(r=>S5n(r,n)&&k5n(r,t))}function k5n(e,t){var r;const n=t.trim().toLowerCase();return e.title?(r=e.title)==null?void 0:r.toLowerCase().includes(n):e.name.includes(n)}function S5n(e,t){var r;const n=t.find(i=>i.selected);return n?n.name===x8e?!0:(r=n.of)==null?void 0:r.includes(e.name):!0}var w8e={exports:{}};(function(e){(function(t){var n={:"A",:"A",:"A",:"A",:"Ae",:"A",:"AE",:"C",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"D",:"N",:"O",:"O",:"O",:"O",:"Oe",:"O",:"O",:"U",:"U",:"U",:"Ue",:"U",:"Y",:"TH",:"ss",:"a",:"a",:"a",:"a",:"ae",:"a",:"ae",:"c",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"oe",:"o",:"o",:"u",:"u",:"u",:"ue",:"u",:"y",:"th",:"y","":"SS",:"a",:"a",:"i",:"aa",:"u",:"e",:"a",:"b",:"t",:"th",:"j",:"h",:"kh",:"d",:"th",:"r",:"z",:"s",:"sh",:"s",:"dh",:"t",:"z",:"a",:"gh",:"f",:"q",:"k",:"l",:"m",:"n",:"h",:"w",:"y",:"a",:"h",:"la",:"laa",:"lai",:"laa",:"g",:"ch",:"p",:"zh",:"k",:"y","":"a","":"an","":"e","":"en","":"u","":"on","":"","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",:"k",:"kh",:"g",:"ga",:"ng",:"s",:"sa",:"z","":"za",:"ny",:"t",:"ta",:"d",:"da",:"na",:"t",:"ta",:"d",:"da",:"n",:"p",:"pa",:"b",:"ba",:"m",:"y",:"ya",:"l",:"w",:"th",:"h",:"la",:"a","":"y","":"ya","":"w","":"yw","":"ywa","":"h",:"e","":"-e",:"i",:"-i",:"u",:"-u",:"aw","":"aw",:"aw","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"","":"","":"",:"c",:"d",:"e",:"n",:"r",:"s",:"t",:"u",:"z",:"C",:"D",:"E",:"N",:"R",:"S",:"T",:"U",:"Z",:"h",:"sh",:"n",:"r",:"b",:"lh",:"k",:"a",:"v",:"m",:"f",:"dh",:"th",:"l",:"g",:"gn",:"s",:"d",:"z",:"t",:"y",:"p",:"j",:"ch",:"tt",:"hh",:"kh",:"th",:"z",:"sh",:"s",:"d",:"t",:"z",:"a",:"gh",:"q",:"w","":"a","":"aa","":"i","":"ee","":"u","":"oo","":"e","":"ey","":"o","":"oa","":"",:"a",:"b",:"g",:"d",:"e",:"v",:"z",:"t",:"i",:"k",:"l",:"m",:"n",:"o",:"p",:"zh",:"r",:"s",:"t",:"u",:"p",:"k",:"gh",:"q",:"sh",:"ch",:"ts",:"dz",:"ts",:"ch",:"kh",:"j",:"h",:"a",:"v",:"g",:"d",:"e",:"z",:"i",:"th",:"i",:"k",:"l",:"m",:"n",:"ks",:"o",:"p",:"r",:"s",:"t",:"y",:"f",:"x",:"ps",:"o",:"a",:"e",:"i",:"o",:"y",:"i",:"o",:"s",:"i",:"y",:"y",:"i",:"A",:"B",:"G",:"D",:"E",:"Z",:"I",:"TH",:"I",:"K",:"L",:"M",:"N",:"KS",:"O",:"P",:"R",:"S",:"T",:"Y",:"F",:"X",:"PS",:"O",:"A",:"E",:"I",:"O",:"Y",:"I",:"O",:"I",:"Y",:"a",:"e",:"g",:"i",:"k",:"l",:"n",:"u",:"A",:"E",:"G",:"I",:"k",:"L",:"N",:"U",:"Kj",:"kj",:"Lj",:"lj",:"Nj",:"nj",:"Ts",:"ts",:"a",:"c",:"e",:"l",:"n",:"s",:"z",:"z",:"A",:"C",:"E",:"L",:"N",:"S",:"Z",:"Z",:"Ye",:"I",:"Yi",:"G",:"ye",:"i",:"yi",:"g",:"a",:"A",:"s",:"S",:"t",:"T",:"t",:"T",:"a",:"b",:"v",:"g",:"d",:"e",:"yo",:"zh",:"z",:"i",:"i",:"k",:"l",:"m",:"n",:"o",:"p",:"r",:"s",:"t",:"u",:"f",:"kh",:"c",:"ch",:"sh",:"sh",:"",:"y",:"",:"e",:"yu",:"ya",:"A",:"B",:"V",:"G",:"D",:"E",:"Yo",:"Zh",:"Z",:"I",:"I",:"K",:"L",:"M",:"N",:"O",:"P",:"R",:"S",:"T",:"U",:"F",:"Kh",:"C",:"Ch",:"Sh",:"Sh",:"",:"Y",:"",:"E",:"Yu",:"Ya",:"dj",:"j",:"c",:"dz",:"Dj",:"j",:"C",:"Dz",:"l",:"l",:"r",:"L",:"L",:"R",:"s",:"S",:"i",:"I",:"g",:"G",:"a",:"A",:"a",:"A",:"a",:"A",:"d",:"D",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"o",:"o",:"o",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"O",:"o",:"o",:"i",:"I",:"i",:"I",:"i",:"i",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"",:"y",:"y",:"y",:"Y",:"y",:"Y",:"y",:"Y",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A",:"a",:"A","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"10","":"11","":"12","":"13","":"14","":"15","":"16","":"17","":"18","":"18","":"18","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"10","":"0","":"11","":"12","":"13","":"14","":"15","":"16","":"17","":"18","":"19","":"20","":"A","":"B","":"C","":"D","":"E","":"F","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"Q","":"R","":"S","":"T","":"U","":"V","":"W","":"X","":"Y","":"Z","":"a","":"b","":"c","":"d","":"e","":"f","":"g","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"q","":"r","":"s","":"t","":"u","":"v","":"w","":"x","":"y","":"z","":'"',"":'"',"":"'","":"'","":"d",:"f","":"(TM)","":"(C)",:"oe",:"OE","":"(R)","":"+","":"(SM)","":"...","":"o",:"o",:"a","":"*","":",","":".",$:"USD","":"EUR","":"BRN","":"FRF","":"GBP","":"ITL","":"NGN","":"ESP","":"KRW","":"ILS","":"VND","":"LAK","":"MNT","":"GRD","":"ARS","":"PYG","":"ARA","":"UAH","":"GHS","":"cent","":"CNY",:"CNY",:"YEN","":"IRR","":"EWE","":"THB","":"INR","":"INR","":"PF","":"TRY","":"AFN","":"AZN",:"BGN","":"KHR","":"CRC","":"KZT",:"MKD",z:"PLN","":"RUB","":"GEL"},r=["",""],i={"":"a","":"a","":"e","":"e","":"i","":"i","":"o","":"u","":"u","":"aung","":"aw","":"aw","":"aw","":"aw","":"","":"et","":"aik","":"auk","":"in","":"aing","":"aung","":"it","":"i","":"at","":"eik","":"ok","":"ut","":"it","":"d","":"ok","":"ait","":"an","":"an","":"ein","":"on","":"un","":"at","":"eik","":"ok","":"ut","":"nub","":"an","":"ein","":"on","":"un","":"e","":"ol","":"in","":"an","":"ein","":"on","":"ah","":"ah"},o={en:{},az:{:"c",:"e",:"g",:"i",:"o",:"s",:"u",:"C",:"E",:"G",:"I",:"O",:"S",:"U"},cs:{:"c",:"d",:"e",:"n",:"r",:"s",:"t",:"u",:"z",:"C",:"D",:"E",:"N",:"R",:"S",:"T",:"U",:"Z"},fi:{:"a",:"A",:"o",:"O"},hu:{:"a",:"A",:"o",:"O",:"u",:"U",:"u",:"U"},lt:{:"a",:"c",:"e",:"e",:"i",:"s",:"u",:"u",:"z",:"A",:"C",:"E",:"E",:"I",:"S",:"U",:"U"},lv:{:"a",:"c",:"e",:"g",:"i",:"k",:"l",:"n",:"s",:"u",:"z",:"A",:"C",:"E",:"G",:"i",:"k",:"L",:"N",:"S",:"u",:"Z"},pl:{:"a",:"c",:"e",:"l",:"n",:"o",:"s",:"z",:"z",:"A",:"C",:"e",:"L",:"N",:"O",:"S",:"Z",:"Z"},sv:{:"a",:"A",:"o",:"O"},sk:{:"a",:"A"},sr:{:"lj",:"nj",:"Lj",:"Nj",:"dj",:"Dj"},tr:{:"U",:"O",:"u",:"o"}},a={ar:{"":"delta","":"la-nihaya","":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","":"majmou","":"omla"},az:{},ca:{"":"delta","":"infinit","":"amor","&":"i","|":"o","<":"menys que",">":"mes que","":"suma dels","":"moneda"},cs:{"":"delta","":"nekonecno","":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","":"soucet","":"mena"},de:{"":"delta","":"unendlich","":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","":"Summe von","":"Waehrung"},dv:{"":"delta","":"kolunulaa","":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","":"jumula","":"faisaa"},en:{"":"delta","":"infinity","":"love","&":"and","|":"or","<":"less than",">":"greater than","":"sum","":"currency"},es:{"":"delta","":"infinito","":"amor","&":"y","|":"u","<":"menos que",">":"mas que","":"suma de los","":"moneda"},fa:{"":"delta","":"bi-nahayat","":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","":"majmooe","":"vahed"},fi:{"":"delta","":"aarettomyys","":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","":"summa","":"valuutta"},fr:{"":"delta","":"infiniment","":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","":"somme des","":"monnaie"},ge:{"":"delta","":"usasruloba","":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","":"jami","":"valuta"},gr:{},hu:{"":"delta","":"vegtelen","":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","":"szumma","":"penznem"},it:{"":"delta","":"infinito","":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","":"somma","":"moneta"},lt:{"":"delta","":"begalybe","":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","":"suma","":"valiuta"},lv:{"":"delta","":"bezgaliba","":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","":"summa","":"valuta"},my:{"":"kwahkhyaet","":"asaonasme","":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","":"paungld","":"ngwekye"},mk:{},nl:{"":"delta","":"oneindig","":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","":"som","":"valuta"},pl:{"":"delta","":"nieskonczonosc","":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","":"suma","":"waluta"},pt:{"":"delta","":"infinito","":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","":"soma","":"moeda"},ro:{"":"delta","":"infinit","":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","":"suma","":"valuta"},ru:{"":"delta","":"beskonechno","":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","":"summa","":"valjuta"},sk:{"":"delta","":"nekonecno","":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","":"sucet","":"mena"},sr:{},tr:{"":"delta","":"sonsuzluk","":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","":"toplam","":"para birimi"},uk:{"":"delta","":"bezkinechnist","":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","":"suma","":"valjuta"},vn:{"":"delta","":"vo cuc","":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","":"tong","":"tien te"}},s=[";","?",":","@","&","=","+","$",",","/"].join(""),l=[";","?",":","@","&","=","+","$",","].join(""),u=[".","!","~","*","'","(",")"].join(""),d=function(y,x){var b="-",v="",w="",C=!0,k={},S,E,_,T,A,I,j,$,D,O,M,P,F,L,U="";if(typeof y!="string")return"";if(typeof x=="string"&&(b=x),j=a.en,$=o.en,typeof x=="object"){S=x.maintainCase||!1,k=x.custom&&typeof x.custom=="object"?x.custom:k,_=+x.truncate>1&&x.truncate||!1,T=x.uric||!1,A=x.uricNoSlash||!1,I=x.mark||!1,C=!(x.symbols===!1||x.lang===!1),b=x.separator||b,T&&(U+=s),A&&(U+=l),I&&(U+=u),j=x.lang&&a[x.lang]&&C?a[x.lang]:C?a.en:{},$=x.lang&&o[x.lang]?o[x.lang]:x.lang===!1||x.lang===!0?{}:o.en,x.titleCase&&typeof x.titleCase.length=="number"&&Array.prototype.toString.call(x.titleCase)?(x.titleCase.forEach(function(H){k[H+""]=H+""}),E=!0):E=!!x.titleCase,x.custom&&typeof x.custom.length=="number"&&Array.prototype.toString.call(x.custom)&&x.custom.forEach(function(H){k[H+""]=H+""}),Object.keys(k).forEach(function(H){var N;H.length>1?N=new RegExp("\\b"+h(H)+"\\b","gi"):N=new RegExp(h(H),"gi"),y=y.replace(N,k[H])});for(M in k)U+=M}for(U+=b,U=h(U),y=y.replace(/(^\s+|\s+$)/g,""),F=!1,L=!1,O=0,P=y.length;O<P;O++)M=y[O],m(M,k)?F=!1:$[M]?(M=F&&$[M].match(/[A-Za-z0-9]/)?" "+$[M]:$[M],F=!1):M in n?(O+1<P&&r.indexOf(y[O+1])>=0?(w+=M,M=""):L===!0?(M=i[w]+n[M],w=""):M=F&&n[M].match(/[A-Za-z0-9]/)?" "+n[M]:n[M],F=!1,L=!1):M in i?(w+=M,M="",O===P-1&&(M=i[w]),L=!0):j[M]&&!(T&&s.indexOf(M)!==-1)&&!(A&&l.indexOf(M)!==-1)?(M=F||v.substr(-1).match(/[A-Za-z0-9]/)?b+j[M]:j[M],M+=y[O+1]!==void 0&&y[O+1].match(/[A-Za-z0-9]/)?b:"",F=!0):(L===!0?(M=i[w]+M,w="",L=!1):F&&(/[A-Za-z0-9]/.test(M)||v.substr(-1).match(/A-Za-z0-9]/))&&(M=" "+M),F=!1),v+=M.replace(new RegExp("[^\\w\\s"+U+"_-]","g"),b);return E&&(v=v.replace(/(\w)(\S*)/g,function(H,N,Y){var J=N.toUpperCase()+(Y!==null?Y:"");return Object.keys(k).indexOf(J.toLowerCase())<0?J:J.toLowerCase()})),v=v.replace(/\s+/g,b).replace(new RegExp("\\"+b+"+","g"),b).replace(new RegExp("(^\\"+b+"+|\\"+b+"+$)","g"),""),_&&v.length>_&&(D=v.charAt(_)===b,v=v.slice(0,_),D||(v=v.slice(0,v.lastIndexOf(b)))),!S&&!E&&(v=v.toLowerCase()),v},f=function(y){return function(b){return d(b,y)}},h=function(y){return y.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},m=function(g,y){for(var x in y)if(y[x]===g)return!0};if(e.exports)e.exports=d,e.exports.createSlug=f;else try{if(t.getSlug||t.createSlug)throw"speakingurl: globals exists /(getSlug|createSlug)/";t.getSlug=d,t.createSlug=f}catch{}})(Ko)})(w8e);var E5n=w8e.exports,_5n=E5n;const C8e=Ue(_5n);var k8e={};(function(e){(function(){(e!==null?e:this).ExifReader=function(){t.prototype._MIN_DATA_BUFFER_LENGTH=2,t.prototype._JPEG_ID_SIZE=2,t.prototype._JPEG_ID=65496,t.prototype._APP_MARKER_SIZE=2,t.prototype._APP0_MARKER=65504,t.prototype._APP1_MARKER=65505,t.prototype._APP15_MARKER=65519,t.prototype._APP_ID_OFFSET=4,t.prototype._BYTES_Exif=1165519206,t.prototype._TIFF_HEADER_OFFSET=10,t.prototype._BYTE_ORDER_BIG_ENDIAN=18761,t.prototype._BYTE_ORDER_LITTLE_ENDIAN=19789;function t(){var n=this;this._getTagValueAt={1:function(r){return n._getByteAt(r)},2:function(r){return n._getAsciiAt(r)},3:function(r){return n._getShortAt(r)},4:function(r){return n._getLongAt(r)},5:function(r){return n._getRationalAt(r)},7:function(r){return n._getUndefinedAt(r)},9:function(r){return n._getSlongAt(r)},10:function(r){return n._getSrationalAt(r)}},this._tiffHeaderOffset=0}return t.prototype.load=function(n){return this.loadView(new DataView(n))},t.prototype.loadView=function(n){return this._dataView=n,this._tags={},this._checkImageHeader(),this._readTags()},t.prototype._checkImageHeader=function(){var n;if(n=this._dataView,n.byteLength<this._MIN_DATA_BUFFER_LENGTH||n.getUint16(0,!1)!==this._JPEG_ID)throw new Error("Invalid image format");if(this._parseAppMarkers(n),!this._hasExifData())throw new Error("No Exif data")},t.prototype._parseAppMarkers=function(n){var r,i,o;for(r=this._JPEG_ID_SIZE,o=[];!(n.byteLength<r+this._APP_ID_OFFSET+5);){if(this._isApp1ExifMarker(n,r))i=n.getUint16(r+this._APP_MARKER_SIZE,!1),this._tiffHeaderOffset=r+this._TIFF_HEADER_OFFSET;else if(this._isAppMarker(n,r))i=n.getUint16(r+this._APP_MARKER_SIZE,!1);else break;o.push(r+=this._APP_MARKER_SIZE+i)}return o},t.prototype._isApp1ExifMarker=function(n,r){return n.getUint16(r,!1)===this._APP1_MARKER&&n.getUint32(r+this._APP_ID_OFFSET,!1)===this._BYTES_Exif&&n.getUint8(r+this._APP_ID_OFFSET+4,!1)===0},t.prototype._isAppMarker=function(n,r){var i;return i=n.getUint16(r,!1),i>=this._APP0_MARKER&&i<=this._APP15_MARKER},t.prototype._hasExifData=function(){return this._tiffHeaderOffset!==0},t.prototype._readTags=function(){return this._setByteOrder(),this._read0thIfd(),this._readExifIfd(),this._readGpsIfd(),this._readInteroperabilityIfd()},t.prototype._setByteOrder=function(){if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_BIG_ENDIAN)return this._littleEndian=!0;if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_LITTLE_ENDIAN)return this._littleEndian=!1;throw new Error("Illegal byte order value. Faulty image.")},t.prototype._read0thIfd=function(){var n;return n=this._getIfdOffset(),this._readIfd("0th",n)},t.prototype._getIfdOffset=function(){return this._tiffHeaderOffset+this._getLongAt(this._tiffHeaderOffset+4)},t.prototype._readExifIfd=function(){var n;if(this._tags["Exif IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Exif IFD Pointer"].value,this._readIfd("exif",n)},t.prototype._readGpsIfd=function(){var n;if(this._tags["GPS Info IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["GPS Info IFD Pointer"].value,this._readIfd("gps",n)},t.prototype._readInteroperabilityIfd=function(){var n;if(this._tags["Interoperability IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Interoperability IFD Pointer"].value,this._readIfd("interoperability",n)},t.prototype._readIfd=function(n,r){var i,o,a,s;for(i=this._getShortAt(r),r+=2,s=[],a=0;0<=i?a<i:a>i;0<=i?++a:--a)o=this._readTag(n,r),this._tags[o.name]={value:o.value,description:o.description},s.push(r+=12);return s},t.prototype._readTag=function(n,r){var i,o,a,s,l,u,d;return i=this._getShortAt(r),l=this._getShortAt(r+2),o=this._getLongAt(r+4),this._typeSizes[l]*o<=4?u=this._getTagValue(r+8,l,o):(d=this._getLongAt(r+8),u=this._getTagValue(this._tiffHeaderOffset+d,l,o)),l===this._tagTypes.ASCII&&(u=this._splitNullSeparatedAsciiString(u)),this._tagNames[n][i]!=null?(this._tagNames[n][i].name!=null&&this._tagNames[n][i].description!=null?(s=this._tagNames[n][i].name,a=this._tagNames[n][i].description(u)):(s=this._tagNames[n][i],u instanceof Array?a=u.join(", "):a=u),{name:s,value:u,description:a}):{name:"undefined-"+i,value:u,description:u}},t.prototype._getTagValue=function(n,r,i){var o,a;return a=(function(){var s,l;for(l=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)o=this._getTagValueAt[r](n),n+=this._typeSizes[r],l.push(o);return l}).call(this),a.length===1?a=a[0]:r===this._tagTypes.ASCII&&(a=this._getAsciiValue(a)),a},t.prototype._getAsciiValue=function(n){var r;return function(){var i,o,a;for(a=[],i=0,o=n.length;i<o;i++)r=n[i],a.push(String.fromCharCode(r));return a}()},t.prototype._getByteAt=function(n){return this._dataView.getUint8(n)},t.prototype._getAsciiAt=function(n){return this._dataView.getUint8(n)},t.prototype._getShortAt=function(n){return this._dataView.getUint16(n,this._littleEndian)},t.prototype._getLongAt=function(n){return this._dataView.getUint32(n,this._littleEndian)},t.prototype._getRationalAt=function(n){return this._getLongAt(n)/this._getLongAt(n+4)},t.prototype._getUndefinedAt=function(n){return this._getByteAt(n)},t.prototype._getSlongAt=function(n){return this._dataView.getInt32(n,this._littleEndian)},t.prototype._getSrationalAt=function(n){return this._getSlongAt(n)/this._getSlongAt(n+4)},t.prototype._splitNullSeparatedAsciiString=function(n){var r,i,o,a,s;for(o=[],i=0,a=0,s=n.length;a<s;a++){if(r=n[a],r==="\0"){i++;continue}o[i]==null&&(o[i]=""),o[i]+=r}return o},t.prototype._typeSizes={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8},t.prototype._tagTypes={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10},t.prototype._tagNames={"0th":{256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:function(n){switch(n){case 1:return"top-left";case 2:return"top-right";case 3:return"bottom-right";case 4:return"bottom-left";case 5:return"left-top";case 6:return"right-top";case 7:return"right-bottom";case 8:return"left-bottom";default:return"Undefined"}}},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:{name:"ResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",318:"WhitePoint",319:"PrimaryChromaticities",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:function(n){switch(n){case 1:return"centered";case 2:return"co-sited";default:return"undefied "+n}}},532:"ReferenceBlackWhite",33432:{name:"Copyright",description:function(n){return n.join("; ")}},34665:"Exif IFD Pointer",34853:"GPS Info IFD Pointer"},exif:{33434:"ExposureTime",33437:"FNumber",34850:{name:"ExposureProgram",description:function(n){switch(n){case 0:return"Undefined";case 1:return"Manual";case 2:return"Normal program";case 3:return"Aperture priority";case 4:return"Shutter priority";case 5:return"Creative program";case 6:return"Action program";case 7:return"Portrait mode";case 8:return"Landscape mode";default:return"Unknown"}}},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:function(n){return"[Raw OECF table data]"}},36864:{name:"ExifVersion",description:function(n){var r,i,o,a;for(i="",o=0,a=n.length;o<a;o++)r=n[o],i+=String.fromCharCode(r);return i}},36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:{name:"ComponentsConfiguration",description:function(n){var r,i,o,a;for(i="",o=0,a=n.length;o<a;o++)switch(r=n[o],r){case 49:i+="Y";break;case 50:i+="Cb";break;case 51:i+="Cr";break;case 52:i+="R";break;case 53:i+="G";break;case 54:i+="B"}return i}},37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:{name:"MeteringMode",description:function(n){switch(n){case 1:return"Average";case 2:return"CenterWeightedAverage";case 3:return"Spot";case 4:return"MultiSpot";case 5:return"Pattern";case 6:return"Partial";case 255:return"Other";default:return"Unknown"}}},37384:{name:"LightSource",description:function(n){switch(n){case 1:return"Daylight";case 2:return"Fluorescent";case 3:return"Tungsten (incandescent light)";case 4:return"Flash";case 9:return"Fine weather";case 10:return"Cloudy weather";case 11:return"Shade";case 12:return"Daylight fluorescent (D 5700  7100K)";case 13:return"Day white fluorescent (N 4600  5400K)";case 14:return"Cool white fluorescent (W 3900  4500K)";case 15:return"White fluorescent (WW 3200  3700K)";case 17:return"Standard light A";case 18:return"Standard light B";case 19:return"Standard light C";case 20:return"D55";case 21:return"D65";case 22:return"D75";case 23:return"D50";case 24:return"ISO studio tungsten";case 255:return"Other light source";default:return"Unknown"}}},37385:{name:"Flash",description:function(n){switch(n){case 0:return"Flash did not fire";case 1:return"Flash fired";case 5:return"Strobe return light not detected";case 7:return"Strobe return light detected";case 9:return"Flash fired, compulsory flash mode";case 13:return"Flash fired, compulsory flash mode, return light not detected";case 15:return"Flash fired, compulsory flash mode, return light detected";case 16:return"Flash did not fire, compulsory flash mode";case 24:return"Flash did not fire, auto mode";case 25:return"Flash fired, auto mode";case 29:return"Flash fired, auto mode, return light not detected";case 31:return"Flash fired, auto mode, return light detected";case 32:return"No flash function";case 65:return"Flash fired, red-eye reduction mode";case 69:return"Flash fired, red-eye reduction mode, return light not detected";case 71:return"Flash fired, red-eye reduction mode, return light detected";case 73:return"Flash fired, compulsory flash mode, red-eye reduction mode";case 77:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected";case 79:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected";case 89:return"Flash fired, auto mode, red-eye reduction mode";case 93:return"Flash fired, auto mode, return light not detected, red-eye reduction mode";case 95:return"Flash fired, auto mode, return light detected, red-eye reduction mode";default:return"Unknown"}}},37386:"FocalLength",37396:{name:"SubjectArea",description:function(n){switch(n.length){case 2:return"Location; X: "+n[0]+", Y: "+n[1];case 3:return"Circle; X: "+n[0]+", Y: "+n[1]+", diameter: "+n[2];case 4:return"Rectangle; X: "+n[0]+", Y: "+n[1]+", width: "+n[2]+", height: "+n[3];default:return"Unknown"}}},37500:{name:"MakerNote",description:function(n){return"[Raw maker note data]"}},37510:{name:"UserComment",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",40960:{name:"FlashpixVersion",description:function(n){var r,i,o,a;for(i="",o=0,a=n.length;o<a;o++)r=n[o],i+=String.fromCharCode(r);return i}},40961:{name:"ColorSpace",description:function(n){switch(n){case 1:return"sRGB";case 65535:return"Uncalibrated";default:return"Unknown"}}},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:function(n){return"[Raw SFR table data]"}},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},41492:{name:"SubjectLocation",description:function(n){return"X: "+n[0]+", Y: "+n[1]}},41493:"ExposureIndex",41495:{name:"SensingMethod",description:function(n){switch(n){case 1:return"Undefined";case 2:return"One-chip color area sensor";case 3:return"Two-chip color area sensor";case 4:return"Three-chip color area sensor";case 5:return"Color sequential area sensor";case 7:return"Trilinear sensor";case 8:return"Color sequential linear sensor";default:return"Unknown"}}},41728:{name:"FileSource",description:function(n){switch(n){case 3:return"DSC";default:return"Unknown"}}},41729:{name:"SceneType",description:function(n){switch(n){case 1:return"A directly photographed image";default:return"Unknown"}}},41730:{name:"CFAPattern",description:function(n){return"[Raw CFA pattern table data]"}},41985:{name:"CustomRendered",description:function(n){switch(n){case 0:return"Normal process";case 1:return"Custom process";default:return"Unknown"}}},41986:{name:"ExposureMode",description:function(n){switch(n){case 0:return"Auto exposure";case 1:return"Manual exposure";case 2:return"Auto bracket";default:return"Unknown"}}},41987:{name:"WhiteBalance",description:function(n){switch(n){case 0:return"Auto white balance";case 1:return"Manual white balance";default:return"Unknown"}}},41988:{name:"DigitalZoomRatio",description:function(n){switch(n){case 0:return"Digital zoom was not used";default:return n}}},41989:{name:"FocalLengthIn35mmFilm",description:function(n){switch(n){case 0:return"Unknown";default:return n}}},41990:{name:"SceneCaptureType",description:function(n){switch(n){case 0:return"Standard";case 1:return"Landscape";case 2:return"Portrait";case 3:return"Night scene";default:return"Unknown"}}},41991:{name:"GainControl",description:function(n){switch(n){case 0:return"None";case 1:return"Low gain up";case 2:return"High gain up";case 3:return"Low gain down";case 4:return"High gain down";default:return"Unknown"}}},41992:{name:"Contrast",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41993:{name:"Saturation",description:function(n){switch(n){case 0:return"Normal";case 1:return"Low saturation";case 2:return"High saturation";default:return"Unknown"}}},41994:{name:"Sharpness",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41995:{name:"DeviceSettingDescription",description:function(n){return"[Raw device settings table data]"}},41996:{name:"SubjectDistanceRange",description:function(n){switch(n){case 1:return"Macro";case 2:return"Close view";case 3:return"Distant view";default:return"Unknown"}}},42016:"ImageUniqueID"},gps:{0:{name:"GPSVersionID",description:function(n){var r,i;return n[0]===(r=n[1])&&r===2&&n[2]===(i=n[3])&&i===0?"Version 2.2":"Unknown"}},1:{name:"GPSLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},2:{name:"GPSLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},3:{name:"GPSLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},4:{name:"GPSLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},5:{name:"GPSAltitudeRef",description:function(n){switch(n){case 0:return"Sea level";case 1:return"Sea level reference (negative value)";default:return"Unknown"}}},6:{name:"GPSAltitude",description:function(n){return n+" m"}},7:{name:"GPSTimeStamp",description:function(n){var r;return r=function(i){return function(){var o,a,s;for(s=[],o=0,a=2-(""+Math.floor(i)).length;0<=a?o<a:o>a;0<=a?++o:--o)s.push("0");return s}()+i},n.map(r).join(":")}},8:"GPSSatellites",9:{name:"GPSStatus",description:function(n){switch(n.join("")){case"A":return"Measurement in progress";case"V":return"Measurement Interoperability";default:return"Unknown"}}},10:{name:"GPSMeasureMode",description:function(n){switch(n.join("")){case"2":return"2-dimensional measurement";case"3":return"3-dimensional measurement";default:return"Unknown"}}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:function(n){switch(n.join("")){case"K":return"Kilometers per hour";case"M":return"Miles per hour";case"N":return"Knots";default:return"Unknown"}}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},20:{name:"GPSDestLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},21:{name:"GPSDestLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},22:{name:"GPSDestLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},23:{name:"GPSDestBearingRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:function(n){switch(n.join("")){case"K":return"Kilometers";case"M":return"Miles";case"N":return"Knots";default:return"Unknown"}}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},28:{name:"GPSAreaInformation",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},29:"GPSDateStamp",30:{name:"GPSDifferential",description:function(n){switch(n){case 0:return"Measurement without differential correction";case 1:return"Differential correction applied";default:return"Unknown"}}}},interoperability:{1:"InteroperabilityIndex",2:"UnknownInteroperabilityTag0x0002",4097:"UnknownInteroperabilityTag0x1001",4098:"UnknownInteroperabilityTag0x1002"}},t.prototype.getTagValue=function(n){if(this._tags[n]!=null)return this._tags[n].value},t.prototype.getTagDescription=function(n){if(this._tags[n]!=null)return this._tags[n].description},t.prototype.getAllTags=function(){return this._tags},t}()}).call(Ko)})(k8e);var T5n=k8e.ExifReader,A5n=function(e){var t=new T5n;t.load(e);var n=t.getAllTags(),r={};for(var i in n)r[j5n(i)]=n[i].description;return r};function j5n(e){return e.replace(/([A-Z][a-z])|([a-z][A-Z])|([A-Z])/g,function(t){return t.length==1?t.toLowerCase():t[0]==t[0].toUpperCase()?" "+t.toLowerCase():t[0]+" "+t[1].toLowerCase()}).replace(/^\s+|\s+$/g,"")}const I5n=Ue(A5n);var $5n=gg,D5n=mg,O5n=of;function M5n(e){return function(t,n,r){var i=Object(t);if(!D5n(t)){var o=$5n(n);t=O5n(t),n=function(s){return o(i[s],s,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}}var P5n=M5n,R5n=P5n,F5n=EOe,L5n=R5n(F5n),N5n=L5n;const S8e=Ue(N5n);var B5n=Qje,V5n=cw,Tge=qM;function z5n(e,t,n){var r=e.length;if(r<2)return r?Tge(e[0]):[];for(var i=-1,o=Array(r);++i<r;)for(var a=e[i],s=-1;++s<r;)s!=i&&(o[i]=B5n(o[i]||a,e[s],t,n));return Tge(V5n(o,1),t,n)}var U5n=z5n,H5n=MEe,W5n=Ky,G5n=U5n,K5n=XM,Y5n=W5n(function(e){return G5n(H5n(e,K5n))}),q5n=Y5n;const Z5n=Ue(q5n),X5n=/^[A-Za-z_][A-Za-z0-9_]*$/;function E8e(e){return e.reduce((t,n,r)=>{if(Array.isArray(n))return"".concat(t,"[").concat(n.join(":"),"]");if(J5n(n))return"".concat(t,'[_key=="').concat(n._key,'"]');if(typeof n=="number")return"".concat(t,"[").concat(n,"]");if(typeof n=="string"&&!X5n.test(n))return"".concat(t,"['").concat(n,"']");if(typeof n=="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}throw new Error('Unsupported path segment "'.concat(n,'"'))},"")}function J5n(e){return typeof e=="object"&&typeof e._key=="string"}class Uk extends Error{constructor(t,n,r){const i=E8e(n);super("".concat(t," (at '").concat(i,"')")),this.path=n,this.serializedPath=i,this.value=r}}const Q5n=/^[a-z0-9][a-z0-9_.-]+$/i,eEn=/^[a-zA-Z_][a-zA-Z0-9_-]*$/,tEn=/^[a-z_]/i;function Age(e,t,n){if(!tEn.test(e))throw new Uk("Keys must start with a letter (a-z)",n.concat(e),t);if(!eEn.test(e))throw new Uk("Keys can only contain letters, numbers and underscores",n.concat(e),t);if(e==="_key"||e==="_ref"||e==="_type"){if(typeof t!="string")throw new Uk("Keys must be strings",n.concat(e),t);if(!Q5n.test(t))throw new Uk("Invalid key - use less exotic characters",n.concat(e),t)}return e}const nEn=["_id","_type","_createdAt","_updatedAt","_rev"],tU={hideWarnings:!1,diffMatchPatch:{enabled:!0,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function rEn(e){return{...tU,...e,diffMatchPatch:{...tU.diffMatchPatch,...e.diffMatchPatch||{}}}}function AR(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:tU,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[];if(e===t)return i;const o=Array.isArray(e)?"array":typeof e,a=Array.isArray(t)?"array":typeof t,s=o==="undefined",l=a==="undefined";if(s&&!l)return i.push({op:"set",path:r,value:t}),i;if(!s&&l)return i.push({op:"unset",path:r}),i;const u=rEn(n),d=s?a:o;return d==="object"||d==="array"?o!==a?(i.push({op:"set",path:r,value:t}),i):d==="array"?oEn(e,t,u,r,i):iEn(e,t,u,r,i):lEn(e,t,u,r,i)}function iEn(e,t,n,r,i){const o=r.length===0,a=Object.keys(e).filter(o?jge:$ge).map(d=>Age(d,e[d],r)),s=a.length,l=Object.keys(t).filter(o?jge:$ge).map(d=>Age(d,t[d],r)),u=l.length;for(let d=0;d<s;d++){const f=a[d];f in t||i.push({op:"unset",path:r.concat(f)})}for(let d=0;d<u;d++){const f=l[d];AR(e[f],t[f],n,r.concat([f]),i)}return i}function oEn(e,t,n,r,i){if(t.length>e.length&&i.push({op:"insert",after:r.concat([-1]),items:t.slice(e.length).map((l,u)=>yJ(l,r,u,n))}),t.length<e.length){const l=e.length-t.length===1,u=e.slice(t.length);dEn(n)||!PL(u)?i.push({op:"unset",path:r.concat([l?t.length:[t.length,""]])}):i.push(...u.map(d=>({op:"unset",path:r.concat({_key:d._key})})))}for(let l=0;l<t.length;l++)if(Array.isArray(t[l]))throw new Uk("Multi-dimensional arrays not supported",r.concat(l),t[l]);const o=Math.min(e.length,t.length),a=e.slice(0,o),s=t.slice(0,o);return PL(a)&&PL(s)?aEn(a,s,n,r,i):_8e(a,s,n,r,i)}function _8e(e,t,n,r,i){for(let o=0;o<e.length;o++)AR(e[o],yJ(t[o],r,o,n),n,r.concat(o),i);return i}function aEn(e,t,n,r,i){const o=Ige(e),a=Ige(t);if(!uEn(o.keys,a.keys))return _8e(e,t,n,r,i);for(let s=0;s<a.keys.length;s++){const l=a.keys[s],u=o.index[l],d=yJ(a.index[l],r,s,n);AR(u,d,n,r.concat({_key:l}),i)}return i}function sEn(e,t,n,r){const{enabled:i,lengthThresholdRelative:o,lengthThresholdAbsolute:a}=n.diffMatchPatch,s=r[r.length-1];if(!i||typeof e!="string"||typeof t!="string"||typeof s=="string"&&s[0]==="_"||t.length<a)return;let l="";try{const u=Nw(e,t),d=NP(u);l=cZ(VP(d))}catch{return}return l.length>t.length*o?void 0:{op:"diffMatchPatch",path:r,value:l}}function lEn(e,t,n,r,i){const o=sEn(e,t,n,r);return i.push(o||{op:"set",path:r,value:t}),i}function jge(e){return nEn.indexOf(e)===-1}function PL(e){const t=[];for(let n=0;n<e.length;n++){const r=cEn(e[n]);if(!r||t.indexOf(r)!==-1)return!1;t.push(r)}return!0}function cEn(e){return typeof e=="object"&&e!==null&&e._key}function Ige(e){return e.reduce((t,n)=>(t.keys.push(n._key),t.index[n._key]=n,t),{keys:[],index:{}})}function uEn(e,t){return e.length===t.length&&e.every((n,r)=>t[r]===n)}function yJ(e,t,n,r){if(typeof e<"u")return e;if(!r.hideWarnings){const i=E8e(t.concat(n));console.warn("undefined value in array converted to null (at '".concat(i,"')"))}return null}function dEn(e){return!!e.ifRevisionID}function $ge(e){return!0}var T8e,Dge=th;T8e=Dge.createRoot,Dge.hydrateRoot;function fEn(e,t){function n(o,a){e.has(o),e.set(o,a),t()}function r(o,a){e.has(o),e.set(o,a),t()}function i(o){e.has(o),e.delete(o),t()}return{add:n,remove:i,update:r}}function A8e(){const[e]=p.useState(()=>new Map),[t,n]=p.useReducer(()=>Array.from(e.entries()),[]),r=p.useMemo(()=>Gx(n,10,{trailing:!0}),[]);return{store:p.useMemo(()=>fEn(e,r),[r,e]),snapshot:t}}function j8e(e,t,n,r=Object.is){const i=p.useRef(null),o=p.useRef(null);p.useLayoutEffect(()=>{if(t===null||e===null)return;const a=n();return e.add(t,a),i.current=t,o.current=a,()=>{e.remove(t),i.current=null,o.current=null}},[t,e,n]),p.useLayoutEffect(()=>{if(t===null||i.current===null||e===null||t!==i.current)return;const a=n();r(o.current,a)||(e.update(t,a),o.current=a)})}function hEn(e){const{children:t}=e,{store:n,snapshot:r}=A8e();return c.jsx(jxe.Provider,{value:n,children:c.jsx(Ixe.Provider,{value:r,children:t})})}const pEn=p.memo(hEn),mEn=[];function vJ(){const e=p.useContext(Ixe);return e===null?(console.warn(new Error('No context provided for reporter. Make sure that the component calling "useChangeIndicatorsReportedValues()", is wrapped inside a <ChangeIndicatorsTracker> element')),mEn):e}const I8e=(e,t,n)=>{const r=p.useContext(jxe);r===null&&console.warn(new Error('No context provided for reporter. Make sure that the component calling "useChangeIndicatorsReporter()", is wrapped inside a <ChangeIndicatorsTracker> element')),j8e(r,e,t,n)},gEn=e=>{const{path:t,hasHover:n}=e,{onSetFocus:r}=p.useContext(Py),[i,o]=p.useState(!1),a=p.useCallback(()=>{o(!0)},[]),s=p.useCallback(()=>{o(!1)},[]),[l,u]=p.useState(null),d=p.useMemo(()=>l?`change-${rn(t)}`:null,[l,t]),f=p.useCallback(()=>({element:l,path:t,isChanged:!0,hasFocus:!1,hasHover:i,hasRevertHover:n}),[l,i,n,t]);I8e(d,f,Z1);const h=p.useCallback(m=>{yEn(m,r,t)},[r,t]);return c.jsx("div",{ref:u,onClick:h,onMouseLeave:s,onMouseEnter:a,children:e.children})};function yEn(e,t,n){e.stopPropagation(),t(n)}function ya(e){const t=p.useRef(e);return Dt(t.current,e)||(t.current=e),t.current}function Ag(e,t){const n=[t,!0],r={type:"tuple",tuple:n};return function(i){const o=ya(i),a=p.useMemo(()=>Se(o).pipe(At(l=>Di(Se({type:"loading"}),e(l).pipe(fe(u=>({type:"value",value:u}))))),Fl(([l],u)=>u.type==="loading"?[l,!0]:[u.value,!1],n),Ar(([l,u],[d,f])=>!(l!==d||u!==f)),fe(l=>({type:"tuple",tuple:l})),En(l=>Se({type:"error",error:l}))),[o]),s=bi(a,r);if(s.type==="error")throw s.error;return s.tuple}}function Ro(e){return e!=null}const vEn="drafts",bJ=`${vEn}.`;function xJ(e){return e.startsWith(bJ)}function wJ(e){return{draftId:Fo(e),publishedId:Cn(e)}}function Fo(e){return xJ(e)?e:bJ+e}function Cn(e){return xJ(e)?e.slice(bJ.length):e}function jR(e){const t=e.reduce((n,r)=>{const i=Cn(r._id);let o=n.get(i);return o||(o={id:i,type:r._type,published:void 0,draft:void 0},n.set(i,o)),o[i===r._id?"published":"draft"]=r,n},new Map);return Array.from(t.values())}function $8e(e){return jR(e).map(t=>t.draft||t.published).filter(Ro)}const bEn=Object.freeze({}),hn=Object.freeze([]);function xEn(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const D8e=xEn();function Oge(e){return Array.isArray(e)}function Tt(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function G1(e){return typeof e=="string"}const wEn=typeof document=="object"&&typeof window=="object"&&window.ResizeObserver?window.ResizeObserver:EG,CEn=()=>{const e=fEe(),t=new wEn(n=>e.publish(n));return{observe:(n,r,i)=>{const o=e.subscribe(a=>{const s=a.find(l=>l.target===n);s&&r(s)});return t.observe(n,i),()=>{o(),t.unobserve(n)}},unobserve:n=>t.unobserve(n)}},f5=CEn(),kEn=["sanity.imageAsset","sanity.fileAsset"];function SEn(e){return e.type==="document"&&kEn.includes(e.name)}function Hgr(e){return e.type==="document"&&!SEn(e)}const EEn=["match","in","asc","desc","true","false","null"],_En=/^[a-zA-Z_][a-zA-Z0-9_]*$/,TEn=e=>!_En.test(e)||EEn.includes(e),AEn=e=>`["${e}"]`,v0=jEn();function jEn(){return typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}const Mge=typeof Intl=="object"&&"Segmenter"in Intl?new Intl.Segmenter:void 0;function IEn(e,t,n){if(n<t)throw new Error("End must be greater than start, use `String.prototype.slice()` for negative values");if(!Mge)return e.slice(t,n);let r=0,i="";for(const o of Mge.segment(e)){if(r===n)return i;i+=o.segment,r++}return i}function Pge(e,t){const n=IEn(e,0,t);return n===e?n:`${n}`}const $En={isLoading:!0,value:void 0,error:null};function O8e(e,t){const n=typeof t>"u"?$En:{isLoading:!1,value:t,error:null},r=p.useMemo(()=>e.pipe(DEn()),[e]);return bi(r,n)}function DEn(){return e=>e.pipe(fe(t=>({isLoading:!1,value:t,error:null})),En(t=>Se({isLoading:!1,value:void 0,error:t})))}function M8e(e,t){return e!==null&&e.roles.some(n=>n.name===t)}function OEn(e,t,n){return p.useMemo(()=>sE(e,t,n),[e,n,t])}var pxe;const jI=typeof process>"u"?!1:(pxe=process==null?void 0:process.env)==null?void 0:pxe.SANITY_STUDIO_DEBUG_I18N,MEn=!!jI,PEn={reverse:e=>`${e}`,triangles:e=>` ${e} `};function P8e(e){const t=jI==="reverse"||jI==="triangles"?PEn[jI]:null;return t?(...n)=>t(e(...n)):e}const Rge={bindI18n:!1};function Q(e,t){const{t:n}=sw(e,t?{keyPrefix:t.keyPrefix,lng:t.lng,...Rge}:Rge);return{t:P8e(n)}}const REn=250,FEn=R.div(({$changed:e,$disabled:t,$hasFocus:n,$isReviewChangeOpen:r})=>t?he`
        ${dv}:after {
          display: none;
        }
      `:he`
      --change-bar-offset: 4px;

      display: flex;
      position: relative;

      ${dv}:after {
        opacity: 0.5;
      }

      @media (hover: hover) {
        &:hover {
          z-index: 10;
          ${dv}:after {
            opacity: 1;
          }
        }
      }

      /* hide when field is not changed */
      ${n&&he`
        ${dv}:after {
          opacity: 1;
        }
      `}

      /* hide when field is not changed */
      ${!e&&he`
        ${dv}:after {
          opacity: 0;
          pointer-events: none;
        }
      `}

      /* hide hover effect when review changes is open */
      ${r&&he`
        ${R8e} {
          opacity: 0;
        }
      `}
    `),LEn=R.div`
  flex-grow: 1;
  min-width: 0;
`,NEn=R.div`
  position: relative;
  opacity: 1;
  transition: opacity 100ms;
  z-index: ${({$zIndex:e})=>e};
`,dv=R.div(e=>{const{media:t}=$e(e.theme);return he`
    position: absolute;
    top: -1px;
    left: var(--change-bar-offset);
    width: 1px;
    bottom: -1px;
    background-color: var(--card-bg-color);

    @media (min-width: ${t[0]}px) {
      display: unset;
    }

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 1px;
      left: 0;
      width: 1px;
      bottom: 1px;
      background-color: var(--card-badge-caution-dot-color);
      border-radius: 0.5px;
    }
  `}),R8e=R.button(e=>{const{$withHoverEffect:t}=e;return he`
    appearance: none;
    border: 0;
    outline: 0;
    display: block;
    padding: 0;
    background: transparent;
    opacity: 0;
    position: absolute;
    height: 100%;
    cursor: pointer;
    pointer-events: all;
    left: calc(-0.25rem + var(--change-bar-offset));
    width: calc(1rem - 1px);
    transition: opacity ${REn}ms;

    &:focus {
      border: 0;
      outline: 0;
    }

    &:focus {
      border: 0;
      outline: 0;
    }

    ${t&&he`
      @media (hover: hover) {
        &:hover {
          opacity: 0.2;
        }
      }
    `}
  `});function BEn(e){const{children:t,disabled:n,hasFocus:r,isChanged:i,withHoverEffect:o=!0}=e,{onOpenReviewChanges:a,isReviewChangesOpen:s}=p.useContext(Py),{zIndex:l}=ns(),{t:u}=Q(),d=p.useMemo(()=>n||!i?null:c.jsxs(NEn,{"data-testid":"change-bar",$zIndex:l,children:[c.jsx(dv,{"data-testid":"change-bar__marker"}),c.jsx(Et,{content:u("changes.change-bar.aria-label"),portal:!0,children:c.jsx(R8e,{"aria-label":u("changes.change-bar.aria-label"),"data-testid":"change-bar__button",onClick:s?void 0:a,tabIndex:-1,type:"button",$withHoverEffect:o})})]}),[n,i,s,a,u,o,l]);return c.jsxs(FEn,{"data-testid":"change-bar-wrapper",$changed:i,$disabled:n,$hasFocus:r,$isReviewChangeOpen:s,children:[c.jsx(LEn,{"data-testid":"change-bar__field-wrapper",children:t}),d]})}const VEn=p.memo(function(e){const{children:t,disabled:n,hasFocus:r,isChanged:i,onMouseEnter:o,onMouseLeave:a,path:s=hn,withHoverEffect:l,...u}=e,d=ns(),[f,h]=p.useState(!1),m=p.useCallback(w=>{o==null||o(w),h(!0)},[o]),g=p.useCallback(w=>{a==null||a(w),h(!1)},[a]),[y,x]=p.useState(null),b=p.useMemo(()=>n||!y?null:`field-${rn(s)}`,[n,y,s]),v=p.useCallback(()=>({element:y,path:s,isChanged:i,hasFocus:r,hasHover:f,zIndex:d.zIndex}),[y,r,f,i,d.zIndex,s]);return I8e(b,v,Z1),c.jsx("div",{...u,ref:x,onMouseEnter:m,onMouseLeave:g,children:c.jsx(BEn,{hasFocus:r,isChanged:i,disabled:n,withHoverEffect:l,children:t})})});function ja(e){const{children:t,hasFocus:n,isChanged:r,path:i,withHoverEffect:o,...a}=e;return c.jsx(VEn,{...a,path:i,hasFocus:n,isChanged:r,withHoverEffect:o,children:t})}function zEn(e){const t=p.useContext(q9);p.useEffect(()=>t==null?void 0:t.subscribe(e),[e,t])}const Fge=()=>{},IR=p.forwardRef(function(e,t){const{as:n="div",onScroll:r,...i}=e,o=p.useRef(null);p.useImperativeHandle(t,()=>o.current);const a=p.useContext(q9),s=p.useMemo(()=>fEe(),[]);return p.useEffect(()=>r?s.subscribe(r):Fge,[s,r]),p.useEffect(()=>a?s.subscribe(a.publish):Fge,[a,s]),p.useEffect(()=>{const l=d=>{s.publish(d)},u=o.current;if(u)return u.addEventListener("scroll",l,{passive:!0,capture:!0}),()=>{u.removeEventListener("scroll",l)}},[s,o]),c.jsx(q9.Provider,{value:s,children:p.createElement(n,{ref:o,"data-testid":"scroll-container",...i})})});function UEn({onScroll:e,children:t}){return zEn(e),c.jsx(c.Fragment,{children:t})}const dl=4,HEn=16,Lge=8,Ht=8,fc=2,NA=4,Wa=12,Y0=1,WEn=!1,GEn=!1;function Nge(e,t,n){const r=t.slice(t.indexOf("-")+1)||"[]",i=Ol(r),o=`${e}-${rn(i)}`;if(n.has(o))return n.get(o);let a;for(const[s,l]of n){if(!("path"in l)||!s.startsWith(e))continue;const u=MUe(i,l.path),d=l.path[l.path.length-1],f=u===l.path.length-1&&Pu(d);if(u!==0&&!(u!==l.path.length&&!f)&&(a=l,u===i.length))break}return a}function F8e(e){const t=getComputedStyle(e).overflow;return t.includes("auto")||t.includes("scroll")}function KEn(e){return(e.scrollHeight!==e.offsetHeight||e.scrollWidth!==e.offsetWidth)&&F8e(e)}const Bge=(e,t)=>{const n={top:0,left:0,height:t.offsetHeight,width:t.offsetWidth},r={top:0,left:0,height:e.offsetHeight,width:e.offsetWidth};let i=!1,o=e;for(;o&&o!==t&&t.contains(o);)i&&(n.top+=o.offsetTop,n.left+=o.offsetLeft),F8e(o)&&(n.top=o.offsetTop,n.height=o.offsetHeight,n.left=o.offsetLeft,n.width=o.offsetWidth,i=!0),r.top+=o.offsetTop-o.scrollTop,r.left+=o.offsetLeft-o.scrollLeft,o=o.offsetParent;return{rect:r,bounds:n}};function YEn(e){return e[0]!=="changePanel"}const qEn=-15;function Vge(e){const t=e.element;if(!t)return;let n=t;for(;!KEn(n);)if(n=n.parentElement,!n)return;n.scroll({top:n.scrollTop+e.rect.top-e.bounds.top+qEn,left:0,behavior:"smooth"})}function ZEn(e){const{bounds:t,...n}=e,r=Math.max(t.left,e.left),i=Math.max(e.top,t.top),o=Math.max(0,e.height-(i-e.top)),a=Math.max(0,e.width-(r-e.left));return c.jsx("rect",{...n,x:r,y:i,height:o,width:a})}R.rect`
  stroke: #ccc;
  fill: none;
  pointer-events: none;
  stroke-linecap: round;
`;const tk=R.path`
  fill: none;
  pointer-events: none;
  stroke-linejoin: round;
  stroke: var(--card-badge-caution-dot-color);
`,XEn=R.path`
  fill: none;
  pointer-events: stroke;
  stroke: transparent;
  cursor: pointer;
  stroke-linecap: round;
  stroke-linejoin: round;
  opacity: 0;

  &:hover {
    opacity: 0.2;
  }
`,JEn=R(ZEn)`
  stroke: none;
  pointer-events: none;
  fill: var(--card-badge-caution-dot-color);
`;function BA(e,t,n){return[`M ${e-NA} ${t-NA*n} `,`L ${e} ${t}`,`L ${e+NA} ${t-NA*n}`].join("")}function RL(e,t){return`M${e} ${t}`}function xo(e,t){return`L${e} ${t}`}function QEn(e,t=""){return e.join(t)}function Vs(e,t,n,r){return`Q${e} ${t} ${n} ${r}`}function e_n(e){const{from:t,to:n}=e,{left:r,top:i}=t,{left:o,top:a}=n,s=[],l=Math.min(dl,Math.abs(i-a)/2);return t.isAbove?s.push(RL(r+Ht,i-Wa+fc),xo(r+Ht,i-dl),Vs(r+Ht,i,r+Ht+dl,i)):t.isBelow?s.push(RL(r+Ht,i+Wa-fc),xo(r+Ht,i+dl),Vs(r+Ht,i,r+Ht+dl,i)):s.push(RL(r,i)),n.isAbove?i<n.bounds.top?s.push(xo(n.bounds.left-8-l,i),Vs(n.bounds.left-8,i,n.bounds.left-8,i+l),xo(n.bounds.left-8,a-l),Vs(n.bounds.left-8,a,n.bounds.left-8+l,a),xo(n.bounds.left+Ht-dl,a),Vs(n.bounds.left+Ht,a,n.bounds.left+Ht,a-dl),xo(n.bounds.left+Ht,a-Wa+fc)):s.push(xo(n.bounds.left+Ht-dl,i),Vs(n.bounds.left+Ht,i,n.bounds.left+Ht,i-dl),xo(n.bounds.left+Ht,a-Wa+fc)):n.isBelow?i>n.bounds.top+n.bounds.height?s.push(xo(n.bounds.left-Ht-l,i),Vs(n.bounds.left-Ht,i,n.bounds.left-Ht,i-l),xo(n.bounds.left-Ht,a+l),Vs(n.bounds.left-Ht,a,n.bounds.left-Ht+l,a),xo(n.bounds.left+Ht-dl,a),Vs(n.bounds.left+Ht,a,n.bounds.left+Ht,a+dl),xo(n.bounds.left+Ht,a+Wa-fc)):s.push(xo(n.bounds.left+Ht-dl,i),Vs(n.bounds.left+Ht,i,n.bounds.left+Ht,i+dl),xo(n.bounds.left+Ht,a+Wa-fc)):i<a?s.push(xo(n.bounds.left+Ht-l,i),Vs(n.bounds.left+Ht,i,n.bounds.left+Ht,i+l),xo(n.bounds.left+Ht,a-l),Vs(n.bounds.left+Ht,a,n.bounds.left+Ht+l,a),xo(o,a)):s.push(xo(n.bounds.left+Ht-l,i),Vs(n.bounds.left+Ht,i,n.bounds.left+Ht,i-l),xo(n.bounds.left+Ht,a+l),Vs(n.bounds.left+Ht,a,n.bounds.left+Ht+l,a),xo(o,a)),QEn(s)}function zge(e,t){const n=e.top+e.height/2,r=e.top+e.height<t.top+fc,i=e.top>t.top+t.height-fc;return{bounds:t,left:e.left,top:n,centerY:n,startY:e.top+Lge,endY:e.top+e.height-Lge,isAbove:r,isBelow:i,outOfBounds:r||i}}function t_n(e){const t={top:e.from.bounds.top+Wa,bottom:e.from.bounds.top+e.from.bounds.height-Wa,left:e.from.bounds.left,right:e.from.bounds.left+e.from.bounds.width,width:e.from.bounds.width,height:e.from.bounds.height-Wa*2},n=zge(e.from.rect,t);n.left=e.from.rect.left+e.from.rect.width+1;const r={top:e.to.bounds.top+Wa,bottom:e.to.bounds.top+e.to.bounds.height-Wa,left:e.to.bounds.left,right:e.to.bounds.left+e.to.bounds.width,width:e.to.bounds.width,height:e.to.bounds.height-Wa*2},i=zge(e.to.rect,r),o=Math.max(i.startY,n.startY);return n.top=Math.min(o,n.endY),n.top<r.top?n.top=Math.min(r.top,n.endY):n.top>r.bottom&&(n.top=Math.max(r.bottom,n.startY)),i.top=Math.min(o,i.endY),i.top<t.top?i.top=Math.min(t.top,i.endY):i.top>t.bottom&&(i.top=Math.max(t.bottom,i.startY)),n.top=Math.min(Math.max(n.top,t.top),t.bottom),i.top=Math.min(Math.max(i.top,r.top),r.bottom),{from:n,to:i}}const n_n=p.memo(function({from:e,to:t}){const n=t_n({from:e,to:t});if(n.from.outOfBounds&&n.to.outOfBounds)return null;const r=e_n(n);return c.jsxs(c.Fragment,{children:[c.jsx(XEn,{d:r,strokeWidth:HEn}),c.jsx(tk,{d:r,strokeWidth:Y0}),c.jsx(JEn,{top:t.rect.top,left:t.rect.left-.5,height:t.rect.height,width:Y0,bounds:t.bounds}),n.from.isAbove&&c.jsx(tk,{d:BA(n.from.left+Ht,n.from.bounds.top-Wa+fc,-1),strokeWidth:Y0}),n.from.isBelow&&c.jsx(tk,{d:BA(n.from.left+Ht,n.from.bounds.top+n.from.bounds.height+Wa-fc,1),strokeWidth:Y0}),n.to.isAbove&&c.jsx(tk,{d:BA(n.to.bounds.left+Ht,n.to.bounds.top-Wa+fc,-1),strokeWidth:Y0}),n.to.isBelow&&c.jsx(tk,{d:BA(n.to.bounds.left+Ht,n.to.bounds.top+n.to.bounds.height+Wa-fc,1),strokeWidth:Y0}),WEn]})}),r_n=R.svg`
  pointer-events: none;
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
`;function i_n(e,t){p.useEffect(()=>f5.observe(e,t),[e,t])}function Uge(e,t,n,r){const i=[],o=[];for(const s of e){if(!YEn(s)||!s[1].isChanged)continue;const[l,u]=s;if(l===t){i.push(s);continue}if(u.hasHover){i.push(s);continue}if(u.hasFocus){o.push(s);continue}}const a=i.length>0;return{connectors:(a?i:o).map(([s])=>{const l=Nge("field",s,n),u=Nge("change",s,n);return!l||!u?null:{field:{id:s,...l},change:{id:s,...u}}}).filter(s=>!!(s!=null&&s.field.element)&&!!(s!=null&&s.change.element)).map(({field:s,change:l})=>({hasHover:s.hasHover||l.hasHover,hasFocus:s.hasFocus,hasRevertHover:l.hasRevertHover,field:{...s,...Bge(s.element,r)},change:{...l,...Bge(l.element,r)}})),isHoverConnector:a}}function o_n(e){const{rootElement:t,onSetFocus:n}=e,[r,i]=p.useState(null),o=vJ(),a=p.useMemo(()=>new Map(o),[o]),[{connectors:s},l]=p.useState(()=>Uge(o,r,a,t)),u=p.useMemo(()=>yg(s,f=>0-f.field.path.length).slice(0,1),[s]),d=p.useCallback(()=>{l(Uge(o,r,a,t))},[a,o,r,t]);return i_n(t,d),c.jsx(UEn,{onScroll:d,children:c.jsx(r_n,{style:{zIndex:u[0]&&u[0].field.zIndex},children:u.map(({field:f,change:h})=>h?c.jsx(a_n,{field:f,change:h,onSetFocus:n,setHovered:i},f.id):null)})})}function a_n(e){const{change:t,field:n,onSetFocus:r,setHovered:i}=e,o=p.useCallback(()=>{Vge(n),Vge(t),r(n.path)},[n,t,r]),a=p.useCallback(()=>i(n.id),[n,i]),s=p.useCallback(()=>i(null),[i]),l=p.useMemo(()=>({rect:{...n.rect,left:n.rect.left+3},bounds:n.bounds}),[n.bounds,n.rect]),u=p.useMemo(()=>({rect:{...t.rect,left:t.rect.left+1},bounds:t.bounds}),[t.bounds,t.rect]);return c.jsxs(c.Fragment,{children:[c.jsx("g",{onClick:o,onMouseEnter:a,onMouseLeave:s,children:c.jsx(n_n,{from:l,to:u})}),GEn]})}function s_n({children:e,className:t,isReviewChangesOpen:n,onOpenReviewChanges:r,onSetFocus:i,...o}){const[a,s]=p.useState(),l=p.useMemo(()=>({isReviewChangesOpen:n,onOpenReviewChanges:r,onSetFocus:i}),[n,r,i]);return c.jsx(Py.Provider,{value:l,children:c.jsx(pEn,{children:c.jsxs(IR,{...o,ref:s,className:t,children:[e,a&&c.jsx(o_n,{rootElement:a,onSetFocus:i})]})})})}const Hge=c.jsx(B,{muted:!0,children:c.jsx(Es,{})}),FL=(e,t)=>c.jsx(V,{as:"li",children:c.jsx(B,{textOverflow:"ellipsis",size:1,weight:"medium",children:e})},`${e}-${t}`);function l_n(e){const{titlePath:t,maxLength:n}=e,r=p.useMemo(()=>{const o=t.length,a=Math.ceil(n/2),s=Math.floor(n/2);return n&&o>n?[...t.slice(0,a-1),t.slice(a-1,o-s),...t.slice(o-s)]:t},[n,t]),i=p.useMemo(()=>r.map((o,a)=>{const s=`${o}-${a}`,l=a<r.length-1;return Array.isArray(o)?c.jsxs(p.Fragment,{children:[c.jsx(Et,{content:c.jsx(ae,{space:2,padding:2,children:o.map(FL)}),children:c.jsx(V,{children:FL("...",a)})}),l&&Hge]},s):c.jsxs(p.Fragment,{children:[FL(o,a),l&&Hge]},s)}),[r]);return c.jsx(W,{align:"center",as:"ol",gap:2,children:i})}function c_n(e){return`inset 0 0 0 ${e.width}px ${e.color}`}const u_n=R(Xn)`
  align-items: flex-end;
`;function CJ(e){const{base:t,border:n,focusRing:r}=e,i=r.offset+r.width,o=0-r.offset,a=t?t.bg:"var(--card-bg-color)";return[o>0&&`inset 0 0 0 ${o}px var(--card-focus-ring-color)`,n&&c_n(n),o<0&&`0 0 0 ${0-o}px ${a}`,i>0&&`0 0 0 ${i}px var(--card-focus-ring-color)`].filter(Boolean).join(",")}const d_n="data-active",LL="a,button",f_n=R.div(({theme:e,offset:t})=>he`
    bottom: ${-t}px;
    border-radius: ${Te(e.sanity.radius[1])};
    left: ${-t}px;
    pointer-events: none;
    position: absolute;
    right: ${-t}px;
    top: ${-t}px;
    z-index: 2;

    ${L8e}:focus-visible & {
      box-shadow: ${CJ({base:e.sanity.color.base,focusRing:e.sanity.focusRing})};
    }
  `),h_n=R.div`
  bottom: 0;
  display: none;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
  z-index: 1;

  @media (hover: hover) {
    &[data-enabled='true'] {
      display: block;
    }
  }
`,L8e=R(V)`
  height: 100%;
  outline: none;
  overflow-x: hidden;
  overflow-y: auto;
  overscroll-behavior: contain;
  width: 100%;
`,p_n=R(V).attrs(({$height:e})=>({style:{height:`${e}px`}}))`
  position: relative;
  width: 100%;
`,gf=p.forwardRef(function({activeItemDataAttr:e=d_n,ariaLabel:t,ariaMultiselectable:n=!1,autoFocus:r,canReceiveFocus:i,fixedHeight:o,focusRingOffset:a=0,getItemDisabled:s,getItemKey:l,getItemSelected:u,initialIndex:d,initialScrollAlign:f="start",inputElement:h,itemHeight:m,items:g,onEndReached:y,onEndReachedIndexOffset:x=0,onlyShowSelectionWhenActive:b,overscan:v,renderItem:w,wrapAround:C=!0,...k},S){const E=p.useRef(!1),_=p.useRef(p.useId()),T=p.useRef(d??0),[A,I]=p.useState(null),[j,$]=p.useState(!1),[D,O]=p.useState(null),[M,P]=p.useState(null),F=p.useCallback(ye=>{if(!y)return;const[ke]=[...ye.getVirtualItems()].reverse();ke&&ke.index>=g.length-x-1&&E.current&&y()},[y,g.length,x]),L=lK({count:g.length,getItemKey:l,getScrollElement:()=>M,estimateSize:()=>m,onChange:F,overscan:v}),U=p.useMemo(()=>{let ye=-1;return g.reduce((ke,be,Ee)=>{const ce=(s==null?void 0:s(Ee))??!1,_e=(u==null?void 0:u(Ee))??!1;return ce||(ye+=1),ke[Ee]={activeIndex:ce?null:ye,disabled:ce,selected:_e},ke},[])},[s,u,g]),H=p.useMemo(()=>U.filter(ye=>!ye.disabled).length,[U]),N=p.useCallback(ye=>D==null?void 0:D.setAttribute("data-enabled",(!ye).toString()),[D]),Y=p.useCallback(ye=>`${_.current}-item-${ye}`,[]),J=p.useCallback(()=>`${_.current}-children`,[]),ee=p.useCallback(()=>{var ke;const ye=[h,M].some(be=>document.activeElement===be);b&&!ye&&!j||((ke=Array.from((A==null?void 0:A.children)||[]))==null||ke.forEach(be=>{var _e,Ie,Me;const Ee=Number((_e=be.dataset)==null?void 0:_e.index),ce=(Ie=U[Ee])==null?void 0:Ie.activeIndex;(Me=be.querySelector(LL))==null||Me.toggleAttribute(e,ce===T.current)}))},[e,A==null?void 0:A.children,j,h,U,b,M]),oe=p.useCallback(()=>{var ye;(ye=Array.from((A==null?void 0:A.children)||[]))==null||ye.forEach(ke=>{var be;(be=ke.querySelector(LL))==null||be.toggleAttribute(e,!1)})},[e,A==null?void 0:A.children]),re=p.useMemo(()=>sE(ee,200),[ee]),se=p.useCallback(()=>{const ye=T==null?void 0:T.current;g.length>0?(h==null||h.setAttribute("aria-activedescendant",Y(ye)),M==null||M.setAttribute("aria-activedescendant",Y(ye))):(h==null||h.removeAttribute("aria-activedescendant"),M==null||M.removeAttribute("aria-activedescendant"))},[Y,h,g.length,M]),G=p.useCallback(()=>{var ke;const ye=A==null?void 0:A.parentElement;if(A&&ye){const be=ye.getBoundingClientRect().top-A.getBoundingClientRect().top;return((ke=L.getVirtualItemForOffset(be))==null?void 0:ke.index)??-1}return-1},[A,L]),K=p.useCallback(({index:ye,scrollAlign:ke,scrollIntoView:be=!0})=>{if(T.current=ye,se(),ee(),be){const Ee=U.findIndex(ce=>ce.activeIndex===ye);Ee>-1&&L.scrollToIndex(Ee,ke?{align:ke}:{})}},[se,U,ee,L]),q=p.useCallback(ye=>{let ke=-1;const be=H-1;if(ye==="next"){const Ee=C?0:be;ke=T.current<H-1?T.current+1:Ee}if(ye==="previous"){const Ee=C?be:0;ke=T.current>0?T.current-1:Ee}K({index:ke,scrollIntoView:!0}),N(!1)},[H,N,K,C]),X=p.useCallback(ye=>{switch(ye){case"input":h==null||h.focus();break;case"list":M==null||M.focus();break}},[h,M]),ie=p.useCallback(()=>{h==null||h.focus()},[h]),te=p.useCallback(()=>{M==null||M.focus()},[M]),de=p.useCallback(ye=>()=>{K({index:ye,scrollIntoView:!1})},[K]),pe=p.useCallback(()=>{ee()},[ee]),ve=p.useCallback(ye=>ke=>{var Ee;const be=Array.from((A==null?void 0:A.children)||[]);if(be.length&&(ke.key==="ArrowDown"&&(ke.preventDefault(),X(ye),q("next")),ke.key==="ArrowUp"&&(ke.preventDefault(),X(ye),q("previous")),ke.key==="Enter")){ke.preventDefault(),X(ye);const ce=be.find(_e=>Number(_e.dataset.index)===U.findIndex(Ie=>Ie.activeIndex===T.current));ce&&((Ee=ce==null?void 0:ce.querySelector(LL))==null||Ee.click())}},[A==null?void 0:A.children,X,U,q]),Ce=p.useCallback(ye=>ve("input")(ye),[ve]),xe=p.useCallback(ye=>ve("list")(ye),[ve]),Ae=p.useCallback(()=>{b&&(ee(),$(!0))},[b,ee]),Re=p.useCallback(()=>{b&&(oe(),$(!1))},[oe,b]);p.useImperativeHandle(S,()=>({focusInputElement(){ie()},focusListElement(){te()},getTopIndex(){return G()},scrollToIndex(ye){K({index:ye}),N(!0)}}),[N,ie,te,G,K]),p.useEffect(()=>{typeof d<"u"&&!E.current&&K({index:d,scrollAlign:f,scrollIntoView:!0}),E.current=!0},[d,f,b,K]),p.useEffect(()=>{function ye(){N(!0)}return M==null||M.addEventListener("mousemove",ye),M==null||M.addEventListener("wheel",ye,{passive:!0}),()=>{M==null||M.removeEventListener("mousemove",ye),M==null||M.removeEventListener("wheel",ye)}},[N,M]),p.useEffect(()=>(h==null||h.addEventListener("focus",pe),h==null||h.addEventListener("keydown",Ce),M==null||M.addEventListener("focus",pe),M==null||M.addEventListener("keydown",xe),()=>{h==null||h.removeEventListener("focus",pe),h==null||h.removeEventListener("keydown",Ce),M==null||M.removeEventListener("focus",pe),M==null||M.removeEventListener("keydown",xe)}),[i,pe,ve,Ce,xe,oe,h,ee,M]),p.useEffect(()=>{se()},[se,g]),p.useEffect(()=>{const ye=new MutationObserver(re);return A&&ye.observe(A,{childList:!0,subtree:!0}),()=>{ye.disconnect()}},[A,re]),p.useEffect(()=>{h==null||h.setAttribute("aria-autocomplete","list"),h==null||h.setAttribute("aria-expanded","true"),h==null||h.setAttribute("aria-controls",J()),h==null||h.setAttribute("role","combobox")},[J,h]),p.useEffect(()=>{r&&X(r)},[r,i,te,ie,X]);const we=i?0:-1;return c.jsxs(L8e,{id:J(),onMouseEnter:Ae,onMouseLeave:Re,ref:P,sizing:"border",tabIndex:we,...k,children:[i&&c.jsx(f_n,{offset:a}),c.jsx(h_n,{"aria-hidden":"true","data-enabled":!0,ref:O}),L&&c.jsx(p_n,{forwardedAs:"ul",$height:L.getTotalSize(),"aria-label":t,"aria-multiselectable":n,flex:1,ref:I,role:"listbox",children:L.getVirtualItems().map(ye=>{const ke=ye.index,{activeIndex:be,disabled:Ee,selected:ce}=U[ke],_e=w(g[ke],{activeIndex:be,disabled:Ee,selected:ce,virtualIndex:ke}),Ie=p.cloneElement(_e,{tabIndex:-1}),Me=typeof be=="number"&&!Ee?{"aria-posinset":be+1,...n?{"aria-selected":ce.toString()}:{},"aria-setsize":H,id:Y(be),role:"option",onMouseEnter:de(be)}:{};return c.jsx(ae,{as:"li","data-index":ke,ref:o?void 0:L.measureElement,style:{flex:1,...o?{height:`${ye.size}px`}:{},left:0,position:"absolute",top:0,transform:`translateY(${ye.start}px)`,width:"100%"},tabIndex:-1,...Me,children:Ie},ye.key)})})]})}),Ki=p.forwardRef(function(e,t){const{mode:n="bleed",tooltipProps:r,tone:i,...o}=e,{t:a}=Q();return c.jsx(ge,{...o,icon:dE,mode:n,ref:t,tone:i,tooltipProps:{...r,content:(r==null?void 0:r.content)||a("common.context-menu-button.tooltip")}})});function Hk({name:e,title:t},n){return typeof e=="string"&&e.trim().length>0?e:nU(t,n)}function nU(e,t){const n=typeof e=="string"&&e.trim().length>0?` (titled "${e}")`:"";return`at index ${t}${n}`}function f_(){const e=p.useContext(_we);if(!e)throw new Error("Could not find `workspaces` context");return e}class Dd extends Error{constructor(n,r){super(n);Z(this,"index");Z(this,"identifier");this.name="WorkspaceValidationError",this.index=r==null?void 0:r.index,this.identifier=(r==null?void 0:r.workspace)&&Hk(r.workspace,r.index)}}function m_n({workspaces:e}){if(e.length===0)throw new Dd("At least one workspace is required.");g_n(e),y_n(e)}function g_n(e){const t=e.length===1,n=new Map;e.forEach((r,i)=>{const{name:o,title:a}=r,s=nU(a,i);if(!o&&!t)throw new Dd(`All workspaces must have a \`name\`, unless only a single workspace is defined. Workspace ${s} did not define a \`name\`.`,{workspace:r,index:i});const l=t&&typeof o>"u"?"default":o;if(typeof l!="string")throw new Dd(`Workspace at index ${i} defined an invalid \`name\` - must be a string.`,{workspace:r,index:i});const u=l.toLowerCase(),d=n.get(u);if(d){const f=nU(d.workspace.title,d.index);throw new Dd(`\`name\`s must be unique. Workspace ${f} and workspace ${s} both have the \`name\` \`${l}\``,{workspace:r,index:i})}if(n.set(u,{index:i,workspace:r}),!/^[a-z0-9][a-z0-9_-]*$/i.test(l))throw new Dd(`All workspace \`name\`s must consist of only a-z, 0-9, underscore and dashes, and cannot begin with an underscore or dash. Workspace ${s} has the invalid name \`${l}\``,{workspace:r,index:i})})}function y_n(e){e.length>1&&e.every(v_n),e.every(b_n);const[t,...n]=e,r=(t.basePath||"/").slice(1).split("/").filter(Boolean).length;n.forEach((o,a)=>{const s=(o.basePath||"/").slice(1).split("/").length;if(r!==s)throw new Dd(`All workspace \`basePath\`s must have the same amount of segments. Workspace \`${Hk(t,a)}\` had ${r} segment${r===1?"":"s"} \`${t.basePath}\` but workspace \`${Hk(o,a)}\` had ${s} segment${s===1?"":"s"} \`${o.basePath}\``,{workspace:o,index:a})});const i=new Map;e.forEach((o,a)=>{const s=(o.basePath||"").toLowerCase(),l=i.get(s);if(l)throw new Dd(`\`basePath\`s must be unique. Workspaces \`${l}\` and \`${Hk(o,a)}\` both have the \`basePath\` \`${s}\``,{workspace:o,index:a});i.set(s,Hk(o,a))})}function v_n(e,t){const{name:n,basePath:r}=e;if(r&&typeof r=="string")return!0;throw typeof r>"u"?new Dd(`If more than one workspace is defined, every workspace must have a \`basePath\` defined. Workspace \`${n}\` is missing a \`basePath\``,{workspace:e,index:t}):new Dd(`If more than one workspace is defined, every workspace must have a \`basePath\` defined. Workspace \`${n}\` has an invalid \`basePath\` (must be a non-empty string)`,{workspace:e,index:t})}function b_n(e,t){const{name:n,basePath:r}=e;if(!(!r||r==="/")&&!/^\/[a-z0-9/_-]*[a-z0-9_-]+$/i.test(r))throw new Dd(`All workspace \`basePath\`s must start with a leading \`/\`, consist of only URL safe characters, and cannot end with a trailing \`/\`. Workspace \`${n}\`'s basePath is \`${r}\``,{workspace:e,index:t})}const x_n=()=>p.createElement(p.Fragment);function w_n(e,t){return n=>{let r=i=>p.createElement(e,i);for(const i of t){const o=r;r=a=>p.createElement(i,{...a,renderDefault:o})}return r({...n,renderDefault:x_n})}}function qc(e){const{options:t}=er().__internal,{defaultComponent:n,pick:r}=e;return p.useMemo(()=>{const i=[...cC(t,[])];i.reverse();const o=i.map(({config:a})=>r(a)).filter(Boolean);return w_n(n,o)},[n,t,r])}class Wge extends Error{constructor({propertyName:n,path:r,cause:i}){const o=Tt(i)&&typeof(i==null?void 0:i.message)=="string"?`: ${i.message}`:"";super(`An error occurred while resolving \`${n}\` from ${r.join(" > ")}${o}`);Z(this,"propertyName");Z(this,"path");Z(this,"cause");this.name="ConfigPropertyError",this.propertyName=n,this.cause=i,this.path=r}}class kc extends Error{constructor({causes:n,name:r,type:i}){const o=n.filter(Boolean).map(a=>Tt(a)&&typeof(a==null?void 0:a.message)=="string"?a.message:String(a));super(`Could not resolve ${i}${r?` \`${r}\``:""}:
${o.map(a=>`	- ${a}`).join(`
`)}

`);Z(this,"name");Z(this,"type");Z(this,"causes");this.name=r,this.causes=n,this.type=i}}function Gge(e){const t=["projectId"in e&&"`projectId` not allowed in plugin configuration","dataset"in e&&"`dataset` not allowed in plugin configuration"].filter(cJ);if(t.length)throw new Error(`Invalid plugin configuration:
${t.map(n=>`	${n}`).join(`
`)}`)}function h_(e){if(typeof e=="function"){const t=e;return n=>{const r=t(n);return Gge(r),r}}return Gge(e),()=>e}const C_n=!1,Kge=750,rU=2e3,k_n=R(le)(({$fill:e})=>he`
    align-items: center;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    justify-content: center;

    ${e?he`
          bottom: 0;
          height: 100%;
          left: 0;
          position: absolute;
          right: 0;
          top: 0;
          width: 100%;
        `:he`
          min-height: 75px;
          height: stretch;
          height: -webkit-fill-available;
          width: stretch;
          width: -webkit-fill-available;
        `}

    ${C_n}

    > * {
      position: absolute;
    }
  `),S_n=R(dg)(({$animatePosition:e=!0})=>he`
    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }
    @keyframes slideUp {
      from {
        transform: translateY(0);
      }
      to {
        transform: translateY(-15px);
      }
    }
    animation: ${e?`500ms ease-out ${Kge}ms 1 normal both running fadeIn, 750ms ease-out ${rU}ms 1 normal both running slideUp`:`500ms ease-out ${Kge}ms 1 normal both running fadeIn`};
  `),E_n=R(B)`
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
  @keyframes slideDown {
    from {
      transform: translateY(0);
    }
    to {
      transform: translateY(15px);
    }
  }
  animation:
    1500ms ease-out ${rU}ms 1 normal both running fadeIn,
    750ms ease-out ${rU}ms 1 normal both running slideDown;
`;function Dn({fill:e,showText:t,title:n}){return c.jsxs(k_n,{$fill:e,as:e?al:"div",children:[c.jsx(S_n,{$animatePosition:!!t,muted:!0}),t&&c.jsx(__n,{title:n})]})}function __n({title:e}){const{t}=Q();return c.jsx(E_n,{muted:!0,size:1,children:e||t("common.loading")})}function T_n(e){return!("then"in e.resources&&typeof e.resources.then=="function")}function kJ(e,t){return t}const $x="studio",A_n="validation",j_n="copy-paste",I_n=kJ("copy-paste",{"copy-paste.field-action-copy-button.document.title":"Copy document","copy-paste.field-action-copy-button.field.title":"Copy field","copy-paste.field-action-paste-button.document.title":"Paste document","copy-paste.field-action-paste-button.field.title":"Paste field","copy-paste.on-paste.validation.read-only-target.description":"The target is read-only","copy-paste.on-paste.validation.schema-type-incompatible.description":"Source and target schema types are not compatible","copy-paste.on-paste.validation.reference-type-incompatible.description":'References of type "{{sourceReferenceType}}" is not allowed in reference field that accepts types "{{targetReferenceTypes}}"',"copy-paste.on-paste.validation.reference-filter-incompatible.description":"Reference is not allowed in reference field according to filter","copy-paste.on-paste.validation.reference-validation-failed.description":'The referenced document "{{ref}}" does not exist',"copy-paste.on-paste.validation.image-file-incompatible.description":'A "{{sourceSchemaType}}" is not allowed in a "{{targetSchemaType}}"',"copy-paste.on-paste.validation.array-type-incompatible.description":'Value of type "{{type}}" is not allowed in this array field',"copy-paste.on-paste.validation.array-value-incompatible.description":'Value of type "{{type}}" is not allowed in this array field',"copy-paste.on-paste.validation.string-value-incompatible.description":'Value "{{value}}" is not allowed in "{{allowedStrings}}"',"copy-paste.on-paste.validation.primitive-type-incompatible.description":'Value of type "{{type}}" is not allowed in this field',"copy-paste.on-paste.validation.clipboard-empty.title":"Nothing to paste","copy-paste.on-paste.validation.clipboard-invalid.title":"Invalid clipboard item","copy-paste.on-paste.validation.schema-type-incompatible.title":"Could not resolve schema type for path: {{path}}","copy-paste.on-paste.validation.partial-warning.title":"Could not paste all values","copy-paste.on-paste.validation.document-paste-success.title":'Document "{{fieldNames}}" updated',"copy-paste.on-paste.validation.field_one-paste-success.title":'Field "{{fieldName}}" updated',"copy-paste.on-paste.validation.mime-type-incompatible.description":'MIME type "{{mimeType}}" is not accepted for this field',"copy-paste.on-paste.validation.mime-type-validation-failed.description":"MIME type validation failed","copy-paste.on-copy.validation.schema-type-incompatible.title":"Could not resolve schema type for path: {{path}}","copy-paste.on-copy.validation.no-value.title":"Empty value, nothing to copy","copy-paste.on-copy.validation.clipboard-not-supported.title":"Your browser does not support this action","copy-paste.on-copy.validation.copy-document-success.title":'Document "{{fieldNames}}" copied',"copy-paste.on-copy.validation.copy-field_one-success.title":'Field "{{fieldName}}" copied',"copy-paste.on-copy.validation.copy-item_one-success.title":'Item "{{typeName}}" copied'}),$_n={locale:"en-US",namespace:j_n,resources:I_n},D_n=kJ("studio",{"asset-source.asset-list.menu.delete":"Delete","asset-source.asset-list.menu.show-usage":"Show usage","asset-source.asset-usage-dialog.header_file":"Documents using file","asset-source.asset-usage-dialog.header_image":"Documents using image","asset-source.asset-usage-dialog.loading":"Loading","asset-source.delete-dialog.action.cancel":"Cancel","asset-source.delete-dialog.action.delete":"Delete","asset-source.delete-dialog.header_file":"Delete file","asset-source.delete-dialog.header_image":"Delete image","asset-source.delete-dialog.loading":"Loading","asset-source.delete-dialog.usage-list.confirm-delete-file_named":"You are about to delete the file <strong>{{filename}}</strong> and its metadata. Are you sure?","asset-source.delete-dialog.usage-list.confirm-delete-file_unnamed":"You are about to delete the file and its metadata. Are you sure?","asset-source.delete-dialog.usage-list.confirm-delete-image_named":"You are about to delete the image <strong>{{filename}}</strong> and its metadata. Are you sure?","asset-source.delete-dialog.usage-list.confirm-delete-image_unnamed":"You are about to delete the image and its metadata. Are you sure?","asset-source.delete-dialog.usage-list.image-preview-alt":"Preview of image","asset-source.delete-dialog.usage-list.warning-file-is-in-use_named":"{{filename}} cannot be deleted because it's being used. In order to delete this file, you first need to remove all uses of it.","asset-source.delete-dialog.usage-list.warning-file-is-in-use_unnamed":"This file cannot be deleted because it's being used. In order to delete it, you first need to remove all uses of it.","asset-source.delete-dialog.usage-list.warning-image-is-in-use_named":"{{filename}} cannot be deleted because it's being used. In order to delete this image, you first need to remove all uses of it.","asset-source.delete-dialog.usage-list.warning-image-is-in-use_unnamed":"This image cannot be deleted because it's being used. In order to delete it, you first need to remove all uses of it.","asset-source.dialog.accept-message":"Only showing assets of accepted types: <strong>{{acceptTypes}}</strong>","asset-source.dialog.default-title_file":"Select file","asset-source.dialog.default-title_image":"Select image","asset-source.dialog.load-more":"Load more","asset-source.dialog.no-assets_file":"No files","asset-source.dialog.no-assets_image":"No images","asset-source.file.asset-list.action.delete.disabled-cannot-delete-current-file":"Cannot delete currently selected file","asset-source.file.asset-list.action.delete.text":"Delete","asset-source.file.asset-list.action.delete.title":"Delete file","asset-source.file.asset-list.action.select-file.title":"Select the file {{filename}}","asset-source.file.asset-list.action.show-usage.title":"Show usage","asset-source.file.asset-list.delete-failed":"File could not be deleted","asset-source.file.asset-list.delete-successful":"File was deleted","asset-source.file.asset-list.header.date-added":"Date added","asset-source.file.asset-list.header.filename":"Filename","asset-source.file.asset-list.header.size":"Size","asset-source.file.asset-list.header.type":"Type","asset-source.file.title":"Uploaded files","asset-source.image.asset-list.delete-failed":"Image could not be deleted","asset-source.image.asset-list.delete-successful":"Image was deleted","asset-source.image.title":"Uploaded images","asset-source.usage-list.documents-using-file_named_one":"One document is using file <code>{{filename}}</code>","asset-source.usage-list.documents-using-file_named_other":"{{count}} documents are using file <code>{{filename}}</code>","asset-source.usage-list.documents-using-file_named_zero":"No documents are using file <code>{{filename}}</code>","asset-source.usage-list.documents-using-file_unnamed_one":"One document is using this file","asset-source.usage-list.documents-using-file_unnamed_other":"{{count}} documents are using this file","asset-source.usage-list.documents-using-file_unnamed_zero":"No documents are using this file","asset-source.usage-list.documents-using-image_named_one":"One document is using image <code>{{filename}}</code>","asset-source.usage-list.documents-using-image_named_other":"{{count}} documents are using image <code>{{filename}}</code>","asset-source.usage-list.documents-using-image_named_zero":"No documents are using image <code>{{filename}}</code>","asset-source.usage-list.documents-using-image_unnamed_one":"One document is using this image","asset-source.usage-list.documents-using-image_unnamed_other":"{{count}} documents are using this image","asset-source.usage-list.documents-using-image_unnamed_zero":"No documents are using this image","calendar.action.go-to-next-month":"Go to next month","calendar.action.go-to-next-year":"Go to next year","calendar.action.go-to-previous-month":"Go to previous month","calendar.action.go-to-previous-year":"Go to previous year","calendar.action.go-to-today":"Today","calendar.action.go-to-today-aria-label":"Go to today","calendar.action.go-to-tomorrow":"Tomorrow","calendar.action.go-to-yesterday":"Yesterday","calendar.action.include-time-label":"Include time","calendar.action.select-hour":"Select hour","calendar.action.select-minute":"Select minute","calendar.action.set-to-current-time":"Set to current time","calendar.action.set-to-time-preset":"{{time}} on {{date, datetime}}","calendar.button.aria-label":"Open calendar","calendar.button.tooltip-text":"Select date","calendar.error.must-be-in-format":"Must be in the format: {{exampleDate}}","calendar.month-names.april":"April","calendar.month-names.august":"August","calendar.month-names.december":"December","calendar.month-names.february":"February","calendar.month-names.january":"January","calendar.month-names.july":"July","calendar.month-names.june":"June","calendar.month-names.march":"March","calendar.month-names.may":"May","calendar.month-names.november":"November","calendar.month-names.october":"October","calendar.month-names.september":"September","calendar.weekday-names.short.friday":"Fri","calendar.weekday-names.short.monday":"Mon","calendar.weekday-names.short.saturday":"Sat","calendar.weekday-names.short.sunday":"Sun","calendar.weekday-names.short.thursday":"Thu","calendar.weekday-names.short.tuesday":"Tue","calendar.weekday-names.short.wednesday":"Wed","changes.action.close-label":"Close review changes","changes.action.revert-all-cancel":"Cancel","changes.action.revert-all-confirm":"Revert all","changes.action.revert-all-description":"Are you sure you want to revert all {{count}} changes?","changes.action.revert-changes-confirm-change_one":"Revert change","changes.action.revert-changes-confirm-change_other":"Revert changes","changes.action.revert-changes-description":"Are you sure you want to revert the changes?","changes.action.revert-changes-description_one":"Are you sure you want to revert the change?","changes.added-label":"Added","changes.array.item-added-in-position":"Added in position {{position}}","changes.array.item-moved_down_one":"Moved {{count}} position down","changes.array.item-moved_down_other":"Moved {{count}} positions down","changes.array.item-moved_up_one":"Moved {{count}} position up","changes.array.item-moved_up_other":"Moved {{count}} positions up","changes.array.item-removed-from-position":"Removed from position {{position}}","changes.change-bar.aria-label":"Review changes","changes.changed-label":"Changed","changes.changes-by-author":"Changes by","changes.error-boundary.developer-info":"Check the developer console for more information","changes.error-boundary.title":"Rendering the changes to this field caused an error","changes.error.incorrect-type-message":'Value error: Value is of type "<code>{{actualType}}</code>", expected "<code>{{expectedType}}</code>"',"changes.file.meta-info-fallback-title":"Untitled","changes.image.crop-changed":"Crop changed","changes.image.deleted":"Image deleted","changes.image.error-loading-image":"Error loading image","changes.image.hotspot-changed":"Hotspot changed","changes.image.meta-info-fallback-title":"Untitled","changes.image.no-asset-set":"Image not set","changes.image.no-image-placeholder":"(no image)","changes.inspector.from-label":"From","changes.inspector.meta-label":"Meta","changes.inspector.to-label":"To","changes.loading-author":"Loading","changes.loading-changes":"Loading changes","changes.no-changes-description":"Edit the document or select an older version in the timeline to see a list of changes appear in this panel.","changes.no-changes-title":"There are no changes","changes.portable-text.annotation_added":"Added annotation","changes.portable-text.annotation_changed":"Changed annotation","changes.portable-text.annotation_removed":"Removed annotation","changes.portable-text.annotation_unchanged":"Unchanged annotation","changes.portable-text.block-style-changed":'Changed block style from "{{fromStyle}}" to "{{toStyle}}"',"changes.portable-text.changed-formatting":"Changed formatting","changes.portable-text.empty-inline-object":"Empty {{inlineObjectType}}","changes.portable-text.empty-object-annotation":"Empty {{annotationType}}","changes.portable-text.empty-text_added":"Added empty text","changes.portable-text.empty-text_changed":"Changed empty text","changes.portable-text.empty-text_removed":"Removed empty text","changes.portable-text.inline-object_added":"Added inline object","changes.portable-text.inline-object_changed":"Changed inline object","changes.portable-text.inline-object_removed":"Removed inline object","changes.portable-text.inline-object_unchanged":"Unchanged inline object","changes.portable-text.text_added":"Added text","changes.portable-text.text_removed":"Removed text","changes.portable-text.unknown-annotation-schema-type":"Unknown schema type","changes.portable-text.unknown-inline-object-schema-type":"Unknown schema type","changes.removed-label":"Removed","changes.title":"Review changes","common.context-menu-button.tooltip":"Show more","common.dialog.cancel-button.text":"Cancel","common.dialog.confirm-button.text":"Confirm","common.loading":"Loading","configuration-issues.button.label":"Configuration issues","configuration-issues.button.tooltip":"Found configuration issues","default-menu-item.fallback-title":"Sort by {{title}}","default-orderings.caption":"Sort by Caption","default-orderings.description":"Sort by Description","default-orderings.header":"Sort by Header","default-orderings.heading":"Sort by Heading","default-orderings.label":"Sort by Label","default-orderings.name":"Sort by Name","default-orderings.title":"Sort by Title","document-status.edited":"Edited {{date}}","document-status.not-published":"Not published","document-status.published":"Published {{date}}","form.error.duplicate-keys-alert.details.additional-description":"The value of the <code>_key</code> property must be a unique string.","form.error.duplicate-keys-alert.details.description":"This usually happens when items are created using an API client, and the <code>_key</code> property of each elements has been generated non-uniquely.","form.error.duplicate-keys-alert.details.title":"Developer info","form.error.duplicate-keys-alert.generate-button.text":"Generate unique keys","form.error.duplicate-keys-alert.summary":"Several items in this list share the same identifier (key). Every item must have an unique identifier.","form.error.duplicate-keys-alert.title":"Non-unique keys","form.error.field-not-found":'Field "{{fieldName}}" not found among members  verify that it is defined in the schema and that it has not been conditionally hidden.',"form.error.missing-keys-alert.add-button.text":"Add missing keys","form.error.missing-keys-alert.details.additional-description":"The value of the <code>_key</code> property must be a unique string.","form.error.missing-keys-alert.details.description":"This usually happens when items are created using an API client, and the <code>_key</code> property has not been included.","form.error.missing-keys-alert.details.title":"Developer info","form.error.missing-keys-alert.summary":"Some items in the list are missing their keys. This must be fixed in order to edit the list.","form.error.missing-keys-alert.title":"Missing keys","form.error.mixed-array-alert.details.description":"This usually happens when items are created using an API client, or when a custom input component has added invalid data to the list.","form.error.mixed-array-alert.details.title":"Developer info","form.error.mixed-array-alert.remove-button.text":"Remove non-object values","form.error.mixed-array-alert.summary":"Some items in this list are not objects. This must be fixed in order to edit the list.","form.error.mixed-array-alert.title":"Invalid list values","form.error.no-array-item-at-index":"No array item at index <code>{{index}}</code> found at path <code>{{path}}</code>","form.error.no-array-item-at-key":'No array item with `_key` <code>"{{key}}"</code> found at path <code>{{path}}</code>',"form.error.unhandled-runtime-error.call-stack.title":"Call Stack:","form.error.unhandled-runtime-error.component-stack.title":"Component Stack:","form.error.unhandled-runtime-error.error-message":"Error: {{message}}","form.error.unhandled-runtime-error.title":"Unhandled Runtime Error","form.field.deprecated-label":"deprecated","form.field.untitled-field-label":"Untitled","form.validation.has-error-aria-label":"Has error","form.validation.has-info-aria-label":"Has information","form.validation.has-warning-aria-label":"Has warning","form.validation.summary.errors-count_one":"{{count}} error","form.validation.summary.errors-count_other":"{{count}} errors","form.validation.summary.warnings-count_one":"{{count}} warning","form.validation.summary.warnings-count_other":"{{count}} warnings","free-trial.tooltip.days-count_one":"{{count}} day left in trial","free-trial.tooltip.days-count_other":"{{count}} days left in trial","free-trial.tooltip.trial-finished":"Upgrade your project","help-resources.action.contact-sales":"Contact sales","help-resources.action.help-and-support":"Help and support","help-resources.action.join-our-community":"Join our community","help-resources.latest-sanity-version":"Latest version is {{latestVersion}}","help-resources.studio-version":"Sanity Studio version {{studioVersion}}","help-resources.title":"Help and resources","input.files.common.cancel-upload":"Cancel","input.files.common.upload-placeholder.file-input-button.text":"Upload","input.files.common.upload-progress":"Uploading <FileName/>","input.reference.document-cannot-be-opened.failed-to-resolve-url":"This document cannot be opened (unable to resolve URL to Studio)","inputs.array.action.add-after":"Add item after","inputs.array.action.add-before":"Add item before","inputs.array.action.add-item":"Add item","inputs.array.action.add-item-select-type":"Add item...","inputs.array.action.copy":"Copy","inputs.array.action.drag.tooltip":"Drag to re-order","inputs.array.action.duplicate":"Duplicate","inputs.array.action.edit":"Edit {{itemTypeTitle}}","inputs.array.action.remove":"Remove","inputs.array.action.remove-invalid-item":"Remove","inputs.array.action.view":"View {{itemTypeTitle}}","inputs.array.error.can-delete-but-no-edit-description":"You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found.","inputs.array.error.cannot-resolve-initial-value-title":"Unable to resolve initial value for type: {{schemaTypeTitle}}: {{errorMessage}}.","inputs.array.error.cannot-upload-unable-to-convert_one":"The following item can't be uploaded because there's no known conversion from content type to array item:","inputs.array.error.cannot-upload-unable-to-convert_other":"The following items can't be uploaded because there's no known conversion from content types to array item:","inputs.array.error.current-schema-not-declare-description":"The current schema does not declare items of type <code>{{typeName}}</code> as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed.","inputs.array.error.json-representation-description":"JSON representation of this item:","inputs.array.error.type-is-incompatible-prompt":"Item of type <code>{{typeName}}</code> not valid for this list","inputs.array.error.type-is-incompatible-title":"Why is this happening?","inputs.array.error.unexpected-error":"Unexpected Error: {{error}}","inputs.array.insert-menu.filter.all-items":"All","inputs.array.insert-menu.search.no-results":"No items found","inputs.array.insert-menu.search.placeholder":"Search","inputs.array.insert-menu.toggle-grid-view.tooltip":"Toggle grid view","inputs.array.insert-menu.toggle-list-view.tooltip":"Toggle list view","inputs.array.no-items-label":"No items","inputs.array.read-only-label":"This field is read-only","inputs.array.resolving-initial-value":"Resolving initial value","inputs.boolean.disabled":"Disabled","inputs.datetime.placeholder":"e.g. {{example}}","inputs.file.actions-menu.file-options.aria-label":"Open file options menu","inputs.file.browse-button.text":"Browse","inputs.file.dialog.title":"Select file","inputs.file.error.unknown-member-kind":"Unknown member kind: {{kind}}","inputs.file.invalid-file-warning.description":"The value of this field is not a valid file. Resetting this field will let you choose a new file.","inputs.file.invalid-file-warning.reset-button.text":"Reset value","inputs.file.invalid-file-warning.title":"Invalid file value","inputs.file.multi-browse-button.text":"Select","inputs.file.upload-failed.description":"The upload could not be completed at this time.","inputs.file.upload-failed.title":"Upload failed","inputs.files.common.actions-menu.clear-field.label":"Clear field","inputs.files.common.actions-menu.copy-url.label":"Copy URL","inputs.files.common.actions-menu.download.label":"Download","inputs.files.common.actions-menu.notification.url-copied":"The URL is copied to the clipboard","inputs.files.common.actions-menu.replace.label":"Replace","inputs.files.common.actions-menu.upload.label":"Upload","inputs.files.common.drop-message.drop-to-upload":"Drop to upload","inputs.files.common.drop-message.drop-to-upload-multi_one":"Drop to upload {{count}} file","inputs.files.common.drop-message.drop-to-upload-multi_other":"Drop to upload {{count}} files","inputs.files.common.drop-message.drop-to-upload.no-accepted-file-message_one":"Can't upload this file here","inputs.files.common.drop-message.drop-to-upload.no-accepted-file-message_other":"Can't upload any of these files here","inputs.files.common.drop-message.drop-to-upload.rejected-file-message_one":"{{count}} file can't be uploaded here","inputs.files.common.drop-message.drop-to-upload.rejected-file-message_other":"{{count}} files can't be uploaded here","inputs.files.common.placeholder.cannot-upload-some-files_one":"Cannot upload file","inputs.files.common.placeholder.cannot-upload-some-files_other":"Cannot upload {{count}} files","inputs.files.common.placeholder.drag-or-paste-to-upload_file":"Drag or paste file here","inputs.files.common.placeholder.drag-or-paste-to-upload_image":"Drag or paste image here","inputs.files.common.placeholder.drop-to-upload_file":"Drop to upload file","inputs.files.common.placeholder.drop-to-upload_image":"Drop to upload image","inputs.files.common.placeholder.read-only":"Read only","inputs.files.common.placeholder.upload-not-supported":"Can't upload files here","inputs.files.common.stale-upload-warning.clear":"Clear upload","inputs.files.common.stale-upload-warning.description":"An upload has made no progress for at least {{staleThresholdMinutes}} minutes and likely got interrupted. You can safely clear the incomplete upload and try uploading again.","inputs.files.common.stale-upload-warning.title":"Incomplete upload","inputs.image.actions-menu.crop-image-tooltip":"Crop image","inputs.image.actions-menu.edit-details.aria-label":"Open image edit dialog","inputs.image.actions-menu.options.aria-label":"Open image options menu","inputs.image.browse-menu.text":"Select","inputs.image.drag-overlay.cannot-upload-here":"Cannot upload this file here","inputs.image.drag-overlay.drop-to-upload-image":"Drop image to upload","inputs.image.drag-overlay.this-field-is-read-only":"This field is read only","inputs.image.error.unknown-member-kind":"Unknown member kind: {{kind}}","inputs.image.hotspot-dialog.title":"Edit hotspot and crop","inputs.image.invalid-image-warning.description":"The value of this field is not a valid image. Resetting this field will let you choose a new image.","inputs.image.invalid-image-warning.reset-button.text":"Reset value","inputs.image.invalid-image-warning.title":"Invalid image value","inputs.image.preview-uploaded-image":"Preview of uploaded image","inputs.image.upload-error.description":"The upload could not be completed at this time.","inputs.image.upload-error.title":"Upload failed","inputs.imagetool.description":"Adjust the rectangle to crop image. Adjust the circle to specify the area that should always be visible.","inputs.imagetool.load-error":"Error: {{errorMessage}}","inputs.imagetool.title":"Hotspot & Crop","inputs.invalid-value.convert-button.text":"Convert to {{targetType}}","inputs.invalid-value.current-type":"The current value (<code>{{actualType}}</code>)","inputs.invalid-value.description":"The property value is stored as a value type that does not match the expected type.","inputs.invalid-value.details.description":"The value of this property must be of type <code>{{validType}}</code> according to the schema.","inputs.invalid-value.details.multi-type-description":"Only the following types are valid here according to schema:","inputs.invalid-value.details.possible-reason":"Mismatching value types typically occur when the schema has recently been changed.","inputs.invalid-value.details.title":"Developer info","inputs.invalid-value.reset-button.text":"Reset value","inputs.invalid-value.title":"Invalid property value","inputs.object.field-group-tabs.all-fields-title":"All fields","inputs.object.field-group-tabs.aria-label":"Field groups","inputs.object.unknown-fields.read-only.description":"This field is <strong>read only</strong> according to the documents schema and cannot be unset. If you want to be able to unset this in Studio, make sure you remove the <code>readOnly</code> field from the enclosing type in the schema.","inputs.object.unknown-fields.remove-field-button.text":"Remove field","inputs.object.unknown-fields.warning.description_one":"Encountered a field that is not defined in the schema.","inputs.object.unknown-fields.warning.description_other":"Encountered {{count}} fields that are not defined in the schema.","inputs.object.unknown-fields.warning.details.description_one":"This field is not defined in the schema, which could mean that the field definition has been removed or that someone else has added it to their own local project and have not deployed their changes yet.","inputs.object.unknown-fields.warning.details.description_other":"These fields are not defined in the documents schema, which could mean that the field definitions have been removed or that someone else has added them to their own local project and have not deployed their changes yet.","inputs.object.unknown-fields.warning.details.title":"Developer info","inputs.object.unknown-fields.warning.title_one":"Unknown field found","inputs.object.unknown-fields.warning.title_other":"Unknown fields found","inputs.portable-text.action.collapse-editor":"Collapse editor","inputs.portable-text.action.edit-annotation-aria-label":"Edit annotation","inputs.portable-text.action.expand-editor":"Expand editor","inputs.portable-text.action.insert-block":"Insert {{typeName}}","inputs.portable-text.action.insert-block-aria-label":"Insert {{typeName}} (block)","inputs.portable-text.action.insert-inline-object":"Insert {{typeName}}","inputs.portable-text.action.insert-inline-object-aria-label":"Insert {{typeName}} (inline)","inputs.portable-text.action.remove-annotation-aria-label":"Remove annotation","inputs.portable-text.activate-on-focus-message_click":"Click to activate","inputs.portable-text.activate-on-focus-message_click-focused":"Click or press space to activate","inputs.portable-text.activate-on-focus-message_tap":"Tap to activate","inputs.portable-text.annotation-aria-label":"Annotation object","inputs.portable-text.annotation-editor.title":"Edit {{schemaType}}","inputs.portable-text.annotation.link":"Link","inputs.portable-text.block.aria-label":"Block object","inputs.portable-text.block.edit":"Edit","inputs.portable-text.block.open-menu-aria-label":"Open menu","inputs.portable-text.block.open-reference":"Open reference","inputs.portable-text.block.remove":"Remove","inputs.portable-text.block.view":"View","inputs.portable-text.decorator.code":"Code","inputs.portable-text.decorator.emphasis":"Italic","inputs.portable-text.decorator.strike-through":"Strike","inputs.portable-text.decorator.strong":"Strong","inputs.portable-text.decorator.underline":"Underline","inputs.portable-text.empty-placeholder":"Empty","inputs.portable-text.inline-block.aria-label":"Inline object","inputs.portable-text.inline-object.edit":"Edit object","inputs.portable-text.inline-object.edit-aria-label":"Edit object","inputs.portable-text.inline-object.remove":"Remove object","inputs.portable-text.inline-object.remove-aria-label":"Remove object","inputs.portable-text.invalid-value.action-disclaimer":"NOTE: Its generally safe to perform the action above, but if you are in doubt, get in touch with those responsible for configuring your studio.","inputs.portable-text.invalid-value.disallowed-child-type.action":"Remove the object","inputs.portable-text.invalid-value.disallowed-child-type.description":"Child with key {{childKey}} of block with key <code>{{key}}</code> is of type <code>{{childType}}</code>, which is not allowed by the schema.","inputs.portable-text.invalid-value.disallowed-type.action":"Remove the block","inputs.portable-text.invalid-value.disallowed-type.description":"Block with key <code>{{key}}</code> is of type <code>{{typeName}}</code>, which is not allowed by the schema.","inputs.portable-text.invalid-value.empty-children.action":"Insert empty text span","inputs.portable-text.invalid-value.empty-children.description":"Text block with key <code>{{key}}</code> has no text spans.","inputs.portable-text.invalid-value.ignore-button.text":"Ignore","inputs.portable-text.invalid-value.incorrect-block-type.action":"Use type <code>{{expectedTypeName}}</code>","inputs.portable-text.invalid-value.incorrect-block-type.description":"Block with key <code>{{key}}</code> has an invalid type name. According to the schema, it should be <code>{{expectedTypeName}}</code>.","inputs.portable-text.invalid-value.invalid-span-text.action":"Set empty text value","inputs.portable-text.invalid-value.invalid-span-text.description":"Span with key {{childKey}} of block with key <code>{{key}}</code> has a missing or invalid <code>text</code> property.","inputs.portable-text.invalid-value.missing-block-type.action":"Use type <code>{{expectedTypeName}}</code>","inputs.portable-text.invalid-value.missing-block-type.description":"Block with key <code>{{key}}</code> is missing a type name. According to the schema, it should be <code>{{expectedTypeName}}</code>.","inputs.portable-text.invalid-value.missing-child-key.action":"Assign random key","inputs.portable-text.invalid-value.missing-child-key.description":"Child at index <code>{{index}}</code> of block with key <code>{{key}}</code> is missing <code>_key</code> property.","inputs.portable-text.invalid-value.missing-child-type.action":"Remove the object","inputs.portable-text.invalid-value.missing-child-type.description":"Child with key {{childKey}} of block with key <code>{{key}}</code> is missing <code>_type</code> property.","inputs.portable-text.invalid-value.missing-key.action":"Assign random key","inputs.portable-text.invalid-value.missing-key.description":"Block at index <code>{{index}}</code> is missing required <code>_key</code> property.","inputs.portable-text.invalid-value.missing-or-invalid-children.action":"Remove the block","inputs.portable-text.invalid-value.missing-or-invalid-children.description":"Text block with key <code>{{key}}</code> has an invalid or missing `children` property.","inputs.portable-text.invalid-value.missing-or-invalid-markdefs.action":"Add property","inputs.portable-text.invalid-value.missing-or-invalid-markdefs.description":"Text block with key <code>{{key}}</code> has an invalid or missing `markDefs` property.","inputs.portable-text.invalid-value.missing-type.action":"Remove the block","inputs.portable-text.invalid-value.missing-type.description":"Block with key <code>{{key}}</code> is missing a type name.","inputs.portable-text.invalid-value.non-object-child.action":"Remove the item","inputs.portable-text.invalid-value.non-object-child.description":"Child at index <code>{{index}}</code> of block with key <code>{{key}}</code> is not an object.","inputs.portable-text.invalid-value.not-an-array.action":"Unset the value","inputs.portable-text.invalid-value.not-an-array.description":"Value must be an array of Portable Text blocks, or undefined.","inputs.portable-text.invalid-value.not-an-object.action":"Remove item","inputs.portable-text.invalid-value.not-an-object.description":"Item at <code>{{index}}</code> is not an object,.","inputs.portable-text.invalid-value.orphaned-marks.action":"Remove disallowed marks","inputs.portable-text.invalid-value.orphaned-marks.description":"Text block with key <code>{{key}}</code> contains marks <code>({{orphanedMarks, list}})</code> that are not allowed by the schema.","inputs.portable-text.invalid-value.title":"Invalid Portable Text value","inputs.portable-text.list-type.bullet":"Bulleted list","inputs.portable-text.list-type.number":"Numbered list","inputs.portable-text.style.h1":"Heading 1","inputs.portable-text.style.h2":"Heading 2","inputs.portable-text.style.h3":"Heading 3","inputs.portable-text.style.h4":"Heading 4","inputs.portable-text.style.h5":"Heading 5","inputs.portable-text.style.h6":"Heading 6","inputs.portable-text.style.multiple":"Multiple","inputs.portable-text.style.none":"No style","inputs.portable-text.style.normal":"Normal","inputs.portable-text.style.quote":"Quote","inputs.reference.action.clear":"Clear","inputs.reference.action.copy":"Copy","inputs.reference.action.create-new-document":"Create","inputs.reference.action.create-new-document-select":"Create","inputs.reference.action.duplicate":"Duplicate","inputs.reference.action.open-in-new-tab":"Open in new tab","inputs.reference.action.remove":"Remove","inputs.reference.action.replace":"Replace","inputs.reference.action.replace-cancel":"Cancel replace","inputs.reference.cross-dataset.feature-disabled-actions":"You can still clear this field's existing reference, but it cannot be changed to a different document as long as the feature is disabled.","inputs.reference.cross-dataset.feature-disabled-description":"This feature has been disabled. Read how to enable it in <DocumentationLink>the documentation</DocumentationLink>.","inputs.reference.cross-dataset.feature-unavailable-title":"Unavailable feature: Cross dataset reference","inputs.reference.cross-dataset.invalid-type":"The referenced document is of invalid type ({{typeName}}) <JsonValue/>","inputs.reference.document-opens-in-new-tab":"This document opens in a new tab","inputs.reference.error.document-unavailable-title":"Document unavailable","inputs.reference.error.failed-to-load-document-title":"Failed to load referenced document","inputs.reference.error.invalid-search-result-type-title":`Search returned a type that's not valid for this reference: "{{returnedType}}"`,"inputs.reference.error.invalid-type-description":"Referenced document (<code>{{documentId}}</code>) is of type <code>{{actualType}}</code>. According to the schema, referenced documents can only be of type <AllowedTypes />.","inputs.reference.error.invalid-type-title":"Document of invalid type","inputs.reference.error.missing-read-permissions-description":"The referenced document could not be accessed due to insufficient permissions","inputs.reference.error.missing-read-permissions-title":"Insufficient permissions","inputs.reference.error.nonexistent-document-description":"The referenced document does not exist (ID: <code>{{documentId}}</code>). You can either remove the reference or replace it with another document.","inputs.reference.error.nonexistent-document-title":"Not found","inputs.reference.error.nonexistent-document.clear-button-label":"Clear","inputs.reference.error.search-failed-title":"Reference search failed","inputs.reference.image-preview-alt-text":"Image preview of referenced document","inputs.reference.incomplete-reference.finalize-action-description":"<strong>{{referencedDocument}}</strong> is published and this reference should now be finalized.","inputs.reference.incomplete-reference.finalize-action-title":"Finalize reference","inputs.reference.incomplete-reference.strengthen-action-description":"<strong>{{referencedDocument}}</strong> is published and this reference should now be converted to a strong reference.","inputs.reference.incomplete-reference.strengthen-action-title":"Convert to strong reference","inputs.reference.incomplete-reference.strengthen-button-label":"Convert to strong reference","inputs.reference.metadata-error.retry-button-label":"Retry","inputs.reference.metadata-error.title":"Unable to load reference metadata","inputs.reference.no-results-for-query":"No results for <strong>{{searchTerm}}</strong>","inputs.reference.preview.edited-at-time":"Edited <RelativeTime/>","inputs.reference.preview.has-no-unpublished-changes-aria-label":"No unpublished edits","inputs.reference.preview.has-unpublished-changes-aria-label":"Edited","inputs.reference.preview.is-not-published-aria-label":"Not published","inputs.reference.preview.is-published-aria-label":"Published","inputs.reference.preview.no-unpublished-edits":"No unpublished edits","inputs.reference.preview.not-published":"Not published","inputs.reference.preview.published-at-time":"Published <RelativeTime/>","inputs.reference.referenced-document-does-not-exist":"The referenced document no longer exist and might have been deleted (document ID: <code>{{documentId}}</code>).","inputs.reference.referenced-document-insufficient-permissions":"The referenced document could not be accessed due to insufficient permissions","inputs.reference.resolving-initial-value":"Resolving initial value","inputs.reference.search-placeholder":"Type to search","inputs.reference.strength-mismatch.is-strong-consquences":"It will not be possible to delete the reference document without first removing this reference or converting it to weak.","inputs.reference.strength-mismatch.is-strong-description":"This reference is <em>strong</em>, but according to the current schema it should be <em>weak</em>.","inputs.reference.strength-mismatch.is-weak-consquences":"This makes it possible to delete the referenced document without first deleting this reference, leaving this field referencing a nonexisting document.","inputs.reference.strength-mismatch.is-weak-description":"This reference is <em>weak</em>, but according to the current schema it should be <em>strong</em>.","inputs.reference.strength-mismatch.strengthen-button-label":"Convert to strong reference","inputs.reference.strength-mismatch.title":"Reference strength mismatch","inputs.reference.strength-mismatch.weaken-button-label":"Convert to weak reference","inputs.slug.action.generate":"Generate","inputs.slug.action.generating":"Generating","inputs.slug.error.missing-source":"Source is missing. Check source on type {{schemaType}} in schema","inputs.tags.placeholder":"Enter tag and press ENTER","inputs.tags.placeholder_touch":"Enter tag","inputs.untyped-value.convert-button.text":"Convert to {{targetType}}","inputs.untyped-value.description":"Encountered an object value without a <code>_type</code> property.","inputs.untyped-value.details.description":"Either remove the <code>name</code> property of the object declaration, or set <code>_type</code> property on items.","inputs.untyped-value.details.json-dump-prefix":"Current value (<code>object</code>):","inputs.untyped-value.details.multi-type-description":"The following types are valid here according to schema:","inputs.untyped-value.details.title":"Developer info","inputs.untyped-value.title":"Property value missing <code>_type</code>","inputs.untyped-value.unset-item-button.text":"Unset value","insufficient-permissions-message.not-authorized-explanation":"You do not have permission to access this feature.","insufficient-permissions-message.not-authorized-explanation_create-any-document":"You do not have permission to create a document.","insufficient-permissions-message.not-authorized-explanation_create-document":"You do not have permission to create this document.","insufficient-permissions-message.not-authorized-explanation_create-document-type":"You do not have permission to create this kind of document.","insufficient-permissions-message.not-authorized-explanation_create-new-reference":"You do not have permission to create a new reference.","insufficient-permissions-message.not-authorized-explanation_delete-document":"You do not have permission to delete this document.","insufficient-permissions-message.not-authorized-explanation_delete-schedules":"You do not have permission to delete schedules.","insufficient-permissions-message.not-authorized-explanation_discard-changes":"You do not have permission to discard changes in this document.","insufficient-permissions-message.not-authorized-explanation_duplicate-document":"You do not have permission to duplicate this document.","insufficient-permissions-message.not-authorized-explanation_edit-schedules":"You do not have permission to edit schedules.","insufficient-permissions-message.not-authorized-explanation_execute-schedules":"You do not have permission to execute schedules.","insufficient-permissions-message.not-authorized-explanation_publish-document":"You do not have permission to publish this document.","insufficient-permissions-message.not-authorized-explanation_unpublish-document":"You do not have permission to unpublish this document.","insufficient-permissions-message.roles":"Your roles: <Roles/>","insufficient-permissions-message.title":"Insufficient permissions","member-field-error.unexpected-error":"Unexpected error: {{error}}","new-document.button":"Create","new-document.create-new-document-label":"New document","new-document.filter-placeholder":"Search document types","new-document.loading":"Loading","new-document.new-document-aria-label":"New document","new-document.no-document-types-found":"No document types found","new-document.no-document-types-label":"No document types","new-document.no-results":"No results for <strong>{{searchQuery}}</strong>","new-document.open-dialog-aria-label":"Create new document","new-document.title":"Create new document","package-version.new-package-available.reload-button":"Push to reload","package-version.new-package-available.title":"Sanity Studio is ready to update!","presence.action.manage-members":"Invite members","presence.aria-label":"Global presence","presence.no-one-else-description":"Invite people to the project to see their online status.","presence.no-one-else-title":"No one else is here","presence.not-in-a-document":"Not in a document","presence.tooltip-content":"Who is here","preview.default.title-fallback":"Untitled","preview.fallback.no-value":"(no value)","preview.image.file-is-being-uploaded.alt-text":"The image currently being uploaded","relative-time.just-now":"just now","search.action-open-aria-label":"Open search","search.action.add-filter":"Add filter","search.action.clear-filters":"Clear filters","search.action.clear-recent-searches":"Clear recent searches","search.action.clear-type-filters-aria-label":"Clear checked filters","search.action.clear-type-filters-label":"Clear","search.action.close-search-aria-label":"Close search","search.action.filter-by-document-type-aria-label":"Filter by document type","search.action.remove-filter-aria-label":"Remove filter","search.action.search-all-types":"Search all documents","search.action.search-specific-types":"Search for {{types, list}}","search.action.search-specific-types-truncated":"Search for {{types, list}} +{{count}} more","search.action.select-asset":"Select asset","search.action.select-asset_file":"Select file","search.action.select-asset_image":"Select image","search.action.toggle-filters-aria-label_hide":"Hide filters","search.action.toggle-filters-aria-label_show":"Show filters","search.action.toggle-filters-label_hide":"Hide filters","search.action.toggle-filters-label_show":"Show filters","search.button.tooltip":"Search","search.document-type-list":"{{types, list}}","search.document-type-list-all-types":"All types","search.document-type-list-truncated":"{{types, list}} +{{count}} more","search.document-types-aria-label":"Document types","search.document-types-no-matches-found":"No matches for {{filter}}","search.error.display-filter-description":"This may indicate invalid options defined in your schema.","search.error.display-filter-title":"An error occurred whilst displaying this filter.","search.error.no-valid-asset-source-check-config-description":"Please ensure it's enabled in your studio configuration file.","search.error.no-valid-asset-source-only-default-description":"Currently, only the default asset source is supported.","search.error.no-valid-asset-source-title":"No valid asset sources found.","search.error.unspecified-error-help-description":"Please try again or check your connection","search.error.unspecified-error-title":"Something went wrong while searching","search.filter-all-fields-header":"All fields","search.filter-asset-change_file":"Change file","search.filter-asset-change_image":"Change image","search.filter-asset-clear":"Clear","search.filter-asset-select_file":"Select file","search.filter-asset-select_image":"Select image","search.filter-boolean-false":"False","search.filter-boolean-true":"True","search.filter-by-title-aria-label":"Filter by title","search.filter-date-aria-label":"Date","search.filter-date-range-end-date-aria-label":"End date","search.filter-date-range-start-date-aria-label":"Start date","search.filter-date-unit-aria-label":"Select unit","search.filter-date-unit_days":"Days","search.filter-date-unit_months":"Months","search.filter-date-unit_years":"Years","search.filter-date-value-aria-label":"Unit value","search.filter-field-tooltip-description":"Field description","search.filter-field-tooltip-name":"Field name","search.filter-field-tooltip-used-in-document-types":"Used in document types","search.filter-no-matches-found":"No matches for {{filter}}","search.filter-number-max-value-placeholder":"Max value","search.filter-number-min-value-placeholder":"Min value","search.filter-number-value-placeholder":"Value","search.filter-placeholder":"Filter","search.filter-reference-clear":"Clear","search.filter-shared-fields-header":"Shared fields","search.filter-string-value-placeholder":"Value","search.filter-string-value-select-predefined-value":"Select","search.filters-aria-label_one":"Filter","search.filters-aria-label_other":"Filters","search.instructions":"Use <ControlsIcon/> to refine your search","search.no-results-help-description":"Try another keyword or adjust your filters","search.no-results-title":"No results found","search.operator.array-count-equal.description_one":"<Field/> <Operator>has</Operator> <Value>{{count}} item</Value>","search.operator.array-count-equal.description_other":"<Field/> <Operator>has</Operator> <Value>{{count}} items</Value>","search.operator.array-count-equal.name":"quantity is","search.operator.array-count-gt.description_one":"<Field/> <Operator>has ></Operator> <Value>{{count}} item</Value>","search.operator.array-count-gt.description_other":"<Field/> <Operator>has ></Operator> <Value>{{count}} items</Value>","search.operator.array-count-gt.name":"quantity greater than","search.operator.array-count-gte.description_one":"<Field/> <Operator>has </Operator> <Value>{{count}} item</Value>","search.operator.array-count-gte.description_other":"<Field/> <Operator>has </Operator> <Value>{{count}} items</Value>","search.operator.array-count-gte.name":"quantity greater than or equal to","search.operator.array-count-lt.description_one":"<Field/> <Operator>has <</Operator> <Value>{{count}} item</Value>","search.operator.array-count-lt.description_other":"<Field/> <Operator>has <</Operator> <Value>{{count}} items</Value>","search.operator.array-count-lt.name":"quantity less than","search.operator.array-count-lte.description_one":"<Field/> <Operator>has </Operator> <Value>{{count}} item</Value>","search.operator.array-count-lte.description_other":"<Field/> <Operator>has </Operator> <Value>{{count}} items</Value>","search.operator.array-count-lte.name":"quantity less than or equal to","search.operator.array-count-not-equal.description_one":"<Field/> <Operator>does not have</Operator> <Value>{{count}} item</Value>","search.operator.array-count-not-equal.description_other":"<Field/> <Operator>does not have</Operator> <Value>{{count}} items</Value>","search.operator.array-count-not-equal.name":"quantity is not","search.operator.array-count-range.description":"<Field/> <Operator>has between</Operator> <Value>{{from}}  {{to}} items</Value>","search.operator.array-count-range.name":"quantity is between","search.operator.array-list-includes.description":"<Field/> <Operator>includes</Operator> <Value>{{value}}</Value>","search.operator.array-list-includes.name":"includes","search.operator.array-list-not-includes.description":"<Field/> <Operator>does not include</Operator> <Value>{{value}}</Value>","search.operator.array-list-not-includes.name":"does not include","search.operator.array-reference-includes.description":"<Field/> <Operator>includes</Operator> <Value>{{value}}</Value>","search.operator.array-reference-includes.name":"includes","search.operator.array-reference-not-includes.description":"<Field/> <Operator>does not include</Operator> <Value>{{value}}</Value>","search.operator.array-reference-not-includes.name":"does not include","search.operator.asset-file-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.asset-file-equal.name":"is","search.operator.asset-file-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.asset-file-not-equal.name":"is not","search.operator.asset-image-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.asset-image-equal.name":"is","search.operator.asset-image-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.asset-image-not-equal.name":"is not","search.operator.boolean-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.boolean-equal.name":"is","search.operator.date-after.description":"<Field/> <Operator>is after</Operator> <Value>{{value}}</Value>","search.operator.date-after.name":"after","search.operator.date-before.description":"<Field/> <Operator>is before</Operator> <Value>{{value}}</Value>","search.operator.date-before.name":"before","search.operator.date-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.date-equal.name":"is","search.operator.date-last.description":"<Field/> <Operator>is in the last</Operator> <Value>{{value}}</Value>","search.operator.date-last.name":"last","search.operator.date-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.date-not-equal.name":"is not","search.operator.date-range.description":"<Field/> <Operator>is between</Operator> <Value/>","search.operator.date-range.name":"is between","search.operator.date-time-after.description":"<Field/> <Operator>is after</Operator> <Value>{{value}}</Value>","search.operator.date-time-after.name":"after","search.operator.date-time-before.description":"<Field/> <Operator>is before</Operator> <Value>{{value}}</Value>","search.operator.date-time-before.name":"before","search.operator.date-time-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.date-time-equal.name":"is","search.operator.date-time-last.description":"<Field/> <Operator>is in the last</Operator> <Value>{{value}}</Value>","search.operator.date-time-last.name":"last","search.operator.date-time-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.date-time-not-equal.name":"is not","search.operator.date-time-range.description":"<Field/> <Operator>is between</Operator> <Value/>","search.operator.date-time-range.name":"is between","search.operator.defined.description":"<Field/> <Operator>is</Operator> <Value>not empty</Value>","search.operator.defined.name":"not empty","search.operator.not-defined.description":"<Field/> <Operator>is</Operator> <Value>empty</Value>","search.operator.not-defined.name":"empty","search.operator.number-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.number-equal.name":"is","search.operator.number-gt.description":"<Field/> <Operator>></Operator> <Value>{{value}}</Value>","search.operator.number-gt.name":"greater than","search.operator.number-gte.description":"<Field/> <Operator></Operator> <Value>{{value}}</Value>","search.operator.number-gte.name":"greater than or equal to","search.operator.number-lt.description":"<Field/> <Operator><</Operator> <Value>{{value}}</Value>","search.operator.number-lt.name":"less than","search.operator.number-lte.description":"<Field/> <Operator></Operator> <Value>{{value}}</Value>","search.operator.number-lte.name":"less than or equal to","search.operator.number-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.number-not-equal.name":"is not","search.operator.number-range.description":"<Field/> <Operator>is between</Operator> <Value>{{from}}  {{to}}</Value>","search.operator.number-range.name":"is between","search.operator.portable-text-contains.description":"<Field/> <Operator>contains</Operator> <Value>{{value}}</Value>","search.operator.portable-text-contains.name":"contains","search.operator.portable-text-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.portable-text-equal.name":"is","search.operator.portable-text-not-contains.description":"<Field/> <Operator>does not contain</Operator> <Value>{{value}}</Value>","search.operator.portable-text-not-contains.name":"does not contain","search.operator.portable-text-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.portable-text-not-equal.name":"is not","search.operator.reference-asset-file.description":"<Field/> <Operator></Operator> <Value>{{value}}</Value>","search.operator.reference-asset-file.name":"file","search.operator.reference-asset-image.description":"<Field/> <Operator></Operator> <Value>{{value}}</Value>","search.operator.reference-asset-image.name":"image","search.operator.reference-document.description":"<Field/> <Operator></Operator> <Value>{{value}}</Value>","search.operator.reference-document.name":"document","search.operator.reference-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.reference-equal.name":"is","search.operator.reference-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.reference-not-equal.name":"is not","search.operator.slug-contains.description":"<Field/> <Operator>contains</Operator> <Value>{{value}}</Value>","search.operator.slug-contains.name":"contains","search.operator.slug-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.slug-equal.name":"is","search.operator.slug-not-contains.description":"<Field/> <Operator>does not contain</Operator> <Value>{{value}}</Value>","search.operator.slug-not-contains.name":"does not contain","search.operator.slug-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.slug-not-equal.name":"is not","search.operator.string-contains.description":"<Field/> <Operator>contains</Operator> <Value>{{value}}</Value>","search.operator.string-contains.name":"contains","search.operator.string-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.string-equal.name":"is","search.operator.string-list-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.string-list-equal.name":"is","search.operator.string-list-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.string-list-not-equal.name":"is not","search.operator.string-not-contains.description":"<Field/> <Operator>does not contain</Operator> <Value>{{value}}</Value>","search.operator.string-not-contains.name":"does not contain","search.operator.string-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.string-not-equal.name":"is not","search.ordering.best-match-label":"Best match","search.ordering.created-ascending-label":"Created: Oldest first","search.ordering.created-descending-label":"Created: Newest first","search.ordering.updated-ascending-label":"Updated: Oldest first","search.ordering.updated-descending-label":"Updated: Newest first","search.placeholder":"Search","search.recent-searches-aria-label":"Recent searches","search.recent-searches-label":"Recent searches","search.search-results-aria-label":"Search results","sheet-list.edit-columns":"Edit columns","sheet-list.hide-field":"Remove from table","sheet-list.reset-columns":"Reset columns","sheet-list.select-fields":"Select up to 5 field types","status-button.aria-label":"Configuration status","timeline.error.load-document-changes-description":"Document history transactions have not been affected.","timeline.error.load-document-changes-title":"An error occurred whilst retrieving document changes.","timeline.error.no-document-history-description":"When changing the content of the document, the document versions will appear in this menu.","timeline.error.no-document-history-title":"No document history","timeline.error.unable-to-load-revision":"Unable to load revision","timeline.latest":"Latest","timeline.latest-revision":"Latest revision","timeline.latest-version":"Latest revision","timeline.list.aria-label":"Document revisions","timeline.loading-history":"Loading history","timeline.operation.created":"Created","timeline.operation.created-initial":"Created","timeline.operation.created-initial_timestamp":"Created: {{timestamp, datetime}}","timeline.operation.created_timestamp":"Created: {{timestamp, datetime}}","timeline.operation.deleted":"Deleted","timeline.operation.deleted_timestamp":"Deleted: {{timestamp, datetime}}","timeline.operation.draft-discarded":"Discarded draft","timeline.operation.draft-discarded_timestamp":"Discarded draft: {{timestamp, datetime}}","timeline.operation.edited-draft":"Edited","timeline.operation.edited-draft_timestamp":"Edited: {{timestamp, datetime}}","timeline.operation.edited-live":"Live edited","timeline.operation.edited-live_timestamp":"Live edited: {{timestamp, datetime}}","timeline.operation.published":"Published","timeline.operation.published_timestamp":"Published: {{timestamp, datetime}}","timeline.operation.unpublished":"Unpublished","timeline.operation.unpublished_timestamp":"Unpublished: {{timestamp, datetime}}","timeline.since":"Since: {{timestamp, datetime}}","timeline.since-version-missing":"Since: unknown version","toolbar.portable-text.action-button-aria-label":"{{action}}","tree-editing-dialog.breadcrumbs.menu":"Breadcrumb menu","tree-editing-dialog.search-placeholder":"Search","tree-editing-dialog.search.menu-label":"Search menu","tree-editing-dialog.search.no-results-title":"No results found","tree-editing-dialog.sidebar.action.close":"Close sidebar","tree-editing-dialog.sidebar.action.collapse":"Collapse","tree-editing-dialog.sidebar.action.done":"Done","tree-editing-dialog.sidebar.action.expand":"Expand","tree-editing-dialog.sidebar.action.open":"Open sidebar","user-menu.action.free-trial-finished":"Upgrade from free","user-menu.action.free-trial_one":"{{count}} day left in trial","user-menu.action.free-trial_other":"{{count}} days left in trial","user-menu.action.invite-members":"Invite members","user-menu.action.invite-members-aria-label":"Invite members","user-menu.action.manage-project":"Manage project","user-menu.action.manage-project-aria-label":"Manage project","user-menu.action.portable-text.annotation-disabled_empty-block":"Cannot apply {{name}} to empty block","user-menu.action.portable-text.annotation-disabled_multiple-blocks":"Cannot apply {{name}} to multiple blocks","user-menu.action.sign-out":"Sign out","user-menu.appearance-title":"Appearance","user-menu.close-menu":"Close menu","user-menu.color-scheme.dark-description":"Use dark appearance","user-menu.color-scheme.dark-title":"Dark","user-menu.color-scheme.light-description":"Use light appearance","user-menu.color-scheme.light-title":"Light","user-menu.color-scheme.system-description":"Use system appearance","user-menu.color-scheme.system-title":"System","user-menu.locale-title":"Language","user-menu.login-provider":"Signed in with {{providerTitle}}","user-menu.open-menu":"Open menu","workspaces.action.add-workspace":"Add workspace","workspaces.action.choose-another-workspace":"Choose another workspace","workspaces.choose-your-workspace-label":"Choose your workspace","workspaces.select-workspace-aria-label":"Select workspace","workspaces.select-workspace-label":"Select workspace","workspaces.select-workspace-tooltip":"Select workspace","workspaces.title":"Workspaces"}),O_n={locale:"en-US",namespace:$x,resources:D_n},M_n=kJ("validation",{"array.exact-length":"Must have exactly {{wantedLength}} items","array.exact-length_blocks":"Must have exactly {{wantedLength}} blocks","array.item-duplicate":"Can't be a duplicate","array.maximum-length":"Must have at most {{maxLength}} items","array.maximum-length_blocks":"Must have at most {{maxLength}} blocks","array.minimum-length":"Must have at least {{minLength}} items","array.minimum-length_blocks":"Must have at least {{minLength}} blocks","date.invalid-format":"Must be a valid ISO-8601 formatted date string","date.maximum":"Must be at or before {{maxDate}}","date.minimum":"Must be at or after {{minDate}}","generic.incorrect-type":'Expected type "{{expectedType}}", got "{{actualType}}"',"generic.not-allowed":"Value did not match any allowed values","generic.not-allowed_hint":'Value "{{hint}}" did not match any allowed values',"generic.required":"Required","number.greater-than":"Must be greater than {{threshold}}","number.less-than":"Must be less than {{threshold}}","number.maximum":"Must be lower than or equal to {{maxNumber}}","number.maximum-precision":"Max precision is {{limit}}","number.minimum":"Must be greater than or equal to {{minNumber}}","number.non-integer":"Must be an integer","object.asset-required":"Asset is required","object.asset-required_file":"File is required","object.asset-required_image":"Image is required","object.not-reference":"Must be a reference to a document","object.reference-not-published":"Referenced document must be published","panel.close-button-aria-label":"Close validation","panel.no-errors-message":"No validation errors","panel.title":"Validation","slug.missing-current":"Slug must have a value","slug.not-object":"Slug must be an object","slug.not-unique":"Slug is already in use","string.email":"Must be a valid email address","string.exact-length":"Must be exactly {{wantedLength}} characters long","string.lowercase":"Must be all lowercase characters","string.maximum-length":"Must be at most {{maxLength}} characters long","string.minimum-length":"Must be at least {{minLength}} characters long","string.regex-does-not-match":'Does not match "{{name}}"-pattern',"string.regex-match":'Should not match "{{name}}"-pattern',"string.uppercase":"Must be all uppercase characters","string.url.disallowed-scheme":"Does not match allowed protocols/schemes","string.url.includes-credentials":"Username/password not allowed","string.url.invalid":"Not a valid URL","string.url.not-absolute":"Relative URLs are not allowed","string.url.not-relative":"Only relative URLs are allowed"}),P_n={locale:"en-US",namespace:A_n,resources:M_n},N8e={id:"en-US",title:"English (US)",bundles:[O_n,P_n,$_n],weekInfo:{firstDay:7,weekend:[6,7],minimalDays:1}},gc=N8e,Zw=(()=>{const e="__tmp_supports_local_storage";try{return typeof localStorage>"u"?!1:(localStorage.setItem(e,"---"),localStorage.removeItem(e),!0)}catch{return!1}})(),R_n="sanity-locale";function F_n(e,t){return Zw?localStorage.getItem(B8e(e,t))??void 0:void 0}function L_n(e,t,n){Zw&&localStorage.setItem(B8e(e,t),n)}function B8e(e,t){return[R_n,e,t].join(":")}function N_n(e){const{projectId:t,name:n,i18n:{locales:r},__internal:{i18next:i}}=er();return c.jsx(B_n,{...e,projectId:t,sourceId:n,locales:r,i18next:i})}function B_n({projectId:e,sourceId:t,locales:n,i18next:r,children:i}){const o=p.useCallback(l=>(r.on("languageChanged",l),()=>r.off("languageChanged",l)),[r]),a=p.useSyncExternalStore(o,()=>n.find(l=>r.language===l.id)||gc),s=p.useMemo(()=>({locales:n,currentLocale:a,__internal:{i18next:r},changeLocale:async l=>{L_n(e,t,l),await r.changeLanguage(l)}}),[a,r,n,e,t]);return c.jsx(p.Suspense,{fallback:c.jsx(Dn,{}),children:c.jsx(elt,{i18n:r,children:c.jsx(MH.Provider,{value:s,children:i},a.id)})})}function $R(e){const t=Array.isArray(e)?e:[e],n=JSON.stringify(t.flatMap(o=>o!=null&&o.i18n?Object.values(o.i18n).map(({ns:a})=>a):[]).filter(Ro).sort()),r=p.useMemo(()=>JSON.parse(n),[n]),{t:i}=Q(r);return p.useCallback(function(o){const{i18n:a}=o;return a?new Proxy(o,{get:(s,l)=>{const u=s[l];if(typeof l=="string"&&l in a){const{key:d,ns:f}=a[l];return i(d,{ns:f,...typeof u=="string"&&{defaultValue:u}})}return u}}):o},[i])}function yf(e){const t=p.useMemo(()=>e.i18n?Array.from(new Set(Object.values(e.i18n).map(({ns:r})=>r))).sort():[],[e.i18n]),{t:n}=Q(t);return p.useMemo(()=>{const{i18n:r}=e;return r?new Proxy(e,{get:(i,o)=>{const a=i[o];if(typeof o=="string"&&o in r){const{key:s,ns:l}=r[o];return n(s,{ns:l,...typeof a=="string"&&{defaultValue:a}})}return a}}):e},[e,n])}function jg(){return SJ().currentLocale}function SJ(){const e=p.useContext(MH);if(!e)throw new Error("Sanity LocaleContext value missing. Is this hook being used outside LocaleContext.Provider?");return e}const Xf=(()=>{const e={dateTimeFormat:VA(),listFormat:VA(),numberFormat:VA(),relativeTimeFormat:VA()};function t(o,a){const s=zA(o,a);let l=e.dateTimeFormat[s];return l||(l=new Intl.DateTimeFormat(o,a),e.dateTimeFormat[s]=l,l)}function n(o,a){const s=zA(o,a);let l=e.listFormat[s];return l||(l=new Intl.ListFormat(o,a),e.listFormat[s]=l,l)}function r(o,a){const s=zA(o,a);let l=e.numberFormat[s];return l||(l=new Intl.NumberFormat(o,a),e.numberFormat[s]=l,l)}function i(o,a){const s=zA(o,a);let l=e.relativeTimeFormat[s];return l||(l=new Intl.RelativeTimeFormat(o,a),e.relativeTimeFormat[s]=l,l)}return{dateTimeFormat:t,listFormat:n,numberFormat:r,relativeTimeFormat:i}})();function VA(){return Object.create(null)}function zA(e,t){return`${e}-${JSON.stringify(V_n(t))}`}function V_n(e){const t=[];for(const[n,r]of Object.entries(e))t.push(`${n}=${JSON.stringify(r)}`);return t.sort().join(`
`)}function b0(e={}){var n;const t=(n=p.useContext(MH))==null?void 0:n.currentLocale.id;return t?Xf.listFormat(t,e):Xf.listFormat("en-US",{...e,style:"narrow"})}const z_n=/^<(?<tag>[^\s\d<][^/?><]+)\/?>/,U_n=/<\/(?<tag>[^>]+)>/,H_n=/<[^>]+\/>/,W_n=/^[A-Z][A-Za-z0-9]+$/,G_n=/^[a-z]+$/,K_n=/{{\s*?([^}]+)\s*?}}/g;function Y_n(e){const t=[];let n="",r="",i=e;for(;i.length>0;)if(!r&&i[0]==="<"){const o=X_n(i);if(o){const a=o.groups.tag;Q_n(a),n&&(t.push(...NL(n)),n=""),Z_n(o[0])?t.push({type:"tagOpen",selfClosing:!0,name:a}):(t.push({type:"tagOpen",name:a}),r=a),i=i.slice(o[0].length)}else n+=i[0],i=i.slice(1)}else if(r&&i[0]==="<"&&i[1]!=="<"){const o=J_n(i);if(o){const a=o.groups.tag;if(i[1]!=="/")throw new Error(`Expected closing tag for <${r}>, but found new opening tag <${a}>. Nested tags is not supported.`);if(a!==r)throw new Error(`Expected closing tag for <${r}>, but found closing tag </${a}> instead. Make sure each opening tag has a matching closing tag.`);n&&(t.push(...NL(n)),n=""),t.push({type:"tagClose",name:a}),r="",i=i.slice(o[0].length)}else n+=i[0],i=i.slice(1)}else n+=i[0],i=i.slice(1);if(r)throw new Error(`No matching closing tag for <${r}> found. Either make it self closing (e.g. "<${r}/>") or close it (e.g "<${r}>...</${r}>").`);return n&&t.push(...NL(n)),t}function NL(e){const t=[],n=e.matchAll(K_n);let r=0;for(const i of n){if(typeof i.index>"u")continue;const o=e.slice(r,i.index);o.length>0&&t.push({type:"text",text:o}),t.push(q_n(i[0])),r+=o.length+i[0].length}return r<e.length&&t.push({type:"text",text:e.slice(r)}),t}function q_n(e){const[t,...n]=e.replace(/^\{\{|\}\}$/g,"").trim().split(/\s*,\s*/);if(n.length===1&&n[0]==="list")return{type:"interpolation",variable:t,formatters:n};if(n.length>0)throw new Error(`Interpolations with formatters are not supported when using <Translate>. Found "${e}". Utilize "useTranslation" instead, or format the values passed to <Translate> ahead of time.`);return{type:"interpolation",variable:t}}function Z_n(e){return H_n.test(e)}function X_n(e){return e.match(z_n)}function J_n(e){return e.match(U_n)}function Q_n(e){if(!(W_n.test(e)||G_n.test(e)))throw new Error(e.trim()===e?`Invalid tag "<${e}>". Tag names must be lowercase HTML tags or start with an uppercase letter and can only include letters and numbers.`:`Invalid tag "<${e}>". No whitespace allowed in tags.`)}const eTn=/^[A-Z]/,tTn=["abbr","address","cite","code","del","em","ins","kbd","q","samp","strong","sub","sup"];function wt(e){const t=e.t(e.i18nKey,{context:e.context,skipInterpolation:!0,count:e.values&&"count"in e.values&&typeof e.values.count=="number"?e.values.count:void 0}),n=p.useMemo(()=>Y_n(t),[t]),r=b0(),i={list:o=>r.format(o)};return c.jsx(c.Fragment,{children:Np(n,e.values,e.components||{},i)})}function Np(e,t,n,r){const[i,...o]=e;if(!i)return null;if(i.type==="interpolation"){const a=t?t[i.variable]:void 0;if(typeof a>"u")return`{{${i.variable}}}`;const s=nTn(a,i.formatters||[],r);return c.jsxs(c.Fragment,{children:[s,Np(o,t,n,r)]})}if(i.type==="text")return c.jsxs(c.Fragment,{children:[i.text,Np(o,t,n,r)]});if(i.type==="tagOpen"&&i.selfClosing){const a=n[i.name];if(!a)throw new Error(`Component not found: ${i.name}`);return c.jsxs(c.Fragment,{children:[c.jsx(a,{}),Np(o,t,n,r)]})}if(i.type==="tagOpen"&&!i.selfClosing){const a=o.findIndex(f=>f.type==="tagClose"),s=o[a];if(s&&i.name!==s.name)throw new Error("Nested tags is not allowed");const l=n[i.name];if(!l&&eTn.test(i.name))throw new Error(`Component not defined: ${i.name}`);if(!l&&!tTn.includes(i.name))throw new Error(`HTML tag "${i.name}" is not allowed`);const u=o.slice(0,a),d=o.slice(a+1);return l?c.jsxs(c.Fragment,{children:[c.jsx(l,{children:Np(u,t,n,r)}),Np(d,t,n,r)]}):c.jsxs(c.Fragment,{children:[p.createElement(i.name,{},Np(u,t,n,r)),Np(d,t,n,r)]})}return null}function nTn(e,t,n){let r=e;for(const i of t)if(i==="list")if(Array.isArray(e))r=n.list(e);else throw new Error("List formatter used on non-array value");return`${r}`}const rTn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,iTn=/_key\s*==\s*['"](.*)['"]/;function cr(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce((t,n,r)=>{if(rl(n))return`${t}[${n}]`;if(Cr(n)&&n._key)return`${t}[_key=="${n._key}"]`;if(Jb(n)){const[i,o]=n;return`${t}[${i}:${o}]`}if(typeof n=="string")return`${t}${r===0?"":"."}${n}`;throw new Error(`Unsupported path segment \`${JSON.stringify(n)}\``)},"")}function Oo(e,t){const n=t[0];if(typeof n>"u")return e;const r=t.slice(1);if(rl(n))return Oo(Array.isArray(e)?e[n]:void 0,r);if(Cr(n))return Oo(Array.isArray(e)?e.find(i=>i._key===n._key):void 0,r);if(typeof n=="string")return Oo(Tt(e)?e[n]:void 0,r);throw new Error(`Unknown segment type ${JSON.stringify(n)}`)}function oTn(e,t){return typeof t!="number"&&!Cr(t)?-1:typeof t=="number"?t:e.findIndex(n=>Pu(n)&&n._key===t._key)}function aTn(e){const t=e.match(rTn);if(!t)throw new Error("Invalid path string");return t.map(sTn)}function sTn(e){return rl(e)?lTn(e):Cr(e)?cTn(e):Jb(e)?uTn(e):e}function lTn(e){return Number(e.replace(/[^\d]/g,""))}function cTn(e){const t=e.match(iTn);if(!t)throw new Error("Invalid key segment");return{_key:t[1]}}function uTn(e){const[t,n]=e.split(":").map(r=>r===""?r:Number(r));return[t,n]}function V8e(e,t){return e.length!==t.length?!1:e.every((n,r)=>{const i=t[r];return Cr(n)&&Cr(i)?n._key===i._key:rl(n)?Number(n)===Number(i):Jb(n)&&Jb(i)?n[0]===i[0]&&n[1]===i[1]:n===i})}function z8e(e){return Pu(e)?e._key:void 0}function iU(e){const t=z8e(e);return t?{_key:t}:void 0}function dTn(e){return typeof e=="object"&&e!==null&&Object.keys(e).length<=0}function U8e(e,t){return e.get((t==null?void 0:t.author)||null)}function p_(e,t){const n=Array.isArray(t)?t:aTn(t);return fTn(e,n)}function fTn(e,t){const n=oU(e,t);if(n&&n.action!=="unchanged")return n.annotation||void 0}function oU(e,t,n=[]){if(t.length===0)return e;const r=t[0],i=t.slice(1);if(Jb(r))throw new Error("Index tuples are not supported in diff paths");if(rl(r)||Cr(r)){const a=rl(r)?`at index ${r}`:`with key ${r._key}`;if(e.type!=="array"){`${a}${cr(n)}`;return}const s=e.items.find(rl(r)?l=>l.toIndex===r:l=>hTn(l,r));if(!s){`${a}${cr(n)}`;return}return oU(s.diff,i,n.concat(r))}if(e.type!=="object"){`${r}${cr(n)}`;return}const o=e.fields[r];if(typeof o>"u"){`${r}${cr(n)}`;return}return oU(o,i,n.concat(r))}function hTn(e,t){const n=e.diff;return n.type!=="object"||!n.toValue?!1:n.toValue._key===t}function DR(e,t,n=[]){if(t(e,n)){if(e.type==="array"){pTn(e,t,n);return}if(e.type==="object"){mTn(e,t,n);return}e.type==="string"&&gTn(e,t,n)}}function pTn(e,t,n){e.action!=="unchanged"&&e.items.forEach(r=>{var a;const i=r.diff.type==="object"&&((a=r.diff.toValue)==null?void 0:a._key),o=i?{_key:i}:yTn(r);DR(r.diff,t,n.concat(o))})}function mTn(e,t,n){e.action!=="unchanged"&&Object.keys(e.fields).forEach(r=>{const i=e.fields[r];DR(i,t,n.concat(r))})}function gTn(e,t,n){e.action!=="unchanged"&&e.segments.forEach(r=>{DR(r,t,n)})}function yTn(e){return typeof e.toIndex>"u"?e.fromIndex||0:e.toIndex}function EJ(){const e=p.useContext(Cwe);if(!e)throw new Error("UserColorManager: missing context value");return e}function H8e(e){const t=EJ(),n=p.useMemo(()=>e?t.listen(e):ur,[t,e]);return bi(n,t.get(null))}const vTn="purple",bTn=["green","red","gray"],xTn=og.filter(e=>!bTn.includes(e)),W8e=e=>{const t=e==="dark";return{background:t?"900":"100",border:t?"700":"300",text:t?"200":"700"}},wTn=e=>{const{background:t,border:n,text:r}=W8e(e);return xTn.reduce((i,o)=>(i[o]={name:o,background:ln[o][t].hex,border:ln[o][n].hex,text:ln[o][r].hex,tints:ln[o]},i),{})},CTn=e=>{const{background:t,border:n,text:r}=W8e(e);return{name:"gray",background:ln.gray[t].hex,border:ln.gray[n].hex,text:ln.gray[r].hex,tints:ln.gray}};function kTn(e){const{anonymousColor:t,colors:n,currentUserColor:r,scheme:i}=e,o=n||wTn(i),a=t||CTn(i),s=r||vTn;if(!o.hasOwnProperty(s))throw new Error(`'colors' must contain 'currentUserColor' (${s})`);const l=Object.keys(o),u=new Map,d=new Map,f=l.reduce((T,A)=>(T[A]=0,T),{}),h=new Map;let m;return e!=null&&e.userStore&&e.userStore.me.subscribe(T=>E(T?T.id:null)),{get:g,listen:x};function g(T){return T?o[y(T)]:a}function y(T){if(T===m)return s;const A=h.get(T);if(A)return A;const I=d.get(T);if(I&&(f[I]===0||!C()))return b(T,I);const j=_(T);return f[j]===0?b(T,j):b(T,k(I))}function x(T){let A=u.get(T);if(A)return A;const I=y(T);return A=S(T,I),u.set(T,A),A}function b(T,A){return h.set(T,A),d.set(T,A),f[A]++,A}function v(T,A){h.delete(T),f[A]--}function w(){return l.find(T=>f[T]===0)}function C(){return!!w()}function k(T){let A=1/0,I=[];return l.forEach(j=>{const $=f[j];$===A?I.push(j):$<A&&(A=$,I=[j])}),T&&I.includes(T)?T:I[0]}function S(T,A){return new Lt(I=>{const j=o[A];return I.next(j),()=>{u.delete(T),v(T,A)}}).pipe(go({refCount:!0}))}function E(T){m=T,f[s]+=T?1:-1}function _(T){let A=0;for(let I=0;I<T.length;I++)A=(A<<5)-A+T.charCodeAt(I)|0;return l[Math.abs(A)%l.length]}}function STn({children:e,manager:t}){const n=bp(),r=p.useMemo(()=>t||kTn({scheme:n}),[t,n]);return c.jsx(Cwe.Provider,{value:r,children:e})}function G8e(e){const t=EJ();return U8e(t,e)}function Dx(e,t=[]){const n=EJ(),r=p.useMemo(()=>p_(e,t),[e,t]);return p.useMemo(()=>U8e(n,r),[r,n])}const en={apiVersion:"2024-05-28"};function ETn({client:e}){const t=e.withConfig(en),n=new ORe(async o=>{const a=(await t.request({uri:`/users/me/keyvalue/${o.join(",")}`,withCredentials:!0}).catch(s=>(console.error("Error fetching data:",s),Array(o.length).fill(null)))).reduce((s,l)=>(l!=null&&l.key&&(s[l.key]=l.value),s),{});return o.map(s=>a[s]||null)}),r=o=>ti(n.loadMany(o)),i=o=>ti(t.request({method:"PUT",uri:"/users/me/keyvalue",body:o,withCredentials:!0})).pipe(fe(a=>a.map(s=>(n.clear(s.key),n.prime(s.key,s.value),s.value))),En(a=>(console.error("Error setting data:",a),Se(Array(o.length).fill(null)))));return{getKey:o=>r([o]).pipe(fe(a=>a[0])),setKey:(o,a)=>i([{key:o,value:a}]).pipe(fe(s=>s[0])),getKeys:r,setKeys:i}}function _Tn({client:e}){const t=ETn({client:e}),n=new Jr,r=n.pipe(At(i=>t.setKey(i.key,i.value).pipe(fe(o=>({key:i.key,value:o})))),go(1));return{getKey:i=>Un(t.getKey(i),r.pipe(Bt(o=>o.key===i),fe(o=>o.value))),setKey:(i,o)=>(n.next({key:i,value:o}),r.pipe(Bt(a=>a.key===i),fe(a=>a.value),sa(1)))}}class OR extends Error{constructor({projectId:n}){super("CorsOriginError");Z(this,"projectId");this.name="CorsOriginError",this.projectId=n}}const _J={};function K8e(e,t){Zw?localStorage[e]=t:_J[e]=t}function TTn(e){return Zw?localStorage[e]:_J[e]}function Y8e(e){Zw?localStorage.removeItem(e):delete _J[e]}function ATn(e){const t=typeof window>"u"?Se():es(window,"storage"),n=`__studio_local_storage_messaging_${e}`,r=new Jr,i=Un(r,t.pipe(Bt(a=>a.key===n),fe(a=>a.newValue),Bt(Ro),fe(a=>JSON.parse(a)))).pipe(go(1));function o(a){try{K8e(n,JSON.stringify(a)),Y8e(n),r.next(a)}catch{}}return{messages:i,broadcast:o}}const jTn=R.svg(({theme:e})=>{const{fg:t}=e.sanity.color.base;return he`
    fill: ${t};
  `}),ITn=R.img`
  height: 19px;
  width: 19px;
  object-fit: contain;
`,$Tn=()=>c.jsx(jTn,{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 438.55 438.55",children:c.jsx("path",{d:"M409.13 114.57a218.32 218.32 0 0 0-79.8-79.8Q278.94 5.36 219.27 5.36T109.21 34.77a218.29 218.29 0 0 0-79.8 79.8Q0 165 0 224.63q0 71.67 41.83 128.91t108.06 79.23q7.71 1.43 11.42-2a11.17 11.17 0 0 0 3.69-8.57q0-.86-.14-15.42t-.14-25.41l-6.57 1.14a83.77 83.77 0 0 1-15.85 1 120.73 120.73 0 0 1-19.84-2 44.34 44.34 0 0 1-19.11-8.51 36.23 36.23 0 0 1-12.56-17.6l-2.86-6.57a71.34 71.34 0 0 0-9-14.56q-6.14-8-12.42-10.85l-2-1.43a21 21 0 0 1-3.71-3.43 15.66 15.66 0 0 1-2.57-4q-.86-2 1.43-3.29C61.2 310.42 64 310 68 310l5.71.85q5.71 1.14 14.13 6.85a46.08 46.08 0 0 1 13.85 14.84q6.57 11.71 15.85 17.85t18.7 6.14a81.19 81.19 0 0 0 16.27-1.42 56.78 56.78 0 0 0 12.85-4.29q2.57-19.14 14-29.41a195.49 195.49 0 0 1-29.36-5.13 116.52 116.52 0 0 1-26.83-11.14 76.86 76.86 0 0 1-23-19.13q-9.14-11.42-15-30t-5.8-42.81q0-34.55 22.56-58.82-10.57-26 2-58.24 8.28-2.57 24.55 3.85t23.84 11q7.57 4.56 12.13 7.71a206.2 206.2 0 0 1 109.64 0l10.85-6.85a153.65 153.65 0 0 1 26.26-12.56q15.13-5.71 23.13-3.14 12.84 32.26 2.28 58.24 22.55 24.27 22.56 58.82 0 24.27-5.85 43t-15.12 30a79.82 79.82 0 0 1-23.13 19 116.74 116.74 0 0 1-26.84 11.14 195.29 195.29 0 0 1-29.23 5.07q14.8 12.84 14.81 40.58v60.2a11.37 11.37 0 0 0 3.57 8.56q3.57 3.42 11.28 2 66.24-22 108.07-79.23t41.83-128.91q-.03-59.62-29.43-110.05z"})}),DTn=()=>c.jsxs("svg",{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[c.jsx("path",{d:"M11 24a13 13 0 0 1 .66-4.08l-7.4-5.66a22.18 22.18 0 0 0 0 19.49l7.4-5.67A13 13 0 0 1 11 24z",fill:"#fbbc05"}),c.jsx("path",{d:"M24 11a12.72 12.72 0 0 1 8.1 2.9l6.4-6.4a22 22 0 0 0-34.24 6.75l7.4 5.66A13 13 0 0 1 24 11z",fill:"#ea4335"}),c.jsx("path",{d:"M24 37a13 13 0 0 1-12.34-8.92l-7.4 5.66A21.93 21.93 0 0 0 24 46a21 21 0 0 0 14.33-5.48l-7-5.44A13.59 13.59 0 0 1 24 37zm-12.35-8.93l-7.4 5.67 7.4-5.66z",fill:"#34a853"}),c.jsx("path",{d:"M44.5 20H24v8.5h11.8a9.91 9.91 0 0 1-4.49 6.58l7 5.44C42.37 36.76 45 31.17 45 24a18.25 18.25 0 0 0-.5-4z",fill:"#4285f4"})]});function OTn(e){const{provider:t}=e;return t.logo?c.jsx(ITn,{src:t.logo,alt:`Logo for ${t.name}`}):void 0}const MTn={google:DTn,github:$Tn};async function PTn({client:e,mode:t,providers:n=[]}){if(t==="replace"&&Array.isArray(n))return n;const{providers:r}=await e.request({uri:"/auth/providers"});return typeof n=="function"?n(r):n.length===0?r:t==="replace"?n:r.filter(i=>n.some(o=>o.url!==i.url)).concat(n)}function Yge({loginMethod:e="dual",projectId:t,url:n,redirectPath:r}){const i=new URLSearchParams;return i.set("origin",`${window.location.origin}${r}`),i.set("projectId",t),e==="token"?i.set("withSid","true"):i.set("type",e),`${n}?${i}`}function RTn({getClient:e,loginMethod:t,redirectOnSingle:n,...r}){const i=Ag(e);function o({projectId:a,...s}){const l=s.redirectPath||s.basePath||"/",[u,d]=p.useState(null),[f,h]=p.useState(null);if(f)throw f;const[m]=i();p.useEffect(()=>{m&&PTn({client:m,...r}).then(d).catch(h)},[m]);const g=n&&(u==null?void 0:u.length)===1&&(u==null?void 0:u[0])&&Yge({loginMethod:t,projectId:a,url:u[0].url,redirectPath:l}),y=!u||g;return p.useEffect(()=>{g&&(window.location.href=g)},[g]),y?c.jsx(Dn,{showText:!0}):c.jsxs(ae,{space:4,children:[c.jsx(vo,{align:"center",size:1,children:"Choose login provider"}),c.jsx(ae,{space:2,children:u.map((x,b)=>c.jsx(ge,{as:"a",icon:MTn[x.name]||c.jsx(OTn,{provider:x}),href:Yge({loginMethod:t,projectId:a,url:x.url,redirectPath:l}),mode:"ghost",size:"large",text:x.title},`${x.url}_${b}`))})]})}return o}const qge=/sid=([^&]{20,})&?/;function FTn(){if(typeof window>"u"||typeof window.location!="object")return null;const e=window.location.hash,[,t]=e.match(qge)||[];if(!t)return null;const n=e.replace(qge,""),r=new URL(window.location.href);return r.hash=n.length>1?n:"",history.replaceState(null,"",r),t}let Zge=FTn();const LTn=()=>{const e=Zge;return e&&(Zge=null),e};function NTn(e){return Tt(e)&&"state"in e&&Tt(e.state)&&"subscribe"in e.state&&typeof e.state.subscribe=="function"}function BTn(e){return["dual","token"].includes(e)}const TJ=e=>{if(!e)throw new Error("Invalid project id");return`__studio_auth_token_${e}`},BL=e=>{try{const t=TTn(TJ(e));if(t){const{token:n}=JSON.parse(t);if(n&&typeof n=="string")return n}}catch(t){console.error(t)}return null},q8e=e=>{try{Y8e(TJ(e))}catch(t){console.error(t)}},VTn=({token:e,projectId:t})=>{try{K8e(TJ(t),JSON.stringify({token:e,time:new Date().toISOString()}))}catch(n){console.error(n)}},Xge=async(e,t)=>{var n;try{const r=await e.request({uri:"/users/me",withCredentials:!0,tag:"users.get-current"});return typeof(r==null?void 0:r.id)=="string"?r:null}catch(r){if(r.statusCode===401)return q8e(e.config().projectId||""),t(null),null;if(await e.request({uri:"/ping",withCredentials:!1,tag:"cors-check"}).then(()=>!0,()=>!1))throw new OR({projectId:(n=e.config())==null?void 0:n.projectId});if(r.isNetworkError&&!r.message&&r.request&&r.request.url){const i=new URL(r.request.url).host;throw new Error(`Unknown network error attempting to reach ${i}`)}throw r}};function zTn({clientFactory:e,projectId:t,dataset:n,apiHost:r,loginMethod:i="dual",...o}){const{broadcast:a,messages:s}=ATn(`dual_mode_auth_${t}`),l=e??YAe,u=s.pipe(yo(BTn(i)?BL(t):null)),d={};r&&(d.apiHost=r);const f=u.pipe(fe(x=>l({projectId:t,dataset:n,apiVersion:"2021-06-07",useCdn:!1,...x&&{token:x},withCredentials:!0,requestTagPrefix:"sanity.studio",ignoreBrowserTokenWarning:!0,allowReconfigure:!1,...d})),At(x=>Qi(async()=>{const b=await Xge(x,a);return{currentUser:b,client:x,authenticated:!!b}})),Ar((x,b)=>Dt(x.currentUser,b.currentUser)),go(1));async function h(){const x=LTn();if(!x){a(i==="cookie"?null:BL(t));return}const b=l({projectId:t,dataset:n,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...d});let v;if((i==="dual"||i==="cookie")&&(v=await Xge(b,a)),v||i==="cookie"){a(null);return}const w=await m(b,x);a(w??null)}async function m(x,b){const{token:v}=await x.request({method:"GET",uri:"/auth/fetch",query:{sid:b},tag:"auth.fetch-token"});return VTn({token:v,projectId:t}),v}async function g(){const x=l({projectId:t,dataset:n,useCdn:!0,withCredentials:!0,token:BL(t)??void 0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...d});q8e(t),await x.request({uri:"/auth/logout",method:"POST"}),a(null)}const y=RTn({...o,getClient:()=>f.pipe(fe(x=>x.client)),loginMethod:i});return{handleCallbackUrl:h,token:u,state:f,LoginComponent:y,logout:g}}function Z8e(e){return typeof e!="object"||e===null?`${e}`:JSON.stringify(Object.fromEntries(Object.entries(e).sort(([t],[n])=>t.localeCompare(n,"en")).map(([t,n])=>[t,Z8e(n)])))}const UTn=gM(zTn,Z8e);function AJ(e){if(e==="google")return"Google";if(e==="github")return"GitHub";if(e==="sanity")return"Sanity";if(e!=null&&e.startsWith("saml-"))return"SAML/SSO"}function HTn(e){return t=>{let n=[];const r=En((i,o)=>(n.push(i),e(i,n.length,o).pipe(r)));return t.pipe(or(()=>{n=[]}),r)}}const Jge=typeof window>"u"?Se({}):es(window,"online"),WTn=typeof window>"u"?Se({}):es(window,"offline"),GTn=e=>Math.pow(2,e)*100,KTn={type:"connecting"},X8e=qAe(),YTn=X8e[0];X8e[1];const qTn=({error:e,isOffline:t,attemptNo:n,retryAt:r})=>({type:"error",error:e,attemptNo:n,isOffline:t,retryAt:r});function ZTn({bifur:e}){return{connectionStatus$:Un(e.heartbeats,WTn.pipe(rx(qd(new Error("The browser went offline"))))).pipe(fe(t=>({type:"connected",lastHeartbeat:t})),HTn((t,n,r)=>{const i=Math.min(24e4,GTn(n)),o=new Date(new Date().getTime()+i),a=ni(o),s=!navigator.onLine,l=qTn({error:t,retryAt:o,isOffline:s,attemptNo:n}),u=HK.pipe(YK(s?Jge:Un(a,Jge,YTn)));return Di(Se(l),u.pipe(sa(1)),r)}),yo(KTn))}}function MR(e){return e.type?MR(e.type):e.name==="block"}function XTn(e){return e.kind==="field"&&e.field.schemaType.jsonType==="array"}const JTn=["_key","_type","_weak"];function jJ(e){return Object.keys(e).every(t=>JTn.includes(t))}function PR(e,t){return aU(e,t,new WeakMap)}function aU(e,t,n){if(e===t)return e;if(n.has(t))return n.get(t);if(e==null||t==null||typeof e!=typeof t)return t;if(Array.isArray(t)){let r=e.length===t.length;const i=[];n.set(t,i);for(let o=0;o<t.length;o++){const a=aU(e[o],t[o],n);a!==e[o]&&(r=!1),i[o]=a}return n.set(t,r?e:i),r?e:i}if(typeof t=="object"){const r=Object.getOwnPropertyNames(t);let i=Object.getOwnPropertyNames(e).length===r.length;const o={};n.set(t,o);for(const a of r){const s=t.propertyIsEnumerable(a)?aU(e[a],t[a],n):t[a];s!==e[a]&&(i=!1),o[a]=s}return n.set(t,i?e:o),i?e:o}return t}function QTn(e){return c.jsx(iwe.Provider,{value:e.presence,children:e.children})}function J8e(){const e=p.useContext(iwe);if(!e)throw new Error("Form context not provided");return e}function Xw(e,t){const n=J8e(),r=p.useRef(n),i=PR(r.current,n.filter(o=>ga(e,o.path)&&t));return r.current=i,i}function vf(){const e=p.useContext(Kxe);if(!e)throw new Error("FormBuilder: missing context value");return e}const eAn=e=>e==="error"?c.jsx(ua,{}):e==="warning"?c.jsx(Br,{}):c.jsx(bg,{}),tAn=R(B)(({theme:e})=>he`
    &[data-info] {
      color: ${e.sanity.color.muted.primary.enabled.fg};
    }

    &[data-warning] {
      color: ${e.sanity.color.muted.caution.enabled.fg};
    }

    &[data-error] {
      color: ${e.sanity.color.muted.critical.enabled.fg};
    }
  `);function Q8e(e){const{markers:t,validation:n,renderCustomMarkers:r}=e,{CustomMarkers:i}=vf().__internal.components;return t.length===0&&n.length===0?null:c.jsxs(ae,{space:1,children:[n.length>0&&n.map(({message:o,level:a},s)=>c.jsxs(W,{children:[c.jsx(V,{marginRight:2,marginBottom:s+1===n.length?0:2,children:c.jsx(tAn,{size:1,"data-error":a==="error"?"":void 0,"data-warning":a==="warning"?"":void 0,"data-info":a==="info"?"":void 0,children:eAn(a)})}),c.jsx(V,{children:c.jsx(B,{size:1,children:o||"Error"})})]},`validationItem-${s}`)),t.length>0&&c.jsxs(V,{marginTop:n.length>0?3:0,children:[r&&r(t),!r&&c.jsx(i,{markers:t})]})]})}function nAn(e){return c.jsx(kwe.Provider,{value:e.validation,children:e.children})}function rAn(){const e=p.useContext(kwe);if(!e)throw new Error("Form context not provided");return e}function IJ(e,t=!1){const n=rAn();return p.useMemo(()=>n.filter(r=>ga(e,r.path)&&(t||!Pr(e,r.path))).map(r=>({message:r.message,level:r.level,path:r.path})),[t,e,n])}const iAn=["@@_NONEXISTENT_PATH_@@"];function RR(e){const t=p.useRef(null),n=e!=null&&e.validation&&e.validation.length>0?e.validation:hn,r=IJ((e==null?void 0:e.path)||iAn),i=p.useMemo(()=>e!=null&&e.schemaType&&MR(e==null?void 0:e.schemaType)?n:n.concat(r),[r,e,n]),[o,a,s]=p.useMemo(()=>[i.filter(u=>u.level==="error").length>0,i.filter(u=>u.level==="warning").length>0,i.filter(u=>u.level==="info").length>0],[i]),l=PR(t.current,i);return t.current=l,p.useMemo(()=>({validation:l,hasError:o,hasWarning:a,hasInfo:s}),[l,o,a,s])}function FR(e){const t=p.useContext(rwe);if(!t)throw new Error("Form context not provided");return p.useMemo(()=>t.filter(n=>Pr(n.path,e)),[t,e])}const oAn={placement:"right",fallbackPlacements:["top","bottom"]};function aAn(e){const{group:t}=e,{title:n}=yf(t);return t.expanded?c.jsxs(c.Fragment,{children:[c.jsx(V,{padding:2,paddingTop:3,children:c.jsx(B,{muted:!0,size:1,weight:"medium",children:n})}),t.children.map((r,i)=>{var o;return c.jsx(sU,{action:r,isFirst:i===0,prevIsGroup:((o=t.children[i-1])==null?void 0:o.type)==="group"},i)})]}):c.jsx(UG,{icon:t.icon,popover:oAn,text:n,tone:t.tone,children:t.children.map((r,i)=>{var o;return c.jsx(sU,{action:r,isFirst:i===0,prevIsGroup:((o=t.children[i-1])==null?void 0:o.type)==="group"},i)})})}function sAn(e){const{action:t}=e,{title:n}=yf(t),r=p.useCallback(()=>{t.onAction()},[t]),i=typeof t.disabled=="object"&&c.jsx(B,{size:1,children:t.disabled.reason});return c.jsx(bee,{content:i,placement:"left",children:c.jsx(Qe,{disabled:!!t.disabled,icon:t.icon,iconRight:t.iconRight||(t.selected?_a:void 0),onClick:r,pressed:t.selected,text:n,tone:t.tone})})}function sU(e){const{action:t,isFirst:n,prevIsGroup:r}=e;return t.type==="divider"?c.jsx(Tr,{}):t.type==="group"?c.jsxs(c.Fragment,{children:[!n&&c.jsx(Tr,{}),c.jsx(aAn,{group:t})]}):c.jsxs(c.Fragment,{children:[r&&c.jsx(Tr,{}),c.jsx(sAn,{action:t})]})}const eFe={placement:"top"};function Qge(e){return"renderAsButton"in e&&e.renderAsButton}const lAn=p.memo(function(e){const{nodes:t,onMenuOpenChange:n}=e,[r,i]=p.useState(!1),o=p.useCallback(()=>{n(!0),i(!0)},[n]),a=p.useCallback(()=>{n(!1),i(!1)},[n]),s=p.useMemo(()=>t.filter(Qge),[t]),l=p.useMemo(()=>t.filter(f=>!Qge(f)),[t]),u=p.useMemo(()=>{const f=l.length;if(f===0||f>1)return l;const h=l[0];return h.type==="group"?[{...h,expanded:!0}]:l},[l]),d=p.useMemo(()=>[...u.length?[{type:"group",children:u,icon:dE,title:"Field actions"}]:[],...s],[s,u]);return c.jsx(c.Fragment,{children:d.map((f,h)=>c.jsx(cAn,{node:f,onOpen:o,onClose:a,open:r},h))})}),cAn=p.memo(function(e){const{node:t,onOpen:n,onClose:r,open:i}=e;return t.type==="divider"?c.jsx(le,{borderLeft:!0,flex:"none"}):t.type==="action"?c.jsx(ge,{icon:t.icon,mode:"bleed",onClick:t.onAction,tooltipProps:{...eFe,content:t.title}}):c.jsx(dAn,{node:t,onOpen:n,onClose:r,open:i})}),uAn={constrainSize:!0,placement:"right",portal:!0,fallbackPlacements:["top","bottom"]};function dAn(e){const{node:t,onOpen:n,onClose:r,open:i}=e,{title:o}=yf(t);return c.jsx(Jt,{button:c.jsx(ge,{icon:t.icon,"aria-label":i?void 0:o,"data-testid":"field-actions-trigger",mode:"bleed",tooltipProps:{...eFe,content:t.title}}),id:p.useId(),menu:c.jsx(Nt,{children:t.children.map((a,s)=>{var l;return c.jsx(sU,{action:a,isFirst:s===0,prevIsGroup:((l=t.children[s-1])==null?void 0:l.type)==="group"},s)})}),onOpen:n,onClose:r,popover:uAn})}function e1e(){return p.useContext(Xxe)}function m_(e){const{actions:t,children:n,path:r,focused:i}=e,{onMouseEnter:o,onMouseLeave:a}=e1e(),s=e1e().hoveredStack[0],l=v0||(s?cr(r)===s:!1),u=p.useCallback(()=>{o(r)},[o,r]),d=p.useCallback(()=>{a(r)},[a,r]),f=p.useMemo(()=>({actions:t,focused:i,hovered:l,onMouseEnter:u,onMouseLeave:d}),[t,i,u,d,l]);return c.jsx(Gxe.Provider,{value:f,children:n})}function tFe(e){return e.filter(Boolean).filter(t=>"hidden"in t?t.hidden!==!0:!0).map(t=>t.type==="group"?{...t,children:tFe(t.children)}:t)}const g_=p.memo(function(e){const{actions:t,documentId:n,documentType:r,onActions:i,path:o,schemaType:a}=e,s=t.length,l=p.useRef(s),[u,d]=p.useState(()=>Array.from(new Array(s))),f=p.useRef(u),h=p.useCallback((g,y)=>{d(x=>{const b=[...x];return b[g]=y,b})},[]);p.useEffect(()=>{f.current!==u&&(f.current=u,i(tFe(u)))},[u,i]),p.useEffect(()=>{if(l.current!==s){const g=Array.from(new Array(s));for(let y=0;y<s;y++)g[y]=f.current[y];l.current=s,d(g),f.current=g}},[s]);const m=p.useMemo(()=>t.map((g,y)=>fAn({action:g,documentId:n,documentType:r,index:y,path:o,schemaType:a,setFieldAction:h})),[t,n,r,o,a,h]);return c.jsx(c.Fragment,{children:m.map((g,y)=>c.jsx(g,{},y))})});function fAn({action:e,documentId:t,documentType:n,index:r,path:i,schemaType:o,setFieldAction:a}){const{useAction:s}=e;return p.memo(function(){const l=s({documentId:t,documentType:n,path:i,schemaType:o}),u=ya(l);return p.useEffect(()=>{a(r,u)},[u]),null})}function $J(){return p.useContext(Gxe)}const hAn=p.memo(function(e){const{children:t}=e,[n,r]=p.useState([]),i=p.useCallback(s=>{const l=cr(s);r(u=>u.includes(l)?u:[l,...u])},[]),o=p.useCallback(s=>{const l=cr(s);r(u=>u.includes(l)?u.filter(d=>d!==l):u)},[]),a=p.useMemo(()=>({hoveredStack:n,onMouseEnter:i,onMouseLeave:o}),[i,o,n]);return c.jsx(Xxe.Provider,{value:a,children:t})}),pAn={portal:!0},mAn=R.div(e=>{const{space:t}=$e(e.theme);return he`
    margin: ${0-t[1]}px;
  `}),t1e=e=>{if(e.length===1)return`${e[0].user.displayName} is editing this document`;if(e.length>1)return`${e.length} people are editing this document right now`};function DJ(e){const{presence:t}=e,n=p.useMemo(()=>Array.from(new Set(t.map(i=>i.user.id))).map(i=>t.find(o=>o.user.id===i)).filter(Ro),[t]),r=p.useMemo(()=>t1e(n),[n]);return c.jsx(Et,{content:r,...pAn,children:c.jsx(mAn,{children:c.jsx(nE,{maxLength:2,"aria-label":t1e(n),size:0,children:n.map(i=>c.jsx(Vl,{size:0,user:i.user},i.user.id))})})})}const gAn=/[^\p{Alpha}\p{White_Space}]/gu,yAn=new RegExp("\\p{White_Space}+","u"),vAn={small:0,medium:1,large:2};function bAn(e){const t=e.replace(gAn,"").split(yAn);return t.length===1?`${t[0].charAt(0)}`.toUpperCase():`${t[0].charAt(0)}${t[t.length-1].charAt(0)}`}function Vl(e){const{user:t,withTooltip:n,...r}=e;return Tt(t)?n?c.jsx(xAn,{...r,user:t}):c.jsx(nFe,{...r,user:t}):c.jsx(wAn,{...e,user:t})}function xAn(e){const{user:{displayName:t}}=e;return c.jsx(Et,{content:t,placement:"top",portal:!0,children:c.jsx("div",{style:{display:"inline-block"},children:c.jsx(nFe,{...e})})})}const nFe=p.forwardRef(function(e,t){const{user:n,animateArrowFrom:r,position:i,size:o,status:a,tone:s,...l}=e,[u,d]=p.useState(null),f=H8e(n.id),h=u||n==null?void 0:n.imageUrl;return c.jsx(OG,{__unstable_hideInnerStroke:!0,animateArrowFrom:r,arrowPosition:i,color:f.name,"data-legacy-tone":s,initials:(n==null?void 0:n.displayName)&&bAn(n.displayName),src:h,onImageLoadError:d,ref:t,size:typeof o=="string"?vAn[o]:o,status:a,title:n==null?void 0:n.displayName,...l})});function wAn({user:e,...t}){const[n]=bf(e);return n?c.jsx(Vl,{...t,user:n}):null}const CAn=3,rFe=3,jD=-4,Ox=25,n1e=4,kAn=[0,.25,.75,1],UA=23,SAn=8,EAn=8,iFe=20,oFe=20,VL=!1,aFe=R(W)`
  & > div:first-child {
    flex: 1;
    min-width: 0;
  }
`,_An=R(W)`
  height: ${Ox}px;
  min-width: 23px;
  vertical-align: top;
`;function TAn(e){const{children:t}=e,{store:n,snapshot:r}=A8e();return c.jsx(owe.Provider,{value:n,children:c.jsx(awe.Provider,{value:r,children:t})})}const AAn=p.memo(TAn),jAn=[];function IAn(){const e=p.useContext(awe);return e===null?(console.warn(new Error('No context provided for reporter. Make sure that the component calling "usePresenceReportedValues()", is wrapped inside a <PresenceTracker> element')),jAn):e}const $An=(e,t,n)=>{const r=p.useContext(owe);r===null&&console.warn(new Error('No context provided for reporter. Make sure that the component calling "usePresenceReporter()", is wrapped inside a <PresenceTracker> element')),j8e(r,e,t,n)};function DAn(e){const{children:t,items:n}=e,r=p.useMemo(()=>c.jsx(ae,{sizing:"border",children:n.map(i=>c.jsxs(W,{align:"center",gap:2,children:[c.jsx("div",{children:c.jsx(Vl,{user:i.user,status:"online"})}),c.jsx(B,{size:1,children:i.user.displayName})]},i.user.id))}),[n]);return c.jsx(Et,{content:r,placement:"top",portal:"documentScrollElement",children:t})}const OAn=(e,t)=>{const n=e.length>t?t-1:t,r=Math.max(0,e.length-n);return[e.slice(0,r),e.slice(r)]};function MAn(e){return-jD+(Ox+jD)*e}const sFe=p.memo(function({presence:e,position:t="inside",animateArrowFrom:n="inside",maxAvatars:r=rFe,stack:i=!0}){const o=Xd(e||[],d=>d.user.id),a=yg(o,d=>d.lastActiveAt),[s,l]=i?OAn(a,r):[[],a],u=[...l.reverse().map(d=>({key:d.user.id,element:c.jsx(Vl,{animateArrowFrom:n,position:t,status:"online",user:d.user})})),s.length>=2?{key:"counter",element:c.jsx($3,{count:s.length})}:null].filter(Boolean);return c.jsxs(aFe,{children:[c.jsx("div",{}),c.jsx(_An,{direction:"row-reverse",children:u.map((d,f)=>d&&c.jsx("div",{style:{position:"absolute",transform:`translate3d(${-f*(Ox+jD)}px, 0px, 0px)`,transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)",zIndex:100-f},children:d.element},d.key))})]})});function y_(e){const t=p.useContext(GUe),{presence:n=t,maxAvatars:r=rFe}=e,[i,o]=p.useState(null),a=p.useId(),s=p.useCallback(()=>({presence:n,element:i,maxAvatars:r}),[i,r,n]);$An(i?a:null,s);const l=p.useMemo(()=>Xd(n||[],u=>u.user.id),[n]);return c.jsx(DAn,{items:l,children:c.jsx(aFe,{ref:o,style:{minHeight:Ox,minWidth:Ox}})})}const PAn=e=>{const t=new Jr,n=new IntersectionObserver(r=>{r.forEach(i=>{t.next(i)})},e);return{observe:r=>new Lt(i=>{const o=t.pipe(Bt(a=>a.target===r)).subscribe(i);return n.observe(r),()=>{o.unsubscribe(),n.unobserve(r)}})}},OJ=e=>{const{onIntersection:t,io:n,id:r,...i}=e,o=p.useRef(null);return p.useEffect(()=>{const a=o.current;if(!a)return;const s=n.observe(a).pipe(or(l=>t(r,l))).subscribe();return()=>s.unsubscribe()},[n,r,t]),c.jsx("div",{...i,ref:o})},RAn=R.div`
  position: relative;
`,FAn=R.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 13;
`,MJ=he`
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: absolute;
`,LAn=R(OJ)(({$debug:e,margins:t})=>he`
    ${MJ}

    z-index: 100;
    position: sticky;
    height: 1px;
    top: ${t?`${t[0]-1}px`:void 0};
    background-color: ${e?"red":"none"};
  `),NAn=R(OJ)(({$debug:e})=>he`
    ${MJ}

    visibility: none;

    ${e&&he`
      background: rgba(255, 0, 0, 0.25);
      outline: 1px solid #00b;
      visibility: visible;
    `}
  `),BAn=R(OJ)(({$debug:e})=>he`
    ${MJ}

    position: sticky;
    bottom: -1px;
    height: 1px;
    background-color: ${e?"blue":"transparent"};
  `),VAn=e=>`${e}px`,zAn=e=>0-e,UAn=p.forwardRef(function(e,t){const{regions:n,render:r,children:i,margins:[o,a,s,l]}=e,u=p.useRef(null),d=p.useMemo(()=>[o,a,s,l],[o,a,s,l]),f=p.useMemo(()=>PAn({rootMargin:d.map(zAn).map(VAn).join(" "),threshold:kAn}),[d]),[h,m]=p.useState({}),g=p.useCallback((v,w)=>{m(C=>({...C,[v]:w}))},[]),y=h["::top"],x=h["::bottom"],b=p.useMemo(()=>y&&x?n.filter(v=>{var w;return((w=v.presence)==null?void 0:w.length)>0}).map(v=>{const w=h[v.id];if(!w)return null;const{bottom:C,top:k}=w.boundingClientRect,S=w.boundingClientRect.top<y.boundingClientRect.bottom,E=w.boundingClientRect.top<x.boundingClientRect.top,_=w.isIntersecting?k-(w.intersectionRect.top-UA):S?-y.boundingClientRect.bottom:x.boundingClientRect.top,T=w.isIntersecting?-(C-(w.intersectionRect.bottom+UA)):E?x.boundingClientRect.top:-y.boundingClientRect.bottom,A=_<=SAn?"top":T<=EAn?"bottom":"inside";return{distanceTop:_,distanceBottom:T,region:v,position:A}}).filter(Boolean):[],[x,h,n,y]);return c.jsxs(RAn,{ref:t,children:[c.jsx(LAn,{$debug:VL,io:f,id:"::top",onIntersection:g,margins:d}),c.jsx("div",{children:i}),c.jsx(FAn,{ref:u,children:u.current&&r(b,u.current.offsetWidth)}),n.map(v=>{const w=v.rect.width===0;return c.jsx(NAn,{$debug:VL,io:f,onIntersection:g,id:v.id,style:{width:w?1:v.rect.width,left:v.rect.left-(w?1:0),top:v.rect.top-UA,height:v.rect.height+UA*2}},v.id)}),c.jsx(BAn,{$debug:VL,id:"::bottom",io:f,onIntersection:g})]})}),lFe={transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)"},HAn=e=>e.top+e.height;function WAn(e){return e.map((t,n,r)=>{var a;const i=(a=r[n-1])==null?void 0:a.region.rect,o=i?HAn(i):0;return{...t,spacerHeight:t.region.rect.top-o}})}const HA=e=>_w(e,t=>t.region.rect.top),GAn=(e,t)=>e+t,r1e=e=>e.reduce(GAn,0);function KAn(e){const t=WAn(HA(e)),n={top:[],inside:[],bottom:[],...IY(t,r=>r.position)};return{top:HA(n.top).map((r,i,o)=>({...r,indent:o.slice(i+1).reduce((a,s)=>a+s.region.rect.width,0)})),inside:HA(n.inside).map(r=>({...r,indent:0})),bottom:HA(n.bottom).map((r,i,o)=>({...r,indent:o.slice(0,i).reduce((a,s)=>a+s.region.rect.width,0)}))}}const i1e=({height:e,...t})=>c.jsx("div",{style:{height:Math.max(0,e),...t==null?void 0:t.style}}),YAn=[0,0,0,0],qAn=(e,t)=>{let n=e,r=-n.scrollTop,i=0;for(;n&&n!==t;)r+=n.offsetTop-n.scrollTop,i+=n.offsetLeft,n=n.offsetParent instanceof HTMLElement?n.offsetParent:null;return{top:r,left:i}};function ZAn(e,t){return{...qAn(e,t),width:e.offsetWidth,height:e.offsetHeight}}function XAn(e,t){return e.map(([n,r])=>r.element?{...r,id:n,rect:ZAn(r.element,t)}:null).filter(Boolean)}function JAn(e){const{children:t,margins:n=YAn}=e,r=IAn(),[i,o]=p.useState(null),a=p.useMemo(()=>i?XAn(r,i):lU,[i,r]),s=p.useCallback((l,u)=>{const d=KAn(l.filter(g=>g.region.presence.length>0)),f=r1e(d.top.map(g=>g.region.rect.height+g.spacerHeight)),h=r1e([...d.inside,...d.bottom].map(g=>g.region.rect.height+g.spacerHeight)),m=d.inside.reduce((g,y)=>{const{distanceTop:x,distanceBottom:b}=y,v=x<=iFe,w=b<=oFe;return{nearTop:g.nearTop+(v?y.region.presence.length:0),nearBottom:g.nearBottom+(w?y.region.presence.length:0)}},{nearTop:0,nearBottom:0});return c.jsxs(c.Fragment,{children:[c.jsx(o1e,{closeCount:m.nearTop,margins:n,position:"top",regionsWithIntersectionDetails:d.top}),c.jsx(i1e,{height:f}),c.jsx(QAn,{containerWidth:u,regionsWithIntersectionDetails:d.inside}),c.jsx(i1e,{height:h}),c.jsx(o1e,{closeCount:m.nearBottom,margins:n,position:"bottom",regionsWithIntersectionDetails:d.bottom})]})},[n]);return c.jsx(UAn,{ref:o,margins:n,regions:a,render:s,children:t})}const lU=[],o1e=p.memo(function(e){const{closeCount:t,margins:n,position:r,regionsWithIntersectionDetails:i}=e,o=r==="top"?1:-1,a=p.useMemo(()=>i.length?jr(yg(i,g=>g.region.rect.top*o).map(g=>g.region.presence||lU)):lU,[o,i]),[s,l,u,d]=n,f=(d||0)+(a.length>0?-t*(Ox+jD):0)-l,h=r==="top"?s:u,m=p.useMemo(()=>({zIndex:2,position:"sticky",display:"flex",flexDirection:"column",alignItems:"flex-end",...lFe,transform:`translate3d(${f}px, 0px, 0px)`,top:n1e+1+h,bottom:n1e+1+h}),[f,h]);return c.jsx("div",{"data-dock":r,style:m,children:c.jsx(sFe,{position:r,maxAvatars:CAn,presence:a})},`sticky-${r}`)});function QAn(e){const{regionsWithIntersectionDetails:t,containerWidth:n}=e;return c.jsx(c.Fragment,{children:t.map(r=>{const i=r.region.rect.left,{distanceTop:o,distanceBottom:a}=r,s=o<=iFe,l=a<=oFe,u=n-i-r.region.rect.width,{presence:d,maxAvatars:f}=r.region;return c.jsx(p.Fragment,{children:c.jsx("div",{style:{zIndex:2,position:"absolute",...lFe,left:i,transform:`translate3d(${s||l?u:0}px, 0px, 0px)`,height:r.region.rect.height,top:r.region.rect.top},children:c.jsx(tjn,{value:()=>`${o} | ${a}`,children:c.jsx(sFe,{stack:!s&&!l,position:s?"top":l?"bottom":"inside",maxAvatars:f,presence:d})})})},r.region.id)})})}const ejn=e=>e.children,tjn=ejn,njn=[0,0,0,0];function Jw({children:e,margins:t}){return c.jsx(AAn,{children:c.jsx(JAn,{margins:t||njn,children:e})})}const rjn=R(W)(({theme:e,$floatingCardWidth:t,$slotWidth:n,$floatingCardVisible:r})=>{const{space:i}=e.sanity;return he`
    /* Prevent buttons from taking up extra vertical space */
    line-height: 1;
    width: 100%;
    /* For floating actions menu */
    position: relative;

    [data-ui='PresenceBox'] {
      position: absolute;
      bottom: 0;
      right: ${n+t+i[1]}px;
    }
    @media (hover: hover) {
      // If hover is supported, we hide the floating card by default, so only add space for it when it's visible.
      [data-ui='PresenceBox'] {
        position: absolute;
        bottom: 0;
        right: ${n+(r?t:0)+i[1]}px;
      }
    }
  `}),ijn=R(V)(({theme:e,$presenceMaxWidth:t})=>{const{space:n}=e.sanity;return he`
    max-width: calc(100% - ${t+n[1]}px);
    min-width: 75%;
  `}),ojn=R(V)(({theme:e,$right:t,$fieldActionsVisible:n})=>{const{space:r}=e.sanity,i=n?t+r[1]:t;return he`
    position: absolute;
    bottom: 0;
    right: ${i}px;
  `}),ajn=R(le)`
  align-items: center;
  bottom: 0;
  position: absolute;
  right: 0;
  transition: opacity 150ms ease;
  line-height: 1;

  @media (hover: hover) {
    // If hover is supported, we hide the floating card by default
    // and only show it when it has focus within or when the field is hovered or focused.
    opacity: 0;
    pointer-events: none;

    [data-ui='FieldActionsFlex'] {
      opacity: 0;
    }

    &[data-actions-visible='false']:not(:focus-within) {
      // Remove the shadow when the field actions are not visible
      box-shadow: none;

      // Since the field actions always will be present in the DOM (to make them focusable) 
      // they will always affect the width of the floating card, even when they are not visible.
      // Therefore, we remove the background of the floating card when the field actions are not visible.
      background: transparent;
    }

    // Remove the shadow when the field has comments but no actions
    &[data-has-comments='true']:not([data-has-actions='true']) {
      box-shadow: none;
    }

    // Show the floating card when it has focus within (ie when field actions are focused).
    &:focus-within {
      opacity: 1;
      pointer-events: auto;
      width: max-content;

      [data-ui='FieldActionsFlex'] {
        opacity: 1;
        pointer-events: auto;
        width: max-content;
      }
    }
  }

  &[data-visible='true'] {
    opacity: 1;
    pointer-events: auto;
    width: max-content;
  }

  &[data-actions-visible='true'] {
    [data-ui='FieldActionsFlex'] {
      opacity: 1;
      pointer-events: auto;
      width: max-content;
    }
  }
`,sjn=R(W)`
  gap: inherit;
  transition: opacity 150ms ease;
`,a1e=4;function cFe(e){const{__internal_comments:t,__internal_slot:n,actions:r,content:i,fieldFocused:o,fieldHovered:a,presence:s,inputId:l}=e,[u,d]=p.useState(!1),[f,h]=p.useState(!1),[m,g]=p.useState(null),[y,x]=p.useState(0),[b,v]=p.useState(null),[w,C]=p.useState(0),{hasComments:k=!1,button:S=null,isAddingComment:E=!1}=t||{},_=r&&r.length>0,T=o||a||f||E,A=(t==null?void 0:t.button)||_,I=u||T||k,j=p.useCallback(()=>{if(m){const{width:M}=m.getBoundingClientRect();x(M||0)}},[m]),$=p.useCallback(()=>{j(),d(!0)},[j]),D=p.useCallback(()=>{j(),d(!1)},[j]);p.useEffect(()=>{j()},[j,T]),p.useEffect(()=>{if(b){const{width:M}=b.getBoundingClientRect();C(M||0)}},[b]);const O=p.useMemo(()=>n?c.jsx(ojn,{$fieldActionsVisible:!!T,$right:y,ref:v,children:n}):null,[y,T,n]);return c.jsxs(rjn,{align:"flex-end",justify:"space-between",$floatingCardVisible:I,$floatingCardWidth:y,$slotWidth:w,children:[c.jsx(ijn,{"data-ui":"fieldHeaderContentBox",flex:1,paddingY:2,$presenceMaxWidth:MAn(a1e),children:i}),s&&s.length>0&&c.jsx(V,{"data-ui":"PresenceBox",flex:"none",children:c.jsx(y_,{maxAvatars:a1e,presence:s})}),O,(A||k)&&c.jsx(Sa,{children:c.jsxs(ajn,{"data-actions-visible":T?"true":"false","data-has-actions":_?"true":"false","data-has-comments":k?"true":"false","data-visible":I?"true":"false",display:"flex",onBlurCapture:D,onFocusCapture:$,ref:g,sizing:"border",children:[_&&c.jsx(sjn,{align:"center","data-ui":"FieldActionsFlex","data-testid":l?`field-actions-menu-${l}`:"field-actions-menu",children:c.jsx(lAn,{nodes:r,onMenuOpenChange:h})}),S]})})]})}function Ig(e,t){if(!(!t||!e))return`desc_${e}`}const ljn=[],uFe={error:fjn,warning:hjn,info:pjn},cjn=R(ae)`
  max-width: 200px;
`,dFe=R(B)(({$status:e})=>e==="error"?{"--card-icon-color":"var(--card-badge-critical-icon-color)"}:e==="warning"?{"--card-icon-color":"var(--card-badge-caution-icon-color)"}:e==="info"?{"--card-icon-color":"var(--card-badge-primary-icon-color)"}:{});function Qw(e){const{validation:t=ljn,__unstable_showSummary:n,fontSize:r,placement:i}=e,o=t.some(u=>u.level==="error"),a=t.some(u=>u.level==="warning"),s=o?"error":a?"warning":"info",l=uFe[s];return c.jsx(Et,{content:c.jsxs(cjn,{space:3,children:[n&&c.jsx(djn,{validation:t}),!n&&c.jsx(c.Fragment,{children:t.map((u,d)=>c.jsx(ujn,{validation:u},d))})]}),portal:!0,placement:i,fallbackPlacements:["bottom","right","left"],children:c.jsx("div",{children:c.jsx(dFe,{$status:s,size:r,weight:"medium",children:l&&c.jsx(l,{})})})})}function ujn(e){const{validation:t}=e,n=uFe[t.level];return c.jsxs(W,{children:[c.jsx(V,{marginRight:2,children:c.jsx(dFe,{$status:t.level,size:1,children:n&&c.jsx(n,{})})}),c.jsx(V,{flex:1,children:c.jsx(B,{size:1,children:t.message})})]})}function djn({validation:e}){const{t}=Q(),n=b0(),r=e.reduce((u,d)=>d.level==="error"?u+1:u,0),i=e.reduce((u,d)=>d.level==="warning"?u+1:u,0),o=r>0,a=i>0;if(!o&&!a)return null;const s=o&&t("form.validation.summary.errors-count",{count:r}),l=a&&t("form.validation.summary.warnings-count",{count:i});return s&&l?c.jsx(B,{size:1,children:n.format([s,l])}):c.jsx(B,{size:1,children:s||l})}function fjn(){const{t:e}=Q();return c.jsx(ua,{"data-testid":"input-validation-icon-error","aria-label":e("form.validation.has-error-aria-label"),"aria-hidden":!0,role:"presentation"})}function hjn(){const{t:e}=Q();return c.jsx(Br,{"data-testid":"input-validation-icon-warning","aria-label":e("form.validation.has-warning-aria-label"),"aria-hidden":!0,role:"presentation"})}function pjn(){const{t:e}=Q();return c.jsx(bg,{"data-testid":"input-validation-icon-info","aria-label":e("form.validation.has-info-aria-label"),"aria-hidden":!0,role:"presentation"})}const mjn=R(W)`
  /*
   * Prevent the block size of appended elements (such as the deprecated field badge) affecting
   * the intrinsic block size of the label.
   */
  contain: size;
`,gjn=[],PJ=p.memo(function(e){const{description:t,inputId:n,title:r,deprecated:i,validation:o=gjn}=e,{t:a}=Q(),s=o.length>0,l=i||s;return c.jsxs(ae,{space:3,children:[c.jsxs(W,{align:"center",paddingY:1,children:[c.jsx(B,{as:"label",htmlFor:n,weight:"medium",size:1,children:r||c.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:a("form.field.untitled-field-label")})}),l&&c.jsxs(mjn,{align:"center",flex:1,children:[i&&c.jsx(V,{marginLeft:2,children:c.jsx($a,{"data-testid":`deprecated-badge-${r}`,tone:"caution",children:a("form.field.deprecated-label")})}),s&&c.jsx(V,{marginLeft:2,children:c.jsx(Qw,{fontSize:1,placement:"top",validation:o})})]})]}),i&&c.jsx(gi,{"data-testid":`deprecated-message-${r}`,tone:"caution",size:1,children:i.reason}),t&&c.jsx(B,{muted:!0,size:1,id:Ig(n,t),children:t})]})}),s1e=[],x0=p.memo(function(e){const{__unstable_headerActions:t=s1e,__unstable_presence:n=s1e,__internal_slot:r=null,__internal_comments:i,children:o,description:a,inputId:s,level:l,title:u,validation:d,deprecated:f,...h}=e,{focused:m,hovered:g,onMouseEnter:y,onMouseLeave:x}=$J();return c.jsxs(ae,{...h,"data-level":l,onMouseEnter:y,onMouseLeave:x,space:2,children:[u&&c.jsx(cFe,{__internal_comments:i,__internal_slot:r,actions:t,fieldFocused:!!m,fieldHovered:g,presence:n,inputId:s,content:c.jsx(PJ,{description:a,inputId:s,title:u,validation:d,deprecated:f})}),c.jsx("div",{children:o})]})}),l1e=R.legend`
  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  padding: 0;
  display: table;
`,yjn=R(W).attrs({forwardedAs:"button"})(e=>{const{theme:t}=e,{focusRing:n,radius:r}=t.sanity,{base:i}=t.sanity.color;return he`
    appearance: none;
    border: 0;
    background: none;
    color: inherit;
    -webkit-font-smoothing: inherit;
    font: inherit;
    outline: none;
    border-radius: ${Te(r[2])};
    position: relative;

    &:not([hidden]) {
      display: flex;
    }

    &:focus {
      box-shadow: ${CJ({base:i,focusRing:n})};
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }

    /* Added to increase the hit area of the collapsible fieldset */
    &::after {
      content: '';
      position: absolute;
      top: -10px;
      right: -10px;
      bottom: -10px;
      left: -10px;
    }
  `}),vjn=R(V)`
  width: 9px;
  height: 9px;
  margin-right: 3px;

  & svg {
    transition: transform 100ms;
  }
`,bjn=p.memo(function(e){const{collapsed:t,collapsible:n,onClick:r,title:i}=e,o=c.jsx(B,{weight:"medium",size:1,children:i});return n?c.jsx(l1e,{children:c.jsxs(yjn,{type:"button",onClick:r,children:[c.jsx(vjn,{children:c.jsx(B,{muted:!0,size:1,children:c.jsx(EK,{style:{transform:`rotate(${t?"0":"90deg"}) translate3d(0, 0, 0)`}})})}),o]})}):c.jsx(l1e,{children:o})});function xjn(e){return typeof e=="function"?e():e}const wjn=R(ae).attrs({forwardedAs:"fieldset"})`
  border: none;

  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  body:not(:-moz-handler-blocked) & {
    display: table-cell;
  }
`,Cjn=R(V)(e=>{const{$borderLeft:t,$focused:n,theme:r}=e,{focusRing:i}=r.sanity,{base:o}=r.sanity.color;return he`
    outline: none;
    border-left: ${t?"1px solid var(--card-border-color)":void 0};
    transition:
      border-color 0.2s ease-in-out,
      box-shadow 0.2s ease-in-out;

    ${t&&n&&`border-left: 1px solid var(--card-focus-ring-color);
    box-shadow: inset 1px 0 0 var(--card-focus-ring-color);`}

    ${t&&!n&&`
      box-shadow: inset 0 0 0 transparent;
    `}

    &:focus {
      box-shadow: ${CJ({base:o,focusRing:{...i,offset:2}})};
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }
  `}),zL=[],LR=p.forwardRef(function(e,t){const{__internal_comments:n,__internal_slot:r=null,__unstable_headerActions:i=zL,__unstable_presence:o=zL,children:a,collapsed:s,collapsible:l,columns:u,description:d,level:f=0,onCollapse:h,onExpand:m,onFocus:g,tabIndex:y,title:x,validation:b=zL,inputId:v,deprecated:w,...C}=e,{focused:k,hovered:S,onMouseEnter:E,onMouseLeave:_}=$J(),T=b.length>0,A=p.useRef(null),{t:I}=Q();p.useImperativeHandle(t,()=>A.current);const j=p.useCallback(O=>{A.current===O.target&&g&&g(O)},[g]),$=p.useCallback(()=>s?m==null?void 0:m():h==null?void 0:h(),[s,h,m]),D=p.useMemo(()=>s?null:c.jsx(u_n,{columns:u,gapX:4,gapY:5,children:xjn(a)}),[a,s,u]);return c.jsxs(wjn,{"data-level":f,...C,onMouseEnter:E,onMouseLeave:_,space:2,children:[c.jsx(cFe,{__internal_comments:n,__internal_slot:r,actions:i,fieldFocused:!!k,fieldHovered:S,presence:o,inputId:v,content:c.jsxs(ae,{space:3,children:[c.jsxs(W,{align:"center",children:[x&&c.jsx(bjn,{collapsed:!!s,collapsible:l,onClick:l?$:void 0,title:x}),w&&c.jsx(V,{marginLeft:2,children:c.jsx($a,{"data-testid":`deprecated-badge-${x}`,tone:"caution",children:I("form.field.deprecated-label")})}),T&&c.jsx(V,{marginLeft:2,children:c.jsx(Qw,{fontSize:1,placement:"top",validation:b})})]}),w&&c.jsx(gi,{"data-testid":`deprecated-message-${x}`,tone:"caution",size:1,children:w.reason}),d&&c.jsx(B,{muted:!0,size:1,id:Ig(v,d),children:d})]})}),c.jsx(Cjn,{$borderLeft:f>0,$focused:!!k,hidden:s,paddingLeft:f===0?0:3,onFocus:typeof y=="number"&&y>-1?j:void 0,ref:A,tabIndex:y,children:!s&&D})]})}),kjn=R.div`
  display: flex;
  justify-content: flex-end;
  box-sizing: border-box;
  min-height: var(--avatar-height);
  width: 77px;
  margin-left: var(--small-padding);

  &[data-max-avatars='1'] {
    max-width: 23px;
  }

  &[data-position='top'] {
    align-self: flex-start;
  }

  &[data-position='bottom'] {
    align-self: flex-end;
  }
`;function Sjn({children:e,maxAvatars:t,position:n="bottom"}){return c.jsx(kjn,{"data-max-avatars":t,"data-position":n,children:e})}function Ejn(e,t){const n=p.useRef(null);return p.useEffect(()=>{n.current=e},[e]),n.current}function is(e,t,n=Km){const r=Ejn(e);p.useEffect(()=>{n(r,e)||t(r,e)},[t,e,r,n])}const jy=Symbol.for("sanity.patch");function bs(e,t=[]){return{patchType:jy,type:"setIfMissing",path:t,value:e}}function lh(e,t,n=[]){return{patchType:jy,type:"insert",path:n,position:t,items:e}}function gt(e,t=[]){return{patchType:jy,type:"set",path:t,value:e}}function kt(e=[]){return{patchType:jy,type:"unset",path:e}}function _jn(e,t){return{...e,path:[t,...e.path]}}function fFe(){const e=[];return{publish(t){for(const n of e)n(t)},subscribe(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}}}class Ft{constructor(t){Z(this,"patches");this.patches=t}static from(t){return t instanceof Ft?t:new Ft(Array.isArray(t)?jr(t):[t])}prepend(...t){return Ft.from([...jr(t),...this.patches])}append(...t){return Ft.from([...this.patches,...jr(t)])}prefixAll(t){return Ft.from(this.patches.map(n=>_jn(n,t)))}}const v_=p.memo(function(e){const t=p.useRef(e);t.current=e;const n=p.useCallback(f=>{var h,m;return((m=(h=t.current)==null?void 0:h.transformPatches)==null?void 0:m.call(h,f))??[]},[t]),r=p.useCallback(f=>{t.current.onChange(f)},[]),i=p.useCallback((f,h)=>{t.current.onPathFocus(f,h)},[]),o=p.useCallback(f=>{t.current.onPathBlur(f)},[]),a=p.useCallback(f=>{t.current.onPathOpen(f)},[]),s=p.useCallback((f,h)=>{t.current.onSetPathCollapsed(f,h)},[]),l=p.useCallback((f,h)=>{t.current.onSetFieldSetCollapsed(f,h)},[]),u=p.useCallback((f,h)=>{t.current.onFieldGroupSelect(f,h)},[]),d=p.useMemo(()=>({transformPatches:n,onChange:r,onPathFocus:i,onPathBlur:o,onPathOpen:a,onSetPathCollapsed:s,onSetFieldSetCollapsed:l,onFieldGroupSelect:u}),[r,u,o,i,a,l,s,n]);return c.jsx(OH.Provider,{value:d,children:e.children})});function Zc(){const e=p.useContext(OH);if(!e)throw new Error("Form context not provided");return e}function RJ(e){if(Qo(e))return e.name==="object"?{}:{_type:e.name};if(sl(e))return[];if(e.jsonType==="string")return"";if(e.jsonType==="number")return 0;if(e.jsonType==="boolean")return!1}function Tjn(e=16){const t=new Uint8Array(e);return jE(t),t}const Ajn=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).slice(1);return e}})();function Ch(e){const t=Ajn();return Tjn(e).reduce((n,r)=>n+t[r],"").slice(0,e)}function jjn(e){return e._key!==void 0}function II(e){return jjn(e)?e:{...e,_key:Ch(12)}}const Ijn=(e,t)=>{const n=il(t);return e.of.find(r=>r.name===n)};function $jn(e,t){return Object.entries(e).map(([n,r])=>gt(r,[...t,n]))}function hFe(e,t,n){return ti(e).pipe(Ot(r=>{const i={_key:r._key};return Se(Ijn(t,r)).pipe(Ot(o=>o?Se(o):ur),Ot(o=>!jJ(r)||!n?ur:Di(Se({type:"patch",patches:[gt(!0,[i,"_resolvingInitialValue"])]}),Qi(()=>n(o,r)).pipe(Bt(Ro),fe(a=>({type:"patch",patches:$jn(a,[i])})),En(a=>Se({type:"error",error:a,item:r,schemaType:o}))),Se({type:"patch",patches:[kt([i,"_resolvingInitialValue"])]}))))}))}function FJ(e){const t=p.useRef(),{member:n,renderAnnotation:r,renderBlock:i,renderField:o,renderInlineBlock:a,renderInput:s,renderItem:l,renderPreview:u}=e,{t:d}=Q(),{onPathBlur:f,onPathFocus:h,onChange:m,onPathOpen:g,onSetPathCollapsed:y,onSetFieldSetCollapsed:x,onFieldGroupSelect:b}=Zc(),v=wQ(),w=E_(),{onCopy:C}=pC();is(n.item.focused,(K,q)=>{var X;!K&&q&&((X=t.current)==null||X.focus())});const k=p.useCallback(()=>{m(Ft.from([kt([{_key:n.key}])]))},[n.key,m]),S=p.useCallback(K=>{g(K),y(K,!1)},[g,y]),E=Nr(),_=p.useCallback(K=>{if(K.items.length===0)throw new Error("Insert event should include at least one item");const q=K.items.map(de=>II(de));m(Ft.from([lh(q,K.position,[{_key:n.key}])]));const X=q[0]._key,ie=[...n.item.path.slice(0,-1),{_key:X}];h(ie);const te=K.open!==!1;K.skipInitialValue?te&&S(ie):hFe(q,n.parentSchemaType,v).pipe(or(de=>{de.type==="patch"?m(Ft.from(de.patches)):E.push({title:d("inputs.array.error.cannot-resolve-initial-value-title"),description:d("inputs.array.error.cannot-resolve-initial-value-description",{schemaTypeTitle:de.schemaType.title,errorMessage:de.error.message}),status:"error"})})).subscribe({complete:()=>{te&&S(ie)}})},[S,n.item.path,n.key,n.parentSchemaType,m,h,v,E,d]),T=p.useCallback(K=>{const q=w([]);C(n.item.path,q,{context:{source:"arrayItem"},patchType:"append"})},[w,C,n.item.path]),A=p.useCallback(()=>{f(n.item.path)},[n.item.path,f]),I=p.useCallback(()=>{h(n.item.path)},[n.item.path,h]),j=p.useCallback(K=>{h(n.item.path.concat(K))},[n.item.path,h]),$=p.useCallback(K=>{m(Ft.from(K).prepend(bs(RJ(n.item.schemaType))).prefixAll({_key:n.key}))},[m,n.item.schemaType,n.key]),D=p.useCallback(()=>{y(n.item.path,!0)},[y,n.item.path]),O=p.useCallback(()=>{y(n.item.path,!1)},[y,n.item.path]),M=p.useCallback(K=>{y(n.item.path.concat(K),!0)},[y,n.item.path]),P=p.useCallback(K=>{y(n.item.path.concat(K),!1)},[y,n.item.path]),F=p.useCallback(()=>{g(n.item.path)},[g,n.item.path]),L=p.useCallback(K=>{g(n.item.path.concat(K))},[g,n.item.path]),U=p.useCallback(K=>{x(n.item.path.concat(K),!1)},[x,n.item.path]),H=p.useCallback(K=>{x(n.item.path.concat(K),!0)},[x,n.item.path]),N=p.useCallback(()=>{g(n.item.path)},[g,n.item.path]),Y=!n.item.value||jJ(n.item.value),J=p.useCallback(()=>{Y&&k();const K=n.item.path.slice(0,-1);g(K),h(K)},[Y,g,n.item.path,h,k]),ee=p.useCallback(K=>{b(n.item.path,K)},[b,n.item.path]),oe=p.useMemo(()=>({onBlur:A,onFocus:I,id:n.item.id,ref:t,"aria-describedby":Ig(n.item.id,n.item.schemaType.description)}),[A,I,n.item.id,n.item.schemaType.description]),re=p.useMemo(()=>({changed:n.item.changed,focusPath:n.item.focusPath,focused:n.item.focused,groups:n.item.groups,id:n.item.id,level:n.item.level,members:n.item.members,onChange:$,onFieldClose:F,onFieldCollapse:M,onFieldSetCollapse:H,onFieldExpand:P,onFieldSetExpand:U,onFieldGroupSelect:ee,onPathFocus:j,onFieldOpen:L,path:n.item.path,presence:n.item.presence,readOnly:n.item.readOnly,renderAnnotation:r,renderBlock:i,renderField:o,renderInlineBlock:a,renderInput:s,renderItem:l,renderPreview:u,schemaType:n.item.schemaType,validation:n.item.validation,value:n.item.value,elementProps:oe}),[oe,$,F,M,H,P,U,j,L,ee,n.item.changed,n.item.focusPath,n.item.focused,n.item.groups,n.item.id,n.item.level,n.item.members,n.item.path,n.item.presence,n.item.readOnly,n.item.schemaType,n.item.validation,n.item.value,r,i,o,a,s,l,u]),se=p.useMemo(()=>s(re),[re,s]),G=p.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,collapsible:n.collapsible,collapsed:n.collapsed,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:_,onCopy:T,onRemove:k,presence:n.item.presence,validation:n.item.validation,open:n.open,onOpen:N,onClose:J,onExpand:O,onCollapse:D,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:I,onBlur:A,inputId:n.item.id,path:n.item.path,children:se,changed:n.item.changed,inputProps:re}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.item.changed,n.collapsible,n.collapsed,n.parentSchemaType,n.open,_,T,k,N,J,O,D,I,A,se,re]);return c.jsx(v_,{onFieldGroupSelect:b,onChange:$,onPathOpen:g,onSetFieldSetCollapsed:x,onSetPathCollapsed:y,onPathBlur:f,onPathFocus:h,children:p.useMemo(()=>l(G),[G,l])})}const Djn=R(le)`
  max-width: ${({theme:e})=>e.sanity.container[1]}px;
`;function pFe(e){const{value:t,onFocus:n,vertical:r,...i}=e,[o,a]=p.useState(!1),s=p.useRef(null),{t:l}=Q();On(()=>a(!1),()=>[s.current]);const u=p.useCallback(h=>{(h.key==="Escape"||h.key==="Tab")&&a(!1)},[]),d=p.useCallback(()=>{a(h=>!h)},[]),f=il(t);return c.jsx(Fn,{open:o,ref:s,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:c.jsx(Djn,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:c.jsxs(ae,{space:4,children:[c.jsx(B,{weight:"medium",children:c.jsx(wt,{t:l,i18nKey:"inputs.array.error.type-is-incompatible-prompt",values:{typeName:f}})}),c.jsx(B,{size:1,weight:"medium",children:l("inputs.array.error.type-is-incompatible-title")}),c.jsx(B,{size:1,children:c.jsx(wt,{t:l,i18nKey:"inputs.array.error.current-schema-not-declare-description",values:{typeName:f}})}),c.jsx(V,{children:c.jsxs(B,{size:1,children:[c.jsx(_M,{})," ",l("inputs.array.error.can-delete-but-no-edit-description")]})}),c.jsxs(ae,{space:2,children:[c.jsx(B,{size:1,weight:"medium",children:l("inputs.array.error.json-representation-description")}),c.jsx(le,{padding:2,overflow:"auto",border:!0,children:c.jsx(Vi,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:c.jsx(le,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...i,children:c.jsxs(W,{align:"center",children:[c.jsx(V,{marginRight:3,children:c.jsx(B,{children:c.jsx(Tu,{})})}),c.jsx(V,{flex:1,children:c.jsx(B,{size:1,textOverflow:"ellipsis",children:c.jsx(wt,{t:l,i18nKey:"inputs.array.error.type-is-incompatible-prompt",values:{typeName:f}})})})]})})})}function Ojn(e){const{member:t}=e,{t:n}=Q();return t.error.type==="INVALID_ITEM_TYPE"?c.jsx(pFe,{value:t.error.value}):c.jsx("div",{children:n("inputs.array.error.unexpected-error",{error:t.error.type})})}function LJ(e){switch(e.jsonType){case"string":return"";case"number":return-0;case"boolean":return!1;default:throw new Error(`Unable to create value from type "${e.jsonType}"`)}}function mFe(e,t,n){return Hm(e)&&typeof n=="string"&&Number(n)===t?n:String(t??"")}function Mjn(e){const t=p.useRef(),{member:n,renderItem:r,renderInput:i}=e,[o,a]=p.useState(),{onPathBlur:s,onPathFocus:l,onChange:u}=Zc(),d=E_(),{onCopy:f}=pC();is(n.item.focused,(E,_)=>{var T;!E&&_&&((T=t.current)==null||T.focus())});const h=p.useCallback(E=>{s(n.item.path)},[n.item.path,s]),m=p.useCallback(E=>{l(n.item.path)},[n.item.path,l]),g=p.useCallback(E=>{u(Ft.from(E).prefixAll(n.index))},[u,n.index]),y=p.useCallback(E=>{let _=E.currentTarget.value;if(Hm(n.item.schemaType)){if(_=E.currentTarget.valueAsNumber,_>Number.MAX_SAFE_INTEGER||_<Number.MIN_SAFE_INTEGER)return}else aE(n.item.schemaType)&&(_=E.currentTarget.checked);const T=_===""||typeof _=="number"&&isNaN(_);Hm(n.item.schemaType)&&a(T?void 0:E.currentTarget.value),g(gt(T?LJ(n.item.schemaType):_))},[g,n.item.schemaType]),x=p.useMemo(()=>({onBlur:h,onFocus:m,id:n.item.id,ref:t,onChange:y,value:Pjn(n.item.schemaType,n.item.value,o),readOnly:!!n.item.readOnly,placeholder:n.item.schemaType.placeholder,"aria-describedby":Ig(n.item.id,n.item.schemaType.description)}),[h,m,y,n.item.id,n.item.readOnly,n.item.schemaType,n.item.value,o]),b=p.useMemo(()=>({changed:n.item.changed,level:n.item.level,value:n.item.value,readOnly:n.item.readOnly,schemaType:n.item.schemaType,id:n.item.id,path:n.item.path,focused:n.item.focused,onChange:g,validation:n.item.validation,presence:n.item.presence,elementProps:x}),[n.item.changed,n.item.level,n.item.value,n.item.readOnly,n.item.schemaType,n.item.id,n.item.path,n.item.focused,n.item.validation,n.item.presence,g,x]),v=p.useMemo(()=>i(b),[b,i]),w=p.useCallback(()=>{u(Ft.from([kt([n.index])]))},[n.index,u]),C=p.useCallback(E=>{u(Ft.from([lh(E.items,E.position,[n.index])]))},[n.index,u]),k=p.useCallback(E=>{const _=d([]);f(n.item.path,_,{context:{source:"arrayItem"},patchType:"append"})},[d,n.item.path,f]),S=p.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:C,onCopy:k,onRemove:w,presence:n.item.presence,validation:n.item.validation,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:m,onBlur:h,inputId:n.item.id,path:n.item.path,children:v}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.parentSchemaType,C,k,w,m,h,v]);return c.jsx(c.Fragment,{children:p.useMemo(()=>r(S),[S,r])})}function Pjn(e,t,n){return Object.is(t,-0)?"":mFe(e,t,n)}function eC(e){if(!Qo(e))throw new Error(`Invalid item type: "${e.type}". Default array input can only contain objects (for now)`);return{...RJ(e),_key:sP(12)}}const c1e="before",u1e="after";function Rjn(e,t,n,...r){if(t!==c1e&&t!==u1e)throw new Error(`Invalid position "${t}", must be either ${c1e} or ${u1e}`);const i=d1e(...r);if(e.length===0)return i;const o=e.length,a=Math.abs((o+n)%o)%o,s=t==="after"?a+1:a,l=e.slice();return l.splice(s,0,...d1e(i)),l}function d1e(...e){return e.reduce((t,n)=>t.concat(n),[])}const f1e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);function Fjn(e,t,n){const r=e.slice(),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}function Ljn(e,t){if(typeof t=="number")return t;const n=rZ(e,t);return n===-1?!1:n}function Njn(e,t){const n=e.slice();if(t.path.length===0){if(t.type==="setIfMissing"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return e===void 0?t.value:e}else if(t.type==="set"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}else{if(t.type==="unset")return;if(t.type==="move"){if(!t.value||!f1e(t.value,"from")||!f1e(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: ${JSON.stringify(t.value)}`);return Fjn(n,t.value.from,t.value.to)}}throw new Error(`Invalid array operation: ${t.type}`)}const[r,...i]=t.path,o=Ljn(e,r);if(o===!1)return n;if(i.length===0){if(t.type==="insert"){const{position:a,items:s}=t;return Rjn(e,a,o,s)}else if(t.type==="unset"){if(typeof o!="number")throw new Error(`Expected array index to be a number, instead got "${o}"`);return n.splice(o,1),n}}return n[o]=BJ(n[o],{...t,path:i}),n}function Bjn(e,t){const n=_Oe(e);if(t.path.length===0){if(t.type==="set"){if(!Twe(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}else{if(t.type==="unset")return;if(t.type==="setIfMissing")return e===void 0?t.value:e}throw new Error(`Invalid object operation: ${t.type}`)}const[r,...i]=t.path;if(typeof r!="string")throw new Error(`Expected field name to be a string, instad got: ${r}`);return i.length===0&&t.type==="unset"?Po(n,r):(n[r]=BJ(n[r],{...t,path:i}),n)}const gFe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},inc(e,t){return e+t},dec(e,t){return e-t}},Vjn=Object.keys(gFe);function zjn(e,t){if(!Vjn.includes(t.type))throw new Error(`Received patch of unsupported type "${t.type}" for primitives. This is most likely a bug.`);if(t.path.length>0)throw new Error(`Cannot apply deep operations on primitive values. Received patch with type "${t.type}" and path "${t.path.map(n=>JSON.stringify(n)).join(".")} that targeted the value "${JSON.stringify(e)}"`);return gFe[t.type](e,t.value)}const yFe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},diffMatchPatch(e,t){const[n]=BP(lZ(t),e,{allowExceedingIndices:!0});return n}},Ujn=Object.keys(yFe);function Hjn(e,t){if(!Ujn.includes(t.type))throw new Error(`Received patch of unsupported type: "${JSON.stringify(t.type)}" for string. This is most likely a bug.`);if(t.path.length>0)throw new Error(`Cannot apply deep operations on string values. Received patch with type "${t.type}" and path "${t.path.join(".")} that targeted the value "${JSON.stringify(e)}"`);return yFe[t.type](e,t.value)}function NJ(e,t){return t.reduce(BJ,e)}function Wjn(e,t){return Array.isArray(e)?Njn(e,t):cJ(e)?Hjn(e,t):Twe(e)?Bjn(e,t):zjn(e,t)}function BJ(e,t){return Wjn(e,t)}function Gjn(e){const t=p.useMemo(()=>({actions:e.actions||hn}),[e.actions]);return c.jsx(zxe.Provider,{value:t,children:e.children})}function NR(){const e=p.useContext(zxe);if(!e)throw new Error("useDocumentFieldActions must be used within a DocumentFieldActionsProvider");return e.actions}function Od(e,t){return t.name===e||!!(t.type&&Od(e,t.type))}function ID(e,t){if(!e||!t)return!0;const n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some(a=>{const s=a.trim().toLowerCase();return s.charAt(0)==="."?r?r.toLowerCase().endsWith(s):!0:s.endsWith("/*")?o===s.replace(/\/.*$/,""):i===s})}const vFe=4;function h1e(e,t){const n=e.indexOf(t);return n>-1&&e.splice(n,1),e}function Kjn(e,t=vFe){const n=Yjn(t);return(...r)=>ti(n(e(...r)))}function Yjn(e=vFe){const t=[],n=[],r=new Jr;return i;function i(s){return new Lt(l=>{if(t.length>=e)return o(s).pipe(Ot(i)).subscribe(l);const u=s.subscribe(l);return t.push(u),()=>{h1e(t,u),h1e(n,s),u.unsubscribe(),a()}})}function o(s){return n.push(s),r.asObservable().pipe(cAe(l=>l===s))}function a(){for(;n.length>0&&t.length<e;)r.next(n.shift())}}const qjn=4;function Zjn(e,t,n,r={}){const i=r.metadata,o=r.storeOriginalFilename,{label:a,title:s,description:l,creditLine:u,source:d}=r;return tIn(n).pipe(En(()=>Se(null)),Ot(f=>f?Qjn(e,`sanity.${t}Asset`,f):Se(null)),Ot(f=>f?Se({type:"complete",id:f._id,asset:f}):e.observable.assets.upload(t,n,{tag:"asset.upload",extract:i,preserveFilename:o,label:a,title:s,description:l,creditLine:u,source:d}).pipe(fe(h=>h.type==="response"?{type:"complete",id:h.body.document._id,asset:h.body.document}:h))))}const bFe=Kjn(Zjn,qjn),Xjn=(e,t,n)=>bFe(e,"image",t,n),Jjn=(e,t,n)=>bFe(e,"file",t,n);function xFe(e,t){return e.observePaths({_type:"reference",_ref:t},["originalFilename","url","metadata","label","title","description","creditLine","source","size"]).pipe(At(n=>{if(n===null)throw new Error(`No asset found in documentPreviewStore with id: ${t}`);return Se(n)}),Ext({count:5,delay:1e3}),En(n=>(console.error("Final error after retries, asset not found in documentPreviewStore:",n),Se(null))))}function wFe(e,t){return xFe(e,t)}function CFe(e,t){return xFe(e,t)}function Qjn(e,t,n){return e.observable.fetch("*[_type == $documentType && sha1hash == $hash][0]",{documentType:t,hash:n},{tag:"asset.find-duplicate"})}function eIn(e){return new Lt(t=>{const n=new FileReader;return n.onload=()=>{t.next(n.result),t.complete()},n.onerror=r=>{t.error(r)},n.readAsArrayBuffer(e),()=>{n.abort()}})}function tIn(e){return!window.crypto||!window.crypto.subtle||!window.FileReader?Se(null):eIn(e).pipe(Ot(t=>crypto.subtle.digest("SHA-1",t)),fe(nIn))}function nIn(e){return Array.prototype.map.call(new Uint8Array(e),t=>`00${t.toString(16)}`.slice(-2)).join("")}const mu="_upload",rIn=kt([mu]);function K1(e=[]){return{type:"uploadProgress",patches:e}}const kFe=K1([rIn]);function SFe(e){const t=new Date().toISOString(),n={progress:2,createdAt:t,updatedAt:t,file:{name:e.name,type:e.type}};return K1([gt(n,[mu])])}function EFe(e,t,n){const r=Jjn(e,t,n).pipe(fe(i=>i.type==="complete"?K1([gt({_type:"reference",_ref:i.asset._id},["asset"]),gt(100,[mu,"progress"]),gt(new Date().toISOString(),[mu,"updated"])]):K1([gt(i.percent,[mu,"progress"]),gt(new Date().toISOString(),[mu,"updated"])])));return Di(Se(SFe(t)),r,Se(kFe))}function p1e(e){return[5,6,7,8].indexOf(e)>-1}function iIn(e,t){const n=t.x,r=t.y,i=(t.degrees||0)*(Math.PI/180);e==null||e.translate(n,r),e==null||e.rotate(i),e==null||e.translate(-n,-r)}function m1e(e,t,n){const r=e.getContext("2d");r==null||r.translate(t?e.width:0,n?e.height:0),r==null||r.scale(t?-1:1,n?-1:1)}const oIn=[{op:"none",degrees:0},{op:"flip-x",degrees:0},{op:"none",degrees:180},{op:"flip-y",degrees:0},{op:"flip-x",degrees:90},{op:"none",degrees:90},{op:"flip-x",degrees:-90},{op:"none",degrees:-90}],aIn=["top-left","top-right","bottom-right","bottom-left","left-top","right-top","right-bottom","left-bottom"],sIn="top-left",lIn=120;function cIn(e,t){const n=oIn[t-1],r=e.height/e.width;e.width=lIn/r,e.height=e.width*r;const i=document.createElement("canvas"),o=i.getContext("2d");if(p1e(t)?(i.height=e.width,i.width=e.height):(i.width=e.width,i.height=e.height),n.op==="flip-x"&&m1e(i,!0,!1),n.op==="flip-y"&&m1e(i,!1,!0),n.degrees&&(iIn(o,{degrees:n.degrees,x:i.width/2,y:i.height/2}),p1e(t))){const a=i.width-i.height;o==null||o.translate(a/2,-a/2)}return o==null||o.drawImage(e,0,0,e.width,e.height),i}function uIn(e,t){return new Lt(n=>{const r=aIn.indexOf(t)+1,i=cIn(e,r);n.next(i.toDataURL("image/jpeg",.1)),n.complete()})}function dIn(e,t){return new Lt(n=>{const r=new window.FileReader;return r.onerror=i=>n.error(i),r.onload=()=>{n.next(r.result),n.complete()},r.readAsArrayBuffer(e.slice(0,t)),()=>r.abort()})}const fIn=/(invalid image format)|(No exif data)/i,hIn=128e3;function pIn(e){return ti(dIn(e,hIn)).pipe(fe(t=>I5n(t)),En(t=>(fIn.test(t.message)||console.warn(`Exif read failed, continuing anyway: ${t.message}`),Se({}))))}function mIn(e){return new Lt(t=>{const n=new window.Image;return n.onerror=()=>{t.error(new Error(`Could not load image from url "${e}". Image may be of an unsupported format`))},n.onload=()=>{t.next(n),t.complete()},n.src=e,()=>{}})}function gIn(e,t){return mIn(window.URL.createObjectURL(e)).pipe(Ot(n=>uIn(n,t)))}function yIn(e,t,n){const r=Xjn(e,t,n).pipe(Bt(o=>o.stage!=="download"),fe(o=>({...o,progress:2+o.percent/100*98})),fe(o=>o.type==="complete"?K1([gt({_type:"reference",_ref:o.asset._id},["asset"]),gt(100,[mu,"progress"]),gt(new Date().toISOString(),[mu,"updatedAt"])]):K1([gt(o.percent,[mu,"progress"]),gt(new Date().toISOString(),[mu,"updatedAt"])]))),i=pIn(t).pipe(Ot(o=>gIn(t,o.orientation||sIn)),En(o=>(console.warn('Image preprocessing failed for "%s" with the error: %s',t.name,o.message),Se(null))),Bt(Boolean),fe(o=>K1([gt(o,[mu,"previewImage"])])));return Di(Se(SFe(t)),Un(r,i),Se(kFe))}const vIn={type:"image",accepts:"image/*",upload:(e,t,n,r)=>yIn(e,t,r)},bIn={type:"file",accepts:"",upload:(e,t,n,r)=>EFe(e,t,r)},xIn={type:"string",accepts:"text/*",upload:(e,t,n,r)=>EFe(e,t,r).pipe(fe(i=>({type:"uploadProgress",patches:[gt(i)]})))},wIn=[vIn,xIn,bIn].map((e,t)=>({...e,priority:t}));function VJ(e,t){return wIn.find(n=>{var r;return Od(n.type,e)&&ID(t,n.accepts)&&ID(t,((r=e.options)==null?void 0:r.accept)||"")})||null}function CIn(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onSetPathCollapsed:i,onSetFieldSetCollapsed:o,onPathOpen:a,onFieldGroupSelect:s}=Zc(),{member:l,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:h,renderInput:m,renderItem:g,renderPreview:y}=e,x=NR(),b=p.useRef(),v=p.useRef({});is(l.field.focused,(q,X)=>{var ie;!q&&X&&((ie=b.current)==null||ie.focus())});const w=p.useCallback(q=>{q.currentTarget===q.target&&q.currentTarget===b.current&&n(l.field.path)},[l.field.path,n]),C=p.useCallback(q=>{q.currentTarget===q.target&&q.currentTarget===b.current&&t(l.field.path)},[l.field.path,t]),k=p.useRef(l.field.value);p.useEffect(()=>{k.current=l.field.value},[l.field.value]);const S=p.useCallback(q=>{const X=Ft.from(q).patches;if(X.some(ie=>ie.type==="unset"&&ie.path.length===1)&&(k.current=NJ(k.current||[],X),Array.isArray(k.current)&&!k.current.length)){r(Ft.from(kt([l.name])));return}r(Ft.from(q).prepend(bs([])).prefixAll(l.name))},[r,l.name,k]),E=wQ(),_=Nr(),T=p.useCallback(()=>{i(l.field.path,!0)},[i,l.field.path]),A=p.useCallback(()=>{i(l.field.path,!1)},[i,l.field.path]),I=p.useCallback(q=>{i(l.field.path.concat({_key:q}),!0)},[i,l.field.path]),j=p.useCallback(q=>{i(l.field.path.concat({_key:q}),!1)},[i,l.field.path]),$=p.useCallback(q=>{a(q),i(q,!1)},[a,i]),D=p.useCallback(()=>{a(l.field.path),i(l.field.path,!0)},[a,l.field.path,i]),O=p.useCallback(q=>{if(q.items.length===0)throw new Error("Insert event should include at least one item");const X=q.items.map(pe=>II(pe));S(Ft.from([lh(X,q.position,[q.referenceItem])]));const ie=X[0]._key,te=[...l.field.path,{_key:ie}];n(te);const de=q.open!==!1;q.skipInitialValue?de&&$(te):hFe(X,l.field.schemaType,E).pipe(or(pe=>{pe.type==="patch"?S(pe.patches):_.push({title:"Could not resolve initial value",description:`Unable to resolve initial value for type: ${pe.schemaType.title}: ${pe.error.message}.`,status:"error"})})).subscribe({complete:()=>{de&&$(te)}})},[S,$,l.field.path,l.field.schemaType,n,E,_]),M=p.useCallback(q=>{const X=l.field.value,ie=X==null?void 0:X[q.fromIndex],te=X==null?void 0:X[q.toIndex];if(q.fromIndex!==q.toIndex){if(!(ie!=null&&ie._key)||!(te!=null&&te._key)){console.error("Neither the item you are moving nor the item you are moving to have a key. Cannot continue.");return}S([kt([{_key:ie._key}]),lh([ie],q.fromIndex>q.toIndex?"before":"after",[{_key:te._key}])])}},[S,l.field.value]),P=p.useCallback(q=>{S([bs([]),lh([II(q)],"before",[0])])},[S]),F=p.useCallback(q=>{S([bs([]),lh([II(q)],"after",[-1])])},[S]),L=p.useCallback(q=>{v.current[q]&&(v.current[q].unsubscribe(),delete v.current[q]),S([kt([{_key:q}])])},[S]),U=p.useCallback((q,X)=>{n(l.field.path.concat(q),X)},[l.field.path,n]),H=p.useMemo(()=>({onBlur:C,onFocus:w,id:l.field.id,ref:b,"aria-describedby":Ig(l.field.id,l.field.schemaType.description)}),[C,w,l.field.id,l.field.schemaType.description]),N=on(en),Y=vf(),J=Y.__internal.image.directUploads,ee=Y.__internal.file.directUploads,oe=p.useCallback((q,X)=>Od("image",q)&&!J||Od("file",q)&&!ee?null:VJ(q,X),[ee,J]),re=p.useCallback(({file:q,schemaType:X,uploader:ie})=>{const te=eC(X),de=te._key;O({items:[te],position:"after",referenceItem:-1,open:!1});const pe={metadata:yr(X,"options.metadata"),storeOriginalFilename:yr(X,"options.storeOriginalFilename")},ve=ie.upload(N,q,X,pe).pipe(fe(Ce=>Ft.from(Ce.patches||[]).prefixAll({_key:de})),or(Ce=>S(Ce.patches)));v.current={...v.current,[de]:ve.subscribe()}},[N,S,O]),se=p.useMemo(()=>({level:l.field.level,members:l.field.members,value:l.field.value,readOnly:l.field.readOnly,schemaType:l.field.schemaType,changed:l.field.changed,id:l.field.id,onItemExpand:j,onItemCollapse:I,onItemClose:D,onItemOpen:$,focusPath:l.field.focusPath,focused:l.field.focused,path:l.field.path,onChange:S,onInsert:O,onItemMove:M,onItemRemove:L,onItemAppend:F,onItemPrepend:P,onPathFocus:U,resolveInitialValue:E,onUpload:re,resolveUploader:oe,validation:l.field.validation,presence:l.field.presence,renderAnnotation:u,renderBlock:d,renderInlineBlock:h,renderInput:m,renderField:f,renderItem:g,renderPreview:y,elementProps:H}),[l.field.level,l.field.members,l.field.value,l.field.readOnly,l.field.schemaType,l.field.changed,l.field.id,l.field.focusPath,l.field.focused,l.field.path,l.field.validation,l.field.presence,j,I,D,$,S,O,M,L,F,P,U,E,re,oe,u,d,h,m,f,g,y,H]),G=p.useMemo(()=>m(se),[se,m]),K=p.useMemo(()=>({actions:x,name:l.name,index:l.index,level:l.field.level,value:l.field.value,title:l.field.schemaType.title,description:l.field.schemaType.description,collapsible:l.collapsible,collapsed:l.collapsed,changed:l.field.changed,onCollapse:T,onExpand:A,schemaType:l.field.schemaType,inputId:l.field.id,path:l.field.path,presence:l.field.presence,validation:l.field.validation,children:G,inputProps:se}),[x,l.name,l.index,l.field.level,l.field.value,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.field.presence,l.field.validation,l.collapsible,l.collapsed,T,A,G,se]);return c.jsx(v_,{onFieldGroupSelect:s,onChange:S,onSetFieldSetCollapsed:o,onSetPathCollapsed:i,onPathOpen:a,onPathBlur:t,onPathFocus:n,children:p.useMemo(()=>f(K),[K,f])})}function kIn(e,t){return new Lt(n=>{const r=new FileReader;return r.onerror=i=>n.error(i),r.onload=()=>{n.next(r.result),n.complete()},r.readAsText(e,t),()=>{r.abort()}})}function SIn(e,t,n){const r=e.slice(),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}function EIn(e,t,n){const r=t.slice();return r.splice(e+1,0,...n),r}function _In(e){return/^\d+$/.test(e)}function TIn(e,t){let n=!1,r=!1,i=!1;return t.forEach(o=>{aE(o)&&(n=!0),iK(o)&&(i=!0),Hm(o)&&(r=!0)}),n&&(e==="true"||e==="false")?e==="true":r&&_In(e)?Number(e):i?e:void 0}function AIn(e){return{priority:0,accepts:"text/*",type:"string",upload(t,n){return kIn(n,"utf-8").pipe(fe(r=>r==null?void 0:r.split(/[\n\r]/).map(i=>TIn(i,e)).filter(i=>i!==void 0)),Bt(r=>Array.isArray(r)),fe(r=>({type:"uploadProgress",patches:[lh(r,"after",[-1])]})))}}}function jIn(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onPathOpen:i,onSetPathCollapsed:o,onSetFieldSetCollapsed:a,onFieldGroupSelect:s}=Zc(),{member:l,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:h,renderInput:m,renderItem:g,renderPreview:y}=e,x=NR(),b=p.useRef(),v=p.useRef(),w=on(en);is(l.field.focused,(J,ee)=>{var oe;!J&&ee&&((oe=b.current)==null||oe.focus())});const C=p.useCallback(J=>{J.currentTarget===J.target&&J.currentTarget===b.current&&n(l.field.path)},[l.field.path,n]),k=p.useCallback(J=>{J.currentTarget===J.target&&J.currentTarget===b.current&&t(l.field.path)},[l.field.path,t]),S=p.useCallback(J=>{const ee=Ft.from(J).patches;if(ee.some(oe=>oe.type==="unset"&&oe.path.length===1)){const oe=NJ(l.field.value||[],ee);if(Array.isArray(oe)&&!oe.length){r(Ft.from(kt([l.name])));return}}r(Ft.from(J).prepend(bs([])).prefixAll(l.name))},[r,l.name,l.field.value]),E=p.useCallback(J=>{o(l.field.path,J)},[o,l.field.path]),_=p.useCallback(()=>{o(l.field.path,!0)},[o,l.field.path]),T=p.useCallback(()=>{o(l.field.path,!1)},[o,l.field.path]),A=p.useCallback(J=>{S(J.length===0?kt():gt(J))},[S]),I=p.useCallback(J=>{const{value:ee=[]}=l.field;J.fromIndex!==J.toIndex&&A(SIn(ee,J.fromIndex,J.toIndex))},[l.field,A]),j=p.useCallback(J=>{const{value:ee=[]}=l.field;A(ee.concat(J))},[l.field,A]),$=p.useCallback(J=>{const{value:ee=[]}=l.field;A([J].concat(ee||[]))},[l.field,A]),D=p.useCallback(J=>{const{value:ee=[]}=l.field,oe=J.referenceIndex+(J.position==="before"?-1:0);A(EIn(oe,ee,J.items))},[l.field,A]),O=p.useCallback(J=>{S(kt([J]))},[S]),M=p.useCallback(J=>{n(l.field.path.concat([J]))},[l.field.path,n]),P=p.useMemo(()=>({onBlur:k,onFocus:C,id:l.field.id,ref:b,"aria-describedby":Ig(l.field.id,l.field.schemaType.description)}),[k,C,l.field.id,l.field.schemaType.description]),F=p.useMemo(()=>AIn(l.field.schemaType.of),[l.field.schemaType.of]),L=p.useCallback((J,ee)=>ID(ee,"text/*")?F:null,[F]),U=p.useCallback(({file:J,schemaType:ee,uploader:oe})=>{const re=oe.upload(w,J,ee).pipe(fe(se=>Ft.from(se.patches||[])),or(se=>S(se.patches)));v.current&&v.current.unsubscribe(),v.current=re.subscribe()},[w,S]),H=p.useMemo(()=>({level:l.field.level,members:l.field.members,value:l.field.value,readOnly:l.field.readOnly,onSetCollapsed:E,schemaType:l.field.schemaType,changed:l.field.changed,id:l.field.id,elementProps:P,path:l.field.path,focusPath:l.field.focusPath,focused:l.field.focused,onChange:S,onInsert:D,onMoveItem:I,onItemRemove:O,onItemAppend:j,onItemPrepend:$,validation:l.field.validation,presence:l.field.presence,resolveUploader:L,onUpload:U,renderAnnotation:u,renderBlock:d,renderInlineBlock:h,renderInput:m,renderItem:g,onIndexFocus:M,renderPreview:y}),[l.field.level,l.field.members,l.field.value,l.field.readOnly,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.field.focusPath,l.field.focused,l.field.validation,l.field.presence,E,P,S,D,I,O,j,$,L,U,u,d,h,m,g,M,y]),N=p.useMemo(()=>m(H),[H,m]),Y=p.useMemo(()=>({actions:x,name:l.name,index:l.index,level:l.field.level,value:l.field.value,title:l.field.schemaType.title,description:l.field.schemaType.description,collapsible:l.collapsible,collapsed:l.collapsed,onExpand:T,changed:l.field.changed,onCollapse:_,schemaType:l.field.schemaType,inputId:l.field.id,path:l.field.path,presence:l.field.presence,validation:l.field.validation,children:N,inputProps:H}),[x,l.name,l.index,l.field.level,l.field.value,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.field.presence,l.field.validation,l.collapsible,l.collapsed,T,_,N,H]);return c.jsx(v_,{onFieldGroupSelect:s,onChange:S,onPathOpen:i,onSetFieldSetCollapsed:a,onSetPathCollapsed:o,onPathBlur:t,onPathFocus:n,children:p.useMemo(()=>f(Y),[Y,f])})}function _Fe(e){return Qo(e.field.schemaType)}function IIn(e){return sl(e.field.schemaType)&&e.field.schemaType.of.every(t=>SM(t))}function zJ(e){return sl(e.field.schemaType)&&e.field.schemaType.of.every(t=>Qo(t))}const $In=function(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onPathOpen:i,onSetPathCollapsed:o,onSetFieldSetCollapsed:a,onFieldGroupSelect:s}=Zc(),{member:l,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:h,renderInput:m,renderItem:g,renderPreview:y}=e,x=NR(),b=p.useRef(),v=p.useRef(l.field.value);p.useEffect(()=>{v.current=l.field.value},[l.field.value]),is(l.field.focused,(N,Y)=>{var J;!N&&Y&&((J=b.current)==null||J.focus())});const w=p.useCallback(()=>{t(l.field.path)},[l.field.path,t]),C=p.useCallback(()=>{n(l.field.path)},[l.field.path,n]),k=p.useCallback(N=>{n(l.field.path.concat(N))},[l.field.path,n]),S=p.useCallback(N=>{if(l.field.path.length!==0){const Y=Ft.from(N).patches;if(v.current=NJ(v.current||{},Y),v.current&&WMt(v.current)){r(Ft.from(kt([l.name])));return}}r(Ft.from(N).prepend(bs(RJ(l.field.schemaType))).prefixAll(l.name))},[r,l,v]),E=p.useCallback(()=>{o(l.field.path,!0)},[o,l.field.path]),_=p.useCallback(()=>{o(l.field.path,!1)},[o,l.field.path]),T=p.useCallback(N=>{o(l.field.path.concat(N),!0)},[o,l.field.path]),A=p.useCallback(N=>{o(l.field.path.concat(N),!1)},[o,l.field.path]),I=p.useCallback(N=>{i(l.field.path.concat(N))},[i,l.field.path]),j=p.useCallback(()=>{i(l.field.path)},[i,l.field.path]),$=p.useCallback(N=>{a(l.field.path.concat(N),!1)},[a,l.field.path]),D=p.useCallback(N=>{a(l.field.path.concat(N),!0)},[a,l.field.path]),O=p.useCallback(()=>{i(l.field.path)},[i,l.field.path]),M=p.useCallback(()=>{i(l.field.path.slice(0,-1))},[i,l.field.path]),P=p.useCallback(N=>{s(l.field.path,N)},[s,l.field.path]),F=p.useMemo(()=>({onBlur:w,onFocus:C,id:l.field.id,ref:b,"aria-describedby":Ig(l.field.id,l.field.schemaType.description)}),[w,C,l.field.id,l.field.schemaType.description]),L=p.useMemo(()=>({elementProps:F,level:l.field.level,members:l.field.members,value:l.field.value,readOnly:l.field.readOnly,validation:l.field.validation,presence:l.field.presence,schemaType:l.field.schemaType,changed:l.field.changed,id:l.field.id,onFieldGroupSelect:P,onFieldOpen:I,onFieldClose:j,onFieldCollapse:T,onFieldExpand:A,onFieldSetExpand:$,onFieldSetCollapse:D,onPathFocus:k,path:l.field.path,focusPath:l.field.focusPath,focused:l.field.focused,groups:l.field.groups,onChange:S,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:h,renderInput:m,renderItem:g,renderPreview:y}),[F,l.field.level,l.field.members,l.field.value,l.field.readOnly,l.field.validation,l.field.presence,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.field.focusPath,l.field.focused,l.field.groups,P,I,j,T,A,$,D,k,S,u,d,f,h,m,g,y]),U=p.useMemo(()=>m(L),[L,m]),H=p.useMemo(()=>({actions:x,name:l.name,index:l.index,level:l.field.level,value:l.field.value,validation:l.field.validation,presence:l.field.presence,title:l.field.schemaType.title,description:l.field.schemaType.description,collapsible:l.collapsible,collapsed:l.collapsed,onCollapse:E,onExpand:_,open:l.open,changed:l.field.changed,onOpen:O,onClose:M,schemaType:l.field.schemaType,inputId:l.field.id,path:l.field.path,children:U,inputProps:L}),[x,l.name,l.index,l.field.level,l.field.value,l.field.validation,l.field.presence,l.field.schemaType,l.field.changed,l.field.id,l.field.path,l.collapsible,l.collapsed,l.open,E,_,O,M,U,L]);return c.jsx(v_,{onFieldGroupSelect:s,onChange:S,onSetFieldSetCollapsed:a,onPathOpen:i,onSetPathCollapsed:o,onPathBlur:t,onPathFocus:n,children:p.useMemo(()=>f(H),[H,f])})};function DIn(e){const{member:t,renderInput:n,renderField:r}=e,i=NR(),o=p.useRef(),[a,s]=p.useState(),{onPathBlur:l,onPathFocus:u,onChange:d}=Zc();p.useEffect(()=>{var C;t.field.focused&&((C=o.current)==null||C.focus())},[t.field.focused]);const f=p.useCallback(()=>{l(t.field.path)},[t.field.path,l]),h=p.useCallback(()=>{u(t.field.path)},[t.field.path,u]),m=p.useCallback(C=>{d(Ft.from(C).prefixAll(t.name))},[d,t.name]),g=p.useCallback(C=>{let k=C.currentTarget.value;if(Hm(t.field.schemaType)){if(k=C.currentTarget.valueAsNumber,k>Number.MAX_SAFE_INTEGER||k<Number.MIN_SAFE_INTEGER)return}else aE(t.field.schemaType)&&(k=C.currentTarget.checked);const S=k===""||typeof k=="number"&&isNaN(k);Hm(t.field.schemaType)&&s(S?void 0:C.currentTarget.value),d(Ft.from(S?kt():gt(k)).prefixAll(t.name))},[t.name,t.field.schemaType,d]),y=p.useMemo(()=>t.field.validation.filter(C=>C.level==="error").map(C=>C.message).join(`
`),[t.field.validation])||void 0,x=p.useMemo(()=>({onBlur:f,onFocus:h,id:t.field.id,ref:o,onChange:g,value:mFe(t.field.schemaType,t.field.value,a),readOnly:!!t.field.readOnly,placeholder:t.field.schemaType.placeholder,"aria-describedby":Ig(t.field.id,t.field.schemaType.description)}),[f,h,g,t.field.id,t.field.readOnly,t.field.schemaType,t.field.value,a]),b=p.useMemo(()=>({value:t.field.value,readOnly:t.field.readOnly,schemaType:t.field.schemaType,changed:t.field.changed,id:t.field.id,path:t.field.path,focused:t.field.focused,level:t.field.level,onChange:m,validation:t.field.validation,presence:t.field.presence,validationError:y,elementProps:x}),[t.field.value,t.field.readOnly,t.field.schemaType,t.field.changed,t.field.id,t.field.path,t.field.focused,t.field.level,t.field.validation,t.field.presence,m,y,x]),v=p.useMemo(()=>n(b),[b,n]),w=p.useMemo(()=>({actions:i,changed:t.field.changed,children:v,description:t.field.schemaType.description,index:t.index,inputId:t.field.id,inputProps:b,level:t.field.level,name:t.name,path:t.field.path,presence:t.field.presence,schemaType:t.field.schemaType,title:t.field.schemaType.title,validation:t.field.validation,value:t.field.value}),[i,t.field.level,t.field.value,t.field.schemaType,t.field.id,t.field.path,t.field.validation,t.field.presence,t.field.changed,t.name,t.index,v,b]);return c.jsx(c.Fragment,{children:r(w)})}const b_=p.memo(function(e){const{member:t,renderAnnotation:n,renderBlock:r,renderField:i,renderInlineBlock:o,renderInput:a,renderItem:s,renderPreview:l}=e;return _Fe(t)?c.jsx($In,{member:t,renderAnnotation:n,renderBlock:r,renderField:i,renderInlineBlock:o,renderInput:a,renderItem:s,renderPreview:l}):IIn(t)?c.jsx(jIn,{member:t,renderAnnotation:n,renderBlock:r,renderField:i,renderInput:a,renderInlineBlock:o,renderItem:s,renderPreview:l}):zJ(t)?c.jsx(CIn,{member:t,renderAnnotation:n,renderBlock:r,renderField:i,renderInlineBlock:o,renderInput:a,renderItem:s,renderPreview:l}):c.jsx(DIn,{member:t,renderField:i,renderInput:a})}),Yl=!1,OIn={warning:"caution",error:"critical"},MIn=R(V)`
  border-top: 1px solid var(--card-border-color);
`;function ed(e){const{children:t,status:n="warning",suffix:r,title:i,...o}=e;return c.jsxs(le,{radius:2,tone:OIn[n],...o,"data-ui":"Alert",children:[c.jsxs(W,{padding:4,children:[c.jsx(V,{children:c.jsxs(B,{size:1,children:[n==="warning"&&c.jsx(Br,{}),n==="error"&&c.jsx(ua,{})]})}),c.jsxs(V,{flex:1,marginLeft:3,children:[c.jsx(B,{size:1,weight:"medium",children:i}),t&&c.jsx(V,{marginTop:3,children:t})]})]}),r&&c.jsx(MIn,{children:r})]})}const PIn=R.button`
  display: block;
  -webkit-font-smoothing: inherit;
  appearance: none;
  font: inherit;
  background: none;
  width: 100%;
  text-align: left;
  border: 0;
  margin: 0;
  padding: 0;
  outline: none;
`,RIn=R(EK)`
  transform: ${e=>e.open?"rotate(90deg)":""};
`,FIn=R(W)`
  cursor: default;
`,LIn=R(V)`
  & > div > svg {
    transform: rotate(0);
    transition: transform 100ms;
  }

  &[data-open] > div > svg {
    transform: rotate(90deg);
  }
`;function w0(e){const{children:t,open:n,icon:r,title:i="Details",...o}=e,[a,s]=p.useState(n||!1),l=p.useCallback(()=>s(u=>!u),[]);return p.useEffect(()=>s(n||!1),[n]),c.jsxs(V,{...o,children:[c.jsx(PIn,{type:"button",onClick:l,children:c.jsx(FIn,{align:"center",children:c.jsxs(Wn,{children:[c.jsx(LIn,{"data-open":a?"":void 0,children:c.jsx(B,{size:1,children:c.jsx(RIn,{open:a})})}),r&&c.jsx(V,{marginLeft:1,children:r}),c.jsx(V,{flex:1,marginLeft:1,children:c.jsx(B,{size:1,weight:"medium",children:i})})]})})}),c.jsx(V,{hidden:!a,marginTop:3,children:t})]})}const TFe=["yes","true","1"],AFe=["false","no","false","0","null"],NIn=TFe.concat(AFe),WA=()=>!0,BIn=e=>t=>t&&t[e],VIn=e=>t=>(t&&t._type)===e;function zIn(e){const t=new Date(e.getTime()+e.getTimezoneOffset()*60*1e3),n=e.getTimezoneOffset()/60,r=e.getHours();return t.setHours(r-n),t}function UIn(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return null}const UL={string:{number:{test:Number,convert:Number},boolean:{test:e=>NIn.includes(e.toLowerCase()),convert:e=>TFe.includes(e.toLowerCase())||!AFe.includes(e.toLowerCase())},richDate:{test:e=>Lh(e),convert:e=>({_type:"richDate",local:zIn(new Date(e)).toJSON(),utc:new Date(e).toJSON(),timezone:UIn(),offset:new Date().getTimezoneOffset()})}},date:{richDate:{test:VIn("date"),convert:e=>Object.assign({},e,{_type:"richDate"})}},richDate:{datetime:{test:BIn("utc"),convert:e=>e.utc}},number:{string:{test:WA,convert:String},boolean:{test:WA,convert:Number}},boolean:{string:{test:WA,convert:e=>e?"Yes":"No"},number:{test:WA,convert:Number}}};function HIn({value:e,targetType:t,onChange:n}){const r=p.useMemo(()=>({...e,_type:t}),[t,e]),i=p.useCallback(()=>n(Ft.from(bs(t,["_type"])),r),[r,n,t]),{t:o}=Q();return c.jsx(ge,{onClick:i,text:o("inputs.untyped-value.convert-button.text",{targetType:t})})}function WIn({value:e,onChange:t,validTypes:n}){const r=p.useMemo(()=>({...e,_type:n[0]}),[n,e]),i=p.useCallback(()=>t(Ft.from(kt()),r),[r,t]),{t:o}=Q();return c.jsx(ge,{onClick:i,tone:"critical",text:o("inputs.untyped-value.unset-item-button.text")})}function GIn({validTypes:e,value:t,onChange:n}){const r=un(),i=e.length===1,o=r.has(e[0]),{t:a}=Q();return c.jsx(ed,{status:"warning",title:c.jsx(c.Fragment,{children:c.jsx(wt,{t:a,i18nKey:"inputs.untyped-value.title"})}),children:c.jsx(w0,{open:Yl,title:a("inputs.untyped-value.details.title"),children:c.jsxs(ae,{space:3,children:[c.jsx(B,{as:"p",muted:!0,size:1,children:c.jsx(wt,{t:a,i18nKey:"inputs.untyped-value.description"})}),i&&!o&&c.jsx(B,{as:"p",muted:!0,size:1,children:c.jsx(wt,{t:a,i18nKey:"inputs.untyped-value.details.description"})}),!i&&c.jsx(B,{as:"p",muted:!0,size:1,children:a("inputs.untyped-value.details.multi-type-description")}),!i&&c.jsx(ae,{as:"ul",space:2,children:e.map(s=>c.jsx(B,{as:"li",muted:!0,size:1,children:c.jsx("code",{children:s})},s))}),c.jsxs(ae,{space:2,children:[c.jsx(B,{as:"h4",weight:"medium",size:1,children:a("inputs.untyped-value.details.json-dump-prefix")}),c.jsx(le,{border:!0,overflow:"auto",padding:2,radius:2,tone:"inherit",children:c.jsx(Vi,{language:"json",children:JSON.stringify(t,null,2)})})]}),c.jsxs(Xn,{columns:[1,2,2],gap:1,children:[i&&c.jsx(HIn,{onChange:n,targetType:e[0],value:t}),c.jsx(WIn,{onChange:n,validTypes:e,value:t})]})]})})})}function KIn(e,t,n){return t in UL?Object.keys(UL[t]).filter(r=>n.includes(r)).map(r=>({from:t,to:r,...UL[t][r]})).filter(r=>r.test(e)):[]}const jFe=p.forwardRef((e,t)=>{const{value:n,actualType:r,validTypes:i,onChange:o}=e;p.useImperativeHandle(t,()=>({focus:()=>{}}));const a=p.useCallback(()=>{o(Ft.from(kt()))},[o]),s=p.useCallback(f=>{o(Ft.from(gt(f)))},[o]),l=p.useMemo(()=>KIn(n,r,i),[n,r,i]),{t:u}=Q();if(kr(n)&&!("_type"in n))return c.jsx(GIn,{value:n,validTypes:i,onChange:o});const d=c.jsx(ae,{padding:2,children:c.jsx(ge,{onClick:a,tone:"critical",text:u("inputs.invalid-value.reset-button.text")})});return c.jsxs(ed,{status:"error",suffix:d,title:u("inputs.invalid-value.title"),children:[c.jsx(B,{as:"p",muted:!0,size:1,children:u("inputs.invalid-value.description")}),c.jsx(w0,{marginTop:4,open:Yl,title:u("inputs.invalid-value.details.title"),children:c.jsxs(ae,{space:3,children:[i.length===1&&c.jsx(B,{as:"p",muted:!0,size:1,children:c.jsx(wt,{t:u,i18nKey:"inputs.invalid-value.details.description",values:{validType:i[0]}})}),i.length===1&&c.jsx(B,{as:"p",muted:!0,size:1,children:u("inputs.invalid-value.details.possible-reason")}),i.length!==1&&c.jsx(B,{as:"p",muted:!0,size:1,children:u("inputs.invalid-value.details.multi-type-description")}),i.length!==1&&c.jsx(ae,{as:"ul",space:2,children:i.map(f=>c.jsx(B,{as:"li",children:c.jsx("code",{children:f})},f))}),c.jsxs(ae,{marginTop:2,space:2,children:[c.jsx(B,{size:1,weight:"medium",children:c.jsx(wt,{t:u,i18nKey:"inputs.invalid-value.current-type",values:{actualType:r}})}),c.jsx(le,{border:!0,padding:2,radius:2,tone:"inherit",children:c.jsx(Vi,{language:"json",size:1,children:JSON.stringify(n,null,2)})})]}),l.length>0&&c.jsx(ae,{space:1,children:l.map(f=>c.jsx(YIn,{converter:f,onConvert:s,value:n},`${f.from}-${f.to}`))})]})})]})});jFe.displayName="ForwardRef(InvalidValueInput)";function YIn({converter:e,onConvert:t,value:n}){const r=p.useCallback(()=>t(e.convert(n)),[e,t,n]),{t:i}=Q();return c.jsx(ge,{onClick:r,text:i("inputs.invalid-value.convert-button.text",{targetType:e.to})})}function qIn(e){const{error:t,onChange:n}=e,r=p.useCallback(()=>{n(Ft.from((t.duplicates||[]).map(([o,a])=>gt(`${a}_deduped_${o}`,[o,"_key"]))))},[t.duplicates,n]),{t:i}=Q();return c.jsx(x0,{title:t.schemaType.title,description:t.schemaType.description,children:c.jsxs(ed,{status:"warning",suffix:c.jsx(ae,{padding:2,children:c.jsx(ge,{onClick:r,text:i("form.error.duplicate-keys-alert.generate-button.text"),tone:"caution"})}),title:i("form.error.duplicate-keys-alert.title"),children:[c.jsx(B,{as:"p",muted:!0,size:1,children:i("form.error.duplicate-keys-alert.summary")}),c.jsx(w0,{marginTop:4,open:Yl,title:i("form.error.duplicate-keys-alert.details.title"),children:c.jsxs(ae,{space:3,children:[c.jsx(B,{as:"p",muted:!0,size:1,children:c.jsx(wt,{t:i,i18nKey:"form.error.duplicate-keys-alert.details.description"})}),c.jsx(B,{as:"p",muted:!0,size:1,children:c.jsx(wt,{t:i,i18nKey:"form.error.duplicate-keys-alert.details.additional-description"})})]})})]})})}function ZIn(e){const{error:t,onChange:n}=e,r=p.useCallback(()=>{n(Ft.from((t.value||[]).map((o,a)=>bs(sP(),[a,"_key"]))))},[t.value,n]),{t:i}=Q();return c.jsx(x0,{title:t.schemaType.title,description:t.schemaType.description,children:c.jsxs(ed,{status:"warning",suffix:c.jsx(ae,{padding:2,children:c.jsx(ge,{onClick:r,text:i("form.error.missing-keys-alert.add-button.text"),tone:"caution"})}),title:i("form.error.missing-keys-alert.title"),children:[c.jsx(B,{as:"p",muted:!0,size:1,children:i("form.error.missing-keys-alert.summary")}),c.jsx(w0,{marginTop:4,open:Yl,title:i("form.error.missing-keys-alert.details.title"),children:c.jsxs(ae,{space:3,children:[c.jsx(B,{as:"p",muted:!0,size:1,children:c.jsx(wt,{t:i,i18nKey:"form.error.missing-keys-alert.details.description"})}),c.jsx(B,{as:"p",muted:!0,size:1,children:c.jsx(wt,{t:i,i18nKey:"form.error.missing-keys-alert.details.additional-description"})})]})})]})})}function XIn(e){const{error:t,onChange:n}=e,r=()=>{const o=(t.value||[]).flatMap((a,s)=>kr(a)?[]:[s]).reverse().map(a=>kt([a]));n(Ft.from(o))},{t:i}=Q();return c.jsx(x0,{title:t.schemaType.title,description:t.schemaType.description,children:c.jsxs(ed,{status:"error",suffix:c.jsx(ae,{padding:2,children:c.jsx(ge,{onClick:r,text:i("form.error.mixed-array-alert.remove-button.text"),tone:"critical"})}),title:i("form.error.mixed-array-alert.title"),children:[c.jsx(B,{as:"p",muted:!0,size:1,children:i("form.error.mixed-array-alert.summary")}),c.jsx(w0,{marginTop:4,open:Yl,title:i("form.error.mixed-array-alert.details.title"),children:c.jsx(ae,{space:3,children:c.jsx(B,{as:"p",muted:!0,size:1,children:i("form.error.mixed-array-alert.details.description")})})})]})})}function BR(e){const{member:t}=e,{onChange:n}=Zc(),r=p.useCallback(o=>{n(Ft.from(o).prefixAll(t.fieldName))},[n,t.fieldName]),{t:i}=Q();return t.error.type==="INCOMPATIBLE_TYPE"?c.jsx(jFe,{value:t.error.value,onChange:r,actualType:t.error.resolvedValueType,validTypes:[t.error.expectedSchemaType.name]}):t.error.type==="MISSING_KEYS"?c.jsx(ZIn,{error:t.error,onChange:r}):t.error.type==="DUPLICATE_KEYS"?c.jsx(qIn,{error:t.error,onChange:r}):t.error.type==="MIXED_ARRAY"?c.jsx(XIn,{onChange:r,error:t.error}):c.jsx(V,{children:i("member-field-error.unexpected-error",{error:e.member.error.type})})}const UJ=p.memo(function(e){var h;const{member:t,renderAnnotation:n,renderBlock:r,renderField:i,renderInlineBlock:o,renderInput:a,renderItem:s,renderPreview:l}=e,{onSetFieldSetCollapsed:u}=Zc(),d=p.useCallback(()=>{u(t.fieldSet.path,!0)},[t.fieldSet.path,u]),f=p.useCallback(()=>{u(t.fieldSet.path,!1)},[t.fieldSet.path,u]);return c.jsx(LR,{title:t.fieldSet.title||hp(t.fieldSet.name),description:t.fieldSet.description,level:t.fieldSet.level,collapsible:t.fieldSet.collapsible,collapsed:t.fieldSet.collapsed,onCollapse:d,onExpand:f,columns:(h=t==null?void 0:t.fieldSet)==null?void 0:h.columns,"data-testid":`fieldset-${t.fieldSet.name}`,inputId:t.fieldSet.name,children:t.fieldSet.members.map(m=>m.kind==="error"?c.jsx(BR,{member:m},t.key):c.jsx(b_,{member:m,renderAnnotation:n,renderBlock:r,renderField:i,renderInlineBlock:o,renderInput:a,renderItem:s,renderPreview:l},m.key))})}),JIn=p.memo(function(e){const{member:t,renderAnnotation:n,renderBlock:r,renderInput:i,renderInlineBlock:o,renderField:a,renderItem:s,renderPreview:l}=e;return t.kind==="field"?c.jsx(b_,{member:t,renderAnnotation:n,renderBlock:r,renderInlineBlock:o,renderInput:i,renderField:a,renderItem:s,renderPreview:l},t.key):t.kind==="error"?c.jsx(BR,{member:t},t.key):t.kind==="fieldSet"?c.jsx(UJ,{member:t,renderAnnotation:n,renderBlock:r,renderInlineBlock:o,renderInput:i,renderField:a,renderItem:s,renderPreview:l},t.key):(console.warn(new Error(`Unhandled member kind ${t.kind}`)),null)});function QIn(e){const{members:t,renderAnnotation:n,renderBlock:r,renderInput:i,renderInlineBlock:o,renderField:a,renderItem:s,renderPreview:l}=e,u=p.useMemo(()=>t.map(d=>c.jsx(JIn,{member:d,renderAnnotation:n,renderBlock:r,renderField:a,renderInlineBlock:o,renderInput:i,renderItem:s,renderPreview:l},d.key)),[t,n,r,a,o,i,s,l]);return c.jsx(c.Fragment,{children:u})}function g1e(e){return Qo(e.schemaType)}function y1e(e){return sl(e.schemaType)}const nk=({children:e})=>e;function e3n(e){return"absolutePath"in e}const HJ=p.memo(function(e){const t=p.useMemo(()=>e3n(e)?e.absolutePath:e.path.concat(e.relativePath),[e]),n=p.useCallback(()=>c.jsx(c.Fragment,{children:"Missing destination render function"}),[]);return c.jsx(t3n,{...e,absolutePath:t,destinationRenderAnnotation:e.renderAnnotation||n,destinationRenderBlock:e.renderBlock||n,destinationRenderField:e.renderField,destinationRenderInlineBlock:e.renderInlineBlock||n,destinationRenderInput:e.renderInput,destinationRenderItem:e.renderItem,destinationRenderPreview:e.renderPreview})}),t3n=p.memo(function e(t){const{absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:i,destinationRenderField:o,destinationRenderInlineBlock:a,destinationRenderInput:s,destinationRenderItem:l,destinationRenderPreview:u}=t,{t:d}=Q(),f=p.useCallback(b=>(Pr(n,b.path)?t.includeField:ga(n,b.path))?o(b):nk(b),[n,o,t.includeField]),h=p.useCallback(b=>(Pr(n,b.path)?t.includeItem:ga(n,b.path))?l(b):nk(b),[n,l,t.includeItem]),m=p.useCallback(b=>{if(Pr(b.path,n)||ga(n,b.path))return s(b);if(!g1e(b)&&!y1e(b))throw new Error(`Expected either object input props or array input props for: ${JSON.stringify(b.path)}`);return c.jsx(e,{...b,includeField:t.includeField,includeItem:t.includeItem,absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:i,destinationRenderInput:s,destinationRenderItem:l,destinationRenderField:o,destinationRenderInlineBlock:a,destinationRenderPreview:u})},[n,r,i,o,a,s,l,u,t.includeField,t.includeItem]),g=p.useCallback(b=>ga(n,b.path)&&(t.includeItem||!Pr(n,b.path))?i(b):nk(b),[n,i,t.includeItem]),y=p.useCallback(b=>ga(n,b.path)&&(t.includeItem||!Pr(n,b.path))?a(b):nk(b),[n,a,t.includeItem]),x=p.useCallback(b=>ga(n,b.path)&&(t.includeItem||!Pr(n,b.path))?r(b):nk(b),[n,r,t.includeItem]);if(y1e(t)){const b=Yk(t.path,n),v=t.members.find(w=>w.kind=="item"&&Cr(b[0])&&w.key===b[0]._key);if(!v){const w=cr(t.path),C=Yk(t.path,n);if(Cr(C[0])){const S=C[0]._key;return c.jsx("div",{children:c.jsx(wt,{t:d,i18nKey:"form.error.no-array-item-at-key",values:{key:S,path:w}})})}const k=rl(C[0])?C[0]:C[0][0];return c.jsx("div",{children:c.jsx(wt,{t:d,i18nKey:"form.error.no-array-item-at-index",values:{index:k,path:w}})})}return v.kind==="error"?c.jsx(Ojn,{member:v}):c.jsx(FJ,{member:v,renderAnnotation:x,renderBlock:g,renderInput:m,renderField:f,renderInlineBlock:y,renderItem:h,renderPreview:u})}if(g1e(t)){const b=Yk(t.path,n),v=t.members.find(k=>k.kind=="field"&&b[0]===k.name),w=t.members.filter(k=>k.kind==="fieldSet").flatMap(k=>{var S;return k.kind==="fieldSet"&&((S=k.fieldSet)==null?void 0:S.members)||[]}).find(k=>k.kind==="field"&&k.name===b[0]),C=v||w;if(!C){const k=typeof b[0]=="string"?b[0]:JSON.stringify(b[0]);return c.jsx("div",{children:d("form.error.field-not-found",{fieldName:k})})}return c.jsx(b_,{member:C,renderAnnotation:x,renderBlock:g,renderInput:m,renderInlineBlock:y,renderField:f,renderItem:h,renderPreview:u})}throw new Error("FormInput can only be used with arrays or objects")});function VR(e){const t=p.useContext(PH);if(!t)throw new Error("Form context not provided");return t.find(n=>n.key===e)}function n3n(){const e=p.useContext(PH);if(!e)throw new Error("Form context not provided");return e}function r3n(e){const{members:t,path:n,schemaType:r,renderAnnotation:i,renderField:o,renderBlock:a,renderInput:s,renderItem:l,renderInlineBlock:u,renderPreview:d,onPathFocus:f}=e,h=p.useRef([]);return p.useMemo(()=>{var y;const m=[];for(const x of t)if(x.kind==="item")if(!MR(x.item.schemaType))m.push({kind:"objectBlock",member:x,node:x.item});else{(x.item.validation.length>0||x.item.changed||(y=x.item.presence)!=null&&y.length||x.open||x.item.focusPath.length||x.item.focused)&&m.push({kind:"textBlock",member:x,node:x.item});const b=x.item.members.find(w=>w.kind==="field"&&w.name==="children");if(b&&b.kind==="field"&&zJ(b))for(const w of b.field.members)w.kind==="item"&&w.item.schemaType.name!=="span"&&m.push({kind:"inlineObject",member:w,node:w.item});const v=x.item.members.filter(XTn).find(w=>w.name==="markDefs");if(v)for(const w of v.field.members)w.kind==="item"&&w.item.schemaType.jsonType==="object"&&m.push({kind:"annotation",member:w,node:w.item})}const g=m.map(x=>{const b=cr(x.node.path),v=h.current.find(k=>k.key===b),w=x.kind!=="textBlock";let C=null;if(w&&x.member!==(v==null?void 0:v.member)||x.node!==(v==null?void 0:v.node)){const k=A=>({...A.elementProps,onFocus:()=>{}}),S=A=>{const I=x.member.item.path.concat(A);A.length!==0&&f(I.slice(n.length,I.length))},E=A=>I=>{if(I.type==="unset"&&I.path.length===0){A.onChange(gt({_type:x.member.item.schemaType.name,_key:x.member.key},I.path));return}A.onChange(I)},_=A=>Pr(A.path,x.member.item.path)?s({...A,onChange:E(A),onPathFocus:S,elementProps:k(A)}):s(A),T={absolutePath:Ud(x.node.path),includeField:!1,members:t,path:Ud(n),renderAnnotation:i,renderBlock:a,renderField:o,renderInlineBlock:u,renderInput:_,renderItem:l,renderPreview:d,schemaType:r};C=c.jsx(HJ,{...T})}return v?(v.member=x.member,v.node=x.node,v.input=C||v.input,v):{kind:x.kind,key:b,member:x.member,node:x.node,elementRef:p.createRef(),input:C}});return h.current=g,g},[t,f,n,i,a,o,u,s,l,d,r])}const i3n=R.span(e=>{var r,i,o,a;const{$toneKey:t="default",theme:n}=e;return he`
      text-decoration: none;
      display: inline;
      background-color: ${(r=n.sanity.color.selectable)==null?void 0:r[t].enabled.bg};
      border-bottom: 1px dashed ${(i=n.sanity.color.selectable)==null?void 0:i[t].enabled.fg};
      color: ${(o=n.sanity.color.selectable)==null?void 0:o[t].enabled.fg};

      &[data-link] {
        border-bottom: 1px solid ${(a=n.sanity.color.selectable)==null?void 0:a[t].enabled.fg};
      }

      &[data-custom-markers] {
        background-color: ${n.sanity.color.dark?ln.purple[950].hex:ln.purple[50].hex};
      }

      &[data-warning] {
        background-color: ${n.sanity.color.muted.caution.hovered.bg};
      }

      &[data-error] {
        background-color: ${n.sanity.color.muted.critical.hovered.bg};
      }
    `}),o3n=R(V).attrs({forwardedAs:"span"})`
  max-width: 250px;
`,a3n=["top","bottom"];function s3n(e){const{annotationOpen:t,floatingBoundary:n,onOpen:r,onRemove:i,referenceBoundary:o,referenceElement:a,selected:s,title:l}=e,[u,d]=p.useState(!1),[f,h]=p.useState(!1),[m,g]=p.useState(null),y=p.useRef(null),{sanity:x}=tw(),{t:b}=Q(),v=p.useRef(null),w=x.color.dark?"light":"dark",C=p.useCallback(A=>{d(A),A?p.startTransition(()=>{h(A)}):h(A)},[]),k=p.useMemo(()=>m?{getBoundingClientRect:()=>m}:null,[m]);Ss(p.useCallback(A=>{f&&A.key==="Escape"&&C(!1)},[C,f]));const S=p.useCallback(()=>{if(t){C(!1),g(null);return}const A=window.getSelection();if(!A||A.rangeCount===0)return;const I=A.getRangeAt(0);if(!(a!=null&&a.contains(I.commonAncestorContainer))){C(!1),g(null);return}const j=I==null?void 0:I.getBoundingClientRect();j&&(g(j),C(!0))},[t,a,C]);p.useEffect(()=>(document.addEventListener("selectionchange",S,{passive:!0}),()=>{document.removeEventListener("selectionchange",S)}),[S]);const E=p.useCallback(()=>{C(!1),r()},[r,C]);p.useEffect(()=>{!t&&s&&m&&C(!0),t&&C(!1)},[t,s,m,C]);const _=p.useCallback(()=>{C(!1),i()},[i,C]),T=p.useCallback(()=>{y.current&&g(y.current.getBoundingClientRect())},[]);return p.useEffect(()=>{const A=window.getSelection();A&&A.rangeCount>0&&(y.current=A.getRangeAt(0))},[f]),p.useEffect(()=>{if(f&&o)return o.addEventListener("scroll",T),()=>o.removeEventListener("scroll",T);if(f)return o==null||o.addEventListener("scroll",T),()=>{o==null||o.removeEventListener("scroll",T)}},[f,o,T]),u?c.jsx(Fn,{open:f,floatingBoundary:n,constrainSize:!0,content:c.jsx(V,{padding:1,"data-testid":"annotation-toolbar-popover",children:c.jsxs(W,{gap:1,children:[c.jsx(V,{padding:2,children:c.jsx(B,{weight:"medium",size:1,children:l})}),c.jsx(ge,{"aria-label":b("inputs.portable-text.action.edit-annotation-aria-label"),"data-testid":"edit-annotation-button",icon:Oh,mode:"bleed",onClick:E,tabIndex:0,tooltipProps:null}),c.jsx(ge,{"aria-label":b("inputs.portable-text.action.remove-annotation-aria-label"),"data-testid":"remove-annotation-button",icon:$i,mode:"bleed",onClick:_,tabIndex:0,tone:"critical",tooltipProps:null})]})}),fallbackPlacements:a3n,placement:"top",portal:!0,preventOverflow:!0,ref:v,referenceBoundary:o,referenceElement:k,scheme:w}):null}const IFe=e=>Array.isArray(e)?e.flatMap(IFe):typeof e=="number"?[e]:e==="auto"?["auto"]:[],l3n=e=>e==="dialog"||e==="popover"?e:void 0;function c3n(e){var n;const t=(n=e.options)==null?void 0:n.modal;return typeof t=="object"&&t!==null?{type:l3n(t.type),width:IFe(t.width)}:void 0}function Mx(e){const{scrollElement:t,containerElement:n}=e,r=p.useMemo(()=>({scrollElement:t,containerElement:n}),[n,t]);return c.jsx(Swe.Provider,{value:r,children:e.children})}function u3n(e){const{onClose:t,children:n,title:r,width:i=1,autoFocus:o}=e,a=p.useId(),[s,l]=p.useState(null),u=p.useRef(null);return c.jsx(no,{header:r,id:a,onClickOutside:t,onClose:t,portal:"default",width:i,contentRef:l,"data-testid":"default-edit-object-dialog",__unstable_autoFocus:o,children:c.jsx(Jw,{margins:[0,0,1,0],children:c.jsx(Mx,{scrollElement:s,containerElement:u,children:c.jsx(V,{ref:u,children:n})})})})}const d3n=R(Fn)`
  & > div {
    overflow: hidden;
    overflow: clip;
  }
`,f3n=R(V)`
  /* Prevent overflow caused by change indicator */
  overflow-x: hidden;
  overflow-y: auto;
`,h3n=R(V)`
  box-shadow: 0 1px 0 var(--card-shadow-outline-color);
  position: relative;
  z-index: 10;
  min-height: auto;
`,p3n=["top","bottom"];function m3n(e){const{floatingBoundary:t,referenceBoundary:n,referenceElement:r,width:i=1}=e,[o,a]=p.useState(!1);return p.useEffect(()=>{a(!0)},[]),c.jsx(d3n,{content:c.jsx(g3n,{...e}),constrainSize:!0,"data-testid":"popover-edit-dialog","data-ui":"PopoverEditDialog",fallbackPlacements:p3n,floatingBoundary:t,open:o,overflow:"auto",placement:"bottom",portal:"default",preventOverflow:!0,referenceBoundary:n,referenceElement:r,width:i})}function g3n(e){const{onClose:t,referenceBoundary:n,referenceElement:r,title:i,autoFocus:o}=e;Ss(p.useCallback(u=>{u.key==="Escape"&&t()},[t])),On(t,()=>[r],()=>n);const[a,s]=p.useState(null),l=p.useRef(null);return c.jsx(Mx,{scrollElement:a,containerElement:l,children:c.jsxs(W,{ref:l,direction:"column",height:"fill",children:[c.jsx(h3n,{flex:"none",padding:1,children:c.jsxs(W,{align:"center",children:[c.jsx(V,{flex:1,padding:2,children:c.jsx(B,{weight:"medium",children:i})}),c.jsx(ge,{autoFocus:!!o,icon:eo,mode:"bleed",onClick:t,tooltipProps:{content:"Close"}})]})}),c.jsx(f3n,{flex:1,children:c.jsx(Jw,{margins:[0,0,1,0],children:c.jsx(V,{padding:3,ref:s,children:e.children})})})]})})}function WJ(e){const{autoFocus:t,defaultType:n,floatingBoundary:r,onClose:i,referenceBoundary:o,referenceElement:a,schemaType:s}=e,{t:l}=Q(),u=p.useMemo(()=>c3n(s),[s]),d=(u==null?void 0:u.type)||n,f=s.i18nTitleKey?l(s.i18nTitleKey):s.title||s.name,h=l("inputs.portable-text.annotation-editor.title",{schemaType:f}),m=p.useCallback(()=>{i()},[i]),g=u==null?void 0:u.width;return d==="popover"?c.jsx(m3n,{autoFocus:t,floatingBoundary:r,onClose:m,referenceBoundary:o,referenceElement:a,title:c.jsx(c.Fragment,{children:h}),width:g,children:e.children}):c.jsx(u3n,{onClose:m,title:h,width:g,autoFocus:t,children:e.children})}function y3n(e){var se;const{children:t,editorNodeFocused:n,floatingBoundary:r,focused:i,onItemClose:o,onItemOpen:a,onPathFocus:s,path:l,readOnly:u,referenceBoundary:d,renderAnnotation:f,renderBlock:h,renderCustomMarkers:m,renderField:g,renderInlineBlock:y,renderInput:x,renderItem:b,renderPreview:v,schemaType:w,selected:C,value:k}=e,{Markers:S=Q8e}=vf().__internal.components,E=Lo(),_=p.useMemo(()=>l.slice(0,l.length-2).concat(["markDefs",{_key:k._key}]),[l,k._key]),[T,A]=p.useState(null),I=VR(cr(_)),{validation:j}=RR(I==null?void 0:I.node),$=FR(l),D=p.useMemo(()=>c.jsx("span",{"data-annotation":"",children:t}),[t]),O=p.useCallback(()=>{I&&(Pe.blur(E),a(I.node.path))},[E,I,a]),M=p.useCallback(()=>{o(),jJ(k)&&Pe.removeAnnotation(E,w),Pe.focus(E)},[E,o,w,k]),P=p.useCallback(()=>{Pe.removeAnnotation(E,w),Pe.focus(E)},[E,w]),F=p.useMemo(()=>j.length>0||$.length>0?c.jsx(Et,{placement:"bottom",portal:"default",content:c.jsx(o3n,{children:c.jsx(S,{markers:$,renderCustomMarkers:m,validation:j})}),children:D}):void 0,[S,$,m,D,j]),L=Xw(l,!0),U=p.useMemo(()=>L.filter(G=>Pr(G.path,l)),[l,L]),H=!!(I!=null&&I.member.open),N=I==null?void 0:I.input,Y=(I==null?void 0:I.node.path)||hn,J=T,ee=p.useMemo(()=>({__unstable_floatingBoundary:r,__unstable_referenceBoundary:d,__unstable_referenceElement:J,__unstable_textElementFocus:n,children:N,focused:i,markers:$,onClose:M,onOpen:O,onPathFocus:s,onRemove:P,open:H,parentSchemaType:E.schemaTypes.block,path:Y,presence:U,readOnly:!!u,renderAnnotation:f,renderBlock:h,renderField:g,renderInlineBlock:y,renderInput:x,renderPreview:v,renderItem:b,renderDefault:cU,schemaType:w,selected:C,textElement:F||D,validation:j,value:k}),[E.schemaTypes.block,n,r,i,N,H,$,F,Y,M,O,s,P,u,d,J,f,h,g,y,x,b,v,U,w,C,D,j,k]),oe=(se=w.components)==null?void 0:se.annotation,re=p.useCallback(G=>{I!=null&&I.elementRef&&(I.elementRef.current=G),A(G)},[I]);return p.useMemo(()=>c.jsx("span",{ref:re,style:void 0,children:oe?c.jsx(oe,{...ee}):c.jsx(cU,{...ee})}),[oe,ee,re])}const cU=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:i,focused:o,markers:a,onClose:s,onOpen:l,onRemove:u,open:d,readOnly:f,selected:h,schemaType:m,textElement:g,validation:y}=e,x=m.name==="link",b=y.some(S=>S.level==="error"),v=y.some(S=>S.level==="warning"),w=a.length>0,{t:C}=Q(),k=p.useMemo(()=>b?"critical":v?"caution":x?"primary":"default",[x,b,v]);return c.jsxs(i3n,{$toneKey:k,"aria-label":C("inputs.portable-text.annotation-aria-label"),"data-link":x?"":void 0,"data-error":b?"":void 0,"data-warning":v?"":void 0,"data-markers":w||void 0,onClick:f?l:void 0,children:[g,c.jsx(s3n,{annotationOpen:d,floatingBoundary:t,onOpen:l,onRemove:u,referenceBoundary:n,referenceElement:r,selected:h,title:m.i18nTitleKey?C(m.i18nTitleKey):m.title||m.name}),d&&c.jsx(WJ,{defaultType:"popover",floatingBoundary:t,onClose:s,autoFocus:o,referenceBoundary:n,referenceElement:r,schemaType:m,children:i})]})};function $Fe(){return p.useContext(swe)}function v3n(e){const{children:t,activePath:n,EditReferenceLinkComponent:r,onEditReference:i,initialValueTemplateItems:o}=e,a=p.useMemo(()=>({activePath:n,EditReferenceLinkComponent:r,onEditReference:i,initialValueTemplateItems:o}),[n,r,i,o]);return c.jsx(swe.Provider,{value:a,children:t})}function b3n(e){const t=p.useMemo(()=>({id:e.id}),[e.id]);return c.jsx(Uxe.Provider,{value:t,children:e.children})}function x3n(){const e=p.useContext(Uxe);if(!e)throw new Error("useDocumentId must be used within a DocumentIdProvider");return e.id}function zR(){return Cn(x3n())}function UR(e,t){return is(t,p.useCallback((n,r)=>{e.current&&!n&&r&&my(e.current,{scrollMode:"always"})},[e]))}const w3n=R(B)`
  &[data-status='edited'] {
    --card-icon-color: var(--card-badge-caution-dot-color);
  }
  &[data-status='unpublished'] {
    --card-icon-color: var(--card-badge-default-dot-color);
    opacity: 0.5 !important;
  }
`;function tC({draft:e,published:t}){const n=!!e,r=!!t,i=p.useMemo(()=>n&&!r?"unpublished":"edited",[n,r]);return!n&&!r||!n&&r?null:c.jsx(w3n,{"data-status":i,size:1,children:c.jsx(x_e,{})})}function DFe(e){var m,g;const{id:t,layout:n,preview:r,refType:i,renderPreview:o,showTypeLabel:a}=e,s=iC(t),l=((m=r.draft)==null?void 0:m._id)||((g=r.published)==null?void 0:g._id)||t,u=p.useMemo(()=>({_id:l,_type:i.name}),[l,i.name]),{draft:d,published:f}=r,h=p.useMemo(()=>({children:c.jsx(V,{paddingLeft:3,children:c.jsxs(Wn,{space:3,children:[a&&c.jsx($a,{mode:"outline",children:i.title}),s&&s.length>0&&c.jsx(DJ,{presence:s}),c.jsx(tC,{draft:r.draft,published:r.published})]})}),layout:n,schemaType:i,tooltip:c.jsx(Vx,{draft:d,published:f}),value:u}),[s,d,n,r.draft,r.published,u,f,i,a]);return o(h)}function OFe(e){var m,g,y,x,b,v;const{layout:t="default",referenceInfo:n,renderPreview:r,type:i,value:o,showTypeLabel:a}=e,{t:s}=Q();if(n.isLoading||n.error)return c.jsx(Ia,{isPlaceholder:!0,layout:t});if(((m=n.result)==null?void 0:m.availability.reason)==="NOT_FOUND"&&o._strengthenOnPublish){const w=i.to.find(k=>{var S;return k.name===((S=o==null?void 0:o._strengthenOnPublish)==null?void 0:S.type)});if(!w)return c.jsx(b1e,{documentId:o._ref,actualType:(g=o._strengthenOnPublish)==null?void 0:g.type,declaredTypes:i.to.map(k=>k.name)});const C=(y=o._strengthenOnPublish)!=null&&y.type?{_id:o._ref,_type:(x=o._strengthenOnPublish)==null?void 0:x.type}:o;return c.jsxs(W,{align:"center",children:[c.jsx(V,{flex:1,children:r({layout:t,schemaType:w,value:C,skipVisibilityCheck:!0})}),c.jsx(V,{children:c.jsx(Wn,{space:4,children:a&&c.jsx($a,{mode:"outline",children:w.title})})})]})}const l=n.result.availability,u=l.reason==="NOT_FOUND",d=l.reason==="PERMISSION_DENIED";if(d||u)return c.jsxs(Wn,{space:2,children:[c.jsx(V,{padding:1,children:c.jsx(W,{align:"center",children:c.jsx(V,{flex:1,paddingY:2,children:c.jsx(B,{muted:!0,children:s("inputs.reference.error.document-unavailable-title")})})})}),d||u?c.jsx(V,{children:c.jsx(Et,{portal:!0,content:u?c.jsx(v1e,{title:s("inputs.reference.error.nonexistent-document-title"),icon:ex,children:c.jsx(wt,{i18nKey:"inputs.reference.error.nonexistent-document-description",t:s,values:{documentId:o._ref}})}):c.jsx(v1e,{title:s("inputs.reference.error.missing-read-permissions-title"),icon:Wm,children:s("inputs.reference.error.missing-read-permissions-description")}),children:c.jsx(gi,{tone:"default",children:c.jsx(ex,{})})})}):null]});const f=(b=n.result)==null?void 0:b.type,h=i.to.find(w=>w.name===f);return h?c.jsx(DFe,{id:o._ref,layout:t,preview:(v=n.result)==null?void 0:v.preview,refType:h,renderPreview:r,showTypeLabel:a}):c.jsx(b1e,{documentId:o._ref,actualType:f||"<unknown>",declaredTypes:i.to.map(w=>w.name)})}function v1e(e){const t=e.icon;return c.jsxs(W,{children:[c.jsx(B,{size:1,children:c.jsx(t,{})}),c.jsxs(V,{flex:1,marginLeft:3,children:[c.jsx(B,{size:1,weight:"medium",children:e.title}),c.jsx(V,{marginTop:3,children:c.jsx(B,{as:"p",muted:!0,size:1,children:e.children})})]})]})}function b1e({declaredTypes:e,documentId:t,actualType:n}){const{t:r}=Q();return c.jsxs(W,{align:"center",justify:"flex-start",children:[c.jsx(V,{padding:1,children:c.jsx(W,{align:"center",children:c.jsx(V,{flex:1,paddingY:2,children:c.jsx(B,{muted:!0,children:r("inputs.reference.error.invalid-type-title")})})})}),c.jsx(V,{children:c.jsx(Et,{portal:!0,content:c.jsx(ae,{space:3,children:c.jsx(B,{size:1,children:c.jsx(wt,{t:r,i18nKey:"inputs.reference.error.invalid-type-description",values:{documentId:t,actualType:n},components:{AllowedTypes:()=>c.jsx(C3n,{values:e})}})})}),children:c.jsx(V,{padding:2,children:c.jsx(gi,{tone:"default",children:c.jsx(ex,{})})})})})]})}function C3n(e){const t=b0({type:"disjunction"}).formatToParts(e.values);return c.jsx(p.Fragment,{children:t.map(n=>n.type==="element"?c.jsx("code",{children:n.value},n.value):n.value)})}const k3n={warning:"caution",error:"critical",info:"positive"},S3n={warning:c.jsx(Br,{}),error:c.jsx(ua,{}),info:c.jsx(bg,{})};function GJ(e){const{children:t,status:n="warning",title:r,...i}=e;return c.jsx(le,{radius:2,tone:k3n[n],...i,"data-ui":"Alert",children:c.jsx(W,{padding:1,children:t&&c.jsx(V,{flex:1,children:c.jsx(w0,{icon:S3n[n],title:r,children:c.jsx(V,{marginLeft:3,marginTop:3,children:t})})})})})}function MFe({schemaType:e,handleRemoveStrengthenOnPublish:t}){const{t:n}=Q();return c.jsx(GJ,{padding:1,title:n(e.weak?"inputs.reference.incomplete-reference.finalize-action-title":"inputs.reference.incomplete-reference.strengthen-action-title"),status:"info","data-testid":"alert-reference-published",children:c.jsxs(ae,{space:3,children:[c.jsx(B,{as:"p",muted:!0,size:1,children:c.jsx(wt,{t:n,i18nKey:e.weak?"inputs.reference.incomplete-reference.finalize-action-description":"inputs.reference.incomplete-reference.strengthen-action-description"})}),c.jsx(ge,{mode:"ghost",onClick:t,size:"large",text:n("inputs.reference.incomplete-reference.strengthen-button-label"),tone:"positive"})]})})}const E3n=R(le)`
  /* this is a hack to avoid layout jumps while previews are loading
     there's probably better ways of solving this */
  min-height: 33px;
  position: relative;

  /* TextWithTone uses its own logic to set color, and we therefore need */
  /* to override this logic in order to set the correct color in different states */
  &[data-selected],
  &[data-pressed],
  &:active {
    [data-ui='TextWithTone'] {
      color: inherit;
    }
  }
`,PFe=p.forwardRef(function(e,t){const{as:n,documentId:r,documentType:i,...o}=e;return c.jsx(E3n,{...o,...r&&i&&{"data-as":"a",forwardedAs:n,documentId:r,documentType:i},"data-ui":"ReferenceLinkCard",ref:t})});function KJ({errorMessage:e,onHandleRetry:t}){const{t:n}=Q();return c.jsx(GJ,{padding:1,title:n("inputs.reference.metadata-error.title"),status:"warning","data-testid":"alert-reference-info-failed",children:c.jsxs(ae,{space:3,children:[c.jsx(B,{as:"p",muted:!0,size:1,children:e}),c.jsx(ge,{mode:"ghost",onClick:t,size:"large",text:n("inputs.reference.metadata-error.retry-button-label"),tone:"primary"})]})})}function YJ({actualStrength:e,handleFixStrengthMismatch:t}){const n=e==="weak"?"strong":"weak",{t:r}=Q();return c.jsx(GJ,{padding:1,title:r("inputs.reference.strength-mismatch.title"),status:"warning","data-testid":"alert-reference-strength-mismatch",children:c.jsxs(ae,{space:3,children:[c.jsx(B,{as:"p",muted:!0,size:1,children:c.jsx(wt,{t:r,i18nKey:e==="weak"?"inputs.reference.strength-mismatch.is-weak-description":"inputs.reference.strength-mismatch.is-strong-description"})}),c.jsx(B,{as:"p",muted:!0,size:1,children:r(n==="weak"?"inputs.reference.strength-mismatch.is-strong-consquences":"inputs.reference.strength-mismatch.is-weak-consquences")}),c.jsx(ge,{mode:"ghost",onClick:t,size:"large",text:r(n==="weak"?"inputs.reference.strength-mismatch.weaken-button-label":"inputs.reference.strength-mismatch.strengthen-button-label"),tone:"caution"})]})})}const RFe=()=>{},x1e={isLoading:!0,result:void 0,error:void 0,retry:RFe},_3n={isLoading:!1,result:void 0,error:void 0,retry:RFe};function HR(e,t){const n=p.useMemo(()=>new Jr,[]),r=p.useMemo(()=>n.asObservable(),[n]),i=p.useCallback(()=>{n.next({type:"retry"})},[n]),o=p.useMemo(()=>Di(Se(null),r).pipe(fe(()=>e),F1(a=>a?t(a).pipe(fe(s=>({isLoading:!1,result:s,error:void 0,retry:i})),yo(x1e),En(s=>(console.error(s),Se({isLoading:!1,result:void 0,error:s,retry:i})))):Se(_3n))),[t,e,r,i]);return bi(o,x1e)}function T3n(e){const t=p.useMemo(()=>({value:e.value}),[e.value]);return c.jsx(Yxe.Provider,{value:t,children:e.children})}function x_(e){const t=Ud(e),n=p.useContext(Yxe);if(!n)throw new Error("useFormValue must be used within a FormValueProvider");return Oo(n==null?void 0:n.value,t)}const w1e=new WeakMap,C1e={title:10,subtitle:5,description:1.5},A3n={_id:{weight:1,type:"string"},_type:{weight:1,type:"string"}},j3n=["reference","crossDatasetReference"],w_=e=>e?[e,...w_(e.type)]:[],k1e=e=>(e==null?void 0:e.jsonType)==="array"&&e.of.some(t=>w_(t).some(({name:n})=>n==="block")),I3n=e=>e?(e==null?void 0:e.jsonType)==="string":!1,$3n=e=>Tt(e)&&"search"in e&&Tt(e.search);function FFe(e){return typeof e<"u"&&"name"in e}function US(e,t,n){function r(i,o,a){if(!i)return[];if(a>t)return[];const s=w_(i);if(I3n(i)||k1e(i)){const f=n(i,o);return typeof f!="number"?[]:[{path:o,weight:f,type:k1e(i)?"pt":"string"}]}const l=[],u=s.filter(f=>{var h;return f.jsonType==="object"&&!!((h=f.fields)!=null&&h.length)&&!j3n.includes(f.name)});for(const f of u)for(const h of f.fields){const m=rn([o,h.name].filter(Boolean));l.push(...r(h.type,m,a+1))}const d=s.filter(f=>{var h;return f.jsonType==="array"&&!!((h=f.of)!=null&&h.length)});for(const f of d)for(const h of f.of){const m=`${o}[]`;l.push(...r(h,m,a+1))}return l}return FFe(e)?r(e,"",0).reduce((i,{path:o,weight:a,type:s})=>(i[o]={weight:a,type:s,path:o},i),{}):{}}const LFe=e=>{var n;const t=w_(e).map(r=>r.options).find($3n);return typeof((n=t==null?void 0:t.search)==null?void 0:n.weight)=="number"?t.search.weight:null},NFe=e=>w_(e).some(t=>t.hidden)?0:null,BFe=e=>typeof(LFe(e)??NFe(e))=="number"?null:1,D3n=(e,t,n)=>{var s;const r=(s=e==null?void 0:e.preview)==null?void 0:s.select;if(!r)return null;const i=Object.fromEntries(Object.entries(r).map(([l,u])=>[u.replace(/\.\d+/g,"[]"),l])),o=US(e,t,BFe),a=Object.fromEntries(Object.entries(o).map(([l,{type:u}])=>({path:l,type:u})).filter(({path:l})=>i[l]).map(({path:l,type:u})=>[l,{type:u,weight:C1e[i[l]]}]));return n?Object.fromEntries(Object.entries(i).map(([l,u])=>[l,{path:l,type:"string",weight:C1e[u]}])):US(e,t,(l,u)=>{const d=a[u];return d?d.weight:null})};function VFe({schemaType:e,maxDepth:t,isCrossDataset:n,processPaths:r=i=>i}){const i=w1e.get(e);if(i)return i;const o=US(e,t,LFe),a=US(e,t,NFe),s=US(e,t,BFe),l=D3n(e,t,n),u={...A3n,...s,...a,...l,...o},d={typeName:FFe(e)?e.name:e.type,paths:r(Object.entries(u).map(([f,{type:h,weight:m}])=>({path:f,weight:m,...h==="pt"&&{mapWith:"pt::text"}})))};return w1e.set(e,d),d}const O3n=e=>!!(e.type&&e.type.name==="document"),M3n=e=>e.jsonType==="object",P3n=e=>e.name.startsWith("sanity.")&&e.name!=="sanity.previewUrlSecret",zFe=(e,t=[])=>e.getTypeNames().map(n=>e.get(n)).filter(Ro).filter(n=>O3n(n)&&!P3n(n)||t.includes(n.name)).filter(M3n),R3n=1e3,uU="*",F3n="-",L3n=/(?:[^\s"]+|"[^"]*")+/g;function N3n(e,t){return typeof e=="string"?{query:e,types:t}:{...e,types:e.types.length?e.types:t}}function B3n(e){return e.filter(t=>t.weight!==1)}function V3n(e,t){return t.types.map(n=>VFe({schemaType:n,maxDepth:e.maxDepth||py,processPaths:B3n})).filter(({paths:n})=>n.length).reduce((n,r)=>({...n,[r.typeName]:r.paths.reduce((i,{path:o,weight:a})=>({...i,weights:{...i.weights,[o]:a}}),{})}),{})}function z3n(e=[]){return e.map(({field:t,direction:n})=>({attribute:t,direction:n}),{})}function U3n(e){return typeof e<"u"&&e.trim().at(0)===F3n}function H3n(e){return typeof e<"u"&&e.trim().at(-1)===uU}function W3n(e){const t=(e.match(L3n)??[]).map(o=>o.trim()),n=t.findLastIndex(o=>!U3n(o)),r=t[n];if(t.length===0)return uU;if(H3n(r)||typeof r>"u")return t.join(" ");const i=[...t];return i.splice(n,1,`${r}${uU}`),i.join(" ")}function G3n(e,{queryType:t="prefixLast"}){return t==="prefixLast"?W3n(e):e}const K3n=(e,t,n)=>function(r,i={}){const o=N3n(r,e),a=["_type in $__types",i.includeDrafts===!1&&"!(_id in path('drafts.**'))",n.filter?`(${n.filter})`:!1,o.filter?`(${o.filter})`:!1].filter(l=>!!l),s={query:{string:G3n(o.query,i)},filter:a.join(" && "),params:{__types:o.types.map(l=>"name"in l?l.name:l.type),...n.params,...o.params},types:V3n(i,o),...i.sort?{order:z3n(i.sort)}:{},includeAttributes:["_id","_type"],fromCursor:i.cursor,limit:i.limit??R3n};return t.observable.request({uri:`/data/textsearch/${t.config().dataset}`,method:"POST",json:!0,body:s,tag:n.tag}).pipe(fe(l=>{let u=l.hits.map(d=>d.attributes);return n.unique&&(u=$8e(u)),{type:"text",hits:u.map(d=>({hit:d})),nextCursor:l.nextCursor}}))},Y3n=(e,t)=>{const{phrases:n,words:r}=Q3n(e),[i,o]=X3n(n,t),[a,s]=J3n(r,t);return[i+a,[s,o].join(", ")]},q3n=e=>typeof e=="string"?e:JSON.stringify(e);function Z3n(e,t,n=[]){const r=lJ(e,i=>i.typeName);return t.map((i,o)=>{var l;const a=(l=r[i._type].paths||[])==null?void 0:l.map((u,d)=>{const f=q3n(i[`w${d}`]);if(!f)return{path:u.path,score:0,why:"No match"};const[h,m]=Y3n(n,f);return{path:u.path,score:h*u.weight,why:`${m} (*${u.weight})`}}),s=a.reduce((u,d)=>u+d.score,0);return{hit:i,resultIndex:t.length-o,score:s,stories:a}})}function X3n(e,t){const n=t.toLowerCase().trim();let r=0,i=0;return e.forEach(o=>{n.includes(o)&&(r+=o.length/n.length,i+=o.length)}),r===1?[1,"[Phrase] Exact match"]:[r/2,`[Phrase] Matched ${i} of ${n.length} characters`]}function J3n(e,t){const n=Io(aP(y3e(xb(t)))),r=u$(e,n),i=n3e(n,e),o=r.length/i.length;return o===1?[1,"[Word] Exact match"]:[o/2,`[Word] Matched ${r.length} of ${i.length} terms: [${r.join(", ")}]`]}function Q3n(e){const t=Io(e.map(xb)),[n,r]=rP(t,i=>/^".*"$/.test(i));return{phrases:Io(n).map(xb).map(e$n),words:Io(r.map(xb))}}function e$n(e){return e.replace(/^"(.*)"$/,"$1")}const t$n=4,n$n=1e3,r$n=aOt([jr,n3e,aP]),UFe=({mapWith:e,path:t})=>e?`${e}(${t})`:t;function i$n(e,t){const n=r$n(t.map(r=>(r.paths||[]).map(i=>UFe(i))));return e.map((r,i)=>n.map(o=>`${o} match $t${i}`)).filter(r=>r.length>0).map(r=>`(${r.join(" || ")})`)}const o$n=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,a$n=/(^[.]+)|([.]+$)/;function s$n(e){return(e.match(o$n)||[]).map(t=>t.replace(a$n,""))}function l$n(e){const t=[],n=e.replace(/("[^"]*")/g,o=>y3e(o).length>1?(t.push(o),""):o),r=t.map(o=>tMt(xb(o))),i=Io(aP(s$n(xb(n))));return[...r,...i]}function c$n(e){function t(n){return n.mapWith?`${n.mapWith}(${n.field})`:n.field}return(e||[]).map(n=>[t(n),(n.direction||"").toLowerCase()].map(r=>r.trim()).filter(Boolean).join(" ")).join(",")}function u$n(e,t={}){const{filter:n,params:r,tag:i}=t,o=e.types.map(b=>VFe({schemaType:b,maxDepth:t.maxDepth||py,isCrossDataset:t.isCrossDataset})).filter(({paths:b})=>b.length),a=l$n(e.query),s=["_type in $__types",t.includeDrafts===!1&&"!(_id in path('drafts.**'))",...i$n(a,o),n?`(${n})`:"",e.filter?`(${e.filter})`:""].filter(Boolean),l=o.map(b=>{const v=`_type == "${b.typeName}" => `,w=`{ ${b.paths.map((C,k)=>`"w${k}": ${UFe(C)}`)} }`;return`${v}${w}`}),u=c$n((t==null?void 0:t.sort)||[{field:"_id",direction:"asc"}]),d=["_type","_id"],f=l.length>0?`...select(${l.join(`,
`)})`:"",h=d.join(", ")+(f?`, ${f}`:"");let m=`*[${s.join(" && ")}]| order(${u})[0...$__limit]{${h}}`;if(t!=null&&t.__unstable_extendedProjection){const b=t==null?void 0:t.__unstable_extendedProjection,v=d.concat(b).join(", ");m=[`*[${s.join(" && ")}]{${v}}`,`order(${u})[0...$__limit]{${h}}`].join("|")}const g=[`findability-mvi:${t$n}`].concat((t==null?void 0:t.comments)||[]).map(b=>`// ${b}`).join(`
`),y=g?`${g}
${m}`:m,x=(t==null?void 0:t.limit)??n$n;return{query:y,params:{...d$n(a),__types:o.map(b=>b.typeName),__limit:x,...r||{}},options:{tag:i},searchSpec:o,terms:a}}const d$n=e=>{const t={};return e.reduce((n,r,i)=>(n[`t${i}`]=`${r}*`,n),t)};function f$n(e,t){return typeof e=="string"?{query:e,types:t}:e.types.length?e:{...e,types:t}}const h$n=(e,t,n)=>function(r,i={}){const o=f$n(r,e),{query:a,params:s,options:l,searchSpec:u,terms:d}=u$n(o,{...n,...i});return t.observable.fetch(a,s,l).pipe(n.unique?fe($8e):or(),fe(f=>Z3n(u,f,d)),i!=null&&i.skipSortByScore?or():fe(f=>yg(f,h=>-h.score)),fe(f=>({type:"weighted",hits:f})))},WR=(e,t,n)=>(n.enableLegacySearch?h$n:K3n)(e,t,n),p$n={available:!0,reason:"READABLE"},S1e={available:!1,reason:"PERMISSION_DENIED"},E1e={available:!1,reason:"NOT_FOUND"};function HFe(e,t,n){const{publishedId:r,draftId:i}=wJ(t);return e.unstable_observeDocumentPairAvailability(t).pipe(At(o=>{if(!o.draft.available&&!o.published.available){const l=o.draft.reason==="PERMISSION_DENIED"||o.published.reason==="PERMISSION_DENIED"?S1e:E1e;return Se({id:t,type:void 0,availability:l,preview:{draft:void 0,published:void 0}})}const a={_type:"reference",_ref:i},s={_type:"reference",_ref:r};return mo([e.observeDocumentTypeFromId(i),e.observeDocumentTypeFromId(r)]).pipe(fe(([l,u])=>l||u)).pipe(At(l=>{if(!l)return Se({id:t,type:void 0,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const u=n.to.find(m=>m.name===l);if(!u)return Se({id:t,type:l,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const d=fQ(u==null?void 0:u.preview)||[],f=e.observePaths(a,d).pipe(fe(m=>m?{_id:i,...MD(m,u)}:void 0),yo(void 0)),h=e.observePaths(s,d).pipe(fe(m=>m?{_id:r,...MD(m,u)}:void 0),yo(void 0));return mo([f,h]).pipe(fe(([m,g])=>({draft:m,published:g}))).pipe(fe(m=>{const g=o.draft.available||o.published.available?p$n:o.draft.reason==="PERMISSION_DENIED"||o.published.reason==="PERMISSION_DENIED"?S1e:E1e;return{type:l,id:r,availability:g,preview:{draft:Tt(m.draft)?m.draft:void 0,published:Tt(m.published)?m.published:void 0}}}))}))}))}function m$n(e){return e.filter(t=>!t.draft||!t.published).map(t=>t.draft?t.id:Fo(t.id))}function g$n(e,t){return t.length===0?Se([]):e.observable.fetch("*[_id in $ids]._id",{ids:t},{tag:"get-counterpart-ids"})}function y$n(e,t,n,r,i){return WR(n.to,e,{...r,enableLegacySearch:i,maxDepth:r.maxFieldDepth||py})(t,{includeDrafts:!0}).pipe(fe(({hits:o})=>o.map(({hit:a})=>a)),fe(jR),fe(o=>o.slice(0,100)),Ot(o=>g$n(e,m$n(o)).pipe(fe(a=>o.map(s=>{const l=Fo(s.id);return{id:s.id,type:s.type,draft:s.draft||a.includes(l)?{_id:l,_type:s.type}:void 0,published:s.published||a.includes(s.id)?{_id:s.id,_type:s.type}:void 0}})))))}function v$n(e){const t=p.useRef(e);return t.current=e,t}function qJ(e){var w,C,k,S;const{path:t,schemaType:n}=e,r=un(),i=No(),{EditReferenceLinkComponent:o,onEditReference:a,activePath:s,initialValueTemplateItems:l}=$Fe(),u=x_([]),d=(w=v$n(u).current)==null?void 0:w._type,f=p.useMemo(()=>{var E;return(E=r.get(d))==null?void 0:E.liveEdit},[d,r]),h=((C=n.options)==null?void 0:C.disableNew)===!0,m=(S=(k=e.value)==null?void 0:k._strengthenOnPublish)==null?void 0:S.template,g=p.useMemo(()=>p.forwardRef(function(E,_){return o?c.jsx(o,{...E,ref:_,parentRefPath:t,template:m}):null}),[o,t,m]),y=p.useCallback(E=>{a==null||a({parentRefPath:t,id:E.id,type:E.type,template:E.template})},[a,t]),x=ga(t,(s==null?void 0:s.path)||[])?s==null?void 0:s.state:"none",b=p.useMemo(()=>h?[]:(l||[]).filter(E=>n.to.some(_=>{var T;return _.name===((T=E.template)==null?void 0:T.schemaType)})).map(E=>{var _;return(_=E.template)!=null&&_.schemaType?{id:E.id,title:E.title||`${E.template.schemaType} from template ${E.template.id}`,type:E.template.schemaType,icon:E.icon,template:{id:E.template.id,params:E.parameters},permission:{granted:E.granted,reason:E.reason}}:void 0}).filter(Ro),[h,l,n.to]),v=p.useCallback(E=>HFe(i,E,n),[i,n]);return{selectedState:x,isCurrentDocumentLiveEdit:f,handleEditReference:y,EditReferenceLink:g,createOptions:b,getReferenceInfo:v}}function b$n({readOnly:e,hasErrors:t,hasWarnings:n}){return e?"transparent":t?"critical":n?"caution":"default"}const x$n={portal:!0,tone:"default"};function w$n(e){var se,G,K,q,X,ie;const t=p.useRef(null),{schemaType:n,path:r,open:i,inputId:o,children:a,inputProps:s}=e,{readOnly:l,focused:u,renderPreview:d,onChange:f}=e.inputProps,[h,m]=p.useState([]),g=zR(),y=p.useCallback(()=>s.onChange(kt()),[s]),x=e.value,{EditReferenceLink:b,getReferenceInfo:v,selectedState:w,isCurrentDocumentLiveEdit:C}=qJ({path:r,schemaType:n,value:x});UR(t,i),is(u,(te,de)=>{!te&&de&&t.current&&t.current.focus()});const k=e.validation.some(te=>te.level==="error"),S=e.validation.some(te=>te.level==="warning"),E=HR(x==null?void 0:x._ref,v),_=((se=E.result)==null?void 0:se.type)||((G=x==null?void 0:x._strengthenOnPublish)==null?void 0:G.type),T=_?n.to.find(te=>te.name===_):void 0,A=w==="pressed",I=w==="selected",j=x==null?void 0:x._ref,$=j&&((X=(q=(K=E.result)==null?void 0:K.preview)==null?void 0:q.published)==null?void 0:X._id),D=p.useCallback(()=>{f([n.weak===!0?gt(!0,["_weak"]):kt(["_weak"]),kt(["_strengthenOnPublish"])])},[f,n.weak]),O=p.useCallback(()=>{f(n.weak===!0?gt(!0,["_weak"]):kt(["_weak"]))},[f,n]),M=p.useCallback(()=>{s.onPathFocus(["_ref"])},[s]),P=x!=null&&x._weak?"weak":"strong",F=n.weak===!0?"weak":"strong",L=j&&!E.isLoading&&(x==null?void 0:x._strengthenOnPublish),U=!E.isLoading&&((ie=E.result)==null?void 0:ie.availability.available)&&j&&P!==F&&!L,H=b$n({readOnly:l,hasErrors:k,hasWarnings:S}),N=!(x!=null&&x._ref)||s.focusPath[0]==="_ref",{t:Y}=Q(),J=c.jsxs(c.Fragment,{children:[C&&$&&x._strengthenOnPublish&&c.jsx(MFe,{schemaType:n,handleRemoveStrengthenOnPublish:D}),U&&c.jsx(YJ,{actualStrength:P,handleFixStrengthMismatch:O}),E.error&&c.jsx(KJ,{errorMessage:E.error.message,onHandleRetry:E.retry})]}),ee=p.useMemo(()=>p.forwardRef(function(te,de){return c.jsx(Kc,{...te,intent:"edit",params:{id:x==null?void 0:x._ref,type:T==null?void 0:T.name},target:"_blank",rel:"noopener noreferrer",ref:de})}),[T==null?void 0:T.name,x==null?void 0:x._ref]),oe=p.useMemo(()=>l?null:c.jsx(V,{flex:"none",children:c.jsx(Jt,{button:c.jsx(Ki,{}),id:`${o}-menuButton`,menu:c.jsxs(Nt,{children:[!l&&c.jsxs(c.Fragment,{children:[c.jsx(Qe,{text:Y("inputs.reference.action.clear"),tone:"critical",icon:$i,onClick:y}),c.jsx(Qe,{text:Y("inputs.reference.action.replace"),icon:vw,onClick:M})]}),!l&&(x==null?void 0:x._ref)&&c.jsx(Tr,{}),(x==null?void 0:x._ref)&&c.jsx(Qe,{as:ee,"data-as":"a",text:Y("inputs.reference.action.open-in-new-tab"),icon:lp})]}),popover:x$n})}),[y,M,o,ee,l,Y,x==null?void 0:x._ref]),re=p.useCallback(te=>{te.target===t.current&&s.onPathFocus(hn)},[s]);return c.jsxs(c.Fragment,{children:[g&&e.actions&&e.actions.length>0&&c.jsx(g_,{actions:e.actions,documentId:g,documentType:n.name,onActions:m,path:r,schemaType:n}),c.jsx(m_,{actions:h,focused:!!e.inputProps.focused,path:r,children:c.jsx(x0,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:h,__unstable_presence:e.presence,description:e.description,level:e.level,title:e.title,validation:e.validation,deprecated:e.schemaType.deprecated,children:N?c.jsx(V,{children:a}):c.jsx(le,{border:!0,radius:2,padding:1,tone:H,children:c.jsxs(ae,{space:1,children:[c.jsx(W,{gap:1,align:"center",style:{lineHeight:0},children:c.jsxs(Sa,{children:[c.jsx(PFe,{__unstable_focusRing:!0,as:b,"data-pressed":A?!0:void 0,"data-selected":I?!0:void 0,documentId:x==null?void 0:x._ref,documentType:T==null?void 0:T.name,flex:1,pressed:A,radius:2,ref:t,selected:I,tone:"inherit",onFocus:re,children:c.jsx(OFe,{value:x,referenceInfo:E,renderPreview:d,type:n})}),c.jsx(V,{children:oe})]})}),J]})})})})]})}function WFe(e,t){return yr(e.options,t)}const _1e=["array","file","image","reference","slug"],C$n=["asset","crop","hotspot","_ref","_weak"],k$n=["tags"],S$n=["slug"];function ZJ(e,t){if(!e)return[];if(t.has(e))return[];t.add(e);const n=e.type?ZJ(e.type,t):[];return[e,...n]}function E$n(e,t){return sl(e)?T$n(e,t):_$n(e,t)}function _$n(e,t){var d;const{type:n,options:r}=e,i=GFe(n,_1e),o=(e==null?void 0:e.jsonType)==="object"?e.fields:void 0,a=(i==null?void 0:i.name)||"";if(S$n.includes(a))return 0;const s=_1e.includes(a),l=((o==null?void 0:o.filter(f=>!C$n.includes(f.name)).length)??0)>0,u=(((d=r==null?void 0:r.list)==null?void 0:d.length)??0)>0;return l||u||!s?t:0}function T$n(e,t){var o;const{options:n}=e,r=((o=(n==null?void 0:n.list)||[])==null?void 0:o.length)>0,i=k$n.includes((n==null?void 0:n.layout)||"");return r&&!i?t:0}function GFe(e,t){if(e!=null&&e.name&&t.includes(e==null?void 0:e.name))return e;if(e)return GFe(e.type,t)}const $D=[];function A$n(e){return c.jsx(ja,{hasFocus:!!e.inputProps.focused,isChanged:e.inputProps.changed,path:e.path,children:e.children})}function T1e(e){const[t,n]=p.useState($D),r=zR(),i=!!e.inputProps.focused;return c.jsxs(c.Fragment,{children:[r&&e.actions&&e.actions.length>0&&c.jsx(g_,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),c.jsx(m_,{actions:t,focused:i,path:e.path,children:c.jsx(x0,{__internal_slot:e.__internal_slot,__internal_comments:e.__internal_comments,__unstable_headerActions:t,__unstable_presence:e.presence,"data-testid":`field-${e.inputId}`,description:e.description,inputId:e.inputId,level:e.level,title:e.title,validation:e.validation,deprecated:e.schemaType.deprecated,children:c.jsx(ja,{hasFocus:i,isChanged:e.inputProps.changed,path:e.path,children:e.children})})})]})}function j$n(e){const[t,n]=p.useState($D),r=zR(),i=!!e.inputProps.focused;return c.jsxs(c.Fragment,{children:[r&&e.actions&&e.actions.length>0&&c.jsx(g_,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),c.jsx(m_,{actions:t,focused:i,path:e.path,children:c.jsx(LR,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:e.presence,collapsed:e.collapsed,collapsible:e.collapsible,"data-testid":`field-${e.inputId}`,description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,deprecated:e.schemaType.deprecated,children:e.children})})]})}function I$n(e){const[t,n]=p.useState($D),r=zR(),i=!!e.inputProps.focused,o=e.inputProps.members.find(s=>s.kind==="field"&&s.name==="hotspot"),a=o!=null&&o.open?e.presence:e.presence.concat((o==null?void 0:o.field.presence)||$D);return c.jsxs(c.Fragment,{children:[r&&e.actions&&e.actions.length>0&&c.jsx(g_,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),c.jsx(m_,{actions:t,focused:i,path:e.path,children:c.jsx(LR,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:a,collapsed:e.collapsed,collapsible:e.collapsible,description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,deprecated:e.schemaType.deprecated,children:e.children})})]})}function $$n(e){var n;if((n=e.components)!=null&&n.field)return e.components.field;if(aE(e))return A$n;const t=ZJ(e,new Set);return t.some(r=>r.name==="image"||r.name==="file")?I$n:t.some(r=>oK(r))||t.some(r=>r.name==="slug")?T1e:t.some(r=>Il(r))?w$n:e.jsonType!=="object"&&e.jsonType!=="array"?T1e:j$n}function KFe({children:e,workspace:t}){return c.jsx(Ewe.Provider,{value:t,children:e})}function ri(){const e=p.useContext(Ewe);if(!e)throw new Error("Workspace: missing context value");return e}const YFe=0,HL={isLoading:!0,settings:{partialIndexSettings:{maxFieldDepth:YFe}}};function D$n({client:e}){const{projectId:t,dataset:n}=e.config();return e.observable.request({uri:`/projects/${t}/datasets/${n}/settings/indexing`,tag:"search.getPartialIndexSettings"})}const GA=new Map;function GR(e){var s,l,u,d,f;const t=(l=(s=ri().search)==null?void 0:s.unstable_partialIndexing)==null?void 0:l.enabled,n=on(en),r=p.useMemo(()=>e||n,[e,n]),i=p.useMemo(()=>r.config().dataset,[r]);t||GA.set(i,Se(HL.settings)),GA.has(i)||GA.set(i,D$n({client:r}).pipe(go()));const o=p.useMemo(()=>GA.get(i).pipe(fe(h=>({isLoading:!1,settings:h})),yo(HL),En(h=>(console.error(h),Se({isLoading:!1,enabled:!0,settings:{partialIndexSettings:{maxFieldDepth:YFe}}})))),[i]),a=(f=(d=(u=bi(o,HL))==null?void 0:u.settings)==null?void 0:d.partialIndexSettings)==null?void 0:f.maxFieldDepth;return DY(a)?Math.min(a,py):py}const O$n=he`
  grid-template-columns: minmax(0px, 1fr);
`,M$n=he`
  grid-template-columns: 1fr min-content;
`,P$n=R(Xn)(e=>e.$narrow?O$n:M$n),R$n=p.forwardRef(function(e,t){const[n,r]=p.useState(null),i=p.useCallback(a=>{F$n(t,a),r(a)},[t]),o=uy(n);return c.jsx(P$n,{ref:i,gap:1,$narrow:((o==null?void 0:o.width)||0)<480,children:e.children})});function F$n(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const L$n={display:"inline-flex"},N$n={width:"100%"},B$n={portal:!0,tone:"default",constrainSize:!0,fallbackPlacements:["bottom","left","top"],placement:"right",preventOverflow:!0};function V$n(e){const{createOptions:t,onCreate:n,id:r,menuRef:i,...o}=e,a=dr(),{t:s}=Q(),l=$R(t);return t.some(u=>u.permission.granted)?t.length>1?c.jsx(Jt,{button:c.jsx(ge,{...o,disabled:e.readOnly,text:s("inputs.reference.action.create-new-document-select"),mode:"ghost",icon:ca,size:"large"}),id:r,menu:c.jsx(Nt,{ref:i,children:t.map(u=>c.jsx(Et,{disabled:u.permission.granted,content:c.jsx(Fc,{currentUser:a,context:"create-document-type"}),portal:!0,children:c.jsx("div",{children:c.jsx(Qe,{disabled:!u.permission.granted,icon:u.icon,text:l(u).title,onClick:()=>n(u)})})},u.id))}),popover:B$n}):c.jsx(ge,{...o,text:s("inputs.reference.action.create-new-document-select"),mode:"ghost",disabled:!t[0].permission.granted||e.readOnly,onClick:()=>n(t[0]),icon:ca,size:"large"}):c.jsx(Et,{content:c.jsx(Fc,{currentUser:a,context:"create-new-reference"}),children:c.jsx("div",{style:L$n,children:c.jsx(ge,{text:s("inputs.reference.action.create-new-document"),mode:"ghost",disabled:!0,icon:ca,style:N$n})})})}function z$n(e){const{getReferenceInfo:t,id:n,renderPreview:r}=e,{isLoading:i,result:o,error:a}=HR(n,t),{t:s}=Q();if(i)return c.jsxs(ae,{space:2,padding:1,children:[c.jsx(wr,{style:{maxWidth:320},radius:1,animated:!0}),c.jsx(wr,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(a)return c.jsx(ae,{space:2,padding:1,children:c.jsx(ed,{title:s("inputs.reference.error.failed-to-load-document-title"),children:c.jsx(B,{muted:!0,size:1,children:a.message})})});if(!o)return null;if(o.availability.reason==="PERMISSION_DENIED")return c.jsx(ae,{space:2,padding:1,children:s("inputs.reference.error.missing-read-permissions-description")});const l=e.type.to.find(u=>u.name===o.type);return l?o&&l&&c.jsx(DFe,{id:o.id,layout:"default",preview:o.preview,refType:l,renderPreview:r,showTypeLabel:e.type.to.length>1}):c.jsx(ae,{space:2,padding:1,children:s("inputs.reference.error.invalid-search-result-type-title",{returnedType:o.type})})}const U$n=R(Fn)`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`,H$n=R(B)`
  word-break: break-word;
`,W$n=["top-start","bottom-start"],G$n=p.forwardRef(function(e,t){const{searchString:n,loading:r,portalRef:i,referenceElement:o,...a}=e,{t:s}=Q(),l=e.options&&e.options.length>0,u=p.useCallback(({content:d,hidden:f,inputElement:h,onMouseEnter:m,onMouseLeave:g},y)=>c.jsx(U$n,{placement:"bottom-start",fallbackPlacements:W$n,arrow:!1,constrainSize:!0,onMouseEnter:m,onMouseLeave:g,content:c.jsx("div",{ref:y,children:l?d:c.jsx(V,{padding:4,children:c.jsx(W,{align:"center",height:"fill",justify:"center",children:c.jsx(H$n,{align:"center",muted:!0,children:c.jsx(wt,{t:s,i18nKey:"inputs.reference.no-results-for-query",values:{searchTerm:n||""}})})})})}),open:!r&&!f,ref:i,portal:!0,referenceElement:o||h,matchReferenceWidth:!0}),[l,s,n,r,i,o]);return c.jsx(JO,{...a,loading:r,ref:t,renderPopover:u})});function K$n(){return p.useContext(lwe)||{menuRef:{current:null},menuButtonRef:{current:null},containerRef:{current:null}}}const A1e={hits:[],isLoading:!1},Y$n=()=>!0;function q$n(e){return e!==null}function Z$n(e){var ee,oe,re,se,G,K;const{createOptions:t,onChange:n,onEditReference:r,onSearch:i,schemaType:o,readOnly:a,id:s,onPathFocus:l,value:u,renderPreview:d,path:f,elementProps:h,focusPath:m}=e,{getReferenceInfo:g}=qJ({path:f,schemaType:o,value:u}),[y,x]=p.useState(A1e),b=p.useCallback(q=>{const X=Ca(),ie=[bs({}),gt(o.name,["_type"]),gt(X,["_ref"]),gt(!0,["_weak"]),gt({type:q.type,weak:o.weak,template:q.template},["_strengthenOnPublish"])].filter(Ro);n(ie),r({id:X,type:q.type,template:q.template}),l([])},[n,r,l,o]),v=p.useCallback(q=>{if(!q){n(kt()),l([]);return}const X=y.hits.find(te=>te.id===q);if(!X)throw new Error("Selected an item that wasnt part of the result set");const ie=[bs({}),gt(o.name,["_type"]),gt(Cn(q),["_ref"]),X.published&&!o.weak?kt(["_weak"]):gt(!0,["_weak"]),X.published?kt(["_strengthenOnPublish"]):gt({type:X==null?void 0:X.type,weak:o.weak},["_strengthenOnPublish"])].filter(Ro);n(ie),l([])},[n,l,o.name,o.weak,y.hits]),w=p.useCallback(()=>{n(kt())},[n]),C=p.useCallback(q=>{q.key==="Escape"&&l([])},[l]),k=HR(u==null?void 0:u._ref,g),S=p.useRef(null),{push:E}=Nr(),{t:_}=Q(),T=RM(q=>q.pipe(Bt(q$n),At(X=>Di(Se({isLoading:!0}),i(X).pipe(fe(ie=>({hits:ie,searchString:X,isLoading:!1})),En(ie=>(E({title:_("inputs.reference.error.search-failed-title"),description:ie.message,status:"error",id:`reference-search-fail-${s}`}),console.error(ie),Se({hits:[]})))))),Fl((X,ie)=>({...X,...ie}),A1e),or(x))),A=p.useCallback(()=>{T("")},[T]),I=p.useCallback(q=>{q.key==="Escape"&&l([])},[l]),j=p.useCallback(q=>{var ie,te;const X=((ie=q.hit.draft)==null?void 0:ie._id)||((te=q.hit.published)==null?void 0:te._id)||q.value;return c.jsx(Eor,{forwardedAs:"button",type:"button",radius:2,tone:"inherit",children:c.jsx(z$n,{getReferenceInfo:g,id:X,renderPreview:d,type:o})})},[o,g,d]),$=p.useCallback(()=>{var q,X,ie,te;return((X=(q=k.result)==null?void 0:q.preview.draft)==null?void 0:X.title)||((te=(ie=k.result)==null?void 0:ie.preview.published)==null?void 0:te.title)||""},[(oe=(ee=k.result)==null?void 0:ee.preview.draft)==null?void 0:oe.title,(se=(re=k.result)==null?void 0:re.preview.published)==null?void 0:se.title]),D=p.useCallback(()=>l(["_ref"]),[l]),O=p.useCallback(q=>{var X;(X=S.current)!=null&&X.contains(q.relatedTarget)||e.elementProps.onBlur(q)},[e.elementProps]),M=((K=(G=k==null?void 0:k.result)==null?void 0:G.availability)==null?void 0:K.reason)==="NOT_FOUND"&&!(u!=null&&u._strengthenOnPublish)&&(u==null?void 0:u._weak);is((m==null?void 0:m[0])==="_ref",(q,X)=>{var ie;!q&&X&&((ie=h.ref.current)==null||ie.focus())});const P=p.useMemo(()=>y.hits.map(q=>({value:q.id,hit:q})),[y.hits]),F=m.length===1&&m[0]==="_ref",{menuRef:L,menuButtonRef:U,containerRef:H}=K$n(),N=p.useRef(null),Y=p.useRef(null),J=p.useRef(null);return On(!(u!=null&&u._ref)&&(()=>{(F||document.activeElement===U.current)&&w()}),()=>[L.current,U.current,H.current,N.current,Y.current,J.current]),c.jsx(ae,{space:1,"data-testid":"reference-input",ref:N,children:c.jsxs(ae,{space:2,children:[M?c.jsx(ed,{"data-testid":"alert-nonexistent-document",title:_("inputs.reference.error.nonexistent-document-title"),suffix:c.jsx(ae,{padding:2,children:c.jsx(ge,{text:_("inputs.reference.error.nonexistent-document.clear-button-label"),onClick:w})}),children:c.jsx(B,{size:1,children:c.jsx(wt,{i18nKey:"inputs.reference.error.nonexistent-document-description",t:_,values:{documentId:u._ref}})})}):null,c.jsxs(R$n,{ref:S,children:[c.jsx(G$n,{...h,onFocus:D,onBlur:O,"data-testid":"autocomplete",loading:y.isLoading,referenceElement:S.current,options:P,radius:2,placeholder:_("inputs.reference.search-placeholder"),onKeyDown:C,readOnly:k.isLoading||a,onQueryChange:T,searchString:y.searchString,onChange:v,filterOption:Y$n,renderOption:j,renderValue:$,openButton:{onClick:A},portalRef:Y,value:u==null?void 0:u._ref}),t.length>0&&c.jsx(V$n,{id:`${s}-selectTypeMenuButton`,readOnly:a,createOptions:t,onCreate:b,onKeyDown:I,menuRef:J})]})]})})}async function qFe(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const i=n.slice(0,-1),o=Hx(t,i);return await e.filter({document:t,parentPath:i,parent:o,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function X$n(e){const t=p.useRef(e);return t.current=e,t}function J$n(e){var I,j,$,D;const t=er(),n=t.getClient(en),r=un(),i=GR(),o=No(),{path:a,schemaType:s}=e,{EditReferenceLinkComponent:l,onEditReference:u,activePath:d,initialValueTemplateItems:f}=$Fe(),{enableLegacySearch:h=!1}=t.search,m=x_([]),g=X$n(m),y=(I=g.current)==null?void 0:I._type,x=r.get(y),b=p.useMemo(()=>x==null?void 0:x.liveEdit,[x]),v=((j=s.options)==null?void 0:j.disableNew)===!0,w=t.getClient,C=p.useCallback(O=>ti(qFe(s.options,g.current,a,w)).pipe(Ot(({filter:M,params:P})=>y$n(n,O,s,{...s.options,filter:M,params:P,tag:"search.reference",maxFieldDepth:i},h)),En(M=>{var F;const P=M.details&&M.details.type==="queryParseError";return(F=s.options)!=null&&F.filter&&P&&(M.message='Invalid reference filter, please check the custom "filter" option'),qd(M)})),[s,g,a,w,n,i,h]),k=(D=($=e.value)==null?void 0:$._strengthenOnPublish)==null?void 0:D.template,S=p.useMemo(()=>p.forwardRef(function(O,M){return l?c.jsx(l,{...O,ref:M,parentRefPath:a,template:k}):null}),[l,a,k]),E=p.useCallback(O=>{u==null||u({parentRefPath:a,id:O.id,type:O.type,template:O.template})},[u,a]),_=ga(a,(d==null?void 0:d.path)||[])?d==null?void 0:d.state:"none",T=p.useMemo(()=>v?[]:(f||[]).filter(O=>s.to.some(M=>{var P;return M.name===((P=O.template)==null?void 0:P.schemaType)})).map(O=>{var M,P,F;return(M=O.template)!=null&&M.schemaType?{id:O.id,title:O.title||`${O.template.schemaType} from template ${(P=O.template)==null?void 0:P.id}`,i18n:O.i18n,type:O.template.schemaType,icon:O.icon,template:{id:(F=O.template)==null?void 0:F.id,params:O.parameters},permission:{granted:O.granted,reason:O.reason}}:void 0}).filter(Ro),[v,f,s.to]),A=p.useCallback((O,M)=>HFe(o,O,M),[o]);return c.jsx(Z$n,{...e,onSearch:C,liveEdit:b,getReferenceInfo:A,selectedState:_,editReferenceLinkComponent:S,createOptions:T,onEditReference:E})}function Q$n(e){return sp(e.schemaType)}function eDn(e){return kM(e.schemaType)}function tDn(e,t,n,r){const i={...e},o=r.y||0,a=r.x||0;return t.top+i.y<=n.top+o?i.y=n.top-t.top+o:t.bottom+i.y>=n.top+n.height-o&&(i.y=n.top+n.height-t.bottom-o),t.left+i.x<=n.left-a?i.x=n.left-t.left+a:t.right+i.x>=n.left+n.width+a&&(i.x=n.left+n.width-t.right+a),i}const nDn=e=>({containerNodeRect:t,draggingNodeRect:n,transform:r})=>!n||!t?r:tDn(r,n,t,e),XJ="moving",ZFe=R(V)`
  ${e=>e.$moving&&he`
      z-index: 10000;
      /* prevents hover-effects etc on the dragged element  */
      pointer-events: none;
    `}
`,rDn={threshold:{x:0,y:.02}},iDn={coordinateGetter:e6t},oDn={duration:200,easing:"ease"};function aDn(e){return e==="x"?R4t:F4t}function sDn(e){return e==="x"?V4t:U4t}const lDn=p.memo(function(e){const{items:t,axis:n,onItemMove:r,onItemMoveStart:i,onItemMoveEnd:o,children:a,...s}=e,l=_Rt(Pse(mq),Pse(hq,iDn)),u=p.useCallback(f=>{var g,y,x,b;const{active:h,over:m}=f;h.id!==(m==null?void 0:m.id)&&(r==null||r({fromIndex:(y=(g=h.data.current)==null?void 0:g.sortable)==null?void 0:y.index,toIndex:(b=(x=m==null?void 0:m.data.current)==null?void 0:x.sortable)==null?void 0:b.index})),o==null||o()},[r,o]),d=p.useMemo(()=>[nDn({y:4}),...n?[aDn(n)]:[]],[n]);return c.jsx(A4t,{sensors:l,autoScroll:rDn,modifiers:d,collisionDetection:ARt,onDragEnd:u,onDragStart:i,children:c.jsx(W4t,{items:t,strategy:n?sDn(n):void 0,children:c.jsx(Xn,{...s,children:a})})})}),cDn=p.forwardRef(function(e,t){const{id:n,children:r,disableTransition:i}=e,{setNodeRef:o,transform:a,transition:s,active:l}=G3e({id:n,transition:i?null:oDn}),u=n===(l==null?void 0:l.id),d=p.useMemo(()=>({transform:N2.Translate.toString(a),transition:s,pointerEvents:l?"none":void 0}),[a,s,l]),f=p.useCallback(h=>{o(h),typeof t=="function"?t(h):t&&(t.current=h)},[t,o]);return c.jsx(ZFe,{ref:f,style:d,$moving:u,className:u?XJ:"","data-index":e["data-index"],children:r})});function JJ(e){const{onItemMove:t,onItemMoveEnd:n,onItemMoveStart:r,sortable:i,...o}=e,a=p.useCallback(s=>{t==null||t(s)},[t]);return i?c.jsx(lDn,{onItemMove:a,onItemMoveStart:r,onItemMoveEnd:n,...o}):c.jsx(Xn,{...o})}const QJ=p.forwardRef(function(e,t){const{sortable:n,...r}=e;return c.jsx(mwe.Provider,{value:e.id,children:n?c.jsx(cDn,{ref:t,...r}):c.jsx(ZFe,{ref:t,...r})})});function eQ(e){return`inset 0 0 0 ${e.width}px ${e.color}`}function KR(e){const{base:t,border:n,focusRing:r}=e,i=r.offset+r.width,o=0-r.offset,a=t?t.bg:"var(--card-bg-color)";return[o>0&&`inset 0 0 0 ${o}px var(--card-focus-ring-color)`,n&&eQ(n),o<0&&`0 0 0 ${0-o}px ${a}`,i>0&&`0 0 0 ${i}px var(--card-focus-ring-color)`].filter(Boolean).join(",")}function XFe(e){return R(e)(t=>{const{$border:n,$radius:r}=t,{card:i,color:o,radius:a}=$e(t.theme),s={width:n?1:0,color:"var(--card-border-color)"};return he`
        --card-focus-box-shadow: ${eQ(s)};

        border-radius: ${Te(a[r??1])};
        outline: none;
        box-shadow: var(--card-focus-box-shadow);

        &:focus {
          --card-focus-box-shadow: ${KR({border:s,base:o,focusRing:{...i.focusRing,offset:0}})};
        }
      `})}function JFe(e){return e.files&&e.files.length>0?Promise.resolve(Array.from(e.files||[])):QFe(Array.from(e.items||[])).then(jr)}function uDn(e){const t=Array.from(e.files||[]),n=Array.from(e.items||[]);return t&&t.length>0?Promise.resolve(t):QFe(n).then(jr)}function j1e(e){return e===null?[]:[e]}function QFe(e){return Promise.all(e.map(t=>{if(t.kind==="file"&&t.webkitGetAsEntry){let n;try{n=t.webkitGetAsEntry()}catch{return j1e(t.getAsFile())}return n?n.isDirectory?eLe(n):j1e(t.getAsFile()):[]}if(t.kind==="file"){const n=t.getAsFile();return Promise.resolve(n?[n]:[])}return t.kind==="string"?(console.warn('DataTransfer with kind="string" is currently not supported'),Promise.resolve([])):(console.warn("Unknown DataTransferItem.kind: %s",t.kind),Promise.resolve([]))}))}function eLe(e){if(e.isFile)return new Promise((t,n)=>e.file(t,n)).then(t=>[t]);if(e.isDirectory){const t=e.createReader();return new Promise((n,r)=>t.readEntries(n,r)).then(n=>n.filter(r=>!r.name.startsWith("."))).then(n=>Promise.all(n.map(eLe)).then(jr))}return Promise.resolve([])}function dDn(e){return e.type==="application/portable-text"}function fDn(e,t="image/jpeg",n=1){return e.match(/^webkit-fake-url:\/\//)?Promise.reject(new Error("Cannot read image contents from webkit fake url")):new Promise((r,i)=>{const o=new Image;o.crossOrigin="anonymous",o.referrerPolicy="strict-origin-when-cross-origin",o.onload=()=>{var s;const a=document.createElement("canvas");a.width=o.width,a.height=o.height,(s=a.getContext("2d"))==null||s.drawImage(o,0,0,a.width,a.height);try{a.toBlob(r,t,n)}catch(l){i(l)}},o.src=e})}const hDn="isFileTarget",pDn={"data-is-file-target":"true"},mDn=e=>{var t;return((t=e==null?void 0:e.dataset)==null?void 0:t[hDn])==="true"},gDn={opacity:0,position:"absolute"};function tLe(e){return p.forwardRef(function(t,n){const{onFiles:r,onFilesOver:i,onFilesOut:o,disabled:a,...s}=t,[l,u]=p.useState(!1),d=p.useRef(null),f=p.useRef(null);p.useImperativeHandle(n,()=>f.current);const h=p.useRef([]),m=p.useCallback(k=>{r==null||r(k)},[r]),g=p.useCallback(k=>{k.target===f.current&&(k.ctrlKey||k.metaKey)&&k.key==="v"&&u(!0)},[]),y=p.useCallback(k=>{JFe(k.clipboardData).then(S=>d.current?S.length>0?S:yDn(d.current,"image/jpeg"):[]).then(S=>{var E;m(S),u(!1),(E=f.current)==null||E.focus()})},[m]),x=p.useCallback(k=>{h.current=[],k.preventDefault(),k.stopPropagation();const S=k.nativeEvent.dataTransfer;r&&S&&uDn(S).then(E=>{E&&m(E)}),o==null||o()},[m,r,o]),b=p.useCallback(k=>{r&&(k.preventDefault(),k.stopPropagation())},[r]),v=p.useCallback(k=>{const S=Array.from(k.dataTransfer.items).map(E=>({type:E.type,kind:E.kind}));S.some(E=>dDn(E))||(k.stopPropagation(),i&&f.current===k.currentTarget&&(h.current=[...new Set(h.current),k.currentTarget],i(S)))},[i]),w=p.useCallback(k=>{k.stopPropagation();const S=h.current.indexOf(k.currentTarget);S>-1&&h.current.splice(S,1),h.current.length===0&&(o==null||o())},[o]),C=p.useRef(!1);return p.useEffect(()=>{var k;!C.current&&l&&d.current?(d.current.focus(),vDn(d.current)):C.current&&!l&&((k=d.current)==null||k.focus()),C.current=l},[l]),c.jsxs(c.Fragment,{children:[c.jsx(e,{...s,ref:f,onKeyDown:a?void 0:g,onDragOver:a?void 0:b,onDragEnter:a?void 0:v,onDragLeave:a?void 0:w,onDrop:a?void 0:x,"data-test-id":"file-target",...pDn}),!a&&l&&c.jsx("div",{contentEditable:!0,onPaste:y,ref:d,style:gDn})]})})}function yDn(e,t="image/jpeg"){return e.isContentEditable?new Promise(n=>setTimeout(n,10)).then(()=>Array.from(e.querySelectorAll("img"))).then(n=>(e.innerHTML="",n)).then(n=>Promise.all(n.map(r=>fDn(r.src)))).then(n=>n.map(r=>new File([r],"pasted-image.jpg",{type:t}))):Promise.reject(new Error(`Expected element to be contentEditable="true". Instead found a non contenteditable ${e.tagName}`))}function vDn(e){const t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();n==null||n.removeAllRanges(),n==null||n.addRange(t)}function bDn(e){const{hoveringFiles:t,types:n,resolveUploader:r}=e,i=t.filter(l=>n.some(u=>r(u,l))),o=t.length-i.length,a=n.length>1,{t:s}=Q();return c.jsx(c.Fragment,{children:i.length>0?c.jsxs(c.Fragment,{children:[c.jsxs(Wn,{space:2,children:[c.jsx(B,{children:c.jsx(AM,{})}),a?s("inputs.files.common.drop-message.drop-to-upload-multi",{count:i.length}):s("inputs.files.common.drop-message.drop-to-upload"),c.jsx(B,{})]}),o>0&&c.jsx(V,{marginTop:4,children:c.jsxs(Wn,{space:2,children:[c.jsx(B,{muted:!0,size:1,children:c.jsx(Wm,{})}),c.jsx(B,{muted:!0,size:1,children:s("inputs.files.common.drop-message.drop-to-upload.rejected-file-message",{count:o})})]})})]}):c.jsxs(Wn,{space:2,children:[c.jsx(B,{children:c.jsx(Wm,{})}),c.jsx(B,{children:s("inputs.files.common.drop-message.drop-to-upload.no-accepted-file-message",{count:t.length})})]})})}const xDn=R(al)`
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background-color: var(--card-bg-color);
  opacity: 0.8;
`,wDn=R.div`
  position: relative;
`;function CDn(e,t,n){return e.map(r=>({type:r,uploader:t(r,n)})).filter(r=>r.uploader)}function kDn(e){const t=tLe(e);return p.forwardRef(function(n,r){const{children:i,resolveUploader:o,onUpload:a,types:s,...l}=n,{push:u}=Nr(),{t:d}=Q(),f=p.useCallback((x,b)=>{const{type:v,uploader:w}=b;a==null||a({file:x,schemaType:v,uploader:w})},[a]),h=p.useCallback(x=>{if(!o)return;const b=x.map(C=>({file:C,uploaderCandidates:CDn(s,o,C)})),v=b.filter(C=>C.uploaderCandidates.length>0),w=b.filter(C=>C.uploaderCandidates.length===0);w.length>0&&u({closable:!0,status:"warning",title:d("inputs.array.error.cannot-upload-unable-to-convert",{count:w.length}),description:w.map((C,k)=>c.jsxs(W,{gap:2,padding:2,children:[c.jsx(V,{children:c.jsx(B,{weight:"medium",children:C.file.name})}),c.jsx(V,{children:c.jsxs(B,{size:1,children:["(",C.file.type,")"]})})]},k))}),v.forEach(C=>{f(C.file,yg(C.uploaderCandidates,k=>k.uploader.priority)[0])})},[u,o,s,f,d]),[m,g]=p.useState([]),y=p.useCallback(()=>g([]),[]);return c.jsx(wDn,{children:c.jsxs(t,{...l,ref:r,onFiles:h,onFilesOver:g,onFilesOut:y,children:[o&&m.length>0&&c.jsx(xDn,{zOffset:10,children:c.jsx(bDn,{hoveringFiles:m,types:s,resolveUploader:o})}),i]})})})}const SDn=R(le)`
  height: 100%;
`,YR=XFe(kDn(SDn));function EDn(e,t){return t.type==="toggle"?{open:!e.open}:{open:!1}}function dU(e){const[t,n]=p.useReducer(EDn,{open:!1}),r=p.useRef(null),i=e.popoverProps.referenceElement??null;On(()=>n({type:"close"}),()=>[r.current,i]),Ss(p.useCallback(l=>{l.key==="Escape"&&t.open&&(n({type:"close"}),i==null||i.focus())},[t,i]));const{onSelect:o,...a}=e.insertMenuProps,s=p.useCallback(l=>{o(l),n({type:"close"})},[o]);return{popover:p.useMemo(()=>c.jsx(Fn,{ref:r,open:t.open,constrainSize:!0,overflow:"hidden",portal:!0,content:c.jsx(_Dn,{...a,onSelect:s}),...e.popoverProps}),[s,a,e.popoverProps,t]),state:t,send:n}}function _Dn(e){const{t}=Q();return c.jsx(y5n,{...e,labels:{"insert-menu.filter.all-items":t("inputs.array.insert-menu.filter.all-items"),"insert-menu.search.no-results":t("inputs.array.insert-menu.search.no-results"),"insert-menu.search.placeholder":t("inputs.array.insert-menu.search.placeholder"),"insert-menu.toggle-grid-view.tooltip":t("inputs.array.insert-menu.toggle-grid-view.tooltip"),"insert-menu.toggle-list-view.tooltip":t("inputs.array.insert-menu.toggle-list-view.tooltip")}})}function tQ(e){var x,b,v,w;const{schemaType:t,readOnly:n,children:r,onValueCreate:i,onItemAppend:o}=e,{t:a}=Q(),[s,l]=p.useState(null),[u,d]=p.useState(null),f=p.useCallback(C=>{const k=i(C);o(k)},[i,o]),h=p.useCallback(()=>{f(t.of[0])},[t,f]),m=t.of.length>1?"inputs.array.action.add-item-select-type":"inputs.array.action.add-item",g={icon:ca,mode:"ghost",size:"large",text:a(m)},y=dU({insertMenuProps:{...(x=e.schemaType.options)==null?void 0:x.insertMenu,schemaTypes:e.schemaType.of,onSelect:f},popoverProps:{placement:"bottom",fallbackPlacements:["top"],matchReferenceWidth:(w=(v=(b=e.schemaType.options)==null?void 0:b.insertMenu)==null?void 0:v.views)==null?void 0:w.some(C=>C.name==="grid"),referenceBoundary:s,referenceElement:u}});return n?c.jsx(Et,{portal:!0,content:a("inputs.array.read-only-label"),children:c.jsx(Xn,{children:c.jsx(ge,{...g,"data-testid":"add-read-object-button",disabled:!0})})}):c.jsxs(Xn,{ref:l,gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[t.of.length===1?c.jsx(ge,{...g,onClick:h,"data-testid":"add-single-object-button"}):c.jsxs(c.Fragment,{children:[c.jsx(ge,{...g,"data-testid":"add-multiple-object-button",selected:y.state.open,onClick:()=>{y.send({type:"toggle"})},ref:d}),y.popover]}),r]})}const TDn=R(ge)(e=>{const{$grid:t,disabled:n}=e;return n?he``:he`
    cursor: ${t?"move":"ns-resize"};
  `}),nLe=function(e){const t=p.useContext(mwe),{mode:n="bleed",readOnly:r,...i}=e,{listeners:o,attributes:a}=G3e({id:t,disabled:r}),{t:s}=Q();return c.jsx(TDn,{icon:C_e,tooltipProps:{content:s("inputs.array.action.drag.tooltip"),delay:{open:1e3},disabled:!!r},mode:n,"data-ui":"DragHandleButton",...i,...a,...o,disabled:r})},ADn=R(W)`
  min-height: 33px;
`,jDn=R(W)`
  position: absolute;
  top: 0;
  right: 0;
  height: 33px;
`,fU=R(le)`
  position: absolute;
  top: 0;
  left: 0;
`,IDn=R(le)`
  transition: border-color 250ms;
  box-sizing: border-box;
  position: relative;

  @media (hover: hover) {
    ${fU} {
      opacity: 0;
    }

    &:hover,
    &:focus-within {
      ${fU} {
        opacity: 1;
      }
    }
  }

  .${XJ} & {
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &[aria-selected='true'] {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`;function rLe(e){const{validation:t,selected:n,tone:r,presence:i,children:o,dragHandle:a,menu:s,footer:l,readOnly:u,...d}=e;return c.jsxs(IDn,{forwardedAs:W,direction:"column",border:!0,selected:n,"aria-selected":n,radius:1,tone:r,...d,children:[o,a&&c.jsx(fU,{margin:1,radius:2,display:"flex",tone:"inherit","data-ui":"DragHandleCard",children:c.jsx(nLe,{$grid:!0,mode:"ghost",readOnly:!!u})}),i&&c.jsx(jDn,{align:"center",marginX:1,children:i}),c.jsxs(ADn,{align:"center",paddingX:1,sizing:"border",justify:"space-between",children:[c.jsx(W,{children:t}),c.jsx(V,{children:l}),s]})]})}const $Dn=R(le)`
  max-width: ${({theme:e})=>e.sanity.container[1]}px;
`;function DDn(e){const{value:t,onFocus:n,vertical:r,...i}=e,[o,a]=p.useState(!1),s=p.useRef(null),{t:l}=Q();On(()=>a(!1),()=>[s.current]);const u=p.useCallback(h=>{(h.key==="Escape"||h.key==="Tab")&&a(!1)},[]),d=p.useCallback(()=>{a(h=>!h)},[]),f=il(t);return c.jsx(Fn,{open:o,ref:s,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:c.jsx($Dn,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:c.jsxs(ae,{space:4,children:[c.jsx(V,{children:c.jsx(B,{weight:"medium",children:l("inputs.array.error.type-is-incompatible-title")})}),c.jsx(B,{size:1,children:c.jsx(wt,{t:l,i18nKey:"inputs.array.error.current-schema-not-declare-description",values:{typeName:f}})}),c.jsx(V,{children:c.jsxs(B,{size:1,children:[c.jsx(_M,{})," ",l("inputs.array.error.can-delete-but-no-edit-description")]})}),c.jsxs(ae,{space:2,children:[c.jsx(B,{size:1,weight:"medium",children:l("inputs.array.error.json-representation-description")}),c.jsx(le,{padding:2,overflow:"auto",border:!0,children:c.jsx(Vi,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:c.jsx(le,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,style:{height:"100%"},onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...i,children:c.jsxs(ae,{space:4,marginTop:2,children:[c.jsx(V,{margin:1,children:c.jsx(B,{align:"center",size:4,children:c.jsx(Tu,{})})}),c.jsx(B,{align:"center",size:1,children:c.jsx(wt,{t:l,i18nKey:"inputs.array.error.type-is-incompatible-prompt",values:{typeName:f}})})]})})})}const ODn={portal:!0,tone:"default"};function MDn(e){const{member:t,sortable:n,readOnly:r}=e,i=p.useId(),{onChange:o}=Zc(),{t:a}=Q(),s=p.useCallback(()=>{o(Ft.from([kt([{_key:t.key}])]))},[o,t.key]);return c.jsx(rLe,{dragHandle:n,readOnly:r,tone:"caution",style:{height:"100%"},menu:c.jsx(Jt,{button:c.jsx(Ki,{}),id:`${i}-menuButton`,menu:c.jsx(Nt,{children:c.jsx(Qe,{text:a("inputs.array.action.remove-invalid-item"),tone:"critical",icon:$i,onClick:s})}),popover:ODn}),children:t.error.type==="INVALID_ITEM_TYPE"?c.jsx(DDn,{value:t.error.value,vertical:!0}):c.jsx("div",{children:a("inputs.array.error.unexpected-error",{error:t.error.type})})})}function nQ(e=[]){return e.reduce((t,n,r)=>{const i=typeof n;if(i==="number")return`${t}[${n}]`;if(i==="string")return`${t}${r===0?"":"."}${n}`;if(Pu(n))return`${t}[_key=="${n._key}"]`;throw new Error(`Unsupported path segment "${n}"`)},"")}function PDn(e){return e!==null||e!==void 0}function DD(e,t,n){if(!n)throw new Error("missing context");if(e===!0)return[];if(Array.isArray(e))return e.flatMap(o=>DD(o,t,n)).filter(PDn);if(typeof e=="string")return DD({message:e},t,n);if(typeof e.message!="string")throw new Error(`${nQ(n.path)}: Validator must return 'true' if valid or an error message as a string on errors`);const{message:r}=e,i=[];e.path&&i.push(e.path);for(const o of e.paths||[])i.push(o);return i.length?i.map(o=>({path:(n.path||[]).concat(o),level:t||"error",item:{message:r},message:r})):[{level:t||"error",item:{message:r},message:r,path:n.path||[]}]}function RDn(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}function iLe(e,t){const{currentLocale:n}=t,r=n.id;if(e[r])return e[r];if(r.includes("-")){const i=r.split("-",1)[0];if(e[i])return e[i]}return e["en-US"]||e["en-GB"]||e.en||"Unknown validation error (not localized)"}function oLe(e){return e!==!0&&typeof e<"u"&&typeof e!="string"&&kr(e)&&!("message"in e)}function h5(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!h5(e[n],t[n]))return!1;return!0}if(Array.isArray(e)!=Array.isArray(t))return!1;if(e&&t&&typeof e=="object"&&typeof t=="object"){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof Date!=t instanceof Date)return!1;if(e instanceof RegExp&&t instanceof RegExp)return e.toString()==t.toString();if(e instanceof RegExp!=t instanceof RegExp)return!1;for(let r=0;r<n.length;r++)if(n[r]!=="_key"&&!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;for(let r=0;r<n.length;r++){const i=n[r];if(i!=="_key"&&!h5(e[i],t[i]))return!1}return!0}return!1}const FDn={}.toString,I1e=[Object,Function,Array,String,Boolean,Number,Date,RegExp,Error];function LDn(e){for(let t=0;t<I1e.length;t++)if(I1e[t]===e)return!0;return!1}function aLe(e){const t=FDn.call(e).slice(8,-1);if(e==null)return t.toLowerCase();const n=e.constructor;return n&&!LDn(n)?n.name:t}const $1e=5e3,D1e=e=>{var t;return e.message?e.message:e.results.length===1?(t=e.results[0])==null?void 0:t.message:e.i18n.t("{{messages, list}}",{messages:e.results.map(n=>{var r;return n.message||((r=n.item)==null?void 0:r.message)}),formatParams:{messages:{style:"long",type:e.operation}}})},C0={type:(e,t,n,{i18n:r})=>{const i=aLe(t);return i!==e&&i!=="undefined"?n||r.t("validation:generic.incorrect-type",{actualType:i,expectedType:e}):!0},presence:(e,t,n,{i18n:r})=>t===void 0&&e==="required"?n||r.t("validation:generic.required"):!0,all:async(e,t,n,r)=>{const i=(await Promise.all(e.map(o=>o.validate(t,r)))).flat();return i.length===0?!0:D1e({message:n,results:i,operation:"conjunction",i18n:r.i18n})},either:async(e,t,n,r)=>{const i=await Promise.all(e.map(a=>a.validate(t,r))),o=i.flat();return i.find(a=>!a.length)?!0:D1e({message:n,results:o,operation:"disjunction",i18n:r.i18n})},valid:(e,t,n,{i18n:r})=>{const i=typeof t;if(i==="undefined")return!0;const o=(i==="number"||i==="string")&&`${t}`,a=o&&o.length>30?`${o.slice(0,30)}`:o;return e.some(s=>h5(s,t))?!0:n||r.t("validation:generic.not-allowed",o?{context:"hint",replace:{hint:a}}:{})},custom:async(e,t,n,r)=>{const i=setTimeout(()=>{r.environment==="studio"&&console.warn(`Custom validator at ${nQ(r.path)} has taken more than ${$1e}ms to respond`)},$1e);let o;try{o=await e(t,r)}finally{clearTimeout(i)}return oLe(o)?iLe(o,r.i18n):typeof o=="string"&&n||o}},NDn={...C0,min:(e,t,n,{i18n:r,type:i})=>{if(!t||t.length>=e)return!0;const o=P1(i)?"blocks":void 0;return n||r.t("validation:array.minimum-length",{minLength:e,context:o})},max:(e,t,n,{i18n:r,type:i})=>{if(!t||t.length<=e)return!0;const o=P1(i)?"blocks":void 0;return n||r.t("validation:array.maximum-length",{maxLength:e,context:o})},length:(e,t,n,{i18n:r,type:i})=>{if(!t||t.length===e)return!0;const o=P1(i)?"blocks":void 0;return n||r.t("validation:array.exact-length",{wantedLength:e,context:o})},presence:(e,t,n,{i18n:r})=>e==="required"&&!t?n||r.t("validation:generic.required",{context:"array"}):!0,valid:(e,t,n,{i18n:r})=>{if(typeof t>"u")return!0;const i=[];for(let a=0;a<t.length;a++){const s=t[a];if(e.some(u=>h5(u,s)))continue;const l=s&&s._key?{_key:s._key}:a;i.push([l])}const o=n||r.t("validation:generic.not-allowed");return i.map(a=>({message:o,path:a}))},unique:(e,t,n,{i18n:r})=>{const i=[];if(!t)return!0;for(let s=0;s<t.length;s++)for(let l=s+1;l<t.length;l++){const u=t[s],d=t[l];h5(u,d)&&(i.indexOf(s)===-1&&i.push(s),i.indexOf(l)===-1&&i.push(l))}const o=i.map(s=>{const l=t[s];return[l&&l._key?{_key:l._key}:s]}),a=n||r.t("validation:array.item-duplicate");return o.map(s=>({message:a,path:s}))}},BDn={...C0,presence:(e,t,n,{i18n:r})=>e==="required"&&typeof t!="boolean"?n||r.t("validation:generic.required",{context:"boolean"}):!0};function O1e(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const VDn=/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/,M1e=(e="",t,n)=>{const r=(n==null?void 0:n.dateFormat)||xg,i=(n==null?void 0:n.timeFormat)||kY;return Sw(t,e==="date"?r:`${r} ${i}`,e==="date")};function KA(e,t=!1){if(!e)return null;if(e==="now")return new Date;const n=new Date(e),r=isNaN(n.getTime());if(r&&t)throw new Error(`Unable to parse "${e}" to a date`);return r?null:n}const zDn={...C0,type:(e,t,n,{i18n:r})=>typeof t>"u"||VDn.test(`${t}`)?!0:n||r.t("validation:date.invalid-format"),min:(e,t,n,{type:r,i18n:i})=>{const o=KA(t),a=KA(e,!0);if(!o||!t||o>=a)return!0;if(!r)throw new Error("`type` was not provided in validation context.");const s=O1e(r.options)?r.options:{};return n||i.t("validation:date.minimum",{minDate:M1e(r.name,a,s),providedMinDate:e})},max:(e,t,n,{type:r,i18n:i})=>{const o=KA(t),a=KA(e,!0);if(!o||!t||o<=a)return!0;if(!r)throw new Error("`type` was not provided in validation context.");const s=O1e(r.options)?r.options:{};return n||i.t("validation:date.maximum",{maxDate:M1e(r.name,a,s),providedMaxDate:e})}},UDn=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,HDn={...C0,integer:(e,t,n,{i18n:r})=>Number.isInteger(t)?!0:n||r.t("validation:number.non-integer"),precision:(e,t,n,{i18n:r})=>{if(t===void 0)return!0;const i=t.toString().match(UDn);return Math.max((i[1]?i[1].length:0)-(i[2]?parseInt(i[2],10):0),0)>e?n||r.t("validation:number.maximum-precision",{limit:e}):!0},min:(e,t,n,{i18n:r})=>t>=e?!0:n||r.t("validation:number.minimum",{minNumber:e}),max:(e,t,n,{i18n:r})=>t<=e?!0:n||r.t("validation:number.maximum",{maxNumber:e}),greaterThan:(e,t,n,{i18n:r})=>t>e?!0:n||r.t("validation:number.greater-than",{threshold:e}),lessThan:(e,t,n,{i18n:r})=>t<e?!0:n||r.t("validation:number.less-than",{threshold:e})},WDn=["_key","_type","_weak"],GDn={...C0,presence:(e,t,n,{i18n:r})=>{if(e!=="required")return!0;const i=t&&Object.keys(t).filter(o=>!WDn.includes(o));return t===void 0||i&&i.length===0?n||r.t("validation:generic.required",{context:"object"}):!0},reference:async(e,t,n,r)=>{if(!t)return!0;const{type:i,getDocumentExists:o,i18n:a}=r;if(!El(t))return n||a.t("validation:object.not-reference");if(!i)throw new Error("`type` was not provided in validation context");if("weak"in i&&i.weak)return!0;if(!o)throw new Error("`getDocumentExists` was not provided in validation context");return await o({id:t._ref})?!0:a.t("validation:object.reference-not-published",{documentId:t._ref})},assetRequired:(e,t,n,{i18n:r})=>!t||!t.asset||!t.asset._ref?n||r.t("validation:object.asset-required",{context:e.assetType||""}):!0},WL="http://sanity",KDn=e=>/^\.*\//.test(e),YDn=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,qDn={...C0,min:(e,t,n,{i18n:r})=>!t||t.length>=e?!0:n||r.t("validation:string.minimum-length",{minLength:e}),max:(e,t,n,{i18n:r})=>!t||t.length<=e?!0:n||r.t("validation:string.maximum-length",{maxLength:e}),length:(e,t,n,{i18n:r})=>(t||"").length===e?!0:n||r.t("validation:string.exact-length",{wantedLength:e}),uri:(e,t,n,{i18n:r})=>{const i=t||"";if(!i)return!0;const{options:o}=e,{allowCredentials:a,relativeOnly:s}=o,l=o.allowRelative||s;let u;try{u=l?new URL(i,WL):new URL(i)}catch{return n||r.t("validation:string.url.invalid")}if(s&&u.origin!==WL)return n||r.t("validation:string.url.not-relative");if(!l&&u.origin===WL&&KDn(i))return n||r.t("validation:string.url.not-absolute");if(!a&&(u.username||u.password))return n||r.t("validation:string.url.includes-credentials");const d=u.protocol.replace(/:$/,"");return o.scheme.some(f=>f.test(d))?!0:n||r.t("validation:string.url.disallowed-scheme",{scheme:d})},stringCasing:(e,t,n,{i18n:r})=>{const i=t||"";return e==="uppercase"&&i!==i.toLocaleUpperCase()?n||r.t("validation:string.uppercase"):e==="lowercase"&&i!==i.toLocaleLowerCase()?n||r.t("validation:string.lowercase"):!0},presence:(e,t,n,{i18n:r})=>e==="required"&&!t?n||r.t("validation:generic.required",{context:"string"}):!0,regex:(e,t,n,{i18n:r})=>{const{pattern:i,name:o,invert:a}=e,s=o||`${i.toString()}`,l=t||"";i.lastIndex=0;const u=i.test(l);return!a&&!u||a&&u?n||(a?r.t("validation:string.regex-match",{name:s}):r.t("validation:string.regex-does-not-match",{name:s})):!0},email:(e,t,n,{i18n:r})=>{const i=`${t||""}`.trim();return!i||YDn.test(i)?!0:n||r.t("validation:string.email")}},ZDn={Boolean:BDn,Number:HDn,String:qDn,Array:NDn,Object:GDn,Date:zDn},sLe=e=>e&&e.type?sLe(e.type):e,XDn=e=>typeof e!="object"||!e?!1:e.type===lLe.FIELD_REF,JDn=[],P1e=Symbol("FIELD_REF"),QDn=["Array","Boolean","Date","Number","Object","String"];var lo;const lLe=(lo=class{constructor(t){Z(this,"_type");Z(this,"_level");Z(this,"_required");Z(this,"_typeDef");Z(this,"_message");Z(this,"_rules",[]);Z(this,"_fieldRules");Z(this,"valueOfField",lo.valueOfField.bind(lo));this._typeDef=t,this.reset()}_mergeRequired(t){if(this._required==="required"||t._required==="required")return"required";if(this._required==="optional"||t._required==="optional")return"optional"}error(t){const n=this.clone();return n._level="error",n._message=t||void 0,n}warning(t){const n=this.clone();return n._level="warning",n._message=t||void 0,n}info(t){const n=this.clone();return n._level="info",n._message=t||void 0,n}reset(){return this._type=this._type||void 0,this._rules=(this._rules||[]).filter(t=>t.flag==="type"),this._message=void 0,this._required=void 0,this._level="error",this._fieldRules=void 0,this}isRequired(){return this._required==="required"}clone(){const t=new lo;return t._type=this._type,t._message=this._message,t._required=this._required,t._rules=cKt(this._rules),t._level=this._level,t._fieldRules=this._fieldRules,t._typeDef=this._typeDef,t}cloneWithRules(t){const n=this.clone(),r=new Set;return t.forEach(i=>{i.flag==="type"&&(n._type=i.constraint),r.add(i.flag)}),n._rules=n._rules.filter(i=>{const o=["type","uri","email"].includes(i.flag),a=r.has(i.flag);return!(o&&a)}).concat(t),n}merge(t){if(this._type&&t._type&&this._type!==t._type)throw new Error("merge() failed: conflicting types");const n=this.cloneWithRules(t._rules);return n._type=this._type||t._type,n._message=this._message||t._message,n._required=this._mergeRequired(t),n._level=this._level==="error"?t._level:this._level,n}type(t){const n=`${t.slice(0,1).toUpperCase()}${t.slice(1)}`;if(!QDn.includes(n))throw new Error(`Unknown type "${t}"`);const r=this.cloneWithRules([{flag:"type",constraint:n}]);return r._type=n,r}all(t){return this.cloneWithRules([{flag:"all",constraint:t}])}either(t){return this.cloneWithRules([{flag:"either",constraint:t}])}optional(){const t=this.cloneWithRules([{flag:"presence",constraint:"optional"}]);return t._required="optional",t}required(){const t=this.cloneWithRules([{flag:"presence",constraint:"required"}]);return t._required="required",t}custom(t,n={}){return n.bypassConcurrencyLimit&&Object.assign(t,{bypassConcurrencyLimit:!0}),this.cloneWithRules([{flag:"custom",constraint:t}])}min(t){return this.cloneWithRules([{flag:"min",constraint:t}])}max(t){return this.cloneWithRules([{flag:"max",constraint:t}])}length(t){return this.cloneWithRules([{flag:"length",constraint:t}])}valid(t){const n=Array.isArray(t)?t:[t];return this.cloneWithRules([{flag:"valid",constraint:n}])}integer(){return this.cloneWithRules([{flag:"integer"}])}precision(t){return this.cloneWithRules([{flag:"precision",constraint:t}])}positive(){return this.cloneWithRules([{flag:"min",constraint:0}])}negative(){return this.cloneWithRules([{flag:"lessThan",constraint:0}])}greaterThan(t){return this.cloneWithRules([{flag:"greaterThan",constraint:t}])}lessThan(t){return this.cloneWithRules([{flag:"lessThan",constraint:t}])}uppercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"uppercase"}])}lowercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"lowercase"}])}regex(t,n,r){const i=typeof n=="string"?n:(n==null?void 0:n.name)??(r==null?void 0:r.name),o=typeof n=="string"?!1:(n==null?void 0:n.invert)??(r==null?void 0:r.invert),a={pattern:t,name:i,invert:o||!1};return this.cloneWithRules([{flag:"regex",constraint:a}])}email(){return this.cloneWithRules([{flag:"email"}])}uri(t){const n=(t==null?void 0:t.scheme)||["http","https"],r=Array.isArray(n)?n:[n];if(!r.length)throw new Error("scheme must have at least 1 scheme specified");const i={options:{scheme:r.map(o=>{if(!(o instanceof RegExp)&&typeof o!="string")throw new Error("scheme must be a RegExp or a String");return typeof o=="string"?new RegExp(`^${RDn(o)}$`):o}),allowRelative:(t==null?void 0:t.allowRelative)||!1,relativeOnly:(t==null?void 0:t.relativeOnly)||!1,allowCredentials:(t==null?void 0:t.allowCredentials)||!1}};return this.cloneWithRules([{flag:"uri",constraint:i}])}unique(){return this.cloneWithRules([{flag:"unique"}])}reference(){return this.cloneWithRules([{flag:"reference"}])}fields(t){if(this._type!=="Object")throw new Error("fields() can only be called on an object type");const n=this.cloneWithRules([]);return n._fieldRules=t,n}assetRequired(){const t=sLe(this._typeDef);let n;return t&&["image","file"].includes(t.name)?n=t.name==="image"?"image":"file":n="asset",this.cloneWithRules([{flag:"assetRequired",constraint:{assetType:n}}])}async validate(t,{__internal:n={},...r}){const{customValidationConcurrencyLimiter:i}=n,o=t==null;if(o&&this._required==="optional")return JDn;const a=this._required===void 0&&o?this._rules.filter(l=>l.flag==="custom"):this._rules,s=this._type&&ZDn[this._type]||C0;return(await Promise.all(a.map(async l=>{if(l.flag===void 0)throw new Error('Invalid rule, did not contain "flag"-property');const u=s[l.flag];if(!u){const h=this._type?`type "${this._type}"`:"rule without declared type";throw new Error(`Validator for flag "${l.flag}" not found for ${h}`)}let d="constraint"in l?l.constraint:null;if(XDn(d)&&(d=yr(r.parent,d.path)),l.flag==="custom"&&i&&!(d!=null&&d.bypassConcurrencyLimit)){const h=d;d=async(...m)=>{await i.ready();try{return await h(...m)}finally{i.release()}}}const f=oLe(this._message)?iLe(this._message,r.i18n):this._message;try{const h=await u(d,t,f,r);return DD(h,this._level,r)}catch(h){const m=`${nQ(r.path)}: Exception occurred while validating value: ${h.message}`;return DD({message:m},"error",r)}}))).flat()}},Z(lo,"FIELD_REF",P1e),Z(lo,"array",t=>new lo(t).type("Array")),Z(lo,"object",t=>new lo(t).type("Object")),Z(lo,"string",t=>new lo(t).type("String")),Z(lo,"number",t=>new lo(t).type("Number")),Z(lo,"boolean",t=>new lo(t).type("Boolean")),Z(lo,"dateTime",t=>new lo(t).type("Date")),Z(lo,"valueOfField",t=>({type:P1e,path:t})),lo),eOn=gM(nOn);function tOn(e){const t=e.indexOf("drafts.")===0;return{published:t?e.slice(7):e,draft:t?e:`drafts.${e}`}}function R1e(e){return e.reduce((t,n,r)=>{const i=typeof n=="number",o=Pu(n),a=i||o?"[]":`${r===0?"":"."}${n}`;return`${t}${a}`},"")}const F1e=(e,t)=>{const{getClient:n,document:r,path:i,type:o}=t,a=o==null?void 0:o.options;if(!r)throw new Error("`document` was not provided in validation context.");if(!i)throw new Error("`path` was not provided in validation context.");const s=(a==null?void 0:a.disableArrayWarning)||!1,{published:l,draft:u}=tOn(r._id),d=r._type,f=R1e(i.concat("current"));!s&&f.includes("[]")&&t.environment==="studio"&&eOn(R1e(i));const h=["_type == $docType","!(_id in [$draft, $published])",`${f} == $slug`].join(" && ");return n({apiVersion:"2023-11-13"}).fetch(`!defined(*[${h}][0]._id)`,{docType:d,draft:u,published:l,slug:e},{tag:"validation.slug-is-unique"})};function nOn(e){console.warn([`Slug field at path ${e} is within an array and cannot be automatically checked for uniqueness`,'If you need to check for uniqueness, provide your own "isUnique" method',"To disable this message, set `disableArrayWarning: true` on the slug `options` field"].join(`
`))}const rOn=async(e,t)=>{var o,a;if(!e)return!0;const{i18n:n}=t;if(typeof e!="object"||Array.isArray(e))return n.t("validation:slug.not-object");if(!Qgt(e)||e.current.trim().length===0)return n.t("validation:slug.missing-current");const r=((a=(o=t==null?void 0:t.type)==null?void 0:o.options)==null?void 0:a.isUnique)||F1e,i={...t,parent:t.parent,type:t.type,defaultIsUnique:F1e};return await r(e.current,i)?!0:n.t("validation:slug.not-unique",{slug:e.current})},iOn={array:!0,boolean:!0,date:!0,number:!0,object:!0,string:!0},oOn=e=>e in iOn;function rQ(e,t=new Set){return e?t.has(e)?[]:(t.add(e),[...e.type?rQ(e.type,t):[],e]):[]}function aOn(e,t){let n=e;oOn(t.jsonType)&&(n=n.type(t.jsonType));const r=(t==null?void 0:t.options)&&typeof t.options=="object"&&"list"in t.options&&t.options.list;return Array.isArray(r)&&(n=n.valid(r.map(i=>sOn(i,t)))),t.name==="datetime"||t.name==="date"?n.type("Date"):t.name==="url"?n.uri():t.name==="slug"?n.custom(rOn,{bypassConcurrencyLimit:!0}):t.name==="reference"?n.reference():t.name==="email"?n.email():n}function cLe(e){return e?!("fields"in e)&&e.type?cLe(e.type):!("fields"in e)||!Array.isArray(e.fields)?!1:e.fields.some(t=>t.name==="value"):!1}function sOn(e,t){return t.jsonType==="object"&&cLe(t)||e.value===void 0?e:e.value}function p5(e){if(!e)return[];const t=e.validation;if(Array.isArray(t))return t.flatMap(r=>p5({...e,validation:r}));if(t&&typeof t=="object")return[t];const n=Object.values(rQ(e).reduce((r,i)=>(r[i.name]=i,r),{})).reduce(aOn,new lLe(e));return t?p5({...e,validation:t(n)}):[n]}function lOn(e){return $I(e,new Set),e}function $I(e,t){if(!t.has(e)){if(t.add(e),e.validation=p5(e),"fields"in e)for(const n of e.fields)$I(n.type,t);if("of"in e)for(const n of e.of)$I(n,t);if(e.annotations)for(const n of e.annotations)$I(n,t)}}function cOn(e){return e.getTypeNames().forEach(t=>{const n=e.get(t);n&&lOn(n)}),e}const uOn=typeof window>"u"||typeof document>"u",dOn=[gc],fOn=gM(function(){const e=hOn();return e.init(),{currentLocale:gc,locales:dOn,loadNamespaces:e.loadNamespaces,t:e.t}});function hOn(){var r;const e={[gc.id]:{}},t=((r=N8e.bundles)==null?void 0:r.filter(T_n))||[],n=new Set;for(const i of t)e[gc.id][i.namespace]=i.resources,n.add(i.namespace);return uRe({ns:Array.from(n),defaultNS:$x,initImmediate:!0,partialBundledLanguages:!0,fallbackLng:gc.id,lng:gc.id,supportedLngs:[gc.id],debug:!1,load:"currentOnly",resources:e,interpolation:{escapeValue:uOn}})}const pOn=function(e,t){const n=Date.now();return window.setTimeout(()=>{e({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-n)}})},0)},mOn=function(e){return window.clearTimeout(e)},$b=typeof window>"u"?void 0:window,gOn=($b==null?void 0:$b.requestIdleCallback)||pOn,yOn=($b==null?void 0:$b.cancelIdleCallback)||mOn,vOn=e=>t=>{var r;if(typeof t!="object"||!t)return!0;const n=new Set((r=e.fields)==null?void 0:r.map(i=>i.name));return Object.keys(t).filter(i=>!i.startsWith("_")).filter(i=>!n.has(i)).map(i=>({message:`Field '${i}' does not exist on type '${e.name}'`,path:[i]}))},bOn=5,L1e=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),xOn=e=>e!=null;function wOn(e,t){if(t.length===1)return t[0];const n=Mm(e)&&e._type,r=e==null||!n&&aLe(e).toLowerCase();return r&&r!=="object"?t.find(i=>i.jsonType===r):t.find(i=>{var o;return((o=i.type)==null?void 0:o.name)===n})||t.find(i=>i.name===n)||t.find(i=>i.name==="object"&&r==="object")}const N1e=new WeakMap;function COn({document:e,getClient:t,i18n:n=fOn(),schema:r,getDocumentExists:i,environment:o,maxCustomValidationConcurrency:a}){if(typeof(e==null?void 0:e._type)!="string")throw new Error("Tried to validated a value without a '_type'");const s=r.get(e._type);if(!s)return o==="studio"?(console.warn('Schema type for object type "%s" not found, skipping validation',e._type),Se([])):Se([{level:"warning",message:`Could not find schema type for type '${e._type}', skipping validation`,path:[]}]);let l=N1e.get(r);l||(l=new j2n(a??bOn),N1e.set(r,l));const u={getClient:t,schema:r,parent:void 0,value:e,path:[],document:e,type:s,i18n:n,getDocumentExists:i,environment:o,customValidationConcurrencyLimiter:l};return ti(n.loadNamespaces(["validation"])).pipe(At(()=>hU(u)),En(d=>{console.error(d);const f=(d==null?void 0:d.message)||"Unknown error";return Se([{level:"error",message:f,item:{message:f},path:[]}])}))}function hU({value:e,type:t,path:n=[],parent:r,customValidationConcurrencyLimiter:i,environment:o,...a}){const s=h=>(t==null?void 0:t.jsonType)==="object"&&rQ(t).find(m=>["object","document","file","image"].includes(m.name))&&o!=="studio"?h.custom(vOn(t),{bypassConcurrencyLimit:!0}).warning():h,l=p5(t),u=l.map(s).map(h=>Qi(()=>h.validate(e,{...a,environment:o,parent:r,path:n,type:t,__internal:{customValidationConcurrencyLimiter:i}})));let d=[];const f=l.some(h=>h.isRequired());if((t==null?void 0:t.jsonType)==="object"&&(e||e==null&&f)){const h=t.fields.reduce((m,g)=>(m[g.name]=g.type,m),{});d=d.concat(l.map(m=>m._fieldRules).filter(xOn).flatMap(m=>Object.entries(m)).flatMap(([m,g])=>{const y=h[m];return p5({...y,validation:g}).map(s).map(x=>{const b=L1e(e)?e[m]:void 0;return Qi(()=>x.validate(b,{...a,parent:e,path:n.concat(m),type:y,environment:o,__internal:{customValidationConcurrencyLimiter:i}}))})})),d=d.concat(t.fields.map(m=>hU({...a,parent:e,value:L1e(e)?e[m.name]:void 0,path:n.concat(m.name),type:m.type,environment:o,customValidationConcurrencyLimiter:i})))}return(t==null?void 0:t.jsonType)==="array"&&Array.isArray(e)&&(d=d.concat(e.map((h,m)=>hU({...a,parent:e,value:h,path:n.concat(Pu(h)?{_key:h._key}:m),type:wOn(h,t.of),environment:o,customValidationConcurrencyLimiter:i})))),Qi(()=>Un([...u,...d])).pipe(Ot(h=>Di(kOn(),h),40),OM(),hxt(),fe(jr),fe(h=>l.some(m=>m._fieldRules)?Xd(h,m=>JSON.stringify(m)):h))}function kOn(e){return new Lt(t=>{const n=gOn(()=>{t.complete()},void 0);return()=>yOn(n)})}var SOn={name:"sanity.assetSourceData",title:"Asset Source Data",type:"object",fields:[{name:"name",title:"Source name",description:"A canonical name for the source this asset is originating from",type:"string"},{name:"id",title:"Asset Source ID",description:"The unique ID for the asset within the originating source so you can programatically find back to it",type:"string"},{name:"url",title:"Asset information URL",description:"A URL to find more information about this asset in the originating source",type:"string"}]},EOn={name:"sanity.fileAsset",title:"File",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",title:"File extension",readOnly:!0,fieldset:"system"},{name:"mimeType",type:"string",title:"Mime type",readOnly:!0,fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"uploadId",type:"string",readOnly:!0,hidden:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{title:"originalFilename",path:"path",mimeType:"mimeType",size:"size"},prepare(e){return{title:e.title||e.path.split("/").slice(-1)[0],subtitle:`${e.mimeType} (${(e.size/1024/1024).toFixed(2)} MB)`}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]},_On={title:"Geographical Point",name:"geopoint",type:"object",fields:[{name:"lat",type:"number",title:"Latitude"},{name:"lng",type:"number",title:"Longitude"},{name:"alt",type:"number",title:"Altitude"}]},TOn={name:"sanity.imageAsset",title:"Image",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",readOnly:!0,title:"File extension",fieldset:"system"},{name:"mimeType",type:"string",readOnly:!0,title:"Mime type",fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"uploadId",type:"string",readOnly:!0,hidden:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"metadata",type:"sanity.imageMetadata",title:"Metadata"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{id:"_id",title:"originalFilename",mimeType:"mimeType",size:"size"},prepare(e){return{title:e.title||typeof e.path=="string"&&e.path.split("/").slice(-1)[0],media:{asset:{_ref:e.id}},subtitle:`${e.mimeType} (${(Number(e.size)/1024/1024).toFixed(2)} MB)`}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]},AOn={name:"sanity.imageCrop",title:"Image crop",type:"object",fields:[{name:"top",type:"number"},{name:"bottom",type:"number"},{name:"left",type:"number"},{name:"right",type:"number"}]},jOn={name:"sanity.imageDimensions",type:"object",title:"Image dimensions",fields:[{name:"height",type:"number",title:"Height",readOnly:!0},{name:"width",type:"number",title:"Width",readOnly:!0},{name:"aspectRatio",type:"number",title:"Aspect ratio",readOnly:!0}]},IOn={name:"sanity.imageHotspot",title:"Image hotspot",type:"object",fields:[{name:"x",type:"number"},{name:"y",type:"number"},{name:"height",type:"number"},{name:"width",type:"number"}]},$On={name:"sanity.imageMetadata",title:"Image metadata",type:"object",fieldsets:[{name:"extra",title:"Extra metadata",options:{collapsable:!0}}],fields:[{name:"location",type:"geopoint"},{name:"dimensions",title:"Dimensions",type:"sanity.imageDimensions",fieldset:"extra"},{name:"palette",type:"sanity.imagePalette",title:"Palette",fieldset:"extra"},{name:"lqip",title:"LQIP (Low-Quality Image Placeholder)",type:"string",readOnly:!0},{name:"blurHash",title:"BlurHash",type:"string",readOnly:!0},{name:"hasAlpha",title:"Has alpha channel",type:"boolean",readOnly:!0},{name:"isOpaque",title:"Is opaque",type:"boolean",readOnly:!0}]},DOn={name:"sanity.imagePalette",title:"Image palette",type:"object",fields:[{name:"darkMuted",type:"sanity.imagePaletteSwatch",title:"Dark Muted"},{name:"lightVibrant",type:"sanity.imagePaletteSwatch",title:"Light Vibrant"},{name:"darkVibrant",type:"sanity.imagePaletteSwatch",title:"Dark Vibrant"},{name:"vibrant",type:"sanity.imagePaletteSwatch",title:"Vibrant"},{name:"dominant",type:"sanity.imagePaletteSwatch",title:"Dominant"},{name:"lightMuted",type:"sanity.imagePaletteSwatch",title:"Light Muted"},{name:"muted",type:"sanity.imagePaletteSwatch",title:"Muted"}]},OOn={name:"sanity.imagePaletteSwatch",title:"Image palette swatch",type:"object",fields:[{name:"background",type:"string",title:"Background",readOnly:!0},{name:"foreground",type:"string",title:"Foreground",readOnly:!0},{name:"population",type:"number",title:"Population",readOnly:!0},{name:"title",type:"string",title:"String",readOnly:!0}]},MOn={title:"Slug",name:"slug",type:"object",fields:[{name:"current",title:"Current slug",type:"string",validation:e=>e.required()},{name:"source",title:"Source field",type:"string",hidden:!0}]};const POn=e=>e.severity==="error",ROn=[SOn,MOn,_On,TOn,EOn,AOn,IOn,$On,jOn,DOn,OOn];function FOn(e){const t=uDt(e.types).getTypes(),n=u$t(t),r=n.some(o=>o.problems.some(POn)),i=TMe.compile({name:e.name,types:r?[]:[...e.types,...ROn].filter(Boolean)});return i._validation=n,cOn(i)}function Iu(e){return typeof e.title=="string"?e.title:e.type?Iu(e.type):e.name||e.jsonType}const LOn=[0,0,1,0];function NOn(e){return e.stopPropagation()}function BOn(e){return e.stopPropagation()}function uLe(e){const{children:t,header:n,id:r,legacy_referenceElement:i,onClose:o,type:a,width:s,autofocus:l}=e,[u,d]=p.useState(null),f=p.useRef(null),h=c.jsx(Jw,{margins:LOn,children:c.jsx(V,{ref:f,children:t})});return a==="dialog"?c.jsx(Mx,{scrollElement:u,containerElement:f,children:c.jsx(no,{__unstable_autoFocus:l,contentRef:d,"data-testid":"edit-portal-dialog",header:n,id:r||"",onClickOutside:o,onClose:o,onDragEnter:NOn,onDrop:BOn,width:s,children:h})}):c.jsx(kor,{header:n,onClose:o,referenceElement:i,width:s,containerRef:d,children:c.jsx(Mx,{scrollElement:u,containerElement:f,children:h})})}function iQ(e){return e.reduce((t,n)=>n!=null&&n.children?[...t,n,...iQ(n.children)]:[...t,n],[]).map(({children:t,...n})=>n)}function VOn(e,t){var i;const n=iQ(e),r=ax(t).toLocaleLowerCase();return(i=n==null?void 0:n.filter(o=>ax(o.title||"").toLocaleLowerCase().includes(r)))==null?void 0:i.sort((o,a)=>{var u,d;const s=(u=o.title)==null?void 0:u.startsWith(r),l=(d=a.title)==null?void 0:d.startsWith(r);return s&&!l?-1:!s&&l?1:0})}function zOn(e){const[t,n]=p.useState([]),{observeForPreview:r}=No(),i=p.useMemo(()=>iQ(e),[e]),o=p.useCallback(a=>{const s=a.path;n(l=>l.some(u=>Dt(u.path,s))?l.map(u=>Dt(u.path,s)?{...a,title:a==null?void 0:a.title}:u):l.concat(a))},[n]);return p.useEffect(()=>{n([]),i.forEach(a=>{r(a.value,a.schemaType).pipe(fe(s=>{var l;return{...a,title:(l=s.snapshot)==null?void 0:l.title}})).subscribe(o).unsubscribe()})},[i,o,r]),t}function qR(e){const t=C_(e),{t:n}=Q();return p.useMemo(()=>{var r;return{...t,value:{...(t==null?void 0:t.value)||{},title:((r=t==null?void 0:t.value)==null?void 0:r.title)||n("preview.default.title-fallback")}}},[t,n])}const dLe=33,UOn=50;function HOn(e){const{item:t,onPathSelect:n,selected:r,isFirst:i,renderMenuItemTitle:o}=e,{value:a}=qR({schemaType:t.schemaType,value:t.value}),{title:s}=a;return c.jsx(ae,{marginTop:i?void 0:1,children:c.jsx(zt,{mode:"bleed",onClick:()=>n(t.path),selected:r,title:s,padding:2,children:c.jsxs(W,{align:"center",gap:3,justify:"space-between",children:[c.jsx(W,{flex:1,children:o(a)}),r&&c.jsx(B,{size:1,children:c.jsx(_a,{})})]})})})}function WOn(e){const{items:t,onPathSelect:n,selectedPath:r,collapsed:i=!1}=e,{t:o}=Q(),a=p.useCallback(u=>{const d=t[u];return Dt(d.path,r)},[t,r]),s=p.useCallback(u=>{const{title:d,media:f}=u;return i?c.jsxs(W,{align:"center",gap:1,children:[c.jsx(B,{size:1,muted:!0,children:"/"}),c.jsx(Ia,{title:d,media:f,layout:"inline"})]}):c.jsx(Ia,{title:d,media:f,layout:"inline"})},[i]),l=p.useCallback(u=>{const d=Dt(u.path,r),f=Dt(u.path,t[0].path);return c.jsx(HOn,{isFirst:f,item:u,onPathSelect:n,renderMenuItemTitle:s,selected:d})},[s,t,n,r]);return c.jsx(gf,{activeItemDataAttr:"data-hovered",ariaLabel:o("tree-editing-dialog.breadcrumbs.menu"),autoFocus:v0?void 0:"input","data-testid":"tree-editing-breadcrumbs-menu",getItemDisabled:a,itemHeight:dLe,items:t,overscan:5,padding:1,renderItem:l})}const GOn=["bottom-start"],KOn=R(W)``,YOn=R(le)`
  min-height: max-content;
`,qOn=R(W)(e=>{const{$maxDisplayedItems:t,$itemHeight:n}=e;return he`
    --item-height: ${n}px;
    --max-items: ${t};
    --list-padding: 0.5rem;

    position: relative;
    max-height: calc(var(--item-height) * var(--max-items) + var(--list-padding));
    min-height: calc((var(--item-height) * 1));
  `}),ZOn=R(Fn)(()=>he`
    [data-ui='Popover__wrapper'] {
      width: 250px;
      display: flex;
      flex-direction: column;
      border-radius: ${({theme:e})=>e.sanity.radius[3]}px;
      position: relative;
      overflow: hidden;
      overflow: clip;
    }
  `);function B1e(e){const{button:t,collapsed:n=!1,items:r,menuTitle:i,onPathSelect:o,parentElement:a,selectedPath:s}=e,[l,u]=p.useState(!1),d=p.useRef(null),[f,h]=p.useState(null),m=p.useCallback(()=>{l&&(u(!1),f==null||f.focus())},[f,l]),g=p.useCallback(w=>{const{key:C,shiftKey:k}=w;(k&&C==="Tab"||C==="Escape"||C==="Tab")&&m()},[m]),y=p.useCallback(()=>{u(!l)},[l]),x=p.useCallback(w=>{o(w),u(!1)},[o]);On(()=>u(!1),()=>[d.current,f]);const b=c.jsx(KOn,{direction:"column",flex:1,forwardedAs:Ku,height:"fill",returnFocus:!0,children:c.jsxs(qOn,{$itemHeight:dLe,$maxDisplayedItems:UOn,direction:"column",overflow:"hidden",children:[i&&c.jsx(YOn,{borderBottom:!0,padding:3,sizing:"border",children:c.jsx(V,{paddingX:1,sizing:"border",children:c.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",weight:"semibold",title:i,children:i})})}),c.jsx(WOn,{collapsed:n,items:r,onPathSelect:x,selectedPath:s})]})}),v=p.cloneElement(t,{"aria-expanded":l,"aria-haspopup":"true","data-testid":"tree-editing-breadcrumb-menu-button",id:"tree-breadcrumb-menu-button",onClick:y,ref:h,selected:l});return c.jsx(ZOn,{constrainSize:!0,content:b,"data-testid":"tree-editing-breadcrumbs-menu-popover",fallbackPlacements:GOn,onKeyDown:g,open:l,placement:"bottom-start",portal:!0,ref:d,referenceBoundary:a,children:v})}const V1e=5,z1e=[],U1e="/",fLe=R(zt)(({theme:e})=>{var n,r;const{bold:t}=((r=(n=$e(e))==null?void 0:n.font.text)==null?void 0:r.weights)||{};return he`
    max-height: 1rem;
    overflow: hidden;
    min-width: 2ch;

    &[data-active='true'] {
      [data-ui='Text']:first-child {
        font-weight: ${t};
      }
    }
  `}),XOn=R(B)`
  overflow: hidden;
  padding: 8px 0;
`,JOn=p.forwardRef(function(e,t){var u;const{item:n,onPathSelect:r,isSelected:i,...o}=e,{value:a}=qR({schemaType:n.schemaType,value:n.value}),s=a.title,l=n.children&&((u=n.children)==null?void 0:u.length)>1;return c.jsx(fLe,{"data-active":i?"true":"false",mode:"bleed",onClick:()=>r(n.path),padding:1,ref:t,space:2,title:s,...o,children:c.jsxs(W,{flex:1,align:"center",justify:"flex-start",gap:1,overflow:"hidden",children:[c.jsx(Ia,{title:s,media:a.media,layout:"inline"}),l&&c.jsx(B,{size:0,children:c.jsx(ea,{})})]})})}),H1e=p.forwardRef(function(e,t){const{children:n}=e;return c.jsx(V,{ref:t,children:c.jsx(B,{size:1,children:n})})});function QOn(e){const{items:t=z1e,onPathSelect:n,selectedPath:r}=e,[i,o]=p.useState(null),a=tE(i),s=p.useMemo(()=>{const d=a==null?void 0:a.border.width;return d?d<500?3:d<700?4:V1e:V1e},[a==null?void 0:a.border.width]),l=p.useMemo(()=>{const d=t.length,f=Math.ceil(s/2),h=Math.floor(s/2);return s&&d>s?[...t.slice(0,f-1),t.slice(f-1,d-h),...t.slice(d-h)]:t},[t,s]),u=p.useMemo(()=>l.map((d,f)=>{var b;const h=`${d}-${f}`,m=f<l.length-1;if(Array.isArray(d))return c.jsxs(p.Fragment,{children:[c.jsx(B1e,{button:c.jsx(fLe,{mode:"bleed",padding:1,children:c.jsx(W,{overflow:"hidden",children:c.jsx(XOn,{size:1,weight:"medium",textOverflow:"ellipsis",children:"..."})})}),collapsed:!0,items:d,onPathSelect:n,parentElement:i,selectedPath:r}),m&&c.jsx(H1e,{children:U1e})]},h);const g=d.children&&((b=d.children)==null?void 0:b.length)>1,y=Dt(d.path,r),x=c.jsx(JOn,{item:d,isSelected:y,onPathSelect:n});return c.jsxs(p.Fragment,{children:[!g&&x,g&&c.jsx(B1e,{button:x,items:d.children||z1e,onPathSelect:n,menuTitle:Iu(d.schemaType),parentElement:i,selectedPath:d.path}),m&&c.jsx(H1e,{children:U1e})]},h)}),[l,r,n,i]);return c.jsx(W,{align:"center",as:"ol",gap:2,ref:o,children:u})}const hLe=R(W).attrs({padding:2,align:"center",sizing:"border"})`
  height: 40px;
  min-height: 40px;
`,pLe=51,eMn=10;function tMn(e){const{item:t,onPathSelect:n,isFirst:r}=e,{value:i}=qR({value:t.value,schemaType:t.schemaType}),o=i.title;return c.jsx(ae,{marginTop:r?void 0:1,children:c.jsx(zt,{mode:"bleed",onClick:()=>n(t.path),children:c.jsxs(ae,{space:2,flex:1,children:[c.jsx(Ia,{title:o,media:i.media,layout:"inline"}),c.jsx(V,{children:c.jsx(B,{muted:!0,size:0,textOverflow:"ellipsis",children:Iu(t.parentSchemaType)})})]})})})}function nMn(e){const{items:t,onPathSelect:n,textInputElement:r}=e,{t:i}=Q(),o=p.useCallback(a=>{const s=Dt(a.path,t[0].path);return c.jsx(tMn,{isFirst:s,item:a,onPathSelect:n})},[t,n]);return c.jsx(gf,{activeItemDataAttr:"data-hovered",ariaLabel:i("tree-editing-dialog.search.menu-label"),autoFocus:v0?void 0:"input",inputElement:r,itemHeight:pLe,items:t,overscan:5,padding:1,renderItem:o})}const rMn=["bottom-start"],iMn=R(W)``,oMn=R(W)(e=>{const{$maxDisplayedItems:t,$itemHeight:n}=e;return he`
    --item-height: ${n}px;
    --max-items: ${t};
    --list-padding: 0.5rem;

    position: relative;
    max-height: calc(var(--item-height) * var(--max-items) + var(--list-padding));
    min-height: calc((var(--item-height) * 1));
    width: 100%;
  `}),aMn=R(Fn)(()=>he`
    [data-ui='Popover__wrapper'] {
      min-width: 250px;
      display: flex;
      flex-direction: column;
      border-radius: ${({theme:e})=>e.sanity.radius[3]}px;
      position: relative;
      overflow: hidden;
      overflow: clip;
    }
  `),sMn=R(ei)`
  border-radius: inherit;
`;function lMn(e){const{items:t,onPathSelect:n}=e,[r,i]=p.useState(null),[o,a]=p.useState(""),{t:s}=Q(),l=o.length>0,u=zOn(t),d=p.useMemo(()=>VOn(u,o),[o,u]),f=p.useCallback(()=>a(""),[]),h=p.useCallback(b=>{a(b.target.value)},[]),m=p.useCallback(b=>{n(b),f()},[n,f]),g=p.useCallback(b=>{b.key==="Escape"&&(f(),r==null||r.focus())},[f,r]),y=p.useCallback(()=>{requestAnimationFrame(()=>{f()})},[f]),x=p.useMemo(()=>d.length===0?c.jsx(le,{children:c.jsx(ae,{padding:4,sizing:"border",space:3,children:c.jsx(B,{align:"center",muted:!0,size:1,weight:"medium",children:s("tree-editing-dialog.search.no-results-title")})})}):c.jsx(iMn,{direction:"column",flex:1,height:"fill",children:c.jsx(le,{children:c.jsx(oMn,{$itemHeight:pLe,$maxDisplayedItems:eMn,direction:"column",overflow:"hidden",children:c.jsx(nMn,{items:d,onPathSelect:m,textInputElement:r})})})}),[d,m,r,s]);return c.jsx(aMn,{constrainSize:!0,content:x,fallbackPlacements:rMn,matchReferenceWidth:!0,open:l,placement:"bottom-start",portal:!0,children:c.jsx(le,{radius:3,children:c.jsx(sMn,{fontSize:1,icon:wa,onBlur:y,onChange:h,onKeyDown:g,placeholder:s("tree-editing-dialog.search-placeholder"),ref:i,value:o})})})}function DI(e,t){return JSON.stringify(e)===JSON.stringify(t)}function m5(e){return e.length===0?!1:e[e.length-1].hasOwnProperty("_key")}function W1e(e,t){return e.every((n,r)=>DI(t[r],n))&&m5(e)}function YA(e){return m5(e)?e:e.slice(0,e.length-1)}function mLe(e){return e.some(t=>t.children&&t.children.length>0)}function gLe(e,t){var n;return((n=e.children)==null?void 0:n.some(r=>Dt(r.path,t)||gLe(r,t)))||!1}const cMn={block:"center",behavior:"smooth",scrollMode:"if-needed"},uMn=R(Es)`
  transition: transform 0.2s ease;

  &[data-expanded='true'] {
    transform: rotate(90deg);
  }
`,dMn=R.div`
  min-width: 23px;
  max-width: 23px;
`,fMn=R(ae)(({theme:e})=>{var i,o;const t=((i=$e(e))==null?void 0:i.space[3])||0,n=(o=$e(e))==null?void 0:o.color._dark,r=ln.gray[n?900:200].hex;return he`
    margin-left: ${t+2}px;
    box-sizing: border-box;
    border-left: 1px solid ${r};
  `}),hMn=R(W)(({theme:e})=>{var i,o,a;const t=(i=$e(e))==null?void 0:i.color.button.bleed.default.hovered.bg,n=(o=$e(e))==null?void 0:o.color.button.bleed.default.pressed.bg,r=(a=$e(e))==null?void 0:a.color.button.bleed.default.selected.bg;return he`
    padding: 2px;
    padding-right: 3px;
    box-sizing: border-box;
    transition: inherit;
    border-radius: ${$e(e).radius[2]}px;

    &[data-selected='true'] {
      background-color: ${r};
    }

    [data-ui='ExpandButton'],
    [data-ui='NavigateButton'] {
      transition: inherit;
      background-color: inherit;
      box-shadow: unset;
    }

    @media (hover: hover) {
      &:hover {
        &[data-selected='false'] {
          background-color: ${t};
          border-radius: ${$e(e).radius[2]}px;

          [data-ui='ExpandButton']:hover {
            background-color: ${n};
          }
        }

        [data-ui='ExpandButton']:hover {
          background-color: ${t};
        }
      }
    }
  `});function yLe(e){const{item:t,onPathSelect:n,selectedPath:r,siblingHasChildren:i}=e,{children:o}=t,a=o&&o.length>0,[s,l]=p.useState(!1),[u,d]=p.useState(null),{t:f}=sw(),{value:h}=qR({schemaType:t.schemaType,value:t.value}),m=p.useMemo(()=>Dt(t.path,r),[t.path,r]),g=p.useMemo(()=>!m5(t.path),[t.path]),y=p.useMemo(()=>rn(t.path),[t.path]),x=p.useMemo(()=>g?Iu(t.schemaType):h.title,[g,t.schemaType,h.title]),b=p.useMemo(()=>a?c.jsx(uMn,{"data-expanded":s?"true":"false"}):null,[a,s]),v=p.useMemo(()=>g?c.jsx(SK,{}):h.media,[g,h.media]),w=p.useCallback(()=>n(t.path),[t.path,n]),C=p.useCallback(()=>l(k=>!k),[]);return p.useEffect(()=>{gLe(t,r)&&l(!0)},[t,r]),p.useEffect(()=>{!u||!m||my(u,cMn)},[u,m]),c.jsxs(ae,{"aria-expanded":s,as:"li",ref:d,role:"treeitem",space:1,children:[c.jsx(le,{"data-as":"button","data-testid":"tree-editing-menu-item",overflow:"hidden",radius:2,tone:"inherit",children:c.jsxs(hMn,{align:"center","data-selected":m,"data-testid":"tree-editing-menu-item-content",children:[b&&c.jsx(zt,{"aria-label":`${f(s?"tree-editing-dialog.sidebar.action.collapse":"tree-editing-dialog.sidebar.action.expand")} ${x}`,"data-testid":`tree-editing-menu-expand-button-${y}`,"data-ui":"ExpandButton",mode:"bleed",onClick:C,padding:2,children:c.jsx(B,{size:0,muted:!0,children:b})}),!b&&i&&c.jsx(dMn,{}),c.jsx(ae,{flex:1,children:c.jsx(zt,{"data-testid":`tree-editing-menu-navigate-button-${y}`,"data-ui":"NavigateButton",mode:"bleed",onClick:w,padding:1,title:x,children:c.jsx(W,{align:"center",children:c.jsx(Ia,{layout:"inline",media:v,title:x})})})})]})}),s&&a&&c.jsx(fMn,{flex:1,forwardedAs:"ul",paddingLeft:1,role:"group",space:1,children:o.map(k=>{const S=mLe(o);return c.jsx(yLe,{item:k,onPathSelect:n,selectedPath:r,siblingHasChildren:S},rn(k.path))})})]},y)}const pMn=p.memo(function(e){const{items:t,onPathSelect:n,selectedPath:r}=e;return c.jsx(ae,{as:"ul","data-testid":"tree-editing-menu",role:"tree",space:2,children:t.map(i=>{const o=mLe(t);return c.jsx(yLe,{item:i,onPathSelect:n,selectedPath:r,siblingHasChildren:o},rn(i.path))})})}),mMn=R.div`
  position: absolute;
  top: 0;
  bottom: 0;
  width: 9px;
  z-index: 201;
  cursor: ew-resize;

  ${({position:e})=>e==="right"?he`
          right: -4px;
        `:he`
          left: -4px;
        `}

  /* Border */
  & > span:nth-child(1) {
    display: block;
    border-left: 1px solid var(--card-border-color);
    position: absolute;
    top: 0;
    ${({position:e})=>e==="right"?he`
            right: 4px;
          `:he`
            left: 4px;
          `}
    bottom: 0;
    transition: opacity 200ms;
  }

  /* Hover effect */
  & > span:nth-child(2) {
    display: block;
    position: absolute;
    top: 0;
    ${({position:e})=>e==="right"?he`
            right: 0px;
          `:he`
            left: 0px;
          `}
    width: 9px;
    bottom: 0;
    background-color: var(--card-border-color);
    opacity: 0;
    transition: opacity 150ms;
  }

  @media (hover: hover) {
    &:hover > span:nth-child(2) {
      opacity: 0.2;
    }
  }
`;function gMn(e){const{onResize:t,onResizeStart:n,position:r}=e,i=p.useRef(0),o=p.useCallback(a=>{a.preventDefault(),i.current=a.pageX,n();const s=u=>{u.preventDefault(),t(i.current-u.pageX)},l=()=>{window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",l)};window.addEventListener("mousemove",s),window.addEventListener("mouseup",l)},[t,n]);return c.jsxs(mMn,{onMouseDown:o,position:r,children:[c.jsx("span",{}),c.jsx("span",{})]})}const yMn=R(V)`
  position: relative;
  flex: 1;
  padding-left: 1px;
`;function vMn(e){const{as:t,children:n,minWidth:r,maxWidth:i,initialWidth:o,...a}=e,[s,l]=p.useState(null),u=p.useRef(),[d,f]=p.useState(o),h=p.useCallback(()=>{u.current=s==null?void 0:s.offsetWidth},[s]),m=p.useCallback(y=>{const x=u.current;x&&f(Math.min(Math.max(x-y,r),i))},[r,i]),g=p.useMemo(()=>d?{flex:"none",width:d}:{minWidth:r,maxWidth:i},[r,i,d]);return c.jsxs(yMn,{as:t,...a,ref:l,style:g,children:[n,c.jsx(gMn,{onResize:m,onResizeStart:h,position:"right"})]})}const bMn={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},xMn=R(le)`
  flex-direction: column;
`,wMn=R(na(ae))`
  overflow-x: hidden;
`,CMn=R(ae)`
  min-height: max-content;
`,kMn=p.memo(function(e){const{items:t,onPathSelect:n,selectedPath:r,onOpenToggle:i,open:o,title:a}=e,{t:s}=sw(),l=p.useMemo(()=>({content:s(o?"tree-editing-dialog.sidebar.action.close":"tree-editing-dialog.sidebar.action.open")}),[o,s]),u=c.jsxs(xMn,{borderRight:!o,"data-testid":"tree-editing-sidebar","data-ui":"SidebarCard",display:"flex",forwardedAs:"aside",height:"fill",overflow:"hidden",tone:"transparent",children:[c.jsxs(hLe,{align:"center",gap:2,children:[c.jsx(ge,{"data-testid":"tree-editing-sidebar-toggle",icon:P_e,mode:"bleed",onClick:i,selected:o,tooltipProps:l}),o&&c.jsx(V,{flex:1,children:c.jsx(B,{size:1,muted:!0,weight:"medium",textOverflow:"ellipsis",children:a})})]}),o&&c.jsx(CMn,{padding:2,sizing:"border",children:c.jsx(lMn,{items:t,onPathSelect:n})}),c.jsx(hf,{mode:"wait",children:o&&c.jsx(wMn,{animate:"animate",exit:"exit",initial:"initial",overflow:"auto",padding:3,sizing:"border",variants:bMn,children:c.jsx(pMn,{items:t,onPathSelect:n,selectedPath:r})})})]});return o?c.jsx(vMn,{maxWidth:450,minWidth:150,initialWidth:250,children:u}):u}),SMn=[0,0,1,0],EMn=p.memo(function(e){const{breadcrumbs:t,children:n,footer:r,items:i,onPathSelect:o,selectedPath:a,setScrollElement:s,title:l}=e,u=p.useRef(null),d=p.useRef(null),[f,h]=p.useState(!1),m=p.useCallback(()=>h(y=>!y),[]),g=p.useCallback(y=>{u.current=y,s==null||s(y)},[s]);return c.jsxs(W,{height:"fill",overflow:"hidden",children:[c.jsx(kMn,{items:i,onOpenToggle:m,onPathSelect:o,open:f,selectedPath:a,title:l}),c.jsxs(W,{direction:"column",flex:1,overflow:"hidden",children:[c.jsx(hLe,{align:"center",sizing:"border",gap:2,paddingX:4,children:c.jsx(W,{flex:1,children:c.jsx(QOn,{items:t,onPathSelect:o,selectedPath:a})})}),c.jsx(le,{flex:1,id:"tree-editing-form",overflow:"auto",ref:g,children:n&&c.jsx(Mx,{containerElement:d,scrollElement:u.current,children:c.jsx(Ii,{width:1,ref:d,paddingX:5,paddingY:5,sizing:"border",children:c.jsx(Jw,{margins:SMn,children:n})})})}),r]})]})});function vLe(e){const t=e.findIndex(n=>n==null?void 0:n.hasOwnProperty("_key"));return t===-1?e:e.slice(0,t)}function ZR(e,t){var i;if(!t)return;const n=Ol(t),r=n[0];if(r&&Qo(e)){const o=(i=e==null?void 0:e.fields)==null?void 0:i.find(a=>a.name===r);if(o){const a=rn(n.slice(1));return a?ZR(o.type,a):o}}}function XR(e,t){const n=il(t);return n==="object"&&e.of.length===1?e.of[0]:e.of.find(r=>r.name===n)}function _Mn(e,t){const n=il(t);return e==null?void 0:e.of.find(r=>r.name===n||r.jsonType===n)}function TMn(e){const t=[];let n=[];function r(i){i.forEach(o=>{const a=[...n,o.name];sp(o.type)&&!P1(o.type)&&t.push(a),Qo(o.type)&&(n=a,r(o.type.fields),n=n.slice(0,-1))})}return r(e),t}function G1e(e){const{arraySchemaType:t,arrayValue:n,itemPath:r,parentPath:i}=e,o=n.map(s=>{const l=[...i,{_key:s._key}],u=XR(t,s);return Il(u)||!u?null:{children:hn,parentSchemaType:t,path:l,schemaType:u,value:s}}).filter(Boolean),a=o.find(s=>Dt(s.path,r));return{children:o,parentSchemaType:t,path:r,schemaType:a.schemaType,value:a.value}}function AMn(e){var d;const{arraySchemaType:t,arrayValue:n,documentValue:r,openPath:i,rootPath:o,recursive:a}=e;let s=[];const l=[],u=[];return((d=t.options)==null?void 0:d.treeEditing)===!1?{breadcrumbs:u,menuItems:l,relativePath:s,rootTitle:""}:(n.forEach(f=>{var x;const h=[...o,{_key:f._key}],m=XR(t,f);if(!m||Il(m)||((x=m==null?void 0:m.options)==null?void 0:x.treeEditing)===!1)return;const g=(m==null?void 0:m.fields)||[],y=[];if(W1e(h,i)){const b=G1e({arraySchemaType:t,arrayValue:n,itemPath:h,parentPath:o});u.push(b)}g.forEach(b=>{var k,S;if(((S=(k=b==null?void 0:b.type)==null?void 0:k.options)==null?void 0:S.treeEditing)===!1)return;const v=[...h,b.name],w=Oo(r,v);if(DI(v,i)&&(s=YA(v)),Qo(b.type)){const E=TMn(b.type.fields);if(E.length===0)return;E.forEach(_=>{var D;const T=[...v,..._],A=ZR(b.type,rn(_)),I=Oo(r,T),j=Array.isArray(I)?I:[];if(!j.length||((D=A.type.options)==null?void 0:D.treeEditing)===!1)return;DI(T,i)&&(s=YA(T));const $=a({documentValue:r,path:T,schemaType:A});y.push({children:$.menuItems,parentSchemaType:b.type,path:T,schemaType:A.type,value:j})})}const C=P1(b.type);if(sp(b.type)&&w&&!C){if(W1e(v,i)){const _=G1e({arraySchemaType:b.type,arrayValue:w,itemPath:v,parentPath:h});u.push(_)}const E=a({documentValue:r,path:v,schemaType:b});y.push({children:(E==null?void 0:E.menuItems)||hn,parentSchemaType:m,path:v,schemaType:b,value:w});return}C&&rn(i).startsWith(rn(v))&&(s=YA(v))}),DI(h,i)&&(s=YA(h)),SM(m==null?void 0:m.type)||l.push({children:y,parentSchemaType:t,path:h,schemaType:m,value:f})}),{breadcrumbs:u,menuItems:l,relativePath:s,rootTitle:""})}const OI=[],pU={breadcrumbs:OI,menuItems:OI,relativePath:OI,rootTitle:""};function jMn(e){var u;const{openPath:t}=e,n=vLe(t),r=ZR(e.schemaType,rn(n)),i=Iu(r==null?void 0:r.type);if(!sp(r==null?void 0:r.type)||((u=r==null?void 0:r.options)==null?void 0:u.treeEditing)===!1)return pU;let o=[];const a=[],s=l({schemaType:r,documentValue:e.documentValue,path:n});function l(d){const{schemaType:f,path:h,documentValue:m}=d,g=Oo(m,h),y=Array.isArray(g)?g:OI,x=f==null?void 0:f.type,b=AMn({arraySchemaType:x,arrayValue:y,documentValue:m,openPath:t,recursive:l,rootPath:h});return b.relativePath.length>0&&(o=b.relativePath),a.unshift(...b.breadcrumbs),b}return{relativePath:o,breadcrumbs:a,menuItems:s.menuItems,rootTitle:i}}function bLe(e,t){if(t.length===0)return!1;const n=vLe(t),r=ZR(e,rn(n));if(sp(r==null?void 0:r.type)){const i=r.type.of.every(a=>a==null?void 0:a.hasOwnProperty("to")),o=P1(r.type);return!(i||o)}return!1}const IMn=[],$Mn={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},DMn={duration:.2,ease:"easeInOut"};function OMn(e){return e.renderDefault(e)}const MMn=R(QO)(({theme:e})=>{var n;const t=(n=$e(e))==null?void 0:n.space[4];return he`
    [data-ui='DialogCard'] {
      padding: ${t}px;
      box-sizing: border-box;

      // Make the dialog full height
      & > [data-ui='Card']:first-child {
        flex: 1;
      }
    }
  `}),PMn=na(W);function RMn(e){const{onPathFocus:t,onPathOpen:n,openPath:r,rootInputProps:i,schemaType:o}=e,{value:a}=i,{t:s}=Q(),[l,u]=p.useState(pU),[d,f]=p.useState(null),h=p.useRef(void 0),m=p.useRef(void 0),g=p.useCallback(()=>{d==null||d.scrollTo(0,0)},[d]),y=p.useCallback(w=>{const C=jMn(w);if(Dt(C,l))return;const k=C.relativePath,S=k.length===0||!m5(k)?l.relativePath:k;u({...C,relativePath:S})},[l]),x=p.useMemo(()=>Gx(y,1e3),[y]),b=p.useCallback(()=>{x.cancel(),n(IMn),u(pU),m.current=void 0,h.current=void 0;const w=r.findIndex(Cr),C=r.slice(0,w+1);t(C)},[x,t,n,r]),v=p.useCallback(w=>{x.cancel(),n(w),m5(w)||t(w)},[x,t,n]);return p.useEffect(()=>{const w=!Dt(a,m.current),C=!Dt(r,h.current);if(m.current===void 0&&h.current===void 0||C){y({schemaType:o,documentValue:a,openPath:r}),h.current=r;return}if(!(!w&&!C))return m.current=a,h.current=r,x({schemaType:o,documentValue:a,openPath:r}),()=>{x.cancel()}},[o,a,x,r,y]),l.relativePath.length===0?null:c.jsx(MMn,{__unstable_hideCloseButton:!0,animate:!0,"data-testid":"tree-editing-dialog",id:"tree-editing-dialog",onClickOutside:b,onClose:b,padding:0,width:3,children:c.jsx(EMn,{breadcrumbs:l.breadcrumbs,items:l.menuItems,onPathSelect:v,selectedPath:l.relativePath,title:l.rootTitle,setScrollElement:f,footer:c.jsx(le,{borderTop:!0,children:c.jsx(W,{align:"center",justify:"flex-end",paddingX:3,paddingY:2,sizing:"border",children:c.jsx(ge,{size:"large","data-testid":"tree-editing-done",text:s("tree-editing-dialog.sidebar.action.done"),onClick:b})})}),children:c.jsx(hf,{initial:!1,mode:"wait",onExitComplete:g,children:c.jsx(PMn,{animate:"animate","data-testid":"tree-editing-dialog-content",direction:"column",exit:"exit",height:"fill",initial:"initial",overflow:"hidden",padding:1,sizing:"border",transition:DMn,variants:$Mn,children:c.jsx(HJ,{...i,relativePath:l.relativePath,renderDefault:OMn})},rn(l.relativePath))})})})}function JR(){return p.useContext(wwe)}function QR(e){const{children:t,legacyEditing:n}=e,r=JR(),i=p.useMemo(()=>({enabled:!1,legacyEditing:!!(r.legacyEditing||n)}),[n,r.legacyEditing]);return c.jsx(wwe.Provider,{value:i,children:t})}function oQ(e){const{t}=Q(),{onInsert:n,schemaTypes:r}=e,i=dU({insertMenuProps:{...e.insertMenuOptions,schemaTypes:e.schemaTypes??[],onSelect:d=>{e.onInsert("before",d)}},popoverProps:{referenceElement:e.referenceElement,placement:"top-end",fallbackPlacements:["bottom-end"]}}),o=dU({insertMenuProps:{...e.insertMenuOptions,schemaTypes:e.schemaTypes??[],onSelect:d=>{e.onInsert("after",d)}},popoverProps:{referenceElement:e.referenceElement,placement:"bottom-end",fallbackPlacements:["top-end"]}}),a=p.useCallback(()=>{r&&(r.length===1?n("before",r[0]):i.send({type:"toggle"}))},[i,n,r]),s=p.useCallback(()=>{r&&(r.length===1?n("after",r[0]):o.send({type:"toggle"}))},[o,n,r]),l=p.useMemo(()=>r?c.jsx(Qe,{text:r.length===1?t("inputs.array.action.add-before"):`${t("inputs.array.action.add-before")}...`,icon:vK,onClick:a}):null,[a,t,r]),u=p.useMemo(()=>r?c.jsx(Qe,{text:r.length===1?t("inputs.array.action.add-after"):`${t("inputs.array.action.add-after")}...`,icon:bK,onClick:s}):null,[s,t,r]);return{insertBefore:{...i,menuItem:l},insertAfter:{...o,menuItem:u}}}const FMn=R(le)`
  border-top-right-radius: inherit;
  border-top-left-radius: inherit;
  height: 100%;
  position: relative;

  @media (hover: hover) {
    &:hover {
      filter: brightness(95%);
    }
  }

  &:focus:focus-visible {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`;function LMn({readOnly:e,hasErrors:t,hasWarnings:n}){return e?"transparent":t?"critical":n?"caution":"default"}const NMn={portal:!0,tone:"default"};function BMn(e){var re,se,G,K,q,X,ie;const{schemaType:t,parentSchemaType:n,path:r,readOnly:i,onRemove:o,value:a,open:s,onInsert:l,onCopy:u,onFocus:d,onOpen:f,onClose:h,changed:m,focused:g,children:y,inputProps:{renderPreview:x}}=e,{t:b}=Q(),v=JR(),w=((re=n==null?void 0:n.options)==null?void 0:re.treeEditing)===!1,C=w||v.legacyEditing,k=s&&(!v.enabled||C),S=((se=n.options)==null?void 0:se.sortable)!==!1,E=n.of,_=p.useRef(null);UR(_,s),is(g,(te,de)=>{var pe;!te&&de&&_.current&&((pe=_.current)==null||pe.focus())});const T=a._resolvingInitialValue,A=p.useCallback(()=>{l({items:[{...a,_key:Ch()}],position:"after"})},[l,a]),I=p.useCallback(()=>{u({items:[{...a,_key:Ch()}]})},[u,a]),j=p.useCallback((te,de)=>{l({items:[eC(de)],position:te})},[l]),$=Xw(r,!0),D=p.useMemo(()=>$.length===0?null:c.jsx(y_,{presence:$,maxAvatars:1}),[$]),O=IJ(r,!0),M=p.useMemo(()=>O.length===0?null:c.jsx(V,{paddingX:1,paddingY:3,children:c.jsx(Qw,{validation:O,__unstable_showSummary:!0})}),[O]),P=O.some(te=>te.level==="error"),F=O.some(te=>te.level==="warning"),[L,U]=p.useState(null),{insertBefore:H,insertAfter:N}=oQ({schemaTypes:E,insertMenuOptions:(G=n.options)==null?void 0:G.insertMenu,onInsert:j,referenceElement:L}),Y=p.useMemo(()=>i?null:c.jsxs(c.Fragment,{children:[c.jsx(Jt,{ref:U,onOpen:()=>{H.send({type:"close"}),N.send({type:"close"})},button:c.jsx(Ki,{selected:H.state.open||N.state.open?!0:void 0}),id:`${e.inputId}-menuButton`,menu:c.jsxs(Nt,{children:[c.jsx(Qe,{text:b("inputs.array.action.remove"),tone:"critical",icon:$i,onClick:o}),c.jsx(Qe,{text:b("inputs.array.action.copy"),icon:Ru,onClick:I}),c.jsx(Qe,{text:b("inputs.array.action.duplicate"),icon:lE,onClick:A}),H.menuItem,N.menuItem]}),popover:NMn}),H.popover,N.popover]}),[H,N,I,A,o,e.inputId,i,b]),J=LMn({readOnly:i,hasErrors:P,hasWarnings:F}),ee=c.jsx(rLe,{menu:Y,presence:D,validation:M,tone:J,radius:2,border:!0,dragHandle:S,selected:k,readOnly:i,children:c.jsxs(FMn,{tone:"inherit",overflow:"auto",forwardedAs:"button","data-ui":"PreviewCard","data-as":"button",type:"button",flex:1,tabIndex:0,disabled:T,onClick:f,ref:_,onFocus:d,__unstable_focusRing:!0,children:[x({schemaType:t,value:a,layout:"media",withBorder:!1,withShadow:!1}),T&&c.jsx(Dn,{fill:!0})]})}),oe=Iu(t);return c.jsxs(QR,{legacyEditing:w,children:[c.jsx(ja,{path:r,isChanged:m,hasFocus:!!g,children:ee}),k&&c.jsx(uLe,{header:i?b("inputs.array.action.view",{itemTypeTitle:oe}):b("inputs.array.action.edit",{itemTypeTitle:oe}),type:((q=(K=n==null?void 0:n.options)==null?void 0:K.modal)==null?void 0:q.type)||"dialog",width:((ie=(X=n==null?void 0:n.options)==null?void 0:X.modal)==null?void 0:ie.width)??1,id:a._key,onClose:h,autofocus:g,legacy_referenceElement:_.current,children:y})]})}const VMn=[];function zMn(e){var _;const{arrayFunctions:t=tQ,elementProps:n,members:r,onChange:i,onInsert:o,onItemMove:a,onUpload:s,readOnly:l,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:h,renderInput:m,renderPreview:g,resolveUploader:y,schemaType:x,value:b=VMn}=e,{t:v}=Q(),w=p.useCallback(T=>{o({items:[T],position:"before",referenceItem:0})},[o]),C=p.useCallback(T=>{o({items:[T],position:"after",referenceItem:-1})},[o]),k=((_=x.options)==null?void 0:_.sortable)!==!1,S=p.useCallback(({key:T,...A})=>c.jsx(BMn,{...A},T),[]),E=p.useMemo(()=>r.map(T=>T.key),[r]);return c.jsxs(ae,{space:2,children:[c.jsx(YR,{types:x.of,resolveUploader:y,onUpload:s,...n,tabIndex:0,children:c.jsxs(ae,{"data-ui":"ArrayInput__content",space:2,children:[(r==null?void 0:r.length)===0&&c.jsx(le,{padding:3,border:!0,radius:2,children:c.jsx(B,{align:"center",muted:!0,size:1,children:x.placeholder||c.jsx(c.Fragment,{children:v("inputs.array.no-items-label")})})}),(r==null?void 0:r.length)>0&&c.jsx(le,{border:!0,radius:1,children:c.jsx(JJ,{columns:[2,3,4],gap:3,padding:1,margin:1,items:E,onItemMove:a,sortable:k,children:r.map(T=>c.jsxs(QJ,{sortable:k,id:T.key,flex:1,children:[T.kind==="item"&&c.jsx(FJ,{member:T,renderAnnotation:u,renderBlock:d,renderInlineBlock:h,renderItem:S,renderField:f,renderInput:m,renderPreview:g}),T.kind==="error"&&c.jsx(MDn,{sortable:k,member:T,readOnly:l})]},T.key))})})]})}),c.jsx(t,{onChange:i,onItemAppend:C,onItemPrepend:w,onValueCreate:eC,readOnly:l,schemaType:x,value:b})]})}const UMn=R(le)`
  position: relative;
  border: 1px solid transparent;
  transition: border-color 250ms;

  .${XJ} & {
    border-color: var(--card-shadow-umbra-color);
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &:hover {
    border-color: var(--card-shadow-umbra-color);
  }

  &[aria-selected='true'] {
    border-color: var(--card-focus-ring-color);
  }
`;function e4(e){const{validation:t,selected:n,tone:r,presence:i,focused:o,children:a,dragHandle:s,menu:l,footer:u,readOnly:d}=e,f=p.useRef(null);return is(o,(h,m)=>{var g;!h&&m&&((g=f.current)==null||g.focus())}),c.jsx(UMn,{ref:f,selected:n,"aria-selected":n,radius:1,padding:1,tone:r,children:c.jsxs(ae,{space:1,children:[c.jsxs(W,{align:"center",gap:1,children:[s&&c.jsx(nLe,{paddingY:3,readOnly:d}),c.jsx(V,{flex:1,children:a}),(i||t||l)&&c.jsxs(W,{align:"center",flex:"none",gap:2,style:{lineHeight:0},children:[i&&c.jsx(V,{flex:"none",children:i}),t&&c.jsx(V,{flex:"none",children:t}),l]})]}),u]})})}const HMn=R(le)`
  max-width: ${({theme:e})=>e.sanity.container[1]}px;
`;function xLe(e){const{value:t,onFocus:n,vertical:r,...i}=e,[o,a]=p.useState(!1),s=p.useRef(null),{t:l}=Q();On(()=>a(!1),()=>[s.current]);const u=p.useCallback(h=>{(h.key==="Escape"||h.key==="Tab")&&a(!1)},[]),d=p.useCallback(()=>{a(h=>!h)},[]),f=il(t);return c.jsx(Fn,{open:o,ref:s,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:c.jsx(HMn,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:c.jsxs(ae,{space:4,children:[c.jsx(V,{children:c.jsx(B,{weight:"medium",children:l("inputs.array.error.type-is-incompatible-title")})}),c.jsx(B,{size:1,children:c.jsx(wt,{t:l,i18nKey:"inputs.array.error.current-schema-not-declare-description",values:{typeName:f}})}),c.jsx(V,{children:c.jsxs(B,{size:1,children:[c.jsx(_M,{})," ",l("inputs.array.error.can-delete-but-no-edit-description")]})}),c.jsxs(ae,{space:2,children:[c.jsx(B,{size:1,weight:"medium",children:l("inputs.array.error.json-representation-description")}),c.jsx(le,{padding:2,overflow:"auto",border:!0,children:c.jsx(Vi,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:c.jsx(le,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...i,children:c.jsxs(W,{align:"center",children:[c.jsx(V,{marginRight:3,children:c.jsx(B,{children:c.jsx(Tu,{})})}),c.jsx(V,{flex:1,children:c.jsx(B,{size:1,textOverflow:"ellipsis",children:c.jsx(wt,{t:l,i18nKey:"inputs.array.error.type-is-incompatible-prompt",values:{typeName:f}})})})]})})})}const WMn={portal:!0,tone:"default"};function wLe(e){const{member:t,sortable:n,onRemove:r,readOnly:i}=e,o=p.useId(),{t:a}=Q();return c.jsx(V,{paddingX:1,children:c.jsx(e4,{dragHandle:n,readOnly:!!i,tone:"caution",menu:c.jsx(Jt,{button:c.jsx(Ki,{}),id:`${o}-menuButton`,menu:c.jsx(Nt,{children:c.jsx(Qe,{text:a("inputs.array.action.remove-invalid-item"),tone:"critical",icon:$i,onClick:r})}),popover:WMn}),children:t.error.type==="INVALID_ITEM_TYPE"?c.jsx(xLe,{value:t.error.value}):c.jsx("div",{children:a("inputs.array.error.unexpected-error",{error:t.error.type})})})})}function GMn(e,t){const n=p.useRef(e),r=n.current,i=t(r,e);return p.useEffect(()=>{i||(n.current=e)}),i?r:e}function KMn(){const e=p.useContext(Swe);if(!e)throw new Error("VirtualizerScrollInstance: missing context value");return e}const YMn=[];function qMn(e){var oe;const{arrayFunctions:t=tQ,elementProps:n,members:r,onChange:i,onInsert:o,onItemMove:a,onUpload:s,focusPath:l,readOnly:u,renderAnnotation:d,renderBlock:f,renderField:h,renderInlineBlock:m,renderInput:g,renderItem:y,renderPreview:x,resolveUploader:b,schemaType:v,value:w=YMn}=e,{t:C}=Q(),[k,S]=p.useState(null),{space:E}=tw().sanity,_=p.useCallback(re=>{o({items:[re],position:"before",referenceItem:0})},[o]),T=p.useCallback(re=>{o({items:[re],position:"after",referenceItem:-1})},[o]),A=GMn(p.useMemo(()=>r.map(re=>re.key),[r]),Km),{scrollElement:I,containerElement:j}=KMn(),$=p.useRef(null),D=p.useMemo(()=>Cr(l[0])?l[0]._key:l[0],[l]),O=p.useCallback(re=>{const se={...re};if(k!==null&&(se.startIndex=Math.min(re.startIndex,k),se.endIndex=Math.max(re.endIndex,k)),D){const G=A.findIndex(K=>K===D);G!==-1&&(se.startIndex=Math.min(se.startIndex,G),se.endIndex=Math.max(se.endIndex,G))}return a_e(se)},[k,D,A]),M=p.useCallback((re,se)=>{if(!re.scrollElement)return;const G=re.scrollElement,K=()=>{var te,de;const q=((te=j.current)==null?void 0:te.getBoundingClientRect().top)??0,X=((de=$.current)==null?void 0:de.getBoundingClientRect().top)??0,ie=Math.floor(X-q);se(G.scrollTop-ie)};return K(),re.scrollElement.addEventListener("scroll",K,{capture:!1,passive:!0}),()=>{G.removeEventListener("scroll",K)}},[j]),P=p.useCallback(()=>53,[]),F=lK({count:r.length,estimateSize:P,getScrollElement:p.useCallback(()=>I,[I]),observeElementOffset:M,rangeExtractor:O,getItemKey:p.useCallback(re=>A[re],[A]),scrollToFn:(re,se,G)=>{re!==G.scrollOffset&&s_e(re,se,G)}}),L=F.getVirtualItems(),U=p.useCallback(re=>{var G,K;const{active:se}=re;S((K=(G=se.data.current)==null?void 0:G.sortable)==null?void 0:K.index)},[]),H=p.useCallback(()=>{S(null)},[]),N=((oe=v.options)==null?void 0:oe.sortable)!==!1,Y=1,J=1,ee=2;return c.jsxs(ae,{space:2,ref:$,children:[c.jsx(YR,{$radius:ee,types:v.of,resolveUploader:b,onUpload:s,...n,tabIndex:0,children:c.jsx(ae,{"data-ui":"ArrayInput__content",space:2,children:r.length===0?c.jsx(le,{padding:3,border:!0,radius:2,children:c.jsx(B,{align:"center",muted:!0,size:1,children:v.placeholder||c.jsx(c.Fragment,{children:C("inputs.array.no-items-label")})})}):c.jsx(le,{border:!0,radius:ee,style:{boxSizing:"border-box",height:`${F.getTotalSize()+L.length*E[Y]+E[J]}px`,width:"100%",position:"relative"},children:c.jsx(JJ,{axis:"y",gap:Y,paddingY:J,items:A,onItemMove:a,onItemMoveStart:U,onItemMoveEnd:H,sortable:N,style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${L[0].start}px)`},children:L.map(re=>{const se=r[re.index];return c.jsxs(QJ,{ref:F.measureElement,sortable:N,"data-index":re.index,id:se.key,children:[se.kind==="item"&&c.jsx(FJ,{member:se,renderAnnotation:d,renderBlock:f,renderField:h,renderInlineBlock:m,renderInput:g,renderItem:y,renderPreview:x}),se.kind==="error"&&c.jsx(wLe,{readOnly:u,sortable:N,member:se,onRemove:()=>e.onItemRemove(se.key)})]},re.key)})})})})}),c.jsx(t,{onChange:i,onItemAppend:T,onItemPrepend:_,onValueCreate:eC,readOnly:u,schemaType:v,value:w})]})}function CLe(e){var t;return((t=e.schemaType.options)==null?void 0:t.layout)==="grid"?c.jsx(zMn,{...e}):c.jsx(qMn,{...e})}function OD(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e!="object"&&!Array.isArray(e))return e===t;if(e._key&&e._key===t._key)return!0;if(Array.isArray(e))return!e.length!==t.length?!1:e.every((i,o)=>OD(e[o],t[o]));const n=Object.keys(e),r=Object.keys(e);return n.length!==r.length?!1:n.every(i=>OD(e[i],t[i]))}function K1e(e,t){return e?e.some(n=>OD(n,t)):!1}function ZMn(e,t){return e.of.find(n=>n.name===il(t))}const XMn=[];function JMn(e){var g,y;const{renderPreview:t,schemaType:n,onChange:r,onPathFocus:i,value:o=[],readOnly:a,elementProps:s,path:l,changed:u}=e,d=p.useMemo(()=>{var x;return(((x=n.options)==null?void 0:x.list)||XMn).map((b,v)=>Pu(b)?b:{...b,_key:`auto-generated-${v}`})},[(g=n.options)==null?void 0:g.list]),f=p.useCallback((x,b)=>{if(!x&&Pu(b)){r(kt([{_key:b._key}]));return}const v=d.filter(w=>OD(b,w)?x:K1e(o,w));r(v.length>0?gt(v):kt())},[r,d,o]),h=p.useCallback(x=>{i([x])},[i]),m=((y=n.options)==null?void 0:y.layout)==="grid";return c.jsx(ja,{path:l,isChanged:u,hasFocus:!1,children:c.jsx(Xn,{gap:2,columns:m?Math.min(d.length,4):1,tabIndex:0,...s,children:d.map((x,b)=>{const v=ZMn(n,x),w=K1e(o,x),C=!v;return c.jsxs(W,{align:"center",as:"label",muted:C,children:[c.jsx(fg,{disabled:C,checked:w,onChange:k=>f(k.currentTarget.checked,x),onFocus:()=>h(b),readOnly:a}),c.jsx(V,{flex:1,marginLeft:2,children:v?t({layout:"default",schemaType:v,value:x}):c.jsx(le,{tone:"caution",radius:2,children:c.jsx(pFe,{value:x,onFocus:()=>h(b)})})})]},b)})})})}function QMn(e){return!!(e&&typeof e=="object"&&"title"in e&&"value"in e)}function ePn(e){return e.map(t=>QMn(t)?{title:t.title||Vt(String(t.value)),value:t.value}:{title:Vt(String(t)),value:t})}function tPn(e,t){return e.of.find(n=>n.name===il(t.value))}function nPn(e){var h,m;const{schemaType:t,onChange:n,value:r=[],readOnly:i,path:o,changed:a,onIndexFocus:s,elementProps:l}=e,u=p.useMemo(()=>{var g;return ePn(((g=t.options)==null?void 0:g.list)||[])},[(h=t.options)==null?void 0:h.list]),d=(g,y)=>{const x=u.map(b=>b.value).filter(b=>b===y?g:r.includes(b));n(x.length>0?gt(x):kt())},f=((m=t.options)==null?void 0:m.layout)==="grid";return c.jsx(ja,{path:o,isChanged:a,hasFocus:!1,children:c.jsx(Xn,{gap:2,columns:f?Math.min(u.length,4):1,...l,children:u.map((g,y)=>{const x=tPn(t,g),b=r.includes(g.value),v=!x;return c.jsxs(W,{align:"center",as:"label",muted:v,children:[c.jsx(fg,{disabled:v,checked:b,onChange:w=>d(w.currentTarget.checked,g.value),onFocus:()=>s(y),readOnly:i}),c.jsx(V,{padding:2,children:c.jsx(B,{children:g.title})}),!x&&c.jsx(xLe,{value:g,onFocus:()=>s(y)})]},y)})})})}function kLe(e){return Q$n(e)?c.jsx(JMn,{...e}):c.jsx(nPn,{...e})}function rPn(e){const{schemaType:t,readOnly:n,children:r,onValueCreate:i,onItemAppend:o}=e,a=p.useId(),{t:s}=Q(),l=p.useCallback(h=>{o(i(h))},[i,o]),u=p.useCallback(()=>{l(t.of[0])},[t,l]),d=p.useMemo(()=>({constrainSize:!0,portal:!0}),[]),f=t.of.length>1?"inputs.array.action.add-item-select-type":"inputs.array.action.add-item";return n?c.jsx(Et,{portal:!0,content:s("inputs.array.read-only-label"),children:c.jsx(Xn,{children:c.jsx(ge,{icon:ca,mode:"ghost",disabled:!0,size:"large",text:s(f)})})}):c.jsxs(Xn,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[t.of.length===1?c.jsx(ge,{icon:ca,mode:"ghost",onClick:u,size:"large",text:s(f)}):c.jsx(Jt,{button:c.jsx(ge,{icon:ca,mode:"ghost",size:"large",text:s(f)}),id:a||"",menu:c.jsx(Nt,{children:t.of.map((h,m)=>{var x,b;const g=Il(h)&&(h.to||[]).length===1&&h.to[0].icon,y=h.icon||((x=h.type)==null?void 0:x.icon)||g;return c.jsx(Qe,{text:h.title||((b=h.type)==null?void 0:b.name),onClick:()=>l(h),icon:y},m)})}),popover:d}),r]})}const iPn={portal:!0,tone:"default",placement:"left",constrainSize:!0},oPn=p.memo(function(e){const{types:t,onInsert:n}=e,{t:r}=Q();return c.jsxs(c.Fragment,{children:[c.jsx(Y1e,{pos:"before",types:t,onInsert:n,text:r("inputs.array.action.add-before"),icon:vK}),c.jsx(Y1e,{pos:"after",types:t,onInsert:n,text:r("inputs.array.action.add-after"),icon:bK})]})});function Y1e(e){const{types:t,onInsert:n,pos:r,text:i,icon:o}=e;return(t==null?void 0:t.length)===1?c.jsx(Qe,{text:i,icon:o,onClick:()=>n(r,t[0])},r):c.jsx(UG,{text:i,popover:iPn,children:t==null?void 0:t.map(a=>c.jsx(Qe,{icon:a.icon,text:a.title,onClick:()=>n(r,a)},a.name))},r)}const aPn={portal:!0,tone:"default"},sPn=p.forwardRef(function(e,t){const{sortable:n,value:r,insertableTypes:i,onInsert:o,onCopy:a,onRemove:s,readOnly:l,inputId:u,validation:d,children:f,presence:h,schemaType:m}=e,g=d.filter(S=>S.level==="error").length>0,y=d.filter(S=>S.level==="warning").length>0,x=p.useCallback((S,E)=>{o({position:S,items:[LJ(E)]})},[o]),b=p.useCallback(()=>{r&&o({position:"after",items:[r]})},[o,r]),v=p.useCallback(()=>{a({items:[r]})},[a,r]),w=p.useMemo(()=>{if(g)return"critical";if(y)return"caution"},[g,y]),{t:C}=Q(),k=c.jsx(Jt,{button:c.jsx(Ki,{}),id:`${u}-menuButton`,popover:aPn,menu:c.jsxs(Nt,{children:[c.jsx(Qe,{text:C("inputs.array.action.remove"),tone:"critical",icon:$i,onClick:s}),c.jsx(Qe,{text:C("inputs.array.action.copy"),icon:Ru,onClick:v}),c.jsx(Qe,{text:C("inputs.array.action.duplicate"),icon:lE,onClick:b}),c.jsx(oPn,{types:i,onInsert:x})]})});return c.jsx(e4,{tone:w,readOnly:!!l,menu:!l&&k,dragHandle:n,presence:h.length===0?null:c.jsx(y_,{presence:h,maxAvatars:1}),validation:d.length>0?c.jsx(V,{paddingX:1,paddingY:3,children:c.jsx(Qw,{validation:d})}):null,children:c.jsx(W,{align:m?"flex-end":"center",ref:t,children:c.jsx(W,{align:"flex-end",flex:1,children:c.jsx(V,{flex:1,marginRight:2,children:f})})})})});function lPn({schemaType:e}){const{t}=Q();return c.jsx(le,{padding:3,border:!0,radius:2,children:c.jsx(B,{align:"center",muted:!0,size:1,children:e.placeholder||t("inputs.array.no-items-label")})})}function cPn(e,t,n){return uPn(e,t,r=>r===n)}function uPn(e,t,n){let r=t-1,i=t;const o=e.length;for(;r>-1||i<o;){const a=e[i];if(i<o&&n(a,i))return i;const s=e[r];if(r>-1&&n(s,r))return r;r--,i++}return-1}class SLe extends p.PureComponent{constructor(n){super(n);Z(this,"_element",null);Z(this,"handleAppend",n=>{const{value:r=[],onIndexFocus:i,onItemAppend:o}=this.props;o(n),i(r.length)});Z(this,"handlePrepend",n=>{const{onIndexFocus:r,value:i=[],onItemPrepend:o}=this.props;o(n),r(i.length)});Z(this,"handleSortEnd",n=>{const{onIndexFocus:r,onMoveItem:i,value:o}=this.props;o&&i(n),r(n.toIndex)});Z(this,"handleItemMoveStart",()=>{this.setState({disableTransition:!1})});Z(this,"handleItemMoveEnd",()=>{this.setState({disableTransition:!0})});Z(this,"renderArrayItem",n=>{var s;const{schemaType:r}=this.props,{key:i,...o}=n,a=((s=r.options)==null?void 0:s.sortable)!==!1;return c.jsx(sPn,{...o,sortable:a,insertableTypes:r.of},i)});this.state={disableTransition:!1}}focus(){this._element&&this._element.focus()}getSnapshotBeforeUpdate(n){var s;const{focusPath:r=[],value:i=[]}=n,{focusPath:o=[],value:a=[]}=this.props;if(r[0]===o[0]&&i.length!==a.length){const l=o[0],u=window.getSelection();if(!((u==null?void 0:u.focusNode)instanceof HTMLElement))return null;const d=(s=u.focusNode)==null?void 0:s.querySelector("input,textarea");return d instanceof HTMLInputElement?{prevFocusedIndex:l,restoreSelection:{text:u.toString(),start:d.selectionStart,end:d.selectionEnd,value:d.value}}:{}}return null}componentDidUpdate(n,r,i){var a;const{onIndexFocus:o}=this.props;if(i!=null&&i.restoreSelection&&n.value){const s=n.value[i.prevFocusedIndex],l=cPn(this.props.value||[],i.prevFocusedIndex,s);if(l===-1)return;const u=(a=this._element)==null?void 0:a.querySelector(`[data-item-index='${l}'] input,textarea`);if(u instanceof HTMLInputElement){u.focus();try{u.setSelectionRange(i.restoreSelection.start,i.restoreSelection.end)}catch{}}o(l)}}render(){const{schemaType:n,members:r,readOnly:i,renderInput:o,onUpload:a,onItemRemove:s,resolveUploader:l,elementProps:u,arrayFunctions:d=rPn,changed:f}=this.props,h=!i&&yr(n,"options.sortable")!==!1,m=r.map(g=>({id:`${g.key}-${g.kind==="item"?g.item.value:"error"}`,member:g}));return c.jsxs(ae,{space:2,"data-testid":"array-primitives-input",children:[c.jsx(YR,{types:n.of,resolveUploader:l,onUpload:a,...u,tabIndex:0,children:c.jsx(ae,{space:1,children:m.length===0?c.jsx(lPn,{schemaType:n}):c.jsx(le,{padding:1,border:!0,children:c.jsx(JJ,{onItemMove:this.handleSortEnd,onItemMoveStart:this.handleItemMoveStart,onItemMoveEnd:this.handleItemMoveEnd,items:m.map(g=>g.id),sortable:h,gap:1,children:m.map(({member:g,id:y},x)=>c.jsxs(QJ,{id:y,sortable:h,disableTransition:this.state.disableTransition,children:[g.kind==="item"&&c.jsx(ja,{path:g.item.path,isChanged:f,hasFocus:!1,children:c.jsx(Mjn,{member:g,renderItem:this.renderArrayItem,renderInput:o})}),g.kind==="error"&&c.jsx(wLe,{readOnly:i,sortable:h,member:g,onRemove:()=>s(x)})]},g.key))})})})}),c.jsx(d,{onChange:this.props.onChange,onItemAppend:this.handleAppend,onItemPrepend:this.handlePrepend,onValueCreate:LJ,readOnly:this.props.readOnly,schemaType:this.props.schemaType,value:this.props.value})]})}}function dPn(e){return p.useMemo(()=>{var t;return Array.isArray((t=e.schemaType.options)==null?void 0:t.list)},[e.schemaType])?c.jsx(kLe,{...e}):eDn(e)?c.jsx(SLe,{...e}):c.jsx(CLe,{...e})}const fPn=R(le)`
  line-height: 1;
`,hPn=R(V)`
  align-self: center;
`,pPn=R(V)`
  line-height: 0;
`;function mPn(e){var g;const{t}=Q(),{id:n,value:r,schemaType:i,readOnly:o,elementProps:a,validation:s}=e,l=((g=i.options)==null?void 0:g.layout)||"switch",u=typeof r!="boolean",d=r||!1,f=l==="checkbox"?fg:XO,h=o?"transparent":void 0,m=c.jsx(pPn,{padding:3,children:c.jsx(f,{label:i.title,...a,checked:d,readOnly:o,indeterminate:u,style:{margin:-4}})});return c.jsx(fPn,{border:!0,"data-testid":"boolean-input",radius:2,tone:h,children:c.jsxs(W,{children:[o?c.jsx(Et,{content:t("inputs.boolean.disabled"),children:m}):m,c.jsx(V,{flex:1,paddingY:2,children:c.jsx(PJ,{deprecated:i.deprecated,description:i.description,inputId:n,validation:s,title:i.title})}),c.jsx(hPn,{paddingX:3,paddingY:1,children:c.jsx(Sjn,{maxAvatars:1,position:"top"})})]})})}function gPn(e){const{date:t,focused:n,isCurrentMonth:r,isToday:i,onSelect:o,selected:a}=e,s=p.useCallback(()=>{o(t)},[t,o]);return c.jsx("div",{"aria-selected":a,"data-ui":"CalendarDay",children:c.jsx(le,{"aria-label":t.toDateString(),"aria-pressed":a,as:"button",__unstable_focusRing:!0,"data-weekday":!0,"data-focused":n?"true":"",role:"button",tabIndex:-1,onClick:s,padding:2,radius:2,selected:a,tone:i||a?"primary":"default",children:c.jsx(B,{muted:!a&&!r,size:1,style:{textAlign:"center"},weight:r?"medium":"regular",children:t.getDate()})})})}const yPn=ME(0,24),vPn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],bPn=[1,2,3,4,5,6],xPn=(e,t)=>{const n=gP(e);return mP({start:n,end:vP(n)},{weekStartsOn:t===7?0:t})},wPn=e=>e.map(t=>[t,...bPn.map(n=>fi(t,n))]),CPn=e=>{const{weekInfo:t}=jg();return wPn(xPn(e,t.firstDay)).map(n=>({number:yP(n[0]),days:n}))};function kPn(e){const{weekInfo:{firstDay:t}}=jg(),n=t===1?e.weekDayNames:[e.weekDayNames[6],...e.weekDayNames.slice(0,6)];return c.jsx(V,{"aria-hidden":e.hidden||!1,"data-ui":"CalendarMonth",children:c.jsxs(Xn,{gap:1,style:{gridTemplateColumns:"repeat(7, minmax(44px, 46px))"},children:[n.map(r=>c.jsx(V,{paddingY:2,children:c.jsx(B,{size:1,weight:"medium",style:{textAlign:"center"},children:r})},r)),CPn(e.date).map((r,i)=>r.days.map((o,a)=>{const s=e.focused&&Ga(o,e.focused),l=e.selected&&Ga(o,e.selected),u=Ga(o,new Date),d=e.focused&&bP(o,e.focused);return c.jsx(gPn,{date:o,focused:s,isCurrentMonth:d,isToday:u,onSelect:e.onSelect,selected:l},`${i}-${a}`)}))]})})}const q1e={dayPresets:!1,timePresets:!1},t4=p.forwardRef(function({onChange:e,onBlur:t,onKeyPress:n,value:r,...i},o){const[a,s]=p.useState(),l=p.useCallback(h=>{s(h.currentTarget.value)},[]),u=p.useCallback(h=>{h.currentTarget.value!==`${r}`&&e&&e(h),s(void 0)},[e,r]),d=p.useCallback(h=>{u(h),t&&t(h)},[u,t]),f=p.useCallback(h=>{h.key==="Enter"&&u(h),n&&n(h)},[u,n]);return c.jsx(ei,{...i,"data-testid":"date-input",ref:o,value:a===void 0?r:a,onChange:l,onBlur:d,onKeyPress:f})}),SPn=e=>{const{onChange:t,...n}=e,r=p.useCallback(i=>{const o=parseInt(i.currentTarget.value,10);isNaN(o)||t(o)},[t]);return c.jsx(t4,{...n,fontSize:1,onChange:r,inputMode:"numeric",padding:2,radius:2})},EPn=c.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1}),Z1e={padding:2},_Pn=p.forwardRef(function(e,t){const{selectTime:n,onFocusedDateChange:r,selectedDate:i=new Date,focusedDate:o=i,timeStep:a=1,onSelect:s,labels:l,...u}=e,d=p.useCallback(S=>r(S),[r]),f=p.useCallback(S=>d(f$e(Sq(o,S),1)),[o,d]),h=p.useCallback(S=>f(Number(S.currentTarget.value)),[f]),m=p.useCallback(S=>d(OE(o,S)),[o,d]),g=p.useCallback(S=>d(h$e(o,S)),[o,d]),y=p.useCallback(S=>{s(ph(V1(S,i.getHours()),i.getMinutes()))},[s,i]),x=p.useCallback(S=>{const E=Number(S.currentTarget.value);s(ph(i,E))},[s,i]),b=p.useCallback(S=>{const E=Number(S.currentTarget.value);s(V1(i,E))},[s,i]);p.useCallback((S,E)=>{s(V1(ph(i,E),S))},[s,i]);const v=p.useRef(null);p.useImperativeHandle(t,()=>v.current);const w=p.useCallback(()=>{var S,E;(E=(S=v.current)==null?void 0:S.querySelector('[data-focused="true"]'))==null||E.focus()},[v]),C=p.useCallback(S=>{var _,T;if(!vPn.includes(S.key))return;const E=S.currentTarget;if(S.preventDefault(),E.hasAttribute("data-calendar-grid")){w();return}S.key==="ArrowUp"&&r(fi(o,-7)),S.key==="ArrowDown"&&r(fi(o,7)),S.key==="ArrowLeft"&&r(fi(o,-1)),S.key==="ArrowRight"&&r(fi(o,1)),(T=(_=v.current)==null?void 0:_.querySelector("[data-preserve-focus]"))==null||T.focus()},[v,w,r,o]);p.useEffect(()=>{w()},[w]),p.useEffect(()=>{var S;(S=document.activeElement)!=null&&S.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]")&&w()},[v,w,o]),p.useCallback(()=>y(fi(new Date,-1)),[y]),p.useCallback(()=>y(new Date),[y]),p.useCallback(()=>y(fi(new Date,1)),[y]);const k=p.useCallback(()=>s(new Date),[s]);return c.jsxs(V,{"data-ui":"Calendar",...u,ref:v,children:[c.jsxs(V,{padding:2,children:[q1e.dayPresets,c.jsxs(W,{children:[c.jsx(V,{flex:1,children:c.jsx(TPn,{onChange:h,monthNames:l.monthNames,value:o==null?void 0:o.getMonth()})}),c.jsx(V,{marginLeft:2,children:c.jsx(APn,{moveFocusedDate:m,labels:{goToNextYear:l.goToNextYear,goToPreviousYear:l.goToPreviousYear},onChange:g,value:o.getFullYear()})})]}),c.jsxs(V,{"data-calendar-grid":!0,onKeyDown:C,marginTop:2,overflow:"hidden",tabIndex:0,children:[c.jsx(kPn,{weekDayNames:l.weekDayNamesShort,date:o,focused:o,onSelect:y,selected:i}),EPn]})]}),n&&c.jsxs(V,{padding:2,style:{borderTop:"1px solid var(--card-border-color)"},children:[c.jsxs(W,{align:"center",children:[c.jsxs(W,{align:"center",flex:1,children:[c.jsx(V,{children:c.jsx(Pc,{"aria-label":l.selectHour,fontSize:1,padding:2,radius:2,value:i==null?void 0:i.getHours(),onChange:b,children:yPn.map(S=>c.jsx("option",{value:S,children:`${S}`.padStart(2,"0")},S))})}),c.jsx(V,{paddingX:1,children:c.jsx(B,{size:1,children:":"})}),c.jsx(V,{children:c.jsx(Pc,{"aria-label":l.selectMinute,fontSize:1,padding:2,radius:2,value:i==null?void 0:i.getMinutes(),onChange:x,children:ME(0,60,a).map(S=>c.jsx("option",{value:S,children:`${S}`.padStart(2,"0")},S))})})]}),c.jsx(V,{marginLeft:2,children:c.jsx(ge,{text:l.setToCurrentTime,mode:"bleed",onClick:k})})]}),q1e.timePresets]})]})});function TPn(e){const{onChange:t,value:n,monthNames:r}=e;return c.jsx(W,{flex:1,gap:1,children:c.jsx(V,{flex:1,children:c.jsx(Pc,{fontSize:1,radius:2,value:n,onChange:t,padding:2,children:r.map((i,o)=>c.jsx("option",{value:o,children:i},o))})})})}function APn(e){const{moveFocusedDate:t,onChange:n,value:r,labels:i}=e,o=p.useCallback(()=>t(-12),[t]),a=p.useCallback(()=>t(12),[t]);return c.jsxs(W,{gap:1,children:[c.jsx(ge,{"aria-label":i.goToPreviousYear,onClick:o,mode:"bleed",icon:vg,tooltipProps:{content:"Previous year"},...Z1e}),c.jsx(SPn,{value:r,onChange:n,radius:0,style:{width:48}}),c.jsx(ge,{"aria-label":i.goToNextYear,onClick:a,mode:"bleed",icon:Es,tooltipProps:{content:"Next year"},...Z1e})]})}const ELe=p.forwardRef(function(e,t){const{value:n=new Date,onChange:r,calendarLabels:i,...o}=e,[a,s]=p.useState(),l=p.useCallback(u=>{r(u),s(void 0)},[r]);return c.jsx(_Pn,{...o,labels:i,ref:t,selectedDate:n,onSelect:l,focusedDate:a||n,onFocusedDateChange:s})}),jPn=p.forwardRef(function(e,t){const{value:n,inputValue:r,onInputChange:i,onChange:o,selectTime:a,timeStep:s,calendarLabels:l,constrainSize:u=!0,...d}=e,f=p.useRef(null),h=p.useRef(null),m=p.useRef(null);p.useImperativeHandle(t,()=>h.current);const[g,y]=p.useState(!1);On(()=>y(!1),()=>[f.current]);const x=p.useCallback(()=>{var C,k;(C=h.current)==null||C.focus(),(k=h.current)==null||k.select()},[]),b=p.useCallback(C=>{C.key==="Escape"&&y(!1)},[]),v=p.useCallback(()=>y(!0),[]),w=c.jsx(W,{style:{padding:"5px"},children:c.jsx(ge,{"aria-label":l.ariaLabel,ref:m,icon:ba,mode:"bleed",onClick:v,style:{display:"block"},"data-testid":"select-date-button",tooltipProps:{content:l.tooltipText}})});return c.jsx(t4,{ref:h,...d,value:r,onChange:i,suffix:g?c.jsx(Pl,{zOffset:1e3,children:c.jsx(Fn,{constrainSize:u,"data-testid":"date-input-dialog",portal:!0,content:c.jsx(V,{overflow:"auto",children:c.jsx(Ku,{onDeactivation:x,children:c.jsx(ELe,{calendarLabels:l,selectTime:a,timeStep:s,onKeyUp:b,value:n,onChange:o})})}),open:!0,placement:"bottom",ref:f,children:w})}):w})}),IPn=new Date,_Le=p.forwardRef(function(e,t){const{id:n,deserialize:r,formatInputValue:i,onChange:o,parseInputValue:a,placeholder:s,readOnly:l,selectTime:u,serialize:d,timeStep:f,value:h,...m}=e,[g,y]=p.useState(null),{t:x}=Q();p.useEffect(()=>{y(null)},[h]);const b=p.useCallback(S=>{const E=S.currentTarget.value,_=E===""?null:a(E);_===null?(o(null),typeof h>"u"&&g&&y(null)):_.isValid?o(d(_.date)):y(E)},[a,o,h,g,d]),v=p.useCallback(S=>{o(S?d(S):null)},[d,o]),w=p.useRef(null);p.useImperativeHandle(t,()=>w.current);const C=g?a(g):h?r(h):null,k=g||(C!=null&&C.isValid?i(C.date):h);return l?c.jsx(ei,{value:k,readOnly:!0}):c.jsx(jPn,{...m,calendarLabels:e.calendarLabels,id:n,selectTime:u,timeStep:f,placeholder:s||x("inputs.datetime.placeholder",{example:i(IPn)}),ref:w,value:C==null?void 0:C.date,inputValue:k||"",readOnly:!!l,onInputChange:b,onChange:v,customValidity:C==null?void 0:C.error})});function $Pn(e){return e instanceof Date&&!isNaN(e.valueOf())}function aQ(e){return{ariaLabel:e("calendar.button.aria-label"),goToTomorrow:e("calendar.action.go-to-tomorrow"),goToToday:e("calendar.action.go-to-today"),goToYesterday:e("calendar.action.go-to-yesterday"),goToNextMonth:e("calendar.action.go-to-next-month"),goToPreviousMonth:e("calendar.action.go-to-previous-month"),goToNextYear:e("calendar.action.go-to-next-year"),goToPreviousYear:e("calendar.action.go-to-previous-year"),setToCurrentTime:e("calendar.action.set-to-current-time"),selectHour:e("calendar.action.select-hour"),selectMinute:e("calendar.action.select-minute"),tooltipText:e("calendar.button.tooltip-text"),monthNames:[e("calendar.month-names.january"),e("calendar.month-names.february"),e("calendar.month-names.march"),e("calendar.month-names.april"),e("calendar.month-names.may"),e("calendar.month-names.june"),e("calendar.month-names.july"),e("calendar.month-names.august"),e("calendar.month-names.september"),e("calendar.month-names.october"),e("calendar.month-names.november"),e("calendar.month-names.december")],weekDayNamesShort:[e("calendar.weekday-names.short.monday"),e("calendar.weekday-names.short.tuesday"),e("calendar.weekday-names.short.wednesday"),e("calendar.weekday-names.short.thursday"),e("calendar.weekday-names.short.friday"),e("calendar.weekday-names.short.saturday"),e("calendar.weekday-names.short.sunday")],setToTimePreset:(t,n)=>e("calendar.action.set-to-time-preset",{time:t,date:n})}}const DPn=e=>YM(e,xg),OPn=e=>Sw(e,xg);function MPn(e){var h;const{readOnly:t,onChange:n,schemaType:r,elementProps:i,value:o}=e,a=((h=r.options)==null?void 0:h.dateFormat)||xg,{t:s}=Q(),l=p.useCallback(m=>{n(m===null?kt():gt(m))},[n]),u=p.useCallback(m=>Sw(m,a),[a]),d=p.useCallback(m=>YM(m,a),[a]),f=p.useMemo(()=>aQ(s),[s]);return c.jsx(_Le,{...i,deserialize:DPn,formatInputValue:u,onChange:l,parseInputValue:d,placeholder:r.placeholder,calendarLabels:f,readOnly:t,selectTime:!1,serialize:OPn,value:o})}function PPn(e={}){return{dateFormat:e.dateFormat||xg,timeFormat:e.timeFormat||kY,timeStep:"timeStep"in e&&Number(e.timeStep)||1}}function TLe(e){return e.toISOString()}function RPn(e){const t=new Date(e);return $Pn(t)?{isValid:!0,date:t}:{isValid:!1,error:`Invalid date value: "${e}"`}}function FPn(e,t){if(!t||t===1)return e;const n=u$e(e),r=i$e(n),i=r%t;return TLe(i!==0?ph(n,r-i):n)}function LPn(e){const{onChange:t,schemaType:n,value:r,elementProps:i}=e,{dateFormat:o,timeFormat:a,timeStep:s}=PPn(n.options),{t:l}=Q(),u=p.useCallback(m=>{let g=m;g!==null&&s>1&&(g=FPn(g,s)),t(g===null?kt():gt(g))},[t,s]),d=p.useCallback(m=>Sw(m,`${o} ${a}`),[o,a]),f=p.useCallback(m=>YM(m,`${o} ${a}`),[o,a]),h=p.useMemo(()=>aQ(l),[l]);return c.jsx(_Le,{...i,calendarLabels:h,onChange:u,deserialize:RPn,formatInputValue:d,parseInputValue:f,placeholder:n.placeholder,selectTime:!0,serialize:TLe,timeStep:s,value:r})}function NPn(e){const{validationError:t,elementProps:n}=e;return c.jsx(ei,{...n,type:"email",inputMode:"email",customValidity:t})}const BPn=(e,t)=>{if(typeof e=="function")throw new Error(`Schema type "${(t==null?void 0:t.name)||"<not-found>"}"'s \`validation\` was not run though \`inferFromSchema\``);return e?Array.isArray(e)?e:[e]:[]};function MI(e,t){for(const n of BPn(e==null?void 0:e.validation,e))for(const r of n._rules)if(r.flag===t)return r;return null}function ALe(e){const{schemaType:t,validationError:n,elementProps:r}=e,i=MI(t,"min"),o=MI(t,"integer"),a=MI(t,"precision"),s=typeof(i==null?void 0:i.constraint)=="number"&&(i==null?void 0:i.constraint)>=0,l=o||(a==null?void 0:a.constraint)===0;return c.jsx(ei,{...r,type:"number",step:"any",inputMode:s?l?"numeric":"decimal":"text",customValidity:n,placeholder:t.placeholder,pattern:s?"[d]*":void 0,max:Number.MAX_SAFE_INTEGER,min:Number.MIN_SAFE_INTEGER,"data-testid":"number-input"})}const VPn=p.forwardRef(function(e,t){const{onClick:n}=e,r=p.useCallback(()=>{n==null||n(e.name)},[e.name,n]);return c.jsx(S2,{"data-testid":`group-tab-${e.name}`,id:`${e.name}-tab`,label:e.title,ref:t,...e,onClick:r})}),zPn=e=>{const{name:t,title:n,...r}=e,{selected:i}=e;return c.jsx("option",{title:n,value:t,id:`${t}-tab`,"aria-controls":r["aria-controls"],"data-testid":`group-select-${t}`,"aria-selected":i?"true":"false",children:n||t})},UPn=R(ZO)`
  /* Hide on small screens */
  &[data-eq-max~='0'] [data-ui='TabList'] {
    display: none;
  }

  /* Hide on medium to large screens */
  [data-ui='Select'] {
    display: none;
  }

  /* Show on small screens */
  &[data-eq-max~='0'] [data-ui='Select'] {
    display: block;
  }
`,HPn=({inputId:e,groups:t,onClick:n,shouldAutoFocus:r=!0,disabled:i})=>{const{t:o}=Q();return c.jsx(ow,{space:2,"data-testid":"field-group-tabs",children:t.map(a=>{var l;const s=(l=a.i18n)!=null&&l.title?o(a.i18n.title.key,{ns:a.i18n.title.ns}):a.title||a.name;return c.jsx(VPn,{"aria-controls":`${e}-field-group-fields`,autoFocus:r&&a.selected,disabled:i||a.disabled,icon:a==null?void 0:a.icon,name:a.name,onClick:n,selected:!!a.selected,title:s},`${e}-${a.name}-tab`)})})},WPn=({disabled:e,groups:t,inputId:n,onSelect:r,shouldAutoFocus:i=!0})=>{var s;const o=p.useCallback(l=>{r(l.currentTarget.value)},[r]),{t:a}=Q();return c.jsx(Pc,{"aria-label":a("inputs.object.field-group-tabs.aria-label"),autoFocus:i,"data-testid":"field-group-select",disabled:e,fontSize:2,muted:!0,onChange:o,value:(s=t.find(l=>l.selected))==null?void 0:s.name,children:t.map(l=>{var d;const u=(d=l.i18n)!=null&&d.title?a(l.i18n.title.key,{ns:l.i18n.title.ns}):l.title||l.name;return c.jsx(zPn,{"aria-controls":`${n}-field-group-fields`,disabled:l.disabled,name:l.name,selected:!!l.selected,title:u},`${n}-${l.name}-tab`)})})},GPn=p.memo(function({disabled:e=!1,onClick:t,...n}){const r=p.useCallback(i=>{t==null||t(i)},[t]);return c.jsxs(UPn,{"data-testid":"field-group-root",children:[c.jsx(HPn,{...n,disabled:e,onClick:r}),c.jsx(WPn,{...n,disabled:e,onSelect:r})]})}),KPn=R(le)`
  margin-bottom: ${({$level:e,theme:t})=>e===0?0:t.sanity.space[5]*-1}px;
  padding-bottom: ${({$level:e,theme:t})=>t.sanity.space[4]}px;
`,YPn=R(Xn)`
  align-items: flex-end;
`;function qPn(e){const{fieldNames:t,onChange:n,readOnly:r,value:i}=e,o=t.length,a=p.useCallback(l=>{n(kt([l]))},[n]),{t:s}=Q();return c.jsxs(ed,{status:"warning",title:c.jsx(c.Fragment,{children:s("inputs.object.unknown-fields.warning.title",{count:o})}),children:[c.jsx(B,{as:"p",muted:!0,size:1,children:c.jsx(c.Fragment,{children:s("inputs.object.unknown-fields.warning.description",{count:o})})}),c.jsxs(w0,{marginTop:4,open:Yl,title:s("inputs.object.unknown-fields.warning.details.title"),children:[c.jsx(V,{marginBottom:3,children:c.jsx(B,{as:"p",muted:!0,size:1,children:c.jsx(c.Fragment,{children:s("inputs.object.unknown-fields.warning.details.description",{count:o})})})}),c.jsx(ae,{as:"ul",space:3,children:t.map(l=>c.jsx(ZPn,{fieldName:l,onUnsetClick:a,readOnly:r,value:i==null?void 0:i[l]},l))})]})]})}function ZPn({fieldName:e,onUnsetClick:t,readOnly:n,value:r}){const i=p.useCallback(()=>{t(e)},[e,t]),{t:o}=Q();return c.jsxs(le,{as:"li",overflow:"hidden",radius:2,shadow:1,tone:"caution",children:[c.jsx(le,{padding:3,shadow:1,tone:"inherit",children:c.jsx(Vi,{size:1,children:e})}),c.jsx(V,{overflow:"auto",padding:3,children:c.jsx(Vi,{language:"json",size:1,children:JSON.stringify(r,null,2)})}),n&&c.jsx(V,{padding:3,children:c.jsx(B,{as:"p",muted:!0,size:1,children:c.jsx(wt,{t:o,i18nKey:"inputs.object.unknown-fields.read-only.description"})})}),!n&&c.jsx(le,{padding:3,shadow:1,tone:"inherit",children:c.jsx(ge,{icon:$i,mode:"ghost",onClick:i,size:"large",tone:"critical",text:o("inputs.object.unknown-fields.remove-field-button.text")})})]})}const XPn=R(ae)`
  // Disable focus ring for the object block. We instead highlight the left border on the fieldset
  // for level > 0 to signal that you have focused on the object
  &:focus {
    outline: none;
  }
`,X1e=p.memo(function(e){const{__internal_arrayEditingModal:t=null,groups:n,id:r,members:i,onChange:o,onFieldGroupSelect:a,renderAnnotation:s,renderBlock:l,renderField:u,renderInlineBlock:d,renderInput:f,renderItem:h,renderPreview:m,schemaType:g,path:y,level:x,value:b,onPathFocus:v}=e,w=p.useRef(null),{columns:C}=g.options||{},k=p.useMemo(()=>r!=="root"&&!(y.length>0&&Cr(YY(y))),[r,y]),S=p.useMemo(()=>{if(!g.fields)return null;const A=g.fields.map(j=>j.name),I=Object.keys(b||{}).filter(j=>!j.startsWith("_")&&!A.includes(j));return I.length===0?null:c.jsx(qPn,{fieldNames:I,value:b,onChange:o})},[o,g.fields,b]),E=p.useMemo(()=>n.find(({selected:A})=>A),[n]),_=p.useCallback(A=>{k&&A.target===w.current&&v(hn)},[k,v]),T=p.useCallback(()=>c.jsx(QIn,{members:i,renderAnnotation:s,renderBlock:l,renderField:u,renderInlineBlock:d,renderInput:f,renderItem:h,renderPreview:m}),[i,s,l,u,d,f,h,m]);return i.length===0?null:c.jsxs(c.Fragment,{children:[t,c.jsxs(XPn,{space:6,tabIndex:k?0:void 0,onFocus:_,ref:w,children:[n.length>0?c.jsx(KPn,{$level:x,"data-testid":"field-groups",children:c.jsx(GPn,{groups:n,inputId:r,onClick:a,shouldAutoFocus:!1})}):null,c.jsx(p.Fragment,{children:C?c.jsx(YPn,{columns:C,gap:4,marginTop:1,children:T()}):T()},E==null?void 0:E.name),S]})]})}),JPn=(e,t)=>{var r;const n=(r=t.options)==null?void 0:r.maxLength;return e?C8e(e,{truncate:typeof n=="number"?n:200,symbols:!0}):""};async function QPn(e,t,n){var r;return e&&(((r=t.options)==null?void 0:r.slugify)||JPn)(e,t,n)}function eRn(e){const[t,n]=p.useState(null),r=p.useRef(0),i=p.useCallback(o=>{const a=++r.current;n({status:"pending"}),Promise.resolve().then(()=>e(o)).then(s=>{a===r.current&&n({status:"complete",result:s})},s=>{a===r.current&&n({status:"error",error:s})})},[e]);return[t,i]}function tRn(){const{getClient:e}=er(),t=un(),n=dr(),r=$_(),i=tVe();return p.useMemo(()=>({projectId:r,dataset:i,getClient:e,schema:t,currentUser:n}),[e,t,n,r,i])}function nRn(e,t,n){const r=e.slice(0,-1),i=Hx(t,r);return{parentPath:r,parent:i,...n}}async function rRn(e,t,n){return typeof e=="function"?e(t,n):Hx(t,e)}function iRn(e){var w;const t=E_(),{path:n,value:r,schemaType:i,validation:o,onChange:a,readOnly:s,elementProps:l}=e,u=(w=i.options)==null?void 0:w.source,d=p.useMemo(()=>o.filter(C=>C.level==="error"),[o]),f=tRn(),{t:h}=Q(),m=p.useCallback(C=>{if(!C){a(Ft.from(kt([])));return}a(Ft.from([bs({_type:i.name}),gt(C,["current"])]))},[a,i.name]),g=p.useCallback(()=>{if(!u)return Promise.reject(new Error(h("inputs.slug.error.missing-source",{schemaType:i.name})));const C=t([])||{_type:i.name},k=nRn(n,C,f);return rRn(u,C,k).then(S=>QPn(S||"",i,k)).then(S=>m(S))},[u,t,i,n,f,m,h]),[y,x]=eRn(g),b=(y==null?void 0:y.status)==="pending",v=p.useCallback(C=>m(C.currentTarget.value),[m]);return c.jsx(ae,{space:3,children:c.jsxs(W,{gap:1,children:[c.jsxs(V,{flex:1,children:[c.jsx(ei,{customValidity:d.length>0?d[0].message:"",disabled:b,onChange:v,value:(r==null?void 0:r.current)||"",readOnly:s,...l}),(y==null?void 0:y.status)==="error"&&c.jsx(le,{padding:2,tone:"critical",children:y.error.message})]}),u&&c.jsx(ge,{mode:"ghost",type:"button",disabled:s||b,onClick:x,size:"large",text:(y==null?void 0:y.status)==="pending"?h("inputs.slug.action.generating"):h("inputs.slug.action.generate")})]})})}function jLe(e){const{validationError:t,elementProps:n}=e;return c.jsx(ei,{...n,customValidity:t,"data-testid":"string-input"})}const oRn=R(Y5e)`
  &[data-as='textarea'] {
    resize: vertical;
  }
`;function aRn(e){const{schemaType:t,validationError:n,value:r,elementProps:i}=e;return c.jsx(oRn,{customValidity:n,value:r||"",placeholder:t.placeholder,rows:typeof t.rows=="number"?t.rows:10,...i})}function sRn(e){var o,a,s;const{schemaType:t,validationError:n,elementProps:r}=e,i=(s=(a=(o=MI(t,"uri"))==null?void 0:o.constraint)==null?void 0:a.options)!=null&&s.allowRelative?"text":"url";return c.jsx(ei,{type:i,inputMode:"url",customValidity:n,...r})}function lRn({value:e,onClearValue:t}){const n=p.useMemo(()=>!!(e!=null&&e._ref),[e==null?void 0:e._ref]),{t:r}=Q(),i=c.jsx(wt,{t:r,i18nKey:"inputs.reference.cross-dataset.feature-disabled-description",components:{DocumentationLink:({children:o})=>c.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:o})}});return c.jsxs(le,{tone:"caution",padding:4,border:!0,radius:2,"data-testid":"alert-cross-dataset-reference-feature-disabled",children:[c.jsxs(W,{gap:4,marginBottom:n?4:void 0,children:[c.jsx(V,{children:c.jsx(B,{size:1,children:c.jsx(Br,{})})}),c.jsxs(ae,{space:3,children:[c.jsx(B,{as:"h2",size:1,weight:"medium",children:r("inputs.reference.cross-dataset.feature-unavailable-title")}),n&&c.jsxs(ae,{space:3,children:[c.jsx(B,{as:"p",size:1,children:i}),c.jsx(B,{as:"p",size:1,children:r("inputs.reference.cross-dataset.feature-disabled-actions")})]}),!n&&c.jsx(B,{as:"p",size:1,children:i})]})]}),t&&n&&c.jsx(ge,{icon:Mh,mode:"ghost",onClick:t,text:r("inputs.reference.action.clear"),width:"fill"})]})}const cRn=R(W)`
  /* this is a hack to avoid layout jumps while previews are loading
  or the message is not tall enough to fill the card
  there's probably better ways of solving this */
  min-height: 36px;
`;function ILe(e){var y,x,b;const{refType:t,showStudioUrlIcon:n,hasStudioUrl:r,showTypeLabel:i,availability:o,preview:a,id:s,dataset:l,projectId:u}=e,d=(o==null?void 0:o.reason)==="NOT_FOUND",f=(o==null?void 0:o.reason)==="PERMISSION_DENIED",h=(y=a.published)==null?void 0:y.media,{t:m}=Q(),g=p.useMemo(()=>{if(h){const v=typeof(h==null?void 0:h.asset)<"u"&&Ew(h),w=p.isValidElement(h);return!v&&!w?null:function({dimensions:C}){return w?h:c.jsx("img",{src:CE({dataset:l,projectId:u}).image(h).withOptions(C).url(),alt:m("inputs.reference.image-preview-alt-text"),referrerPolicy:"strict-origin-when-cross-origin"})}}return t!=null&&t.icon?p.createElement(t.icon):null},[h,l,u,t==null?void 0:t.icon,m]);return c.jsxs(cRn,{align:"center",justify:"center",flex:1,"data-testid":"preview",children:[o!=null&&o.available?c.jsx(V,{flex:1,children:c.jsx(hVe,{title:(x=a.published)==null?void 0:x.title,subtitle:(b=a.published)==null?void 0:b.subtitle,media:g||!1})}):c.jsx(V,{flex:1,children:c.jsx(W,{align:"center",children:c.jsx(V,{flex:1,paddingY:2,children:c.jsx(B,{muted:!0,children:m("inputs.reference.error.document-unavailable-title")})})})}),c.jsx(V,{paddingLeft:3,children:c.jsxs(Wn,{space:4,children:[t&&i&&c.jsx($a,{mode:"outline",children:t.title||t.type}),(f||d)&&c.jsx(V,{children:c.jsx(Et,{portal:!0,content:m(d?"inputs.reference.referenced-document-does-not-exist":"inputs.reference.referenced-document-insufficient-permissions",{documentId:s}),children:c.jsx(gi,{tone:"default",children:f?c.jsx(Wm,{}):c.jsx(ex,{})})})}),!(d||f)&&n&&c.jsx(V,{children:c.jsx(Et,{portal:!0,content:m(r?"inputs.reference.document-opens-in-new-tab":"input.reference.document-cannot-be-opened.failed-to-resolve-url"),children:c.jsx(gi,{size:1,tone:"default",muted:!r,children:c.jsx(lp,{})})})})]})})]})}const $Le=()=>{},J1e={isLoading:!0,result:void 0,error:void 0,retry:$Le},uRn={isLoading:!1,result:void 0,error:void 0,retry:$Le};function DLe(e,t){const[n,r]=p.useState(0),i=p.useCallback(()=>{r(s=>s+1)},[]),o=p.useMemo(()=>({_id:e._id,_type:e._type}),[e._id,e._type]),a=p.useMemo(()=>o._id?t(o).pipe(fe(s=>({isLoading:!1,result:s,error:void 0,retry:i,retryAttempt:n})),yo(J1e),En(s=>(console.error(s),Se({isLoading:!1,result:void 0,error:s,retry:i,retryAttempt:n})))):Se(uRn),[o,t,i,n]);return bi(a,J1e)}function sQ(){return on(en).config().projectId}function dRn(e){var s;const{isLoading:t,result:n,error:r}=DLe(e.document,e.getReferenceInfo),{t:i}=Q(),o=sQ();if(t)return c.jsxs(ae,{space:2,padding:1,children:[c.jsx(wr,{style:{maxWidth:320},radius:1,animated:!0}),c.jsx(wr,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(r)return c.jsx(ae,{space:2,padding:1,children:c.jsx(ed,{title:i("inputs.reference.error.failed-to-load-document-title"),children:c.jsx(B,{muted:!0,size:1,children:r.message})})});if(!n)return null;if(((s=n.availability)==null?void 0:s.reason)==="PERMISSION_DENIED")return c.jsx(ae,{space:2,padding:1,children:i("inputs.reference.error.missing-read-permissions-description")});const a=e.referenceType.to.find(l=>l.type===n.type);return a?n&&a&&c.jsx(ILe,{id:n.id,availability:n.availability,preview:n.preview,refType:a,dataset:e.referenceType.dataset,projectId:o,showTypeLabel:e.referenceType.to.length>1}):c.jsx(ae,{space:2,padding:1,children:i("inputs.reference.error.invalid-search-result-type-title",{returnedType:n.type})})}function Q1e(e){var f,h;const{value:t,type:n,showStudioUrlIcon:r,hasStudioUrl:i,referenceInfo:o}=e,{t:a}=Q(),s=sQ();if(o.isLoading||o.error)return c.jsxs(ae,{space:2,padding:1,children:[c.jsx(wr,{style:{maxWidth:320},radius:1,animated:!o.error}),c.jsx(wr,{style:{maxWidth:200},radius:1,size:1,animated:!o.error})]});const l=n.to.length>1,u=(f=o.result)==null?void 0:f.type,d=n.to.find(m=>m.type===u);return(h=o.result.availability)!=null&&h.available&&!d?c.jsx(ae,{space:2,padding:2,children:c.jsx(B,{as:"p",children:c.jsx(wt,{t:a,i18nKey:"inputs.reference.cross-dataset.invalid-type",values:{typeName:u||"unknown"},components:{JsonValue:()=>c.jsx("pre",{children:JSON.stringify(t,null,2)})}})})}):c.jsx(ILe,{availability:o.result.availability,hasStudioUrl:i,showStudioUrlIcon:r,preview:o.result.preview,refType:d,projectId:s,dataset:n.dataset,id:t._ref,showTypeLabel:l})}const fRn=R(Fn)`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`,hRn=R(B)`
  word-break: break-word;
`,pRn=["top-start","bottom-start"],mRn=p.forwardRef(function(e,t){const{searchString:n,loading:r,portalRef:i,referenceElement:o,...a}=e,{t:s}=Q(),l=e.options&&e.options.length>0,u=p.useCallback(({content:d,hidden:f,inputElement:h,onMouseEnter:m,onMouseLeave:g},y)=>c.jsx(fRn,{"data-testid":"autocomplete-popover",placement:"bottom-start",fallbackPlacements:pRn,arrow:!1,constrainSize:!0,onMouseEnter:m,onMouseLeave:g,content:c.jsx("div",{ref:y,children:l?d:c.jsx(V,{padding:4,children:c.jsx(W,{align:"center",height:"fill",justify:"center",children:c.jsx(hRn,{align:"center",muted:!0,children:c.jsx(wt,{t:s,i18nKey:"inputs.reference.no-results-for-query",values:{searchTerm:n||""}})})})})}),open:!r&&!f,ref:i,portal:!0,referenceElement:o||h,matchReferenceWidth:!0}),[l,s,n,r,i,o]);return c.jsx(JO,{...a,ref:t,renderPopover:u})}),eye={hits:[],isLoading:!1},gRn=()=>!0,tye=["_ref"],yRn="crossDatasetReferences";function vRn(e){var q,X;const{changed:t,focused:n,focusPath:r,getReferenceInfo:i,onChange:o,onPathFocus:a,onSearch:s,path:l,readOnly:u,schemaType:d,validation:f,value:h,elementProps:m}=e,{t:g}=Q(),y=sQ(),[x,b]=p.useState(eye),v=p.useCallback(ie=>{if(!ie){o(kt()),a([]);return}if(!x.hits.find(te=>te.id===ie))throw new Error("Selected an item that wasnt part of the result set");o(gt({_type:d.name,_ref:Cn(ie),_projectId:y,_dataset:d.dataset,_weak:d.weak,_key:h==null?void 0:h._key})),a([])},[h==null?void 0:h._key,x.hits,d.name,d.dataset,d.weak,y,o,a]),w=p.useCallback(()=>{o(kt())},[o]),C=p.useCallback(ie=>{ie.key==="Escape"&&(a==null||a([]))},[a]),k=p.useCallback(ie=>i(ie,d),[i,d]),S=p.useMemo(()=>({_id:h==null?void 0:h._ref}),[h==null?void 0:h._ref]),E=DLe(S,k),_=M_(yRn),T=p.useRef(null),A=r.length===1&&r[0]==="_ref",I=m.ref;is({hasFocusAt:A,ref:h==null?void 0:h._ref},(ie,te)=>{var pe;const de=(ie==null?void 0:ie.ref)!==te.ref;((ie==null?void 0:ie.hasFocusAt)!==te.hasFocusAt||de)&&te.hasFocusAt&&((pe=I.current)==null||pe.focus())});const j=h!=null&&h._weak?"weak":"strong",$=d.weak===!0?"weak":"strong",D=!!(h!=null&&h._ref),O=p.useCallback(()=>{o(d.weak===!0?gt(!0,["_weak"]):kt(["_weak"]))},[o,d]),{push:M}=Nr(),P=p.useMemo(()=>f.filter(ie=>ie.level==="error"),[f]),F=p.useCallback(ie=>{ie.currentTarget===m.ref.current&&(a==null||a([]))},[m.ref,a]),L=p.useCallback(ie=>m.onBlur(ie),[m]),U=p.useCallback(ie=>{ie.currentTarget===m.ref.current&&(a==null||a(tye))},[m.ref,a]),H=p.useCallback(()=>{a==null||a(tye)},[a]),N=p.useId(),Y=RM(ie=>ie.pipe(Bt(Ro),Ar(),At(te=>Di(Se({isLoading:!0}),s(te).pipe(fe(de=>({hits:de,searchString:te,isLoading:!1})),En(de=>(M({title:"Reference search failed",description:de.message,status:"error",id:`reference-search-fail-${N}`}),console.error(de),Se({hits:[]})))))),Fl((te,de)=>({...te,...de}),eye),or(b))),J=p.useCallback(()=>{Y("")},[Y]),ee=!E.isLoading&&D&&j!==$,oe=(h==null?void 0:h._ref)&&((X=d.studioUrl)==null?void 0:X.call(d,{id:h==null?void 0:h._ref,type:(q=E==null?void 0:E.result)==null?void 0:q.type}))||null,re=p.useCallback(ie=>c.jsx(Y1,{as:"button",type:"button",radius:2,children:c.jsx(V,{paddingX:3,paddingY:1,children:c.jsx(dRn,{referenceType:d,document:ie.hit.published,getReferenceInfo:k})})}),[d,k]),se=A||!(h!=null&&h._ref),G=p.useRef(null),K=p.useRef(null);return On(A&&(()=>a([])),()=>[G.current,K.current]),c.jsxs(c.Fragment,{children:[!_.isLoading&&!_.enabled&&c.jsx(lRn,{value:h,onClearValue:w}),(_.isLoading||_.enabled)&&c.jsx(ae,{space:1,children:se?c.jsx(ae,{space:2,ref:G,children:c.jsx(ja,{path:l,isChanged:t,hasFocus:!!n,children:c.jsx("div",{ref:T,children:c.jsx(mRn,{...m,"data-testid":"autocomplete",loading:x.isLoading,referenceElement:T.current,portalRef:K,id:N||"",options:x.hits.map(ie=>({value:ie.id,hit:ie})),onFocus:U,radius:2,placeholder:g("inputs.reference.search-placeholder"),onKeyDown:C,readOnly:u,disabled:E.isLoading,onQueryChange:Y,searchString:x.searchString,onChange:v,filterOption:gRn,renderOption:re,openButton:{onClick:J}})})})}):c.jsx(ja,{path:l,isChanged:t,hasFocus:!!n,children:c.jsxs(le,{padding:0,border:!0,flex:1,radius:1,tone:u?"transparent":E.error||P.length>0?"critical":"default",children:[c.jsxs(W,{align:"center",padding:1,children:[oe?c.jsx(Y1,{as:"a",target:"_blank",rel:"noopener noreferrer",href:oe,"data-as":"a",flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:F,onBlur:L,ref:m.ref,children:c.jsx(Q1e,{value:h,referenceInfo:E,showStudioUrlIcon:!0,hasStudioUrl:!!oe,type:d})}):c.jsx(Y1,{flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:F,onBlur:L,ref:m.ref,children:c.jsx(Q1e,{value:h,referenceInfo:E,showStudioUrlIcon:!0,type:d})}),c.jsx(Wn,{paddingX:1,children:c.jsx(Jt,{button:c.jsx(Ki,{"data-testid":"menu-button"}),id:`${N}-menuButton`,menu:c.jsx(Nt,{children:!u&&c.jsxs(c.Fragment,{children:[c.jsx(Qe,{text:g("inputs.reference.action.clear"),tone:"critical",icon:Mh,"data-testid":"menu-item-clear",onClick:w}),c.jsx(Qe,{text:g("inputs.reference.action.replace"),icon:vw,"data-testid":"menu-item-replace",onClick:H})]})}),placement:"right",popover:{portal:!0,tone:"default"}})})]}),ee&&c.jsx(YJ,{actualStrength:j,handleFixStrengthMismatch:O}),E.error&&c.jsx(KJ,{errorMessage:E.error.message,onHandleRetry:E.retry})]})})})]})}const bRn="cross-dataset-refs",OLe={available:!0,reason:"READABLE"},xRn={available:!1,reason:"PERMISSION_DENIED"},wRn={available:!1,reason:"NOT_FOUND"};function CRn(e){const{client:t,documentPreviewStore:n}=e,{dataset:r,projectId:i}=t.config(),o=r&&i?{dataset:r,projectId:i}:void 0;return function(a,s){return(a._type?Se(a):n.observeDocumentTypeFromId(a._id,o).pipe(fe(l=>({_id:a._id,_type:l})))).pipe(At(l=>{if(!l._type)return kRn(t,a._id).pipe(fe(h=>({id:a._id,type:void 0,availability:h,preview:{published:void 0}})));const u=s.to.find(h=>h.type===l._type),d=fQ(u==null?void 0:u.preview)||[],f=n.observePaths(a,d,o).pipe(fe(h=>h&&MD(h,u)));return mo([f]).pipe(fe(([h])=>({type:l._type,id:a._id,availability:OLe,preview:{published:Tt(h)?h:void 0}})))}))}}function kRn(e,t){const n={uri:e.getDataUrl("doc",t),json:!0,query:{excludeContent:"true"},tag:`${bRn}.availability`};return e.observable.request(n).pipe(fe(r=>{const i=lJ(r.omitted||[],o=>o.id)[t];return i?i.reason==="existence"?wRn:i.reason==="permission"?xRn:null:OLe}))}function SRn(e,t,n,r){return WR(n.to,e,{...r,maxDepth:r.maxFieldDepth})(t,{includeDrafts:!1,isCrossDataset:!0}).pipe(fe(({hits:i})=>i.map(({hit:o})=>o)),fe(jR),fe(i=>i.map(o=>({id:o.id,type:o.type,published:o.published}))))}async function ERn(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const i=n.slice(0,-1),o=Hx(t,i);return await e.filter({document:t,parentPath:i,parent:o,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function _Rn(e){const t=p.useRef(e);return t.current=e,t}function TRn(e){const{path:t,schemaType:n}=e,r=er(),i=r.getClient(en),o=No(),a=r.getClient,{enableLegacySearch:s=!1}=r.search,l=p.useMemo(()=>i.withConfig({dataset:n.dataset,apiVersion:"2023-11-13",ignoreBrowserTokenWarning:!0}).clone(),[i,n.dataset]),u=GR(l),d=x_([]),f=_Rn(d),h=p.useCallback(g=>ti(ERn(n.options,f.current,t,a)).pipe(Ot(({filter:y,params:x})=>SRn(l,g,n,{...n.options,filter:y,params:x,tag:"search.cross-dataset-reference",maxFieldDepth:u,enableLegacySearch:s})),En(y=>{var b;const x=y.details&&y.details.type==="queryParseError";return(b=n.options)!=null&&b.filter&&x&&(y.message='Invalid reference filter, please check the custom "filter" option'),qd(y)})),[n,f,t,a,l,u,s]),m=p.useMemo(()=>CRn({client:l,documentPreviewStore:o}),[l,o]);return c.jsx(vRn,{...e,getReferenceInfo:m,onSearch:h})}function g5(e){const{reference:t,children:n,observeAsset:r,waitPlaceholder:i}=e,o=t==null?void 0:t._ref,a=p.useMemo(()=>r(o),[o,r]),s=bi(a);return c.jsx(c.Fragment,{children:o&&s?n(s):i})}const ARn=R(Qe)`
  position: relative;

  & input {
    overflow: hidden;
    overflow: clip;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    position: absolute;
    min-width: 0;
    display: block;
    appearance: none;
    padding: 0;
    margin: 0;
    border: 0;
    opacity: 0;
  }
`,jRn=p.forwardRef(function(e,t){const{icon:n,id:r,accept:i,capture:o,multiple:a,onSelect:s,text:l,disabled:u,...d}=e,f=`${r||""}-${p.useId()}`,h=p.useCallback(g=>{s&&g.target.files&&s(Array.from(g.target.files))},[s]),m=p.useCallback(g=>c.jsxs("div",{children:[g,c.jsx("input",{"data-testid":"file-menuitem-input",accept:i,capture:o,id:f,multiple:a,onChange:h,type:"file",value:"",disabled:u})]}),[i,o,u,h,f,a]);return c.jsx(ARn,{...d,htmlFor:f,disabled:u,ref:t,icon:n,text:l,renderMenuItem:m})});function MLe(e){const{onUpload:t,onReset:n,readOnly:r,accept:i,directUploads:o,browse:a,downloadUrl:s,copyUrl:l}=e,{push:u}=Nr(),{t:d}=Q(),f=p.useCallback(()=>{navigator.clipboard.writeText(l||""),u({closable:!0,status:"success",title:d("inputs.files.common.actions-menu.notification.url-copied")})},[l,u,d]);return c.jsxs(c.Fragment,{children:[c.jsx(jRn,{icon:AM,onSelect:t,accept:i,text:d("inputs.files.common.actions-menu.upload.label"),"data-testid":"file-input-upload-button",disabled:r||!o}),a,(s||l)&&c.jsx(Tr,{}),s&&c.jsx(Qe,{as:"a",icon:yK,text:d("inputs.files.common.actions-menu.download.label"),href:s}),l&&c.jsx(Qe,{icon:Ru,text:d("inputs.files.common.actions-menu.copy-url.label"),onClick:f}),c.jsx(Tr,{}),c.jsx(Qe,{tone:"critical",icon:Mh,text:d("inputs.files.common.actions-menu.clear-field.label"),onClick:n,disabled:r,"data-testid":"file-input-clear"})]})}function IRn(e,t){return new Promise((n,r)=>{const i=new XMLHttpRequest;i.onload=()=>{const o=new FileReader;o.onloadend=()=>{var u;const a=(u=o.result)==null?void 0:u.toString(),s=a==null?void 0:a.indexOf(";base64");if(!a||s===-1){r(new Error("Could not convert URL to file"));return}const l=a.slice(11,s);if(!l&&!t){r(new Error("Could not find mime type for image"));return}n(PLe(o.result,t||`${Ca()}.${l}`))},o.readAsDataURL(i.response)},i.onerror=o=>{r(o)},i.open("GET",e),i.responseType="blob",i.send()})}function $Rn(e,t){return new Promise((n,r)=>{const i=e.toString(),o=i.indexOf(";base64");if(!i||o===-1){r(new Error("Could not convert base64 to file"));return}const a=i.slice(11,o);if(!a&&!t){r(new Error("Could not find mime type for image"));return}n(PLe(e,t||`${Ca()}.${a}`))})}function PLe(e,t){var s;const n=e.split(","),r=(s=n[0].match(/:(.*?);/))==null?void 0:s[1],i=atob(n[1]);let o=i.length;const a=new Uint8Array(o);for(;o--;)a[o]=i.charCodeAt(o);return new File([a],t,{type:r})}function RLe({assetFromSource:e,onChange:t,type:n,resolveUploader:r,uploadWith:i,isImage:o}){if(!e)throw new Error("No asset given");if(!Array.isArray(e)||e.length===0)throw new Error("Returned value must be an array with at least one item (asset)");const a=e[0],s=a.assetDocumentProps,l=s==null?void 0:s.originalFilename,u=s==null?void 0:s.label,d=s==null?void 0:s.title,f=s==null?void 0:s.description,h=s==null?void 0:s.creditLine,m=s==null?void 0:s.source,g=o?[kt(["hotspot"]),kt(["crop"])]:[];switch(a.kind){case"assetDocumentId":t([bs({_type:n.name}),...g,gt({_type:"reference",_ref:a.value},["asset"])]);break;case"file":{const y=r(n,a.value);y&&i(y,a.value,{label:u,title:d,description:f,creditLine:h,source:m});break}case"base64":$Rn(a.value,l).then(y=>{const x=r(n,y);x&&i(x,y,{label:u,title:d,description:f,creditLine:h,source:m})});break;case"url":IRn(a.value,l).then(y=>{const x=r(n,y);x&&i(x,y,{label:u,title:d,description:f,creditLine:h,source:m})});break;default:throw new Error("Invalid value returned from asset source plugin")}}const DRn=R(W)`
  pointer-events: none;
`;function FLe(e){const{hoveringFiles:t,type:n,readOnly:r,acceptedFiles:i,rejectedFilesCount:o,directUploads:a}=e,s=n==="file",{t:l}=Q(),u=p.useMemo(()=>r?c.jsx(fE,{}):t&&o>0||!a?c.jsx(Wm,{}):s?c.jsx(uE,{}):c.jsx(Fu,{}),[a,t,s,r,o]),d=p.useMemo(()=>{if(!a)return l("inputs.files.common.placeholder.upload-not-supported");if(r)return l("inputs.files.common.placeholder.read-only");if(t&&a&&!r){if(i.length>0)return l("inputs.files.common.placeholder.drop-to-upload",{context:n});if(o>0)return l("inputs.files.common.placeholder.cannot-upload-some-files",{count:o})}return l("inputs.files.common.placeholder.drag-or-paste-to-upload",{context:n})},[i.length,a,t,r,o,l,n]);return c.jsxs(DRn,{align:"center",gap:3,justify:"center",paddingLeft:1,children:[c.jsx(B,{muted:!0,size:1,children:u}),c.jsx(B,{size:1,muted:!0,children:d})]})}const LLe=XFe(tLe(le)),ORn=R(ge).attrs({forwardedAs:"label"})(({theme:e})=>{const{focusRing:t}=e.sanity,n=e.sanity.color.base;return he`
      &:not([data-disabled='true']) {
        &:focus-within {
          box-shadow: ${KR({base:n,border:{width:1,color:"var(--card-border-color)"},focusRing:t})};
        }
      }

      // The underlying file input is rendered as children within a Sanity UI <Button> component.
      // The below visibly hides it by targeting the input's parent <span> element, which is
      // added by the <Button> component.
      // TODO: refactor, avoid nth-child selector usage
      & > span:nth-child(2) {
        overflow: hidden;
        overflow: clip;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        position: absolute;
        min-width: 0;
        display: block;
        appearance: none;
        padding: 0;
        margin: 0;
        border: 0;
        opacity: 0;
      }
    `}),MRn=p.forwardRef(function(e,t){const{icon:n,id:r,accept:i,capture:o,multiple:a,onSelect:s,text:l,disabled:u,...d}=e,f=`${r||""}-${p.useId()}`,h=p.useCallback(m=>{s&&m.target.files&&s(Array.from(m.target.files))},[s]);return c.jsx(ORn,{...d,icon:n,text:l,htmlFor:f,disabled:u,children:c.jsx("input",{"data-testid":"file-button-input",accept:i,capture:o,id:f,multiple:a,onChange:h,ref:t,type:"file",value:"",disabled:u})})});function PRn(e){const{accept:t,acceptedFiles:n,browse:r,directUploads:i,hoveringFiles:o,onUpload:a,readOnly:s,rejectedFilesCount:l,type:u}=e,[d,f]=p.useState(null),h=tE(d),m=(h==null?void 0:h.border)&&h.border.width<440,{t:g}=Q();return c.jsxs(W,{align:m?void 0:"center",direction:m?"column":"row",gap:4,justify:"space-between",paddingY:m?1:void 0,ref:f,children:[c.jsx(W,{flex:1,children:c.jsx(FLe,{acceptedFiles:n,directUploads:i,hoveringFiles:o,readOnly:s,rejectedFilesCount:l,type:u})}),c.jsxs(W,{align:"center",gap:1,justify:"center",wrap:"wrap",children:[c.jsx(MRn,{accept:t,"data-testid":"file-input-upload-button",disabled:s||!i,icon:AM,mode:"bleed",onSelect:a,text:g("input.files.common.upload-placeholder.file-input-button.text")}),r]})]})}const NLe=p.memo(PRn),BLe=12e4,RRn=R(le)`
  min-height: 82px;
  box-sizing: border-box;
`,FRn=R(W)`
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`,LRn=R(ae)`
  position: relative;
  width: 60%;
`,NRn=R(Vi)`
  position: relative;
  width: 100%;

  code {
    overflow: hidden;
    overflow: clip;
    text-overflow: ellipsis;
    position: relative;
    max-width: 200px;
  }
`,BRn=e=>new Date().getTime()-new Date(e).getTime();function VLe({uploadState:e,onCancel:t,onStale:n,height:r}){const i=e.file.name;p.useEffect(()=>{BRn(e.updatedAt)>BLe&&(n==null||n())},[e.updatedAt,n]);const{t:o}=Q();return c.jsx(RRn,{tone:"primary",padding:4,border:!0,style:{height:r?`${r}px`:void 0},children:c.jsxs(FRn,{align:"center",justify:"space-between",height:"fill",direction:"row",gap:2,children:[c.jsxs(LRn,{children:[c.jsx(W,{justify:"center",gap:[3,3,2,2],direction:["column","column","row"],children:c.jsx(B,{size:1,children:c.jsx(Wn,{space:2,children:c.jsx(wt,{t:o,i18nKey:"input.files.common.upload-progress",components:{FileName:()=>c.jsx(NRn,{size:1,children:i||""})}})})})}),c.jsx(le,{border:!0,marginTop:3,radius:5,children:c.jsx(qor,{value:e.progress})})]}),t?c.jsx(ge,{mode:"ghost",onClick:t,text:o("input.files.common.cancel-upload"),tone:"critical"}):null]})})}function zLe({onClearStale:e}){const{t}=Q();return c.jsxs(le,{tone:"caution",padding:4,border:!0,radius:2,children:[c.jsxs(W,{gap:4,marginBottom:4,children:[c.jsx(V,{children:c.jsx(B,{size:1,children:c.jsx(Br,{})})}),c.jsxs(ae,{space:3,children:[c.jsx(B,{size:1,weight:"medium",children:t("inputs.files.common.stale-upload-warning.title")}),c.jsx(B,{size:1,children:t("inputs.files.common.stale-upload-warning.description",{staleThresholdMinutes:Math.ceil(BLe/1e3/60)})})]})]}),c.jsx(ge,{icon:Mh,mode:"ghost",onClick:e,text:t("inputs.files.common.stale-upload-warning.clear"),width:"fill"})]})}function ULe(e,t=2){if(e===0)return"0 Bytes";const n=1024,r=t<0?0:t,i=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],o=Math.floor(Math.log(e)/Math.log(n));return`${parseFloat((e/Math.pow(n,o)).toFixed(r))} ${i[o]}`}function VRn(e){const{originalFilename:t,size:n,children:r,muted:i,disabled:o,onClick:a,isMenuOpen:s,onMenuOpen:l,setMenuButtonElement:u}=e,[d,f]=p.useState(null),[h,m]=p.useState(null),g=p.useCallback(()=>l(!0),[l]);Ss(p.useCallback(b=>{s&&(b.key==="Escape"||b.key==="Tab")&&(l(!1),h==null||h.focus())},[s,l,h])),On(b=>{h!=null&&h.contains(b.target)||l(!1)},()=>[d]);const y=p.useCallback(b=>{u(b),m(b)},[u]);p.useEffect(()=>{s&&(d==null||d.focus())},[s,d]);const{t:x}=Q();return c.jsxs(W,{wrap:"nowrap",justify:"space-between",align:"center",children:[c.jsx(le,{as:i||o?void 0:"button",radius:2,padding:2,tone:"inherit",onClick:a,flex:1,children:c.jsxs(W,{wrap:"nowrap",align:"center",children:[c.jsx(le,{padding:3,tone:"transparent",shadow:1,radius:1,children:c.jsx(B,{muted:i,children:c.jsx(uE,{})})}),c.jsxs(ae,{flex:1,space:2,marginLeft:3,children:[c.jsx(B,{size:1,textOverflow:"ellipsis",muted:i,"data-testid":"file-name",weight:"medium",children:t}),c.jsx(B,{size:1,muted:!0,"data-testid":"file-size",children:ULe(n)})]})]})}),c.jsx(V,{padding:2,children:c.jsx(W,{justify:"center",children:c.jsx(Fn,{content:c.jsx(Nt,{ref:f,children:r}),id:"file-actions-menu",portal:!0,open:s,constrainSize:!0,children:c.jsx(Ki,{"aria-label":x("inputs.file.actions-menu.file-options.aria-label"),"data-testid":"options-menu-button",onClick:g,ref:y})})})})]})}function nye(){return c.jsxs(W,{align:"center",justify:"flex-start",padding:2,children:[c.jsx(rf,{padding:3,radius:1,animated:!0}),c.jsxs(ae,{flex:1,space:2,marginLeft:3,children:[c.jsx(wr,{style:{width:"100%"},radius:1,animated:!0}),c.jsx(wr,{style:{width:"100%"},radius:1,animated:!0})]})]})}function zRn({onClearValue:e}){const{t}=Q();return c.jsxs(le,{tone:"caution",padding:4,border:!0,radius:2,children:[c.jsxs(W,{gap:4,marginBottom:4,children:[c.jsx(V,{children:c.jsx(B,{size:1,children:c.jsx(Br,{})})}),c.jsxs(ae,{space:3,children:[c.jsx(B,{size:1,weight:"medium",children:t("inputs.file.invalid-file-warning.title")}),c.jsx(B,{size:1,children:t("inputs.file.invalid-file-warning.description")})]})]}),c.jsx(ge,{icon:Mh,mode:"ghost",onClick:e,text:t("inputs.file.invalid-file-warning.reset-button.text"),width:"fill"})]})}const URn=R(le)`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`,HRn=R(W)`
  height: 100%;
`;function WRn({children:e}){return e}const GRn=["asset"];class KRn extends p.PureComponent{constructor(n){super(n);Z(this,"_assetFieldPath");Z(this,"uploadSubscription",null);Z(this,"browseButtonElement",null);Z(this,"state",{isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,isMenuOpen:!1});Z(this,"toast",null);Z(this,"handleRemoveButtonClick",()=>{const{path:n,value:r}=this.props,i=typeof n.slice(-1)[0]!="string",o=Object.keys(r||{}),a=o.filter(l=>!["_type","_key","_upload","asset"].includes(l)).length===0,s=["asset"].concat(o.filter(l=>["_upload"].includes(l))).map(l=>kt([l]));this.props.onChange(Ft.from(a&&!i?kt():s))});Z(this,"handleCancelUpload",()=>{this.cancelUpload()});Z(this,"handleClearUploadState",()=>{this.setState({isStale:!1}),this.clearUploadStatus()});Z(this,"handleStaleUpload",()=>{this.setState({isStale:!0})});Z(this,"handleClearField",()=>{this.props.onChange(kt(["asset"]))});Z(this,"handleSelectFiles",n=>{const{directUploads:r,readOnly:i}=this.props,{hoveringFiles:o}=this.state;r&&!i?this.uploadFirstAccepted(n):o.length>0&&this.handleFilesOut()});Z(this,"handleSelectFileFromAssetSource",n=>{this.setState({selectedAssetSource:n})});Z(this,"handleAssetSourceClosed",()=>{var n;this.setState({selectedAssetSource:null}),(n=this.browseButtonElement)==null||n.focus()});Z(this,"setBrowseButtonElement",n=>{this.browseButtonElement=n});Z(this,"uploadWith",(n,r,i={})=>{const{schemaType:o,onChange:a,client:s,t:l}=this.props,{source:u}=i,d={metadata:yr(o,"options.metadata"),storeOriginalFilename:yr(o,"options.storeOriginalFilename"),source:u};this.cancelUpload(),this.setState({isUploading:!0}),a(Ft.from([bs({_type:o.name})])),this.uploadSubscription=n.upload(s,r,o,d).subscribe({next:f=>{f.patches&&a(Ft.from(f.patches))},error:f=>{var h;console.error(f),(h=this.toast)==null||h.push({status:"error",description:l("inputs.file.upload-failed.description"),title:l("inputs.file.upload-failed.title")}),this.clearUploadStatus()},complete:()=>{this.setState({isUploading:!1})}})});Z(this,"handleSelectAssetFromSource",n=>{const{onChange:r,schemaType:i,resolveUploader:o}=this.props;RLe({assetFromSource:n,onChange:r,type:i,resolveUploader:o,uploadWith:this.uploadWith}),this.setState({selectedAssetSource:null})});Z(this,"handleFileTargetFocus",n=>{var r;n.currentTarget===n.target&&n.currentTarget===((r=this.props.elementProps.ref)==null?void 0:r.current)&&this.props.elementProps.onFocus(n)});Z(this,"handleFilesOver",n=>{this.setState({hoveringFiles:n})});Z(this,"handleFilesOut",()=>{this.setState({hoveringFiles:[]})});Z(this,"handleUpload",({file:n,uploader:r})=>{this.uploadWith(r,n)});Z(this,"setToast",n=>{this.toast=n});this._assetFieldPath=n.path.concat(GRn)}clearUploadStatus(){var n;(n=this.props.value)!=null&&n._upload&&this.props.onChange(Ft.from([kt(["_upload"])]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(n){const{schemaType:r}=this.props,i=n.map(o=>{var a,s;return{file:o,uploader:(s=(a=this.props).resolveUploader)==null?void 0:s.call(a,r,o)}}).find(o=>o.uploader);i&&this.uploadWith(i.uploader,i.file),this.setState({isMenuOpen:!1})}renderUploadState(n){const{isUploading:r}=this.state;return c.jsx(VLe,{uploadState:n,onCancel:r?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload})}renderAssetSource(){const{selectedAssetSource:n}=this.state,{value:r,schemaType:i,observeAsset:o,t:a}=this.props;if(!n)return null;const s=yr(i,"options.accept",""),l=n.component;return r&&r.asset?c.jsx(g5,{observeAsset:o,reference:r.asset,waitPlaceholder:c.jsx(nye,{}),children:u=>c.jsx(l,{selectedAssets:[u],selectionType:"single",assetType:"file",accept:s,dialogHeaderTitle:a("inputs.file.dialog.title"),onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):c.jsx(l,{selectedAssets:[],selectionType:"single",assetType:"file",accept:s,dialogHeaderTitle:a("inputs.file.dialog.title"),onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}renderAsset(){const{value:n,changed:r,readOnly:i,elementProps:o}=this.props,{hoveringFiles:a,isStale:s}=this.state,l=!!(n!=null&&n._upload||n!=null&&n.asset);return n&&typeof n.asset<"u"&&!(n!=null&&n._upload)&&!$ae(n)?()=>c.jsx(zRn,{onClearValue:this.handleClearField}):u=>c.jsxs(c.Fragment,{children:[s&&c.jsx(V,{marginBottom:2,children:c.jsx(zLe,{onClearStale:this.handleClearUploadState})}),c.jsx(ja,{path:this._assetFieldPath,hasFocus:!!u.focused,isChanged:r,children:n!=null&&n._upload?this.renderUploadState(n._upload):c.jsx(LLe,{...o,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!i,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:l||a.length>0,style:{padding:1},sizing:"border",radius:2,children:c.jsxs("div",{style:{position:"relative"},children:[!(n!=null&&n.asset)&&this.renderUploadPlaceholder(),n!=null&&n.asset&&a.length>0?this.renderAssetMenu(this.getFileTone()):null,!(n!=null&&n._upload)&&(n==null?void 0:n.asset)&&this.renderPreview()]})})})]})}renderPreview(){const{value:n,readOnly:r,assetSources:i,schemaType:o,directUploads:a,observeAsset:s,t:l}=this.props,{isMenuOpen:u}=this.state,d=n==null?void 0:n.asset;if(!d)return null;const f=yr(o,"options.accept","");let h=i&&(i==null?void 0:i.length)===0?null:c.jsx(Qe,{icon:wa,text:l("inputs.file.browse-button.text"),onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(i[0])},disabled:r,"data-testid":"file-input-browse-button"});return i.length>1&&(h=i.map(m=>c.jsx(Qe,{text:(m.i18nKey?l(m.i18nKey):m.title)||Vt(m.name),onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(m)},icon:m.icon||Fu,disabled:r,"data-testid":`file-input-browse-button-${m.name}`},m.name))),c.jsx(g5,{reference:d,observeAsset:s,waitPlaceholder:c.jsx(nye,{}),children:({originalFilename:m,extension:g,url:y,size:x})=>{const b=m||`download.${g}`;let v,w;return $ae(n)&&(w=`${y}?dl`,v=y),c.jsx(VRn,{size:x,originalFilename:b,muted:!r,onMenuOpen:C=>this.setState({isMenuOpen:C}),isMenuOpen:u,setMenuButtonElement:this.setBrowseButtonElement,children:c.jsx(MLe,{onUpload:this.handleSelectFiles,browse:h,onReset:this.handleRemoveButtonClick,downloadUrl:w,copyUrl:v,readOnly:r,accept:f,directUploads:a})})}})}renderAssetMenu(n){const{schemaType:r,readOnly:i,directUploads:o,resolveUploader:a}=this.props,{hoveringFiles:s}=this.state,l=s.filter(d=>a==null?void 0:a(r,d)),u=s.length-l.length;return c.jsx(URn,{radius:2,tone:n,children:c.jsx(HRn,{align:"center",justify:"center",gap:2,flex:1,children:c.jsx(FLe,{readOnly:i,hoveringFiles:s,acceptedFiles:l,rejectedFilesCount:u,directUploads:o,type:"file"})})})}renderBrowser(){const{assetSources:n,readOnly:r,directUploads:i,id:o,t:a}=this.props;return n.length===0?null:n.length>1&&!r&&i?c.jsx(Jt,{id:`${o}_assetFileButton`,ref:this.setBrowseButtonElement,button:c.jsx(ge,{mode:"bleed",text:a("inputs.file.multi-browse-button.text"),"data-testid":"file-input-multi-browse-button",icon:wa}),"data-testid":"input-select-button",menu:c.jsx(Nt,{children:n.map(s=>c.jsx(Qe,{text:s.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(s)},icon:s.icon||Fu,disabled:r,"data-testid":`file-input-browse-button-${s.name}`},s.name))})}):c.jsx(ge,{text:a("inputs.file.browse-button.text"),icon:wa,mode:"bleed",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(n[0])},"data-testid":"file-input-browse-button",disabled:r,ref:this.setBrowseButtonElement})}renderUploadPlaceholder(){const{readOnly:n,schemaType:r,directUploads:i,resolveUploader:o}=this.props,{hoveringFiles:a}=this.state,s=a.filter(d=>o==null?void 0:o(r,d)),l=a.length-s.length,u=yr(r,"options.accept","");return c.jsx(c.Fragment,{children:c.jsx(le,{tone:n?"transparent":"inherit",border:!0,paddingX:3,paddingY:2,radius:2,style:a.length===0?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:c.jsx(NLe,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:n,hoveringFiles:a,acceptedFiles:s,rejectedFilesCount:l,type:"file",accept:u,directUploads:i})})})}getFileTone(){const{directUploads:n,schemaType:r,value:i,readOnly:o,resolveUploader:a}=this.props,{hoveringFiles:s}=this.state,l=s.filter(d=>a==null?void 0:a(r,d)),u=s.length-l.length;return s.length>0&&(u>0||!n)?"critical":!(i!=null&&i._upload)&&!o&&s.length>0?"primary":i!=null&&i._upload&&(i!=null&&i.asset)&&o?"transparent":"default"}render(){const{members:n,renderAnnotation:r,renderBlock:i,renderInlineBlock:o,renderItem:a,renderInput:s,renderField:l,renderPreview:u,t:d}=this.props,{selectedAssetSource:f}=this.state;return c.jsxs(c.Fragment,{children:[c.jsx(mVe,{ref:this.setToast}),n.map(h=>h.kind==="field"&&(h.name==="crop"||h.name==="hotspot")?null:h.kind==="field"?c.jsx(b_,{member:h,renderAnnotation:r,renderInlineBlock:o,renderBlock:i,renderInput:h.name==="asset"?this.renderAsset():s,renderField:h.name==="asset"?WRn:l,renderItem:a,renderPreview:u},h.key):h.kind==="fieldSet"?c.jsx(UJ,{member:h,renderAnnotation:r,renderBlock:i,renderField:l,renderInlineBlock:o,renderInput:s,renderItem:a,renderPreview:u},h.key):h.kind==="error"?c.jsx(BR,{member:h},h.key):c.jsx(c.Fragment,{children:d("inputs.file.error.unknown-member-kind",{kind:h.kind})})),f&&this.renderAssetSource()]})}}function YRn(e){var u;const t=(u=e.schemaType.options)==null?void 0:u.sources,n=No(),{file:r}=vf().__internal,i=on(en),{t:o}=Q(),a=p.useCallback((d,f)=>r.directUploads?VJ(d,f):null,[r.directUploads]),s=p.useMemo(()=>t||r.assetSources,[r,t]),l=p.useCallback(d=>CFe(n,d),[n]);return c.jsx(KRn,{...e,t:o,client:i,assetSources:s,directUploads:r.directUploads,observeAsset:l,resolveUploader:a})}const qRn=["asset"];function ZRn(e,t){const{elementProps:n,handleClearUploadState:r,handleFilesOut:i,handleFilesOver:o,handleFileTargetFocus:a,handleSelectFiles:s,hoveringFiles:l,inputProps:u,isStale:d,readOnly:f,renderAssetMenu:h,renderPreview:m,renderUploadPlaceholder:g,renderUploadState:y,tone:x,value:b}=e,v=!!(b!=null&&b._upload||b!=null&&b.asset),w=p.useMemo(()=>u.path.concat(qRn),[u.path]);return c.jsxs(c.Fragment,{children:[d&&c.jsx(V,{marginBottom:2,children:c.jsx(zLe,{onClearStale:r})}),c.jsx(ja,{path:w,hasFocus:!!u.focused,isChanged:u.changed,children:b!=null&&b._upload?y(b._upload):c.jsxs(LLe,{...n,onFocus:a,tabIndex:0,disabled:!!f,onFiles:s,onFilesOver:o,onFilesOut:i,tone:x,$border:v||l.length>0,sizing:"border",radius:2,children:[!(b!=null&&b.asset)&&g(),!(b!=null&&b._upload)&&(b==null?void 0:b.asset)&&c.jsxs("div",{style:{position:"relative"},ref:t,children:[m(),h()]})]})})]})}const XRn=p.memo(p.forwardRef(ZRn)),HLe=R(Wn)`
  position: absolute;
  top: 0;
  right: 0;
`,JRn=()=>c.jsx(HLe,{padding:2,children:c.jsx(rf,{style:{width:"25px",height:"25px"},animated:!0})});function QRn(e){const{onEdit:t,children:n,showEdit:r,setHotspotButtonElement:i,setMenuButtonElement:o,onMenuOpen:a,isMenuOpen:s}=e,[l,u]=p.useState(null),[d,f]=p.useState(null),h=p.useCallback(()=>a(!s),[a,s]);Ss(p.useCallback(y=>{s&&(y.key==="Escape"||y.key==="Tab")&&(a(!1),d==null||d.focus())},[s,a,d])),On(y=>{d!=null&&d.contains(y.target)||a(!1)},()=>[l]);const m=p.useCallback(y=>{o(y),f(y)},[o]);p.useEffect(()=>{s&&(l==null||l.focus())},[s,l]);const{t:g}=Q();return c.jsx(Sa,{children:c.jsxs(HLe,{"data-buttons":!0,space:1,padding:2,children:[r&&c.jsx(ge,{"aria-label":g("inputs.image.actions-menu.edit-details.aria-label"),"data-testid":"options-menu-edit-details",icon:v_e,mode:"ghost",onClick:t,ref:i,tooltipProps:{content:g("inputs.image.actions-menu.crop-image-tooltip")}}),c.jsx(Fn,{id:"image-actions-menu",content:c.jsx(Nt,{ref:u,children:n}),portal:!0,open:s,constrainSize:!0,children:c.jsx(Ki,{"aria-label":g("inputs.image.actions-menu.options.aria-label"),"data-testid":"options-menu-button",mode:"ghost",onClick:h,ref:m})})]})})}function e4n(e){const{assetSources:t,directUploads:n,handleOpenDialog:r,handleRemoveButtonClick:i,handleSelectFiles:o,handleSelectImageFromAssetSource:a,imageUrlBuilder:s,isImageToolEnabled:l,isMenuOpen:u,observeAsset:d,readOnly:f,schemaType:h,setHotspotButtonElement:m,setMenuButtonElement:g,setMenuOpen:y,value:x}=e,{t:b}=Q(),v=p.useMemo(()=>yr(h,"options.accept","image/*"),[h]),w=x==null?void 0:x.asset,C=x&&w&&l;if(!w)return null;let k=t&&t.length===0?null:c.jsx(Qe,{icon:wa,text:b("inputs.image.browse-menu.text"),onClick:()=>{y(!1),a(t[0])},disabled:f,"data-testid":"file-input-browse-button"});return t&&t.length>1&&(k=t.map(S=>c.jsx(Qe,{text:(S.i18nKey?b(S.i18nKey):S.title)||Vt(S.name),onClick:()=>{y(!1),a(S)},icon:S.icon||Fu,"data-testid":`file-input-browse-button-${S.name}`,disabled:f},S.name))),c.jsx(r4n,{accept:v,browseMenuItem:k,directUploads:n,handleOpenDialog:r,handleRemoveButtonClick:i,handleSelectFiles:o,imageUrlBuilder:s,isMenuOpen:u,observeAsset:d,readOnly:f,reference:w,schemaType:h,setHotspotButtonElement:m,setMenuButtonElement:g,setMenuOpen:y,showAdvancedEditButton:!!C,value:x})}const t4n=p.memo(e4n);function n4n(e){const{accept:t,browseMenuItem:n,directUploads:r,handleOpenDialog:i,handleRemoveButtonClick:o,handleSelectFiles:a,imageUrlBuilder:s,isMenuOpen:l,observeAsset:u,readOnly:d,reference:f,setHotspotButtonElement:h,setMenuButtonElement:m,setMenuOpen:g,showAdvancedEditButton:y,value:x}=e,b=f==null?void 0:f._ref,v=p.useMemo(()=>u(b),[b,u]),w=bi(v);if(!b||!w)return c.jsx(JRn,{});const{_id:C,originalFilename:k,extension:S}=w;let E,_;if(Ew(x)){const T=k||`download.${S}`;_=s.image(C).forceDownload(T).url(),E=s.image(C).url()}return c.jsx(QRn,{isMenuOpen:l,onEdit:i,onMenuOpen:g,setHotspotButtonElement:h,setMenuButtonElement:m,showEdit:!!y,children:c.jsx(MLe,{onUpload:a,browse:n,onReset:o,downloadUrl:_,copyUrl:E,readOnly:d,directUploads:r,accept:t})})}const r4n=p.memo(n4n);function i4n(e){const{handleAssetSourceClosed:t,handleSelectAssetFromSource:n,observeAsset:r,schemaType:i,selectedAssetSource:o,value:a}=e,s=p.useMemo(()=>yr(i,"options.accept","image/*"),[i]);if(!o)return null;const{component:l}=o;return a&&a.asset?c.jsx(g5,{observeAsset:r,reference:a.asset,children:u=>c.jsx(l,{selectedAssets:[u],assetType:"image",accept:s,selectionType:"single",onClose:t,onSelect:n})}):c.jsx(l,{selectedAssets:[],selectionType:"single",assetType:"image",accept:s,onClose:t,onSelect:n})}const o4n=p.memo(i4n),a4n={portal:!0};function s4n(e,t){const{assetSources:n,readOnly:r,directUploads:i,id:o,setMenuOpen:a,handleSelectImageFromAssetSource:s}=e,{t:l}=Q();return n&&n.length===0?null:n&&n.length>1&&!r&&i?c.jsx(Jt,{id:`${o}_assetImageButton`,ref:t,button:c.jsx(ge,{"data-testid":"file-input-multi-browse-button",icon:wa,iconRight:ea,mode:"bleed",text:l("inputs.image.browse-menu.text")}),menu:c.jsx(Nt,{children:n.map(u=>c.jsx(Qe,{text:(u.i18nKey?l(u.i18nKey):u.title)||Vt(u.name),onClick:()=>{a(!1),s(u)},icon:u.icon||Fu,disabled:r,"data-testid":`file-input-browse-button-${u.name}`},u.name))}),popover:a4n}):c.jsx(ge,{text:l("inputs.image.browse-menu.text"),icon:wa,mode:"bleed",onClick:()=>{a(!1),s(n[0])},"data-testid":"file-input-browse-button",disabled:r})}const l4n=p.memo(p.forwardRef(s4n)),rye=R(V)`
  position: relative;
  padding-bottom: calc(${({ratio:e=3/2})=>1/e} * 100%);

  & > div {
    position: absolute;
    top: ${({padding:e=0})=>e}px;
    left: ${({padding:e=0})=>e}px;
    right: ${({padding:e=0})=>e}px;
    bottom: ${({padding:e=0})=>e}px;
  }
`,qh={x:.5,y:.5,height:1,width:1},Zh={top:0,left:0,right:0,bottom:0};function c4n(e={}){const t=iye(e.image)||1,n=e.hotspot||qh,r=e.crop||Zh,i=iye(e.container)||t*d4n(r),o=e.align||{x:"center",y:"center"},a=u4n(t,{hotspot:n,crop:r},{aspect:i,align:o}),s=GLe(WLe(100/i));return{debug:{result:a},container:{overflow:"hidden",position:"relative",width:"100%",height:s},padding:{marginTop:s},crop:{position:"absolute",overflow:"hidden",height:jp(a.crop.height),width:jp(a.crop.width),top:jp(a.crop.top),left:jp(a.crop.left)},image:{position:"absolute",height:jp(a.image.height),width:jp(a.image.width),top:jp(a.image.top),left:jp(a.image.left)}}}function iye(e){if(!e)return null;if("aspectRatio"in e)return e.aspectRatio;if("height"in e||"width"in e){if(typeof e.height!="number"&&typeof e.width!="number")throw new Error(`Height and width must be numbers, got ${JSON.stringify(e)}`);return e.width/e.height}return null}function WLe(e,t=2){const n=Math.pow(10,t);return Math.round(e*n)/n}function u4n(e,t,n){const r=t.crop,i=n.aspect,o=n.align,a=1-r.left-r.right,s=1-r.top-r.bottom,l={top:-r.top/s,left:-r.left/a,width:1/a,height:1/s},u=a/s*e,d={x:(t.hotspot.x-r.left)/a,y:(t.hotspot.y-r.top)/s,height:t.hotspot.height/s,width:t.hotspot.width/a},f=1/d.width,h=1/d.height*u/i,m=Math.min(f,h);let g;const y=u<=i;y?g=1:g=u/i;let x,b;if(g>m){x="letterbox";let v;const w=g-m;y?v=1-w:v=m,b={width:v,height:v/u*i,left:0,top:0};const C=d.x*b.width-d.width*b.width/2;switch(o.x){case"left":b.left=y?0:-C;break;case"right":b.left=y?1-b.width:C;break;case"center":b.left=y?(1-b.width)/2:-C;break;default:throw new Error(`Invalid x alignment: '${o.x}'. Must be either 'left', 'right' or 'center'`)}const k=d.y*b.height-d.height*b.height/2;switch(o.y){case"top":b.top=y?-k:0;break;case"bottom":b.top=k;break;case"center":b.top=y?-k:(1-b.height)/2;break;default:throw new Error(`Invalid y alignment: '${o.y}'. Must be either 'top', 'bottom' or 'center'`)}}else if(y){x="full_width";let v=-d.y/u*i+.5;const w=g/u*i;v>0?v=0:-v>w-1&&(v=-(w-1)),b={width:g,height:w,left:0,top:v}}else{x="full_height";const v=g;let w=.5-d.x*g;w>0?w=0:-w>v-1&&(w=-(v-1)),b={width:v,height:g/u*i,top:0,left:w}}return{method:x,crop:b,image:l}}function d4n(e){const t=1-e.top-e.bottom;return(1-e.left-e.right)/t}function GLe(e){return e===0?0:`${e}%`}function jp(e){return GLe(WLe(e*100))}const f4n=R.div`
  position: relative;
  width: 100%;
`,h4n=zi("sanity-imagetool");function p4n(e,t){const n=1/t,r=t*n,i=r-(e.left+e.right)*r,o=n-(e.top+e.bottom)*n;return i/o}const m4n=p.memo(function(e){const{alignX:t="center",alignY:n="center",alt:r,aspectRatio:i="none",className:o="",crop:a=Zh,hotspot:s=qh,onError:l,onLoad:u,src:d,srcAspectRatio:f,srcSet:h,style:m}=e,[g,y]=p.useState(null),x=p.useRef(null),b=p.useRef(null),v=p.useCallback(()=>{if(x.current)if(i==="auto"){const k=x.current.parentNode;p.startTransition(()=>y(k.offsetWidth/k.offsetHeight))}else y(null)},[i]);p.useEffect(()=>{const k=b.current;return k&&k.src&&k.complete&&k.naturalWidth!==void 0&&(h4n("Image '%s' already loaded, refreshing (from cache) to trigger onLoad / onError",d),k.src=k.src),v(),window.addEventListener("resize",v),()=>{window.removeEventListener("resize",v)}},[d,v]);const w=p.useMemo(()=>i==="none"?a?p4n(a,f):f:i==="auto"?g:i||null,[i,g,a,f]),C=p.useMemo(()=>c4n({container:{aspectRatio:w||f},image:{aspectRatio:f},hotspot:s,crop:a,align:{x:t,y:n}}),[t,n,a,s,f,w]);return c.jsx(f4n,{className:`${o}`,style:m,ref:x,children:c.jsxs("div",{style:C.container,children:[c.jsx("div",{style:C.padding}),c.jsx("div",{style:C.crop,children:c.jsx("img",{ref:b,src:d,alt:r,srcSet:h,onLoad:u,onError:l,style:C.image})})]})})});function g4n(e){const{src:t,children:n}=e,[r,i]=p.useState(!0),[o,a]=p.useState(null),[s,l]=p.useState(null);return p.useEffect(()=>{a(null),l(null),i(!0);const u=new Image;u.onload=()=>{a(u),l(null),i(!1)},u.onerror=()=>{l(new Error(`Could not load image from ${JSON.stringify(t)}`)),i(!1)},u.referrerPolicy="strict-origin-when-cross-origin",u.src=t},[t]),n({image:o,error:s,isLoading:r})}function y4n(e){const{image:t,maxHeight:n,maxWidth:r,children:i}=e,o=p.useRef(null),[a,s]=p.useState(!1);return p.useLayoutEffect(()=>{if(!o.current){const x=document.createElement("canvas");x.style.display="none",o.current=x,s(!0)}const l=t.width/t.height,u=Math.min(t.width,r),d=Math.min(t.height,n),f=t.width>t.height,h=f?u:d*l,m=f?u/l:d;o.current.width=h,o.current.height=m;const g=o.current.getContext("2d");g&&g.drawImage(t,0,0,t.width,t.height,0,0,h,m);const y=o.current;return document.body.appendChild(y),()=>{document.body.removeChild(y)}},[t,n,r]),!o.current||!a?null:i(o.current)}class mU{constructor(t,n){Z(this,"x");Z(this,"y");this.x=t,this.y=n}}class oye{constructor(t,n,r){Z(this,"y");Z(this,"_left");Z(this,"_right");this.y=t,this._left=n,this._right=r}get right(){return new mU(this._right,this.y)}get left(){return new mU(this._left,this.y)}get length(){return this._right-this._left}}class v4n{constructor(t){Z(this,"rect");this.rect=t}get top(){return new oye(this.rect.top,this.rect.left,this.rect.right)}get bottom(){return new oye(this.rect.bottom,this.rect.left,this.rect.right)}}class So{constructor(t=0,n=0,r=0,i=0){Z(this,"left");Z(this,"top");Z(this,"width");Z(this,"height");this.left=t,this.top=n,this.width=r,this.height=i}static fromEdges({left:t,right:n,top:r,bottom:i}){return new So(t,r,1-t-n,1-r-i)}setTopLeft(t,n){return new So(t,n,this.width||0,this.height||0)}setSize(t,n){return new So(this.left||0,this.top||0,t,n)}setCenter(t,n){const r=this.width||0,i=this.height||0;return new So(t-r/2,n-i/2,r||0,i||0)}get center(){return new mU(this.left+this.width/2,this.top+this.height/2)}get corners(){return new v4n(this)}get right(){return this.left+this.width}get bottom(){return this.top+this.height}multiply(t){return new So((this.left||0)+this.width*t.left,(this.top||0)+this.height*t.top,this.width*t.width,this.height*t.height)}grow(t){return new So(this.left-t,this.top-t,this.width+t*2,this.height+t*2)}shrink(t){return this.grow(-t)}cropRelative(t){const n=this.top+t.top*this.height,r=this.left+t.left*this.width,i=this.height*t.height,o=this.width*t.width;return new So(r,n,o,i)}clamp(t){let{left:n,top:r,width:i,height:o}=this;return t.width<i&&(i=t.width,n=t.left),t.height<o&&(o=t.height,r=t.top),n+i>t.left+t.width&&(n=t.right-i),r+o>t.top+t.height&&(r=t.bottom-o),new So(Math.max(n,t.left),Math.max(r,t.top),i,o)}}function aye(e,t){const n={x:t.center.x,y:t.center.y},r=t.width/2,i=t.height/2;if(r<=0||i<=0)return!1;const o={x:e.x-n.x,y:e.y-n.y};return Math.pow(o.x,2)/Math.pow(r,2)+Math.pow(o.y,2)/Math.pow(i,2)<=1}function sye({x:e,y:t},n){return Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(n.radius,2)}function GL(e,t){return e.x>=t.left&&e.x<=t.left+t.width&&e.y>=t.top&&e.y<=t.top+t.height}function KLe(e,t){return{x:t.center.x-t.width/2*Math.cos(e),y:t.center.y-t.height/2*Math.sin(e)}}const b4n="data:image/png;base64,AAACAAEAICACAAcABQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAEAAAAAAAAAAAAAAgAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8AAAA/AAAAfwAAAP+AAAH/gAAB/8AAA//AAAd/wAAGf+AAAH9gAADbYAAA2yAAAZsAAAGbAAAAGAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////gH///4B///8Af//+AD///AA///wAH//4AB//8AAf//AAD//5AA///gAP//4AD//8AF///AB///5A////5///8=",x4n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAABdSURBVEjH7ZA7DsAwCEMN6v2vTCdESpLKQRl5gxfzMQDNRQyWlEK83QAIRh3cH/QbIhQwMDl8gORl7A16WD/xxAdq6N6SgycKUblf41+wbFBT44RiCi11NU3TLHgBxRUUD4ITqnIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMDEtMjFUMDA6MTM6NDMrMDE6MDC74T7AAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEyLTA0LTAyVDA0OjEzOjM3KzAyOjAwQJ35wQAAAABJRU5ErkJggg==",w4n=p.forwardRef(function(e,t){const{readOnly:n,onDragStart:r,onDragEnd:i,onDrag:o,...a}=e,s=p.useRef(null),l=p.useRef(null),u=p.useRef(!1),d=p.useCallback(y=>{if(n||!s.current)return;if(u.current){qA("Start cancelled, already a drag in progress");return}u.current=!0;const x=YL(y);qA("Drag started %o",x),r(KL(x.x,x.y,s.current.getBoundingClientRect())),l.current=x},[r,n]),f=p.useCallback(y=>{if(!u.current||n||!l.current)return;const x=YL(y),b=S4n(x,l.current);o(b),qA("moving by %o",b),l.current=x},[o,n]),h=p.useCallback(()=>{!u.current||n||!l.current||!s.current||(u.current=!1,i(KL(l.current.x,l.current.y,s.current.getBoundingClientRect())),l.current=null)},[i,n]),m=p.useCallback(y=>{if(!u.current||n||!s.current)return;const x=YL(y);i(KL(x.x,x.y,s.current.getBoundingClientRect())),u.current=!1,l.current=null,qA("Done moving %o",x)},[i,n]);p.useEffect(()=>(document.body.addEventListener("pointermove",f),document.body.addEventListener("pointerup",m),document.body.addEventListener("pointerleave",h),document.body.addEventListener("pointercancel",h),()=>{document.body.removeEventListener("pointermove",f),document.body.removeEventListener("pointerup",m),document.body.removeEventListener("pointerleave",h),document.body.removeEventListener("pointercancel",h)}),[f,h,m]);const g=p.useCallback(y=>{s.current=y,typeof t=="function"?t(y):t&&(t.current=y)},[t]);return c.jsx(k4n,{ref:g,onPointerDown:n?void 0:d,...a})}),C4n=p.memo(w4n),qA=zi("sanity-imagetool"),k4n=R.canvas`
  display: block;
  position: relative;
  max-width: calc(100% - 0.5em); /* to prevent overlap with change bar */
  max-height: calc(100% + 1em);
  user-select: none;
  // Enable only multi-finger panning and zooming within this element.
  // This prevents single finger panning when manipulating drag handles,
  // which can cause unwanted scrolling in the underlying document body.
  touch-action: pinch-zoom;
`;function KL(e,t,n){return{x:e-n.left,y:t-n.top}}function YL(e){return{x:e.clientX,y:e.clientY}}function S4n(e,t){return{x:e.x-t.x,y:e.y-t.y}}function E4n({context:e,image:t,MARGIN_PX:n,scale:r}){const i=new So().setSize(t.width,t.height).shrink(n*r);e.save(),e.fillStyle="white",e.clearRect(0,0,t.width,t.height),e.globalAlpha=.3,e.drawImage(t,i.left,i.top,i.width,i.height),e.restore()}function _4n({clampedValue:e,context:t,HOTSPOT_HANDLE_SIZE:n,image:r,MARGIN_PX:i,opacity:o,readOnly:a,scale:s}){const l=new So().setSize(r.width,r.height),{hotspot:u,crop:d}=e,f=i*s;t.save(),y(),h(),t.clip(),g(),t.restore(),a||x(Math.PI*1.25);function h(){t.save();const b=l.shrink(f).multiply(u),v=b.height/b.width;t.scale(1,v),t.beginPath(),t.globalAlpha=o,t.arc(b.center.x,b.center.y/v,Math.abs(b.width/2),0,2*Math.PI,!1),t.strokeStyle="white",t.lineWidth=1.5*s,t.stroke(),t.closePath(),t.restore()}function m(b,v,w,C,k,S,E,_){t.save(),t.drawImage(r,b,v,w,C,k,S,E,_),t.restore()}function g(){const b=l.multiply(u),v=l.shrink(f).multiply(u);m(b.left,b.top,b.width,b.height,v.left,v.top,v.width,v.height)}function y(){const b=l.cropRelative(d),v=l.shrink(f).cropRelative(d);t.save(),m(b.left,b.top,b.width,b.height,v.left,v.top,v.width,v.height),t.globalAlpha=.5,t.fillStyle="black",t.fillRect(v.left,v.top,v.width,v.height),t.restore()}function x(b){t.save();const v=n*s,w=l.shrink(f).multiply(u),C=KLe(b,w);t.beginPath(),t.arc(C.x,C.y,v,0,2*Math.PI,!1),t.fillStyle="rgb(255,255,255)",t.fill(),t.closePath(),t.restore(),t.beginPath(),t.arc(C.x,C.y,v,0,2*Math.PI,!1),t.strokeStyle="rgb(0, 0, 0)",t.lineWidth=.5*s,t.stroke(),t.closePath()}}function T4n({context:e,hotspotRect:t,image:n,MARGIN_PX:r,scale:i}){e.save();const o=r*i;e.setLineDash&&e.setLineDash([2*i,2*i]),e.lineWidth=.5*i,e.strokeStyle="rgba(200, 200, 200, 0.5)",a(t.center.x),s(t.center.y),e.strokeStyle="rgba(150, 150, 150, 0.5)",s(t.top),s(t.bottom),a(t.left),a(t.right),e.restore();function a(u){l(u,o,u,n.height-o)}function s(u){l(o,u,n.width-o,u)}function l(u,d,f,h){e.beginPath(),e.moveTo(u,d),e.lineTo(f,h),e.stroke(),e.closePath()}}function A4n({context:e,cropRect:t}){e.save(),e.beginPath(),e.fillStyle="rgba(66, 66, 66, 0.9)",e.lineWidth=1,e.rect(t.left,t.top,t.width,t.height),e.stroke(),e.closePath(),e.restore()}function j4n({context:e,cropHandles:t,cropping:n,opacity:r}){e.save(),YLe.forEach(i=>{e.fillStyle=n===i?`rgba(202, 54, 53, ${r})`:`rgba(230, 230, 230, ${r+.4})`;const{left:o,top:a,height:s,width:l}=t[i];e.fillRect(o,a,l,s),e.beginPath(),e.fillStyle=`rgba(66, 66, 66, ${r})`,e.rect(o,a,l,s),e.closePath(),e.stroke()}),e.restore()}const YLe=["left","right","top","topLeft","topRight","bottom","bottomLeft","bottomRight"];function I4n({clampedValue:e,context:t,cropHandles:n,cropping:r,cropRect:i,HOTSPOT_HANDLE_SIZE:o,hotspotRect:a,image:s,MARGIN_PX:l,pointerPosition:u,ratio:d,readOnly:f,scale:h}){t.save(),t.scale(d,d);const m=!f&&u?.8:.2;E4n({context:t,image:s,MARGIN_PX:l,scale:h}),_4n({clampedValue:e,context:t,HOTSPOT_HANDLE_SIZE:o,image:s,MARGIN_PX:l,opacity:m,readOnly:f,scale:h}),T4n({context:t,hotspotRect:a,image:s,MARGIN_PX:l,scale:h}),A4n({context:t,cropRect:i}),f||j4n({context:t,cropHandles:n,cropping:r,opacity:m}),t.restore()}const $4n=R.div`
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
`;function D4n(){const[e,t]=p.useState(null),[n,r]=p.useState(0),[i,o]=p.useState(0),a=p.useMemo(()=>({height:n,width:i}),[n,i]);return p.useEffect(()=>{if(e)return r(e.clientHeight),o(e.clientWidth),f5.observe(e,s=>{r(Math.round(s.contentRect.height)),o(Math.round(s.contentRect.width))}),()=>{f5.unobserve(e)}},[e]),[a,t]}const gU=8,O4n=12,M4n=10;function P4n(e){const t=e.top>e.bottom,n=e.left>e.right;return{top:t?e.bottom:e.top,bottom:t?e.top:e.bottom,left:n?e.right:e.left,right:n?e.left:e.right}}function R4n(e,t){return!(!e||!e.crop||e.crop.top+t.top<0||e.crop.left+t.left<0||e.crop.right+t.right<0||e.crop.bottom+t.bottom<0)}function lye(e,t){const{top:n,right:r,bottom:i,left:o}=e.crop||Zh,a={hotspot:e.hotspot,crop:{top:n+(t.top||0)>0?n:0,right:r+(t.right||0)>0?r:0,bottom:i+(t.bottom||0)>0?i:0,left:o+(t.left||0)>0?o:0}},s={top:n+(t.top||0)>0&&t.top||0,right:r+(t.right||0)>0&&t.right||0,bottom:i+(t.bottom||0)>0&&t.bottom||0,left:o+(t.left||0)>0&&t.left||0};return{value:a,delta:s}}function F4n(e){switch(e){case"left":case"right":return"col-resize";case"top":case"bottom":return"row-resize";case"topRight":case"bottomLeft":return"nesw-resize";case"topLeft":case"bottomRight":return"nwse-resize";default:return null}}function L4n(e){const{image:t,readOnly:n,onChange:r,onChangeEnd:i,value:o}=e,a=kTe(),[s,l]=D4n(),u=p.useMemo(()=>t.width/s.width,[s.width,t.width]),d=p.useMemo(()=>{const g=o.hotspot||qh,y=new So().setSize(g.width,g.height).setCenter(g.x,g.y);return new So().setSize(t.width,t.height).shrink(gU*u).multiply(y)},[t.height,t.width,u,o.hotspot]),f=p.useMemo(()=>new So().setSize(t.width,t.height).shrink(gU*u).cropRelative(So.fromEdges(o.crop||Zh).clamp(new So(0,0,1,1))),[t.height,t.width,u,o.crop]),h=p.useMemo(()=>{const g=f,y=O4n*u,x=y/2,b=new So(0,0,y,y);return{left:b.setTopLeft(g.left-x,g.center.y-x),right:b.setTopLeft(g.right-x,g.center.y-x),top:b.setTopLeft(g.center.x-x,g.top-x),topLeft:b.setTopLeft(g.left-x,g.top-x),topRight:b.setTopLeft(g.right-x,g.top-x),bottom:b.setTopLeft(g.center.x-x,g.bottom-x),bottomLeft:b.setTopLeft(g.left-x,g.bottom-x),bottomRight:b.setTopLeft(g.right-x,g.bottom-x)}},[f,u]),m=p.useMemo(()=>{const g=So.fromEdges(o.crop||Zh).clamp(new So(0,0,1,1)),y=o.hotspot||qh,x=new So(0,0,1,1).setSize(y.width,y.height).setCenter(y.x,y.y).clamp(g);return{crop:g,hotspot:x}},[o.crop,o.hotspot]);return c.jsx(B4n,{actualSize:s,hotspotRect:d,cropRect:f,cropHandles:h,clampedValue:m,image:t,onChange:r,onChangeEnd:i,ratio:a,readOnly:n,scale:u,setCanvasObserver:l,value:o})}const N4n=p.memo(L4n);class B4n extends p.PureComponent{constructor(){super(...arguments);Z(this,"state",{cropping:!1,cropMoving:!1,moving:!1,resizing:!1,pointerPosition:null});Z(this,"canvas");Z(this,"handleDragStart",({x:n,y:r})=>{const i={x:n*this.props.scale,y:r*this.props.scale},o=aye(i,this.props.hotspotRect),a=sye(i,this.getDragHandleCoords()),s=this.getActiveCropHandleFor(i),l=GL(i,this.props.cropRect);s?this.setState({cropping:s}):a?this.setState({resizing:!0}):o?this.setState({moving:!0}):l&&this.setState({cropMoving:!0})});Z(this,"handleDrag",n=>{this.state.cropping?this.emitCrop(this.state.cropping,n):this.state.cropMoving?this.emitCropMove(n):this.state.moving?this.emitMove(n):this.state.resizing&&this.emitResize(n)});Z(this,"handleDragEnd",()=>{const{onChange:n,onChangeEnd:r}=this.props;this.setState({moving:!1,resizing:!1,cropping:!1,cropMoving:!1});const{hotspot:i,crop:o}=this.props.clampedValue,a=P4n(o),s={crop:{top:a.top,bottom:1-a.bottom,left:a.left,right:1-a.right},hotspot:{x:i.center.x,y:i.center.y,height:Math.abs(i.height),width:Math.abs(i.width)}};n(s),r&&r(s)});Z(this,"handlePointerOut",()=>{this.setState({pointerPosition:null})});Z(this,"handlePointerMove",n=>{const r=n.currentTarget.getBoundingClientRect();this.setState({pointerPosition:{x:(n.clientX-r.left)*this.props.scale,y:(n.clientY-r.top)*this.props.scale}})});Z(this,"setCanvas",n=>{n&&(this.canvas=n),this.props.setCanvasObserver(n)})}getActiveCropHandleFor({x:n,y:r}){const i=this.props.cropHandles;for(const o of YLe)if(GL({x:n,y:r},i[o]))return o;return!1}emitMove(n){const{image:r,value:i,onChange:o}=this.props,a=this.props.scale,s={x:n.x*a/r.width,y:n.y*a/r.height};o(V4n(i,s))}emitCropMove(n){const{image:r,onChange:i,value:o}=this.props,a=this.props.scale,s=n.x*a/r.width,l=-n.x*a/r.width,u=n.y*a/r.height,d=-n.y*a/r.height,f={left:s,right:l,top:u,bottom:d};R4n(o,f)&&i(cye(o,f))}emitCrop(n,r){const{image:i,onChange:o,value:a}=this.props,s=this.props.scale;let l=0,u=0,d=0,f=0;n=="left"||n==="topLeft"||n==="bottomLeft"?l=r.x*s/i.width:(n=="right"||n==="topRight"||n==="bottomRight")&&(u=-r.x*s/i.width),n=="top"||n==="topLeft"||n==="topRight"?d=r.y*s/i.height:(n=="bottom"||n==="bottomLeft"||n==="bottomRight")&&(f=-r.y*s/i.height);const h={left:l,right:u,top:d,bottom:f},m=lye(a,h).value,g=lye(a,h).delta;o(cye(m,g))}emitResize(n){const{image:r,onChange:i,value:o}=this.props,a=this.props.scale,s={x:n.x*a*2/r.width,y:n.y*a*2/r.height};i(z4n(o,{height:s.y,width:s.x}))}getDragHandleCoords(){const n=this.props.hotspotRect,r=KLe(Math.PI*1.25,n);return{x:r.x,y:r.y,radius:8*this.props.scale}}getCursor(){const{pointerPosition:n}=this.state,{readOnly:r}=this.props;if(!n||r)return"auto";const i=this.state.cropping||this.getActiveCropHandleFor(n);if(i)return F4n(i)||"auto";const o=sye(n,this.getDragHandleCoords());if(this.state.resizing||o)return"move";if(this.state.moving||this.state.cropMoving)return`url(${x4n}), move`;const a=aye(n,this.props.hotspotRect),s=GL(n,this.props.cropRect);return a||s?`url(${b4n}), move`:"auto"}componentDidMount(){const{canvas:n}=this;n&&this.draw({canvas:n})}componentDidUpdate(){const{canvas:n}=this;n&&this.draw({canvas:n})}draw({canvas:n}){const r=n.getContext("2d");if(!r)return;const{clampedValue:i,cropHandles:o,cropRect:a,hotspotRect:s,image:l,ratio:u,readOnly:d,scale:f}=this.props,{cropping:h,pointerPosition:m}=this.state;I4n({clampedValue:i,context:r,cropHandles:o,cropping:h,cropRect:a,HOTSPOT_HANDLE_SIZE:M4n,hotspotRect:s,image:l,MARGIN_PX:gU,pointerPosition:m,ratio:u,readOnly:d,scale:f});const g=n.style.cursor,y=this.getCursor();g!==y&&(n.style.cursor=y)}render(){const{image:n,readOnly:r,ratio:i}=this.props;return c.jsx($4n,{children:c.jsx(C4n,{readOnly:r,ref:this.setCanvas,onDrag:this.handleDrag,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onPointerMove:this.handlePointerMove,onPointerOut:this.handlePointerOut,height:n.height*i,width:n.width*i})})}}function V4n(e,t){const n=e&&e.hotspot||qh;return{...e,hotspot:{...n,x:n.x+t.x,y:n.y+t.y}}}function z4n(e,t){const n=e&&e.hotspot||qh;return{...e,hotspot:{...n,height:n.height+t.height,width:n.width+t.width}}}function cye(e,t){const n=e&&e.crop||Zh;return{...e,crop:{left:n.left+(t.left||0),right:n.right+(t.right||0),top:n.top+(t.top||0),bottom:n.bottom+(t.bottom||0)}}}function y5(e){return c.jsx(g4n,{src:e.src,children:({isLoading:t,image:n,error:r})=>t?c.jsx(Dn,{showText:!0}):r?c.jsx("div",{children:r.message}):n?c.jsx(y4n,{image:n,maxHeight:y5.maxHeight,maxWidth:y5.maxWidth,children:i=>c.jsx(N4n,{image:i,...e})}):null})}y5.maxHeight=500;y5.maxWidth=1e3;const U4n="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function H4n(e){return e.startsWith("blob:")}function W4n(e){return new Lt(t=>{const n=document.createElement("img");let r=!1;const i=()=>{r=!0,t.next(n),t.complete()},o=()=>{r=!0,t.error(new Error(`Could not load image from ${H4n(e)?"blob":e}`))};return n.onload=i,n.onerror=o,n.src=e,()=>{n.onload=null,n.onerror=null,r||(n.src=U4n)}})}const uye={isLoading:!0};function G4n(e){const[t,n]=p.useState(uye);return p.useEffect(()=>{n(uye);const r=W4n(e).subscribe({error:i=>{n({isLoading:!1,error:i})},next:i=>{n({image:i,isLoading:!1})}});return()=>{r.unsubscribe()}},[e]),t}const dye=["hotspot"],fye=[["3:4",3/4],["Square",1/1],["16:9",16/9],["Panorama",4/1]],hye={crop:Zh,hotspot:qh},K4n=R.div`
  min-height: 6em;
`;function Y4n(e){return c.jsx(W,{align:"center",justify:"center",padding:4,style:{overflowWrap:"break-word"},children:e.children})}function q4n(e){const{imageUrl:t,value:n,changed:r,level:i,path:o,focusPath:a=hn,presence:s,onChange:l,schemaType:u,onPathFocus:d,readOnly:f,elementProps:h}=e,[m,g]=p.useState(n||hye),{image:y,isLoading:x,error:b}=G4n(t),v=p.useCallback(()=>{d(dye)},[d]);p.useEffect(()=>{g(n||hye)},[n]);const w=a[0]==="hotspot";is(w,S=>{var E;!S&&w&&((E=h.ref.current)==null||E.focus())});const C=p.useCallback(S=>{if(f)return;const E=u.fields.find(I=>I.name==="crop"&&I.type.name!=="object"),_=u.fields.find(I=>I.type.name!=="object"&&I.name==="hotspot"),T=E?{_type:E.type.name,...S.crop||Zh}:S.crop,A=_?{_type:_.type.name,...S.hotspot||qh}:S.hotspot;l([gt(T,["crop"]),gt(A,["hotspot"])])},[l,f,u.fields]),{t:k}=Q();return c.jsx(x0,{title:k("inputs.imagetool.title"),level:i,description:k("inputs.imagetool.description"),deprecated:u.deprecated,__unstable_presence:s,children:c.jsxs("div",{children:[c.jsx(le,{__unstable_checkered:!0,__unstable_focusRing:!0,tabIndex:0,ref:h.ref,onFocus:v,children:c.jsx(ja,{path:o.concat(dye),hasFocus:a[0]==="hotspot",isChanged:r,children:c.jsxs(rye,{ratio:3/2,children:[(x||b)&&c.jsx(Y4n,{children:b?c.jsx(le,{padding:4,radius:2,tone:"critical",border:!0,children:c.jsx(B,{children:k("inputs.imagetool.load-error",{errorMessage:b.message})})}):c.jsx(Dn,{showText:!0})}),!x&&y&&c.jsx(V,{margin:1,children:c.jsx(y5,{value:m,src:y.src,readOnly:!!f,onChangeEnd:C,onChange:g})})]})})}),c.jsx(V,{marginTop:3,children:c.jsx(Xn,{columns:fye.length,gap:1,children:fye.map(([S,E])=>c.jsxs("div",{children:[c.jsx(vo,{as:"h4",size:0,children:S}),c.jsx(V,{marginTop:2,children:c.jsx(rye,{ratio:E,children:c.jsx(le,{__unstable_checkered:!0,children:!x&&y?c.jsx(m4n,{aspectRatio:E,src:y.src,srcAspectRatio:y.width/y.height,hotspot:m.hotspot||qh,crop:m.crop||Zh}):c.jsx(K4n,{})})})})]},E))})})]})})}const Z4n=p.memo(function(e){const{handleCloseDialog:t,inputProps:n,imageInputProps:r,isImageToolEnabled:i}=e,{t:o}=Q(),{changed:a,id:s,imageUrlBuilder:l,value:u}=r,d=i&&u&&u.asset,f=p.useMemo(()=>u!=null&&u.asset?l.image(u.asset).url():"",[l,u==null?void 0:u.asset]);return c.jsx(no,{__unstable_autoFocus:!1,header:o("inputs.image.hotspot-dialog.title"),id:`${s}_dialog`,onClickOutside:t,onClose:t,width:1,children:c.jsx(Jw,{children:c.jsx(ae,{space:5,children:d&&(u==null?void 0:u.asset)&&c.jsx(q4n,{...r,imageUrl:f,value:u,presence:n.presence,changed:a})})})})}),pye=30,X4n=R(le)`
  position: relative;
  width: 100%;
  overflow: hidden;
  overflow: clip;
  min-height: 3.75rem;
  max-height: 20rem;

  & > div[data-container] {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex !important;
    align-items: center;
    justify-content: center;
  }

  & img {
    max-width: 100%;
    max-height: 100%;
  }
`,J4n=R(W)(({$drag:e,$tone:t})=>{const n=ly.color.light[t].card.enabled.fg,r=_G(ly.color.light[t].card.enabled.bg,.8);return he`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    backdrop-filter: ${e?"blur(10px)":""};
    color: ${t?n:""};
    background-color: ${e?r:"transparent"};
  `}),Q4n=R(W)`
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
`,e6n=e=>{const t=new URLSearchParams(e.split("?")[1]).get("rect");return t?[t.split(",")[2],t.split(",")[3]].map(Number):e.split("-")[1].split(".")[0].split("x").map(Number)};function t6n(e){var C;const{drag:t,readOnly:n,isRejected:r,src:i,initialHeight:o,...a}=e,[s,l]=p.useState(!1),[u,d]=p.useState(null),f=((C=uy(u))==null?void 0:C.width)||0,h=t?r||n?"critical":"primary":"default",m=pye*document.documentElement.clientHeight/100,[g,y]=e6n(i),x=g/y,b=(g>f?f/x:y)<m?null:`${pye}vh`;p.useEffect(()=>{l(!1)},[i]);const v=p.useCallback(()=>{l(!0)},[]),{t:w}=Q();return c.jsxs(X4n,{...a,ref:d,style:{height:o&&!s?o:b},tone:"transparent",children:[c.jsxs(le,{"data-container":!0,tone:"inherit",children:[!s&&c.jsx(mye,{cardTone:"transparent",drag:!0,content:c.jsx(Dn,{showText:!0})}),c.jsx("img",{src:i,"data-testid":"hotspot-image-input",alt:e.alt,onLoad:v,referrerPolicy:"strict-origin-when-cross-origin"})]}),t&&c.jsx(mye,{cardTone:h,drag:t,content:c.jsxs(c.Fragment,{children:[c.jsx(V,{marginBottom:3,children:c.jsx(vo,{children:c.jsx(n6n,{isRejected:r,readOnly:n})})}),c.jsx(B,{size:1,children:w(r6n({isRejected:r,readOnly:n}))})]})})]})}function n6n({isRejected:e,readOnly:t}){return e?c.jsx(Wm,{}):t?c.jsx(fE,{}):c.jsx(Fu,{})}function r6n({isRejected:e,readOnly:t}){return e?"inputs.image.drag-overlay.this-field-is-read-only":t?"inputs.image.drag-overlay.cannot-upload-here":"inputs.image.drag-overlay.drop-to-upload-image"}function mye({cardTone:e,drag:t,content:n}){return c.jsx(J4n,{justify:"flex-end",padding:3,$drag:t,$tone:e,children:c.jsx(Q4n,{direction:"column",align:"center",justify:"center",children:n})})}const i6n=p.memo(function(e){const{directUploads:t,handleOpenDialog:n,hoveringFiles:r,imageUrlBuilder:i,initialHeight:o,readOnly:a,resolveUploader:s,schemaType:l,value:u}=e,d=p.useMemo(()=>Ew(u),[u]);return!u||!d?null:c.jsx(o6n,{directUploads:t,handleOpenDialog:n,hoveringFiles:r,imageUrlBuilder:i,initialHeight:o,readOnly:a,resolveUploader:s,schemaType:l,value:u})});function o6n(e){const{directUploads:t,handleOpenDialog:n,hoveringFiles:r,imageUrlBuilder:i,initialHeight:o,readOnly:a,resolveUploader:s,schemaType:l,value:u}=e,{t:d}=Q(),f=p.useMemo(()=>r.filter(y=>s(l,y)),[r,s,l]),h=p.useMemo(()=>r.length-f.length,[f,r]),m=kTe(),g=p.useMemo(()=>i.width(2e3).fit("max").image(u).dpr(m).auto("format").url(),[m,i,u]);return c.jsx(t6n,{alt:d("inputs.image.preview-uploaded-image"),drag:!(u!=null&&u._upload)&&r.length>0,initialHeight:o,isRejected:h>0||!t,onDoubleClick:n,readOnly:a,src:g})}function a6n(e){const{directUploads:t,handleSelectFiles:n,hoveringFiles:r,readOnly:i,renderBrowser:o,resolveUploader:a,schemaType:s}=e,l=p.useMemo(()=>r.filter(f=>a(s,f)),[r,a,s]),u=p.useMemo(()=>yr(s,"options.accept","image/*"),[s]),d=r.length-l.length;return c.jsx("div",{style:{padding:1},children:c.jsx(le,{tone:i?"transparent":"inherit",border:!0,paddingX:3,paddingY:2,radius:2,style:r.length===0?{}:{borderColor:"transparent"},children:c.jsx(NLe,{browse:o(),onUpload:n,readOnly:i,hoveringFiles:r,acceptedFiles:l,rejectedFilesCount:d,type:"image",accept:u,directUploads:t})})})}const s6n=p.memo(a6n);function l6n({onClearValue:e}){const{t}=Q();return c.jsxs(le,{tone:"caution",padding:4,border:!0,radius:2,children:[c.jsxs(W,{gap:4,marginBottom:4,children:[c.jsx(V,{children:c.jsx(B,{size:1,children:c.jsx(Br,{})})}),c.jsxs(ae,{space:3,children:[c.jsx(B,{size:1,weight:"medium",children:t("inputs.image.invalid-image-warning.title")}),c.jsx(B,{size:1,children:t("inputs.image.invalid-image-warning.description")})]})]}),c.jsx(ge,{icon:Mh,mode:"ghost",onClick:e,text:t("inputs.image.invalid-image-warning.reset-button.text"),width:"fill"})]})}function c6n(e){const{assetSources:t,client:n,directUploads:r,elementProps:i,focusPath:o,id:a,imageUrlBuilder:s,members:l,observeAsset:u,onChange:d,onPathFocus:f,path:h,readOnly:m,renderAnnotation:g,renderBlock:y,renderField:x,renderInlineBlock:b,renderInput:v,renderItem:w,renderPreview:C,resolveUploader:k,schemaType:S,value:E}=e,{push:_}=Nr(),{t:T}=Q(),[A,I]=p.useState(null),[j,$]=p.useState(!1),[D,O]=p.useState([]),[M,P]=p.useState(!1),[F,L]=p.useState(null),[U,H]=p.useState(null),[N,Y]=p.useState(!1),J=p.useRef(null),ee=p.useRef({el:null,height:0}),oe=p.useCallback(qe=>{var Zt;qe?(ee.current.el=qe,ee.current.height=qe.offsetHeight):(ee.current.height=((Zt=ee.current.el)==null?void 0:Zt.offsetHeight)||0,ee.current.el=null)},[]),re=p.useCallback(()=>{const qe=D.filter(Ur=>k(S,Ur)),Zt=D.length-qe.length;return D.length>0&&(Zt>0||!r)?"critical":!(E!=null&&E._upload)&&!m&&D.length>0?"primary":m||E!=null&&E._upload&&(E!=null&&E.asset)?"transparent":"default"},[r,D,m,k,S,E==null?void 0:E._upload,E==null?void 0:E.asset]),se=p.useCallback(()=>yr(S,"options.hotspot")===!0,[S]),G=p.useCallback(()=>typeof h.slice(-1)[0]!="string",[h]),K=p.useCallback(()=>{E!=null&&E._upload&&d(kt(["_upload"]))},[d,E==null?void 0:E._upload]),q=p.useCallback(()=>{J.current&&(J.current.unsubscribe(),K())},[K]),X=p.useCallback((qe,Zt,Ur={})=>{const{label:ro,title:tn,description:kn,creditLine:rt,source:$t}=Ur,Yn={metadata:yr(S,"options.metadata"),storeOriginalFilename:yr(S,"options.storeOriginalFilename"),label:ro,title:tn,description:kn,creditLine:rt,source:$t};q(),$(!0),d(bs({_type:S.name})),J.current=qe.upload(n,Zt,S,Yn).subscribe({next:dn=>{dn.patches&&d(dn.patches)},error:dn=>{console.error(dn),_({status:"error",description:T("inputs.image.upload-error.description"),title:T("inputs.image.upload-error.title")}),K()},complete:()=>{d([kt(["hotspot"]),kt(["crop"])]),$(!1)}})},[q,K,n,d,_,S,T]),ie=p.useCallback(qe=>{const Zt=qe.map(Ur=>({file:Ur,uploader:k(S,Ur)})).find(Ur=>Ur.uploader);Zt&&X(Zt.uploader,Zt.file),Y(!1)},[k,S,X]),te=p.useCallback(()=>{d([kt(["asset"]),kt(["crop"]),kt(["hotspot"])]),ee.current.el=null,ee.current.height=0},[d]),de=p.useCallback(()=>{const qe=Object.keys(E||{}),Zt=qe.filter(ro=>!["_type","_key","_upload","asset","crop","hotspot"].includes(ro)).length===0,Ur=["asset"].concat(qe.filter(ro=>["crop","hotspot","_upload"].includes(ro))).map(ro=>kt([ro]));d(Zt&&!G()?kt():Ur),ee.current.el=null,ee.current.height=0},[d,E,G]),pe=p.useCallback(()=>{f(["hotspot"])},[f]),ve=p.useCallback(()=>{f([]),F==null||F.focus()},[F,f]),Ce=p.useCallback(qe=>{RLe({assetFromSource:qe,onChange:d,type:S,resolveUploader:k,uploadWith:X,isImage:!0}),I(null)},[d,k,S,X]),xe=p.useCallback(qe=>{var Zt;qe.currentTarget===qe.target&&qe.currentTarget===((Zt=i.ref)==null?void 0:Zt.current)&&i.onFocus(qe)},[i]),Ae=p.useCallback(qe=>{O(qe.filter(Zt=>Zt.kind!=="string"))},[]),Re=p.useCallback(()=>{O([])},[]),we=p.useCallback(()=>{q()},[q]),ye=p.useCallback(()=>{P(!1),K()},[K]),ke=p.useCallback(()=>{P(!0)},[]),be=p.useCallback(qe=>{r&&!m?ie(qe):D.length>0&&Re()},[r,Re,D.length,m,ie]),Ee=p.useCallback(qe=>{I(qe)},[]),ce=p.useCallback(()=>{I(null),U==null||U.focus()},[U]),_e=p.useCallback(()=>c.jsx(i6n,{directUploads:r,handleOpenDialog:pe,hoveringFiles:D,imageUrlBuilder:s,initialHeight:ee.current.height,readOnly:m,resolveUploader:k,schemaType:S,value:E}),[r,pe,D,s,m,k,S,E]),Ie=p.useCallback(()=>c.jsx(t4n,{assetSources:t,directUploads:r,handleOpenDialog:pe,handleRemoveButtonClick:de,handleSelectFiles:be,handleSelectImageFromAssetSource:Ee,imageUrlBuilder:s,isImageToolEnabled:se(),isMenuOpen:N,observeAsset:u,readOnly:m,schemaType:S,setHotspotButtonElement:L,setMenuButtonElement:H,setMenuOpen:Y,value:E}),[t,r,pe,de,be,Ee,s,se,N,u,m,S,E]),Me=p.useCallback(()=>c.jsx(l4n,{assetSources:t,readOnly:m,directUploads:r,id:a,setMenuOpen:Y,handleSelectImageFromAssetSource:Ee}),[t,r,Ee,a,m]),Le=p.useCallback(()=>c.jsx(s6n,{directUploads:r,handleSelectFiles:be,hoveringFiles:D,readOnly:m,renderBrowser:Me,resolveUploader:k,schemaType:S}),[r,be,D,m,Me,k,S]),et=p.useCallback(qe=>c.jsx(VLe,{uploadState:qe,onCancel:j?we:void 0,onStale:ke,height:ee.current.height}),[we,ke,j]),Ct=p.useCallback(()=>E&&typeof E.asset<"u"&&!(E!=null&&E._upload)&&!Ew(E)?()=>c.jsx(l6n,{onClearValue:te}):qe=>c.jsx(XRn,{ref:oe,elementProps:i,handleClearUploadState:ye,handleFilesOut:Re,handleFilesOver:Ae,handleFileTargetFocus:xe,handleSelectFiles:be,hoveringFiles:D,inputProps:qe,isStale:M,readOnly:m,renderAssetMenu:Ie,renderPreview:_e,renderUploadPlaceholder:Le,renderUploadState:et,tone:re(),value:E}),[i,re,te,ye,xe,Re,Ae,be,D,M,m,Ie,_e,Le,et,oe,E]),Ge=p.useCallback(qe=>c.jsx(Z4n,{isImageToolEnabled:se(),handleCloseDialog:ve,imageInputProps:e,inputProps:qe}),[ve,se,e]),We=p.useCallback(()=>c.jsx(o4n,{handleAssetSourceClosed:ce,handleSelectAssetFromSource:Ce,observeAsset:u,schemaType:S,selectedAssetSource:A,value:E}),[ce,Ce,u,S,A,E]),ct=p.useMemo(()=>l.find(qe=>qe.kind==="field"&&qe.name==="hotspot"),[l]);return c.jsxs(ae,{space:5,"data-testid":"image-input",children:[l.map(qe=>qe.kind==="field"&&(qe.name==="crop"||qe.name==="hotspot")?null:qe.kind==="field"?c.jsx(b_,{member:qe,renderAnnotation:g,renderBlock:y,renderInlineBlock:b,renderInput:qe.name==="asset"?Ct():v,renderField:qe.name==="asset"?d6n:x,renderItem:w,renderPreview:C},qe.key):qe.kind==="fieldSet"?c.jsx(UJ,{member:qe,renderAnnotation:g,renderBlock:y,renderField:x,renderInlineBlock:b,renderInput:v,renderItem:w,renderPreview:C},qe.key):qe.kind==="error"?c.jsx(BR,{member:qe},qe.key):c.jsx(c.Fragment,{children:T("inputs.image.error.unknown-member-kind",{kind:qe.kind})})),ct&&o[0]==="hotspot"&&c.jsx(HJ,{...e,absolutePath:ct.field.path,renderInput:Ge}),A&&We()]})}const u6n=p.memo(c6n);function d6n({children:e}){return e}function f6n(e){var f;const t=(f=e.schemaType.options)==null?void 0:f.sources,{image:n}=vf().__internal,r=No(),i=on(en),o=n.directUploads,a=p.useCallback((h,m)=>o?VJ(h,m):null,[o]),s=p.useMemo(()=>t||n.assetSources,[n,t]),l=p.useMemo(()=>CE(i),[i]),u=p.useCallback(h=>wFe(r,h),[r]),{t:d}=Q();return c.jsx(u6n,{...e,t:d,client:i,assetSources:s,directUploads:o,imageUrlBuilder:l,observeAsset:u,resolveUploader:a})}const gye={document:X1e,object:X1e,array:dPn,boolean:mPn,number:ALe,text:aRn,email:NPn,datetime:LPn,date:MPn,url:sRn,image:f6n,file:YRn,string:jLe,slug:iRn,crossDatasetReference:TRn},h6n=Oi({version:1,name:"Portable Text Editor Expanded",description:"The portable text editor was expanded"}),p6n=Oi({version:1,name:"Portable Text Editor Collapsed",description:"The portable text editor was collapsed"}),m6n=Oi({version:1,name:"Portable Text Editor Invalid Value Ignored",description:"The portable text got an invalid value from the form and pressed button to ignore it"}),g6n=Oi({version:1,name:"Portable Text Editor Invalid Value Resolved",description:"The portable text got an invalid value from the form and pressed button to resolve it."}),y6n=R.div`
  position: relative;
`,qLe=R.div`
  z-index: 13;
  opacity: 0;
  transition: opacity 300ms linear;
`,ZLe=R(le)`
  border: 1px solid var(--card-border-color);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 12;
  transition: opacity 150ms ease-in-out;
  opacity: 0;
  box-sizing: border-box;
`,v6n=R(W)`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  &:hover,
  &:focus {
    & ${ZLe} {
      opacity: 0.9;
    }

    & ${qLe} {
      opacity: 1;
    }
  }
`,b6n=()=>typeof window<"u"&&"ontouchstart"in window||typeof navigator<"u"&&navigator.maxTouchPoints>0;function x6n(e){const{children:t,message:n,onActivate:r,isOverlayActive:i}=e,[o,a]=p.useState(!1),{t:s}=Q(),l=p.useCallback(()=>{r&&r()},[r]),u=p.useCallback(g=>{i&&g.code==="Space"&&r&&(g.preventDefault(),r())},[i,r]),d=p.useCallback(()=>{i&&r&&r()},[i,r]),f=p.useCallback(()=>{a(!0)},[]),h=p.useCallback(()=>{a(!1)},[]),m=p.useMemo(()=>{const g=b6n();let y;g?y="tap":o?y="click-focused":y="click";const x=n||s("inputs.portable-text.activate-on-focus-message",{context:y});return c.jsx(B,{weight:"medium",children:x})},[o,n,s]);return c.jsxs(y6n,{onBlur:h,onClick:l,onFocus:f,onKeyDown:u,onDragEnter:d,children:[i&&c.jsxs(v6n,{"data-testid":"activate-overlay",tabIndex:0,align:"center",justify:"center",children:[c.jsx(ZLe,{radius:2}),c.jsx(qLe,{children:m})]}),t]})}const w6n=R.div(e=>{const{color:t,input:n,radius:r}=$e(e.theme),i={color:t.input.default.enabled.border,width:n.border.width};return he`
    --input-box-shadow: ${eQ(i)};

    position: relative;

    & [data-wrapper] {
      overflow: hidden;
      overflow: clip;
      position: relative;
      z-index: 1;
      padding: ${n.border.width}px;
    }

    & [data-border] {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      box-shadow: var(--input-box-shadow);
      z-index: 2;
      border-radius: ${r[2]}px;
      pointer-events: none;
    }

    &:not([data-read-only])[data-focused] [data-border] {
      --input-box-shadow: ${KR({base:t,border:i,focusRing:n.text.focusRing})};
    }
  `}),C6n=R(al)`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;

  & > div {
    height: 100%;
  }
`,rk=[1,2,3,4,5,6,7,8,9],yye=["","",""],vye=["number","lower-alpha","lower-roman"],k6n={em:"em","strike-through":"s",underline:"u",strong:"strong",code:"code"},S6n={h1:{paddingTop:5,paddingBottom:4},h2:{paddingTop:4,paddingBottom:4},h3:{paddingTop:4,paddingBottom:3},h4:{paddingTop:4,paddingBottom:3},h5:{paddingTop:4,paddingBottom:3},h6:{paddingTop:4,paddingBottom:2},normal:{paddingTop:2,paddingBottom:3},blockquote:{paddingTop:2,paddingBottom:3}},E6n=R.span(({theme:e})=>{const t=e.sanity.color.dark;return he`
    /* Make sure the annotation styling is visible */
    &[data-mark='code'] {
      color: inherit;
      mix-blend-mode: ${t?"screen":"multiply"};
    }
  `});function _6n(e){const{value:t,focused:n,selected:r,children:i,schemaType:o}=e,a=k6n[t],s=o.component,l=p.useCallback(u=>c.jsx(E6n,{as:a,"data-mark":t,children:u.children}),[a,t]);return p.useMemo(()=>{const u={focused:n,renderDefault:l,schemaType:o,selected:r,title:o.title,value:t};return s?c.jsx(s,{...u,children:i}):c.jsx(l,{...u,children:i})},[s,l,i,n,o,r,t])}function f1(e){return`list-level-${e}`}const XLe=R.div(({theme:e})=>{const{radius:t,space:n,color:r}=e.sanity,i=_G(r.spot.yellow,.2);return he`
    position: absolute;
    border-radius: ${t[3]}px;
    top: -${n[2]}px;
    bottom: -${n[1]+n[1]}px;
    left: ${n[4]+n[1]}px;
    right: ${n[1]}px;
    background-color: ${i};
    pointer-events: none;
  `}),JLe=R(ja)(()=>he`
    width: 1px;
    height: 100%;

    & > div {
      height: 100%;
    }
  `);function T6n(e){const{allowedDecorators:t,block:n,onChange:r}=e;let i;return o=>{i=Array.isArray(o)?o:[o],i=i.map(s=>XPe(s,{allowedDecorators:t}));const a=[lh(i,"after",[{_key:n._key}])];return r(Ft.from(a))}}function A6n(e){const{allowedDecorators:t,block:n,onChange:r}=e;return i=>{const o=[gt(XPe(i,{allowedDecorators:t}),[{_key:n._key}])];return r(Ft.from(o))}}function j6n(e){const{block:t,onChange:n}=e;return()=>{const r=[kt([{_key:t._key}])];return n(Ft.from(r))}}const I6n=R.div`
  display: flex;
  pointer-events: all;
`;function QLe(e){const t=Lo(),{block:n,onChange:r,renderBlockActions:i}=e,o=p.useMemo(()=>t.schemaTypes.decorators.map(s=>s.value),[t]),a=p.useMemo(()=>{if(i){const s={block:n,value:Pe.getValue(t),set:A6n({allowedDecorators:o,block:n,onChange:r}),unset:j6n({block:n,onChange:r}),insert:T6n({allowedDecorators:o,block:n,onChange:r})};return i(s)}},[i,n,t,r,o]);return a?c.jsx(I6n,{contentEditable:!1,children:a}):null}function $6n(e){const{$level:t}=e,{color:n,font:r,radius:i,space:o}=$e(e.theme),a=vye[(t-1)%vye.length],s=yye[(t-1)%yye.length];return he`
    --marker-bg-color: transparent;

    mix-blend-mode: ${n._dark?"screen":"multiply"};
    position: relative;

    & > [data-ui='TextBlock_inner'] {
      position: relative;
      flex: 1;
    }

    & > div:before {
      content: '';
      position: absolute;
      top: -${o[1]}px;
      bottom: -${o[1]}px;
      left: -${o[1]}px;
      right: -${o[1]}px;
      border-radius: ${i[2]}px;
      background-color: var(--marker-bg-color);
      // This is to make sure the marker is always behind the text
      z-index: -1;
      pointer-events: none;
    }

    &[data-markers] {
      --marker-bg-color: ${n._dark?ln.purple[950].hex:ln.purple[50].hex};
    }

    &[data-warning] {
      --card-border-color: ${n.button.ghost.caution.enabled.border};
      --marker-bg-color: ${n.button.ghost.caution.hovered.bg};
    }

    &[data-error] {
      --card-border-color: ${n.button.ghost.critical.enabled.border};
      --marker-bg-color: ${n.button.ghost.critical.hovered.bg};
    }

    & [data-list-prefix] {
      position: absolute;
      margin-left: -4.5rem;
      width: 3.75rem;
      text-align: right;
      box-sizing: border-box;
    }

    &[data-list-item='number'] [data-list-prefix] {
      font-variant-numeric: tabular-nums;

      & > span:before {
        content: counter(${f1(t)}) '.';
        content: counter(${f1(t)}, ${a}) '.';
      }
    }

    &[data-list-item='bullet'] [data-list-prefix] {
      & > span {
        position: relative;
        top: -0.1875em;

        &:before {
          content: '${s}';
          font-size: 0.46666em;
        }
      }
    }

    & [data-text] {
      overflow-wrap: anywhere;
      text-transform: none;
      white-space: pre-wrap;
      font-family: ${r.text.family};
      flex: 1;

      *::selection {
        background-color: ${lO(n.focusRing,.3)};
      }
    }
  `}const D6n=R.div($6n),O6n=R(V)`
  position: relative;
  display: flex;
`,M6n=R.div`
  user-select: none;
  white-space: nowrap;
`,P6n=R(V)`
  line-height: 0;
  width: 25px;
  position: relative;
`,R6n=R(W)(({theme:e})=>{const{fonts:t,space:n}=e.sanity,r=t.text.sizes[1],i=t.text.sizes[2],o=r.lineHeight-r.ascenderHeight-r.descenderHeight,a=i.lineHeight-i.ascenderHeight-i.descenderHeight,s=0-(o+n[2]+n[2]-a)/2;return he`
    user-select: none;
    position: absolute;
    right: 0;
    top: ${s}px;
  `}),F6n=R(V)`
  max-width: 250px;
`,L6n=R(W)`
  position: relative;
  padding-left: ${({$level:e})=>e?e*32:0}px;
`,N6n=R.div(({theme:e,$hasChanges:t})=>{const{space:n}=e.sanity;return he`
      position: absolute;
      width: ${n[2]}px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: ${n[1]}px;
      padding-right: ${n[2]}px;
      user-select: none;

      ${!t&&he`
        display: none;
      `}
    `}),gp=R.div`
  display: block;
`,lQ=({children:e,...t})=>c.jsx(B,{"data-testid":"text-style--normal",...t,children:c.jsx(gp,{children:e})}),e9e=({children:e,...t})=>c.jsx(vo,{as:"h1","data-testid":"text-style--h1",size:5,...t,children:c.jsx(gp,{children:e})}),t9e=({children:e,...t})=>c.jsx(vo,{as:"h2","data-testid":"text-style--h2",size:4,...t,children:c.jsx(gp,{children:e})}),n9e=({children:e,...t})=>c.jsx(vo,{as:"h3","data-testid":"text-style--h3",size:3,...t,children:c.jsx(gp,{children:e})}),r9e=({children:e,...t})=>c.jsx(vo,{as:"h4","data-testid":"text-style--h4",size:2,...t,children:c.jsx(gp,{children:e})}),i9e=({children:e,...t})=>c.jsx(vo,{as:"h5","data-testid":"text-style--h5",size:1,...t,children:c.jsx(gp,{children:e})}),o9e=({children:e,...t})=>c.jsx(vo,{as:"h6","data-testid":"text-style--h6",size:0,...t,children:c.jsx(gp,{children:e})}),B6n=R.blockquote`
  position: relative;
  display: block;
  margin: 0;
  padding-left: ${({theme:e})=>e.sanity.space[3]}px;

  &::before {
    content: '';
    position: absolute;
    left: 0;
    top: -4px;
    bottom: -4px;
    width: 3px;
    background: var(--card-border-color);
  }
`,a9e=({children:e,...t})=>c.jsx(B6n,{"data-testid":"text-style--blockquote",...t,children:c.jsx(B,{as:"p",children:e})}),qL={normal:lQ,h1:e9e,h2:t9e,h3:n9e,h4:r9e,h5:i9e,h6:o9e,blockquote:a9e};function V6n(e){const{children:t,floatingBoundary:n,focused:r,isFullscreen:i,onItemClose:o,onItemOpen:a,onPathFocus:s,path:l,readOnly:u,referenceBoundary:d,renderBlock:f,renderAnnotation:h,renderBlockActions:m,renderCustomMarkers:g,renderField:y,renderInlineBlock:x,renderInput:b,renderItem:v,renderPreview:w,schemaType:C,selected:k,spellCheck:S,value:E}=e,{Markers:_}=vf().__internal.components,[T,A]=p.useState(!1),I=FR(l),j=VR(cr(l)),$=Lo(),{onChange:D}=Zc(),O=Xw(l,!0),M=p.useMemo(()=>O.filter(pe=>Pr(pe.path,l)||pe.path.slice(-3)[1]==="children"&&pe.path.length-l.length===2),[l,O]),P=p.useCallback(()=>A(!0),[]),F=p.useCallback(()=>A(!1),[]),{validation:L,hasError:U,hasWarning:H,hasInfo:N}=RR(j==null?void 0:j.node),Y=!!g&&I.length>0,J=U||H||Y||N,ee=p.useCallback(()=>{j&&a(j.node.path)},[a,j]),oe=p.useCallback(()=>{const pe={path:l.slice(-1),offset:0},ve={focus:pe,anchor:pe};Pe.delete($,ve,{mode:"blocks"}),Pe.focus($)},[l,$]),re=p.useMemo(()=>c.jsxs(L6n,{align:"flex-start",$level:E==null?void 0:E.level,children:[E.listItem&&c.jsx(M6n,{contentEditable:!1,children:c.jsx(B,{"data-list-prefix":"",children:c.jsx(gp,{})})}),c.jsx("div",{"data-text":"",style:void 0,children:t})]}),[E.listItem,E.level,t]),se=p.useMemo(()=>i&&!m?{paddingX:5}:i&&m?{paddingLeft:5,paddingRight:2}:m?{paddingLeft:3,paddingRight:2}:{paddingX:3},[i,m]),G=p.useMemo(()=>E.listItem?{paddingY:2}:S6n[E.style||"normal"]||{paddingY:2},[E]),K=!!(j!=null&&j.member.open),q=$.schemaTypes.portableText,X=p.useMemo(()=>{var pe;return{__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:((pe=j==null?void 0:j.elementRef)==null?void 0:pe.current)||null,children:re,focused:r,markers:I,onClose:o,onOpen:ee,onPathFocus:s,onRemove:oe,open:K,parentSchemaType:q,path:(j==null?void 0:j.node.path)||hn,presence:M,readOnly:!!u,renderAnnotation:h,renderBlock:f,renderDefault:s9e,renderField:y,renderInput:b,renderInlineBlock:x,renderItem:v,renderPreview:w,schemaType:C,selected:k,validation:L,value:E}},[n,r,K,I,j==null?void 0:j.elementRef,j==null?void 0:j.node.path,o,ee,s,oe,q,u,d,h,f,y,x,b,v,w,C,k,re,M,L,E]),ie=p.useMemo(()=>J&&c.jsx(F6n,{children:c.jsx(_,{markers:I,renderCustomMarkers:g,validation:L})})||null,[_,I,g,J,L]),te=m&&!u,de=i&&j;return p.useMemo(()=>c.jsx(V,{...G,"data-testid":"text-block","data-text-block":"",ref:j==null?void 0:j.elementRef,style:void 0,children:c.jsx(O6n,{"data-testid":"text-block__wrapper",children:c.jsxs(W,{"data-text-block-inner":"",flex:1,...se,children:[c.jsx(V,{flex:1,children:c.jsx(Et,{content:ie,disabled:!J,placement:"top",portal:"editor",children:c.jsx(D6n,{$level:E.level||1,"data-error":U?"":void 0,"data-list-item":E.listItem,"data-markers":Y?"":void 0,"data-read-only":u,"data-testid":"text-block__text","data-warning":H?"":void 0,spellCheck:S,children:f&&f(X)})})}),te&&c.jsx(P6n,{contentEditable:!1,marginRight:3,children:c.jsx(R6n,{children:r&&c.jsx(QLe,{block:E,onChange:D,renderBlockActions:m})})}),de&&c.jsx(N6n,{$hasChanges:j.member.item.changed,contentEditable:!1,onMouseEnter:P,onMouseLeave:F,children:c.jsx(JLe,{hasFocus:r,isChanged:j.member.item.changed,path:j.member.item.path,withHoverEffect:!1})}),T&&c.jsx(XLe,{})]})})}),[te,de,X,r,P,F,U,Y,H,se,j,D,G,u,f,m,T,S,ie,J,E])}const s9e=e=>c.jsx(c.Fragment,{children:e.children}),z6n=R(le)`
  &[data-fullscreen='true'] {
    height: 100%;
  }

  &[data-fullscreen='false'] {
    min-height: 5em;
    resize: vertical;
    overflow: auto;
    height: 19em;
  }

  &:not([hidden]) {
    display: flex;
  }

  flex-direction: column;
`,U6n=R(le)`
  z-index: 10;
  line-height: 0;
`,H6n=R(le)`
  position: relative;
  overflow: hidden;
  overflow: clip;

  & > [data-portal] {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;

    & > * {
      pointer-events: initial;
    }
  }

  &::selection,
  *::selection {
    background-color: transparent;
  }
`,W6n=R(IR)`
  position: relative;
  overflow: auto;
  height: 100%;
  display: flex;
  flex-direction: column;

  & > * {
    flex: 1;
    min-height: auto;
  }
`,G6n=R(le)`
  height: 100%;
  width: 100%;
  counter-reset: ${rk.map(e=>f1(e)).join(" ")};
  overflow: hidden;
  overflow: clip;

  & > div {
    height: 100%;
  }

  & .pt-editable {
    display: block;
    width: 100%;
    height: 100%;

    ${rk.map(e=>he`
        & > .pt-list-item-number[class~='pt-list-item-level-${e}'] {
          counter-increment: ${f1(e)};
        }
      `)}

    & > .pt-list-item-bullet + .pt-list-item-number,
    & > .pt-list-item-number + .pt-list-item-bullet {
      margin-top: ${({theme:e})=>e.sanity.space[3]}px;
      counter-reset: ${rk.map(e=>f1(e)).join(" ")};
    }

    & > :not(.pt-list-item) + .pt-list-item {
      margin-top: ${({theme:e})=>e.sanity.space[2]}px;
    }

    /* Reset the list count if the element is not a numbered list item */
    & > :not(.pt-list-item-number) {
      counter-set: ${rk.map(e=>f1(e)).join(" ")};
    }

    ${rk.slice(1).map(e=>he`
        & > .pt-list-item-level-${e} + .pt-list-item-level-${e-1} {
          counter-reset: ${f1(e)};
        }
      `)}

    & > .pt-list-item + :not(.pt-list-item) {
      margin-top: ${({theme:e})=>e.sanity.space[3]}px;
    }

    & > :first-child {
      padding-top: ${({$isFullscreen:e,theme:t})=>t.sanity.space[e?5:3]}px;
    }

    padding-bottom: ${({$isFullscreen:e,theme:t})=>t.sanity.space[e?9:5]}px;

    & > .pt-block {
      margin: 0 auto;
      max-width: ${e=>$e(e.theme).container[1]}px;
    }

    /* & > .pt-block {
      & .pt-inline-object {
      }
    } */

    & .pt-drop-indicator {
      pointer-events: none;
      border: 1px solid var(--card-focus-ring-color) !important;
      height: 0px !important;
      border-radius: ${e=>$e(e.theme).radius[2]}px;
      margin-top: -3px;
      left: calc(
        ${({$isFullscreen:e,theme:t})=>Te(e?t.sanity.space[5]:t.sanity.space[3])} - 1px
      );
      right: calc(
        ${({$isFullscreen:e,theme:t})=>Te(e?t.sanity.space[5]:t.sanity.space[3])} - 1px
      );
      width: calc(
        100% -
          ${({$isFullscreen:e,theme:t})=>Te(e?t.sanity.space[5]*2:t.sanity.space[3]*2)} + 2px
      ) !important;
    }
  }
`;function K6n(e){return p.useMemo(()=>(t,n)=>{if(Pe.getSelection(t)){const r=n.startContainer.parentElement;if(!r)return;my(r,{scrollMode:"if-needed",boundary:e,block:"nearest",inline:"nearest"})}},[e])}function Y6n(){const e=Lo();return p.useMemo(()=>{var r;const t=(r=e.schemaTypes.block.options)==null?void 0:r.spellCheck,n=typeof navigator>"u"?!1:/Chrome\/96/.test(navigator.userAgent);return t===void 0&&n===!0?!1:t},[e])}const bye=e=>c.jsx(c.Fragment,{children:e.children}),q6n=e=>{const{block:t,children:n,schemaType:r,selected:i,focused:o,level:a,value:s}=e,{title:l,component:u}=r;return p.useMemo(()=>{const d={block:t,focused:o,level:a,renderDefault:bye,schemaType:r,selected:i,title:l,value:s};return u?c.jsx(u,{...d,children:n}):c.jsx(bye,{...d,children:n})},[u,t,n,o,a,r,i,l,s])},Z6n=e=>{const{block:t,focused:n,children:r,selected:i,schemaType:o}=e,a=p.useMemo(()=>(t.style&&qL[t.style]?qL[t.style]:qL[0])||lQ,[t.style]),s=p.useCallback(l=>c.jsx(a,{children:c.jsx(gp,{"data-testid":`text-style--${t.style}`,children:l.children})}),[a,t.style]);return p.useMemo(()=>{const l=o.component,{title:u,value:d}=o,f={block:t,focused:n,renderDefault:s,schemaType:o,selected:i,title:u,value:d};return l?c.jsx(l,{...f,children:r}):c.jsx(s,{...f,children:r})},[s,t,r,n,o,i])},X6n=R.div`
  border-right: 1px solid var(--card-border-color);
  height: auto;

  &[data-hidden] {
    opacity: 0;
  }
`;function l9e(e){const{hidden:t,...n}=e;return c.jsx(X6n,{"data-ui":"CollapseMenuDivider","data-hidden":t?"":void 0,...n})}const J6n={portal:!0,constrainSize:!0},cQ=p.forwardRef(function(e,t){const{disableRestoreFocusOnClose:n,menuButton:r,menuButtonProps:i,menuOptions:o,onMenuClose:a}=e;return c.jsx(Jt,{__unstable_disableRestoreFocusOnClose:n,id:"menu-button",ref:t,onClose:a,popover:J6n,...i,button:r,menu:c.jsx(Nt,{children:o.map((s,l)=>{const{collapsedProps:u={},expandedProps:d={},tooltipProps:f={},tooltipText:h,dividerBefore:m,fontSize:g,padding:y,text:x,icon:b,selected:v,...w}=s.props;return c.jsxs(p.Fragment,{children:[m&&l!==0&&c.jsx(Tr,{}),c.jsx(Qe,{text:x,icon:b,pressed:v,...w})]},s.key)})})})});function c9e(e){const{onIntersectionChange:t,children:n,options:r,...i}=e,[o,a]=p.useState(null);return p.useEffect(()=>{const s=o==null?void 0:o.closest('[data-ui="Flex"]');if(!s)return;const l=new IntersectionObserver(t,r);return l.observe(s),()=>{l.unobserve(s),l.disconnect()}},[o,t,r]),c.jsxs(W,{...i,children:[n,c.jsx("span",{hidden:!0,ref:a})]})}const xye=3,Q6n=he`
  list-style: none;
  display: flex;
  white-space: nowrap;

  &[data-hidden='true'] {
    opacity: 0;
    visibility: hidden;
  }
`,e8n=R(W)`
  padding: ${xye}px;
  margin: -${xye}px;
  box-sizing: border-box;
`,t8n=R(W)`
  border-radius: inherit;
  position: relative;
`,u9e=R(W)`
  width: max-content;
  &[data-hidden='true'] {
    visibility: hidden;
    position: relative;
    margin-top: -1px;
    height: 1px;
  }
`,n8n=R(c9e)`
  ${Q6n}
`;function r8n(e){return!!e}const d9e=p.forwardRef(function(e,t){const{children:n,collapsed:r,disableRestoreFocusOnClose:i,onMenuClose:o,menuButtonProps:a,...s}=e,l=p.useMemo(()=>p.Children.toArray(n).filter(r8n),[n]),u=p.useMemo(()=>(a==null?void 0:a.button)||c.jsx(Ki,{}),[a]);return r?c.jsx(cQ,{ref:t,disableRestoreFocusOnClose:i,menuButton:u,menuButtonProps:a,menuOptions:l,onMenuClose:o}):c.jsx(i8n,{...s,ref:t,disableRestoreFocusOnClose:i,menuButtonProps:a,menuOptions:l,onMenuClose:o})}),i8n=p.forwardRef(function(e,t){const{collapseText:n=!0,disableRestoreFocusOnClose:r,gap:i,menuOptions:o,menuButtonProps:a,onMenuClose:s,...l}=e,[u,d]=p.useState(null),[f,h]=p.useState({}),[m,g]=p.useState({}),y=p.useMemo(()=>({root:u,threshold:.99,rootMargin:"2px"}),[u]),x=p.useMemo(()=>o.map(T=>T.key),[o]),b=p.useMemo(()=>[...hy(x,Object.keys(f)),...hy(x,Object.keys(m))],[x,f,m]),v=p.useMemo(()=>o.filter(T=>{const A=f[T.key];return A&&!A.intersects}),[f,o]),w=p.useCallback((T,A)=>{h(I=>{const j=A.key;if(j===null)throw new Error("Expected element to have a non-null key");const $={intersects:T.isIntersecting,element:A},D=I[j];return!D||D.intersects!==$.intersects?{...I,[j]:$}:I})},[]),C=p.useCallback((T,A)=>{g(I=>{const j=A.key;if(j===null)throw new Error("Expected child element to have a non-null key");const $=I[j],D={intersects:T.isIntersecting,element:A};return($==null?void 0:$.intersects)===D.intersects?I:{...I,[j]:D}})},[]),k=p.useMemo(()=>o.map(T=>{const{collapsedProps:A}=T.props,I=A,j=n?void 0:T.props.text;return p.cloneElement(T,{...I,text:j})}),[o,n]),S=p.useMemo(()=>o.filter(T=>{var A;return((A=m[T.key])==null?void 0:A.intersects)===!1}),[o,m]),E=v.length>0?k.filter(T=>{var A;return((A=m[T.key])==null?void 0:A.intersects)===!0}):o,_=p.useMemo(()=>(a==null?void 0:a.button)||c.jsx(Ki,{}),[a]);return c.jsxs(e8n,{align:"center","data-ui":"CollapseMenu",overflow:"hidden",sizing:"border",ref:t,...l,children:[c.jsxs(t8n,{direction:"column",flex:1,justify:"center",ref:d,children:[c.jsx(u9e,{gap:i,children:b.length===0&&E.map((T,A)=>{const{dividerBefore:I,tooltipText:j="",tooltipProps:$={}}=T.props,D=!T.key||!(T.key in f)||S.includes(T);return c.jsxs(p.Fragment,{children:[I&&A!==0&&c.jsx(l9e,{hidden:D}),c.jsx(Et,{portal:!0,disabled:!j,content:j,...$,children:c.jsx(W,{children:p.cloneElement(T,{disabled:T.props.disabled||D,"aria-hidden":D})})})]},T.key)})}),c.jsx(wye,{gap:i,elements:o,intersectionOptions:y,onIntersectionChange:w}),c.jsx(wye,{gap:i,elements:k,intersectionOptions:y,onIntersectionChange:C})]}),S.length>0&&c.jsx(W,{marginLeft:i,children:c.jsx(cQ,{disableRestoreFocusOnClose:r,menuButton:_,menuButtonProps:a,menuOptions:S,onMenuClose:s})})]})}),wye=p.memo(function(e){const{elements:t,gap:n,intersectionOptions:r,onIntersectionChange:i}=e;return c.jsx(u9e,{"data-hidden":!0,"aria-hidden":"true",gap:n,overflow:"hidden",children:t.map((o,a)=>{const{dividerBefore:s}=o.props;return c.jsxs(p.Fragment,{children:[s&&a!==0&&c.jsx(l9e,{hidden:!0}),c.jsx(n8n,{options:r,onIntersectionChange:l=>i(l[0],o),children:c.jsx(W,{children:p.cloneElement(o,{disabled:!0,"aria-hidden":!0})})})]},o.key)})})}),f9e=p.forwardRef(function(e,t){const{collapsedProps:n={},expandedProps:r={},tooltipProps:i={},tooltipText:o,dividerBefore:a,...s}=e;return c.jsx(ge,{"data-ui":"CollapseMenuButton",...s,ref:t})}),o8n=R.div`
  width: 1em;
  height: 1em;
  border-radius: inherit;
  background-origin: content-box;
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  transform: scale(0.7);
`;function a8n(e){const{icon:t,active:n}=e,r=p.useMemo(()=>({backgroundImage:`url(${t})`,filter:n?"invert(100%)":"invert(0%)"}),[n,t]);return c.jsx(o8n,{style:r})}function s8n(e,t,n,r){return e.schemaTypes.decorators.map(i=>{const o=Object.keys(n.marks||{}).find(s=>{var l;return((l=n.marks)==null?void 0:l[s])===i.value});let a=[];return o&&(a=[o]),{type:"format",disabled:t,icon:i==null?void 0:i.icon,key:i.value,handle:()=>{Pe.toggleMark(e,i.value),Pe.focus(e)},hotkeys:a,title:i.i18nTitleKey&&r?r(i.i18nTitleKey):i.title}})}function l8n(e,t,n){return e.schemaTypes.lists.map(r=>({type:"listStyle",key:r.value,disabled:t,icon:r==null?void 0:r.icon,handle:()=>{Pe.toggleList(e,r.value)},title:r.i18nTitleKey&&n?n(r.i18nTitleKey):r.title}))}function c8n(e){return yr(e,"icon")||yr(e,"type.icon")||yr(e,"type.to.icon")||yr(e,"type.to[0].icon")}function u8n(e,t,n,r){const i=e.schemaTypes,o=Pe.focusChild(e),a=o&&o.text;return i.annotations.map(s=>({type:"annotation",disabled:!a||t,icon:c8n(s),key:s.name,handle:l=>{l?(Pe.removeAnnotation(e,s),Pe.focus(e)):n(s)},title:s.i18nTitleKey&&r?r(s.i18nTitleKey):s.title||hp(s.name)}))}function d8n(e,t,n,r,i){return[{name:"format",actions:s8n(e,t,r,i)},{name:"list",actions:l8n(e,t,i)},{name:"annotation",actions:u8n(e,t,n,i)}]}function f8n(e){return e.styles.map(t=>({key:`style-${t.value}`,style:t.value,styleComponent:t&&t.component,title:t.title,i18nTitleKey:t.i18nTitleKey}))}function Cye(e,t){const n=yr(e,"to[0].icon");return e.icon||e.type&&e.type.icon||n||t}function h8n(e,t,n,r){const i=e.blockObjects.map((a,s)=>({handle:()=>n(a),icon:Cye(a,f_e),inline:!1,key:`block-${s}`,type:a})),o=e.inlineObjects.map((a,s)=>({handle:()=>r(a),icon:Cye(a,__e),inline:!0,key:`inline-${s}`,type:a}));return i.concat(o).filter(a=>{var s;return!((s=a.type)!=null&&s.hidden)})}const p8n={link:Rl},m8n={strong:h_e,em:T_e,"strike-through":B_e,underline:z_e,code:g_e},g8n={number:M_e,bullet:pS};function y8n(e,t){return e.icon?typeof e.icon=="string"?c.jsx(a8n,{active:t,icon:e.icon}):e.icon:e.type==="annotation"?p8n[e.key]||Tu:e.type==="listStyle"?g8n[e.key]||Tu:m8n[e.key]||Tu}function n4(){const e=Lo(),t=s0();return p.useMemo(()=>t?Pe.focusBlock(e):void 0,[e,t])}function v8n({hotkeys:e,onMemberOpen:t,resolveInitialValue:n,disabled:r}){const i=Lo(),{t:o}=Q(),a=p.useCallback(async s=>{const l=await n(s),u=Pe.addAnnotation(i,s,l);u&&u.markDefPath&&t(u.markDefPath)},[i,t,n]);return p.useMemo(()=>i?d8n(i,r,a,e,o):[],[r,i,a,e,o])}function b8n({actions:e}){const t=Lo(),n=s0();return ya(p.useMemo(()=>n?e.filter(r=>r.type==="annotation"?Pe.isAnnotationActive(t,r.key):r.type==="listStyle"?Pe.hasListStyle(t,r.key):Pe.isMarkActive(t,r.key)).map(r=>r.key):[],[e,t,n]))}function x8n({items:e}){const t=Lo(),n=n4(),r=s0();return ya(p.useMemo(()=>n&&r?e.filter(i=>Pe.hasBlockStyle(t,i.style)).map(i=>i.style):[],[t,n,e,r]))}const w8n=p.memo(d9e),C8n={constrainSize:!0,portal:!0},k8n=p.memo(function(e){const{disabled:t,groups:n,isFullscreen:r,collapsed:i}=e,o=n4(),a=Lo(),s=s0(),{t:l}=Q(),u=s&&Cr(s.anchor.path[0])&&Cr(s.focus.path[0])?s.anchor.path[0]._key!==(s==null?void 0:s.focus.path[0]._key):(s==null?void 0:s.anchor.path[0])!==(s==null?void 0:s.focus.path[0]),d=(o==null?void 0:o._type)!==a.schemaTypes.block.name,f=!d&&Array.isArray(o.children)&&o.children.length===1&&(o==null?void 0:o.children[0].text)==="",h=t||d,m=p.useMemo(()=>n.reduce((w,C)=>w.concat(C.actions.map((k,S)=>S===0?{...k,firstInGroup:!0}:k)),[]),[n]),g=b8n({actions:m}),y=p.useCallback(()=>{Pe.focus(a)},[a]),x=r?"bottom":"top",b=p.useMemo(()=>m.map(w=>{const C=w.type==="annotation"&&(f||u),k=f?l("user-menu.action.portable-text.annotation-disabled_empty-block",{name:w.title||w.key}):l("user-menu.action.portable-text.annotation-disabled_multiple-blocks",{name:w.title||w.key}),S=g.includes(w.key);return c.jsx(f9e,{"aria-label":l("toolbar.portable-text.action-button-aria-label",{action:w.title||w.key}),"data-testid":`action-button-${w.key}`,disabled:h||C,mode:"bleed",dividerBefore:w.firstInGroup,icon:y8n(w,S),onClick:()=>w.handle(S),selected:S,text:w.title||w.key,tooltipText:C?k:w.title||w.key,tooltipProps:{disabled:h,placement:x,portal:"default"}},w.key)}),[m,g,h,f,u,l,x]),v=p.useMemo(()=>({button:c.jsx(Ki,{"data-testid":"action-menu-button",disabled:h,tooltipProps:{placement:x}}),popover:C8n}),[h,x]);return c.jsx(w8n,{"data-testid":"action-menu-auto-collapse-menu",collapsed:i,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:v,onMenuClose:y,children:b})}),S8n=p.memo(Jt),E8n=R(Uy)`
  // Change the border color variable used by BlockQuote
  // to make the border visible when the MenuItem is selected
  &[data-selected] {
    [data-option='blockquote'] {
      --card-border-color: var(--card-muted-fg-color);
    }
  }
`,_8n={h1:e=>c.jsx(e9e,{children:e}),h2:e=>c.jsx(t9e,{children:e}),h3:e=>c.jsx(n9e,{children:e}),h4:e=>c.jsx(r9e,{children:e}),h5:e=>c.jsx(i9e,{children:e}),h6:e=>c.jsx(o9e,{children:e}),normal:e=>c.jsx(lQ,{children:e}),blockquote:e=>c.jsx(a9e,{"data-option":"blockquote",children:e})},T8n=e=>e.preventDefault(),ik={key:"style-none",style:"",title:"No style",i18nTitleKey:"inputs.portable-text.style.none"},A8n=p.memo(function(e){const{disabled:t,items:n,boundaryElement:r}=e,i=Lo(),o=n4(),{t:a}=Q(),s={constrainSize:!0,placement:"bottom-start",portal:"default",referenceBoundary:r},l=t||(o?i.schemaTypes.block.name!==o._type:!1),u=x8n({items:n}),{activeItems:d,items:f}=p.useMemo(()=>{const b=n.filter(w=>u.includes(w.style));let v=n;return b.length===0&&v.length>1&&(v=v.concat([ik]),b.push(ik)),{activeItems:b,items:v}},[u,n]),h=p.useMemo(()=>d.length>1?a("inputs.portable-text.style.multiple"):d.length!==1?ik.i18nTitleKey?a(ik.i18nTitleKey):ik.title:d[0].i18nTitleKey?a(d[0].i18nTitleKey):d[0].title,[d,a]),m=p.useCallback(b=>{o&&b.style!==o.style&&(Pe.toggleBlockStyle(i,b.style),Pe.focus(i))},[i,o]),g=p.useCallback(b=>{const{style:v,styleComponent:w}=b,C=_8n[v],k=b.i18nTitleKey?a(b.i18nTitleKey):(b==null?void 0:b.title)||b.style,S=typeof w=="function"?w:void 0;return C&&!S?C(k):S?c.jsx(S,{children:k}):c.jsx(B,{children:k})},[a]),y=p.useMemo(()=>c.jsx(ge,{disabled:l,iconRight:ea,justify:"space-between",mode:"bleed",onClick:T8n,text:h,width:"fill"}),[l,h]),x=p.useMemo(()=>c.jsx(Nt,{disabled:l,children:f.map(b=>c.jsx(E8n,{pressed:d.includes(b),onClick:l?void 0:()=>m(b),children:g(b)},b.key))}),[l,d,m,f,g]);return c.jsx(S8n,{popover:s,id:"block-style-select",button:y,menu:x})}),j8n=p.memo(d9e),I8n={constrainSize:!0,portal:!0},$8n=p.memo(function(e){const{disabled:t,items:n,isFullscreen:r,collapsed:i}=e,{t:o}=Q(),a=n4(),s=Lo(),l=a&&a._type!==s.schemaTypes.block.name,u=p.useCallback(()=>{Pe.focus(s)},[s]),d=r?"bottom":"top",f=p.useMemo(()=>n.map(m=>{const g=m.type.title||w3e(m.type.name);return c.jsx(f9e,{"aria-label":o(m.inline?"inputs.portable-text.action.insert-inline-object-aria-label":"inputs.portable-text.action.insert-block-aria-label",{typeName:g}),mode:"bleed",disabled:t||l&&m.inline===!0,icon:m.icon,onClick:m.handle,text:g,tooltipText:o(m.inline?"inputs.portable-text.action.insert-inline-object":"inputs.portable-text.action.insert-block",{typeName:g}),tooltipProps:{disabled:t,placement:d,portal:"default"}},m.key)}),[t,l,n,o,d]),h=p.useMemo(()=>({button:c.jsx(Ki,{"data-testid":"insert-menu-button",disabled:t,tooltipProps:{placement:d}}),popover:I8n}),[t,d]);return c.jsx(j8n,{"data-testid":"insert-menu-auto-collapse-menu",collapsed:i,collapseText:!1,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:h,onMenuClose:u,children:f})}),D8n=R(W)`
  width: 100%;
`,O8n=R(V)`
  width: 8em;
`,M8n=R(W)`
  border-right: 1px solid var(--card-border-color);
`,P8n=R(V)`
  ${({$withInsertMenu:e})=>e&&he`
      max-width: max-content;
      border-right: 1px solid var(--card-border-color);
    `}
`,R8n=R(V)`
  border-left: 1px solid var(--card-border-color);
`,F8n=300,L8n=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),N8n=p.memo(function({actionGroups:e,blockStyles:t,collapsible:n,disabled:r,insertMenuItems:i,isFullscreen:o,onToggleFullscreen:a}){const{t:s}=Q(),l=e.reduce((x,b)=>x+b.actions.length,0)>0,u=i.length>0,[d,f]=p.useState(null),h=uy(d),m=n&&h?(h==null?void 0:h.width)<400:!1,g=t.length>1;pVe({rootElement:d});const y=p.useCallback(x=>{x.preventDefault()},[]);return c.jsxs(D8n,{align:"center",ref:f,onMouseDown:y,children:[g&&c.jsx(M8n,{flex:m?1:void 0,children:c.jsx(O8n,{padding:o?2:1,"data-testid":"block-style-select",children:c.jsx(A8n,{disabled:r,items:t,boundaryElement:d})})}),c.jsxs(W,{flex:1,children:[l&&c.jsx(P8n,{flex:m?void 0:1,padding:o?2:1,$withInsertMenu:u,children:c.jsx(k8n,{disabled:r,collapsed:m,groups:e,isFullscreen:o})}),u&&c.jsx(V,{flex:m?void 0:1,padding:o?2:1,children:c.jsx($8n,{disabled:r,collapsed:m,items:i,isFullscreen:o})})]}),c.jsx(R8n,{padding:o?2:1,children:c.jsx(ge,{"aria-label":s("inputs.portable-text.action.expand-editor"),icon:o?y_e:k_e,mode:"bleed",onClick:a,tooltipProps:{content:s(o?"inputs.portable-text.action.collapse-editor":"inputs.portable-text.action.expand-editor"),hotkeys:[`${L8n?"Cmd":"Ctrl"}`,"Enter"],placement:o?"bottom":"top",portal:"default"}})})]})});function B8n(e){const{collapsible:t,hotkeys:n,isFullscreen:r,readOnly:i,onMemberOpen:o,onToggleFullscreen:a}=e,s=Lo(),l=s0(),u=wQ(),d=i||!l,{push:f}=Nr(),h=p.useCallback(v=>{let w=!1;const C=setTimeout(()=>{w=!0,f({id:"resolving-initial-value",status:"info",title:"Resolving initial value"})},F8n);return u(v,{}).then(k=>(w&&f({id:"resolving-initial-value",status:"info",duration:500,title:"Initial value resolved"}),k)).catch(k=>{f({title:"Could not resolve initial value",id:"resolving-initial-value",description:`Unable to resolve initial value for type: ${v.name}: ${k.message}.`,status:"error"})}).finally(()=>clearTimeout(C))},[f,u]),m=p.useCallback(async v=>{const w=await h(v),C=Pe.insertBlock(s,v,w);C&&o(C)},[s,o,h]),g=p.useCallback(async v=>{const w=await h(v),C=Pe.insertChild(s,v,w);C&&o(C)},[s,o,h]),y=v8n({hotkeys:n,onMemberOpen:o,resolveInitialValue:h,disabled:!0}),x=p.useMemo(()=>f8n(s.schemaTypes),[s]),b=p.useMemo(()=>h8n(s.schemaTypes,d,m,g),[d,s,m,g]);return c.jsx(N8n,{actionGroups:y,blockStyles:x,collapsible:t,disabled:d,insertMenuItems:b,isFullscreen:r,onToggleFullscreen:a})}const V8n={outline:"none"},z8n="root",U8n=R.span(e=>{const{color:t}=$e(e.theme);return he`
    color: ${t.input.default.enabled.placeholder};
  `}),H8n=e=>c.jsx(_6n,{...e}),W8n=e=>c.jsx(Z6n,{...e}),G8n=e=>c.jsx(q6n,{...e});function K8n(e){const{elementRef:t,hideToolbar:n,hotkeys:r,initialSelection:i,isActive:o,isFullscreen:a,onCopy:s,onItemOpen:l,onPaste:u,onToggleFullscreen:d,path:f,readOnly:h,rangeDecorations:m,renderAnnotation:g,renderBlock:y,renderChild:x,renderEditable:b,scrollElement:v,setPortalElement:w,setScrollElement:C,ariaDescribedBy:k}=e,{id:S}=vf(),{t:E}=Q(),{isTopLayer:_}=ns(),{element:T}=zy();Ss(p.useCallback(O=>{!_||!a||O.key==="Escape"&&d()},[d,a,_]));const A=p.useCallback(()=>c.jsx(U8n,{"data-testid":"pt-input-placeholder",children:E("inputs.portable-text.empty-placeholder")}),[E]),I=Y6n(),j=K6n(v),$=p.useMemo(()=>{const O={"aria-describedby":k,hotkeys:r,onCopy:s,onPaste:u,rangeDecorations:m,ref:t,renderAnnotation:g,renderBlock:y,renderChild:x,renderDecorator:H8n,renderListItem:G8n,renderPlaceholder:A,renderStyle:W8n,scrollSelectionIntoView:j,selection:i,spellCheck:I,style:V8n},M=P=>c.jsx(kZ,{...O,...Po(P,["renderDefault"])});return b?b({...O,renderDefault:M}):M(O)},[k,t,r,i,s,u,m,g,y,x,b,A,j,I]),D=p.useCallback(O=>{l(f.concat(O))},[l,f]);return c.jsxs(z6n,{"data-fullscreen":a,"data-testid":"pt-editor",children:[o&&!n&&c.jsx(Sa,{children:c.jsx(U6n,{"data-testid":"pt-editor__toolbar-card",shadow:1,children:c.jsx(B8n,{collapsible:S===z8n,hotkeys:r,isFullscreen:a,onMemberOpen:D,onToggleFullscreen:d,readOnly:h})})}),c.jsxs(H6n,{flex:1,tone:h?"transparent":"default",children:[c.jsx(W6n,{ref:C,children:c.jsx("div",{children:c.jsx(G6n,{$isFullscreen:a,tone:h?"transparent":"default",children:c.jsx($h,{element:a?v:T,children:$})})})}),c.jsx("div",{"data-portal":"",ref:w})]})]})}function Y8n(e){const t=Lo(),[n]=p.useState(()=>e);return n!==e&&console.warn("Make sure that hotkeys are a stable object across renders, or there will be issues with key handling in the Portable Text Editor."),p.useMemo(()=>{const r={marks:{}};return t.schemaTypes.decorators.forEach(i=>{switch(i.value){case"strong":r.marks["mod+b"]=i.value;break;case"em":r.marks["mod+i"]=i.value;break;case"underline":r.marks["mod+u"]=i.value;break;case"code":r.marks["mod+'"]=i.value;break}}),{marks:{...r.marks,...(n||{}).marks},custom:n.custom}},[t,n])}function q8n(e){const{focusPath:t,boundaryElement:n,onItemClose:r}=e,i=n3n(),o=Lo(),a=s0();p.useLayoutEffect(()=>{var d,f,h,m,g;if(t.length===0||a!=null&&a.focus.path&&Pr(a.focus.path,t.slice(0,a.focus.path.length)))return;const s=i.find(y=>y.member.item.focused),l=i.find(y=>y.member.open),u=s||l;if(u&&((d=u.elementRef)!=null&&d.current)){n&&(my(n,{scrollMode:"if-needed",block:"start",inline:"start"}),my(u.elementRef.current,{scrollMode:"if-needed",boundary:n,block:"nearest",inline:"start"}));const y=u.kind==="textBlock",x=t.length===1;if(y||x){const b=y&&Pu(t[2])?t[2]._key:void 0,v=b&&Array.isArray((f=u.node.value)==null?void 0:f.children)?(h=u.node.value)==null?void 0:h.children.find(S=>S._key===b):void 0,w=v&&v._type==="span"&&t.length===4&&t[1]==="children"&&t[3]==="text"||!1,C=y&&(t.length===3&&t[1]==="children"||w);let k=[];C?k=t.slice(0,3):y&&x&&Array.isArray((m=u.node.value)==null?void 0:m.children)?k=[t[0],"children",{_key:(g=u.node.value)==null?void 0:g.children[0]._key}]:x&&(k=[{_key:u.key}]),k.length&&(Pe.select(o,{anchor:{path:k,offset:0},focus:{path:k,offset:0}}),y&&Pe.focus(o))}}},[n,o,t,r,i,a==null?void 0:a.focus.path])}const Z8n=R(le)(Q8n),X8n=R.span`
  display: block;
  max-width: calc(5em + 80px);
  position: relative;
`,J8n=R(V)`
  max-width: 250px;
`;function Q8n({theme:e}){var r,i,o;const{color:t,radius:n}=e.sanity;return he`
    line-height: 0;
    border-radius: ${n[2]}px;
    padding: 2px;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    height: calc(1em - 1px);
    margin-top: 0.0625em;
    cursor: default;

    &:not([hidden]) {
      display: inline-flex;
      align-items: center;
      vertical-align: top;
    }

    &[data-ready-only] {
      cursor: default;
    }

    &[data-focused] {
      box-shadow: inset 0 0 0 1px ${(r=t.selectable)==null?void 0:r.primary.selected.border};
      color: ${(i=t.selectable)==null?void 0:i.primary.pressed.fg};
    }

    &[data-selected] {
      background-color: ${(o=t.selectable)==null?void 0:o.primary.pressed.bg};
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: ${t.input.default.hovered.border};
        }
      }
    }

    &[data-markers] {
      --card-bg-color: ${t.dark?ln.purple[950].hex:ln.purple[50].hex};
    }

    &[data-warning] {
      --card-bg-color: ${t.muted.caution.hovered.bg};

      @media (hover: hover) {
        &:hover {
          --card-border-color: ${t.muted.caution.hovered.border};
        }
      }
    }

    &[data-invalid] {
      --card-bg-color: ${t.input.invalid.enabled.bg};
      --card-border-color: ${t.input.invalid.enabled.border};

      @media (hover: hover) {
        &:hover {
          --card-border-color: ${t.input.invalid.hovered.border};
        }
      }
    }
  `}const eFn=["top","bottom"];function tFn(e){const{floatingBoundary:t,onClosePopover:n,onEdit:r,onDelete:i,referenceBoundary:o,referenceElement:a,title:s,open:l}=e,{sanity:u}=tw(),{t:d}=Q(),f=p.useRef(null),h=p.useRef(null),m=u.color.dark?"light":"dark";Ss(p.useCallback(x=>{x.key==="Escape"&&(x.preventDefault(),x.stopPropagation(),n())},[n]));const g=p.useCallback(x=>{var b;if(!((b=h.current)!=null&&b.disabled)){x.preventDefault(),x.stopPropagation();try{i(x)}catch(v){console.error(v)}finally{h.current&&(h.current.disabled=!0)}}},[i]),y=p.useMemo(()=>c.jsx(V,{padding:1,children:c.jsxs(Wn,{space:1,children:[c.jsx(V,{padding:2,children:c.jsx(B,{weight:"medium",size:1,children:s})}),c.jsx(ge,{"aria-label":d("inputs.portable-text.inline-object.edit-aria-label"),icon:Oh,mode:"bleed",onClick:r,ref:f,tooltipProps:{content:d("inputs.portable-text.inline-object.edit")}}),c.jsx(ge,{"aria-label":d("inputs.portable-text.inline-object.remove-aria-label"),ref:h,icon:$i,mode:"bleed",onClick:g,tone:"critical",tooltipProps:{content:d("inputs.portable-text.inline-object.remove")}})]})}),[g,r,s,d]);return c.jsx(Fn,{constrainSize:!0,content:y,fallbackPlacements:eFn,floatingBoundary:t,open:l,placement:"top",portal:!0,referenceBoundary:o,referenceElement:a,scheme:m})}const nFn=e=>{var se;const{floatingBoundary:t,focused:n,onItemClose:r,onItemOpen:i,onPathFocus:o,path:a,readOnly:s,referenceBoundary:l,relativePath:u,renderAnnotation:d,renderBlock:f,renderCustomMarkers:h,renderField:m,renderItem:g,renderInlineBlock:y,renderInput:x,renderPreview:b,schemaType:v,selected:w,value:C}=e,{Markers:k}=vf().__internal.components,S=Lo(),E=FR(a),_=VR(cr(a)),{validation:T,hasError:A,hasInfo:I,hasWarning:j}=RR(_==null?void 0:_.node),$=S.schemaTypes.block,D=E.length>0,O=p.useMemo(()=>({anchor:{path:u,offset:0},focus:{path:u,offset:0}}),[u]),M=p.useCallback(()=>{Pe.delete(S,O,{mode:"children"}),Pe.focus(S)},[O,S]),P=p.useCallback(()=>{_&&(Pe.blur(S),i(_.node.path))},[S,i,_]),F=p.useCallback(()=>{r(),Pe.select(S,O),Pe.focus(S)},[r,S,O]),L=!!(_!=null&&_.member.open),U=_==null?void 0:_.input,H=(_==null?void 0:_.node.path)||hn,N=(se=_==null?void 0:_.elementRef)==null?void 0:se.current,Y=Xw(a,!0),J=p.useMemo(()=>Y.filter(G=>Pr(G.path,a)),[a,Y]),ee=p.useMemo(()=>({__unstable_floatingBoundary:t,__unstable_referenceBoundary:l,__unstable_referenceElement:N,children:U,focused:n,onClose:F,onOpen:P,onPathFocus:o,onRemove:M,open:L,markers:E,member:_==null?void 0:_.member,parentSchemaType:$,path:H,presence:J,readOnly:!!s,renderAnnotation:d,renderBlock:f,renderDefault:h9e,renderField:m,renderInlineBlock:y,renderInput:x,renderItem:g,renderPreview:b,schemaType:v,selected:w,value:C,validation:T}),[t,n,U,L,E,_==null?void 0:_.member,H,F,P,o,M,$,s,l,N,d,f,m,y,x,g,b,J,v,w,T,C]),oe=A||j||I||D,re=p.useMemo(()=>oe&&c.jsx(J8n,{children:c.jsx(k,{markers:E,validation:T,renderCustomMarkers:h})})||null,[k,E,h,oe,T]);return p.useMemo(()=>c.jsx("span",{ref:_==null?void 0:_.elementRef,contentEditable:!1,children:c.jsx(Et,{placement:"bottom",portal:"editor",disabled:L?!0:!oe,content:re,children:y&&c.jsx("span",{style:{position:"relative"},children:y(ee)})})}),[ee,_==null?void 0:_.elementRef,y,re,oe,L])},h9e=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:i,focused:o,markers:a,onClose:s,onOpen:l,onRemove:u,open:d,readOnly:f,renderPreview:h,schemaType:m,selected:g,validation:y,value:x}=e,{t:b}=Q(),v=a.length>0,[w,C]=p.useState(!1),k=(m==null?void 0:m.title)||m.name,S=y.filter(I=>I.level==="error").length>0,E=y.filter(I=>I.level==="warning").length>0,_=p.useCallback(()=>{C(!1),l()},[l]);p.useEffect(()=>{C(d?!1:!!o)},[o,d]);const T=p.useMemo(()=>{if(S)return"critical";if(E)return"caution";if(g||o)return"primary"},[o,S,E,g]),A=p.useCallback(()=>{C(!1)},[]);return c.jsxs(c.Fragment,{children:[c.jsx(Z8n,{"aria-label":b("inputs.portable-text.inline-block.aria-label"),"data-focused":o||void 0,"data-invalid":S||void 0,"data-markers":v||void 0,"data-read-only":f||void 0,"data-selected":g||void 0,"data-warning":E||void 0,forwardedAs:"span",onClick:f?_:void 0,onDoubleClick:_,tone:T,children:c.jsx(X8n,{children:h({layout:"inline",schemaType:m,skipVisibilityCheck:!0,value:x,fallbackTitle:"Click to edit"})})}),r&&c.jsx(tFn,{floatingBoundary:t,onClosePopover:A,onDelete:u,onEdit:_,open:w,referenceBoundary:n,referenceElement:r,title:k}),d&&c.jsx(WJ,{defaultType:"popover",onClose:s,autoFocus:o,floatingBoundary:t,referenceBoundary:n,referenceElement:r,schemaType:m,children:i})]})};function rFn(e){const{changed:t,elementRef:n,focused:r,focusPath:i=hn,elementProps:o,hasFocusWithin:a,hideToolbar:s,hotkeys:l,isActive:u,isFullscreen:d,onActivate:f,onCopy:h,onItemClose:m,onItemOpen:g,onItemRemove:y,onPaste:x,onPathFocus:b,onToggleFullscreen:v,onUpload:w,path:C,rangeDecorations:k,readOnly:S,renderAnnotation:E,renderBlock:_,renderBlockActions:T,renderCustomMarkers:A,renderEditable:I,renderField:j,renderInlineBlock:$,renderInput:D,renderItem:O,renderPreview:M,resolveUploader:P,value:F}=e,L=Lo(),U=zy().element,[H,N]=p.useState(null),[Y,J]=p.useState(null),ee=p.useCallback(()=>{v()},[v]),oe=p.useMemo(()=>({...l,custom:{"mod+enter":v,...(l==null?void 0:l.custom)||{}}}),[l,v]),re=Y8n(oe),se=F&&T?T:void 0,G=F&&A?A:void 0,[K,q]=p.useState(null),X=p.useCallback(ye=>{const{children:ke,focused:be,path:Ee,selected:ce,schemaType:_e,value:Ie}=ye;return c.jsx(V6n,{floatingBoundary:U,focused:be,isFullscreen:d,onItemClose:m,onItemOpen:g,onItemRemove:y,onPathFocus:b,path:C.concat(Ee),readOnly:S,referenceBoundary:Y,renderAnnotation:E,renderField:j,renderInlineBlock:$,renderInput:D,renderItem:O,renderBlockActions:se,renderCustomMarkers:G,renderPreview:M,renderBlock:_,schemaType:_e,selected:ce,value:Ie,children:ke})},[se,G,U,d,m,g,y,b,C,S,E,_,j,$,D,O,M,Y]),ie=p.useCallback(ye=>{const{focused:ke,path:be,selected:Ee,schemaType:ce,value:_e}=ye;return c.jsx(ILn,{floatingBoundary:U,focused:ke,isFullscreen:d,onItemClose:m,onItemOpen:g,onItemRemove:y,onPathFocus:b,path:C.concat(be),readOnly:S,referenceBoundary:Y,relativePath:be,renderAnnotation:E,renderBlock:_,renderBlockActions:se,renderCustomMarkers:G,renderField:j,renderInlineBlock:$,renderInput:D,renderItem:O,renderPreview:M,schemaType:ce,selected:Ee,value:_e})},[U,Y,d,m,g,y,b,C,S,E,_,se,G,j,$,D,O,M]),te=p.useCallback(ye=>{const{value:ke}=ye;return ke._type===L.schemaTypes.block.name?X(ye):ie(ye)},[L.schemaTypes.block.name,ie,X]),de=p.useCallback(ye=>{const{children:ke,focused:be,path:Ee,selected:ce,schemaType:_e,value:Ie}=ye;return Ie._type===L.schemaTypes.span.name?ke:c.jsx(nFn,{floatingBoundary:U,focused:be,onItemClose:m,onItemOpen:g,onPathFocus:b,path:C.concat(Ee),readOnly:S,referenceBoundary:Y,relativePath:Ee,renderAnnotation:E,renderBlock:_,renderCustomMarkers:A,renderField:j,renderInlineBlock:$,renderInput:D,renderItem:O,renderPreview:M,schemaType:_e,selected:ce,value:Ie})},[L.schemaTypes.span.name,U,m,g,b,C,S,Y,E,_,A,j,$,D,O,M]),pe=p.useCallback(ye=>{const{children:ke,focused:be,path:Ee,selected:ce,schemaType:_e,value:Ie}=ye;return c.jsx(y3n,{editorNodeFocused:be,floatingBoundary:U,focused:!!r,onItemClose:m,onItemOpen:g,onPathFocus:b,path:C.concat(Ee),readOnly:S,referenceBoundary:Y,renderAnnotation:E,renderBlock:_,renderCustomMarkers:A,renderField:j,renderInlineBlock:$,renderInput:D,renderItem:O,renderPreview:M,schemaType:_e,selected:ce,value:Ie,children:ke})},[U,Y,r,m,g,b,C,S,E,_,A,j,$,D,O,M]),ve=o["aria-describedby"],[Ce]=p.useState(()=>{if(a)return{anchor:{path:i,offset:0},focus:{path:i,offset:0}}}),xe=p.useMemo(()=>c.jsx(YR,{types:L.schemaTypes.portableText.of,resolveUploader:P,onUpload:w,tabIndex:-1,children:c.jsx(K8n,{ariaDescribedBy:ve,elementRef:n,initialSelection:Ce,hideToolbar:s,hotkeys:re,isActive:u,isFullscreen:d,onItemOpen:g,onCopy:h,onPaste:x,onToggleFullscreen:ee,path:C,rangeDecorations:k,readOnly:S,renderAnnotation:pe,renderBlock:te,renderChild:de,renderEditable:I,setPortalElement:q,scrollElement:Y,setScrollElement:J})}),[ve,L.schemaTypes.portableText.of,re,pe,te,de,n,ee,s,Ce,u,d,h,g,x,C,w,P,k,S,I,Y]),Ae=ap(),Re=p.useMemo(()=>({collapsed:H,default:Ae.element,editor:K,expanded:Ae.element}),[Ae.element,K,H]);q8n({focusPath:i,boundaryElement:Y,onItemClose:m});const we=r||a;return c.jsx(QR,{legacyEditing:!0,children:c.jsx(iw,{__unstable_elements:Re,element:Ae.element,children:c.jsx(x6n,{onActivate:f,isOverlayActive:!u,children:c.jsx(ja,{disabled:d,hasFocus:!!r,isChanged:t,path:C,children:c.jsxs(w6n,{"data-focused":we?"":void 0,"data-read-only":S?"":void 0,children:[c.jsx(V,{"data-wrapper":"",ref:N,children:c.jsx(hg,{__unstable_name:d?"expanded":"collapsed",children:d?c.jsx(C6n,{children:xe}):xe})}),c.jsx("div",{"data-border":""})]})})})})})}function iFn(e){return c.jsx(rwe.Provider,{value:e.markers,children:e.children})}function oFn(e){return c.jsx(PH.Provider,{value:e.memberItems,children:e.children})}function aFn(e){const{onChange:t,onIgnore:n,resolution:r,readOnly:i}=e,o=$s(),{t:a}=Q(),s=p.useCallback(()=>{r&&(t({type:"mutation",patches:r.patches}),o.log(g6n,{PTEInvalidValueId:r.i18n.description,PTEInvalidValueDescription:r.description}))},[t,r,o]),l=p.useCallback(()=>{o.log(m6n),n()},[n,o]);return r?c.jsx(ed,{title:c.jsx(c.Fragment,{children:a("inputs.portable-text.invalid-value.title")}),suffix:c.jsxs(ae,{padding:2,children:[r.action&&c.jsxs(Xn,{columns:[1,2],gap:1,children:[c.jsx(zt,{mode:"ghost",onClick:l,text:a("inputs.portable-text.invalid-value.ignore-button.text")}),!i&&c.jsx(zt,{onClick:s,text:c.jsx(wt,{t:a,i18nKey:r.i18n.action,values:r.i18n.values}),tone:"caution"})]}),c.jsx(V,{padding:3,children:r.action&&c.jsx(B,{as:"p",muted:!0,size:1,children:a("inputs.portable-text.invalid-value.action-disclaimer")})})]}),children:c.jsxs(ae,{space:3,children:[c.jsx(B,{as:"p",muted:!0,size:1,children:c.jsx(wt,{t:a,i18nKey:r.i18n.description,values:r.i18n.values})}),c.jsx(le,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:c.jsx(Vi,{language:"json",children:JSON.stringify(r.item,null,2)})})]})}):null}const Yp=6,sFn={animate:{opacity:1,scaleX:1,scaleY:1},exit:{opacity:0,scaleX:0,scaleY:.5},initial:{opacity:0,scaleX:0,scaleY:.5}},lFn={duration:.3,ease:"easeInOut",type:"spring",bounce:0},cFn={animate:{opacity:1},exit:{opacity:0},initial:{opacity:0}},uFn={duration:.2,delay:.15},dFn=R.span(({theme:e,$tints:t})=>{var o;const n=(o=$e(e))==null?void 0:o.color._dark,r=t[n?400:500].hex,i=t[n?900:50].hex;return he`
    --presence-cursor-bg: ${r};
    --presence-cursor-fg: ${i};

    border-left: 1px solid transparent;
    border-color: var(--presence-cursor-bg);
    margin-left: -1px;
    position: relative;
    word-break: normal;
    white-space: normal;
    mix-blend-mode: unset;
    pointer-events: none;
  `}),fFn=R.div`
  background-color: var(--presence-cursor-bg);
  border-radius: 50%;
  width: ${Yp}px;
  height: ${Yp}px;
  position: absolute;
  top: -${Yp-1}px;
  left: -0.5px;
  transform: translateX(-50%);
  mix-blend-mode: unset;
  z-index: 0;
  pointer-events: all;

  // Increase the hit area of the cursor dot
  &:before {
    content: '';
    position: absolute;
    top: -${Yp/2}px;
    left: 50%;
    transform: translateX(-50%);
    width: ${Yp*2}px;
    height: ${Yp*3}px;
    opacity: 0.5;
  }
`,hFn=R(na(V))(({theme:e})=>{var n;const t=(n=$e(e))==null?void 0:n.radius[4];return he`
    position: absolute;
    top: -${Yp*1.5}px;
    left: -${Yp*.75}px;
    transform-origin: left;
    white-space: nowrap;
    padding: 3px 6px;
    box-sizing: border-box;
    border-radius: ${t}px;
    background-color: var(--presence-cursor-bg);
    z-index: 1;
    mix-blend-mode: unset;
    user-select: none;
  `}),pFn=R(na(B))`
  color: var(--presence-cursor-fg);
  mix-blend-mode: unset;
`;function mFn(e){const{children:t,user:n}=e,{tints:r}=H8e(n.id),[i,o]=p.useState(!1),a=p.useCallback(()=>o(!0),[]),s=p.useCallback(()=>o(!1),[]),l=p.useMemo(()=>{var u;return`presence-cursor-${(u=n.displayName)==null?void 0:u.split(" ").join("-")}`},[n.displayName]);return c.jsxs(c.Fragment,{children:[c.jsxs(dFn,{$tints:r,contentEditable:!1,"data-testid":l,onMouseEnter:a,onMouseLeave:s,children:[c.jsx(hf,{children:i&&c.jsx(hFn,{animate:"animate",exit:"exit",flex:1,initial:"initial",transition:lFn,variants:sFn,children:c.jsx(pFn,{animate:"animate",exit:"exit",initial:"initial",size:0,transition:uFn,variants:cFn,weight:"medium",children:n.displayName})})}),c.jsx(fFn,{})]}),t]})}function gFn(e){const{path:t}=e,n=J8e(),[r,i]=p.useState([]),[o,a]=p.useState([]),s=p.useRef(r),l=p.useCallback(u=>{const{rangeDecoration:d,newSelection:f}=u;a(h=>h.map(m=>{var g,y;return((g=m.payload)==null?void 0:g.sessionId)===((y=d.payload)==null?void 0:y.sessionId)?{...d,selection:f}:m}))},[]);return p.useEffect(()=>{const u=n.filter(h=>ga(t,h.path)&&!Dt(t,h.path)),d=u.map(h=>({...h.selection,sessionId:h.sessionId})),f=s.current.map(h=>({...h.selection,sessionId:h.sessionId}));if(!Dt(d,f)){const h=u.length>0?u:hn;i(h),s.current=h}},[n,t]),p.useEffect(()=>{const u=r.map(d=>{if(!d.selection)return null;const f={focus:d.selection.focus,anchor:d.selection.focus};return{component:({children:h})=>c.jsx(mFn,{user:d.user,children:h}),selection:f,onMoved:l,payload:{sessionId:d.sessionId}}});a(u.filter(Boolean))},[r,l]),o}function yFn(e,t,n){return e.map(r=>({type:r,uploader:t(r,n),parentType:r})).filter(r=>r.uploader)}function vFn(e){const{path:t}=e,{patchChannel:n}=vf().__internal;return{subscribe:p.useCallback(r=>n.subscribe(({snapshot:i,patches:o})=>{const a=o.filter(s=>yU(s.path,t)).map(s=>({...s,path:s.path.slice(t.length)}));a.length&&r({shouldReset:wFn(t,o),snapshot:Tt(i)?CFn(i,t):{},patches:a})}),[t,n])}}function bFn(e,t){const n=typeof e;return n!==typeof t?!1:n==="object"?Km(e,t):e===t}function yU(e,t){if(e===t)return!0;if(!Array.isArray(e)||!Array.isArray(t)||e.length<t.length)return!1;for(let n=0,r=t.length;n<r;n++)if(!bFn(t[n],e[n]))return!1;return!0}function xFn(e,t){return e.length===0||yU(t,e)&&!yU(e,t)}function wFn(e,t){return t.some(n=>xFn(n.path,e)&&(n.type==="set"||n.type==="unset"))}function CFn(e,t){return t.reduce((n,r)=>typeof r=="object"?S8e(n,r):yr(n,r),e)}function kFn(e){const{editorRef:t,elementProps:n,hotkeys:r,initialActive:i,initialFullscreen:o,markers:a=hn,onChange:s,onCopy:l,onEditorChange:u,onFullScreenChange:d,onInsert:f,onItemRemove:h,onPaste:m,onPathFocus:g,path:y,readOnly:x,rangeDecorations:b,renderBlockActions:v,renderCustomMarkers:w,renderEditable:C,schemaType:k,value:S,resolveUploader:E,onUpload:_}=e,{onBlur:T,ref:A}=n,I=p.useRef(null),j=t||I,$=gFn(p.useMemo(()=>({path:e.path}),[e.path])),{subscribe:D}=vFn({path:y}),{t:O}=Q(),[M,P]=p.useState(!1),[F,L]=p.useState(null),[U,H]=p.useState(o??!1),[N,Y]=p.useState(i??!1),[J,ee]=p.useState(!1),[oe,re]=p.useState(!1),se=$s(),G=Nr(),K=p.useMemo(()=>new Jr,[]),q=p.useMemo(()=>K.asObservable(),[K]),X=p.useCallback(()=>{H(be=>{const Ee=!be;return Ee?se.log(h6n):se.log(p6n),d==null||d(Ee),Ee})},[d,se]);p.useEffect(()=>{F&&S!==F.value&&L(null)},[F,S]),p.useEffect(()=>D(({patches:be,snapshot:Ee})=>{K.next({patches:be,snapshot:Ee})}),[K,D]);const ie=r3n(e);p.useEffect(()=>{oe&&Y(!0)},[oe]);const te=p.useCallback(()=>{const be=de.current,Ee=be==null?void 0:be.focus.path;if(!Ee)return;const ce=Ee.length===3&&Ee[1]==="children"&&Cr(Ee[2])&&!ie.some(_e=>Cr(Ee[2])&&_e.member.key===Ee[2]._key)?Ee.concat(["text"]):Ee;p.startTransition(()=>{g(ce,{selection:be})})},[g,ie]),de=p.useRef(null),pe=p.useCallback(be=>{switch(be.type){case"mutation":s(kye(be.patches));break;case"connection":be.value==="offline"?ee(!0):be.value==="online"&&ee(!1);break;case"selection":de.current=be.selection,te();break;case"focus":Y(!0),re(!0);break;case"blur":T(be.event),re(!1);break;case"undo":case"redo":s(kye(be.patches));break;case"invalidValue":L(be);break;case"error":G.push({status:be.level,description:be.description});break}j.current&&u&&u(be,j.current)},[j,u,s,te,T,G]);p.useEffect(()=>{P(!1)},[S]);const ve=p.useCallback(()=>{P(!0)},[]),Ce=p.useMemo(()=>F&&F.resolution?c.jsx(V,{marginBottom:2,children:c.jsx(aFn,{onChange:pe,onIgnore:ve,resolution:F.resolution,readOnly:J||x})}):null,[pe,ve,F,J,x]),xe=p.useCallback(()=>{N||(Y(!0),j.current&&Pe.focus(j.current))},[j,N]),Ae=p.useRef([]),Re=p.useMemo(()=>{const be=[...b||[],...$],Ee=PR(Ae.current,be);return Ae.current=Ee,Ee},[$,b]),we=p.useCallback((be,Ee)=>{const{type:ce,uploader:_e}=Ee;_==null||_({file:be,schemaType:ce,uploader:_e})},[_]),ye=p.useCallback(be=>{if(!E)return;const Ee=be.map(Ie=>({file:Ie,uploaderCandidates:yFn(k.of,E,Ie)})),ce=Ee.filter(Ie=>Ie.uploaderCandidates.length>0),_e=Ee.filter(Ie=>Ie.uploaderCandidates.length===0);_e.length>0&&G.push({closable:!0,status:"warning",title:O("inputs.array.error.cannot-upload-unable-to-convert",{count:_e.length}),description:_e.map((Ie,Me)=>c.jsxs(W,{gap:2,padding:2,children:[c.jsx(V,{children:c.jsx(B,{weight:"medium",children:Ie.file.name})}),c.jsx(V,{children:c.jsxs(B,{size:1,children:["(",Ie.file.type,")"]})})]},Me))}),ce.forEach(Ie=>{we(Ie.file,yg(Ie.uploaderCandidates,Me=>Me.uploader.priority)[0])})},[G,E,k,we,O]),ke=p.useCallback(be=>{const{event:Ee}=be,ce=Ee.type==="paste"?"paste":"drop",_e=!!Ee.clipboardData.getData("text/html"),Ie=!!Ee.clipboardData.getData("text/plain");return ce==="paste"&&_e&&Ie||JFe(Ee.clipboardData).then(Me=>Me.length>0?Me:[]).then(Me=>{ye(Me)}),m==null?void 0:m(be)},[ye,m]);return c.jsxs(V,{children:[!M&&Ce,(!F||M)&&c.jsx(iFn,{markers:a,children:c.jsx(oFn,{memberItems:ie,children:c.jsx(Pe,{patches$:q,onChange:pe,maxBlocks:void 0,ref:j,readOnly:J||x,schemaType:k,value:S,children:c.jsx(rFn,{...e,elementRef:A,hasFocusWithin:oe,hotkeys:r,isActive:N,isFullscreen:U,onActivate:xe,onItemRemove:h,onCopy:l,onInsert:f,onPaste:ke,onToggleFullscreen:X,rangeDecorations:Re,renderBlockActions:v,renderCustomMarkers:w,renderEditable:C})})})})]})}function kye(e){return e.map(t=>({...t,patchType:jy}))}function vU(e){return`inset 0 0 0 ${e.width}px ${e.color}`}function SFn(e){const{base:t,border:n,focusRing:r}=e,i=r.offset+r.width,o=0-r.offset,a=t?t.bg:"var(--card-bg-color)";return[o>0&&`inset 0 0 0 ${o}px var(--card-focus-ring-color)`,n&&vU(n),o<0&&`0 0 0 ${0-o}px ${a}`,i>0&&`0 0 0 ${i}px var(--card-focus-ring-color)`].filter(Boolean).join(",")}const EFn=R(le)(e=>{const{theme:t}=e,{focusRing:n,input:r,radius:i}=t.sanity,o=t.sanity.color.input,a=Te(t.sanity.space[1]);return{position:"relative",borderRadius:`${i[1]}px`,color:o.default.enabled.fg,boxShadow:vU({color:o.default.enabled.border,width:r.border.width}),"& > .content":{position:"relative",lineHeight:0,margin:`-${a} 0 0 -${a}`},"& > .content > div":{display:"inline-block",verticalAlign:"top",padding:`${a} 0 0 ${a}`},"&:not([data-read-only])":{cursor:"text"},"@media(hover:hover):not([data-disabled]):not([data-read-only]):hover":{borderColor:o.default.hovered.border},"&:not([data-disabled]):not([data-read-only])[data-focused]":{boxShadow:SFn({border:{color:o.default.enabled.border,width:r.border.width},focusRing:n})},"*:disabled + &":{color:o.default.disabled.fg,backgroundColor:o.default.disabled.bg,boxShadow:vU({color:o.default.disabled.border,width:r.border.width})}}}),_Fn=R.input(e=>{const{theme:t}=e,n=t.sanity.fonts.text,r=t.sanity.color.input,i=t.sanity.space[2],o=t.sanity.fonts.text.sizes[2];return{appearance:"none",background:"none",border:0,borderRadius:0,outline:"none",fontSize:Te(o.fontSize),lineHeight:o.lineHeight/o.fontSize,fontFamily:n.family,fontWeight:n.weights.regular,margin:0,display:"block",minWidth:"1px",maxWidth:"100%",boxSizing:"border-box",paddingTop:Te(i-o.ascenderHeight),paddingRight:Te(i),paddingBottom:Te(i-o.descenderHeight),paddingLeft:Te(i),"&:not(:invalid):not(:disabled)":{color:r.default.enabled.fg},"&:not(:invalid):disabled":{color:r.default.disabled.fg}}}),TFn=R(V)(e=>{const{theme:t}=e,n=t.sanity.color.input;return he`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    pointer-events: none;
    --card-fg-color: ${n.default.enabled.placeholder};
  `}),AFn=R(V)`
  // This is needed to make textOverflow="ellipsis" work properly for the Text primitive
  max-width: 100%;
`,p9e=p.forwardRef((e,t)=>{const{disabled:n,onChange:r,onFocus:i,placeholder:o,readOnly:a,value:s=[],...l}=e,{t:u}=Q($x),[d,f]=p.useState(""),h=!n&&!a,[m,g]=p.useState(!1),y=p.useRef(null),x=p.useRef(null);p.useImperativeHandle(t,()=>y.current);const b=p.useCallback(E=>{if(nf(E.target)&&E.target.closest('[data-ui="Tag"]'))return;const _=y.current;_&&setTimeout(()=>_.focus(),0)},[]),v=p.useCallback(()=>{g(!1)},[]),w=p.useCallback(E=>{f(E.currentTarget.value)},[]),C=p.useCallback(E=>{g(!0),i&&i(E)},[i]),k=p.useCallback(E=>{if(E.key==="Enter"&&(E.preventDefault(),E.stopPropagation(),r&&d)){const _=s.concat([{value:d}]);f(""),r&&r(_)}},[d,r,s]),S=p.useCallback(E=>{if(!r)return;const _=s.slice(0);_.splice(E,1),r(_)},[r,s]);return p.useEffect(()=>{const E=y.current;E&&(E.style.width="0",E.style.width=`${E.scrollWidth}px`)},[d]),c.jsxs(EFn,{"data-disabled":n?"":void 0,"data-focused":m?"":void 0,"data-read-only":a?"":void 0,"data-ui":"TagInput",onPointerDown:b,overflow:"auto",padding:1,ref:x,children:[h&&c.jsx(TFn,{hidden:!!(d||s.length),padding:3,children:c.jsx(B,{textOverflow:"ellipsis",children:o||u("inputs.tags.placeholder",{context:typeof window<"u"&&"ontouchstart"in window?"touch":void 0})})}),c.jsxs("div",{className:"content",children:[s.map((E,_)=>c.jsx(AFn,{children:c.jsx(jFn,{enabled:h,index:_,muted:!h,onRemove:S,tag:E})},`tag-${_}`)),c.jsx("div",{children:c.jsx(_Fn,{...l,disabled:!h,onBlur:v,onChange:w,onFocus:C,onKeyDown:k,ref:y,type:"text",value:d})},"tag-input")]})]})});p9e.displayName="ForwardRef(TagInput)";function jFn(e){const{enabled:t,index:n,muted:r,onRemove:i,tag:o}=e,a=p.useCallback(()=>{i(n)},[n,i]);return c.jsx(le,{"data-ui":"Tag",radius:2,tone:"transparent",children:c.jsxs(W,{align:"center",gap:1,children:[c.jsx(V,{flex:1,paddingY:2,paddingLeft:2,children:c.jsx(B,{muted:r,textOverflow:"ellipsis",children:o.value})}),t&&c.jsx(ge,{icon:eo,mode:"bleed",onClick:a,tooltipProps:{content:"Remove"}})]})})}function IFn(e){const{onChange:t,readOnly:n,value:r=[],elementProps:i,path:o,changed:a}=e,s=p.useMemo(()=>r==null?void 0:r.map(u=>({value:u})),[r]),l=p.useCallback(u=>{t(u.length===0?kt():gt(u.map(d=>d.value)))},[t]);return c.jsx(ja,{path:o,isChanged:a,hasFocus:!1,children:c.jsx(p9e,{onChange:l,readOnly:n,value:s,...i})})}const $Fn=["string","number","boolean"];function DFn(e){return e.of.every(t=>$Fn.includes(t.jsonType))}function OFn(e){return e.of.length===1&&Od("string",e.of[0])}function MFn(e){var t;return((t=e.options)==null?void 0:t.layout)==="tags"}function PFn(e){return e.of.some(t=>Od("block",t))}function RFn(e){var t;return!!((t=e.options)!=null&&t.list)}function FFn(e){return OFn(e)&&MFn(e)?IFn:RFn(e)?kLe:DFn(e)?SLe:PFn(e)?kFn:CLe}function LFn(e){return aK(e)?e:{title:hp(`${e}`),value:e}}const Sye={title:"",value:void 0};function m9e(e){var w,C;const{value:t,readOnly:n,validationError:r,schemaType:i,onChange:o,path:a,changed:s,focused:l,elementProps:u}=e,d=p.useMemo(()=>{var k;return(((k=i.options)==null?void 0:k.list)||[]).map(LFn)},[(w=i.options)==null?void 0:w.list]),f=d.find(k=>k.value===t),h=i.options&&i.options.layout==="radio",m=p.useCallback(k=>{const S=Number(k);return d[S]},[d]),g=p.useCallback(k=>String(d.indexOf(k)),[d]),y=p.useId(),x=p.useCallback(k=>{o(Ft.from(typeof(k==null?void 0:k.value)>"u"?kt():gt(k.value)))},[o]),b=p.useCallback(k=>{const S=m(k.currentTarget.value);if(!S){x(Sye);return}x(S)},[x,m]),v=h?c.jsx(NFn,{...u,value:f,inputId:y,items:d,direction:((C=i.options)==null?void 0:C.direction)||"vertical",customValidity:r,onChange:x,readOnly:n}):c.jsx(Pc,{...u,customValidity:r,value:g(f),readOnly:n,onChange:b,children:[Sye,...d].map((k,S)=>c.jsx("option",{value:S-1,children:k.title},`${S-1}`))});return c.jsx(ja,{path:a,isChanged:s,hasFocus:!!l,children:v})}const NFn=p.forwardRef(function(e,t){const{items:n,value:r,onChange:i,onFocus:o,readOnly:a,customValidity:s,direction:l,inputId:u}=e;return c.jsx(le,{border:!0,padding:3,radius:2,children:c.jsx(l==="horizontal"?Wn:ae,{space:3,role:"group",children:n.map((d,f)=>c.jsx(BFn,{customValidity:s,inputId:u,item:d,onChange:i,onFocus:o,readOnly:a,ref:f===0?t:null,value:r},f))})})}),BFn=p.forwardRef(function(e,t){const{customValidity:n,inputId:r,item:i,onChange:o,onFocus:a,readOnly:s,value:l}=e,u=p.useCallback(()=>{o(i)},[i,o]);return c.jsxs(W,{as:"label",align:"center",children:[c.jsx(K5e,{ref:t,checked:l===i,onChange:u,onFocus:a,readOnly:s,customValidity:n,name:r}),c.jsx(V,{marginLeft:2,children:c.jsx(B,{size:1,weight:"medium",children:i.title})})]})});function VFn(e){return WFe(e,"list")?m9e:ALe}function zFn(e){return WFe(e,"list")?m9e:jLe}function UFn(e){if(Od("array",e))return FFn(e);if(Od("reference",e))return J$n;if(Od("string",e))return zFn(e);if(Od("number",e))return VFn(e)}function HFn(e){var i;if((i=e.components)!=null&&i.input)return e.components.input;const t=UFn(e);if(t)return t;const n=ZJ(e,new Set).reduce((o,a)=>(o[a.name]=a,o),{}),r=Object.values(n).find(o=>gye[o.name]);if(r)return gye[r.name];throw new Error(`Could not find input component for schema type \`${e.name}\``)}function WFn(e){var t;return(t=e.components)!=null&&t.preview?e.components.preview:Ia}function GFn({readOnly:e,hasErrors:t,hasWarnings:n}){return e?"transparent":t?"critical":n?"caution":"default"}const KFn={portal:!0,tone:"default"},YFn={position:"relative"};function qFn(e){var re,se,G,K,q,X,ie;const{schemaType:t,parentSchemaType:n,path:r,readOnly:i,onRemove:o,value:a,open:s,onInsert:l,onCopy:u,onFocus:d,onOpen:f,onClose:h,changed:m,focused:g,children:y,inputProps:{renderPreview:x}}=e,{t:b}=Q(),v=JR(),w=((re=n==null?void 0:n.options)==null?void 0:re.treeEditing)===!1,C=w||v.legacyEditing,k=s&&(!v.enabled||C),S=((se=n.options)==null?void 0:se.sortable)!==!1,E=n.of,_=p.useRef(null);UR(_,s),is(g,(te,de)=>{var pe;!te&&de&&_.current&&((pe=_.current)==null||pe.focus())});const T=a._resolvingInitialValue,A=p.useCallback(()=>{l({items:[{...a,_key:Ch()}],position:"after"})},[l,a]),I=p.useCallback(()=>{u({items:[{...a,_key:Ch()}]})},[u,a]),j=p.useCallback((te,de)=>{l({items:[eC(de)],position:te})},[l]),$=Xw(r,!0),D=p.useMemo(()=>$.length===0?null:c.jsx(y_,{presence:$,maxAvatars:1}),[$]),O=IJ(r,!0),M=p.useMemo(()=>O.length===0?null:c.jsx(V,{paddingX:1,paddingY:3,children:c.jsx(Qw,{validation:O,__unstable_showSummary:!0})}),[O]),P=O.some(te=>te.level==="error"),F=O.some(te=>te.level==="warning"),[L,U]=p.useState(null),{insertBefore:H,insertAfter:N}=oQ({schemaTypes:E,insertMenuOptions:(G=n.options)==null?void 0:G.insertMenu,onInsert:j,referenceElement:L}),Y=p.useMemo(()=>i?null:c.jsxs(c.Fragment,{children:[c.jsx(Jt,{ref:U,onOpen:()=>{H.send({type:"close"}),N.send({type:"close"})},button:c.jsx(Ki,{selected:H.state.open||N.state.open?!0:void 0}),id:`${e.inputId}-menuButton`,menu:c.jsxs(Nt,{children:[c.jsx(Qe,{text:b("inputs.array.action.remove"),tone:"critical",icon:$i,onClick:o}),c.jsx(Qe,{text:b("inputs.array.action.copy"),icon:Ru,onClick:I}),c.jsx(Qe,{text:b("inputs.array.action.duplicate"),icon:lE,onClick:A}),H.menuItem,N.menuItem]}),popover:KFn}),H.popover,N.popover]}),[i,H,N,e.inputId,b,o,I,A]),J=GFn({readOnly:i,hasErrors:P,hasWarnings:F}),ee=c.jsx(e4,{menu:Y,presence:D,validation:M,tone:J,focused:g,dragHandle:S,selected:s,readOnly:!!i,children:c.jsxs(le,{as:"button",type:"button",tone:"inherit",radius:1,disabled:T,onClick:f,ref:_,onFocus:d,__unstable_focusRing:!0,style:YFn,children:[x({schemaType:e.schemaType,value:e.value,layout:"default",skipVisibilityCheck:!0}),T&&c.jsx(Dn,{fill:!0})]})}),oe=Iu(t);return c.jsxs(QR,{legacyEditing:w,children:[c.jsx(ja,{path:r,isChanged:m,hasFocus:!!g,children:c.jsx(V,{paddingX:1,children:ee})}),k&&c.jsx(uLe,{header:i?b("inputs.array.action.view",{itemTypeTitle:oe}):b("inputs.array.action.edit",{itemTypeTitle:oe}),type:((q=(K=n==null?void 0:n.options)==null?void 0:K.modal)==null?void 0:q.type)||"dialog",width:((ie=(X=n==null?void 0:n.options)==null?void 0:X.modal)==null?void 0:ie.width)??1,id:a._key,onClose:h,autofocus:g,legacy_referenceElement:_.current,children:y})]})}function ZFn(e){const{menuRef:t,menuButtonRef:n,containerRef:r}=e,i=p.useMemo(()=>({menuRef:t,menuButtonRef:n,containerRef:r}),[r,n,t]);return c.jsx(lwe.Provider,{value:i,children:e.children})}function XFn({readOnly:e,hasErrors:t,hasWarnings:n}){return e?"transparent":t?"critical":n?"caution":"default"}const JFn={portal:!0,tone:"default"};function QFn(e){var ce,_e,Ie,Me,Le,et,Ct,Ge;const{schemaType:t,parentSchemaType:n,path:r,readOnly:i,onRemove:o,value:a,open:s,onInsert:l,onCopy:u,presence:d,validation:f,inputId:h,changed:m,focused:g,children:y,inputProps:{onChange:x,focusPath:b,onPathFocus:v,renderPreview:w,elementProps:C}}=e,k=((ce=n.options)==null?void 0:ce.sortable)!==!1,S=n.of,E=p.useRef(null),_=p.useRef(null),T=p.useRef(null),A=p.useRef(null),{EditReferenceLink:I,getReferenceInfo:j,selectedState:$,isCurrentDocumentLiveEdit:D}=qJ({path:r,schemaType:t,value:a});UR(E,s),is(g,(We,ct)=>{var qe;!We&&ct&&E.current&&((qe=E.current)==null||qe.focus())});const O=e.validation.some(We=>We.level==="error"),M=e.validation.some(We=>We.level==="warning"),P=a._resolvingInitialValue,F=p.useCallback(()=>{l({items:[{...a,_key:Ch()}],position:"after"})},[l,a]),L=p.useCallback(()=>{u({items:[{...a,_key:Ch()}]})},[u,a]),U=p.useCallback((We,ct)=>{l({items:[{...eC(ct),_key:Ch()}],position:We})},[l]),H=HR(a==null?void 0:a._ref,j),N=a._ref,Y=((_e=H.result)==null?void 0:_e.type)||((Ie=a==null?void 0:a._strengthenOnPublish)==null?void 0:Ie.type),J=N&&((et=(Le=(Me=H.result)==null?void 0:Me.preview)==null?void 0:Le.published)==null?void 0:et._id),ee=p.useCallback(()=>{x([t.weak===!0?gt(!0,["_weak"]):kt(["_weak"]),kt(["_strengthenOnPublish"])])},[x,t.weak]),oe=Y?t.to.find(We=>We.name===Y):void 0,re=$==="pressed",se=$==="selected",G=XFn({readOnly:i,hasErrors:O,hasWarnings:M}),K=!N||b[0]==="_ref",{t:q}=Q(),X=p.useMemo(()=>p.forwardRef(function(We,ct){return c.jsx(Kc,{...We,intent:"edit",params:{id:a==null?void 0:a._ref,type:oe==null?void 0:oe.name},target:"_blank",rel:"noopener noreferrer",ref:ct})}),[oe==null?void 0:oe.name,a==null?void 0:a._ref]),ie=p.useCallback(()=>{v(N&&K?[]:["_ref"])},[N,K,v]),[te,de]=p.useState(null),pe=p.useCallback(We=>{de(We),T.current=We},[]),{insertBefore:ve,insertAfter:Ce}=oQ({schemaTypes:S,insertMenuOptions:(Ct=n.options)==null?void 0:Ct.insertMenu,onInsert:U,referenceElement:te}),xe=p.useMemo(()=>i?null:c.jsxs(c.Fragment,{children:[c.jsx(Jt,{ref:pe,onOpen:()=>{ve.send({type:"close"}),Ce.send({type:"close"})},button:c.jsx(Ki,{selected:ve.state.open||Ce.state.open?!0:void 0}),id:`${h}-menuButton`,menu:c.jsxs(Nt,{ref:_,children:[!i&&c.jsxs(c.Fragment,{children:[c.jsx(Qe,{text:q("inputs.reference.action.remove"),tone:"critical",icon:$i,onClick:o}),c.jsx(Qe,{text:q(N&&K?"inputs.reference.action.replace-cancel":"inputs.reference.action.replace"),icon:N&&K?eo:vw,onClick:ie}),c.jsx(Qe,{text:q("inputs.reference.action.copy"),icon:Ru,onClick:L}),c.jsx(Qe,{text:q("inputs.reference.action.duplicate"),icon:lE,onClick:F}),ve.menuItem,Ce.menuItem]}),!i&&!K&&N&&c.jsx(Tr,{}),!K&&N&&c.jsx(Qe,{as:X,"data-as":"a",text:q("inputs.reference.action.open-in-new-tab"),icon:lp})]}),popover:JFn}),ve.popover,Ce.popover]}),[X,L,F,ie,N,h,Ce,ve,K,o,i,pe,q]),Ae=p.useCallback(()=>{x(t.weak===!0?gt(!0,["_weak"]):kt(["_weak"]))},[x,t]),Re=a!=null&&a._weak?"weak":"strong",we=t.weak===!0?"weak":"strong",ye=N&&!H.isLoading&&(a==null?void 0:a._strengthenOnPublish),ke=!H.isLoading&&((Ge=H.result)==null?void 0:Ge.availability.available)&&N&&Re!==we&&!ye,be=c.jsxs(c.Fragment,{children:[D&&J&&a._strengthenOnPublish&&c.jsx(MFe,{schemaType:t,handleRemoveStrengthenOnPublish:ee}),ke&&c.jsx(YJ,{actualStrength:Re,handleFixStrengthMismatch:Ae}),H.error&&c.jsx(KJ,{errorMessage:H.error.message,onHandleRetry:H.retry})]}),Ee=c.jsx(ZFn,{menuRef:_,menuButtonRef:T,containerRef:A,children:c.jsx(e4,{dragHandle:k,readOnly:!!i,presence:!K&&d.length>0&&c.jsx(y_,{presence:d,maxAvatars:1}),validation:!K&&f.length>0&&c.jsx(Qw,{validation:f}),menu:xe,footer:K?void 0:be,tone:K?void 0:G,focused:g,children:K?c.jsx(V,{padding:1,ref:A,children:c.jsx(LR,{title:t.title,description:t.description,__unstable_presence:d,validation:f,inputId:h,deprecated:t.deprecated,children:y})}):c.jsxs(PFe,{as:I,tone:"inherit",radius:2,documentId:a==null?void 0:a._ref,documentType:oe==null?void 0:oe.name,disabled:P,__unstable_focusRing:!0,selected:se,pressed:re,"data-selected":se?!0:void 0,"data-pressed":re?!0:void 0,...C,children:[c.jsx(OFe,{value:a,referenceInfo:H,renderPreview:w,type:t}),P&&c.jsx(Dn,{fill:!0})]})})});return c.jsx(ja,{path:r,isChanged:m,hasFocus:!!g,children:c.jsx(V,{paddingX:1,children:Ee})})}function eLn(e){var t;return(t=e.components)!=null&&t.item?e.components.item:Il(e)?QFn:qFn}function tLn(e){const{children:t}=e,[{error:n,info:r},i]=p.useState({error:null,info:{}}),o=p.useCallback(()=>i({error:null,info:{}}),[]);return n?c.jsx(nLn,{error:n,info:r,onRetry:o}):c.jsx(aw,{onCatch:i,children:t})}function nLn(e){const{error:t,info:n,onRetry:r}=e;if(t instanceof OR||t instanceof C4)throw t;const{t:i}=Q(),o=p.useMemo(()=>Tt(t)&&typeof t.message=="string"&&t.message,[t]),a=p.useMemo(()=>Tt(t)&&typeof t.stack=="string"&&t.stack,[t]);return p.useMemo(()=>typeof(n==null?void 0:n.componentStack)=="string"&&n.componentStack,[n==null?void 0:n.componentStack]),h6e(r),c.jsx(ed,{status:"error",title:c.jsx(c.Fragment,{children:i("form.error.unhandled-runtime-error.title")}),children:c.jsxs(ae,{space:4,children:[c.jsx(B,{as:"p",muted:!0,size:1,children:c.jsx(c.Fragment,{children:i("form.error.unhandled-runtime-error.error-message",{message:o})})}),a&&c.jsx(V,{children:c.jsxs(ae,{space:2,children:[c.jsx(B,{as:"p",size:1,children:c.jsx(c.Fragment,{children:i("form.error.unhandled-runtime-error.call-stack.title")})}),c.jsx(le,{border:!0,radius:2,overflow:"auto",padding:4,tone:"inherit",children:a&&c.jsx(Vi,{size:1,style:{maxHeight:"40vh"},children:a})})]})},"call-stack"),Yl]})})}const rLn={isLoading:!0},iLn={isLoading:!1};function C_(e){const{enabled:t=!0,ordering:n,schemaType:r,value:i}=e||{},{observeForPreview:o}=No(),a=p.useMemo(()=>!t||!i||!r?Se(iLn):o(i,r,{viewOptions:{ordering:n}}).pipe(fe(s=>({isLoading:!1,value:s.snapshot||void 0})),En(s=>Se({isLoading:!1,error:s}))),[t,i,r,o,n]);return bi(a,rLn)}const oLn=typeof window>"u"?ur:es(window,"orientationchange").pipe(go(1)),aLn=typeof window>"u"?ur:es(window,"resize").pipe(go(1)),sLn=typeof window>"u"?ur:es(window,"scroll",{passive:!0,capture:!0}).pipe(go(1)),g9e=150;function lLn(){return typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in IntersectionObserverEntry.prototype?("isIntersecting"in IntersectionObserverEntry.prototype||Object.defineProperty(IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),!0):!1}const cLn=lLn()?uLn():dLn();function uLn(){const e=new Jr,t=new IntersectionObserver(n=>{n.forEach(r=>{e.next(r)})},{threshold:0,rootMargin:`${g9e}px`});return function(n){return new Lt(r=>(t.observe(n),r.next(),()=>t.unobserve(n))).pipe(Ot(()=>e.asObservable()),Bt(r=>r.target===n),fe(r=>({isIntersecting:r.isIntersecting})))}}function dLn(){function e(){return{left:0,right:window.innerWidth,top:0,bottom:window.innerHeight}}function t(r,i,o){return r.left<=i.right+o&&r.right>=i.left-o&&r.top<=i.bottom+o&&r.bottom>=i.top-o}function n(r){return()=>t(r.getBoundingClientRect(),e(),g9e)}return function(r){const i=n(r);return Un(Se(i()),aLn,sLn,oLn).pipe(fe(i),fe(o=>({isIntersecting:o})))}}const fLn=typeof window>"u"?ur:es(document,"visibilitychange").pipe(go(1));function hLn(e){const{element:t,hideDelay:n=0}=e,[r,i]=p.useState(!1);return p.useEffect(()=>{if(!t)return;const o=Di(Se(!document.hidden),fLn.pipe(fe(l=>{var u;return l.target instanceof Document?!((u=l==null?void 0:l.target)!=null&&u.hidden):!1}))).pipe(Ar()),a=cLn(t).pipe(fe(l=>l.isIntersecting)),s=o.pipe(At(l=>l?a:Se(!1)),At(l=>l?Se(!0):Se(!1).pipe(aAe(n))),Ar()).subscribe(i);return()=>s.unsubscribe()},[t,n]),r}const pLn=2e3;function mLn(e){return gLn(e==null?void 0:e._upload)}function ok(e){return G1(e)?e:void 0}function gLn(e){var s,l;if(!Tt(e))return;const t=typeof e.progress=="number"?e.progress:0,n=ok(e.initiated||e.createdAt),r=ok(e.updated||e.updatedAt),i=ok((s=e==null?void 0:e.file)==null?void 0:s.name),o=ok((l=e==null?void 0:e.file)==null?void 0:l.type),a=ok(e.previewImage);if(n&&r&&i&&o)return{progress:t,createdAt:n,updatedAt:r,file:{name:i,type:o},previewImage:a}}function uQ(e){const{layout:t,value:n,component:r,style:i,schemaType:o,skipVisibilityCheck:a,...s}=e,{t:l}=Q(),[u,d]=p.useState(null),f=hLn({element:a?null:u,hideDelay:pLn}),h=C_({enabled:a||f,schemaType:o,value:n}),m=p.useMemo(()=>({...i,minWidth:(i==null?void 0:i.minWidth)||1,minHeight:(i==null?void 0:i.minHeight)||1}),[i]),g=p.useMemo(()=>mLn(n),[n]),y=p.useMemo(()=>{var x,b;return g!=null&&g.previewImage?c.jsx("img",{alt:l("preview.image.file-is-being-uploaded.alt-text"),src:g.previewImage}):(x=h==null?void 0:h.value)!=null&&x.media?(b=h==null?void 0:h.value)==null?void 0:b.media:o.icon},[h,o,g,l]);return c.jsx("div",{ref:d,style:m,children:p.createElement(r,{...s,...(h==null?void 0:h.value)||{},media:y,error:h==null?void 0:h.error,isPlaceholder:h==null?void 0:h.isLoading,layout:t,schemaType:o})})}function yLn(){return c.jsxs(B,{size:1,children:["This is a example custom marker, please implement ",c.jsx("code",{children:"renderCustomMarkers"})," function."]})}const vLn={publish:()=>{},subscribe:()=>(console.warn("No patch channel provided to form-builder. If you need input based patch updates, please provide one"),()=>{})};function bLn(e){const{__internal_fieldActions:t=hn,__internal_patchChannel:n=vLn,autoFocus:r,changesOpen:i,children:o,collapsedFieldSets:a,collapsedPaths:s,file:l,filterField:u,focusPath:d,focused:f,groups:h,id:m,image:g,onChange:y,onFieldGroupSelect:x,onPathBlur:b,onPathFocus:v,onPathOpen:w,onSetFieldSetCollapsed:C,onSetPathCollapsed:k,presence:S,readOnly:E,renderAnnotation:_,renderBlock:T,renderField:A,renderInlineBlock:I,renderInput:j,renderItem:$,renderPreview:D,schemaType:O,unstable:M,validation:P}=e,F=p.useMemo(()=>({patchChannel:n,components:{ArrayFunctions:tQ,CustomMarkers:(M==null?void 0:M.CustomMarkers)||yLn,Markers:(M==null?void 0:M.Markers)||Q8e},field:{actions:t},file:{assetSources:l.assetSources,directUploads:(l==null?void 0:l.directUploads)!==!1},filterField:u||(()=>!0),image:{assetSources:g.assetSources,directUploads:(g==null?void 0:g.directUploads)!==!1},onChange:y}),[t,l.assetSources,l==null?void 0:l.directUploads,u,g.assetSources,g==null?void 0:g.directUploads,y,n,M==null?void 0:M.CustomMarkers,M==null?void 0:M.Markers]),L=p.useMemo(()=>({__internal:F,autoFocus:r,changesOpen:i,collapsedFieldSets:a,collapsedPaths:s,focusPath:d,focused:f,groups:h,id:m,readOnly:E,renderAnnotation:_,renderBlock:T,renderField:A,renderInlineBlock:I,renderInput:j,renderItem:$,renderPreview:D,schemaType:O}),[F,r,i,a,s,d,f,h,m,E,_,T,A,I,j,$,D,O]);return c.jsx(Kxe.Provider,{value:L,children:c.jsx(v_,{onChange:y,onFieldGroupSelect:x,onPathBlur:b,onPathFocus:v,onPathOpen:w,onSetPathCollapsed:k,onSetFieldSetCollapsed:C,children:c.jsx(b3n,{id:m,children:c.jsx(QTn,{presence:S,children:c.jsx(nAn,{validation:P,children:c.jsx(hAn,{children:o})})})})})})}function xLn(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:i,children:o,collapsedFieldSets:a,collapsedPaths:s,focusPath:l,focused:u,groups:d,id:f,onChange:h,onPathBlur:m,onPathFocus:g,onPathOpen:y,onFieldGroupSelect:x,onSetPathCollapsed:b,onSetFieldSetCollapsed:v,presence:w,readOnly:C,schemaType:k,validation:S}=e,{file:E,image:_}=er().form,T=b9e(),A=x9e(),I=dQ(),j=w9e(),$=C9e(),D=k9e(),O=S9e(),M=p.useCallback(Y=>c.jsx(T,{...Y}),[T]),P=p.useCallback(Y=>c.jsx(A,{...Y}),[A]),F=p.useCallback(({key:Y,...J})=>c.jsx(j,{...J},Y),[j]),L=p.useCallback(Y=>c.jsx(uQ,{component:I,...Y}),[I]),U=p.useCallback(Y=>c.jsx($,{...Y}),[$]),H=p.useCallback(Y=>c.jsx(D,{...Y}),[D]),N=p.useCallback(Y=>c.jsx(O,{...Y}),[O]);return c.jsx(bLn,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:i,collapsedFieldSets:a,collapsedPaths:s,file:E,focusPath:l,focused:u,groups:d,id:f,image:_,onChange:h,onPathBlur:m,onPathFocus:g,onPathOpen:y,onFieldGroupSelect:x,onSetPathCollapsed:b,onSetFieldSetCollapsed:v,presence:w,readOnly:C,renderAnnotation:N,renderBlock:U,renderField:P,renderInlineBlock:H,renderInput:M,renderItem:F,renderPreview:L,schemaType:k,validation:S,children:o})}function y9e(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:i,collapsedFieldSets:o,collapsedPaths:a,focused:s,focusPath:l,groups:u,id:d,members:f,onChange:h,onFieldGroupSelect:m,onPathBlur:g,onPathFocus:y,onPathOpen:x,onSetFieldSetCollapsed:b,onSetPathCollapsed:v,openPath:w=hn,presence:C,readOnly:k,schemaType:S,validation:E,value:_}=e,T=p.useCallback(de=>v([de],!0),[v]),A=p.useCallback(de=>v([de],!1),[v]),I=p.useCallback(()=>g(hn),[g]),j=p.useCallback(()=>y(hn),[y]),$=p.useCallback(de=>h(Ft.from(de)),[h]),D=p.useRef(null),O=p.useCallback(de=>m(hn,de),[m]),M=p.useCallback(de=>x([de]),[x]),P=p.useCallback(()=>x([]),[x]),F=p.useCallback(de=>b([de],!0),[b]),L=p.useCallback(de=>b([de],!1),[b]),U=b9e(),H=x9e(),N=dQ(),Y=w9e(),J=C9e(),ee=k9e(),oe=S9e(),re=p.useCallback(de=>c.jsx(tLn,{children:c.jsx(U,{...de})}),[U]),se=p.useCallback(de=>c.jsx(H,{...de}),[H]),G=p.useCallback(({key:de,...pe})=>c.jsx(Y,{...pe},de),[Y]),K=p.useCallback(de=>c.jsx(uQ,{component:N,...de}),[N]),q=p.useCallback(de=>c.jsx(J,{...de}),[J]),X=p.useCallback(de=>c.jsx(ee,{...de}),[ee]),ie=p.useCallback(de=>c.jsx(oe,{...de}),[oe]),te=p.useMemo(()=>({focusPath:l,elementProps:{ref:D,id:d,onBlur:I,onFocus:j,"aria-describedby":void 0},changed:f.some(de=>de.kind==="field"&&de.field.changed),focused:s,groups:u,id:d,level:0,members:f,onChange:$,onFieldClose:P,onFieldCollapse:T,onFieldSetCollapse:F,onFieldExpand:A,onFieldSetExpand:L,onPathFocus:y,onFieldOpen:M,onFieldGroupSelect:O,path:hn,presence:hn,readOnly:k,renderAnnotation:ie,renderBlock:q,renderField:se,renderInlineBlock:X,renderInput:re,renderItem:G,renderPreview:K,schemaType:S,validation:hn,value:_}),[l,s,u,I,$,P,T,F,A,L,j,M,O,d,f,y,k,ie,q,se,X,re,G,K,S,_]);return c.jsx(xLn,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:i,collapsedFieldSets:o,collapsedPaths:a,focusPath:l,focused:s,groups:u,id:d,onChange:h,onPathBlur:g,onPathFocus:y,onPathOpen:x,onFieldGroupSelect:m,onSetPathCollapsed:v,onSetFieldSetCollapsed:b,presence:C,validation:E,readOnly:k,schemaType:S,children:c.jsx(T7e,{value:_,children:c.jsx(T3n,{value:_,children:c.jsx(Gjn,{actions:t,children:c.jsx(QR,{children:c.jsx(wLn,{rootInputProps:te,onPathOpen:x,openPath:w,renderInput:re})})})})})})}function wLn(e){const{rootInputProps:t,onPathOpen:n,openPath:r,renderInput:i}=e,o=JR(),a=p.useMemo(()=>bLe(t.schemaType,r),[r,t.schemaType]),s=t.id==="root",l=o.enabled&&s&&a&&c.jsx(RMn,{onPathFocus:t.onPathFocus,onPathOpen:n,openPath:r,rootInputProps:t,schemaType:t.schemaType});return i({...t,__internal_arrayEditingModal:l})}const CLn=R(le)(e=>{const{color:t,radius:n,space:r}=e.theme.sanity,i=he`
    pointer-events: none;
    content: '';
    position: absolute;
    top: -${r[1]}px;
    bottom: -${r[1]}px;
    left: -${r[1]}px;
    right: -${r[1]}px;
    border-radius: ${n[2]}px;
    mix-blend-mode: ${t.dark?"screen":"multiply"};
  `;return he`
    box-shadow: 0 0 0 1px var(--card-border-color);
    border-radius: ${n[1]}px;
    pointer-events: all;
    position: relative;

    &[data-focused] {
      --card-border-color: var(--card-focus-ring-color);
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: ${t.input.default.hovered.border};
        }
      }
    }

    &[data-markers] {
      &:after {
        ${i}
        background-color: ${t.dark?ln.purple[950].hex:ln.purple[50].hex};
      }
    }

    &[data-warning] {
      &:after {
        ${i}
        background-color: ${t.muted.caution.hovered.bg};
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: ${t.muted.caution.hovered.border};
        }
      }
    }

    &[data-invalid] {
      &:after {
        ${i}
        background-color: ${t.input.invalid.enabled.bg};
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: ${t.input.invalid.hovered.border};
        }
      }
    }
  `}),kLn=R(W)`
  display: block;
  position: relative;
  width: 100%;
  user-select: none;
  pointer-events: all;
`,SLn=R.div(({theme:e,$hasChanges:t})=>{const{space:n}=e.sanity;return he`
      position: absolute;
      width: ${n[2]}px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: ${n[1]}px;
      padding-right: ${n[2]}px;
      user-select: none;

      ${!t&&he`
        display: none;
      `}

      [data-dragged] & {
        visibility: hidden;
      }
    `});R(W)`
  position: relative;

  [data-dragged] > & {
    opacity: 0.5;
  }
`;const ELn=R(V)`
  width: 25px;
  position: relative;
  flex-shrink: 0;
  user-select: none;

  [data-dragged] & {
    visibility: hidden;
  }
`,_Ln=R(W)`
  position: absolute;
  right: 0;
  [data-dragged] & {
    visibility: hidden;
  }
`,TLn=R(V)`
  max-width: 250px;
`,ALn={constrainSize:!0,placement:"bottom",portal:"default",tone:"default"};function jLn(e){const{children:t,focused:n,isOpen:r,onOpen:i,onRemove:o,readOnly:a,value:s}=e,{t:l}=Q(),u=p.useId(),d=p.useRef(null),f=p.useRef(!1),h=p.useMemo(()=>El(s)?p.forwardRef(function(g,y){return c.jsx(Kc,{...g,intent:"edit",params:{id:s._ref},ref:y})}):void 0,[s]);p.useEffect(()=>{r&&(f.current=!1)},[r]),Ss(p.useCallback(g=>{n&&g.key==="Tab"&&d.current&&!f.current&&!r&&(g.preventDefault(),g.stopPropagation(),d.current.focus(),f.current=!0)},[n,r]));const m=p.useCallback(g=>{g.preventDefault(),g.stopPropagation(),o()},[o]);return c.jsxs(W,{children:[c.jsx(V,{flex:1,children:t}),c.jsx(V,{children:c.jsx(Jt,{button:c.jsx(ge,{"aria-label":l("inputs.portable-text.block.open-menu-aria-label"),icon:dE,mode:"bleed",paddingY:3,tabIndex:n?0:1,tooltipProps:{content:"Open menu"}}),ref:d,id:u,menu:c.jsx(Nt,{children:c.jsxs(c.Fragment,{children:["_ref"in s&&s._ref&&c.jsx(Qe,{as:h,"data-as":"a",icon:Rl,text:l("inputs.portable-text.block.open-reference")}),a&&c.jsx(Qe,{icon:S_e,onClick:i,text:l("inputs.portable-text.block.view")}),!a&&c.jsx(Qe,{icon:Oh,onClick:i,text:l("inputs.portable-text.block.edit")}),!a&&c.jsx(Qe,{icon:$i,onClick:m,text:l("inputs.portable-text.block.remove"),tone:"critical"})]})}),popover:ALn})})]})}function ILn(e){var xe;const{floatingBoundary:t,focused:n,isFullscreen:r,onItemClose:i,onItemOpen:o,onPathFocus:a,path:s,readOnly:l,referenceBoundary:u,relativePath:d,renderAnnotation:f,renderBlock:h,renderBlockActions:m,renderCustomMarkers:g,renderField:y,renderInlineBlock:x,renderInput:b,renderItem:v,renderPreview:w,schemaType:C,selected:k,value:S}=e,{onChange:E}=Zc(),{Markers:_}=vf().__internal.components,[T,A]=p.useState(!1),I=FR(s),j=Lo(),$=VR(cr(s)),D=p.useRef(!1),O=p.useMemo(()=>({anchor:{path:d,offset:0},focus:{path:d,offset:0}}),[d]),M=p.useCallback(()=>A(!0),[]),P=p.useCallback(()=>A(!1),[]),F=p.useCallback(()=>{$&&(Pe.blur(j),o($.node.path))},[j,$,o]),L=p.useCallback(()=>{i(),Pe.select(j,O),Pe.focus(j)},[i,j,O]),U=p.useCallback(()=>{if(!D.current)try{Pe.delete(j,O,{mode:"blocks"})}catch(Ae){console.error(Ae)}finally{D.current=!0}},[j,O]);p.useEffect(()=>()=>{D.current&&Pe.focus(j)},[j]);const H=p.useMemo(()=>r&&!m?{paddingX:5}:r&&m?{paddingLeft:5,paddingRight:2}:m?{paddingLeft:3,paddingRight:2}:{paddingX:3},[r,m]),{validation:N,hasError:Y,hasWarning:J,hasInfo:ee}=RR($==null?void 0:$.node),oe=j.schemaTypes.portableText,re=I.length>0,se=Xw(s,!0),G=p.useMemo(()=>se.filter(Ae=>Pr(Ae.path,s)),[s,se]),K=Y||J||ee||re,q=p.useMemo(()=>K&&c.jsx(TLn,{children:c.jsx(_,{markers:I,validation:N,renderCustomMarkers:g})})||null,[_,I,g,K,N]),X=!!($!=null&&$.member.open),ie=$==null?void 0:$.input,te=($==null?void 0:$.node.path)||hn,de=(xe=$==null?void 0:$.elementRef)==null?void 0:xe.current,pe=p.useMemo(()=>({__unstable_floatingBoundary:t,__unstable_referenceBoundary:u,__unstable_referenceElement:de||null,children:ie,focused:n,markers:I,onClose:L,onOpen:F,onPathFocus:a,onRemove:U,open:X,parentSchemaType:oe,path:te,presence:G,readOnly:!!l,renderAnnotation:f,renderBlock:h,renderDefault:v9e,renderField:y,renderInlineBlock:x,renderInput:b,renderItem:v,renderPreview:w,schemaType:C,selected:k,validation:N,value:S}),[t,de,ie,n,I,L,F,a,U,X,oe,te,G,l,u,f,h,y,x,b,v,w,C,k,N,S]),ve=m&&S&&!l,Ce=r&&$;return p.useMemo(()=>c.jsx(V,{ref:$==null?void 0:$.elementRef,contentEditable:!1,children:c.jsx(W,{"data-object-block":"",paddingBottom:1,marginY:3,style:void 0,children:c.jsxs(kLn,{"data-object-block-inner":"",...H,children:[c.jsx(V,{flex:1,children:c.jsx(Et,{placement:"top",portal:"editor",disabled:X?!0:!K,content:q,children:c.jsx("div",{children:h&&h(pe)})})}),ve&&c.jsx(ELn,{contentEditable:!1,marginRight:3,children:c.jsx(_Ln,{children:n&&c.jsx(QLe,{block:S,onChange:E,renderBlockActions:m})})}),Ce&&c.jsx(SLn,{$hasChanges:$.member.item.changed,contentEditable:!1,onMouseEnter:M,onMouseLeave:P,children:c.jsx(JLe,{hasFocus:n,isChanged:$.member.item.changed,path:$.member.item.path,withHoverEffect:!1})}),T&&c.jsx(XLe,{})]})})}),[ve,Ce,pe,n,P,M,H,$,E,h,m,T,q,K,S,X])}const v9e=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:i,focused:o,markers:a,onClose:s,onOpen:l,onRemove:u,open:d,readOnly:f,renderPreview:h,schemaType:m,selected:g,value:y,validation:x}=e,{t:b}=Q(),v=Wgt(y),w=x.filter(_=>_.level==="error").length>0,C=x.filter(_=>_.level==="warning").length>0,k=a.length>0,S=g||o?"primary":"default",E=p.useCallback(_=>{_.preventDefault(),_.stopPropagation(),l()},[l]);return c.jsxs(c.Fragment,{children:[c.jsx(CLn,{"aria-label":b("inputs.portable-text.block.aria-label"),"data-focused":o?"":void 0,"data-image-preview":v?"":void 0,"data-invalid":w?"":void 0,"data-markers":k?"":void 0,"data-read-only":f?"":void 0,"data-selected":g?"":void 0,"data-testid":"pte-block-object","data-warning":C?"":void 0,flex:1,onDoubleClick:E,padding:v?0:1,tone:S,children:h({actions:c.jsx(jLn,{isOpen:d,focused:o,onOpen:l,onRemove:u,readOnly:f,value:y}),layout:v?"blockImage":"block",schemaType:m,skipVisibilityCheck:!0,value:y})}),d&&c.jsx(WJ,{floatingBoundary:t,defaultType:"dialog",onClose:s,autoFocus:o,schemaType:m,referenceBoundary:n,referenceElement:r,children:i})]})};function $Ln(e){var t;return(t=e.components)!=null&&t.block?e.components.block:MR(e)?s9e:v9e}function DLn(e){var t;return(t=e.components)!=null&&t.inlineBlock?e.components.inlineBlock:h9e}function OLn(e){var t;return(t=e.components)!=null&&t.annotation?e.components.annotation:cU}function k0(e){const{componentResolver:t,componentProps:n}=e;if(!n.schemaType)throw new Error("the `schemaType` property must be defined");const r=t(n.schemaType),i=p.useCallback(o=>{var u;if(!((u=o.schemaType)!=null&&u.type))throw new Error("Attempted to render form component of non-existent parent type");const{components:a,...s}=o.schemaType,l=t(s);return p.createElement(l,o)},[t]);return p.createElement(r,{...n,renderDefault:i})}function MLn(e){return k0({componentProps:e,componentResolver:HFn})}function PLn(e){return k0({componentProps:e,componentResolver:$$n})}function RLn(e){return k0({componentProps:e,componentResolver:eLn})}function FLn(e){return k0({componentProps:e,componentResolver:WFn})}function LLn(e){return k0({componentProps:e,componentResolver:$Ln})}function NLn(e){return k0({componentProps:e,componentResolver:DLn})}function BLn(e){return k0({componentProps:e,componentResolver:OLn})}function VLn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.input}function zLn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.field}function ULn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.preview}function HLn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.item}function WLn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.block}function GLn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.inlineBlock}function KLn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.annotation}function b9e(){return qc({defaultComponent:MLn,pick:VLn})}function x9e(){return qc({defaultComponent:PLn,pick:zLn})}function dQ(){return qc({defaultComponent:FLn,pick:ULn})}function w9e(){return qc({defaultComponent:RLn,pick:HLn})}function C9e(){return qc({defaultComponent:LLn,pick:WLn})}function k9e(){return qc({defaultComponent:NLn,pick:GLn})}function S9e(){return qc({defaultComponent:BLn,pick:KLn})}function nC(e){const t=dQ();return c.jsx(uQ,{...e,component:t})}const YLn={block:dar,blockImage:lar,compact:Ior,default:hVe,detail:Vor,inline:gar,media:nar};function qLn(){return c.jsx(Kd,{className:"sanity-studio__preview-fallback-icon"})}function Ia(e){const{icon:t,layout:n,media:r,imageUrl:i,title:o,tooltip:a,...s}=e,l=on(en),u=p.useMemo(()=>CE(l),[l]),d=p.useCallback(x=>{const{dimensions:b}=x;return c.jsx("img",{alt:G1(o)?o:void 0,referrerPolicy:"strict-origin-when-cross-origin",src:u.image(r).width(b.width||100).height(b.height||100).fit(b.fit).dpr(b.dpr||1).url()||""})},[u,r,o]),f=p.useCallback(()=>p.createElement(t||qLn),[t]),h=p.useMemo(()=>t===!1?!1:Dh.isValidElementType(r)||p.isValidElement(r)?r:Ew(r)?d:G1(i)?c.jsx("img",{src:i,alt:G1(o)?o:void 0,referrerPolicy:"strict-origin-when-cross-origin"}):f,[t,i,r,f,d,o]),m=p.useMemo(()=>({...s,media:h,title:o}),[h,s,o]),g=YLn[n||"default"],y=p.createElement(g,m);return a?c.jsx(Et,{content:a,disabled:!a,fallbackPlacements:["top-end"],placement:"bottom-end",children:c.jsx("div",{children:y})}):y}const E9e=["_id","_rev","_type"],ZLn=[...E9e,"_key"],XLn=1e4,Eye={available:!0,reason:"READABLE"},JLn={available:!1,reason:"PERMISSION_DENIED"},QLn={available:!1,reason:"NOT_FOUND"},e9n={title:"Invalid preview config",subtitle:"Check the error log in the console",media:c.jsx(Br,{})};function PI(e,t){let n,r={},i=0;return function(...a){return new Lt(s=>{clearTimeout(n),n=setTimeout(o,t);const l={args:a,observer:s,completed:!1},u=i++;return r[u]=l,()=>{l.completed=!0}})};function o(){const a=r;r={};const s=Object.keys(a).filter(u=>{const d=a[u];return d&&!d.completed});if(s.length===0)return;const l=s.map(u=>{const d=a[u];return d&&d.args}).filter(Ro);e(l).subscribe({next(u){u.forEach((d,f)=>{const h=a[s[f]];h&&!h.completed&&h.observer.next(u[f])})},complete(){s.forEach(u=>{const d=a[u];d&&!d.completed&&d.observer.complete()})},error(u){s.forEach(d=>{const f=a[d];f&&!f.completed&&f.observer.error(u)})}})}}const t9n=11164;function n9n(e){let t=[],n=0;const r=[];for(const i of e)n+i.length+1>=t9n&&(r.push(t),t=[],n=0),n+=i.length+1,t.push(i);return r.includes(t)||r.push(t),r}function r9n(e,t){return e.push(...t),e}function i9n(e,t){function n(o){return t({_ref:o},[["_rev"]]).pipe(fe(a=>Tt(a)&&!!("_rev"in a&&(a!=null&&a._rev))),Ar(),At(a=>a?Se(Eye):r(o)))}const r=PI(function(o){const a=[...new Set(jr(o))];return ti(n9n(a)).pipe(Ot(i,10),nAe(r9n,[]),fe(s=>o.map(([l])=>s[a.indexOf(l)])))},1);function i(o){return Qi(()=>{const a={uri:e.getDataUrl("doc",o.join(",")),json:!0,query:{excludeContent:"true"},tag:"preview.documents-availability"};return e.observable.request(a).pipe(fe(s=>{const l=lJ(s.omitted||[],u=>u.id);return o.map(u=>{const d=l[u];if(!d)return Eye;if(d.reason==="existence")return QLn;if(d.reason==="permission")return JLn;throw new Error(`Unexpected reason for omission: "${d.reason}"`)})}))})}return function(o){const a=Fo(o),s=Cn(o);return mo([n(a),n(s)]).pipe(Ar(Km),fe(([l,u])=>({draft:l,published:u})))}}function o9n(e,t){return a9n(typeof e=="function"?{predicate:e,...t}:e)}function a9n(e){return t=>{let n,r=!1;const{predicate:i,...o}=e,a=t.pipe(or(l=>{e.predicate(l)&&(r=!0,n=l)}),bw(()=>{r=!1,n=void 0}),ts(o)),s=new Lt(l=>{r&&l.next(n),l.complete()});return Un(a,s)}}function s9n(e){return e.listen('*[!(_id in path("_.**"))]',{},{events:["welcome","mutation","reconnect"],includeResult:!1,includePreviousRevision:!1,includeMutations:!1,visibility:"query",tag:"preview.global"}).pipe(o9n({predicate:t=>t.type==="welcome"||t.type==="reconnect",resetOnRefCountZero:()=>ni(XLn)}))}function _9e(e){return Object.keys(e)}function _ye(e,t,n){return{...e,[t]:n}}function l9n(e={}){return t=>new Lt(n=>t.subscribe(n)).pipe(At(n=>{const r=_9e(n).map(i=>{const o=n[i];return qTe(o)?ti(o).pipe(fe(a=>[i,a])):Se([i,o])});return e.wait?mo(r).pipe(fe(i=>i.reduce((o,[a,s])=>_ye(o,a,s),{}))):ti(r).pipe(OM(),Fl((i,[o,a])=>_ye(i,o,a),{}))}))}function c9n(e){return e.reduce((t,n)=>(t[n]=void 0,t),{})}function u9n(e,t){return t.filter(n=>!(n[0]in e))}function d9n(e){return El(e)?e._ref:"_id"in e?e._id:void 0}function bU(e,t,n,r){if(!e||typeof e!="object")return Se(e);const i=d9n(e),o=i?{...e,_id:i}:{...e};o._type==="reference"&&(delete o._type,delete o._ref,delete o._weak,delete o._dataset,delete o._projectId,delete o._strengthenOnPublish);const a=u9n(o,t);if(i&&a.length>0){const u=Io(a.map(f=>f[0])),d=n_e(e)?{projectId:e._projectId,dataset:e._dataset}:r;return n(i,u,d).pipe(At(f=>f===null?Se(null):bU({...c9n(u),...El(e)?{...e,...d}:e,...f},t,n,d)))}const s={};t.forEach(u=>{const[d,...f]=u;s[d]||(s[d]=[]),s[d].push(f)});const l=Object.keys(s).reduce((u,d)=>{const f=s[d].filter(h=>h.length>0);return f.length===0?u[d]=Tt(e)?e[d]:void 0:u[d]=bU(e[d],f,n,r),u},o);return Se(l).pipe(l9n({wait:!0}))}function f9n(e){return e.map(t=>typeof t=="string"?t.split("."):t)}function h9n(e){const{observeFields:t}=e;return(n,r,i)=>bU(n,f9n(r),t,i)}const p9n=[["_createdAt"],["_updatedAt"]];function fQ(e){const t=e==null?void 0:e.select;return t?(Object.values(t).map(n=>String(n).split("."))||[]).concat(p9n):void 0}function m9n(e){return Array.isArray(e)&&(e.length===0||e.some(qa))}function g9n(e){const t=Array.isArray(e)&&e.find(qa);return!t||!t.children?"":t.children.filter(jl).map(n=>n.text).join("")}const y9n=["_id","_type","_upload","_createdAt","_updatedAt"],Px=[],xU=(()=>{let e={};return{add:(t,n,r)=>{const i="name"in t?t.name:t.type;e[i]||(e[i]=[]),e[i].push({error:r,type:t,value:n})},getAll(){return e},clear(){e={}}}})(),v9n=Gx(()=>{const e=xU.getAll(),t=jr(Object.keys(e).map(n=>{const r=e[n];return Xd(r,i=>i.error.message)})).length;t!==0&&(console.groupCollapsed(`%cHeads up! Got ${t===1?"error":`${t} errors`} while preparing data for preview. Click for details.`,"color: #ff7e7c"),Object.keys(e).forEach(n=>{const r=e[n],i=r[0];console.group(`Check the preview config for schema type "${n}": %o`,i.type.preview),Xd(r,o=>o.error.message).forEach(o=>{var a;if(o.error.type==="returnValueError"){const s=typeof((a=o.type.preview)==null?void 0:a.prepare)=="function",{value:l,error:u}=o;console.log(`Encountered an invalid ${s?"return value when calling prepare(%o)":"value targeted by preview.select"}:`,l),console.error(u)}if(o.error.type==="prepareError"){const{value:s,error:l}=o;console.log("Encountered an error when calling prepare(%o):",s),console.error(l)}}),console.groupEnd()}),console.groupEnd(),xU.clear())},1e3),ak=e=>t=>{const n=typeof t;return t===null||n==="undefined"||n==="string"||n==="number"||n==="boolean"?Px:[pQ("returnValueError",new Error(`The "${e}" field should be a string, number, boolean, undefined or null, instead saw ${hQ(t)}`))]},b9n={media:()=>Px,title:ak("title"),subtitle:ak("subtitle"),description:ak("description"),imageUrl:ak("imageUrl"),date:ak("date")};function hQ(e,t=!0){if(Tt(e)){const n=Object.keys(e),r=n.length>3?"...":"";return`${t?"object with keys ":""}{${n.slice(0,3).join(", ")}${r}}`}if(Array.isArray(e)){const n=e.length>3?"...":"";return`${t?"array with ":""}[${e.map(r=>hQ(r,!1))}${n}]`}return`the ${typeof e} ${e}`}function x9n(e,t){if(typeof t>"u")return Px;const n=b9n[e];return n&&n(t)||Px}function pQ(e,t){return Object.assign(t,{type:e})}function w9n(e){return!kr(e)||e===null?[pQ("returnValueError",new Error(`Invalid return value. Expected a plain object with at least a 'title' field, instead saw ${hQ(e)}`))]:Object.entries(e).reduce((t,[n,r])=>[...t,...x9n(n,r)],Px)}function C9n(e){return{...e,errors:[...e.errors||[],...w9n(e.returnValue)]}}function k9n(e){return _9e(e).reduce((t,n)=>{const r=e[n];return{...t,[n]:m9n(r)?g9n(r):r}},{})}function T9e(e,t,n={}){var i;const r=(i=e.preview)==null?void 0:i.prepare;try{return{returnValue:r?r(t,n):k9n(t),errors:Px}}catch(o){return{returnValue:null,errors:[pQ("prepareError",o)]}}}function Tye(e,t,n){return e.errors.forEach(r=>xU.add(t,n,r)),v9n(),e9n}function S9n(e){const t=e.options&&typeof e.options=="object"?e.options:!1;if(!t||!("list"in t))return!1;const n=t.list;return Array.isArray(n)}function E9n(e){return S9n(e)?e.options.list.map(t=>aK(t)?t:{title:t,value:t}):void 0}function MD(e,t,n={}){var l,u;const r=typeof((l=t.preview)==null?void 0:l.prepare)=="function",i=((u=t.preview)==null?void 0:u.select)||{},o=Object.keys(i).reduce((d,f)=>{var x;const h="fields"in t?t:null,m=i[f],g=(x=h==null?void 0:h.fields)==null?void 0:x.find(b=>b.name===m),y=g&&E9n(g.type);if(!r&&y){const b=y&&y.find(v=>v.value===yr(e,i[f]));d[f]=b?b.value:yr(e,i[f])}else d[f]=yr(e,i[f]);return d},{}),a=T9e(t,o,n);if(a.errors.length>0)return Tye(a,t,o);const s=C9n(a);return s.errors.length>0?Tye(s,t,o):{...Xe(e,y9n),...a.returnValue}}function _9n(e){return kr(e)}function T9n(e){return kr(e)}function A9n(e){const{observeDocumentTypeFromId:t,observePaths:n}=e;return function r(i,o,a={}){const{viewOptions:s={},apiConfig:l}=a;if(oK(o)){if(!n_e(i))return Se({snapshot:void 0});const d={projectId:i._projectId,dataset:i._dataset};return t(i._ref,d).pipe(At(f=>{if(f){const h=o.to.find(m=>m.type===f);if(h)return r(i,h,{apiConfig:d,viewOptions:s})}return Se({snapshot:void 0})}))}if(Il(o))return T9n(i)?t(i._ref).pipe(At(d=>{if(d){const f=o.to.find(h=>h.name===d);if(f)return r(i,f)}return Se({snapshot:void 0})})):Se({snapshot:void 0});const u=fQ(o.preview);return u?n(i,u,l).pipe(fe(d=>({type:o,snapshot:d?MD(d,o,s):null}))):Se({type:o,snapshot:i&&_9n(i)?T9e(o,i,s).returnValue:null})}}function j9n(e){const{observeDocumentPairAvailability:t,observePaths:n}=e,r=[["_updatedAt"],["_createdAt"],["_type"]];return function(i,o){const{draftId:a,publishedId:s}=wJ(i);return t(a).pipe(At(l=>{if(!l.draft.available&&!l.published.available)return Se({id:s,type:null,draft:{availability:l.draft,snapshot:void 0},published:{availability:l.published,snapshot:void 0}});const u=[...o,...r];return mo([n({_type:"reference",_ref:a},u),n({_type:"reference",_ref:s},u)]).pipe(fe(([d,f])=>{const h=Tt(d)&&"_type"in d&&d._type||Tt(f)&&"_type"in f&&f._type||null;return{id:s,type:typeof h=="string"?h:null,draft:{availability:l.draft,snapshot:d},published:{availability:l.published,snapshot:f}}}))}))}}function I9n(e){return(t,n)=>t===n?!0:!t||!n||typeof t!="object"||typeof n!="object"?!1:e.every(r=>t[r]===n[r])}const $9n=e=>e;function D9n(e,t=$9n){let n,r;for(let i=0;i<e.length;i++){if(i===0){n=t(e[i]);continue}if(r=t(e[i]),n!==r)return!1;n=r}return!0}function O9n(e){return Cfn(e.reduce((t,[n,r],i)=>{const o=yg(r.join(","),YEe).join(".");t[o]||(t[o]={fields:r,ids:[],map:[]});const a=t[o].ids.length;return t[o].ids[a]=n,t[o].map[a]=i,t},{}))}function M9n(e){return JSON.stringify(e)}const P9n=e=>TEn(e)?`"${e}": @${AEn(e)}`:e;function R9n({ids:e,fields:t}){const n=[...E9e,...t];return`*[_id in [${e.map(M9n).join(",")}]][0...${e.length}]{${n.map(P9n).join(",")}}`}function F9n(e){return`[${e.map(R9n).join(",")}][0...${e.length}]`}function L9n(e,t){return e.reduce((n,r,i)=>(t[i].map.forEach((o,a)=>{const s=t[i].ids[a],l=r.find(u=>u._id===s);n[o]=l||null}),n),[])}function N9n(e){const{client:t,invalidationChannel:n}=e;function r(b){return n.pipe(Bt(v=>v.type==="connected"||v.documentId===b))}function i(b){return function(v){const w=O9n(v);return b.observable.fetch(F9n(w),{},{tag:"preview.document-paths"}).pipe(fe(C=>L9n(C,w)))}}const o=PI(i(t),100),a=PI(i(t),1e3);function s(b,v){return r(b).pipe(At(w=>w.type==="connected"||w.visibility==="query"?o(b,v).pipe(Ot(C=>Di(Se(C),C===void 0?a(b,v):[]))):a(b,v)))}const l={},u=gM(function(b){const v=t.withConfig(b),w=i(v);return PI(w,10)},b=>b.dataset+b.projectId),d=1e4,f=es(document,"visibilitychange").pipe(yo(0),fe(()=>document.visibilityState==="visible"),At(b=>b?ni(0,d):ur),ts());function h(b,v,w){return f.pipe(yo(0)).pipe(At(()=>u(w)(b,v)))}function m(b,v,w){let C=null;const k=Un(Qi(()=>C===null?ur:Se(C)),w?h(b,v,w):s(b,v)).pipe(or(S=>C=S),go({refCount:!0,bufferSize:1}));return{id:b,fields:v,changes$:k}}function g(b,v,w){const C=w?`${w.projectId}:${w.dataset}:${b}`:`$current$-${b}`;C in l||(l[C]=[]);const k=l[C];hy(v,jr(k.map(E=>E.fields))).length>0&&k.push(m(b,v,w));const S=k.filter(E=>E.fields.some(_=>v.includes(_))).map(E=>E.changes$);return mo(S).pipe(fe(E=>E.filter(Boolean)),Bt(E=>D9n(E,_=>_._rev)),fe(E=>E.length===0?null:y(E,v)),Ar(I9n(v)))}return g;function y(b,v){return[...ZLn,...v].reduce((w,C)=>{const k=x(b,C);return k!==void 0&&(w[C]=k),w},{})}function x(b,v){let w;return b.some(C=>v in C?(w=C[v],!0):!1),w}}function B9n({client:e}){const t=e.withConfig({apiVersion:"1"}),n=s9n(t).pipe(Bt(u=>u.type==="mutation"||u.type==="welcome")).pipe(fe(u=>u.type==="welcome"?{type:"connected"}:u)),r=N9n({client:t,invalidationChannel:n}),i=h9n({observeFields:r});function o(u,d){return i({_type:"reference",_ref:u},["_type"],d).pipe(fe(f=>Tt(f)&&typeof f._type=="string"?f._type:void 0),Ar())}const a=A9n({observeDocumentTypeFromId:o,observePaths:i}),s=i9n(t,i),l=j9n({observeDocumentPairAvailability:s,observePaths:i});return{observePaths:i,observeForPreview:a,observeDocumentTypeFromId:o,unstable_observeDocumentPairAvailability:s,unstable_observePathsDocumentPair:l}}const V9n=e=>e.liveEdit===!0;function rC(e,t,n,r){const i=V9n(t)?Se({snapshot:null}):e.observeForPreview({_id:Fo(n)},t),o=e.observeForPreview({_id:Cn(n)},t);return mo([i,o]).pipe(fe(([a,s])=>({draft:a.snapshot?{title:r,...a.snapshot||{}}:null,isLoading:!1,published:s.snapshot?{title:r,...s.snapshot||{}}:null})),yo({draft:null,isLoading:!0,published:null}))}const z9n=e=>({title:c.jsx("em",{children:e.title?String(e.title):"Missing document"}),subtitle:c.jsx("em",{children:e.title?`Missing document ID: ${e._id}`:`Document ID: ${e._id}`}),media:()=>c.jsx(Br,{})}),mQ=({value:e,draft:t,published:n})=>{const r=t||n;return r?x2n({},r,e,(i,o)=>typeof o>"u"?i:o):z9n(e)},U9n=Ag(([e,t])=>ti(e.getUser(t).catch(n=>(console.error(n),null))));function bf(e){const t=SQ();return U9n(p.useMemo(()=>[t,e],[e,t]))}function dr(){const{currentUser:e}=er();return e}const Aye=e=>{const t=e.LOCAL,n=e.document.HEAD;return t&&{...t,_type:(n||t)._type,_rev:(n||t)._rev,_updatedAt:new Date().toISOString()}},jye=e=>({type:"snapshot",document:e}),Iye=e=>e.document,H9n=e=>{const t=new Jr,n=new IM(!0),r=new Jr,i=new Jr,o=new Jr,a=new Jr,s=b=>{const v=new lln(b);return v.onMutation=({mutation:w,remote:C})=>{r.next({type:"mutation",document:Aye(v),mutations:w.mutations,origin:C?"remote":"local"})},v.onRemoteMutation=w=>{o.next({type:"remoteMutation",head:v.document.HEAD,transactionId:w.transactionId,timestamp:w.timestamp,author:w.identity,effects:w.effects})},v.onRebase=(w,C,k)=>{i.next({type:"rebase",document:w,remoteMutations:C,localMutations:k})},v.onConsistencyChanged=w=>{n.next(w)},v.commitHandler=w=>a.next(w),v},l=e.pipe(Fl((b,v)=>v.type==="snapshot"?(b&&b.commit(),s(v.document||null)):b===null?(console.warn('Ignoring event of type "%s" since buffered document has not yet been set up with snapshot',v.type),null):b,null),Bt(b=>b!==null),Ar(),vu(1),yu()),u=e.pipe(Bt(b=>b.type==="mutation"),K3(l),fe(([b,v])=>(v.arrive(new zd(b)),Aye(v)))),d=t.pipe(K3(l),or(([b,v])=>{b.type==="mutation"&&v.add(new zd({mutations:b.mutations})),b.type==="commit"&&v.commit()}),rx(ur),ts()),f=b=>t.next(b),h=b=>f({type:"mutation",mutations:b}),m=b=>h([b]),g=()=>{l.pipe(sa(1),or(b=>b.commit())).subscribe()},y=Un(l.pipe(fe(b=>b.LOCAL)),r.pipe(fe(Iye)),i.pipe(fe(Iye)),u).pipe(fe(jye),vu(1),yu()),x=Un(l.pipe(fe(b=>b.document.HEAD),fe(jye)),o).pipe(vu(1),yu());return{updates$:Un(y,d,r,i),consistency$:n.pipe(Ar(),vu(1),yu()),remoteSnapshot$:x,commitRequest$:a,addMutation:m,addMutations:h,commit:g}},W9n=e=>t=>{const{_id:n,_rev:r,_updatedAt:i,...o}=t;return{_id:e,...o}},$ye=(e,t)=>{const n=H9n(t),r=W9n(e),i={delete:{id:e}};return{events:n.updates$,consistency$:n.consistency$,remoteSnapshot$:n.remoteSnapshot$,commitRequest$:n.commitRequest$,patch:o=>o.map(a=>({patch:{...a,id:e}})),create:o=>({create:r(o)}),createIfNotExists:o=>({createIfNotExists:r(o)}),createOrReplace:o=>({createOrReplace:r(o)}),delete:()=>i,mutate:o=>n.addMutations(o),commit:()=>n.commit()}},G9n={type:"pending",phase:"begin"},K9n={type:"pending",phase:"end"};function Y9n(e){return e.type==="mutation"}function q9n(e){return e.transactionTotalEvents>1}function Z9n(e){const t=IY(e.filter(n=>n.type==="mutation"),n=>n.transactionId);return Object.values(t).every(n=>n.length===n[0].transactionTotalEvents)}function X9n(e,t,n={}){const{publishedId:r,draftId:i}=t;return Qi(()=>e.observable.listen("*[_id == $publishedId || _id == $draftId]",{publishedId:r,draftId:i},{includeResult:!1,events:["welcome","mutation","reconnect"],effectFormat:"mendoza",tag:n.tag||"document.pair-listener"})).pipe(F1(a=>a.type==="welcome"?o().pipe(F1(s=>[Dye(i,s.draft),Dye(r,s.published)])):Se(a)),Fl((a,s)=>{if(!Y9n(s))return{next:[s],buffer:[]};const l=a.buffer.length>0,u=q9n(s);if(!u&&!l)return{next:[s],buffer:[]};if(!u)return{next:[],buffer:a.buffer.concat(s)};const d=a.buffer.concat(s);return Z9n(d)?{next:d.concat(K9n),buffer:[]}:{next:d.length===1?[G9n]:[],buffer:d}},{next:[],buffer:[]}),Ot(a=>a.next),F1(a=>window.SLOW?ni(1e4).pipe(fe(()=>a)):Se(a)));function o(){return e.observable.getDocuments([i,r],{tag:"document.snapshots"}).pipe(fe(([a,s])=>({draft:a,published:s})))}}function Dye(e,t){return{type:"snapshot",documentId:e,document:t}}const J9n="2024-05-23";function Iy(e){return e.withConfig({apiVersion:J9n})}const Oye=e=>t=>t.type!=="reconnect"&&t.type!=="pending"&&t.documentId===e;function ZA(e){return t=>({...t,version:e})}function Q9n(e){if(!e._id)throw new Error("Expected document to have an _id")}function e7n(e,t){const{resultRev:n,...r}=e;return r.mutations.flatMap(i=>{const o=Object.values(i);if(o.length>1)throw new Error("Did not expect multiple mutations in the same payload");return o[0].id||o[0]._id}).every(i=>i===t)}function t7n(e,t){const n=t.mutations.flatMap(r=>{if(r.createIfNotExists)return[];if(r.create)return Q9n(r.create),{actionType:"sanity.action.document.create",publishedId:e.publishedId,attributes:r.create,ifExists:"fail"};if(r.patch)return{actionType:"sanity.action.document.edit",draftId:e.draftId,publishedId:e.publishedId,patch:Po(r.patch,"id")};throw new Error("Cannot map mutation to action")});return n.length===0?[{actionType:"sanity.action.document.edit",draftId:e.draftId,publishedId:e.publishedId,patch:{unset:["_empty_action_guard_pseudo_field_"]}}]:n}function n7n(e,t,n){return e7n(n,t.publishedId)?A9e(e,n):Iy(e).observable.action(t7n(t,n),{tag:"document.commit",transactionId:n.transactionId})}function A9e(e,t){const{resultRev:n,...r}=t;return e.dataRequest("mutate",r,{visibility:"async",returnDocuments:!1,tag:"document.commit",skipCrossDatasetReferenceValidation:!0})}function r7n(e,t,n,r){return ti(r?n7n(e,t,n.mutation.params):A9e(e,n.mutation.params)).pipe(or({error:i=>{"statusCode"in i&&typeof i.statusCode=="number"&&i.statusCode>=400&&i.statusCode<=500?n.cancel(i):n.failure(i)},next:()=>n.success()}))}function j9e(e,t,n){const{publishedId:r,draftId:i}=t,o=new Jr,a=X9n(e,t).pipe(ts({connector:()=>o})),s=a.pipe(Bt(h=>h.type==="reconnect")),l=$ye(i,a.pipe(Bt(Oye(i)))),u=$ye(r,a.pipe(Bt(Oye(r)))),d=a.pipe(Bt(h=>h.type==="pending")),f=Un(l.commitRequest$,u.commitRequest$).pipe(Ot(h=>n.pipe(sa(1),Ot(m=>r7n(e,t,h,m)))),Ot(()=>ur),ts());return{transactionsPendingEvents$:d,draft:{...l,events:Un(f,s,l.events).pipe(fe(ZA("draft"))),consistency$:l.consistency$,remoteSnapshot$:l.remoteSnapshot$.pipe(fe(ZA("draft")))},published:{...u,events:Un(f,s,u.events).pipe(fe(ZA("published"))),consistency$:u.consistency$,remoteSnapshot$:u.remoteSnapshot$.pipe(fe(ZA("published")))},complete:()=>o.complete()}}function xf(e,t){const n=Object.create(null);return(...r)=>{const i=t(...r);return i in n||(n[i]=e(...r)),n[i]}}function yp(e,t,n){const r=e.config();return`${r.dataset??""}-${r.projectId??""}-${t.publishedId}-${n}`}const r4=xf((e,t,n,r)=>new Lt(i=>{const o=j9e(e,t,r);return i.next(o),o.complete}).pipe(vu(1),yu()),yp);function i7n(e){return e.type==="snapshot"}function Mye(e){return{snapshots$:e.events.pipe(Bt(i7n),fe(t=>t.document),vu(1),yu()),patch:e.patch,create:e.create,createIfNotExists:e.createIfNotExists,createOrReplace:e.createOrReplace,delete:e.delete,mutate:e.mutate,commit:e.commit}}const gQ=xf((e,t,n,r)=>r4(e,t,n,r).pipe(fe(({published:i,draft:o,transactionsPendingEvents$:a})=>({transactionsPendingEvents$:a,published:Mye(i),draft:Mye(o)})),vu(1),yu()),yp),Xc=(e,t)=>{var n;return((n=e.get(t))==null?void 0:n.liveEdit)===!0},o7n={enabled:!0},Pye={enabled:!1},I9e=xf((e,t,n)=>{const r=Xc(e.schema,n);return gQ(e.client,t,n,e.serverActionsEnabled).pipe(At(i=>mo([i.draft.snapshots$,i.published.snapshots$,i.transactionsPendingEvents$.pipe(fe(o=>o.phase==="begin"?o7n:Pye),yo(Pye))])),fe(([i,o,a])=>({id:t.publishedId,type:n,draft:i,published:o,liveEdit:r,ready:!0,transactionSyncLock:a})),yo({id:t.publishedId,type:n,draft:null,published:null,liveEdit:r,ready:!1,transactionSyncLock:null}),vu(1),yu())},(e,t,n)=>yp(e.client,t,n)),$9e=xf((e,t,n,r)=>r4(e,t,n,r).pipe(At(({draft:i,published:o})=>mo([i.consistency$,o.consistency$])),fe(([i,o])=>i&&o),Ar(),vu(1),yu()),yp),D9e=xf((e,t,n)=>gQ(e.client,t,n,e.serverActionsEnabled).pipe(At(r=>mo([r.draft.snapshots$,r.published.snapshots$,e.serverActionsEnabled]).pipe(fe(([i,o,a])=>({...e,serverActionsEnabled:a,idPair:t,typeName:n,snapshots:{draft:i,published:o},draft:r.draft,published:r.published})))),vu(1),yu()),(e,t,n)=>yp(e.client,t,n)),O9e={disabled:()=>!1,execute:({draft:e,published:t})=>(e.commit(),t.commit(),ur)},PD={disabled:({snapshots:e})=>e.draft||e.published?!1:"NOTHING_TO_DELETE",execute:({client:e,schema:t,idPair:n,typeName:r})=>{const i=e.observable.transaction().delete(n.publishedId);return Xc(t,r)?i.commit({tag:"document.delete"}):i.delete(n.draftId).commit({tag:"document.delete",skipCrossDatasetReferenceValidation:!0})}},M9e={disabled:({snapshots:e})=>e.draft?e.published?!1:"NOT_PUBLISHED":"NO_CHANGES",execute:({client:e,idPair:t})=>e.observable.transaction().delete(t.draftId).commit({tag:"document.discard-changes"})},a7n=["_createdAt","_updatedAt"],P9e={disabled:({snapshots:e})=>e.published||e.draft?!1:"NOTHING_TO_DUPLICATE",execute:({schema:e,client:t,snapshots:n,typeName:r},i)=>{const o=n.draft||n.published;if(!o)throw new Error("cannot execute on empty document");return t.observable.create({...Po(o,a7n),_id:Xc(e,r)?i:Fo(i),_type:o._type},{tag:"document.duplicate"})}},R9e={disabled:()=>!1,execute:({schema:e,snapshots:t,idPair:n,draft:r,published:i,typeName:o},a=[],s)=>{Xc(e,o)?i.mutate([i.createIfNotExists({_type:o,...s}),...i.patch(a)]):r.mutate([r.createIfNotExists({...s,...t.published,_id:n.draftId,_type:o}),...r.patch(a)])}};function wU(e){return El(e)?e._strengthenOnPublish?Po(e,["_strengthenOnPublish"].concat(e._strengthenOnPublish.weak?[]:["_weak"])):e:typeof e!="object"||!e?e:Array.isArray(e)?e.map(wU):Object.fromEntries(Object.entries(e).map(([t,n])=>[t,wU(n)]))}const F9e={disabled:({schema:e,typeName:t,snapshots:n})=>Xc(e,t)?"LIVE_EDIT_ENABLED":n.draft?!1:n.published?"ALREADY_PUBLISHED":"NO_CHANGES",execute:({client:e,idPair:t,snapshots:n})=>{if(!n.draft)throw new Error('cannot execute "publish" when draft is missing');const r=wU(Po(n.draft,"_updatedAt")),i=e.observable.transaction();if(!n.draft)throw new Error('cannot execute "publish" when draft is missing');return n.published?(i.patch(t.publishedId,{unset:["_revision_lock_pseudo_field_"],ifRevisionID:n.published._rev}),i.createOrReplace({...r,_id:t.publishedId,_type:n.draft._type})):i.create({...r,_id:t.publishedId,_type:n.draft._type}),i.delete(t.draftId),i.commit({tag:"document.publish",visibility:"async"})}},L9e={disabled:()=>!1,execute:({historyStore:e,schema:t,idPair:n,typeName:r},i)=>{const o=Xc(t,r)?n.publishedId:n.draftId;return e.restore(n.publishedId,o,i)}},N9e={disabled:({schema:e,snapshots:t,typeName:n})=>Xc(e,n)?"LIVE_EDIT_ENABLED":t.published?!1:"NOT_PUBLISHED",execute:({client:e,idPair:t,snapshots:n})=>{let r=e.observable.transaction().delete(t.publishedId);return n.published&&(r=r.createIfNotExists({...Po(n.published,"_updatedAt"),_id:t.draftId,_type:n.published._type})),r.commit({tag:"document.unpublish",visibility:"async",skipCrossDatasetReferenceValidation:!0})}},RD={disabled:({snapshots:e})=>e.draft||e.published?!1:"NOTHING_TO_DELETE",execute:({client:e,schema:t,idPair:n,typeName:r,snapshots:i})=>Xc(t,r)?e.observable.transaction().delete(n.publishedId).commit({tag:"document.delete"}):i.published?Iy(e).observable.action({actionType:"sanity.action.document.delete",includeDrafts:i.draft?[n.draftId]:[],publishedId:n.publishedId},{tag:"document.delete",skipCrossDatasetReferenceValidation:!0}):Iy(e).observable.action({actionType:"sanity.action.document.discard",draftId:n.draftId},{tag:"document.delete"})},B9e={disabled:({snapshots:e})=>e.draft?e.published?!1:"NOT_PUBLISHED":"NO_CHANGES",execute:({client:e,idPair:t})=>Iy(e).observable.action({actionType:"sanity.action.document.discard",draftId:t.draftId},{tag:"document.discard-changes"})},V9e={disabled:()=>!1,execute:({schema:e,snapshots:t,idPair:n,draft:r,published:i,typeName:o},a=[],s)=>{if(Xc(e,o)){const d=i.patch(a),f=t.published?d:[i.createIfNotExists({_type:o,...s})];i.mutate(f);return}const l=r.patch(a);if(t.published){r.mutate([r.createIfNotExists({...s,...t.published,_id:n.draftId,_type:o}),...l]);return}const u=t.draft?[]:[r.create({...s,_id:n.draftId,_type:o})];r.mutate([...u,...l])}},z9e={disabled:({schema:e,typeName:t,snapshots:n})=>Xc(e,t)?"LIVE_EDIT_ENABLED":n.draft?!1:n.published?"ALREADY_PUBLISHED":"NO_CHANGES",execute:({client:e,idPair:t,snapshots:n})=>{var r;if(!n.draft)throw new Error('cannot execute "publish" when draft is missing');return Iy(e).observable.action({actionType:"sanity.action.document.publish",draftId:t.draftId,publishedId:t.publishedId,ifPublishedRevisionId:(r=n.published)==null?void 0:r._rev},{tag:"document.publish"})}},U9e={disabled:()=>!1,execute:({snapshots:e,historyStore:t,schema:n,idPair:r,typeName:i},o)=>{const a=Xc(n,i)?r.publishedId:r.draftId;return t.restore(r.publishedId,a,o,{fromDeleted:!e.draft&&!e.published,useServerDocumentActions:!0})}},H9e={disabled:({schema:e,snapshots:t,typeName:n})=>Xc(e,n)?"LIVE_EDIT_ENABLED":t.published?!1:"NOT_PUBLISHED",execute:({client:e,idPair:t})=>Iy(e).observable.action({actionType:"sanity.action.document.unpublish",draftId:t.draftId,publishedId:t.publishedId},{tag:"document.unpublish",skipCrossDatasetReferenceValidation:!0})};function s7n(e){return typeof e>"u"?Se(null):e}const W9e={del:PD,delete:PD,publish:F9e,patch:R9e,commit:O9e,discardChanges:M9e,unpublish:N9e,duplicate:P9e,restore:L9e},l7n={...W9e,del:RD,delete:RD,discardChanges:B9e,patch:V9e,publish:z9e,unpublish:H9e,restore:U9e},c7n=(e,t,n,r)=>{const i=r?l7n[e]:W9e[e];return Qi(()=>Un(Se(null),s7n(i.execute(t,...n)))).pipe(kxt())},G9e=new Jr;function K9e(e,t,n,r){G9e.next({operationName:e,idPair:t,typeName:n,extraArgs:r})}const u7n=["publish","unpublish","discardChanges","delete"],Y9e=xf(e=>{const t=G9e.pipe(uAe(r=>r.idPair.publishedId),Ot(r=>r.pipe(At(i=>D9e(e,i.idPair,i.typeName).pipe(sa(1),At(o=>{const a=u7n.includes(i.operationName);a&&(o.published.commit(),o.draft.commit());const s=$9e(e.client,i.idPair,i.typeName,e.serverActionsEnabled).pipe(Bt(Boolean));return(a?s.pipe(sa(1)):Se(!0)).pipe(At(()=>c7n(i.operationName,o,i.extraArgs,o.serverActionsEnabled)))}),fe(()=>({type:"success",args:i})),En(o=>Se({type:"error",args:i,error:o})))))),ts()),n=t.pipe(Bt(r=>r.type==="success"&&r.args.operationName==="patch"),$2(1e3,Rc,{leading:!0,trailing:!0}),F1(r=>window.SLOW?ni(1e4).pipe(fe(()=>r)):Se(r)),or(r=>{K9e("commit",r.args.idPair,r.args.typeName,[])}));return Un(t,n.pipe(rx(ur)))},e=>{const t=e.client.config();return`${t.dataset??""}-${t.projectId??""}${e.serverActionsEnabled?"-serverActionsEnabled":""}`}),d7n=xf((e,t,n,r)=>r4(e,t,n,r).pipe(At(({published:i,draft:o})=>Un(i.remoteSnapshot$,o.remoteSnapshot$))),yp),f7n={isValidating:!0,validation:[]};function h7n(e){return m8e(e,(t,n)=>(El(n)&&t.add(n._ref),t),new Set)}const p7n=[],m7n=(e,t)=>e(t).pipe(fe(({published:n})=>n.available)),g7n=200,y7n=1e3;function ZL(){return go({bufferSize:1,refCount:!0})}const v7n=xf((e,{draftId:t,publishedId:n},r)=>{const i=I9e(e,{draftId:t,publishedId:n},r).pipe(fe(({draft:l,published:u})=>l||u),$2(g7n,Rc,{trailing:!0}),Ar((l,u)=>(l==null?void 0:l._rev)===(u==null?void 0:u._rev)?!0:Km(Po(l,"_rev","_updatedAt"),Po(u,"_rev","_updatedAt"))),ZL()),o=i.pipe(fe(l=>h7n(l)),Ot(l=>ti(l))).pipe(uAe(l=>l,{duration:()=>ni(1e3*60*30)}),Ot(l=>l.pipe(bxt(),Ot(u=>m7n(e.observeDocumentPairAvailability,u).pipe(fe(d=>[u,d]))))),Fl((l,[u,d])=>l[u]===d?l:{...l,[u]:d},{}),Ar(Km),ZL()),a=({id:l})=>so(o.pipe(cAe(u=>l in u),fe(u=>u[l]))),s=o.pipe(dAe(1),$2(y7n,Rc,{leading:!0,trailing:!0}));return mo([i,Di(Se(null),s)]).pipe(fe(([l])=>l),pJ(l=>Qi(()=>l!=null&&l._type?Di(Se({isValidating:!0,revision:l._rev}),COn({document:l,getClient:e.getClient,getDocumentExists:a,i18n:e.i18n,schema:e.schema,environment:"studio"}).pipe(fe(u=>({validation:u,isValidating:!1})))):Se({validation:p7n,isValidating:!1}))),Fl((l,u)=>({...l,...u}),f7n),ZL())},(e,t,n)=>yp(e.client,t,n)),b7n=xf((e,t,n,r)=>r4(e,t,n,r).pipe(At(({draft:i,published:o})=>Un(i.events,o.events))),yp);function If(e){return{disabled:"NOT_READY",execute:()=>{throw new Error(`Called ${e} before it was ready.`)}}}const x7n={commit:If("commit"),delete:If("delete"),del:If("del"),publish:If("publish"),patch:If("patch"),discardChanges:If("discardChanges"),unpublish:If("unpublish"),duplicate:If("duplicate"),restore:If("restore")},w7n=(e,t,n)=>(...r)=>K9e(e,t,n,r);function Pa(e,t,n){return{disabled:t.disabled(n),execute:w7n(e,n.idPair,n.typeName)}}function C7n(e){const t={commit:Pa("commit",O9e,e),delete:Pa("delete",PD,e),del:Pa("delete",PD,e),publish:Pa("publish",F9e,e),patch:Pa("patch",R9e,e),discardChanges:Pa("discardChanges",M9e,e),unpublish:Pa("unpublish",N9e,e),duplicate:Pa("duplicate",P9e,e),restore:Pa("restore",L9e,e)};return e.serverActionsEnabled?{...t,delete:Pa("delete",RD,e),del:Pa("delete",RD,e),discardChanges:Pa("discardChanges",B9e,e),patch:Pa("patch",V9e,e),publish:Pa("publish",z9e,e),unpublish:Pa("unpublish",H9e,e),restore:Pa("restore",U9e,e)}:t}const k7n=xf((e,t,n)=>{const r=Y9e(e),i=D9e(e,t,n).pipe(fe(C7n));return Di(Se(x7n),Un(r.pipe(Ot(()=>ur)),i)).pipe(go({refCount:!0,bufferSize:1}))},(e,t,n)=>yp(e.client,t,n));function $y(e){return kr(e)}function yQ(e,t){const n={...e,...t};return Object.keys(n).forEach(r=>{const i=t[r],o=e[r];$y(i)&&$y(o)&&(n[r]=yQ(o,i))}),n}const S7n=["_dataset","_projectId","_strengthenOnPublish","_key","_ref","_type","_weak"];function E7n(e){return e&&e.length>0?`"${e}"`:e}function Rye(e,t){const n=r=>`Template "${t.id}" initial value: ${r}`;if(!$y(e))throw new Error(n("resolved to a non-object"));if(e._type&&t.schemaType!==e._type)throw new Error(n(`includes "_type"-property (${e._type}) that does not match template (${t.schemaType})`));try{return CU(e)}catch(r){throw r.message=n(r.message),r}}function CU(e,t=[],n=!1){if(Array.isArray(e))return e.map((i,o)=>{if(Array.isArray(i))throw new Error(`multidimensional arrays are not supported (at path "${rn(t)}")`);return CU(i,t.concat(o),!0)});if(!$y(e))return e;const r=n&&!e._key?{_key:sP()}:{};return t.length>0&&!e._type&&e._ref&&(r._type="reference"),e._ref&&_7n(e,t),Object.keys(e).reduce((i,o)=>(i[o]=CU(e[o],t.concat([o])),i),r)}function _7n(e,t=[]){if(!e._type&&e.type)throw new Error(`Reference is missing "_type", but has a "type" property at path "${rn(t)}"`);const n=Object.keys(e).filter(r=>!S7n.includes(r));if(n.length>0){const r=n.length>1?"properties":"property";throw new Error(`Disallowed ${r} found in reference: ${n.map(E7n).join(", ")} at path "${rn(t)}"`)}}function T7n(e){return $y(e)&&typeof e.serialize=="function"}const Fye=new WeakMap;async function i4(e,t,n,r){var o;const i=r==null?void 0:r.useCache;if(typeof e=="function"){const a=Fye.get(e),s=JSON.stringify([t,n.projectId,n.dataset,(o=n.currentUser)==null?void 0:o.id]);if(i&&(a!=null&&a[s]))return a[s];const l=e(t,n);return i&&Fye.set(e,{...a,[s]:l}),l}return e}async function vQ(e,t,n={},r,i){if(T7n(t))return vQ(e,t.serialize(),n,r,i);const{id:o,schemaType:a,value:s}=t;if(!s)throw new Error(`Template "${o}" has invalid "value" property`);let l=await i4(s,n,r,i);if(!$y(l))throw new Error(`Template "${o}" has invalid "value" property - must be a plain object or a resolver function returning a plain object`);$y(l)&&!Object.keys(l).length&&(l={_type:a}),l=Rye(l,t);const u=e.get(a);if(!u)throw new Error(`Could not find schema type with name "${a}".`);const d=yQ(await o4(u,n,bQ,r,i)||{},l);return Rye(d,t)}function A7n(e,t){const n=il(t);return n==="object"&&e.of.length===1?e.of[0]:e.of.find(r=>r.name===n)}const bQ=10;function o4(e,t,n=bQ,r,i){return n<=0?Promise.resolve(void 0):Qo(e)?I7n(e,t,n,r,i):sl(e)?j7n(e,t,n,r,i):i4(e.initialValue,t,r,i)}async function j7n(e,t,n,r,i){const o=await i4(e.initialValue,void 0,r,i);if(Array.isArray(o))return Promise.all(o.map(async a=>{const s=A7n(e,a);return Qo(s)?{...a,...await o4(s,t,n-1,r,i),_key:sP()}:a}))}async function I7n(e,t,n,r,i){const o={...await i4(e.initialValue,t,r,i)||{}},a={};await Promise.all(e.fields.map(async l=>{const u=await o4(l.type,t,n-1,r,i);u!=null&&(a[l.name]=u)}));const s=yQ(a,o);if(!oq(s))return e.name!=="object"&&(s._type=e.name),s}const Lye={type:"loading"};function $7n(e,t,n,r,i){const o=n.observePaths({_type:"reference",_ref:Fo(r.documentId)},["_type"]),a=n.observePaths({_type:"reference",_ref:Cn(r.documentId)},["_type"]);return Un(o.pipe(fe(s=>({draft:s}))),a.pipe(fe(s=>({published:s})))).pipe(Fl((s,l)=>({...s,...l}),{}),Bt(s=>"draft"in s&&"published"in s),fe(s=>s.draft||s.published),Ar((s,l)=>!!s!=!!l),KK(25)).pipe(At(s=>{if(s)return Se({type:"success",value:null});if(!r.templateName)return Se({isResolving:!1,initialValue:void 0});const l=t.find(d=>d.id===r.templateName);if(!l)return console.warn('Template "%s" not defined, using empty initial value',r.templateName),Se({isResolving:!1,initialValue:void 0});const u=ti(vQ(e,l,r.templateParams,i)).pipe(fe(d=>({isResolving:!1,initialValue:d}))).pipe(En(d=>(console.group("Failed to resolve initial value"),console.error(d),console.error("Template ID: %s",r.templateName),console.error("Parameters: %o",r.templateParams),console.groupEnd(),Se({type:"error",error:d}))));return Un(Se({isResolving:!0}),u).pipe(At(({isResolving:d,initialValue:f,resolveError:h})=>Se(h?{type:"error",message:"Failed to resolve initial value"}:d?Lye:{type:"success",value:f})))}),yo(Lye),Ar())}const D7n=(e,t,n,r)=>Qi(()=>e.observable.fetch(t,n,{tag:r.tag,filterResponse:!0,perspective:r.perspective})),O7n=(e,t,n,r)=>Qi(()=>e.listen(t,n,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query",tag:r.tag}));function Nye(e){return e.type==="welcome"}function M7n(e,t,n={},r={}){const i=typeof t=="string"?t:t.fetch,o=typeof t=="string"?t:t.listen,a=O7n(e,o,n,r).pipe(Ot((f,h)=>h===0&&!Nye(f)?qd(()=>new Error(f.type==="reconnect"?"Could not establish EventSource connection":`Received unexpected type of first event "${f.type}"`)):Se(f)),ts()),[s,l]=WK(a,Nye),u=f=>!r.transitions||f.type!=="mutation"?!0:r.transitions.includes(f.transition),d=()=>D7n(e,i,n,r);return Un(s.pipe(sa(1)),l.pipe(Bt(u),$2(r.throttleTime||1e3,Rc,{leading:!0,trailing:!0}))).pipe(pJ(f=>f.type==="mutation"&&f.visibility!=="query"?ni(1200).pipe(Ot(d)):d()))}function P7n(e,t,n="*"){if(n&&n!=="*")return Se(n);const r="*[_id in [$documentId, $draftId]]._type",i=Cn(t),o=Fo(i);return e.observable.fetch(r,{documentId:i,draftId:o}).pipe(fe(a=>a[0]))}function sk(e){if(xJ(e))throw new Error("editOpsOf does not expect a draft id.");return{publishedId:e,draftId:Fo(e)}}function R7n({getClient:e,documentPreviewStore:t,historyStore:n,initialValueTemplates:r,schema:i,i18n:o,serverActionsEnabled:a}){const s=t.unstable_observeDocumentPairAvailability,l=e(en),u={client:l,getClient:e,observeDocumentPairAvailability:s,historyStore:n,schema:i,i18n:o,serverActionsEnabled:a};return{checkoutPair(d){return j9e(l,d,a)},initialValue(d,f){return $7n(i,r,t,d,f)},listenQuery(d,f,h){return M7n(l,d,f,h)},resolveTypeForDocument(d,f){return P7n(l,d,f)},pair:{consistencyStatus(d,f){return $9e(u.client,sk(d),f,a)},documentEvents(d,f){return b7n(u.client,sk(d),f,a)},editOperations(d,f){return k7n(u,sk(d),f)},editState(d,f){return I9e(u,sk(d),f)},operationEvents(d,f){return Y9e({client:l,historyStore:n,schema:i,serverActionsEnabled:a}).pipe(Bt(h=>h.args.idPair.publishedId===d&&h.args.typeName===f),fe(h=>{const{operationName:m,idPair:g}=h.args;return h.type==="success"?{type:"success",op:m,id:g.publishedId}:{type:"error",op:m,id:g.publishedId,error:h.error}}))},validation(d,f){return v7n(u,sk(d),f)}}}}const Bye={isLoaded:!1,documentType:void 0};function F7n(e,t="*"){const n=ql(),r=Cn(e),i=!!(t&&t!=="*"),o=p.useMemo(()=>({documentType:t,isLoaded:!0}),[t]),[a,s]=p.useState(i?o:Bye);return p.useEffect(()=>s(Bye),[r,t]),p.useEffect(()=>{if(i)return;const l=n.resolveTypeForDocument(r,t).subscribe(u=>s({documentType:u,isLoaded:!0}));return()=>l.unsubscribe()},[n,r,t,i]),i?o:a}function L7n(e,t){const n=No(),r=p.useMemo(()=>e?n.observePaths({_type:"reference",_ref:e},t):Se(void 0),[e,n,t]);return O8e(r)}function N7n(e){const{documentId:t,documentType:n,templateName:r,templateParams:i}=e,o=ya(i),a=ql(),s=xQ(),l=p.useMemo(()=>({_id:t,_type:n}),[t,n]),[u,d]=p.useState({loading:!1,error:null,value:l});return p.useEffect(()=>{const f={documentId:t,documentType:n,templateName:r,templateParams:o};if(!r){d({loading:!0,error:null,value:l});return}const h=a.initialValue(f,s).subscribe(m=>{m.type==="loading"&&d({loading:!0,error:null,value:l}),m.type==="success"&&d({loading:!1,error:null,value:m.value?{...l,...m.value}:l}),m.type==="error"&&d({loading:!1,error:m.error,value:l})});return d({loading:!0,error:null,value:l}),()=>h.unsubscribe()},[l,t,a,n,r,o,s]),u}function xQ(){const e=er(),t=un(),n=dr(),r=$_(),i=tVe(),o=e.getClient;return p.useMemo(()=>({projectId:r,dataset:i,getClient:o,schema:t,currentUser:n}),[o,t,n,r,i])}function wQ(){const e=xQ();return p.useCallback((t,n)=>o4(t,n,bQ,e),[e])}const XL=new WeakMap,q9e=1e3*120,Vye=ni(q9e);function B7n(e){const{dataset:t}=e.config();return ni(0,q9e).pipe(F1(()=>e.observable.request({uri:`/data/actions/${t}`,withCredentials:!0}).pipe(V7n(),Bbt({first:2e3,with:()=>Se(!1)}),En(()=>Se(!1)))),ts({connector:()=>new VK(1),resetOnComplete:()=>Vye,resetOnRefCountZero:()=>Vye}))}function V7n(){return fe(e=>e.enabled&&vRe.satisfies(pc,e.compatibleStudioVersions,{includePrerelease:!0}))}const CQ=e=>(XL.has(e)||XL.set(e,B7n(e)),XL.get(e));function z7n(e,t){const n=e.get(t);if(!n)throw new Error(`No such schema type: ${t}`);return n}function U7n({grantsStore:e,permission:t,draft:n,published:r,liveEdit:i}){const o=n||r,a=o===n?"draft":"published",{checkDocumentPermission:s}=e;switch(t){case"delete":return i?[["delete published document (live-edit)",s("update",r)]]:[["delete draft document",s("update",n)],["delete published document",s("update",r)]];case"discardDraft":return i?[]:[["delete draft document",s("update",n)]];case"publish":return i?[]:[["update published document at its current state",s("update",r)],["delete draft document",s("update",n)],["create published document from draft",s("create",n&&{...n,_id:Cn(n._id)})]];case"unpublish":return i?[]:[["update draft document at its current state",s("create",n)],["delete published document",s("update",r)],["create draft document from published version",s("create",r&&{...r,_id:Fo(r._id)})]];case"update":return i?[["update published document (live-edit)",s("update",r)]]:[[`update ${a} document`,s("update",o)]];case"duplicate":return i?[["create new published document from existing document (live-edit)",s("create",{...r,_id:"dummy-id"})]]:[[`create new draft document from existing ${a} document`,s("create",{...o,_id:Fo("dummy-id")})]];default:throw new Error(`Could not match permission: ${t}`)}}function H7n({client:e,grantsStore:t,schema:n,id:r,permission:i,type:o,serverActionsEnabled:a}){if(o==="*")return Se({granted:!1,reason:"Type specified was `*`"});const s=!!z7n(n,o).liveEdit;return gQ(e,{draftId:Fo(r),publishedId:Cn(r)},o,a).pipe(At(l=>mo([l.draft.snapshots$,l.published.snapshots$]).pipe(fe(([u,d])=>({draft:u,published:d})))),At(({draft:l,published:u})=>{const d=U7n({grantsStore:t,permission:i,draft:l,published:u,liveEdit:s}).map(([f,h])=>h.pipe(fe(({granted:m,reason:g})=>({granted:m,reason:m?"":`not allowed to ${f}: ${g}`,label:f,permission:i}))));return d.length?mo(d).pipe(fe(f=>{const h=f.every(g=>g.granted),m=h?"":`Unable to ${i}:
	${f.filter(g=>!g.granted).map(g=>g.reason).join(`
	`)}`;return{granted:h,reason:m}})):Se({granted:!0,reason:""})}))}const W7n=Ag(H7n);function wf({id:e,type:t,permission:n,client:r,schema:i,grantsStore:o}){var g;const a=on(en),s=un(),l=EQ(),u=ri(),d=p.useMemo(()=>r||a,[a,r]),f=p.useMemo(()=>i||s,[s,i]),h=p.useMemo(()=>o||l,[l,o]),m=p.useMemo(()=>{var x;const y=(x=u.__internal_serverDocumentActions)==null?void 0:x.enabled;return typeof y=="boolean"?Se(y):CQ(d)},[d,(g=u.__internal_serverDocumentActions)==null?void 0:g.enabled]);return W7n(p.useMemo(()=>({client:d,schema:f,grantsStore:h,id:e,permission:n,type:t,serverActionsEnabled:m}),[d,h,e,n,f,t,m]))}function Z9e({grantsStore:e,document:t,permission:n}){const{checkDocumentPermission:r}=e;return r(n,t)}const G7n=Ag(Z9e);function K7n({document:e,permission:t,...n}){const r=EQ();return G7n({grantsStore:n.grantsStore||r,document:e,permission:t})}function Y7n(e,t=MTe){return n=>{const r=n;let i=null,o=null;const a=new Jr,s=a.pipe(Fl((l,u)=>l+u,0),At(l=>l===0?ni(e,t).pipe(or(()=>{i&&(i.unsubscribe(),i=null),o&&(o.unsubscribe(),o=null)})):!i&&l>0?ni(0,t).pipe(or(()=>{i||(i=r.connect())})):HK));return cxt(()=>(o||(o=s.subscribe()),a.next(1),{unsubscribe:()=>a.next(-1)}),()=>n)}}const zye="_debug_",q7n=typeof window>"u"?Se({}):es(window,"hashchange"),X9e=Di(Se(0),q7n).pipe(fe(()=>typeof document>"u"?"#":document.location.hash),Ar(),fe(e=>e.slice(1).split(";").filter(t=>t.toLowerCase().startsWith(zye)).map(t=>t.slice(zye.length)))),Z7n=X9e.pipe(fe(e=>e.find(t=>t.startsWith("roles="))),fe(e=>(e==null?void 0:e.split("roles=")[1].split(",").map(t=>t.trim()))||[])),X7n=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],Uye=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],J7n=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],Q7n=[{filter:'_id in path("**")',permissions:["read"]},{filter:'_id in path("drafts.**")',permissions:["create","history","update"]}],Hye=[{filter:'_id in path("**")',permissions:["read","history"]}],eNn=[{filter:"!locked",permissions:["read","create","update"]}],tNn=[{filter:'_id in path("drafts.**") && _type in ["stringsTest", "book", "author", "referenceTest"]',permissions:["read","create","history","update"]},{filter:'_id in path("**")',permissions:["read"]}],Wye={administrator:X7n,editor:Uye,developer:J7n,contributor:Q7n,viewer:Hye,restricted:tNn,requiresApproval:eNn,read:Hye,write:Uye},nNn=Z7n.pipe(fe(e=>e.length?e.filter(t=>!!t&&t in Wye).flatMap(t=>Wye[t]||[]):null));async function rNn(e,t,n){return await e.request({uri:`/projects/${t}/datasets/${n}/acl`,tag:"acl.get",withCredentials:!0})}function iNn(e){const t={};return e!==null&&(t.identity=e),t}const JL=new Map;async function oNn(e,t,n){var s;JL.has(t)||JL.set(t,NY(`*[${t}]`));const r=JL.get(t),i=iNn(e),{identity:o}=i,a={...i};return((s=await(await dIe(r,{dataset:[n],identity:o,params:a})).get())==null?void 0:s.length)===1}function aNn(e){var a;const{client:t}=e,n=t.withConfig({apiVersion:"2021-06-07"}),r="userId"in e?e.userId:((a=e==null?void 0:e.currentUser)==null?void 0:a.id)||null,i=Qi(()=>Se(n.config())).pipe(At(({projectId:s,dataset:l})=>{if(!s||!l)throw new Error("Missing projectId or dataset");return rNn(n,s,l)})),o=nNn.pipe(At(s=>s?Se(s):i),vu(1),Y7n(1e3));return{checkDocumentPermission(s,l){return o.pipe(At(u=>J9e(r,u,s,l)),Ar(Km))}}}async function J9e(e,t,n,r){if(!r)return{granted:!0,reason:"Null document, nothing to check"};if(!t.length)return{granted:!1,reason:"No document grants"};const i=[];for(const a of t)await oNn(e,a.filter,r)&&i.push(a);const o=i.some(a=>a.permissions.some(s=>s===n));return{granted:o,reason:o?"Matching grant":"No matching grants found"}}function Q9e(e){return typeof e=="object"&&e!==null&&"serialize"in e?Q9e(e.serialize()):e}function sNn({grantsStore:e,templateItems:t,templates:n,schema:r,context:i}){return t!=null&&t.length?mo(t.map(Q9e).map(async o=>{const a=n.find(l=>l.id===o.templateId);if(!a)throw new Error(`template not found: "${o.templateId}"`);const s=await vQ(r,a,o.parameters,i,{useCache:!0});return{template:a,item:o,resolvedInitialValue:s}}).map(o=>ti(o).pipe(At(({item:a,resolvedInitialValue:s,template:l})=>{const u=r.get(l.schemaType);if(!u)throw new Error(`schema type not found: "${l.schemaType}"`);const d=u==null?void 0:u.liveEdit,{initialDocumentId:f="dummy-id"}=a;return Z9e({grantsStore:e,permission:"create",document:{_id:d?Cn(f):Fo(f),...s}}).pipe(fe(({granted:h,reason:m})=>{const g=a.title||l.title;return{...a,i18n:a.i18n||l.i18n,granted:h,reason:m,resolvedInitialValue:s,template:l,title:g,subtitle:u.title===g?void 0:u.title,description:a.description||l.description,icon:a.icon||l.icon}}))})))):Se([])}const lNn=Ag(sNn);function kQ({templateItems:e,...t}){const n=un(),r=mC(),i=EQ(),o=xQ();return lNn({templateItems:e,grantsStore:t.grantsStore||i,schema:t.schema||n,templates:t.templates||r,context:o})}function cNn(e){return e==="create"||e==="editDraft"}const uNn=5*60*1e3;function dNn(e,t){return Date.parse(t)-Date.parse(e)<uNn}function Gye(e,t){if(e.end!==t.start)throw new Error("chunks are not next to each other");const n=Yye(e.draftState,t.draftState),r=Yye(e.publishedState,t.publishedState);if(e.type==="delete"&&t.type==="editDraft")return[e,{...t,type:"create",draftState:n,publishedState:r}];if(t.type==="delete"){if(n==="missing"&&r==="present")return[e,{...t,type:"discardDraft",draftState:n,publishedState:r}];if(n==="present"&&r==="missing")return[e,{...t,type:"unpublish",draftState:n,publishedState:r}]}if(cNn(e.type)&&t.type==="editDraft"&&dNn(e.endTimestamp,t.startTimestamp)){const i=new Set;for(const o of e.authors)i.add(o);for(const o of t.authors)i.add(o);return{index:0,id:t.id,type:e.type,start:e.start,end:t.end,startTimestamp:e.startTimestamp,endTimestamp:t.endTimestamp,authors:i,draftState:n,publishedState:r}}return[e,{...t,draftState:n,publishedState:r}]}function Kye(e){const t=!!e;return e&&kU(e==null?void 0:e.apply)?"deleted":t?"upsert":"unedited"}function fNn(e){const t=Kye(e.draftEffect),n=Kye(e.publishedEffect);if(n==="unedited"){if(t==="deleted")return"delete";if(t==="upsert")return"editDraft"}if(n==="deleted")return"delete";if(n==="upsert"){if(t==="unedited")return"editLive";if(t==="deleted")return"publish";if(t==="upsert")return"editLive"}return"editLive"}function QL(e){const t=!!e.draftEffect,n=!!e.publishedEffect,r=e.draftEffect&&kU(e.draftEffect.apply),i=e.publishedEffect&&kU(e.publishedEffect.apply),o=fNn(e);return{index:0,id:e.id,type:o,start:e.index,end:e.index+1,startTimestamp:e.timestamp,endTimestamp:e.timestamp,authors:new Set([e.author]),draftState:t?r?"missing":"present":"unknown",publishedState:n?i?"missing":"present":"unknown"}}function Yye(e,t){return t==="unknown"?e:t}function kU(e){return e[0]===0&&e[1]===null}function hNn(e,t){return e&&t?e.author===t.author&&e.chunk===t.chunk:!e&&!t}function qye(e){return e.draft||e.published}class pNn{constructor(t,n,r,i){Z(this,"type","array");Z(this,"value");Z(this,"length");Z(this,"annotation");Z(this,"extractor");Z(this,"content");Z(this,"elements",[]);this.content=t,this.value=n,this.annotation=r,this.extractor=i,this.length=t.elements.length}at(t){if(t>=this.length)throw new Error("out of bounds");return this.elements[t]||(this.elements[t]=FD(this.content.elements[t],this.value[t],this.extractor))}annotationAt(t){const n=this.content.metas[t];return this.extractor.fromMeta(n)}}class mNn{constructor(t,n,r,i){Z(this,"type","object");Z(this,"value");Z(this,"keys");Z(this,"annotation");Z(this,"extractor");Z(this,"content");Z(this,"fields",{});this.content=t,this.value=n,this.annotation=r,this.extractor=i,this.keys=Object.keys(t.fields)}get(t){const n=this.fields[t];if(n)return n;const r=this.content.fields[t];if(r)return this.fields[t]=FD(r,this.value[t],this.extractor)}}class gNn{constructor(t,n,r,i){Z(this,"type","string");Z(this,"value");Z(this,"annotation");Z(this,"extractor");Z(this,"content");this.content=t,this.value=n,this.annotation=r,this.extractor=i}sliceAnnotation(t,n){const r=[];let i=0;function o(a,s){if(r.length>0){const l=r[r.length-1];if(hNn(l.annotation,s)){l.text+=a;return}}r.push({text:a,annotation:s})}for(const a of this.content.parts){const s=a.value.length,l=Math.max(0,t-i);if(l<s){const u=Math.min(s,n-i);if(u<=0)break;o(a.value.slice(l,u),this.extractor.fromValue(a))}i+=s}return r}}function FD(e,t,n){const r=n.fromValue(e);if(e.content)switch(e.content.type){case"array":return new pNn(e.content,t,r,n);case"object":return new mNn(e.content,t,r,n);case"string":return new gNn(e.content,t,r,n)}return gJ(t,r)}function Zye(e,t,n){return n?SU(e,n.transactionIndex+1,n.chunk.index):t?SU(e,t.start,t.index):null}function Xye(e,t){return t?SU(e,t.transactionIndex,t.chunk.index):null}function SU(e,t,n){const r=e.transactionByIndex(t);if(!r)return null;const i=e.chunkByTransactionIndex(t,n);return i?{chunk:i,timestamp:r.timestamp,author:r.author}:null}function yNn(e,t,n,r,i,o){const a=FD(n,r,{fromValue(l){return Zye(e,t,l.endMeta)},fromMeta(l){return Zye(e,t,l)}}),s=FD(i,o,{fromValue(l){return Xye(e,l.startMeta)},fromMeta(l){return Xye(e,l)}});return _R(a,s)}class XA{constructor(){Z(this,"_postive",[]);Z(this,"_negative",[])}addToEnd(t){t.index=this._postive.length,this._postive.push(t)}addToBeginning(t){if(this.length==0){this.addToEnd(t);return}t.index=-(this._negative.length+1),this._negative.push(t)}mergeAtEnd(t,n){if(this.length===0){this.addToEnd(t);return}const r=this.lastIdx,i=n(this.get(r),t);Array.isArray(i)?(this.set(r,i[0]),this.addToEnd(i[1])):this.set(r,i)}mergeAtBeginning(t,n){if(this.length===0){this.addToEnd(t);return}const r=this.firstIdx,i=n(t,this.get(r));Array.isArray(i)?(this.set(r,i[1]),this.addToBeginning(i[0])):this.set(r,i)}removeFromEnd(){this._postive.length===0?this._negative.shift():this._postive.pop()}has(t){return t>=0?t<this._postive.length:-(t+1)<this._negative.length}get(t){return t>=0?this._postive[t]:this._negative[-(t+1)]}set(t,n){t>=0?(n.index=t,this._postive[t]=n):(n.index=t,this._negative[-(t+1)]=n)}get lastIdx(){return this._postive.length-1}get last(){return this.get(this.lastIdx)}get firstIdx(){return-this._negative.length}get first(){return this.get(this.firstIdx)}get length(){return this._postive.length+this._negative.length}}let vNn=class{constructor(t){Z(this,"reachedEarliestEntry",!1);Z(this,"publishedId");Z(this,"draftId");Z(this,"_transactions",new XA);Z(this,"_chunks",new XA);Z(this,"_possiblePendingTransactions",new Map);Z(this,"_recreateTransactionsFrom");Z(this,"_trace");this.publishedId=t.publishedId,this.draftId=`drafts.${t.publishedId}`,t.enableTrace&&(this._trace=[],this._trace.push({type:"initial",publishedId:t.publishedId}),window.__sanityTimelineTrace=this._trace)}get chunkCount(){return this._chunks.length}mapChunks(t){const n=[],r=this._chunks.firstIdx,i=this._chunks.lastIdx;for(let o=i;o>=r;o--)n.push(t(this._chunks.get(o),o));return n}reset(){this._transactions=new XA,this._chunks=new XA,this._possiblePendingTransactions=new Map,this._recreateTransactionsFrom=void 0,this.reachedEarliestEntry=!1}addRemoteMutation(t){this._trace&&this._trace.push({type:"addRemoteMutation",event:t});const n=this._possiblePendingTransactions.get(t.transactionId),r=n?n.transaction:{index:0,id:t.transactionId,timestamp:t.timestamp.toISOString(),author:t.author};t.version==="draft"?r.draftEffect=t.effects:r.publishedEffect=t.effects,n?(this._possiblePendingTransactions.delete(t.transactionId),this._invalidateTransactionFrom(n.idx)):(this._transactions.addToEnd(r),this._possiblePendingTransactions.set(t.transactionId,{transaction:r,idx:this._transactions.lastIdx}))}addTranslogEntry(t){this._trace&&this._trace.push({type:"addTranslogEntry",event:t}),this._transactions.addToBeginning({index:0,id:t.id,author:t.author,timestamp:t.timestamp,draftEffect:t.effects[this.draftId],publishedEffect:t.effects[this.publishedId]})}didReachEarliestEntry(){this._trace&&this._trace.push({type:"didReachEarliestEntry"}),this.reachedEarliestEntry=!0}updateChunks(){this._trace&&this._trace.push({type:"updateChunks"}),this._removeInvalidatedChunks(),this._addChunksFromTransactions(),this._createInitialChunk()}_removeInvalidatedChunks(){if(this._recreateTransactionsFrom){for(;this._chunks.length>0;){const t=this._chunks.last;if(this._recreateTransactionsFrom<t.end)this._chunks.removeFromEnd();else break}this._recreateTransactionsFrom=void 0}}_addChunksFromTransactions(){const t=this._transactions.firstIdx,n=this._transactions.lastIdx,r=this._chunks.length>0?this._chunks.last.end:t;for(let o=r;o<=n;o++){const a=this._transactions.get(o);this._chunks.mergeAtEnd(QL(a),Gye)}if(this._chunks.length==0)return;const i=this._chunks.first.start;for(let o=i-1;o>=t;o--){const a=this._transactions.get(o);this._chunks.mergeAtBeginning(QL(a),Gye)}}_invalidateTransactionFrom(t){(this._recreateTransactionsFrom===void 0||t<this._recreateTransactionsFrom)&&(this._recreateTransactionsFrom=t)}_createInitialChunk(){var t;if(this.reachedEarliestEntry){if(((t=this._chunks.first)==null?void 0:t.type)==="initial")return;const n=this._transactions.first;if(!n)return;const r=QL(n);r.type="initial",r.id="@initial",r.end=r.start,this._chunks.addToBeginning(r)}}parseTimeId(t){if(this._chunks.length===0)return this.reachedEarliestEntry?"invalid":"loading";const n=t.split("/",3),r=n.shift(),i=n.shift(),o=Number(r);for(let a=this._chunks.lastIdx;a>=this._chunks.firstIdx;a--){const s=this._chunks.get(a);if(s.id===i)return s;if(Date.parse(s.endTimestamp)+60*60*1e3<o)return"invalid"}return this.reachedEarliestEntry?"invalid":"loading"}findLastPublishedBefore(t){for(let n=t?t.index-1:this._chunks.lastIdx;n>=this._chunks.firstIdx;n--){const r=this._chunks.get(n);if(r.type==="publish"||r.type==="initial")return r}return this.reachedEarliestEntry?this._chunks.first:"loading"}isLatestChunk(t){return t===this._chunks.last}createTimeId(t){return`${t.endTimestamp.valueOf()}/${t.id}`}lastChunk(){return this._chunks.last}transactionByIndex(t){return this._transactions.has(t)?this._transactions.get(t):null}chunkByTransactionIndex(t,n=0){let r=n;for(;;){const i=this._chunks.get(r);if(!i)throw new Error("transaction does not belong in any chunk");if(t>=i.end)r++;else if(t<i.start)r--;else return i}}replayBackwardsBetween(t,n,r){let i=r.draft,o=r.published;for(let a=n;a>=t;a--){const s=this._transactions.get(a);s.draftEffect&&(i=AD(i,s.draftEffect.revert)),s.publishedEffect&&(o=AD(o,s.publishedEffect.revert))}return{draft:i,published:o}}replayBackwardsUntil(t,n){return this.replayBackwardsBetween(t,this._transactions.lastIdx,n)}calculateDiff(t,n,r,i){let o=au.wrap(t.draft,null),a=au.wrap(t.published,null);const s=bNn(o,a),l=qye(t);let u=null;for(let h=r;h<=i;h++){const m=this._chunks.get(h);u||(u=m);for(let g=m.start;g<m.end;g++){const y=this._transactions.get(g),x={chunk:m,transactionIndex:g},b=o,v=a;y.draftEffect&&(o=au.applyPatch(o,y.draftEffect.apply,x)),y.publishedEffect&&(a=au.applyPatch(a,y.publishedEffect.apply,x));const w=au.getType(b)!=="null",C=au.getType(o)!=="null";au.getType(a)!=="null"&&!C&&(a=au.rebaseValue(b,a)),C&&!w&&(o=au.rebaseValue(v,o))}}const d=au.getType(o)==="null"?a:o,f=qye(n);return yNn(this,u,s,l,d,f)}};function bNn(e,t){return au.getType(e)==="null"?t:e}function Jye(e){return{id:e,hasAttrs:!1,attrs:null,rev:null,events:[],aligned:!1}}function xNn(e,t){const n=t.events.findIndex(r=>e.id===r.transactionId);return n>=0?n+1:t.rev?t.rev===e.id?0:-1:0}function Qye(e,t){if(e.hasAttrs=!0,t){if(e.attrs={...t},typeof e.attrs._rev!="string")throw new Error("snapshot has no _rev");e.rev=e.attrs._rev,delete e.attrs._rev}else e.attrs=null,e.rev=null;e.events=[]}class wNn{constructor(t){Z(this,"timeline");Z(this,"earliestTransactionId",null);Z(this,"_states");this.timeline=t,this._states={draft:Jye(t.draftId),published:Jye(t.publishedId)}}appendRemoteSnapshotEvent(t){const n=this._states[t.version];if(t.type==="snapshot"){this._maybeInvalidateHistory(),Qye(n,t.document);return}t.type==="remoteMutation"&&(n.aligned?(this._apply(n,t),this.timeline.addRemoteMutation(t)):n.hasAttrs?n.events.push(t):Qye(n,t.head))}prependHistoryEvent(t){if(!this.acceptsHistory)throw new Error("cannot prepend history at this point");for(const n of Object.values(this._states))if(!n.aligned){const r=xNn(t,n);r>=0&&this._alignAtIndex(n,r)}this.timeline.addTranslogEntry(t),this.earliestTransactionId=t.id}didReachEarliestEntry(){for(const t of Object.values(this._states))if(!t.aligned){if(t.attrs!==null)throw new Error("unable to find translog entry to align to");this._alignAtIndex(t,0)}this.timeline.didReachEarliestEntry()}get isAligned(){return Object.values(this._states).every(t=>t.aligned)}get acceptsHistory(){return this._isComplete}get currentDocument(){return{draft:this._states.draft.attrs,published:this._states.published.attrs}}_alignAtIndex(t,n){for(const r of t.events.slice(0,n))this._apply(t,r);for(const r of t.events.slice(n))this._apply(t,r),this.timeline.addRemoteMutation(r);t.events=[],t.aligned=!0}get _isComplete(){return Object.values(this._states).every(t=>t.hasAttrs)}_apply(t,n){t.attrs=AD(t.attrs,n.effects.apply),t.rev=n.transactionId}_maybeInvalidateHistory(){if(this._isComplete){for(const t of Object.values(this._states))t.aligned=!1;this.earliestTransactionId=null,this.timeline.reset()}}}async function e7e(e,t){const n=t?{headers:{Authorization:`Bearer ${t}`}}:{credentials:"include"},r=await fetch(e,n);return CNn(r)}function CNn(e){const t=e.body;if(!t)throw new Error("Failed to read body from response");let n,r=!1;return new ReadableStream({start(i){n=t.getReader();const o=new TextDecoder;let a="";n.read().then(function s(l){if(l.done){if(r)return;if(a=a.trim(),a.length===0){i.close();return}i.enqueue(JSON.parse(a)),i.close();return}a+=o.decode(l.value,{stream:!0});const u=a.split(`
`);for(let d=0;d<u.length-1;++d){const f=u[d].trim();if(f.length!==0)try{i.enqueue(JSON.parse(f))}catch(h){i.error(h),r=!0,n.cancel();return}}return a=u[u.length-1],n.read().then(s).catch(d=>i.error(d))}).catch(s=>i.error(s))},cancel(){r=!0,n.cancel()}})}class kNn{constructor(t,n,r,i){Z(this,"timeline");Z(this,"start");Z(this,"end");Z(this,"doc");Z(this,"_startDocument");Z(this,"_endDocument");Z(this,"_diff");this.timeline=t,this.start=r,this.end=i,this.doc=n}same(t,n){return this.start===t&&this.end===n}endAttributes(){return e0e(this.endDocument())}endDocument(){return this._endDocument||(this._endDocument=this.timeline.replayBackwardsUntil(this.end.end,this.doc)),this._endDocument}startAttributes(){return e0e(this.startDocument())}startDocument(){if(!this.start)throw new Error("start required");return this._startDocument||(this._startDocument=this.timeline.replayBackwardsBetween(this.start.end,this.end.end-1,this.endDocument())),this._startDocument}diff(){if(!this._diff){if(!this.start)throw new Error("start required");this._diff=this.timeline.calculateDiff(this.startDocument(),this.endDocument(),this.start.index+1,this.end.index)}return this._diff}}function e0e(e){return e.draft||e.published}const SNn=50;class ENn{constructor(t){Z(this,"timeline");Z(this,"client");Z(this,"handler");Z(this,"version",0);Z(this,"selectionState","inactive");Z(this,"_aligner");Z(this,"_fetchMore",!1);Z(this,"_fetchAtLeast",0);Z(this,"_isRunning",!1);Z(this,"_isSuspended",!1);Z(this,"_didErr",!1);Z(this,"_since",null);Z(this,"_sinceTime",null);Z(this,"_rev",null);Z(this,"_revTime",null);Z(this,"_reconstruction");this.timeline=t.timeline,this.client=t.client,this.handler=t.handler,this._aligner=new wNn(this.timeline),this.markChange()}clearRange(){this.setRange(null,null)}setRange(t,n){n!==this._rev&&this.setRevTime(n),t!==this._since&&this.setSinceTime(t);let r=10;if(this._sinceTime==="loading"||this._revTime==="loading"||!this._aligner.isAligned)this.selectionState="loading";else if(this._sinceTime==="invalid"||this._revTime==="invalid")this.selectionState="invalid";else if(this._sinceTime){this.selectionState="range";const i=this._revTime||this.timeline.lastChunk();this._sinceTime.index>i.index?(this._revTime="invalid",this.selectionState="invalid"):this.setReconstruction(this._sinceTime,i)}else this._revTime?(this.selectionState="rev",this.setReconstruction(null,this._revTime)):(this.selectionState="inactive",r=0);this._fetchAtLeast=r,this.start()}setLoadMore(t){this._fetchMore=t,this.start()}get sinceTime(){return this._sinceTime&&typeof this._sinceTime=="object"?this._sinceTime:null}get revTime(){return this._revTime&&typeof this._revTime=="object"?this._revTime:null}get realRevChunk(){return this.revTime||this.timeline.lastChunk()}onOlderRevision(){return!!this._rev&&(this.selectionState==="range"||this.selectionState==="rev")}findRangeForNewRev(t){const n=this.timeline.isLatestChunk(t)?null:this.timeline.createTimeId(t);if(!this._since)return[null,n];const r=this.sinceTime;return r&&r.index<t.index?[this._since,n]:["@lastPublished",n]}findRangeForNewSince(t){const n=this.revTime;return n&&t.index<n.index?[this.timeline.createTimeId(t),this._rev]:[this.timeline.createTimeId(t),null]}setRevTime(t){this._rev=t,this._revTime=t?this.timeline.parseTimeId(t):null,this._since==="@lastPublished"&&(this._since=null,this._sinceTime=null)}setSinceTime(t){t==="@lastPublished"?typeof this._revTime=="string"?this._sinceTime=this._revTime:this._sinceTime=this.timeline.findLastPublishedBefore(this._revTime):this._sinceTime=t?this.timeline.parseTimeId(t):null,this._since=t}sinceAttributes(){return this._sinceTime&&this._reconstruction?this._reconstruction.startAttributes():null}displayed(){return this._revTime&&this._reconstruction?this._reconstruction.endAttributes():null}setReconstruction(t,n){this._reconstruction&&this._reconstruction.same(t,n)||(this._reconstruction=new kNn(this.timeline,this._aligner.currentDocument,t,n))}currentDiff(){return this._reconstruction?this._reconstruction.diff():null}currentObjectDiff(){const t=this.currentDiff();if(t){if(t.type==="null")return null;if(t.type!=="object")throw new Error(`ObjectDiff expected, got ${t.type}`)}return t}handleRemoteMutation(t){this._aligner.appendRemoteSnapshotEvent(t),this.markChange(),this._aligner.acceptsHistory&&this.start()}start(){this._didErr||this._isRunning||(this._isRunning=!0,this.tick().then(()=>{this._isRunning=!1}))}resume(){this._isSuspended=!1}suspend(){this._isSuspended=!0}async tick(){var t;if(this._aligner.acceptsHistory&&!this.timeline.reachedEarliestEntry&&(this.selectionState==="loading"||this._fetchMore||this.timeline.chunkCount<=this._fetchAtLeast)&&!this._isSuspended){try{await this.fetchMoreTransactions()}catch(n){this._didErr=!0,(t=this.handler)==null||t.call(this,n,this);return}await this.tick()}}async fetchMoreTransactions(){const t=this.timeline.publishedId,n=this.timeline.draftId,r=this.client.config(),i=SNn;let o=`tag=sanity.studio.structure.history&effectFormat=mendoza&excludeContent=true&excludeMutations=true&includeIdentifiedDocumentsOnly=true&reverse=true&limit=${i}`,a=this._aligner.earliestTransactionId;a&&(o+=`&toTransaction=${a}`);const s=this.client.getUrl(`/data/history/${r.dataset}/transactions/${t},${n}?${o}`),l=(await e7e(s,r.token)).getReader();let u=0;for(;;){const d=await l.read();if(d.done)break;if("error"in d.value)throw new Error(d.value.error.description||d.value.error.type);if(u++,d.value.id!==a){if(this._aligner.earliestTransactionId!==a||!this._aligner.acceptsHistory)return;this._aligner.prependHistoryEvent(d.value),a=this._aligner.earliestTransactionId}}this._aligner.earliestTransactionId!==a||!this._aligner.acceptsHistory||(u<i&&this._aligner.didReachEarliestEntry(),this.markChange())}markChange(){var t;this.timeline.updateChunks(),this.setRevTime(this._rev),this.setSinceTime(this._rev),this.version++,(t=this.handler)==null||t.call(this,null,this)}}const t0e=Object.create(null),_Nn=(e,t,n={})=>{const r=Array.isArray(t)?t:[t],{time:i,revision:o}=n;if(i&&o)throw new Error("getHistory can't handle both time and revision parameters");let a=`/data/history/${e.config().dataset}/documents/${r.join(",")}`;if(o)a=`${a}?revision=${o}`;else{const s=i||new Date().toISOString();a=`${a}?time=${s}`}return e.request({url:a})},t7e=(e,t,n)=>{const r=Cn(t),i=Fo(t),o=`${r}@${n}`,a=t0e[o];if(a)return a;const s=`/data/history/${e.config().dataset}/documents/${r},${i}?revision=${n}`,l=e.request({url:s}).then(u=>{const d=u.documents||[],f=d.find(h=>h._id===r);return d.find(h=>h._id===i)||f});return t0e[o]=l,l},TNn=({client:e,documentId:t,documentType:n})=>{const r=new vNn({enableTrace:Yl,publishedId:t});return new ENn({client:e,documentId:t,documentType:n,timeline:r})},ANn=async(e,t)=>{const n=Array.isArray(t)?t:[t],r=e.config().dataset,i={excludeContent:"true",includeIdentifiedDocumentsOnly:"true"},o=`/data/history/${r}/transactions/${n.join(",")}`;return(await e.request({url:o,query:i})).toString("utf8").split(`
`).filter(Boolean).map(a=>JSON.parse(a))},jNn=e=>m8e(e,(t,n)=>El(n)&&!t.includes(n._ref)?[...t,n._ref]:t,[]);function EU(e,t){return Array.isArray(e)?t(e.map(n=>EU(n,t)).filter(n=>typeof n<"u")):Tt(e)?t(Object.keys(e).reduce((n,r)=>{const i=EU(e[r],t);return typeof i<"u"&&(n[r]=i),n},{})):t(e)}const INn=(e,t)=>EU(e,n=>El(n)?t(n):n),$Nn=(e,t)=>INn(e,n=>t[n._ref]?n:void 0);function DNn(e,t,n,r,i){return ti(t7e(e,t,r)).pipe(Ot(o=>{if(!o)throw new Error(`Unable to find document with ID ${t} at revision ${r}`);const a=jNn(o).map(s=>`"${s}": defined(*[_id=="${s}"]._id)`).join(",");return e.observable.fetch(`{${a}}`).pipe(fe(s=>$Nn(o,s)))}),fe(o=>{const{_updatedAt:a,...s}=o;return{...s,_id:n}}),Ot(o=>{if(i!=null&&i.useServerDocumentActions){const a={actionType:"sanity.action.document.replaceDraft",publishedId:t,attributes:o};return Iy(e).observable.action(i.fromDeleted?[{actionType:"sanity.action.document.create",publishedId:t,attributes:o,ifExists:"fail"},a]:a)}return e.observable.createOrReplace(o,{visibility:"async"})}),fe(()=>{}))}function ONn({client:e}){return{getDocumentAtRevision:(t,n)=>t7e(e,t,n),getHistory:(t,n)=>_Nn(e,t,n),getTransactions:t=>ANn(e,t),restore:(t,n,r,i)=>DNn(e,t,n,r,i),getTimelineController:TNn}}function Wo(e,t){return zX.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,null,t)}const n0e={chunks:[],diff:null,hasMoreChunks:null,isLoading:!1,isPristine:null,lastNonDeletedRevId:null,onOlderRevision:!1,realRevChunk:null,revTime:null,selectionState:"inactive",sinceAttributes:null,sinceTime:null,timelineDisplayed:null,timelineReady:!1};function MNn({documentId:e,documentType:t,onError:n,rev:r,since:i}){var m;const o=i7e(),a=p.useRef(null),s=p.useRef(n0e),l=on(en),u=ri(),d=p.useMemo(()=>o.getTimelineController({client:l,documentId:e,documentType:t}),[l,e,t,o]),f=p.useMemo(()=>new IM(d),[d]);p.useEffect(()=>(d.setRange(i||null,r||null),f.next(d),d.handler=(g,y)=>{g?f.error(g):setTimeout(()=>{y.setRange(i||null,r||null),f.next(y)},0)},d.resume(),()=>d.suspend()),[r,i,d,f]);const h=p.useMemo(()=>{var y;const g=(y=u.__internal_serverDocumentActions)==null?void 0:y.enabled;return typeof g=="boolean"?Se(g):CQ(l)},[l,(m=u.__internal_serverDocumentActions)==null?void 0:m.enabled]);return p.useEffect(()=>(a.current||(a.current=d7n(l,{draftId:`drafts.${e}`,publishedId:e},t,h).subscribe(g=>{d.handleRemoteMutation(g)})),()=>{a.current&&(a.current.unsubscribe(),a.current=null)}),[l,d,e,t,h]),p.useMemo(()=>({findRangeForRev:g=>d.findRangeForNewRev(g),findRangeForSince:g=>d.findRangeForNewSince(g),loadMore:()=>{d.setLoadMore(!0),s.current.isLoading=!0},getSnapshot:()=>s.current,subscribe:g=>{const y=f.pipe(fe(x=>{var k;const b=x.timeline.mapChunks(S=>S),v=b.filter(S=>!["delete","initial"].includes(S.type)),w=!x.timeline.reachedEarliestEntry;w&&b.length>16&&x.setLoadMore(!1);const C=!["invalid","loading"].includes(x.selectionState);return{chunks:b,diff:x.sinceTime?x.currentObjectDiff():null,isLoading:!1,isPristine:C?b.length===0&&w===!1:null,hasMoreChunks:!x.timeline.reachedEarliestEntry,lastNonDeletedRevId:(k=v==null?void 0:v[0])==null?void 0:k.id,onOlderRevision:x.onOlderRevision(),realRevChunk:x.realRevChunk,revTime:x.revTime,selectionState:x.selectionState,sinceAttributes:x.sinceAttributes(),sinceTime:x.sinceTime,timelineDisplayed:x.displayed(),timelineReady:C}}),Ar(Z1),En(x=>(n==null||n(x),Se(n0e))),or(x=>{s.current=x}),or(g)).subscribe();return()=>y.unsubscribe()}}),[d,n,f])}const PNn=e=>{if(e.type==="rollCall")return{type:"rollCall",userId:e.i,sessionId:e.session};if(e.type==="state"){const{sessionId:t,locations:n}=e.m;return{type:"state",userId:e.i,sessionId:t,timestamp:new Date().toISOString(),locations:n}}if(e.type==="disconnect")return{type:"disconnect",userId:e.i,sessionId:e.m.session,timestamp:new Date().toISOString()};throw new Error(`Got unknown presence event: ${JSON.stringify(e)}`)},RNn=(e,t)=>{const n=e.listen("presence").pipe(fe(PNn)),r=i=>i.type==="rollCall"?e.request("presence_rollcall",{session:t}):i.type==="state"?e.request("presence_announce",{data:{locations:i.locations,sessionId:t}}):i.type==="disconnect"?e.request("presence_disconnect",{session:t}):ur;return[n.pipe(ts()),r]},FNn=["pqSMwf6hH","pnLYqNfv5","priDVVmy8","p0NFOU0j8","pTDl2jw8d","pHMeQnTse","pDQYzJbyS","pZyoPHKUs","p4Tyi2Be5","pb9vii060","pE8yhOisw","p7Fd2C6Cj","p3exSgYCx","pbIQRYViC","p8GJaTEhN","p27ewL8aM","pYg97z75S","pdLr4quHv","pkJXiDgg6","pkl4UAKcA","pNoExists"],LNn=[["nested","first"],["nested","second"],["nestedArray",{_key:"565c867c8dac"},"arrayNo1",{_key:"a645548a8f01"},"arrayNo1",{_key:"1685e372c40f"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo19"],["address","country"],["address","street"],["customInputWithDefaultPresence","row3","cell3"]],NNn=Qi(()=>ni(0,1e4)).pipe(rx(FNn),fe((e,t)=>({type:"state",userId:e,sessionId:e+t,timestamp:new Date().toISOString(),locations:[{type:"document",documentId:"presence-debug",lastActiveAt:new Date().toISOString(),path:Dfn(LNn)}]})),go()),n7e="presence_session_id",BNn=()=>ufn(16);function VNn(){try{return window.sessionStorage.getItem(n7e)}catch{}return null}function zNn(e){try{window.sessionStorage.setItem(n7e,e)}catch{}return e}const JA=VNn()||zNn(BNn());function UNn(e){const{bifur:t,connectionStatusStore:n,userStore:r}=e,[i,o]=RNn(t,JA),a=new IM([]),s=a.pipe(Ar()),l=A=>{a.next(A)},u=A=>o({type:"state",locations:A}),d=()=>o({type:"rollCall"}),f=i.pipe(Bt(A=>A.type==="rollCall"),Bt(A=>A.sessionId!==JA)),h=ni(0,3e4),m=Qi(()=>Un(s,f)).pipe(At(()=>h),K3(a),fe(([,A])=>A),dxt(200),At(A=>u(A)),rx(ur),ts()),g=Qi(()=>d()).pipe(rx(ur)),y=n.connectionStatus$.pipe(fe(A=>A.type),Bt(A=>A==="connected"||A==="error"),Ar()),x=X9e.pipe(fe(A=>A.find(I=>I.startsWith("presence="))),fe(A=>(A==null?void 0:A.split("presence=")[1].split(",").map(I=>I.trim()))||[])),b=x.pipe(Bt(A=>A.includes("fake_others")),or(()=>{console.log('Faking other users present in the studio. They will hang out in the document with _type: "presence" and _id: "presence-debug"')}),_xt(NNn)),v=x.pipe(fe(A=>A.includes("show_own"))),w=Un(g,i).pipe(Bt(A=>A.type==="state"||A.type==="disconnect")),C=A=>({lastActiveAt:A.timestamp,locations:A.locations,sessionId:A.sessionId,userId:A.userId}),k=Un(w,b).pipe(Fl((A,I)=>I.type==="disconnect"?Po(A,I.sessionId):{...A,[I.sessionId]:C(I)},{})),S=y.pipe(At(A=>A==="connected"?Un(k,m):HK),fe(A=>Object.values(A)),At(A=>{const I=Io(A.map(j=>j.userId));return ti(r.getUsers(I)).pipe(fe(j=>A.map($=>({user:j.find(D=>D.id===$.userId),session:$})).filter(E)))}),YK(es(window,"beforeunload").pipe(At(()=>o({type:"disconnect"})))),go({refCount:!0,bufferSize:1}));function E(A){return!!(A.user&&A.session)}const _=S.pipe(fe(A=>{const I=IY(A.map(j=>j.session),j=>j.userId);return Object.keys(I).map(j=>{var $;return{user:($=A.find(D=>D.user.id===j))==null?void 0:$.user,sessions:I[j]}})}),K3(v),fe(([A,I])=>A.filter(j=>I?!0:!j.sessions.some($=>$.sessionId===JA))),fe(A=>A.map(I=>{var j;return{user:I.user,status:"online",lastActiveAt:(j=I.sessions.sort()[0])==null?void 0:j.lastActiveAt,locations:jr((I.sessions||[]).map($=>$.locations||[])).map($=>({type:$.type,documentId:$.documentId,path:$.path,lastActiveAt:$.lastActiveAt})).reduce(($,D)=>$.concat(D),[])}}))),T=mo([S,v]).pipe(fe(([A,I])=>A.flatMap(j=>(j.session.locations||[]).map($=>({documentId:$.documentId,presence:{user:j.user,lastActiveAt:j.session.lastActiveAt,path:$.path||[],sessionId:j.session.sessionId,selection:$==null?void 0:$.selection}}))).filter(j=>I||j.presence.sessionId!==JA)),go(1));return{setLocation:l,reportLocations:u,debugPresenceParam$:x,globalPresence$:_,documentPresence:A=>T.pipe(fe(I=>I.filter(j=>j.documentId===A).map(j=>j.presence)),Ar((I,j)=>Dt(I,j)))}}function HNn(e){const{client:t}=e,n=t.config().projectId,r=t.withConfig({apiVersion:"2021-12-15"});function i(){return r.observable.request({url:`/projects/${n}`})}function o(){return r.observable.request({url:`/projects/${n}/datasets`})}return{get:i,getDatasets:o}}function WNn(){const e=new WeakMap,t=new WeakMap;function n(){return Array.from({length:10}).map(()=>Math.floor(Math.random()*255).toString(16).padStart(2,"0")).join("")}function r(u){const d=t.get(u);if(d)return d;const f=n();return t.set(u,f),f}function i(u){return Array.from(new Set(u)).map(d=>[r(d),d]).sort(([d],[f])=>d.localeCompare(f,"en")).map(([,d])=>d)}function o(u,d){if(!u.length)return;const[f,...h]=u,m=d.get(f);if(m)return h.length?o(h,m.next):m.value}function a(u,d,f){if(!u.length)return;const[h,...m]=u,g=d.get(h)||{type:"multi-key-weak-map-node",value:void 0,next:new WeakMap};if(d.set(h,g),!m.length){g.value=f;return}a(m,g.next,f)}function s(u){return o(i(u),e)}function l(u,d){a(i(u),e,d)}return{get:s,set:l}}function r7e({children:e}){const t=p.useMemo(()=>{const n=new Map,r={};return{get:({namespace:i,dependencies:o})=>{var s;const a=o.map(l=>l===null?r:l);return(s=n.get(i))==null?void 0:s.get(a)},set:({namespace:i,dependencies:o,value:a})=>{const s=n.get(i)||WNn(),l=o.map(u=>u===null?r:u);n.set(i,s),s.set(l,a)}}},[]);return c.jsx(cwe.Provider,{value:t,children:e})}function vp(){const e=p.useContext(cwe);if(!e)throw new Error("Could not find `cache` context");return e}const GNn=[{id:"<system>",displayName:"Sanity",imageUrl:"https://public.sanity.io/logos/favicon-192.png"}];function KNn({client:e,currentUser:t}){const n=e.withConfig({apiVersion:"2021-06-07"}),r=new ORe(async o=>{const a=await n.request({uri:`/users/${o.join(",")}`,withCredentials:!0,tag:"users.get"}),s=(Array.isArray(a)?a:[a]).reduce((l,u)=>(u!=null&&u.id&&(l[u.id]=u),l),{});return o.map(l=>s[l]||null)},{batchScheduleFn:o=>u5n(o),maxBatchSize:400}),i=t&&{id:t.id,displayName:t.name,imageUrl:t.profileImage};return r.prime("me",i),i!=null&&i.id&&r.prime(i.id,i),GNn.forEach(o=>r.prime(o.id,o)),{getUser:async o=>{if(!o)return Promise.resolve(null);try{return await r.load(o)}catch(a){if(a.statusCode===403)return Promise.resolve(null);throw a}},getUsers:async o=>(await r.loadMany(o)).filter(a=>Tt(a)&&typeof a.id=="string")}}function SQ(){const{getClient:e,currentUser:t}=er(),n=vp(),r=e(en);return p.useMemo(()=>{const i=n.get({namespace:"userStore",dependencies:[r,t]})||KNn({client:r,currentUser:t});return n.set({namespace:"userStore",dependencies:[r,t],value:i}),i},[r,t,n])}function EQ(){const{getClient:e}=er(),t=e(en),n=dr(),r=vp();return p.useMemo(()=>{const i=r.get({namespace:"grantsStore",dependencies:[t,n]})||aNn({client:t,userId:(n==null?void 0:n.id)||null});return r.set({namespace:"grantsStore",dependencies:[t,n],value:i}),i},[t,n,r])}function i7e(){const e=on(en),t=vp();return p.useMemo(()=>{const n=t.get({namespace:"historyStore",dependencies:[e]})||ONn({client:e});return t.set({namespace:"historyStore",dependencies:[e],value:n}),n},[e,t])}function No(){const e=on(en),t=vp();return p.useMemo(()=>{const n=t.get({namespace:"documentPreviewStore",dependencies:[e]})||B9n({client:e});return t.set({namespace:"documentPreviewStore",dependencies:[e],value:n}),n},[e,t])}function ql(){var u;const{getClient:e,i18n:t}=er(),n=un(),r=mC(),i=vp(),o=i7e(),a=No(),s=ri(),l=p.useMemo(()=>{var f;const d=(f=s.__internal_serverDocumentActions)==null?void 0:f.enabled;return typeof d=="boolean"?Se(d):CQ(e(en))},[e,(u=s.__internal_serverDocumentActions)==null?void 0:u.enabled]);return p.useMemo(()=>{const d=i.get({namespace:"documentStore",dependencies:[e,a,o,n,t,s]})||R7n({getClient:e,documentPreviewStore:a,historyStore:o,initialValueTemplates:r,schema:n,i18n:t,serverActionsEnabled:l});return i.set({namespace:"documentStore",dependencies:[e,a,o,n,t],value:d}),d},[i,e,a,o,n,t,s,r,l])}function YNn(){const{bifur:e}=er().__internal,t=vp();return p.useMemo(()=>{const n=t.get({namespace:"connectionStatusStore",dependencies:[e]})||ZTn({bifur:e});return t.set({namespace:"connectionStatusStore",dependencies:[e],value:n}),n},[e,t])}function _Q(){const{__internal:{bifur:e}}=er(),t=vp(),n=SQ(),r=YNn();return p.useMemo(()=>{const i=t.get({namespace:"presenceStore",dependencies:[e,r,n]})||UNn({bifur:e,connectionStatusStore:r,userStore:n});return t.set({namespace:"presenceStore",dependencies:[e,r,n],value:i}),i},[e,r,t,n])}function qNn(){const e=on(en),t=vp();return p.useMemo(()=>{const n=t.get({namespace:"projectStore",dependencies:[e]})||HNn({client:e});return t.set({namespace:"projectStore",dependencies:[e],value:n}),n},[e,t])}function o7e(){const e=vp(),t=ri(),n=on(en);return p.useMemo(()=>{const r=e.get({dependencies:[t],namespace:"KeyValueStore"})||_Tn({client:n});return e.set({dependencies:[t],namespace:"KeyValueStore",value:r}),r},[n,e,t])}function iC(e){const t=_Q(),[n,r]=p.useState([]);return p.useEffect(()=>{const i=t.documentPresence(e).subscribe(r);return()=>{i.unsubscribe()}},[e,t]),n}function ZNn(){const[e,t]=p.useState([]),n=_Q();return p.useEffect(()=>{const r=n.globalPresence$.subscribe(t);return()=>{r.unsubscribe()}},[n]),e}function xs(e){if(!("diff"in e))return c.jsx(r0e,{...e});const{diff:t,path:n=[],...r}=e,i=p_(t,n);return c.jsx(r0e,{...r,annotations:i?[i]:[]})}function r0e(e){const{annotations:t,children:n,description:r,...i}=e,{t:o}=Q();if(!t)return n;const a=c.jsxs(ae,{space:2,children:[c.jsx(B,{muted:!0,size:1,weight:"medium",children:r||o("changes.changed-label")}),c.jsx(ae,{space:2,children:t.map((s,l)=>c.jsx(XNn,{annotation:s},l))})]});return c.jsx(Jh,{zOffset:"paneFooter",children:c.jsx(Et,{content:a,portal:!0,...i,children:n})})}function XNn({annotation:e}){const{author:t,timestamp:n}=e,[r]=bf(t),i=G8e(e),o=Oy(n,{minimal:!0}),{t:a}=Q();return c.jsxs(Wn,{space:2,children:[c.jsxs(W,{align:"center",paddingRight:3,style:{backgroundColor:i.background,color:i.text,borderRadius:"calc(23px / 2)"},children:[c.jsx(Vl,{user:t}),c.jsx(Wn,{paddingLeft:2,children:c.jsx(B,{muted:!0,size:1,style:{color:i.text},children:r?r.displayName:a("changes.loading-author")})})]}),c.jsx(B,{as:"time",muted:!0,size:1,dateTime:n,children:o})]})}const JNn=R(le)`
  --diff-card-radius: ${({theme:e})=>Te(e.sanity.radius[2])};
  --diff-card-bg-color: ${({theme:e})=>e.sanity.color.card.enabled.bg};

  max-width: 100%;
  position: relative;
  border-radius: var(--diff-card-radius);
  background-color: ${({$annotationColor:e})=>e.backgroundColor};
  color: ${({$annotationColor:e})=>e.color};

  &:not(del) {
    text-decoration: none;
  }

  &[data-hover] {
    &::after {
      content: '';
      display: block;
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
    }

    &:hover {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }

    [data-from-to-layout]:hover & {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }
  }
`,QNn=[],Ja=p.forwardRef(function(e,t){const{annotation:n,as:r="div",children:i,className:o,diff:a,disableHoverEffect:s,path:l=QNn,style:u={},tooltip:d,...f}=e,h=p.useMemo(()=>n||p_(a,l),[n,a,l]),m=G8e(h),g=c.jsx(JNn,{...f,as:r,className:o,"data-hover":s||!h?void 0:"","data-ui":"diff-card",ref:t,radius:1,$annotationColor:{backgroundColor:m.background,color:m.text},style:u,children:i});return d&&h?c.jsx(xs,{annotations:[h],description:d&&typeof d=="object"&&d.description,children:g}):g}),TQ=R.div`
  border-radius: ${({theme:e})=>Te(e.sanity.radius[2])};
  padding: ${({theme:e})=>Te(e.sanity.space[1])};
`,LD=R(B)`
  &:not([hidden]) {
    color: inherit;
  }
`;function eBn(e){const{change:t,segment:n}=e;if(typeof n=="string")return c.jsx(V,{children:c.jsx(B,{title:n,size:1,weight:"medium",textOverflow:"ellipsis",children:n})});const{hasMoved:r,fromIndex:i,toIndex:o,annotation:a}=n,s=typeof i>"u",l=typeof o>"u";if(s)return c.jsx(tBn,{annotation:a,change:t,toIndex:o});if(l)return c.jsx(nBn,{annotation:a,fromIndex:i});if(r&&typeof o<"u"&&typeof i<"u")return c.jsx(rBn,{annotation:a,fromIndex:i,toIndex:o});const u=(o||0)+1;return c.jsx(V,{padding:1,children:c.jsxs(B,{size:1,weight:"medium",children:["#",u]})})}function tBn(e){const{annotation:t,change:n,toIndex:r=0}=e,{t:i}=Q(),o=r+1,a=i("changes.array.item-added-in-position",{position:o}),s=c.jsxs(c.Fragment,{children:["#",o]}),l=(n!=null&&n.diff?p_(n.diff,[]):void 0)||t;return l?c.jsx(Ja,{annotation:l,tooltip:{description:a},as:TQ,children:c.jsx(LD,{size:1,weight:"medium",forwardedAs:"ins",style:{textDecoration:"none"},children:s})}):c.jsx(B,{size:1,weight:"medium",children:s})}function nBn(e){const{annotation:t,fromIndex:n=0}=e,{t:r}=Q(),i=n+1,o=r("changes.array.item-removed-from-position",{position:i});return c.jsx(Ja,{annotation:t||null,as:TQ,tooltip:{description:o},children:c.jsxs(LD,{size:1,weight:"medium",forwardedAs:"del",children:["#",i]})})}function rBn(e){const{annotation:t,fromIndex:n,toIndex:r}=e,{t:i}=Q(),o=r-n,a=o<0?"":"",s=Math.abs(o),l=o<0?"up":"down",u=i("changes.array.item-moved",{count:s,context:l});return c.jsxs(c.Fragment,{children:[c.jsx(V,{padding:1,children:c.jsxs(LD,{size:1,weight:"medium",children:["#",r+1]})}),c.jsx(Ja,{annotation:t,as:TQ,tooltip:{description:u},children:c.jsxs(LD,{size:1,weight:"medium",children:[a,Math.abs(o)]})})]})}function a7e(e){const{change:t,titlePath:n}=e;return c.jsx(BG,{maxLength:4,separator:c.jsx(B,{muted:!0,size:1,children:c.jsx(Es,{})}),children:n.map((r,i)=>typeof r=="string"||!t||t.showIndex?c.jsx(eBn,{change:t,segment:r},i):null)})}function iBn(e){return Tt(e)&&typeof(e==null?void 0:e.then)=="function"}function oBn(e,t,n){const{currentUser:r,document:i,parent:o,value:a}=n,s=p.useRef(!1);return p.useMemo(()=>{let l=!1;if(typeof e=="boolean"||e===void 0)return e||!1;try{l=e({document:i,parent:o,value:a,currentUser:r})}catch(u){return console.error(`An error occurred while running the callback from \`${t}\`: ${u.message}`),!1}return iBn(l)&&!s.current?(console.warn(`The \`${t}\` option is either a promise or a promise returning function. Async callbacks for \`${t}\` option is not currently supported.`),!1):(typeof l>"u"&&console.warn(`The \`${t}\` option is or returned \`undefined\`. \`${t}\` should return a boolean.`),l)},[e,i,o,a,r,t])}const _U=e=>{const{checkProperty:t=!1,checkPropertyKey:n,document:r,parent:i,value:o}=e,a=ya(o),s=dr();return oBn(t,n,{currentUser:s,document:r,parent:i,value:a})};function aBn(e){return Mm(e)?e._type:lBn(e)}function sBn(e,t){return e.action==="added"?{toType:lk(t,e.toValue)}:e.action==="changed"?{fromType:lk(t,e.fromValue),toType:lk(t,e.toValue)}:e.action==="removed"?{fromType:lk(t,e.fromValue)}:{toType:lk(t,e.toValue)}}function lk(e,t){const n=aBn(t);return e.of.find(r=>r.name===n)||(e.of.length===1?e.of[0]:void 0)}function lBn(e){return Array.isArray(e)?"array":e===null?"null":typeof e}const oC=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],a4="",aC=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],cBn="",ND=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],uBn="",s7e="";function dBn(e){return e.of.some(c7e)}const fBn=aC.map(e=>e[0]).concat(oC.map(e=>e[0])),hBn=aC.map(e=>e[1]).concat(oC.map(e=>e[1])),l7e=fBn.concat(hBn).concat(ND).concat(a4).concat(s7e),i0e=new RegExp(`${l7e.join("|")}`,"g"),pBn=new RegExp(`${l7e.join("|")}|
`,"g");function c7e(e){return e.jsonType==="object"&&e.name==="block"}function mBn(e){return qa(e)&&!!e.style&&["h1","h2","h3","h4","h5","h6"].includes(e.style)}function o0e(e,t){return e.fields.children.items.filter(n=>n.diff.isChanged&&(n.diff.toValue===t||n.diff.fromValue===t)).map(n=>n.diff).map(n=>n)[0]}function TU(e,t){const n=e.find(r=>r.name==="children");return n&&n.type&&n.type.jsonType==="array"&&n.type.of.find(r=>r.name===t._type)||void 0}function AQ(e){return e.decorators?_w(e.decorators,["value"],["asc"]):[]}function u7e(e,t){return AQ(t).some(n=>n.value===e)}function a0e(e,t,n,r,i){return t?t.children.map(o=>{var s,l;let a=jl(o)?(s=o.text)==null?void 0:s.replace(i0e,""):"";if(jl(o)){const u=(l=jQ(e,o))==null?void 0:l.fields.text;u&&u.toValue===o.text&&u.type==="string"&&u.action!=="unchanged"&&(a=u.segments.filter(d=>d.action!=="removed").map(d=>d.text.replace(i0e,"")).join(s7e)),o.marks&&o.marks.forEach(d=>{n[d]?a=`${n[d][0]}${a}${n[d][1]}`:r[d]&&(a=`${r[d][0]}${a}${r[d][1]}`)})}else a=i[o._key];return`${a4}${a}`}).join(""):""}function gBn(e,t){const n=e.action==="removed"?e.fromValue:e.toValue,r={...e,origin:e,displayValue:n};if(n){const i={},o={},a={},s=TU(t.fields,{_key:"bogus",_type:"span"});s&&AQ(s).forEach((h,m)=>{o[h.value]=aC[m]}),h7e(r.origin).forEach((h,m)=>{i[h._key]=oC[m]}),d7e(r.origin).forEach((h,m)=>{a[h._key]=ND[m]});const l=a0e(r.origin,r.fromValue,o,i,a),u=a0e(r.origin,r.toValue,o,i,a),d={...n,children:[{_type:"span",_key:"pseudoSpanKey",text:u,marks:[]}]},f={displayValue:n,children:[{_type:"span",_key:"pseudoSpanKey",text:l,marks:[]}]};return{origin:e,action:"changed",type:"object",displayValue:d,fromValue:f,toValue:d,isChanged:!0,fields:{children:{action:"changed",type:"array",isChanged:!0,items:[{diff:{action:"changed",type:"object",isChanged:!0,fields:{text:{type:"string",action:"changed",isChanged:!0,fromValue:l,toValue:u,segments:yBn(l,u).map(h=>({...h,...r.action!=="unchanged"&&r.annotation?{annotation:r.annotation}:{}}))}},fromValue:f.children[0],toValue:d.children[0]},annotation:null,fromIndex:0,toIndex:0,hasMoved:!1}],fromValue:f.children,toValue:d.children}}}}throw new Error("Can not display this diff")}function yBn(e,t){const n=[],r=NP(Nw(e,t));let i=0,o=0;for(const[a,s]of r)switch(a){case Xt:n.push({type:"stringSegment",action:"unchanged",text:s}),i+=s.length,o+=s.length;break;case vr:n.push({type:"stringSegment",action:"removed",text:e.slice(i,i+s.length),annotation:null}),i+=s.length;break;case Rr:n.push({type:"stringSegment",action:"added",text:t.slice(o,o+s.length),annotation:null}),o+=s.length;break}return jr(n.map(a=>{const s=[];if(a.text.length>1){const l=[...a.text.matchAll(pBn)];let u=-1;l.forEach(d=>{const f=d.index||0;f>u&&(s.push({...a,text:a.text.slice(u+1,f)}),s.push({...a,text:d[0]})),d===l[l.length-1]&&s.push({...a,text:a.text.slice(Math.max(0,f+1))}),u=f}),l.length===0&&s.push(a)}else s.push(a);return s}))}function d7e(e){const t=[...e.toValue?e.toValue.children.filter(n=>n._type!=="span"):[]];return(e.fromValue?e.fromValue.children.filter(n=>n._type!=="span"):[]).forEach(n=>{t.some(r=>n._key===r._key)||t.push(n)}),_w(t,["_key"],["asc"])}function jQ(e,t){const n=e.fields.children&&e.fields.children.action!=="unchanged"&&e.fields.children.type==="array"&&e.fields.children.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.action==="removed"?r.diff.fromValue&&r.diff.fromValue._key===t._key:(r.diff.toValue&&r.diff.toValue._key)===t._key));if(n)return n.diff}function vBn(e,t){var n;return e.fields.markDefs&&e.fields.markDefs.isChanged&&e.fields.markDefs.type==="array"&&((n=e.fields.markDefs.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.toValue&&r.diff.toValue._key&&r.diff.toValue._key===t||r.diff.fromValue&&r.diff.fromValue._key&&r.diff.fromValue._key===t)))==null?void 0:n.diff)||void 0}function f7e(e){return e&&Dt(Object.keys(e),["_key","_type"])||!1}function bBn(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function h7e(e){const t=[...e.toValue&&e.toValue.markDefs?e.toValue.markDefs:[]];return(e.fromValue&&e.fromValue.markDefs?e.fromValue.markDefs:[]).forEach(n=>{t.some(r=>n._key===r._key)||t.push(n)}),_w(t,["_key"],["asc"])}function Rs(e){const t=typeof e;if(t==="object"){if(e===null)return"null";if(Array.isArray(e))return"array";if(e instanceof Object&&e.constructor.name!=="Object")return e.constructor.name}return t}function AU(e,t){const{jsonType:n}=t,r=Array.isArray(e)?"array":typeof e;if(!(e===null||r==="undefined")){if(r!==n)return{messageKey:"changes.error.incorrect-type-message",value:e,expectedType:n,actualType:Rs(e)};if(xBn(t)&&wBn(e))for(const i of t.fields){const o=AU(e[i.name],i.type);if(o)return o}}}function xBn(e){return e.jsonType==="object"}function wBn(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"}function p7e(e){return e.type==="field"}const CBn=[];function kBn({checked:e,color:t}){return c.jsxs("svg",{width:"17",height:"17",viewBox:"0 0 17 17",xmlns:"http://www.w3.org/2000/svg",fill:t==null?void 0:t.background,children:[c.jsx("rect",{x:"0",y:"0",width:"17",height:"17",rx:"2.5"}),typeof e>"u"&&c.jsx("path",{d:"M4.07996 8.5H12.92",stroke:t==null?void 0:t.text,strokeWidth:"2"}),e&&c.jsx("path",{d:"M3.5 8L7 11.5L13.5 5",stroke:t==null?void 0:t.text,strokeWidth:"2"})]})}function SBn({checked:e,color:t}){return c.jsxs("svg",{width:"38",height:"22",viewBox:"0 0 38 22",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("rect",{width:"38",height:"22",rx:"11",fill:e?t==null?void 0:t.border:t==null?void 0:t.background}),typeof e>"u"&&c.jsx("rect",{x:"11",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),e&&c.jsx("rect",{x:"18",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),typeof e=="boolean"&&!e&&c.jsx("rect",{x:"4",y:"3",width:"16",height:"16",rx:"8",fill:"white"})]})}const EBn=({diff:e,schemaType:t})=>{const{fromValue:n,toValue:r}=e,{title:i,options:o}=t,a=(o==null?void 0:o.layout)==="checkbox"?kBn:SBn,s=Dx(e,[]),{showFromValue:l}=sC(),u=r!=null;return c.jsxs(W,{align:"center",children:[c.jsx(xs,{diff:e,children:c.jsxs(W,{align:"center",children:[l&&c.jsx(a,{checked:n,color:s}),u&&c.jsxs(c.Fragment,{children:[l&&c.jsx(V,{marginX:2,children:c.jsx(PQ,{})}),c.jsx(a,{checked:r,color:s})]})]})}),u&&i&&c.jsx(V,{marginLeft:2,children:c.jsx(B,{size:1,weight:"medium",children:i})})]})},_Bn=R.div`
  display: inline-block;
  word-wrap: break-word;
`,TBn=function({value:e,schemaType:t}){return c.jsx(V,{as:_Bn,paddingX:2,paddingY:1,children:ABn(e,t)})};function ABn(e,t){const{options:n,name:r}=t,i=(n==null?void 0:n.dateFormat)||xg,o=(n==null?void 0:n.timeFormat)||kY;return Sw(new Date(e),r==="date"?i:`${i} ${o}`)}const s0e=({diff:e,schemaType:t})=>c.jsx(k_,{align:"center",diff:e,layout:"grid",previewComponent:TBn,schemaType:t});function sC(){const e=p.useContext(Vxe);if(!e)throw new Error("DocumentChange: missing context value");return e}function l0e(e){const[t,n]=p.useState(void 0),r=on(en);return p.useEffect(()=>{if(!e)return;const i=r.observable.getDocument(e).subscribe(n);return()=>{i.unsubscribe()}},[r,e]),e?t:void 0}function jBn(e,t){if(!e||!t)return 0;const n=t-e;return Math.round(n/e*100)}function jU(e,t){return e<1e3?t(e,"byte"):e<1e3*1e3?t(e/1e3,"kilobyte"):e<1e3*1e3*1e3?t(e/(1e3*1e3),"megabyte"):e<1e3*1e3*1e3*1e3?t(e/(1e3*1e3*1e3),"gigabyte"):t(e/(1e3*1e3*1e3*1e3),"terabyte")}const IBn=R.div`
  ${({theme:e})=>`
    --size-diff-positive: ${e.sanity.color.solid.positive.enabled.bg};
    --size-diff-negative: ${e.sanity.color.solid.critical.enabled.bg};
  `}
  &:not([hidden]) {
    display: inline-block;
  }

  [data-number='positive'] {
    color: var(--size-diff-positive);
  }

  [data-number='negative'] {
    color: var(--size-diff-negative);
  }
`,$Bn=({diff:e,schemaType:t})=>{const{fromValue:n,toValue:r,fields:i}=e,o=n==null?void 0:n.asset,a=r==null?void 0:r.asset,{t:s}=Q(),l=l0e(o==null?void 0:o._ref),u=l0e(a==null?void 0:a._ref),d=FQ({unitDisplay:"short",maximumFractionDigits:2}),f=Object.entries(i).filter(([k,S])=>S.isChanged&&k!=="_type").map(([k])=>k),h=f.includes("asset"),m=t.fields.filter(k=>k.name!=="asset"&&f.includes(k.name)).map(k=>k.name),g=jBn(l==null?void 0:l.size,u==null?void 0:u.size),y=(l==null?void 0:l.size)&&jU(l.size,d),x=(u==null?void 0:u.size)&&jU(u.size,d),b=p.useMemo(()=>({display:"block",flex:1}),[]),v=l&&c.jsx(Ja,{as:"del",diff:e,path:"asset._ref",style:b,children:c.jsx(MU,{title:l.originalFilename||s("changes.file.meta-info-fallback-title"),icon:Kd,children:c.jsx(B,{size:0,style:{color:"inherit"},children:y})})}),w=u&&c.jsx(Ja,{as:"ins",diff:e,path:"asset._ref",style:b,children:c.jsx(MU,{title:u.originalFilename||s("changes.file.meta-info-fallback-title"),icon:Kd,children:c.jsxs(W,{align:"center",children:[c.jsx(B,{size:0,style:{color:"inherit"},children:x}),g!==0&&c.jsx(le,{radius:2,padding:1,as:IBn,marginLeft:2,children:c.jsxs(B,{size:0,"data-number":g>0?"positive":"negative",children:[g>0?"+":"-",g,"%"]})})]})})}),C=c.jsxs(c.Fragment,{children:[v&&!w&&c.jsx(xs,{diff:e,path:"asset._ref",description:s("changes.removed-label"),children:v}),v&&w&&c.jsx(xs,{diff:e,path:"asset._ref",children:c.jsx(RQ,{from:v,layout:"grid",to:w})}),!v&&w&&c.jsx(xs,{diff:e,path:"asset._ref",description:s("changes.added-label"),children:w})]});return c.jsxs(c.Fragment,{children:[h&&C,m.length>0&&c.jsx(V,{marginTop:h?4:3,children:c.jsx(S_,{diff:e,schemaType:t,fields:m})})]})};function c0e(e,t){return`rgba(${(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e)||[]).slice(1).map(n=>parseInt(n,16)).concat(t).join(", ")})`}function DBn(e){let t=0;if(e.length==0)return t.toString();for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t.toString()}function OBn(){const e=Math.ceil(window.devicePixelRatio||1);return Math.min(3,Math.max(1,e))}function MBn(e){const{crop:t,diff:n,hash:r,hotspot:i,width:o=100,height:a=100,...s}=e,{t:l}=Q(),u=Dx(n,"crop"),d=Dx(n,"hotspot");return c.jsxs("svg",{...s,fill:"none",width:o,height:a,viewBox:`0 0 ${o} ${a}`,children:[c.jsx("defs",{children:t&&i&&c.jsxs("mask",{id:`mask-hotspot-${r}`,children:[c.jsx("rect",{x:0,y:0,width:o,height:a,fill:"#fff"}),c.jsx(u0e,{hotspot:i,fill:"#000",offset:1,width:o,height:a,stroke:"#000",strokeWidth:3})]})}),t&&c.jsx(xs,{diff:n,path:"crop",description:l("changes.image.crop-changed"),children:c.jsx("g",{children:c.jsx(PBn,{crop:t,fill:c0e(u.border,.25),mask:i?`url(#mask-hotspot-${r})`:void 0,stroke:u.border,strokeWidth:1,width:o,height:a})})}),i&&c.jsx(xs,{diff:n,path:"hotspot",description:l("changes.image.crop-changed"),children:c.jsx("g",{children:c.jsx(u0e,{hotspot:i,fill:c0e(d.border,.25),stroke:d.border,strokeWidth:1,width:o,height:a})})})]})}function PBn({crop:e,width:t,height:n,...r}){const i={x:e.left*t,y:e.top*n,width:(1-e.right-e.left)*t,height:(1-e.bottom-e.top)*n};return c.jsx("rect",{...r,...i,style:{vectorEffect:"non-scaling-stroke"}})}function u0e({hotspot:e,offset:t=0,width:n,height:r,...i}){const o={cx:e.x*n,cy:e.y*r,rx:e.width/2*n+t,ry:e.height/2*r+t};return c.jsx("ellipse",{...i,...o,style:{vectorEffect:"non-scaling-stroke"}})}const RBn=["originalFilename"],d0e=()=>{const{t:e}=Q();return c.jsx(le,{flex:1,tone:"transparent",padding:4,radius:2,height:"stretch",children:c.jsx(W,{align:"center",justify:"center",height:"fill",children:c.jsx(B,{size:1,muted:!0,children:e("changes.image.no-image-placeholder")})})})},FBn=R.div`
  height: 100%;
  max-height: 190px;
  position: relative;

  /* Ideally the checkerboard component currently in the form builder should be made available and used here */
  background-color: ${ln.gray[100].hex};
  background-image: linear-gradient(45deg, ${ln.gray[50].hex} 25%, transparent 25%),
    linear-gradient(-45deg, ${ln.gray[50].hex} 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, ${ln.gray[50].hex} 75%),
    linear-gradient(-45deg, transparent 75%, ${ln.gray[50].hex} 75%);
  background-size: 16px 16px;
  background-position:
    0 0,
    0 8px,
    8px -8px,
    -8px 0;

  &::after {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    pointer-events: none;
  }

  &[data-changed] {
    opacity: 0.45;
  }
`,LBn=R.img`
  display: block;
  flex: 1;
  min-height: 0;
  object-fit: contain;
  width: 100%;
  height: 100%;

  &[data-action='removed'] {
    opacity: 0.45;
  }
`,NBn=R.div`
  svg {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
`;function e9(e){var C,k,S,E;const{id:t,action:n,diff:r,hotspot:i,crop:o,is:a}=e,{t:s}=Q(),l=on(en),[u,d]=p.useState(),{value:f}=L7n(t,RBn),h=SEt(t),m=p.useMemo(()=>CE(l),[l]),g=f===null,y=f&&f.originalFilename,x=m.image(t).height(190).dpr(OBn()).fit("max"),b=((k=(C=r.fromValue)==null?void 0:C.asset)==null?void 0:k._ref)!==((E=(S=r.toValue)==null?void 0:S.asset)==null?void 0:E._ref);let v;n&&n!=="changed"&&(v=s(n==="added"?"changes.added-label":"changes.removed-label"));const w=n==="changed"?void 0:n;return c.jsxs(W,{direction:"column",height:"fill",flex:1,children:[c.jsx(V,{flex:1,padding:2,paddingBottom:0,children:c.jsxs(W,{as:FBn,direction:"column","data-changed":a==="from"&&b?"":void 0,"data-error":u?"":void 0,children:[!g&&!u&&c.jsx(LBn,{src:x.toString()||"",alt:y,"data-action":w,onError:d,width:h.width,height:h.height}),(g||u)&&c.jsx(V,{paddingY:5,children:c.jsx(B,{size:1,muted:!0,align:"center",children:s(g?"changes.image.deleted":"changes.image.error-loading-image")})}),c.jsx(NBn,{children:c.jsx(MBn,{crop:o&&!sEt(o)?o:void 0,diff:r,hash:DBn(`${x.toString()||""}-${a}`),hotspot:i&&!lEt(i)?i:void 0,width:h.width,height:h.height})})]})}),c.jsx(MU,{title:y||s("changes.image.meta-info-fallback-title"),icon:Fu,markRemoved:b&&a==="from",children:v?c.jsx("div",{children:v}):c.jsxs("div",{children:[h.width,"  ",h.height]})})]})}const BBn=["crop","hotspot"],VBn=["asset",...BBn],t9={flex:1},zBn=({diff:e,schemaType:t})=>{var E,_;const{t:n}=Q(),{showFromValue:r}=sC(),{fromValue:i,toValue:o,fields:a,isChanged:s}=e,l=(E=i==null?void 0:i.asset)==null?void 0:E._ref,u=(_=o==null?void 0:o.asset)==null?void 0:_._ref,d=p_(e,["asset","_ref"]),f=Object.keys(a).filter(T=>a[T].isChanged&&T!=="_type"),h=t.fields.filter(T=>!VBn.includes(T.name)&&f.includes(T.name)).map(T=>T.name);let m="changed";!l&&u?m="added":!u&&l&&(m="removed");const g=f.includes("asset"),y=f.includes("crop"),x=f.includes("hotspot"),b=y||x,v=g||b,w=b&&!g,C=i&&l?c.jsx(Ja,{annotation:d,style:t9,children:c.jsx(e9,{is:"from",id:l,diff:e,action:m,hotspot:w&&x?i.hotspot:void 0,crop:w&&y?i.crop:void 0})}):c.jsx(d0e,{}),k=o&&u?c.jsx(Ja,{annotation:d,style:t9,children:c.jsx(e9,{is:"to",id:u,diff:e,hotspot:w&&x?o.hotspot:void 0,crop:w&&y?o.crop:void 0})}):c.jsx(d0e,{});if(!C&&!k)return c.jsx(le,{padding:4,radius:2,tone:"transparent",children:c.jsx(B,{muted:!0,size:1,align:"center",children:n("changes.image.no-asset-set")})});if(!s)return u?c.jsx(Ja,{annotation:d,style:t9,children:c.jsx(e9,{id:u,is:"to",diff:e})}):null;const S=c.jsx(RQ,{align:"center",from:r?C:void 0,layout:"grid",to:k});return c.jsxs(c.Fragment,{children:[v&&(g?c.jsx(xs,{annotations:d?[d]:[],description:UBn(m,n),children:S}):S),h.length>0&&c.jsx(V,{marginTop:v?4:3,children:c.jsx(S_,{diff:e,schemaType:t,fields:h})})]})};function UBn(e,t){switch(e){case"changed":return t("changes.changed-label");case"added":return t("changes.added-label");case"removed":return t("changes.removed-label");default:return"Unknown change"}}const HBn=R.div`
  display: inline-block;
  word-break: break-all;
`,WBn=e=>{const{value:t}=e;return c.jsx(V,{as:HBn,paddingX:2,paddingY:1,children:t})},GBn=({diff:e,schemaType:t})=>c.jsx(k_,{diff:e,schemaType:t,previewComponent:WBn,layout:"inline"}),lC=R(V)`
  &:not([hidden]) {
    display: inline;
    align-items: center;

    &[data-changed] {
      cursor: pointer;
    }
  }
`,m7e=R(B)`
  &:not([hidden]) {
    display: inline;
    color: inherit;
  }
`,IQ=R(V)`
  &:not([hidden]) {
    display: inline-flex;
    align-items: center;

    ${lC} [data-ui="Text"] {
      opacity: 0.5;
    }
  }
`,g7e=R(V)`
  min-width: 160px;
  max-height: 40vh;
  overflow-y: auto;
`,IU=R.div`
  text-decoration: none;
  display: inline;
  position: relative;
  border: 0;
  padding: 0;
  border-bottom: 2px dotted currentColor;
  box-shadow: inset 0 0 0 1px var(--card-border-color);
  white-space: nowrap;
  align-items: center;
  background-color: color(var(--card-fg-color) a(10%));

  &[data-changed] {
    cursor: pointer;
  }

  &[data-removed] {
    text-decoration: line-through;
  }

  &:hover ${IQ} {
    opacity: 1;
  }
`;function KBn({children:e,diff:t,object:n,schemaType:r,path:i,...o}){const{t:a}=Q();return r?t&&t.action!=="unchanged"?c.jsx(YBn,{...o,diff:t,object:n,schemaType:r,path:i,children:e}):c.jsx(IU,{children:e}):c.jsx(IU,{...o,children:a("changes.portable-text.unknown-annotation-schema-type")})}function YBn({diff:e,children:t,object:n,schemaType:r,path:i,...o}){const{onSetFocus:a}=p.useContext(Py),{path:s}=p.useContext(kh),l=p.useRef(null),{t:u}=Q(),d=Dx(e,[]),f=p.useMemo(()=>d?{background:d.background,color:d.text}:{},[d]),h=e.action==="removed",[m,g]=p.useState(!1),y=n&&f7e(n),x=p.useMemo(()=>[i[0]].concat(["markDefs",{_key:n._key}]),[n._key,i]),b=p.useMemo(()=>s.slice(0,s.findIndex(j=>Cr(j)&&j._key===n._key)),[s,n._key]),v=p.useMemo(()=>b.concat(i),[i,b]),w=p.useMemo(()=>b.concat(x),[x,b]),C=`field-${rn(w)}`,k=vJ(),S=p.useMemo(()=>k.filter(([j])=>j.startsWith(C)).length>0,[C,k]);p.useEffect(()=>{!m&&S&&(g(!0),a(w))},[S,w,a,m]);const E=p.useCallback(j=>{j.stopPropagation(),g(!0),h||(j.preventDefault(),a(v),setTimeout(()=>a(w),10))},[v,h,w,a]);On(!S&&(()=>g(!1)),()=>[l.current]);const _=e.action!=="unchanged"&&e.annotation||null,T=p.useMemo(()=>_?[_]:[],[_]),A=p.useMemo(()=>({path:w}),[w]),I=c.jsx(kh.Provider,{value:A,children:c.jsx(g7e,{padding:3,children:c.jsxs("div",{children:[y&&c.jsx(B,{muted:!0,size:1,weight:"medium",children:u("changes.portable-text.empty-object-annotation",{annotationType:r.title||r.name})}),!y&&c.jsx(S_,{diff:e,schemaType:r})]})})});return c.jsx(IU,{...o,onClick:E,style:f,"data-changed":"","data-removed":e.action==="removed"?"":void 0,children:c.jsx(Fn,{content:I,open:m,ref:l,portal:!0,children:c.jsx(IQ,{paddingLeft:1,children:c.jsx(xs,{annotations:T,description:u("changes.portable-text.annotation",{context:e.action}),children:c.jsxs(lC,{style:{display:"inline-flex"},children:[c.jsx("span",{children:t}),c.jsx(W,{align:"center",paddingX:1,children:c.jsx(m7e,{size:0,children:c.jsx(ea,{})})})]})})})})})}const qBn=R.blockquote`
  margin: 0;
`;function ZBn({children:e}){return c.jsx("div",{children:c.jsx(qBn,{children:e})})}const XBn={h1:2,h2:1,h3:0,h4:0,h5:0,h6:0},JBn=R(vo)`
  &:not([hidden]) {
    display: inline;
    text-transform: none;
    margin: 0;

    &::before,
    &::after {
      content: unset;
    }
  }
`;function QBn({style:e,children:t}){return c.jsx(JBn,{size:XBn[e],children:t})}const eVn=R.div`
  text-transform: none;
  white-space: wrap;
  overflow-wrap: break-word;
  margin: 0;
`;function tVn({children:e}){return c.jsx(eVn,{children:e})}const nVn=[];function rVn(e){var h,m,g;const{diff:t,block:n,children:r}=e,i=Dx(t,nVn),{path:o}=p.useContext(kh),{onSetFocus:a}=p.useContext(Py),{t:s}=Q(),l=t.action==="removed";let u=r;const d=p.useCallback(y=>{y.stopPropagation(),l||a(o)},[o,l,a]);n.style==="blockquote"?u=c.jsx(ZBn,{children:u}):n.style&&mBn(n)?u=c.jsx(QBn,{style:n.style,children:u}):u=c.jsx(tVn,{children:u});let f;if(t.origin.action==="changed"&&t.origin.fields.style&&t.origin.fields.style.action==="changed"&&t.origin.fields.style.annotation){f=(m=(h=t==null?void 0:t.origin)==null?void 0:h.fromValue)==null?void 0:m.style;const y=i?{background:i.background,color:i.text}:{};u=c.jsx(le,{padding:3,border:!0,radius:2,style:{borderStyle:"dotted"},"diff-block-action":t.action,"data-block-note":`changed_from_style_${f||"undefined"}`,children:c.jsxs(ae,{space:2,children:[c.jsx(xs,{annotations:[(g=t.origin.fields.style)==null?void 0:g.annotation],diff:t.origin.fields.style,children:c.jsx(B,{size:0,children:s("changes.portable-text.block-style-changed",{fromStyle:f,toStyle:n.style})})}),c.jsx(V,{style:y,children:u})]})})}return c.jsx("div",{onClick:d,"data-diff-block-action":t.action,"data-block-note":`changed_from_style_${f||"undefined"}`,children:u})}const iVn=R.span`
  display: inline;
  ${({theme:e,decoration:t})=>{switch(t){case"strong":return"font-weight: bold;";case"em":return"font-style: italic;";case"underline":return"text-decoration: underline;";case"overline":return"text-decoration: overline;";case"strike-through":return"text-decoration: line-through;";case"code":return`
          font-family: ${e.sanity.fonts.code.family};
          background: ${e.sanity.color.muted.default.enabled.bg};
        `;default:return""}}}
`;function oVn({mark:e,children:t}){return c.jsx(iVn,{decoration:e,children:t})}const $U=R(le)`
  &:not([hidden]) {
    display: inline;
    cursor: pointer;
    white-space: nowrap;
    align-items: center;

    &[data-removed] {
      text-decoration: line-through;
    }

    ${lC} {
      display: inline-flex;
    }
  }
`;function aVn({diff:e,object:t,schemaType:n,...r}){const{t:i}=Q();return n?e?c.jsx(sVn,{...r,diff:e,object:t,schemaType:n}):c.jsx($U,{children:c.jsx(nC,{schemaType:n,value:t,layout:"inline"})}):c.jsx($U,{...r,border:!0,radius:1,children:i("changes.portable-text.unknown-inline-object-schema-type",{schemaType:t._type})})}function sVn({diff:e,object:t,path:n,schemaType:r,...i}){const{path:o}=p.useContext(kh),{onSetFocus:a}=p.useContext(Py),{t:s}=Q(),l=Dx(e,[]),u=p.useMemo(()=>l?{background:l.background,color:l.text}:{},[l]),[d,f]=p.useState(!1),h=t&&f7e(t),m=e.action==="removed",g=o.slice(0,o.findIndex(_=>Cr(_)&&_._key===t._key)).concat(n),y=`field-${rn(g)}`,x=vJ().filter(([_])=>_.startsWith(y)).length>0,b=o.slice(0,-1).concat(n).concat([DUe]);p.useEffect(()=>{x&&(f(!0),a(b))},[b,x,a]);const v=p.useCallback(_=>{if(_.stopPropagation(),f(!0),!m){a(b);return}_.preventDefault()},[b,m,a]),w=p.useCallback(()=>{f(!1)},[]),C=p.useMemo(()=>({path:g}),[g]),k=c.jsx(kh.Provider,{value:C,children:c.jsx(lVn,{diff:e,emptyObject:h,onClose:w,schemaType:r})}),S=e.action!=="unchanged"&&e.annotation||null,E=S?[S]:[];return c.jsx($U,{...i,onClick:v,style:u,"data-removed":e.action==="removed"?"":void 0,border:!0,radius:2,children:c.jsx(Fn,{content:k,open:d,portal:!0,children:c.jsx(IQ,{children:c.jsx(xs,{annotations:E,description:s("changes.portable-text.inline-object",{context:e.action}),children:c.jsxs(lC,{children:[c.jsx(nC,{schemaType:r,value:t,layout:"inline"}),c.jsx(W,{align:"center",paddingX:1,children:c.jsx(m7e,{size:0,children:c.jsx(ea,{})})})]})})})})})}function lVn({diff:e,emptyObject:t,onClose:n,schemaType:r}){const{t:i}=Q(),o=p.useRef(null);return On(n,()=>[o.current]),c.jsxs(g7e,{ref:o,padding:3,children:[t&&c.jsx(B,{muted:!0,size:1,weight:"medium",children:i("changes.portable-text.empty-inline-object",{inlineObjectType:r.title||r.name})}),!t&&c.jsx(S_,{diff:e,schemaType:r})]})}function cVn({diff:e,childDiff:t,children:n,path:r,segment:i,...o}){const a=e||t;return a&&a.action!=="unchanged"&&i.action!=="unchanged"?c.jsx(uVn,{...o,childDiff:t,diff:e,segment:i,path:r,children:n}):c.jsx(lC,{children:n})}function uVn({diff:e,childDiff:t,children:n,path:r,segment:i,...o}){const{onSetFocus:a}=p.useContext(Py),{path:s}=p.useContext(kh),l=p.useMemo(()=>r.slice(-2,1)[0],[r]),{t:u}=Q(),d=e&&e.action==="removed",f=s.slice(0,s.findIndex(x=>Cr(x)&&Cr(l)&&x._key===l._key)).concat(r),h=p.useCallback(x=>{x.stopPropagation(),d||(x.preventDefault(),a(f))},[f,d,a]),m=e&&e.segments.find(x=>x.text===i.text)||e||t,g=m&&m.action!=="unchanged"&&m.annotation||null,y=g&&i.action!=="unchanged"?c.jsx(Ja,{annotation:g,as:i.action==="removed"?"del":"ins",tooltip:{description:u("changes.portable-text.text",{context:i.action})},children:n}):null;return c.jsx(lC,{...o,onClick:h,"data-changed":"",children:c.jsx("span",{children:c.jsx(c.Fragment,{children:y||n})})})}const $Q=aC.map(e=>e[0]),DQ=aC.map(e=>e[1]),RI=oC.map(e=>e[0]),DU=oC.map(e=>e[1]),dVn=$Q.concat(RI),y7e=DQ.concat(DU),fVn=$Q.concat(DQ),hVn=new RegExp(`${fVn.concat(y7e).join("|")}`,"g");function pVn(e){const{diff:t,schemaType:n}=e,r=t.origin.toValue||t.origin.fromValue,{t:i}=Q(),o=p.useMemo(()=>t.origin.toValue?d7e(t.origin):[],[t.origin]),a=p.useCallback(s=>{const l=TU(n.fields,s);let u=[];if(l){u=AQ(l);const d=t.fields.children,f=d.items[0].diff&&d.items[0].diff.type==="object"&&d.items[0].diff.fields.text.type==="string"&&d.items[0].diff.fields.text.segments||[],h=[],m={};if(yVn(r,t)&&(t.origin.action==="added"||t.origin.action==="removed")){const w=o0e(t.origin,r.children[0])||t.origin;if(w&&w.action!=="unchanged")return c.jsx(Ja,{annotation:w.annotation,as:w.action==="removed"?"del":"ins",tooltip:{description:i("changes.portable-text.empty-text",{context:w.action})},children:c.jsx("span",{children:cBn})},`empty-block-${r._key}`)}let g=-1,y=-1;const x=[];let b;const v=h7e(t.origin);return f.forEach(w=>{var T,A,I;y++;const C=ND.includes(w.text),k=dVn.includes(w.text),S=y7e.includes(w.text),E=w.text===a4,_=w.action==="removed";if(E)_||g++;else if(k||S){if(k&&RI.includes(w.text)){const j=v[RI.indexOf(w.text)];j&&x.push({mark:j._key,symbols:[w.text,DU[RI.indexOf(w.text)]],object:j})}S&&DU.includes(w.text)&&(b=x.pop())}else if(C){const j=ND.findIndex(O=>O===w.text),$=(T=o[j])==null?void 0:T._key,D=o[j];if($){const O=TU(n.fields,D),M=o0e(t.origin,D);h.push(c.jsx(aVn,{object:D,path:[{_key:r._key},"children",{_key:D._key}],diff:M,schemaType:O},`inline-object-${D._key}`))}}else if(w.text){const j=()=>{var P;return(P=t.origin.fromValue)==null?void 0:P.children.find(F=>F.text&&F.text.match(bBn(w.text)))},$=r.children[g]||j(),D=$&&jQ(t.origin,$);if(!$)throw new Error("Could not find child");const O=(A=D==null?void 0:D.fields)!=null&&A.text?(I=D==null?void 0:D.fields)==null?void 0:I.text:void 0,M=c.jsx(cVn,{diff:O,path:[{_key:r._key},"children",{_key:$._key}],childDiff:D,segment:w,children:mVn({diff:t,child:$,decoratorTypes:u,seg:w,segIndex:y,spanSchemaType:l,t:i})},`text-${$._key}-${y}`);if(x.length>0&&x.forEach(P=>{m[P.mark]=m[P.mark]||[],m[P.mark].push(M)}),b){const P=`annotation-${b.object._key}`,F=h[h.length-1];if(F&&F.key!==P){const L=vBn(t.origin,b.mark),U=b&&l.annotations&&l.annotations.find(H=>b&&b.object&&H.name===b.object._type);h.push(c.jsx(KBn,{object:b.object,diff:L,path:[{_key:r._key},"children",{_key:$._key}],schemaType:U,children:c.jsx(c.Fragment,{children:m[b.mark]})},P))}b=void 0}x.length===0&&h.push(M)}}),p.createElement("div",{key:r._key},...h)}throw new Error("'span' schemaType not found")},[r,t,o,n,i]);return c.jsx(rVn,{block:t.displayValue,diff:t,children:c.jsx(c.Fragment,{children:(t.displayValue.children||[]).map(s=>a(s))})})}function mVn({diff:e,child:t,decoratorTypes:n,seg:r,segIndex:i,spanSchemaType:o,t:a}){if(r.text===`
`)return c.jsx("br",{});let s=c.jsx("span",{children:r.text.replace(/ /g,uBn)},`text-${i}`);const l=t&&jQ(e.origin,t),u=jl(t)?t.marks||[]:[];return l&&(s=gVn({activeMarks:u,decoratorTypes:n,diff:e,children:s,seg:r,segIndex:i,spanDiff:l,spanSchemaType:o,t:a})),u&&u.length>0&&u.forEach(d=>{u7e(d,o)&&(s=c.jsx(oVn,{mark:d,children:s},`decorator-${d}-${t._key}-${i}`))}),s}function gVn({activeMarks:e,decoratorTypes:t,diff:n,children:r,seg:i,segIndex:o,spanDiff:a,spanSchemaType:s,t:l}){var w;let u=c.jsx("span",{children:r},`text-segment-${o}`);const d=n.origin.fromValue&&n.fromValue&&n.fromValue.children[0].text||"",f=a&&a.action!=="unchanged"&&a.annotation||void 0,h=(w=a==null?void 0:a.fields)==null?void 0:w.marks,m=h&&h.action!=="unchanged"&&h.annotation||f;let g=[];const y=d.split(a4).filter(C=>!!C).join(""),x=y.slice(0,Math.max(0,y.indexOf(i.text)+i.text.length)),b=x.slice(0,Math.max(0,x.indexOf(i.text))),v=[];return[...b.matchAll(hVn)].forEach(C=>{var E;const k=C[0],S=aC.concat(oC).find(_=>_.indexOf(k)>-1);if(S){const _=k===S[0],T=((E=t[_?$Q.indexOf(k):DQ.indexOf(k)])==null?void 0:E.value)||k;b.lastIndexOf(k)>b.lastIndexOf(S[1])&&v.push(T)}}),g=Z5n(e,Io(v)),m&&g.length>0&&g.some(C=>u7e(C,s))&&(u=c.jsx(Ja,{annotation:m,as:"ins",tooltip:{description:l("changes.portable-text.changed-formatting")},children:u},`diffcard-annotation-${o}-${g.join("-")}`)),u}function yVn(e,t){return e.children.length===1&&e.children[0]._type==="span"&&typeof e.children[0].text=="string"&&e.children[0].text===""&&t.origin.action!=="unchanged"}const vVn=e=>{const{diff:t,schemaType:n}=e,r=p.useMemo(()=>gBn(t,n),[t,n]);return c.jsx("div",{"data-diff-action":t.action,children:c.jsx(pVn,{diff:r,schemaType:n})})},bVn=R.div`
  word-wrap: break-word;
`,xVn=({value:e,schemaType:t})=>c.jsx(V,{as:bVn,padding:2,children:c.jsx(nC,{schemaType:t,value:e,layout:"default"})}),wVn=({diff:e,schemaType:t})=>c.jsx(k_,{align:"center",diff:e,layout:"grid",path:"_ref",previewComponent:xVn,schemaType:t}),CVn=R.div`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`,kVn=e=>{const{value:t}=e;return c.jsx(V,{as:CVn,paddingX:2,paddingY:1,children:t})},SVn=R.div`
  white-space: pre-wrap;
  word-wrap: break-word;
`,EVn=({diff:e,schemaType:t})=>{const{options:n}=t;return n!=null&&n.list?c.jsx(k_,{diff:e,previewComponent:kVn,schemaType:t}):c.jsx(SVn,{children:c.jsx(szn,{diff:e})})},f0e={block:vVn,boolean:{component:EBn,showHeader:!1},date:s0e,datetime:s0e,file:$Bn,image:zBn,number:GBn,reference:wVn,string:EVn};function v7e(e,t){var i;let n=e;for(;n;){const o=((i=n==null?void 0:n.components)==null?void 0:i.diff)||_Vn(n,t)||f0e[n.name];if(o)return o;n=n.type}const r=["date","datetime"].includes(e.name)?e.name:e.jsonType;return f0e[r]}function _Vn(e,t){const n=CBn;let r;for(const i of n){if(typeof i!="function"){console.error("Diff component resolver is not a function: ",i);continue}if(r=i({schemaType:e,parentSchemaType:t}),r)return r}}function OQ(e,t,n=[],r=[],i={}){if(!v7e(e,i.parentSchema)){if(e.jsonType==="object"&&t.type==="object")return b7e(e,t,n,r,i);if(e.jsonType==="array"&&t.type==="array")return jVn(e,t,n,r)}return x7e(e,t,n,r,i)}function b7e(e,t,n=[],r=[],i={}){const o=[],a={...i,parentSchema:e},s=e.fieldsets||e.fields.map(l=>({single:!0,field:l}));for(const l of s)l.single?o.push(...TVn(l.field,t,n,r,a)):o.push(...AVn(l,t,n,r,a));return o.length<2?o:[{type:"group",key:cr(n)||"root",path:n,titlePath:r,changes:MQ(o,r.length),schemaType:e}]}function TVn(e,t,n,r,i={}){const{fieldFilter:o,...a}=i,s=t.fields[e.name];if(!s||!s.isChanged||o&&!o.includes(e.name))return[];const l=n.concat([e.name]),u=r.concat([e.type.title||e.name]);return OQ(e.type,s,l,u,a)}function AVn(e,t,n,r,i={}){const{fields:o,name:a,title:s,readOnly:l,hidden:u}=e,{fieldFilter:d,...f}=i,h=u,m=l,g=r.concat([s||a]),y=[];for(const x of o){const b=t.fields[x.name];if(!b||!b.isChanged||d&&!d.includes(x.name))continue;const v=n.concat([x.name]),w=g.concat([x.type.title||x.name]);y.push(...OQ({readOnly:m,hidden:h,...x.type},b,v,w,f))}return y.length<2?y:[{type:"group",key:cr(n)||"root",fieldsetName:a,path:n,titlePath:g,changes:MQ(y,g.length),readOnly:m,hidden:h}]}function jVn(e,t,n=[],r=[]){const i=t.items.filter(l=>l.hasMoved&&l.fromIndex!==l.toIndex||l.diff.action!=="unchanged");if(i.length===0)return[];const o=dBn(e),a=[],s=i.reduce((l,u)=>{const d=sBn(u.diff,e),f=d.toType||d.fromType;if(!f)return console.warn("Could not determine schema type for item at %s",cr(n)),l;const h=iU(u.diff.fromValue)||iU(u.diff.toValue)||t.items.indexOf(u),m=n.concat(h),g={itemDiff:u,parentDiff:t,parentSchema:e},y=r.concat({hasMoved:u.hasMoved,toIndex:u.toIndex,fromIndex:u.fromIndex,annotation:u.diff.action==="unchanged"?u.annotation:u.diff.annotation}),x=v=>(v.type==="field"&&V8e(m,v.path)&&(v.itemDiff=u),v),b=OQ(f,u.diff,m,y,g).map(x);return o&&b.filter(p7e).forEach((v,w,C)=>{v.showHeader=C.length===1,v.showIndex=u.fromIndex!==u.toIndex&&u.hasMoved}),b.length===0?l.push(...x7e(f,u.diff,m,y,g)):l.push(...b),l},a);return s.length>1?[{type:"group",key:cr(n)||"root",path:n,titlePath:r,changes:MQ(s,r.length),schemaType:e}]:s}function x7e(e,t,n,r,{itemDiff:i,parentDiff:o,parentSchema:a}={}){const{fromValue:s,toValue:l,type:u}=t;if(u==="array"&&h0e(s)&&h0e(l))return[];let d;typeof s<"u"&&(d=AU(s,e)),!d&&typeof l<"u"&&(d=AU(l,e));let f=!0,h;const m=v7e(e,a);return m&&typeof m=="function"?h=m:m&&(h=m.component,f=typeof m.showHeader>"u"?f:m.showHeader),[{type:"field",diff:t,path:n,error:d,itemDiff:i,parentDiff:o,titlePath:r,schemaType:e,showHeader:f,showIndex:!0,key:cr(n)||"root",diffComponent:d?void 0:h,parentSchema:a}]}function MQ(e,t=1){return e.map(n=>(n.titlePath=n.titlePath.slice(t),n))}function h0e(e){return Array.isArray(e)&&e.length===0||e===null||typeof e>"u"}const p0e=e=>e.type==="field"&&e.diff.action==="added",w7e=e=>{if(e.type!=="group")return[e];const t=[];return e.changes.forEach(n=>{t.push(...w7e(n))}),t},C7e=(e,t)=>{if(t.length>=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},IVn=(e,t)=>{const n=e[t],r=z8e(n);return r?{_key:r}:Array.isArray(e)?parseInt(t,10):t},$Vn={diffMatchPatch:{enabled:!1,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function s4(e,t,n){if(!t)return;const r=[];if(e.type==="group"){const i=w7e(e),o=i.filter(p0e);i.filter(a=>!p0e(a)).forEach(a=>s4(a,t,n)),r.push(...m0e(t,o.map(a=>a.path).reverse()))}else e.diff.action==="added"?r.push(...m0e(t,[e.path])):e.type==="field"&&e.itemDiff&&e.parentDiff&&e.parentDiff.type==="array"&&e.itemDiff.hasMoved?r.push(...OVn(e.itemDiff,e.parentDiff,e.path)):r.push(...MVn(e.diff,t,e.path));n.patch.execute(r)}function DVn(e,t,n){const r=e.toValue;return k7e(r,t,n)}function m0e(e,t){const n=[];for(let r=0;r<t.length;r++)n.some(i=>C7e(t[r],i))||n.push(DVn(e,t[r],t));return[{unset:[...new Set(n.map(cr))]}]}function k7e(e,t,n=[],r){if(t.length<=0)throw new Error("Root has no ancestor");const i=t.slice(0,-1),o=Oo(e,i),a=[i,...n.filter(s=>!C7e(s,i))];return S7e(o,i,n)?k7e(e,i,a):t}function OVn(e,t,n){const r=n.slice(0,-1),{parentValue:i,fromIndex:o,fromValue:a}=FVn(t,e);let s;if(o===0)s={before:cr([...r,0])};else{const l=o-1,u=iU(i[l])||l;s={after:cr([...r,u])}}return[{unset:[cr(n)]},{insert:{...s,items:[a]}}]}function MVn(e,t,n){const r=AR(e.toValue,e.fromValue,$Vn,n),i=r.filter(d=>d.op==="insert").map(({after:d,items:f})=>({insert:{after:cr(d),items:f}})),o=r.filter(d=>d.op==="unset").reduce((d,f)=>d.concat(cr(f.path)),[]),a=new Set,s=[];let l=!1;const u=r.filter(d=>d.op==="set").reduce((d,f)=>(l=!0,s.push(...PVn(f.path,t,a)),d[cr(f.path)]=f.value,d),{});return[...s,...i,...o.length>0?[{unset:o}]:[],...l?[{set:u}]:[]]}function PVn(e,t,n){const r=t.fromValue,i=t.toValue,o=[];for(let a=1;a<=e.length;a++){const s=e.slice(0,a),l=cr(s);if(n.has(l))continue;const u=e[a],d=Cr(u)||rl(u),f=Oo(r,s),h=g0e(f);if(d&&Array.isArray(f)&&!Oo(i,e.slice(0,a+1))){const m=oTn(f,u),g=f[m-1],y=Oo(r,s.concat(u)),x=Pu(g)?{_key:g._key}:m-1,b=cr(s.concat(m<1?0:x));o.push({setIfMissing:{[l]:[]}}),o.push({insert:{after:b,items:[g0e(y)]}}),a++;continue}typeof h>"u"||(n.add(l),o.push({setIfMissing:{[l]:h}}))}return o}function RVn(e,t,n){if(!Tt(e)||!Array.isArray(e))return!1;for(const r in e){if(!Object.prototype.hasOwnProperty.call(e,r)||r==="_type"||r==="_key")continue;const i=[...t,IVn(e,r)];if(!S7e(e[r],i,n))return!1}return!0}function S7e(e,t,n){const r=n==null?void 0:n.some(o=>cr(o)===cr(t)),i=Array.isArray(e)&&e.length<=0;return r||e===void 0||e===null||i||dTn(e)||RVn(e,t,n)}function g0e(e){if(Array.isArray(e))return[];if(typeof e!="object"||e===null)return;const t={};return Pu(e)&&(t._key=e._key),Mm(e)&&(t._type=e._type),t}function FVn(e,t){if(e.fromValue&&typeof t.fromIndex=="number"){const n=e.fromValue[t.fromIndex];return{parentValue:e.fromValue,fromIndex:t.fromIndex,fromValue:n}}throw new Error(`Failed to find item at index ${t.fromIndex}`)}const LVn=R.div`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`;class NVn extends p.Component{constructor(){super(...arguments);Z(this,"state",{})}static getDerivedStateFromError(n){return{error:n}}componentDidCatch(n){console.error("Error rendering diff component: "),console.error(n)}render(){const{t:n}=this.props,{error:r}=this.state;return r?c.jsx(le,{padding:3,radius:2,tone:"critical",children:c.jsxs(W,{children:[c.jsx(B,{size:1,children:c.jsx(ua,{})}),c.jsxs(V,{paddingLeft:3,children:[c.jsx(B,{as:"h3",size:1,weight:"medium",children:n("changes.error-boundary.title")}),Yl]})]})}):this.props.children}}const BVn={down:c_e,right:u_e};function PQ(e){const{direction:t="right",...n}=e,r=BVn[t];return c.jsx(B,{muted:!0,size:1,...n,children:p.createElement(r)})}const n9=R.pre`
  overflow-x: auto;
  position: relative;
`,VVn=R.div`
  position: absolute;
  top: 0;
  right: 0;
`;function zVn(e){const{children:t,as:n,change:r,...i}=e,o=p.useRef(!1),[a,s]=p.useState(!1),l=p.useCallback(()=>s(f=>!f),[s]),u=p.useCallback(()=>o.current=!0,[]),d=p.useCallback(()=>o.current=!1,[o]);return p.useEffect(()=>{function f(h){const{metaKey:m,key:g}=h;m&&g==="i"&&o.current&&l()}return window.addEventListener("keydown",f,!1),()=>window.removeEventListener("keydown",f,!1)},[l]),c.jsx(V,{as:n,onMouseEnter:u,onMouseLeave:d,...i,children:a?c.jsx(UVn,{change:r}):t})}const r9=({title:e})=>c.jsx(V,{padding:3,display:"inline-block",as:VVn,children:c.jsx(B,{muted:!0,size:1,weight:"medium",children:e})});function UVn({change:e}){var n,r,i;const{t}=Q();return c.jsxs(ae,{space:3,children:[c.jsxs(le,{padding:3,tone:"transparent",as:n9,radius:1,children:[c.jsx(r9,{title:t("changes.inspector.meta-label")}),c.jsx(Vi,{language:"json",size:1,children:HVn({path:cr(e.path),fromIndex:(n=e.itemDiff)==null?void 0:n.fromIndex,toIndex:(r=e.itemDiff)==null?void 0:r.toIndex,hasMoved:(i=e.itemDiff)==null?void 0:i.hasMoved,action:e.diff.action,isChanged:e.diff.isChanged})})]}),c.jsxs(le,{as:n9,tone:"critical",padding:3,radius:1,children:[c.jsx(r9,{title:t("changes.inspector.from-label")}),c.jsx(Vi,{language:"json",size:1,children:y0e(e.diff.fromValue)})]}),c.jsx(le,{children:c.jsx(PQ,{direction:"down",align:"center"})}),c.jsxs(le,{as:n9,tone:"positive",padding:3,radius:1,children:[c.jsx(r9,{title:t("changes.inspector.to-label")}),c.jsx(Vi,{language:"json",size:1,children:y0e(e.diff.toValue)})]})]})}function y0e(e){return typeof e>"u"?"undefined":JSON.stringify(e,null,2)}function HVn(e){const t=[];return Object.entries(e).forEach(([n,r])=>{typeof r<"u"&&r!==null&&t.push(`${n}: ${r}`)}),t.join(`
`)}function WVn(e){const{t}=Q(),n=v0e(e.fromValue),r=v0e(e.toValue);return t(!n&&r?"changes.added-label":!r&&n?"changes.removed-label":"changes.changed-label")}function v0e(e){return e!==null&&typeof e<"u"&&e!==""}const GVn={flexShrink:0},KVn={alignItems:"stretch"},b0e={top:"flex-start",center:"center",bottom:"flex-end",default:"flex-start"},RQ=p.forwardRef(function(e,t){const{align:n="top",layout:r="inline",from:i,to:o,style:a,...s}=e,l=tw(),u=r==="inline"?W:Xn,d=p.useMemo(()=>({...a,...r==="inline"?{maxWidth:"100%",display:"inline-flex"}:{gridTemplateColumns:`minmax(0, 1fr) ${Te(l.sanity.space[5])} minmax(0, 1fr)`}}),[r,a,l]),f=r==="inline"?GVn:KVn;return c.jsxs(u,{...s,ref:t,style:d,"data-from-to-layout":!0,children:[i&&c.jsxs(c.Fragment,{children:[c.jsx(W,{align:b0e[n],style:f,children:i}),c.jsx(W,{align:"center",justify:"center",padding:2,children:c.jsx(PQ,{})})]}),c.jsx(W,{align:b0e[n],style:f,children:o})]})}),i9={flex:1,minWidth:0,display:"block",whiteSpace:"break-spaces"};function k_(e){const{align:t,cardClassName:n,diff:r,layout:i,path:o,previewComponent:a,schemaType:s}=e,{action:l}=r,u=WVn(r);if(l==="unchanged")return c.jsx(Ja,{className:n,style:i9,children:p.createElement(a,{schemaType:s,value:r.toValue})});const d=r.fromValue!==void 0&&r.fromValue!==null&&c.jsx(Ja,{as:"del",className:n,diff:r,path:o,style:i9,children:p.createElement(a,{schemaType:s,value:r.fromValue})}),f=r.toValue!==void 0&&r.toValue!==null&&c.jsx(Ja,{as:"ins",className:n,diff:r,path:o,style:i9,children:p.createElement(a,{schemaType:s,value:r.toValue})});return d&&!f?c.jsx(xs,{description:u,diff:r,path:o,children:d}):!d&&f?c.jsx(xs,{description:u,diff:r,path:o,children:f}):c.jsx(xs,{description:u,diff:r,path:o,children:c.jsx(RQ,{align:t,from:d,layout:i,to:f})})}const YVn=({value:e,schemaType:t})=>c.jsx(V,{padding:2,children:c.jsx(nC,{schemaType:t,value:e,layout:"default"})}),qVn=e=>{const{diff:t,schemaType:n}=e;return c.jsx(k_,{diff:t,schemaType:n,previewComponent:YVn,layout:"grid"})},ZVn=R.div`
  --field-change-error: ${({theme:e})=>e.sanity.color.solid.critical.enabled.bg};
  &[data-revert-all-changes-hover] [data-revert-all-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`,XVn=R.div`
  --field-change-error: ${({theme:e})=>e.sanity.color.solid.critical.enabled.bg};
  --diff-inspect-padding-xsmall: ${({theme:e})=>Te(e.sanity.space[1])};
  --diff-inspect-padding-small: ${({theme:e})=>Te(e.sanity.space[2])};

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) 0 var(--diff-inspect-padding-xsmall)
    var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-field-hover]:hover::before {
    border-left: 2px solid var(--field-change-error);
  }
`,JVn=R(ge)`
  [data-ui='Text'] {
    font-weight: normal;
  }

  div[data-ui='Box'] {
    display: none;
  }

  &:not([data-disabled='true']):hover,
  &:not([data-disabled='true']):focus {
    --card-fg-color: ${({theme:e})=>e.sanity.color.solid.critical.enabled.bg};
    --card-bg-color: transparent;
    --card-border-color: transparent;

    div[data-ui='Box'] {
      display: block;
    }
  }
`,E7e=p.forwardRef(function(e,t){const{selected:n,changeCount:r,...i}=e,{t:o}=Q();return c.jsx(JVn,{icon:CK,selected:n,text:o("changes.action.revert-changes-confirm-change",{count:r}),mode:"bleed",ref:t,tooltipProps:null,...i})});function QVn({error:e}){const{t}=Q();return c.jsx(le,{tone:"critical",padding:3,children:c.jsxs(W,{align:"flex-start",children:[c.jsx(V,{children:c.jsx(B,{children:c.jsx(ua,{})})}),c.jsx(V,{flex:1,paddingLeft:3,children:c.jsx(B,{size:1,as:"p",children:t(e.messageKey,{expectedType:e.expectedType,actualType:e.actualType})})})]})})}function ezn(e){var A;const{change:t,hidden:n,readOnly:r}=e,i=t.diffComponent||qVn,{documentId:o,schemaType:a,rootDiff:s,isComparingCurrent:l,FieldWrapper:u=p.Fragment}=sC(),d=Qc(o,a.name),[f,h]=p.useState(!1),[m,g]=p.useState(!1),y=p.useRef(null),{t:x}=Q(),[b,v]=wf({id:o,type:a.name,permission:"update"}),w=p.useCallback(()=>{s4(t,s,d)},[t,s,d]),C=p.useCallback(()=>{h(!0)},[]),k=p.useCallback(()=>{h(!1)},[]),S=p.useCallback(()=>{g(!0)},[]),E=p.useCallback(()=>{g(!1)},[]);On(()=>h(!1),()=>[y.current]);const _=((A=t.parentSchema)==null?void 0:A.jsonType)==="array"?t.path.slice(0,-1):t.path,T=p.useMemo(()=>({path:t.path}),[t.path]);return p.useMemo(()=>n?null:c.jsxs(ae,{space:1,as:ZVn,children:[t.showHeader&&c.jsx(a7e,{change:t,titlePath:t.titlePath}),c.jsx(u,{path:_,hasHover:m,children:c.jsxs(zVn,{change:t,as:XVn,"data-revert-field-hover":m?"":void 0,"data-error":t.error?"":void 0,"data-revert-all-hover":!0,"data-ui":"field-diff-inspect-wrapper",children:[t.error?c.jsx(QVn,{error:t.error}):c.jsx(NVn,{t:x,children:c.jsx(kh.Provider,{value:T,children:c.jsx(i,{diff:t.diff,schemaType:t.schemaType})})}),l&&!v&&(b==null?void 0:b.granted)&&c.jsx(Fn,{content:c.jsxs(ae,{space:3,children:[c.jsx(V,{paddingY:3,children:c.jsx(B,{size:1,children:x("changes.action.revert-changes-description",{count:1})})}),c.jsxs(W,{gap:3,justify:"flex-end",children:[c.jsx(ge,{mode:"ghost",onClick:k,text:x("changes.action.revert-all-cancel")}),c.jsx(ge,{tone:"critical",onClick:w,text:x("changes.action.revert-changes-confirm-change",{count:1})})]})]}),open:f,padding:3,portal:!0,placement:"left",ref:y,children:c.jsx(E7e,{changeCount:1,onClick:C,onMouseEnter:S,onMouseLeave:E,selected:f,disabled:r,"data-testid":`single-change-revert-button-${t==null?void 0:t.key}`})})]})})]}),[n,t,u,_,m,x,T,i,l,v,b==null?void 0:b.granted,k,w,f,C,S,E,r])}function tzn(){const e=p.useRef(null),[t,n]=p.useState(!1);return p.useEffect(()=>{const r=e.current;if(!r)return()=>{};const i=()=>n(!0),o=()=>n(!1);return r.addEventListener("mouseover",i),r.addEventListener("mouseout",o),()=>{r.removeEventListener("mouseover",i),r.removeEventListener("mouseout",o)}},[]),[e,t]}const nzn=R.div`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`,rzn=R.div`
  --field-change-error: ${({theme:e})=>e.sanity.color.solid.critical.enabled.bg};
  --diff-inspect-padding-xsmall: ${({theme:e})=>Te(e.sanity.space[1])};
  --diff-inspect-padding-small: ${({theme:e})=>Te(e.sanity.space[2])};

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-group-hover]:hover::before,
  &[data-revert-all-groups-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`;function izn(e){const{change:t,readOnly:n,hidden:r,...i}=e,{titlePath:o,changes:a,path:s}=t,{path:l}=p.useContext(kh),{documentId:u,schemaType:d,FieldWrapper:f,rootDiff:h,isComparingCurrent:m}=sC(),{t:g}=Q(),y=a.every($=>p7e($)&&c7e($.schemaType)),x=V8e(l,s),[b,v]=tzn(),w=Qc(u,d.name),[C,k]=p.useState(!1),S=p.useRef(null),[E,_]=wf({id:u,type:d.name,permission:"update"}),T=p.useCallback(()=>s4(t,h,w),[t,h,w]),A=p.useCallback(()=>{k(!0)},[]),I=p.useCallback(()=>{k(!1)},[]);On(()=>k(!1),()=>[S.current]);const j=p.useMemo(()=>r?null:c.jsxs(ae,{space:1,as:rzn,"data-ui":"group-change-content","data-revert-group-hover":v?"":void 0,"data-portable-text":y?"":void 0,children:[c.jsx(ae,{as:nzn,space:5,"data-ui":"group-change-list",children:a.map($=>c.jsx(_7e,{change:$,readOnly:n,hidden:r},$.key))}),m&&!_&&(E==null?void 0:E.granted)&&c.jsx(Fn,{content:c.jsxs(ae,{space:3,children:[c.jsx(V,{paddingY:3,children:c.jsx(B,{size:1,children:g("changes.action.revert-changes-description",{count:a.length})})}),c.jsxs(W,{gap:3,justify:"flex-end",children:[c.jsx(ge,{mode:"ghost",onClick:I,text:g("changes.action.revert-all-cancel")}),c.jsx(ge,{tone:"critical",onClick:T,text:g("changes.action.revert-changes-confirm-change",{count:1})})]})]}),padding:3,portal:!0,placement:"left",open:C,ref:S,children:c.jsx(V,{children:c.jsx(E7e,{changeCount:a.length,onClick:A,ref:b,selected:C,disabled:n,"data-testid":`group-change-revert-button-${t.fieldsetName}`})})})]}),[a,I,C,t.fieldsetName,T,A,r,m,_,y,v,E==null?void 0:E.granted,n,b,g]);return r?null:c.jsxs(ae,{space:1,...i,children:[c.jsx(a7e,{titlePath:o}),x||!f?j:c.jsx(f,{hasHover:v,path:t.path,children:j})]})}function _7e(e){var s,l;const{change:t,hidden:n,readOnly:r}=e,{value:i}=sC(),o=_U({document:i,checkProperty:n||((s=t.schemaType)==null?void 0:s.hidden),checkPropertyKey:"hidden",value:t.type==="field"?t.diff.toValue:void 0}),a=_U({document:i,checkProperty:r||((l=t.schemaType)==null?void 0:l.readOnly),checkPropertyKey:"readOnly",value:t.type==="field"?t.diff.toValue:void 0});return o?null:t.type==="field"?c.jsx(ezn,{change:t,readOnly:a}):t.type==="group"?c.jsx(izn,{change:t,"data-testid":`group-change-${t.fieldsetName}`,readOnly:a}):c.jsxs(B,{children:["Unknown change type: ",c.jsx("code",{children:t.type||"undefined"})]})}function OU(){const{t:e}=Q();return c.jsxs(ae,{space:3,children:[c.jsx(B,{size:1,weight:"medium",as:"h3",children:e("changes.no-changes-title")}),c.jsx(B,{as:"p",size:1,muted:!0,children:e("changes.no-changes-description")})]})}function S_({diff:e,fields:t,schemaType:n}){const{documentId:r,isComparingCurrent:i,value:o}=sC(),a=Qc(r,n.name),{path:s}=p.useContext(kh),l=s.length===0,[u,d]=p.useState(!1),[f,h]=p.useState(!1),{t:m}=Q(),g=_U({document:o,value:void 0,checkProperty:n.readOnly,checkPropertyKey:"readOnly"});if(n.jsonType!=="object")throw new Error("Only object schema types are allowed in ChangeList");const[y,x]=wf({id:r,type:n.name,permission:"update"}),b=p.useMemo(()=>b7e(n,e,s,[],{fieldFilter:t}),[n,t,s,e]),v=p.useMemo(()=>t&&t.length===0?[]:ozn(b),[b,t]),w=b[0],C=p.useCallback(()=>{s4(w,e,a),d(!1)},[w,e,a]),k=p.useCallback(()=>{d(!0)},[]),S=p.useCallback(()=>{h(!0)},[]),E=p.useCallback(()=>{h(!1)},[]),_=p.useCallback(()=>{d(!1)},[]),T=p.useRef(null);if(On(()=>d(!1),()=>[T.current]),v.length===0)return l?c.jsx(OU,{}):null;const A=l&&v.length>1;return c.jsx(le,{children:c.jsxs(ae,{space:5,children:[c.jsx(ae,{as:LVn,space:5,children:v.map(I=>c.jsx("div",{children:c.jsx(_7e,{change:I,"data-revert-all-changes-hover":f?"":void 0,readOnly:g||(I==null?void 0:I.readOnly),hidden:I==null?void 0:I.hidden},I.key)},I.key))}),A&&i&&!x&&(y==null?void 0:y.granted)&&c.jsx(Fn,{content:c.jsxs(ae,{space:3,children:[c.jsx(V,{paddingY:3,children:c.jsx(B,{size:1,children:m("changes.action.revert-all-description",{count:v.length})})}),c.jsxs(W,{gap:3,justify:"flex-end",children:[c.jsx(ge,{mode:"ghost",text:m("changes.action.revert-all-cancel"),onClick:_}),c.jsx(ge,{tone:"critical",text:m("changes.action.revert-all-confirm"),onClick:C})]})]}),open:u,padding:3,placement:"left",portal:!0,ref:T,children:c.jsx(ae,{children:c.jsx(ge,{tone:"critical",mode:"ghost",text:m("changes.action.revert-all-confirm"),icon:CK,onClick:k,onMouseEnter:S,onMouseLeave:E,disabled:g,size:"large"})})})]})})}function ozn(e){return e.length===1&&e[0].type==="group"&&e[0].path.length===0?e[0].changes:e}const x0e=R.span`
  border-radius: ${({theme:e})=>Te(e.sanity.radius[1])};
`,w0e=R(B)`
  &:not([hidden]) {
    display: inline;
    line-height: calc(1.25em + 2px);
  }

  &:hover {
    background-color: none !important;
    background-image: linear-gradient(
      to bottom,
      var(--card-bg-color) 0,
      var(--card-bg-color) 33.333%,
      currentColor 33.333%,
      currentColor 100%
    );
    background-size: 1px 3px;
    background-repeat: repeat-x;
    background-position-y: bottom;
    padding-bottom: 3px;
    box-shadow: 0 0 0 1px var(--card-bg-color);
    z-index: 1;
  }
`;function azn(e){const{segment:t}=e,{text:n}=t,{t:r}=Q();return t.action==="added"?c.jsx(Ja,{annotation:t.annotation,disableHoverEffect:!0,tooltip:{description:r("changes.added-label")},as:x0e,children:c.jsx(w0e,{as:"ins",style:{textDecoration:"none"},children:n})}):t.action==="removed"?c.jsx(Ja,{annotation:t.annotation,as:x0e,disableHoverEffect:!0,tooltip:{description:r("changes.removed-label")},children:c.jsx(w0e,{as:"del",children:n})}):c.jsx(le,{as:"span",radius:2,style:{display:"inline"},children:n})}function szn(e){const{diff:t}=e;return c.jsx(c.Fragment,{children:(t.segments||[]).map((n,r)=>c.jsx(azn,{segment:n},r))})}const o9=R(B)`
  color: inherit;
`;function MU(e){const{title:t,action:n,icon:r,children:i,markRemoved:o}=e;return c.jsxs(W,{padding:2,align:"center",children:[r&&c.jsx(V,{padding:2,children:c.jsx(o9,{size:4,forwardedAs:o?"del":"div",children:p.createElement(r)})}),c.jsxs(ae,{space:2,paddingLeft:2,children:[c.jsx(o9,{size:1,weight:"medium",forwardedAs:o?"del":"h3",textOverflow:"ellipsis",children:t}),n&&c.jsx("div",{children:n}),c.jsx(o9,{size:0,textOverflow:"ellipsis",children:i})]})]})}R.div`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`;function T7e(e){const t=p.useRef(e.value);t.current=e.value;const n=p.useCallback(r=>Oo(t.current,r),[t]);return c.jsx(Zxe.Provider,{value:n,children:e.children})}function E_(){const e=p.useContext(Zxe);if(!e)throw new Error("useGetFormValue must be used within a GetFormValueProvider");return e}const lzn={name:"copyField",useAction({path:e}){const t=E_(),{onCopy:n}=pC(),{t:r}=Q("copy-paste"),i=e.length===0,o=r("copy-paste.field-action-copy-button.document.title"),a=r("copy-paste.field-action-copy-button.field.title"),s=i?o:a,l=p.useCallback(()=>{const u=t([]);n(e,u,{context:{source:i?"documentFieldAction":"fieldAction"}})},[e,i,n,t]);return{type:"action",icon:Ru,onAction:l,title:s}}},czn={name:"pasteField",useAction({path:e}){const{t}=Q("copy-paste"),n=E_(),r=e.length===0,i=t("copy-paste.field-action-paste-button.document.title"),o=t("copy-paste.field-action-paste-button.field.title"),a=r?i:o,{onPaste:s}=pC(),l=p.useCallback(()=>{const u=n([]);s(e,u,{context:{source:r?"documentFieldAction":"fieldAction"}})},[n,s,e,r]);return{type:"action",icon:m_e,onAction:l,title:a}}},uzn=(e,{document:t},n)=>{const r=t==null?void 0:t.unstable_fieldActions;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`document.unstable_fieldActions\` to be an array or a function, but received ${typeof r}`)},dzn=[lzn,czn];function fzn(e){const t=Nr();return p.useEffect(()=>{console.error(`Scheduled publishing plugin is added by default, please remove this plugin from your config. 
        
If you have a custom date config, you can use the scheduledPublishing API to customize the date input.
        
See: https://www.sanity.io/docs/scheduled-publishing.
        `),t.push({id:"scheduled-publishing-deprecated",closable:!0,duration:6e4,status:"error",title:"Scheduled publishing plugin is deprecated",description:"The scheduled publishing plugin is now deprecated, you should remove the plugin from your configuration. If you have a custom date config, you can use the scheduledPublishing API to customize the date input. See: https://www.sanity.io/docs/scheduled-publishing."})},[t]),e.renderDefault(e)}const hzn=h_({name:"sanity/deprecated/scheduled-publishing",studio:{components:{layout:fzn}}}),pzn=["scheduled-publishing"],cC=({plugins:e=[],...t},n)=>{const r={config:t,path:[...n,t.name]},i=e.flatMap(a=>cC(a,[...n,t.name])),o=i.find(a=>a.config.name==="scheduled-publishing");return o&&i.push({path:o.path,config:hzn()}),[...i.filter(a=>!pzn.includes(a.config.name)),r]},C0e={referringDocuments:[],isLoading:!0};function A7e(e){const t=ql(),n=p.useMemo(()=>t.listenQuery("*[references($docId)] [0...101]",{docId:e},{tag:"use-referring-documents"}).pipe(fe(r=>({referringDocuments:r,isLoading:!1})),yo(C0e)),[t,e]);return bi(n,C0e)}const j7e=({asset:e,assetType:t,referringDocuments:n})=>{const{t:r}=Q(),i=n.length;return c.jsxs(c.Fragment,{children:[c.jsx(le,{borderBottom:i>0,marginTop:2,paddingBottom:2,marginBottom:1,children:c.jsx(B,{size:1,as:"h2",weight:"medium",children:c.jsx(wt,{t:r,i18nKey:`asset-source.usage-list.documents-using-${t}`,context:e.originalFilename?"named":"unnamed",values:{filename:e.originalFilename,count:i}})})}),n.map(o=>c.jsx(mzn,{document:o},o._id))]})},mzn=({document:e})=>{const t=un(),n=p.useCallback(r=>c.jsx(Kc,{...r,params:{id:e._id,type:e._type},intent:"edit"}),[e]);return c.jsx(le,{as:n,radius:2,"data-as":"a",tabIndex:0,children:c.jsx(W,{align:"center",gap:2,children:c.jsx(nC,{layout:"default",value:{_type:"reference",_ref:e._id},schemaType:t.get(e._type)})})},e._id)},k0e={maxWidth:"100%",height:"120px",objectFit:"contain",objectPosition:"center"},S0e={gridColumn:"span 1",overflow:"hidden",display:"flex",alignSelf:"center",justifyContent:"center"},E0e={height:"100%"},gzn=({asset:e,assetType:t,hasResults:n=!1})=>{const r=t==="image",{t:i}=Q();return n?c.jsx(le,{tone:"caution",padding:[3,3,4],border:!0,radius:2,marginBottom:3,children:c.jsxs(Xn,{columns:3,gap:[2,3,4],children:[c.jsxs(W,{gap:[3,4],align:"center",style:{gridColumn:r?"span 2":"span 3"},children:[c.jsx(B,{children:c.jsx(Br,{})}),c.jsx(B,{size:1,children:i(`asset-source.delete-dialog.usage-list.warning-${t}-is-in-use`,{context:e.originalFilename?"named":"unnamed",filename:e.originalFilename})})]}),r&&c.jsx(le,{__unstable_checkered:!0,border:!0,radius:1,style:S0e,children:c.jsx(W,{align:"center",justify:"center",style:E0e,children:c.jsx("img",{src:`${e.url}?w=200`,style:k0e,alt:i("asset-source.usage-list.image-alt"),referrerPolicy:"strict-origin-when-cross-origin"})})})]})}):c.jsx(le,{paddingX:[2,3,4],paddingY:[3,3,3,4],children:c.jsxs(Xn,{columns:3,gap:3,children:[c.jsx(W,{style:{gridColumn:r?"span 2":"span 3"},align:"center",children:c.jsx(B,{children:c.jsx(wt,{t:i,i18nKey:`asset-source.delete-dialog.usage-list.confirm-delete-${t}`,context:e.originalFilename?"named":"unnamed",values:{filename:e.originalFilename}})})}),r&&c.jsx(le,{__unstable_checkered:!0,border:!0,radius:1,style:S0e,children:c.jsx(W,{align:"center",justify:"center",style:E0e,children:c.jsx("img",{src:`${e.url}?w=200`,style:k0e,alt:i("asset-source.asset-list.table.preview-alt"),referrerPolicy:"strict-origin-when-cross-origin"})})})]})})};function I7e({asset:e,assetType:t,isDeleting:n=!1,onClose:r,onDelete:i}){const{isLoading:o,referringDocuments:a}=A7e(e._id),s=p.useMemo(()=>{const d=a.reduce((f,h)=>h._id.startsWith("drafts.")?f.concat(h._id.slice(7)):f,[]);return a.filter(f=>!d.includes(f._id))},[a]),l=s.length>0,{t:u}=Q();return c.jsx(no,{__unstable_autoFocus:o,footer:{cancelButton:{onClick:r,text:u("asset-source.delete-dialog.action.cancel")},confirmButton:{disabled:l,icon:$i,loading:n,onClick:i,text:u("asset-source.delete-dialog.action.delete")}},header:u("asset-source.delete-dialog.header",{context:t}),id:"asset-dialog",onClickOutside:r,onClose:r,width:1,children:o?c.jsx(V,{padding:4,children:c.jsx(Dn,{showText:!0})}):c.jsxs(ae,{paddingX:l?[2,3,4]:0,paddingY:l?[3,3,3,4]:0,space:1,children:[c.jsx(gzn,{asset:e,assetType:t,hasResults:l}),l&&c.jsx(j7e,{asset:e,referringDocuments:s,assetType:t})]})})}const yzn={portal:!0,placement:"right"};function $7e({isSelected:e,border:t=!0,onAction:n}){const r=e?"default":"bleed",i=e?"primary":"default",{t:o}=Q();return c.jsx(Jt,{button:c.jsx(Ki,{mode:t?"ghost":r,tone:t?"default":i}),id:"asset-menu",menu:c.jsxs(Nt,{children:[c.jsx(Qe,{text:o("asset-source.asset-list.menu.show-usage"),icon:Rl,onClick:()=>{n({type:"showUsage"})}}),c.jsx(Qe,{text:o("asset-source.asset-list.menu.delete"),icon:$i,tone:"critical",onClick:()=>{n({type:"delete"})}})]}),popover:yzn})}function D7e({asset:e,assetType:t,onClose:n}){const{isLoading:r,referringDocuments:i}=A7e(e._id),o=p.useMemo(()=>{const s=i.reduce((l,u)=>u._id.startsWith("drafts.")?l.concat(u._id.slice(7)):l,[]);return i.filter(l=>!s.includes(l._id))},[i]),{t:a}=Q();return c.jsx(no,{__unstable_autoFocus:!0,header:a("asset-source.asset-usage-dialog.header",{context:t}),id:"asset-dialog",onClickOutside:n,onClose:n,width:1,children:r?c.jsx(Dn,{showText:!0}):c.jsx(j7e,{asset:e,referringDocuments:o,assetType:t})})}const QA={"image/bmp":{title:"Bitmap Image"},"image/jpeg":{title:"JPEG Image"},"image/gif":{title:"GIF Image"},"image/vnd.microsoft.icon":{title:"Icon"},"image/png":{title:"PNG Image"},"image/svg+xml":{title:"SVG Image"},"image/webp":{title:"WebP Image"},"image/tiff":{title:"TIFF Image"},"image/heic":{title:"HEIC Image"},"audio/midi":{title:"MIDI Audio"},"audio/midi-x":{title:"MIDI Audio"},"audio/mpeg":{title:"MP3 Audio"},"audio/ogg":{title:"OGG Audio"},"audio/wav":{title:"WAV Audio"},"audio/webm":{title:"WebM Audio"},"audio/aac":{title:"AAC Audio"},"video/x-msvideo":{title:"AVI Video"},"video/mp4":{title:"MP4 Video"},"video/mpeg":{title:"MPEG Video"},"video/ogg":{title:"OGG Video"},"video/webm":{title:"WebM Video"},"video/quicktime":{title:"QuickTime Video"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{title:"Excel Spreadsheet"},"application/vnd.ms-excel":{title:"Excel Spreadsheet"},"text/plain":{title:"Text"},"text/javascript":{title:"JavaScript"},"text/markdown":{title:"Markdown"},"text/csv":{title:"CSV"},"text/css":{title:"CSS"},"application/pdf":{title:"PDF Document"},"application/xml":{title:"XML Document"},"text/xml":{title:"XML Document"},"application/zip":{title:"ZIP Archive"},"application/vnd.rar":{title:"RAR Archive"},"application/x-7z-compressed":{title:"7-zip Archive"},"application/octet-stream":{title:"Binary"}};function vzn(e){const t=e.replace("x-","").split("/")[1];return t.charAt(0).toUpperCase()+t.slice(1)}function bzn(e){return QA!=null&&QA[e]?QA[e].title:vzn(e)}const PU=R.span`
  background-color: transparent;
  flex-shrink: 0;
`,fv=R(W)``,xzn=R(le)`
  ${e=>e.isSelected&&he`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);
    `}
`,_0e=R(zt)`
  box-shadow: none;
  min-width: 0;
  cursor: pointer;
  position: initial;

  &:before,
  &:after {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    z-index: 2;
  }

  &:before {
    z-index: 0;
    pointer-events: none;
    border-radius: inherit;
  }

  ${e=>e.isSelected&&he`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);

      &:before {
        background-color: var(--card-focus-ring-color);
      }

      ${PU} {
        --card-muted-fg-color: var(--card-bg-color);
      }

      ${fv} {
        --card-muted-fg-color: var(--card-bg-color);
        --card-fg-color: var(--card-bg-color);
      }
    `}

  ${e=>!e.isSelected&&he`
      &:hover:before {
        background-color: var(--card-bg-color);
      }

      &:focus:before {
        background-color: var(--card-code-bg-color);
      }

      &:focus-within:before {
        background-color: var(--card-bg-color);
      }
    `}
`,wzn=R(B)`
  overflow-wrap: anywhere;
`,T0e={position:"relative"},A0e={flexShrink:0},a9={minWidth:0},j0e={zIndex:3,marginTop:"-0.5rem",marginBottom:"-0.5rem"},Czn=e=>{const t=on(en),n=Nr(),r=p.useRef(),[i,o]=p.useState(!1),[a,s]=p.useState(!1),[l,u]=p.useState(!1),[d,f]=p.useState(!1),{asset:h,onClick:m,onKeyPress:g,onDeleteFinished:y,isSelected:x,isMobile:b}=e,{originalFilename:v,_id:w,mimeType:C,size:k,_createdAt:S}=h,E=Oy(S,{useTemporalPhrase:!0}),_=bzn(C),T=FQ({unitDisplay:"short",maximumFractionDigits:2}),A=jU(k,T),I=(v||"").length>37,{t:j}=Q(),$=p.useCallback(()=>{s(!0)},[]),D=p.useCallback(Y=>{n.push({closable:!0,status:"error",title:j("asset-source.file.asset-list.delete-failed"),description:Y.message})},[j,n]),O=p.useCallback(()=>{n.push({status:"success",title:j("asset-source.file.asset-list.delete-successful")})},[j,n]),M=p.useCallback(()=>{u(!0),r.current=t.observable.delete(h._id).subscribe({next:()=>{u(!1),y==null||y(h._id),s(!1),O()},error:Y=>{u(!1),D(Y),console.error("Could not delete asset",Y)}})},[h._id,D,O,y,t.observable]),P=()=>{o(!1),s(!1)},F=()=>{o(!0)},L=()=>{f(!d)},U=Y=>{Y.type==="delete"&&$(),Y.type==="showUsage"&&F()},H=p.useMemo(()=>i&&c.jsx(D7e,{assetType:"file",asset:h,onClose:P}),[h,i]),N=p.useMemo(()=>a&&c.jsx(I7e,{assetType:"file",asset:h,onClose:P,onDelete:M,isDeleting:l}),[h,M,l,a]);return b?c.jsxs(le,{paddingBottom:2,style:T0e,children:[c.jsxs(Xn,{columns:4,gap:1,style:{position:"relative",gridTemplateColumns:"1fr 30px",opacity:l?.5:1},children:[c.jsx(_0e,{asset:h,mode:"bleed",padding:0,"data-id":w,onClick:m,paddingY:1,radius:2,children:c.jsxs(W,{gap:2,flex:2,align:"center",children:[c.jsx(le,{as:PU,padding:2,tone:"transparent",radius:2,children:c.jsx(B,{muted:!0,size:2,style:A0e,children:c.jsx(Kd,{})})}),c.jsx(B,{size:1,align:"left",textOverflow:"ellipsis",style:a9,children:v})]})}),c.jsx(W,{justify:"flex-end",align:"center",paddingRight:1,style:j0e,children:c.jsx(zt,{mode:"bleed",fontSize:1,padding:2,onClick:L,icon:d?p_e:ea})})]}),d&&c.jsxs(c.Fragment,{children:[c.jsxs(Xn,{marginTop:3,columns:3,gap:1,children:[c.jsxs(ae,{space:2,children:[c.jsx(B,{size:1,muted:!0,weight:"medium",children:j("asset-source.file.asset-list.header.size")}),c.jsx(B,{size:1,muted:!0,children:A})]}),c.jsxs(ae,{space:2,children:[c.jsx(B,{size:1,muted:!0,weight:"medium",children:j("asset-source.file.asset-list.header.type")}),c.jsx(B,{size:1,muted:!0,children:_})]}),c.jsxs(ae,{space:2,children:[c.jsx(B,{size:1,muted:!0,weight:"medium",children:j("asset-source.file.asset-list.header.date-added")}),c.jsx(B,{size:1,muted:!0,children:E})]})]}),c.jsxs(ae,{space:2,marginTop:3,children:[c.jsx(zt,{fontSize:1,tone:"default",mode:"ghost",text:j("asset-source.file.asset-list.action.show-usage.title"),onClick:F,icon:Rl}),c.jsx(zt,{fontSize:1,tone:"critical",mode:"ghost",text:j("asset-source.file.asset-list.action.delete.title"),icon:$i,disabled:x,title:j(x?"asset-source.file.asset-list.action.delete.disabled-cannot-delete-current-file":"asset-source.file.asset-list.action.delete.title"),onClick:$})]})]}),H||N]}):c.jsxs(xzn,{asset:h,paddingBottom:1,style:T0e,radius:0,overflow:"hidden",isSelected:x,"aria-selected":"true",children:[c.jsxs(Xn,{columns:4,gap:1,"data-id":w,paddingY:1,style:{position:"relative",gridTemplateColumns:"3fr 1fr 1fr 2fr 30px",opacity:l?.5:1},children:[c.jsx(_0e,{asset:h,mode:"bleed","data-id":w,onClick:m,padding:0,onKeyPress:g,title:j("asset-source.file.asset-list.item.select-file-tooltip",{filename:v}),isSelected:x,radius:2,children:c.jsxs(fv,{gap:2,flex:2,paddingRight:1,align:"center",onClick:m,onKeyPress:g,"data-id":w,children:[c.jsx(le,{as:PU,padding:2,tone:"transparent",radius:2,style:A0e,children:c.jsx(B,{muted:!0,size:2,children:c.jsx(Kd,{})})}),I&&c.jsx(Et,{content:v,children:c.jsx(B,{size:1,align:"left",textOverflow:"ellipsis",style:a9,children:v})}),!I&&c.jsx(B,{size:1,align:"left",textOverflow:"ellipsis",style:a9,children:v})]})}),c.jsx(fv,{align:"center",children:c.jsx(B,{size:1,muted:!0,children:A})}),c.jsx(fv,{align:"center",children:c.jsx(V,{children:c.jsx(wzn,{size:1,muted:!0,textOverflow:"ellipsis",children:_})})}),c.jsx(fv,{align:"center",children:c.jsx(B,{as:"time",size:1,muted:!0,dateTime:S,children:E})}),c.jsx(fv,{justify:"flex-end",align:"center",paddingX:1,paddingY:1,style:j0e,children:c.jsx($7e,{border:!1,isSelected:!1,onAction:U})})]}),H||N]})},kzn={paddingLeft:"2.2rem"},I0e={gridTemplateColumns:"3fr 1fr 1fr 2fr 30px"};function Szn(e){const t=Vy()<2,{assets:n,onClick:r,onKeyPress:i,onDeleteFinished:o,selectedAssets:a,isLoading:s}=e,{t:l}=Q();return c.jsxs(V,{children:[c.jsx(le,{borderBottom:!0,paddingBottom:2,marginBottom:1,children:t?c.jsx(Xn,{style:I0e,children:c.jsx(V,{flex:2,paddingLeft:5,children:c.jsx(B,{muted:!0,size:1,weight:"medium",children:l("asset-source.file.asset-list.header.filename")})})}):c.jsxs(Xn,{gap:1,style:I0e,children:[c.jsx(V,{flex:2,style:kzn,children:c.jsx(B,{muted:!0,size:1,weight:"medium",children:l("asset-source.file.asset-list.header.filename")})}),c.jsx(V,{flex:1,children:c.jsx(B,{muted:!0,size:1,weight:"medium",children:l("asset-source.file.asset-list.header.size")})}),c.jsx(V,{flex:1,children:c.jsx(B,{muted:!0,size:1,weight:"medium",children:l("asset-source.file.asset-list.header.type")})}),c.jsx(V,{flex:1,children:c.jsx(B,{muted:!0,size:1,weight:"medium",children:l("asset-source.file.asset-list.header.date-added")})})]})}),c.jsxs(ae,{children:[s&&n.length===0&&c.jsx(V,{paddingTop:4,paddingBottom:2,children:c.jsx(W,{justify:"center",children:c.jsx(dg,{muted:!0})})}),n.map(u=>c.jsx(Czn,{asset:u,isMobile:t,isSelected:a.some(d=>d._id===u._id),onClick:r,onKeyPress:i,onDeleteFinished:o},u._id))]})]})}const Ezn=typeof window>"u"||!window.devicePixelRatio?1:Math.round(window.devicePixelRatio),_zn=R.img`
  position: absolute;
  z-index: 1;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`,Tzn=R(le)`
  position: relative;
  z-index: 1;
  padding-bottom: 100%;
`,RU=R.div`
  position: relative;
  display: inherit;
`,Azn=R.div`
  box-sizing: border-box;
  position: absolute;
  z-index: 2;
  top: 3px;
  right: 3px;

  & button[data-selected] {
    display: block;
  }

  @media (hover: hover) {
    // If hover is supported, hide the buttons until the user hovers or focuses the asset
    // Use opacity to enable the buttons to still be focusable
    & button {
      opacity: 0;
    }

    ${RU}:hover & {
      button {
        opacity: 1;
      }
    }

    ${RU}:focus-within & {
      button {
        opacity: 1;
      }
    }
  }
`,jzn=p.memo(function(e){const t=on(en),n=Nr(),r=p.useRef(),{asset:i,onClick:o,onKeyPress:a,onDeleteFinished:s,isSelected:l}=e,[u,d]=p.useState(!1),[f,h]=p.useState(!1),[m,g]=p.useState(!1),{t:y}=Q();p.useEffect(()=>()=>{r.current&&r.current.unsubscribe()},[]);const x=p.useCallback(()=>{h(!0)},[h]),b=p.useCallback(()=>{d(!1),h(!1)},[d,h]),v=p.useCallback(()=>{d(!0)},[d]),w=p.useCallback(D=>{n.push({closable:!0,status:"error",title:y("asset-source.image.asset-list.delete-failed"),description:D.message})},[y,n]),C=p.useCallback(()=>{n.push({status:"success",title:y("asset-source.image.asset-list.delete-successful")})},[y,n]),k=p.useCallback(()=>{g(!0),r.current=t.observable.delete(i._id).subscribe({next:()=>{g(!1),s(i._id),h(!1),C()},error:D=>{g(!1),w(D),console.error("Could not delete asset",D)}})},[i._id,w,C,s,t.observable]),S=p.useCallback(D=>{D.type==="delete"&&x(),D.type==="showUsage"&&v()},[x,v]),E=p.useMemo(()=>u&&c.jsx(D7e,{assetType:"file",asset:i,onClose:b}),[i,b,u]),_=p.useMemo(()=>f&&c.jsx(I7e,{assetType:"file",asset:i,onClose:b,onDelete:k,isDeleting:m}),[i,k,b,m,f]),{originalFilename:T,_id:A,url:I}=i,j=200*Math.max(1,Ezn),$=I.includes(".gif")?`${I}?h=${j}&fit=max&fm=jpg`:`${I}?h=${j}&fit=max`;return c.jsxs(RU,{children:[c.jsx(zt,{selected:l,tabIndex:0,"data-id":A,mode:"ghost",onKeyPress:a,padding:0,style:{padding:2},children:c.jsxs(Tzn,{__unstable_checkered:!0,children:[c.jsx(_zn,{alt:T,src:$,onClick:o,"data-id":A}),m&&c.jsx(Dn,{})]})}),c.jsx(Azn,{children:c.jsx($7e,{isSelected:l,onAction:S})}),E||_]})}),Izn=R(Xn)`
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
`;function $zn(e){const{isLoading:t,assets:n,selectedAssets:r,onItemClick:i,onItemKeyPress:o,onDeleteFinished:a}=e;return c.jsxs(V,{padding:4,children:[c.jsx(Izn,{gap:2,children:n.map(s=>c.jsx(jzn,{asset:s,isSelected:r.some(l=>l._id===s._id),onClick:i,onKeyPress:o,onDeleteFinished:a},s._id))}),t&&n.length===0&&c.jsx(W,{justify:"center",children:c.jsx(dg,{muted:!0})}),!t&&n.length===0&&c.jsx(B,{align:"center",muted:!0})]})}const FI=200,O7e="sanity.imageAsset",Dzn="sanity.fileAsset",Ozn=e=>{const t=["image/*","audio/*","video/*"],n=e.split(",").map(r=>r.trim()).reduce((r,i)=>t.includes(i)?{...r,wildcards:`mimeType match '${i}' || ${r.wildcards}`}:i.indexOf(".")===0?{...r,extensions:`'${i.replace(".","")}', ${r.extensions}`}:{...r,mimes:`'${i}', ${r.mimes}`},{mimes:"",extensions:"",wildcards:""});return`&&
  (
    ${n.wildcards}
    extension in [${n.extensions}] ||
    mimeType in [${n.mimes}]
  )`},Mzn=(e=0,t=FI,n=O7e,r)=>{const i=r.length>0?Ozn(r):"";return`
  *[_type == "${n}" ${i}] | order(_updatedAt desc) [${e}...${t}] {
    _id,
    _updatedAt,
    _createdAt,
    url,
    originalFilename,
    mimeType,
    extension,
    size,
    metadata {dimensions}
  }
`},Pzn=R(le)`
  border-top: 1px solid var(--card-border-color);
  position: sticky;
  bottom: 0;
  z-index: 200;
`,Rzn=function(e,t){const n=on(en),r=p.useMemo(()=>n.withConfig({apiVersion:"2023-02-14"}),[n]),i=p.useRef(`default-asset-source-${Zje()}`),o=p.useRef(0),{t:a}=Q(),s=p.useRef(),[l,u]=p.useState([]),[d,f]=p.useState(!1),[h,m]=p.useState(!1),[g,y]=p.useState(!0),{selectedAssets:x,assetType:b="image",dialogHeaderTitle:v,onClose:w,onSelect:C,accept:k}=e,S=k&&k==="image/*"&&b==="image",E=p.useCallback(O=>{const M=O*FI,P=M+FI,F=b==="image",L=F?"asset.image-list":"asset.file-list",U=F?O7e:Dzn;y(!0),typeof k<"u"&&(s.current=r.observable.fetch(Mzn(M,P,U,k),{},{tag:L}).subscribe(H=>{f(H.length<FI),u(N=>N.concat(H)),y(!1)}))},[b,k,r]),_=p.useCallback(O=>{u(M=>M.filter(P=>P._id!==O))},[u]),T=p.useCallback(O=>{l.find(M=>M._id===O)&&C([{kind:"assetDocumentId",value:O}])},[l,C]),A=p.useCallback(O=>{O.preventDefault();const M=O.currentTarget.getAttribute("data-id");if(!M)throw new Error("Missing data-id attribute on item");T(M)},[T]),I=p.useCallback(O=>{if(O.key==="Enter"){O.preventDefault();const M=O.currentTarget.getAttribute("data-id");if(!M)throw new Error("Missing data-id attribute on item");T(M)}},[T]),j=p.useCallback(()=>{w&&w()},[w]),$=p.useCallback(O=>{O.preventDefault(),E(++o.current)},[E]);p.useEffect(()=>(E(o.current),()=>{s.current&&s.current.unsubscribe()}),[E]),p.useEffect(()=>{!g&&(!o.current||o.current===0)&&m(!0)},[g]);const D=b0({style:"narrow"});return c.jsx(no,{__unstable_autoFocus:h,header:v||a("asset-source.dialog.default-title",{context:b}),id:i.current,onClickOutside:j,onClose:j,ref:t,width:2,children:c.jsxs(ae,{space:5,children:[!S&&!g&&(k==null?void 0:k.length)>0&&c.jsx(le,{tone:"primary",padding:3,border:!0,radius:2,children:c.jsxs(W,{gap:3,align:"center",children:[c.jsx(B,{size:1,children:c.jsx(bg,{})}),c.jsx(B,{size:1,children:c.jsx(wt,{t:a,i18nKey:"asset-source.dialog.accept-message",values:{acceptTypes:D.format(k.split(",").map(O=>O.trim()))}})})]})}),b==="file"&&c.jsx(Szn,{assets:l,onDeleteFinished:_,onClick:A,onKeyPress:I,isLoading:g,selectedAssets:x}),b==="image"&&c.jsx($zn,{assets:l,onDeleteFinished:_,onItemClick:A,onItemKeyPress:I,isLoading:g,selectedAssets:x}),l.length>0&&!d&&c.jsx(Pzn,{tone:"default",padding:4,children:c.jsx(W,{direction:"column",children:c.jsx(ge,{type:"button",icon:yK,loading:g,onClick:$,size:"large",text:a("asset-source.dialog.load-more"),tone:"primary"})})})]})})},M7e=p.memo(p.forwardRef(Rzn)),P7e={name:"sanity-default",title:"Uploaded files",i18nKey:"asset-source.file.title",component:M7e,icon:mK},R7e={name:"sanity-default",title:"Uploaded images",i18nKey:"asset-source.image.title",component:M7e,icon:Fu},Fzn=[],Lzn=[],Nzn=[],Bzn=(e,{schema:t},n)=>{const r=t==null?void 0:t.types;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`schema.types\` to be an array or a function, but received ${Rs(r)}`)},Vzn=async(e,{document:t},n)=>{const r=t==null?void 0:t.productionUrl;return r?await r(e,n):e},zzn=(e,{tools:t},n)=>{if(!t)return e;if(typeof t=="function")return t(e,n);if(Array.isArray(t))return[...e,...t];throw new Error(`Expected \`tools\` to be an array or a function, but received ${Rs(t)}`)},Uzn=(e,{schema:t},n)=>{const r=t==null?void 0:t.templates;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`schema.templates\` to be an array or a function, but received ${Rs(r)}`)},Hzn=(e,{i18n:t},n)=>{const r=t==null?void 0:t.locales;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`i18n.locales\` to be an array or a function, but received ${Rs(r)}`)},Wzn=(e,{i18n:t},n)=>{const r=t==null?void 0:t.bundles;if(!r)return e;if(Array.isArray(r))return[...e,...r];if(typeof r=="function")return r(e,n);throw new Error(`Expected \`i18n.bundles\` to be an array or a function, but received ${typeof r}`)},Gzn=(e,{document:t},n)=>{const r=t==null?void 0:t.badges;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`document.badges\` to be an array or a function, but received ${Rs(r)}`)},Kzn=(e,{document:t},n)=>{const r=t==null?void 0:t.actions;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`document.actions\` to be an array or a function, but received ${Rs(r)}`)},Yzn=(e,{document:t},n)=>{const r=t==null?void 0:t.newDocumentOptions;if(!r)return e;if(typeof r!="function")throw new Error(`Expected \`document.resolveNewDocumentOptions\` to be a function, but received ${Rs(r)}`);return r(e,n)},qzn=(e,{form:t},n)=>{var i;const r=(i=t==null?void 0:t.file)==null?void 0:i.assetSources;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`form.file.assetSources\` to be an array or a function, but received ${Rs(r)}`)},Zzn=(e,{form:t},n)=>{var i;const r=(i=t==null?void 0:t.image)==null?void 0:i.assetSources;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`form.image.assetSources\` to be an array or a function, but received ${Rs(r)}`)},Xzn=(e,{document:t},n)=>{const r=t==null?void 0:t.unstable_languageFilter;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`document.unstable_languageFilter\` to be an array or a function, but received ${Rs(r)}`)},Jzn=(e,{document:t},n)=>{const r=t==null?void 0:t.inspectors;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error(`Expected \`document.inspectors\` to be an array or a function, but received ${Rs(r)}`)},$0e=e=>{const{config:t,context:n,initialValue:r}=e;return cC(t,[]).reduce((i,{config:o})=>{var s,l,u,d;const a=((l=(s=o.document)==null?void 0:s.comments)==null?void 0:l.enabled)??((d=(u=o.document)==null?void 0:u.unstable_comments)==null?void 0:d.enabled);if(!a&&typeof a!="boolean")return i;if(typeof a=="function")return a(n);if(typeof a=="boolean")return a;throw new Error(`Expected \`document.comments.enabled\` to be a boolean or a function, but received ${Rs(a)}`)},r)},Qzn=e=>{const{config:t}=e;return cC(t,[]).reduce((n,{config:r})=>{const i=r.__internal_tasks;if(!i)return n;if(typeof i=="object"&&i.footerAction)return i;throw new Error(`Expected \`__internal__tasks\` to be an object with footerAction, but received ${Rs(i)}`)},void 0)},eUn=e=>{const{config:t,initialValue:n}=e;return cC(t,[]).reduce((r,{config:i})=>{var a,s;const o=(s=(a=i.search)==null?void 0:a.unstable_partialIndexing)==null?void 0:s.enabled;if(!o&&typeof o!="boolean")return r;if(typeof o=="boolean")return o;throw new Error(`Expected \`search.unstable_partialIndexing.enabled\` to be a boolean, but received ${Rs(o)}`)},n)},tUn=(e,{search:t})=>typeof(t==null?void 0:t.enableLegacySearch)<"u"?t.enableLegacySearch:e;function cs({config:e,context:t,initialValue:n,propertyName:r,...i}){const o=cC(e,[]);if("reducer"in i)return o.reduce((s,{config:l,path:u})=>{try{return i.reducer(s,l,t)}catch(d){throw new Wge({propertyName:r,path:u,cause:d})}},n);const a=i.asyncReducer;return(async()=>{let s=n;for(const{config:l,path:u}of o)try{s=await a(s,l,t)}catch(d){throw new Wge({propertyName:r,path:u,cause:d})}return s})()}function nUn(e){const{bundles:t}=e;function n(){}function r(i,o,a){const s=t.filter(l=>l.locale===i&&l.namespace===o);if(s.length===0){a(`No translations found for namespace "${o}", language "${i}"`,void 0);return}rUn(s).then(l=>a(null,l)).catch(l=>a(l,!0))}return{type:"backend",init:n,read:r}}async function rUn(e){const t=await Promise.all(e.map(async r=>({...r,resources:await iUn(r)}))),n={};for(const r of t){const i=r.deep??!0,o=r.overwrite??!0;i?F7e(n,r.resources,o):o?Object.assign(n,r.resources):Object.assign({},r.resources,n)}return n}async function iUn(e){if(typeof e.resources!="function")return e.resources;const t=await e.resources();return oUn(t)}function F7e(e,t,n=!1){for(const r in t){if(r==="__proto__"||r==="constructor")continue;if(!(r in e)){e[r]=t[r];continue}const i=e[r],o=t[r],a=D0e(i),s=D0e(o);if((a||s)&&n){e[r]=t[r];continue}if(a||s)continue;const l=Array.isArray(o),u=Array.isArray(i);if(l||u){n&&(e[r]=o);continue}F7e(i,o,n)}return e}function D0e(e){return typeof e=="string"||e instanceof String}function oUn(e){return aUn(e)?e.default:e}function aUn(e){return"default"in e&&typeof e.default=="object"&&kr(e.default)}function sUn(e){const{projectId:t,dataset:n,name:r}=e,i={projectId:t,dataset:n},o=cs({config:e,context:i,propertyName:"i18n.locales",reducer:Hzn,initialValue:[gc]}),a=cs({config:e,context:i,propertyName:"i18n.bundles",reducer:Wzn,initialValue:cUn(o)});return lUn({locales:o,bundles:a,projectId:t,sourceName:r})}function lUn({locales:e,bundles:t,projectId:n,sourceName:r}){const i=new Set(t.map(l=>l.namespace)),o=uUn(n,r,e,i),a=uRe().use(nUn({bundles:t})).use(Zst);a.init(o).catch(l=>{console.error("Failed to initialize i18n backend: %s",l)});const s=e.map(dUn);return{source:{get currentLocale(){return s.find(l=>l.id===a.language)??gc},loadNamespaces(l){const u=l.filter(d=>!a.hasLoadedNamespace(d));return u.length===0?Promise.resolve():a.loadNamespaces(u)},locales:s,t:P8e(a.t)},i18next:a}}function cUn(e){const t=[];for(const n of e){if(n.bundles&&!Array.isArray(n.bundles))throw new Error(`Resource bundle for locale ${n.id} is not an array`);if(n.bundles)for(const r of n.bundles){if("locale"in r&&r.locale!==n.id)throw new Error(`Resource bundle inside locale ${n.id} has mismatching locale id`);if(!r.namespace)throw new Error(`Resource bundle for locale ${n.id} is missing namespace`);t.push("locale"in r?r:{...r,locale:n.id})}}return t}const O0e={ns:[$x],defaultNS:$x,partialBundledLanguages:!0,fallbackLng:gc.id,lng:gc.id,debug:MEn,load:"currentOnly",initImmediate:!0,interpolation:{escapeValue:!1},react:{bindI18nStore:"added"}};function uUn(e,t,n,r){const i=F_n(e,t),o=n.find(l=>l.id===i),a=n[n.length-1],s=(o==null?void 0:o.id)??a.id??O0e.lng;return{...O0e,ns:Array.from(r),lng:s,supportedLngs:n.map(l=>l.id)}}function dUn(e){const{bundles:t,...n}=e;return n}function L7e(e){return e.reduce((t,n)=>(t[n.name]=n,t),{})}function $g(e,t){return e[t]}function fUn(e){return e.reduce((t,n)=>(n.type==="field"&&t.push(n.fieldType),t),[])}const hUn=[{fieldPath:"_updatedAt",icon:ba,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Edited at",name:"updatedAt",type:"pinned"},{fieldPath:"_createdAt",icon:ba,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Created at",name:"createdAt",type:"pinned"},{icon:Rl,operators:[{name:"referencesDocument",type:"item"},{name:"referencesAssetImage",type:"item"},{name:"referencesAssetFile",type:"item"}],title:"Contains document, image or file",name:"references",type:"pinned"},{fieldType:"array",icon:pS,name:"array",operators:[{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:pS,name:"arrayList",operators:[{name:"arrayListIncludes",type:"item"},{name:"arrayListNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:pS,name:"arrayReferences",operators:[{name:"arrayReferenceIncludes",type:"item"},{name:"arrayReferenceNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"boolean",icon:qy,name:"boolean",operators:[{name:"booleanEqual",type:"item"},{type:"divider"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"date",icon:ba,name:"date",operators:[{name:"dateLast",type:"item"},{type:"divider"},{name:"dateRange",type:"item"},{name:"dateAfter",type:"item"},{name:"dateBefore",type:"item"},{type:"divider"},{name:"dateEqual",type:"item"},{name:"dateNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"datetime",icon:ba,name:"datetime",operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"email",icon:ev,name:"email",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"file",icon:Kd,name:"file",operators:[{name:"assetFileEqual",type:"item"},{name:"assetFileNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"image",icon:Fu,name:"image",operators:[{name:"assetImageEqual",type:"item"},{name:"assetImageNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"number",icon:O_e,name:"number",operators:[{name:"numberEqual",type:"item"},{name:"numberNotEqual",type:"item"},{type:"divider"},{name:"numberGt",type:"item"},{name:"numberGte",type:"item"},{name:"numberLt",type:"item"},{name:"numberLte",type:"item"},{type:"divider"},{name:"numberRange",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"array",icon:d_e,name:"portableText",operators:[{name:"portableTextMatches",type:"item"},{name:"portableTextNotMatches",type:"item"},{type:"divider"},{name:"portableTextEqual",type:"item"},{name:"portableTextNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"reference",icon:Rl,name:"reference",operators:[{name:"referenceEqual",type:"item"},{name:"referenceNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"slug",icon:ev,name:"slug",operators:[{name:"slugMatches",type:"item"},{name:"slugNotMatches",type:"item"},{type:"divider"},{name:"slugEqual",type:"item"},{name:"slugNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:ev,name:"string",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:ea,name:"stringList",operators:[{name:"stringListEqual",type:"item"},{name:"stringListNotEqual",type:"item"},{type:"divider"},{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"text",icon:ev,name:"text",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"url",icon:ev,name:"url",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"}];function $c(e={}){const t=jg().id;return Xf.dateTimeFormat(t,e)}function FQ(e={}){const t=jg().id,n={unitDisplay:"long",...e,style:"unit"};return function(r,i){return Xf.numberFormat(t,{...n,unit:i}).format(r)}}function pUn({documentId:e,schemaType:t}){const n=No(),r=p.useMemo(()=>rC(n,t,e,""),[e,n,t]),{draft:i,published:o,isLoading:a}=bi(r,{draft:null,isLoading:!0,published:null}),s=p.useMemo(()=>({_id:e,_type:t.name}),[e,t.name]),l=mQ({draft:i,published:o,value:s});return a?c.jsx(rf,{animated:!0,marginLeft:1,radius:2,style:{width:"10ch",height:"1em"}}):c.jsx(c.Fragment,{children:l.title||e.slice(0,8)})}function ej({value:e}){const t=$c({dateStyle:"medium",timeStyle:e.includeTime?"short":void 0}),n=e!=null&&e.date?new Date(e.date):null;return!n||!Lh(n)?null:c.jsx(c.Fragment,{children:t.format(n)})}function mUn({value:e}){const t=FQ();return c.jsx(c.Fragment,{children:t(Math.floor((e==null?void 0:e.unitValue)??0),e.unit)})}function M0e({value:e}){const t=$c({dateStyle:"medium",timeStyle:e.includeTime?"short":void 0}),n=e!=null&&e.from?new Date(e.from):null,r=e!=null&&e.to?new Date(e.to):null;if(!r||!n||!Lh(r)||!Lh(n))return null;const i=t.format(n),o=t.format(r);return c.jsx(c.Fragment,{children:`${i}  ${o}`})}function gu({value:e}){const t=un(),n=e._ref,r=t.get(e._type);return r?c.jsx(pUn,{documentId:n,schemaType:r}):null}function cn(){const e=p.useContext(pwe);if(e===void 0)throw new Error("useSearchState must be used within an SearchProvider");return e}function hc({value:e,onChange:t}){const[n,r]=p.useState(e??""),{state:{fullscreen:i}}=cn(),{t:o}=Q(),a=p.useCallback(s=>{r(s.currentTarget.value);const l=parseFloat(s.currentTarget.value);t(Number.isFinite(l)?l:null)},[t]);return c.jsx(ei,{fontSize:i?2:1,onChange:a,placeholder:o("search.filter-number-value-placeholder"),radius:2,step:"any",type:"number",value:n})}function N7e({onChange:e,value:t}){const[n,r]=p.useState((t==null?void 0:t.to)??""),[i,o]=p.useState((t==null?void 0:t.from)??""),{state:{fullscreen:a}}=cn(),{t:s}=Q(),l=p.useCallback(d=>{r(d.currentTarget.value);const f=parseFloat(d.currentTarget.value);e({to:Number.isFinite(f)?f:null,from:(t==null?void 0:t.from)??null})},[t==null?void 0:t.from,e]),u=p.useCallback(d=>{o(d.currentTarget.value);const f=parseFloat(d.currentTarget.value);e({to:(t==null?void 0:t.to)??null,from:Number.isFinite(f)?f:null})},[t==null?void 0:t.to,e]);return c.jsxs(W,{gap:2,children:[c.jsx(V,{flex:1,children:c.jsx(ei,{fontSize:a?2:1,onChange:u,placeholder:s("search.filter-number-min-value-placeholder"),radius:2,step:"any",type:"number",value:i})}),c.jsx(V,{flex:1,children:c.jsx(ei,{fontSize:a?2:1,onChange:l,placeholder:s("search.filter-number-max-value-placeholder"),radius:2,step:"any",type:"number",value:n})})]})}function l4(e,t){const n=t.split("."),r=n[0];if(r&&Qo(e)){const i=e.fields.find(o=>o.name===r);if(i){const o=n.slice(1).join(".");return o?l4(i.type,o):i}}}const gUn=R(V)`
  @supports (-webkit-overflow-scrolling: touch) {
    * [data-ui='Box'] {
      background-attachment: scroll;
    }
  }
`;function B7e({documentId:e,layout:t,presence:n,schemaType:r,showBadge:i=!0}){const o=No(),a=p.useMemo(()=>rC(o,r,e,""),[e,o,r]),{draft:s,published:l,isLoading:u}=bi(a,{draft:null,isLoading:!0,published:null}),d=p.useMemo(()=>({_id:e,_type:r.name}),[e,r.name]),f=p.useMemo(()=>u?null:c.jsxs(W,{align:"center",gap:3,children:[n&&n.length>0&&c.jsx(DJ,{presence:n}),i&&c.jsx($a,{children:r.title}),c.jsx(tC,{draft:s,published:l})]}),[s,u,n,l,r.title,i]),h=c.jsx(Vx,{draft:s,published:l});return c.jsx(gUn,{children:c.jsx(Ia,{...mQ({draft:s,published:l,value:d}),isPlaceholder:u??!0,layout:t||"default",icon:r.icon,status:f,tooltip:h})})}function LQ({disableIntentLink:e,documentId:t,documentType:n,layout:r,onClick:i,onItemSelect:o,...a}){const s=un().get(n),l=iC(t),u=p.useMemo(()=>({id:t,type:s==null?void 0:s.name}),[t,s==null?void 0:s.name]),{onClick:d,href:f}=e_({intent:"edit",params:u}),h=p.useCallback(m=>{o==null||o({_id:t,_type:n}),e||d(m),i==null||i()},[o,t,n,e,i,d]);return s?c.jsx(V,{...a,children:c.jsx(Y1,{as:"a","data-as":"a",flex:1,href:e?void 0:f,onClick:h,radius:2,tabIndex:-1,children:c.jsx(B7e,{documentId:t,layout:r,presence:l,schemaType:s})})}):null}const yUn=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),vUn="_debug_search_score",V7e=!1,bUn=1e3,z7e="k",xUn=yUn?"Cmd":"Ctrl",FU=ly.space[4],wUn=735,CUn=800,__=5,uC=3;function T_({allowEmptyQueries:e,terms:t}){const n=e?!0:t.query.length>0,r=!!t.filter,i=t.types.length>0;return n||r||i}function kUn(e,t){return c4(e).filter(n=>SUn(n,t)).sort(LU)}function c4(e){return zFe(e).filter(t=>t.__experimental_omnisearch_visibility!==!1)}function LU(e,t){return(e.title??e.name).localeCompare(t.title??t.name)}function SUn(e,t){return!t||(e.title??e.name).toLowerCase().includes(t==null?void 0:t.toLowerCase())}const EUn=300,s9={error:null,hits:[],loading:!1,terms:{query:"",types:[]}};function _Un(e){return e!==null}function TUn(e){var t;return{...e,terms:{...e.terms,filter:(t=e.terms.filter)==null?void 0:t.trim(),query:e.terms.query.trim()}}}function U7e({allowEmptyQueries:e,initialState:t,onComplete:n,onError:r,onStart:i,schema:o}){const[a,s]=p.useState(t),l=on(en),u=GR(),{enableLegacySearch:d=!1}=ri().search,f=p.useMemo(()=>WR(c4(o),l,{tag:"search.global",unique:!0,enableLegacySearch:d,maxDepth:u}),[l,u,o,d]),h=RM(m=>m.pipe(Bt(_Un),fe(TUn),Ar(Dt),GK(g=>ni((g==null?void 0:g.debounceTime)||EUn)),or(i),At(g=>Di(Se({...s9,loading:!0,options:g.options,terms:g.terms}),ixt(()=>T_({allowEmptyQueries:e,terms:g.terms}),f(g.terms,g.options).pipe(or(({hits:y,nextCursor:x})=>n==null?void 0:n({hits:y,nextCursor:x})),En(y=>(r==null||r(y),Se({...s9,error:y,loading:!1,options:g.options,terms:g.terms})))),Se(ur).pipe(or(()=>n==null?void 0:n({hits:[],nextCursor:void 0})))),Se({loading:!1}))),Fl((g,y)=>({...g,...y}),s9),or(s)));return{handleSearch:p.useCallback(m=>h(m),[h]),searchState:a}}const AUn=40;function H7e({availableCharacters:e=AUn,types:t}){if(t.length===0)return{remainingCount:0,types:[]};const n=t.reduce(function(){let r=e;return function(i,o,a){const s=P0e(o);return r-=s.length,(a===0||e>s.length&&r>s.length)&&i.push(o),i}}(),[]);return{remainingCount:t.length-n.length,types:n.map(P0e)}}function W7e({t:e,availableCharacters:t,types:n}){if(n.length===0)return e("search.document-type-list-all-types");const{remainingCount:r,types:i}=H7e({availableCharacters:t,types:n}),o=r>0?"search.document-type-list-truncated":"search.document-type-list";return e(o,{count:r,types:i,formatParams:{types:{style:"short",type:"unit"}}})}function P0e(e){return e.title??e.name}const jUn=()=>!0,IUn=R(B)`
  word-break: break-word;
`,$Un=p.forwardRef(function({onSelect:e,types:t=[],value:n},r){const i=p.useRef(null),o=un(),{state:{fullscreen:a}}=cn(),{t:s}=Q(),l=p.useId(),[u,d]=p.useState([]),{handleSearch:f,searchState:h}=U7e({allowEmptyQueries:!0,initialState:{hits:[],loading:!1,error:null,terms:{query:"",types:t}},onComplete:w=>{d(w.hits.map(({hit:C})=>({value:C._id,hit:C})))},schema:o}),m=p.useCallback(()=>{f({debounceTime:0,options:{limit:100},terms:{query:"",types:t}})},[f,t]),g=p.useCallback(w=>{f(w?{options:{limit:100},terms:{query:w||"",types:t}}:{debounceTime:0,options:{limit:0},terms:{query:"",types:t}})},[f,t]),y=p.useCallback(w=>{var k;const C=(k=u.find(S=>S.value===w))==null?void 0:k.hit;C&&(e==null||e({_ref:Cn(C._id),_type:C._type}))},[u,e]),x=p.useMemo(()=>{if(t.length===0)return s("search.action.search-all-types");const{remainingCount:w,types:C}=H7e({types:t}),k=w>0?"search.action.search-specific-types-truncated":"search.action.search-specific-types";return s(k,{count:w,types:C,formatParams:{types:{style:"short",type:"unit"}}})},[t,s]),b=p.useCallback(w=>c.jsx(LQ,{disableIntentLink:!0,documentId:w.value,documentType:w.hit._type,layout:"compact"}),[]),v=p.useCallback((w,C)=>{const{content:k,hidden:S,onMouseEnter:E,onMouseLeave:_}=w,T=u&&u.length>0;return c.jsx(Fn,{constrainSize:!0,content:c.jsx("div",{ref:C,children:T?k:h.terms.query&&c.jsx(V,{padding:4,children:c.jsx(W,{align:"center",height:"fill",justify:"center",children:c.jsx(IUn,{align:"center",muted:!0,children:c.jsx(wt,{t:s,i18nKey:"new-document.no-results",values:{searchQuery:h.terms.query}})})})})}),fallbackPlacements:["bottom","bottom-end"],matchReferenceWidth:!0,onMouseEnter:E,onMouseLeave:_,open:!h.loading&&!S,overflow:"auto",placement:"bottom-start",radius:uC,referenceElement:i.current})},[u,h.loading,h.terms.query,s]);return c.jsx("div",{ref:i,children:c.jsx(JO,{"aria-label":x,filterOption:jUn,fontSize:a?2:1,id:l,loading:h.loading,openButton:{onClick:m},options:u,onQueryChange:g,onSelect:y,placeholder:x,radius:2,ref:r,renderOption:b,renderPopover:v,value:n==null?void 0:n._ref})})});function HS({fieldDefinition:e,onChange:t,value:n}){const{onClose:r,state:{documentTypesNarrowed:i}}=cn(),o=un(),{t:a}=Q(),s=p.useCallback(f=>t(f),[t]),l=p.useMemo(()=>e?e.documentTypes.filter(f=>i.includes(f)).flatMap(f=>{const h=o.get(f);if(h){const m=l4(h,e.fieldPath);if(sl(m==null?void 0:m.type))return m==null?void 0:m.type.of.filter(Il).flatMap(g=>g.to);if(Il(m==null?void 0:m.type))return m==null?void 0:m.type.to}return[]}).reduce((f,h)=>(f.findIndex(m=>m.name===(h==null?void 0:h.name))<0&&f.push(h),f),[]):[],[i,e,o]),u=p.useCallback(()=>s(null),[s]),d=p.useCallback(()=>{r==null||r()},[r]);return c.jsx(V,{style:{width:"min(calc(100vw - 40px), 420px)"},children:n!=null&&n._ref&&(n!=null&&n._type)?c.jsxs(ae,{space:3,children:[c.jsx(le,{padding:1,radius:1,shadow:1,children:c.jsx(LQ,{documentId:n._ref,documentType:n._type,layout:"compact",onClick:d})}),c.jsx(ge,{mode:"ghost",onClick:u,text:a("search.filter-reference-clear"),tone:"critical"})]}):c.jsx($Un,{onSelect:s,types:l,value:n})})}function DUn({onClick:e,selected:t,title:n,value:r}){const i=p.useCallback(()=>e(r),[e,r]);let o=`${n}`;return typeof r<"u"&&n!==r&&(o+=` (${r})`),c.jsx(Qe,{onClick:i,pressed:t,tone:"default",text:o})}function BD({fieldDefinition:e,onChange:t,value:n}){const r=p.useId(),{state:{documentTypesNarrowed:i}}=cn(),{t:o}=Q(),a=un(),s=p.useMemo(()=>e?e.documentTypes.filter(u=>i.includes(u)).map(u=>{var f;const d=a.get(u);return d?(f=l4(d,e.fieldPath))==null?void 0:f.type.options:null}).filter(Ro).map(u=>u.list).flatMap(u=>u==null?void 0:u.map(d=>OUn(d))).filter(Ro).reduce((u,d)=>{const f=u.findIndex(h=>h.value===(d==null?void 0:d.value));if(f>-1){const h=u[f];u[f]={...u[f],title:Io([...h.title,d.title]).sort()}}else u.push({...d,title:[d.title]});return u},[]):[],[i,e,a]),l=p.useCallback(u=>{t(u)},[t]);return c.jsx(Jt,{button:c.jsx(ge,{mode:"ghost",iconRight:ea,text:n?String(n):o("search.filter-string-value-select-predefined-value")}),id:r||"",menu:c.jsx(Nt,{children:s.map((u,d)=>c.jsx(DUn,{onClick:l,selected:u.value===n,title:u.title.join(", "),value:u.value||""},d))}),popover:{constrainSize:!0,placement:"bottom-start",portal:!1,radius:2}})}function OUn(e){return aK(e)?e:{title:hp(`${e}`),value:e}}const G7e=()=>c.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM7.04 15.328V13.624L12.08 11.872L15.32 10.816V10.72L12.08 9.664L7.04 7.912V6.208L17.36 9.88V11.656L7.04 15.328Z",fill:"currentColor"})}),K7e=()=>c.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M7.568 18.848V16.952L14.792 12.08V11.984L7.568 7.112V5.216L16.52 11.288V12.776L7.568 18.848Z",fill:"currentColor"})}),Y7e=()=>c.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM17.36 15.328L7.04 11.656V9.88L17.36 6.208V7.912L12.32 9.664L9.08 10.72V10.816L12.32 11.872L17.36 13.624V15.328Z",fill:"currentColor"})}),q7e=()=>c.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M16.952 19.632L8 13.56V12.072L16.952 6V7.896L9.728 12.768V12.864L16.952 17.736V19.632Z",fill:"currentColor"})});function xt(e){return JSON.stringify(e)}const MUn={arrayCountEqual:{nameKey:"search.operator.array-count-equal.name",descriptionKey:"search.operator.array-count-equal.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`count(${e}) == ${xt(t)}`:null,initialValue:null,inputComponent:hc,type:"arrayCountEqual"},arrayCountGt:{nameKey:"search.operator.array-count-gt.name",descriptionKey:"search.operator.array-count-gt.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`count(${e}) > ${xt(t)}`:null,icon:K7e,initialValue:null,inputComponent:hc,type:"arrayCountGt"},arrayCountGte:{nameKey:"search.operator.array-count-gte.name",descriptionKey:"search.operator.array-count-gte.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`count(${e}) >= ${xt(t)}`:null,icon:G7e,initialValue:null,inputComponent:hc,type:"arrayCountGte"},arrayCountLt:{nameKey:"search.operator.array-count-lt.name",descriptionKey:"search.operator.array-count-lt.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`count(${e}) < ${xt(t)}`:null,icon:q7e,initialValue:null,inputComponent:hc,type:"arrayCountLt"},arrayCountLte:{nameKey:"search.operator.array-count-lte.name",descriptionKey:"search.operator.array-count-lte.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`count(${e}) <= ${xt(t)}`:null,icon:Y7e,initialValue:null,inputComponent:hc,type:"arrayCountLte"},arrayCountNotEqual:{nameKey:"search.operator.array-count-not-equal.name",descriptionKey:"search.operator.array-count-not-equal.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`count(${e}) != ${xt(t)}`:null,initialValue:null,inputComponent:hc,type:"arrayCountNotEqual"},arrayCountRange:{nameKey:"search.operator.array-count-range.name",descriptionKey:"search.operator.array-count-range.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t==null?void 0:t.to)&&Number.isFinite(t==null?void 0:t.from)&&e?`count(${e}) > ${xt(t==null?void 0:t.from)} && count(${e}) < ${xt(t==null?void 0:t.to)}`:"",initialValue:null,inputComponent:N7e,type:"arrayCountRange"},arrayListIncludes:{nameKey:"search.operator.array-list-includes.name",descriptionKey:"search.operator.array-list-includes.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${xt(t)} in ${e}`:null,initialValue:null,inputComponent:BD,type:"arrayListIncludes"},arrayListNotIncludes:{nameKey:"search.operator.array-list-not-includes.name",descriptionKey:"search.operator.array-list-not-includes.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`!(${xt(t)} in ${e})`:null,initialValue:null,inputComponent:BD,type:"arrayListNotIncludes"},arrayReferenceIncludes:{nameKey:"search.operator.array-reference-includes.name",descriptionKey:"search.operator.array-reference-includes.description",buttonValueComponent:gu,groqFilter:({fieldPath:e,value:t})=>t!=null&&t._ref&&e?`${xt(t._ref)} in ${e}[]._ref`:null,initialValue:null,inputComponent:HS,type:"arrayReferenceIncludes"},arrayReferenceNotIncludes:{nameKey:"search.operator.array-reference-not-includes.name",descriptionKey:"search.operator.array-reference-not-includes.description",buttonValueComponent:gu,groqFilter:({fieldPath:e,value:t})=>t!=null&&t._ref&&e?`!(${xt(t._ref)} in ${e}[]._ref)`:null,initialValue:null,inputComponent:HS,type:"arrayReferenceNotIncludes"}};function u4({children:e,...t}){const n=p.useContext(yj),{unstable_sources:r}=ri();if("source"in t){const{source:i}=t;return c.jsx(yj.Provider,{value:i,children:e})}if("name"in t){const{name:i}=t,o=r.find(a=>a.name===i);if(!o)throw new Error(`Could not find source with name \`${i}\` in current workspace`);return n===o?c.jsx(c.Fragment,{children:e}):c.jsx(yj.Provider,{value:o,children:e})}throw new Error("Invalid props passed into SourceProvider. A `name` or a `source` object is required.")}function er(){const e=p.useContext(yj);if(!e)throw new Error("Could not find `source` context");return e}function PUn(e){const{t}=Q();return c.jsx(V,{...e,children:c.jsxs(W,{align:"flex-start",gap:3,children:[c.jsx(gi,{tone:"caution",children:c.jsx(Br,{})}),c.jsxs(ae,{space:4,children:[c.jsx(gi,{size:1,tone:"caution",weight:"medium",children:t("search.error.no-valid-asset-source-title")}),c.jsx(gi,{size:1,tone:"caution",children:t("search.error.no-valid-asset-source-only-default-description")}),c.jsx(gi,{size:1,tone:"caution",children:t("search.error.no-valid-asset-source-check-config-description")})]})]})})}function RUn({reference:e}){const t=No(),n=p.useCallback(r=>CFe(t,r),[t]);return c.jsx(g5,{observeAsset:n,reference:e,waitPlaceholder:c.jsx(LUn,{}),children:r=>c.jsx(FUn,{asset:r})})}function FUn({asset:e}){return c.jsx(le,{padding:2,shadow:1,children:c.jsxs(W,{align:"center",justify:"space-between",wrap:"nowrap",children:[c.jsx(le,{padding:3,radius:1,shadow:1,tone:"transparent",children:c.jsx(B,{children:c.jsx(uE,{})})}),c.jsxs(ae,{flex:1,space:2,marginLeft:3,children:[c.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",weight:"medium",children:(e==null?void 0:e.originalFilename)||e._id}),c.jsx(B,{size:1,muted:!0,children:ULe(e.size)})]})]})})}function LUn(){return c.jsx(le,{padding:2,shadow:1,children:c.jsxs(W,{align:"center",justify:"flex-start",children:[c.jsx(le,{padding:3,radius:1,shadow:1,tone:"transparent",children:c.jsx(B,{children:c.jsx(uE,{})})}),c.jsxs(ae,{flex:1,space:2,marginLeft:3,children:[c.jsx(wr,{animated:!0,style:{width:"100%"},radius:1}),c.jsx(wr,{animated:!0,style:{width:"100%"},radius:1})]})]})})}const NUn=R(le)`
  position: relative;
  padding-bottom: 100%;
`,BUn=R.img`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`;function VUn({reference:e}){const t=No(),n=p.useCallback(r=>wFe(t,r),[t]);return c.jsx(g5,{observeAsset:n,reference:e,children:r=>c.jsx(zUn,{asset:r})})}function zUn({asset:e}){const[t,n]=p.useState(!1),r=`${e.url}?h=800&fit=max`,i=p.useCallback(()=>n(!0),[]);return c.jsxs(NUn,{__unstable_checkered:!0,border:!0,children:[!t&&c.jsx(Dn,{fill:!0,showText:!0}),c.jsx(BUn,{onLoad:i,src:r})]})}function UUn({reference:e}){return e?e._type.startsWith("sanity.fileAsset")?c.jsx(RUn,{reference:e}):e._type.startsWith("sanity.imageAsset")?c.jsx(VUn,{reference:e}):null:null}const HUn={file:"sanity.fileAsset",image:"sanity.imageAsset"},WUn=R(V)`
  width: min(calc(100vw - 40px), 320px);
`;function Jv(e){return function({onChange:t,value:n}){const[r,i]=p.useState(null),[o,a]=p.useState(null);cn();const{file:s,image:l}=er().form,{t:u}=Q(),d=p.useMemo(()=>{switch(e){case"file":return s.assetSources.filter(C=>C.name===P7e.name);case"image":return l.assetSources.filter(C=>C.name===R7e.name);default:throw Error("Unknown asset source found")}},[s.assetSources,l.assetSources]),f=p.useId(),h=on(en),m=p.useCallback(()=>{a(null),t(null)},[t]),g=p.useCallback(()=>{i(null)},[]),y=p.useCallback(C=>{const k=C[0];a(k),g()},[g]),x=p.useCallback(C=>i(C),[]);p.useEffect(()=>{(o==null?void 0:o.kind)==="assetDocumentId"&&typeof(o==null?void 0:o.value)=="string"&&e&&t({_ref:o.value,_type:HUn[e]})},[h,t,o]);const b=r==null?void 0:r.component,v=u(n?"search.filter-asset-change":"search.filter-asset-select",{context:e}),w=yr(e,"options.accept",e==="image"?"image/*":"");return c.jsx(WUn,{children:c.jsxs(ae,{space:3,children:[r&&b&&c.jsx(hg,{children:c.jsx(b,{assetType:e,dialogHeaderTitle:u("search.action.select-asset",{context:e}),onClose:g,onSelect:y,selectedAssets:[],selectionType:"single",accept:w})}),n&&c.jsx(UUn,{reference:n}),c.jsxs(W,{gap:2,children:[d.length===0&&c.jsx(PUn,{padding:2}),d.length>0&&c.jsx(c.Fragment,{children:d.length>1?c.jsx(Jt,{button:c.jsx(ge,{icon:n?B3:wa,iconRight:ea,mode:"ghost",width:n?"fill":void 0,text:v}),id:f,menu:c.jsx(Nt,{children:d.map(C=>c.jsx(Qe,{icon:C.icon||Fu,onClick:()=>x(C),text:(C.i18nKey?u(C.i18nKey):C.title)||Vt(C.name)},C.name))}),popover:{constrainSize:!0,portal:!1,radius:2}}):c.jsx(ge,{icon:n?B3:wa,mode:"ghost",onClick:()=>x(d[0]),width:n?"fill":void 0,text:v})}),n&&c.jsx(ge,{mode:"ghost",onClick:m,width:"fill",text:u("search.filter-asset-clear"),tone:"critical"})]})]})})}}const GUn={assetFileEqual:{nameKey:"search.operator.asset-file-equal.name",descriptionKey:"search.operator.asset-file-equal.description",buttonValueComponent:gu,groqFilter:({fieldPath:e,value:t})=>t!=null&&t._ref&&e?`${e}.asset._ref == ${xt(t._ref)}`:null,initialValue:null,inputComponent:Jv("file"),label:"is",type:"assetFileEqual"},assetFileNotEqual:{nameKey:"search.operator.asset-file-not-equal.name",descriptionKey:"search.operator.asset-file-not-equal.description",buttonValueComponent:gu,groqFilter:({fieldPath:e,value:t})=>t!=null&&t._ref&&e?`${e}.asset._ref != ${xt(t._ref)}`:null,initialValue:null,inputComponent:Jv("file"),label:"is not",type:"assetFileNotEqual"},assetImageEqual:{nameKey:"search.operator.asset-image-equal.name",descriptionKey:"search.operator.asset-image-equal.description",buttonValueComponent:gu,groqFilter:({fieldPath:e,value:t})=>t!=null&&t._ref&&e?`${e}.asset._ref == ${xt(t._ref)}`:null,initialValue:null,inputComponent:Jv("image"),label:"is",type:"assetImageEqual"},assetImageNotEqual:{nameKey:"search.operator.asset-image-not-equal.name",descriptionKey:"search.operator.asset-image-not-equal.description",buttonValueComponent:gu,groqFilter:({fieldPath:e,value:t})=>t!=null&&t._ref&&e?`${e}.asset._ref != ${xt(t._ref)}`:null,initialValue:null,inputComponent:Jv("image"),label:"is not",type:"assetImageNotEqual"}};function KUn({onChange:e,value:t}){const{state:{fullscreen:n}}=cn(),{t:r}=Q(),i=p.useCallback(o=>{e(o.currentTarget.value==="true")},[e]);return c.jsxs(Pc,{fontSize:n?2:1,onChange:i,radius:2,value:String(t??!0),children:[c.jsx("option",{value:"true",children:r("search.filter-boolean-true")}),c.jsx("option",{value:"false",children:r("search.filter-boolean-false")})]})}const YUn={booleanEqual:{nameKey:"search.operator.boolean-equal.name",descriptionKey:"search.operator.boolean-equal.description",groqFilter:({fieldPath:e,value:t})=>typeof t<"u"&&e?`${e} == ${xt(t)}`:null,initialValue:!0,inputComponent:KUn,type:"booleanEqual"}},qUn=R(B)`
  cursor: default;
`;function NQ({onChange:e,value:t}){const{t:n}=Q();return c.jsxs(W,{align:"center",gap:2,justify:"flex-end",marginTop:1,children:[c.jsx(ae,{children:c.jsx(qUn,{muted:!0,onClick:e,size:1,weight:"medium",children:n("calendar.action.include-time-label")})}),c.jsx(XO,{checked:t,label:n("calendar.action.include-time-label"),onChange:e})]})}function BQ(){const e=p.useContext(Axe);if(e===void 0)throw new Error("useCalendar must be used within an CalendarContext.Provider");return e}function ZUn(e){const{t}=Q(),n=$c({month:"long",year:"numeric"}),{focusedDate:r}=BQ(),{moveFocusedDate:i,onNowClick:o}=e,a=p.useCallback(()=>i(-1),[i]),s=p.useCallback(()=>i(1),[i]);return c.jsxs(W,{align:"center",flex:1,justify:"space-between",children:[c.jsx(Wn,{paddingLeft:2,space:1,children:c.jsx(B,{size:1,weight:"medium",children:w3e(n.format(r))})}),c.jsxs(W,{align:"center",children:[c.jsx(ge,{"aria-label":t("calendar.action.go-to-today-aria-label"),mode:"bleed",onClick:o,text:t("calendar.action.go-to-today")}),c.jsx(ge,{icon:vg,mode:"bleed",onClick:a,tooltipProps:{content:t("calendar.action.go-to-previous-month")}}),c.jsx(ge,{icon:Es,mode:"bleed",onClick:s,tooltipProps:{content:t("calendar.action.go-to-next-month")}})]})]})}const XUn=R.svg(({theme:e})=>he`
    bottom: 0;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;

    circle {
      stroke: ${e.sanity.color.card.enabled.border};
      stroke-width: 3;
      fill: none;
    }
  `),JUn=R(le)`
  position: relative;

  &[data-focused='true'] {
    z-index: 1;
  }

  &[data-start-date='true'] {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }

  &[data-end-date='true'] {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  &[data-within-range='true'] {
    border-radius: 0;
  }
`;function QUn({date:e,onSelect:t}){const n=p.useCallback(()=>{t(e)},[e,t]),{date:r,endDate:i,focusedDate:o,selectRange:a}=BQ(),s=r&&Ga(e,r),l=a&&r&&Ga(e,r),u=a&&i&&Ga(e,i),d=bP(e,o),f=o&&Ga(e,o),h=Ga(e,new Date),m=r&&i&&!l&&!u&&g$(e,r)&&xq(e,i);return c.jsxs(JUn,{__unstable_focusRing:!0,"aria-label":e.toDateString(),"aria-pressed":s,"data-end-date":u?!0:void 0,"data-focused":f?"true":"","data-ui":"CalendarDay","aria-selected":s,"data-start-date":l?!0:void 0,"data-within-range":m?!0:void 0,forwardedAs:"button",onClick:n,paddingX:3,paddingY:2,radius:2,role:"button",selected:s||l||u,tabIndex:-1,tone:m?"primary":"default",children:[h&&c.jsx(XUn,{height:"100%",preserveAspectRatio:"xMidYMid meet",vectorEffect:"non-scaling-stroke",viewBox:"0 0 100 100",width:"100%",children:c.jsx("circle",{cx:"50",cy:"50",r:"40%"})}),c.jsx(B,{align:"center",muted:!s&&!d,size:1,weight:d?"medium":"regular",children:e.getDate()})]})}const l9=["calendar.weekday-names.short.monday","calendar.weekday-names.short.tuesday","calendar.weekday-names.short.wednesday","calendar.weekday-names.short.thursday","calendar.weekday-names.short.friday","calendar.weekday-names.short.saturday","calendar.weekday-names.short.sunday"];ME(0,24);const eHn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],tHn=[1,2,3,4,5,6],nHn=(e,t)=>{const n=gP(e);return mP({start:n,end:vP(n)},{weekStartsOn:t===7?0:t})},rHn=e=>e.map(t=>[t,...tHn.map(n=>fi(t,n))]),iHn=e=>{const{weekInfo:t}=jg();return rHn(nHn(e,t.firstDay)).map(n=>({number:yP(n[0]),days:n}))},oHn={1:l9,7:[l9[6],...l9.slice(0,6)]},aHn=R(Xn)`
  grid-template-columns: repeat(7, minmax(44px, auto));
`;function sHn({hidden:e,onSelect:t}){const{focusedDate:n,firstWeekDay:r}=BQ(),{t:i}=Q();return c.jsx(V,{"aria-hidden":e||!1,"data-ui":"CalendarMonth",children:c.jsxs(aHn,{gapY:1,children:[oHn[r].map(o=>c.jsx(V,{paddingBottom:3,paddingTop:2,children:c.jsx(B,{align:"center",size:1,weight:"medium",children:i(o)})},o)),iHn(n).map((o,a)=>o.days.map((s,l)=>c.jsx(QUn,{date:s,onSelect:t},`${a}-${l}`)))]})})}const lHn=c.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1});function cHn(e){const{date:t,endDate:n,onSelect:r,selectRange:i,selectTime:o}=e,[a,s]=p.useState(null),[l,u]=p.useState(!1),[d,f]=p.useState(t||new Date),h=p.useRef(t||null),m=p.useRef(n||null),{weekInfo:{firstDay:g}}=jg(),y=p.useCallback(()=>{var k;(k=a==null?void 0:a.querySelector('[data-focused="true"]'))==null||k.focus()},[a]),x=p.useCallback(k=>{const S=XFt(k,{hours:k.getHours(),minutes:k.getMinutes(),seconds:0,milliseconds:0}),E=t&&xq(S,t),_=n&&g$(S,n);if(i){if(E||_){r({date:S,endDate:null});return}r(l?{date:t||null,endDate:S}:{date:S,endDate:t?null:n||null})}else r({date:S})},[t,n,r,l,i]),b=p.useCallback(()=>{const k=new Date;i?f(k):r({date:k})},[r,i,f]),v=p.useCallback(k=>{var S;if(eHn.includes(k.key)){if(k.preventDefault(),k.target.hasAttribute("data-calendar-grid")){y();return}k.key==="ArrowUp"&&f(fi(d,-7)),k.key==="ArrowDown"&&f(fi(d,7)),k.key==="ArrowLeft"&&f(fi(d,-1)),k.key==="ArrowRight"&&f(fi(d,1)),(S=a==null?void 0:a.querySelector("[data-preserve-focus]"))==null||S.focus()}},[a,y,d,f]),w=p.useCallback(k=>f(OE(d,k)),[d,f]);p.useEffect(()=>{y()},[y]),p.useEffect(()=>{var k;(k=document.activeElement)!=null&&k.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]")&&y()},[y,d]),p.useEffect(()=>{var A,I;const k=(t==null?void 0:t.getTime())!==((A=h.current)==null?void 0:A.getTime()),S=(n==null?void 0:n.getTime())!==((I=m.current)==null?void 0:I.getTime()),E=k&&!S,_=!k&&S,T=t&&n&&g$(t,n);E&&(T&&(u(!0),r({date:t,endDate:null})),u(!!t),t&&f(t)),_&&(T&&(u(!0),r({date:n,endDate:null})),u(!!t&&!n),n&&f(n)),k&&S&&(u(!0),t&&f(t)),h.current=t||null,m.current=n||null},[t,n,r]);const C=p.useMemo(()=>({date:t,endDate:n,focusedDate:d,selectRange:i,selectTime:o,firstWeekDay:g}),[t,n,g,d,i,o]);return c.jsx(Axe.Provider,{value:C,children:c.jsxs(V,{"data-ui":"Calendar",ref:s,children:[c.jsx(W,{children:c.jsx(V,{flex:1,children:c.jsx(ZUn,{moveFocusedDate:w,onNowClick:b})})}),c.jsxs(V,{"data-calendar-grid":!0,onKeyDown:v,marginTop:2,overflow:"hidden",tabIndex:0,children:[c.jsx(sHn,{onSelect:x}),lHn]})]})})}function VQ({date:e,endDate:t,onChange:n,selectRange:r,selectTime:i}){const o=p.useCallback(a=>{n(a)},[n]);return c.jsx(cHn,{date:e,endDate:t,onSelect:o,selectRange:r,selectTime:i})}const uHn=R(V)(({$background:e,$smallClearButton:t})=>he`
    width: 100%;

    input + span {
      background: ${({theme:n})=>e?n.sanity.color.card.disabled.bg2:"transparent"};
    }

    [data-qa='clear-button'] {
      background: none;
      box-shadow: none;
      display: flex; /* TODO: hack, currently used to vertically center <TextInput>'s clearButton */
      transform: ${t?"scale(0.8)":"scale(1)"};
      &:hover {
        opacity: 0.5;
      }
    }
  `),zQ=p.forwardRef(function(e,t){const{$background:n,$smallClearButton:r,...i}=e;return c.jsx(uHn,{$background:n,$smallClearButton:r,children:c.jsx(ei,{...i,ref:t})})});function ch({date:e,dateOnly:t,roundDay:n}){let r;switch(n){case"end":r=V2(e);break;case"start":r=qm(e);break;default:r=e;break}return t?r.toISOString().split("T")[0]:r.toISOString()}const tj={date:{exampleDate:"Jan 1, 2000",pattern:"MMM d, yyyy"},datetime:{exampleDate:"Jan 1, 2000 12:00 AM",pattern:"MMM d, yyyy p"}};function VD({isDateTime:e,onChange:t,placeholderDate:n,isDateTimeFormat:r,value:i,...o}){const{t:a}=Q(),s=r?tj.datetime.pattern:tj.date.pattern,[l,u]=p.useState(void 0),[d,f]=p.useState(()=>{if(!i)return"";const v=new Date(i);return jd(v,s)}),h=p.useMemo(()=>jd(n||new Date,s),[s,n]),m=p.useCallback(({dateString:v,triggerOnChange:w})=>{if(!v)return;const C=kq(v,s,new Date),k=Lh(C);k&&(w&&t(ch({date:C,dateOnly:!e})),f(jd(C,s))),u(k?void 0:`Invalid ${e?"datetime":"date"}`)},[s,e,t]),g=p.useCallback(()=>{m({dateString:d,triggerOnChange:!0})},[d,m]),y=p.useCallback(v=>{f(v.currentTarget.value)},[]),x=p.useCallback(()=>{t(null),u(void 0),f("")},[t]),b=p.useCallback(v=>{v.key==="Enter"&&m({dateString:d,triggerOnChange:!0})},[d,m]);return p.useEffect(()=>{const v=i&&new Date(i);v&&m({dateString:jd(v,s),triggerOnChange:!1})},[s,m,r,i]),c.jsx(Et,{content:a("calendar.error.must-be-in-format",{exampleDate:r?tj.datetime.exampleDate:tj.date.exampleDate}),disabled:!l,placement:"top",portal:!0,children:c.jsx(zQ,{...o,clearButton:!!d,customValidity:l,onBlur:g,onChange:y,onClear:x,onKeyDown:b,placeholder:h,value:d})})}function d4({direction:e,isDateTime:t,onChange:n,value:r}){const{state:{fullscreen:i}}=cn(),{t:o}=Q(),a=p.useMemo(()=>{switch(e){case"after":return"end";case"before":return"start";default:return}},[e]),s=p.useCallback(({date:d})=>{let f=null;d&&(f=ch({date:d,dateOnly:!t,roundDay:r!=null&&r.includeTime?void 0:a})),n({includeTime:r==null?void 0:r.includeTime,date:f})},[t,n,a,r==null?void 0:r.includeTime]),l=p.useCallback(()=>{const d=!(r!=null&&r.includeTime),f=r!=null&&r.date?new Date(r.date):null;let h=null;f&&(h=ch({date:f,dateOnly:!t,roundDay:d?"start":a})),n({includeTime:d,date:h})},[t,n,a,r]),u=p.useCallback(d=>{n({includeTime:r==null?void 0:r.includeTime,date:d||null})},[n,r==null?void 0:r.includeTime]);return c.jsxs(ae,{space:3,children:[c.jsx(VD,{"aria-label":o("search.filter-date-aria-label"),fontSize:i?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:u,radius:2,value:r==null?void 0:r.date}),c.jsx(VQ,{date:r!=null&&r.date?new Date(r.date):void 0,onChange:s,selectTime:t}),t&&c.jsx(NQ,{onChange:l,value:!!(r!=null&&r.includeTime)})]})}function dHn(e){return c.jsx(d4,{...e,direction:"after",isDateTime:!1})}function fHn(e){return c.jsx(d4,{...e,direction:"before",isDateTime:!1})}function Z7e({isDateTime:e,onChange:t,value:n}){const{state:{fullscreen:r}}=cn(),{t:i}=Q(),o=p.useCallback(({date:l})=>{if(l){const u=ch({date:l,dateOnly:!e});t({includeTime:n==null?void 0:n.includeTime,date:u})}else t(null)},[e,t,n==null?void 0:n.includeTime]),a=p.useCallback(()=>{const l=!(n!=null&&n.includeTime),u=n!=null&&n.date?new Date(n.date):null;let d=null;u&&(d=ch({date:u,dateOnly:!e})),t({includeTime:l,date:d})},[e,t,n]),s=p.useCallback(l=>{t({includeTime:n==null?void 0:n.includeTime,date:l||null})},[t,n==null?void 0:n.includeTime]);return c.jsxs(ae,{space:3,children:[c.jsx(VD,{"aria-label":i("search.filter-date-aria-label"),fontSize:r?2:1,isDateTime:e,isDateTimeFormat:e&&(n==null?void 0:n.includeTime),onChange:s,radius:2,value:n==null?void 0:n.date}),c.jsx(VQ,{date:n!=null&&n.date?new Date(n.date):void 0,onChange:o,selectTime:e}),e&&c.jsx(NQ,{onChange:a,value:!!(n!=null&&n.includeTime)})]})}function R0e(e){return c.jsx(Z7e,{...e,isDateTime:!1})}const hHn=[{unit:"day",key:"search.filter-date-unit_days"},{unit:"month",key:"search.filter-date-unit_months"},{unit:"year",key:"search.filter-date-unit_years"}];function F0e({onChange:e,value:t}){const[n,r]=p.useState((t==null?void 0:t.unitValue)||""),i=p.useRef("day"),o=p.useRef((t==null?void 0:t.unitValue)||null),{t:a}=Q(),{state:{fullscreen:s}}=cn(),l=p.useCallback(()=>{e({unit:i==null?void 0:i.current,unitValue:o==null?void 0:o.current})},[e]),u=p.useCallback(f=>{i.current=f.currentTarget.value,l()},[l]),d=p.useCallback(f=>{r(f.currentTarget.value);const h=parseFloat(f.currentTarget.value);o.current=Number.isFinite(h)?h:null,l()},[l]);return c.jsxs(W,{gap:2,children:[c.jsx(V,{flex:1,children:c.jsx(ei,{"aria-label":a("search.filter-date-value-aria-label"),fontSize:s?2:1,onChange:d,pattern:"\\d*",radius:2,step:"1",type:"number",value:n})}),c.jsx(V,{flex:1,children:c.jsx(Pc,{"aria-label":a("search.filter-date-unit-aria-label"),fontSize:s?2:1,onChange:u,radius:2,value:t==null?void 0:t.unit,children:hHn.map(f=>c.jsx("option",{value:f.unit,children:a(f.key)},f.key))})})]})}const pHn=-7;function X7e({isDateTime:e,onChange:t,value:n}){const{t:r}=Q(),{state:{fullscreen:i}}=cn(),o=p.useMemo(()=>fi(new Date,pHn),[]),a=p.useMemo(()=>new Date,[]),s=p.useCallback(({date:f,endDate:h})=>{t(L0e({date:f,endDate:h,includeTime:n==null?void 0:n.includeTime,isDateTime:e}))},[e,t,n==null?void 0:n.includeTime]),l=p.useCallback(()=>{const f=!(n!=null&&n.includeTime);t(L0e({date:n!=null&&n.from?new Date(n.from):null,endDate:n!=null&&n.to?new Date(n.to):null,includeTime:f,isDateTime:e}))},[e,t,n]),u=p.useCallback(f=>{t({includeTime:n==null?void 0:n.includeTime,to:f||null,from:(n==null?void 0:n.from)||null})},[t,n]),d=p.useCallback(f=>{t({includeTime:n==null?void 0:n.includeTime,to:(n==null?void 0:n.to)||null,from:f||null})},[t,n]);return c.jsx("div",{children:c.jsxs(ae,{space:3,children:[c.jsxs(W,{direction:"column",gap:3,children:[c.jsx(VD,{"aria-label":r("search.filter-date-range-start-date-aria-label"),fontSize:i?2:1,isDateTime:e,isDateTimeFormat:e&&(n==null?void 0:n.includeTime),onChange:d,placeholderDate:o,radius:2,value:n==null?void 0:n.from}),c.jsx(VD,{"aria-label":r("search.filter-date-range-end-date-aria-label"),fontSize:i?2:1,isDateTime:e,isDateTimeFormat:e&&(n==null?void 0:n.includeTime),onChange:u,placeholderDate:a,radius:2,value:n==null?void 0:n.to})]}),c.jsx(VQ,{date:n!=null&&n.from?new Date(n.from):void 0,endDate:n!=null&&n.to?new Date(n.to):void 0,onChange:s,selectRange:!0,selectTime:e}),e&&c.jsx(NQ,{onChange:l,value:!!(n!=null&&n.includeTime)})]})})}function L0e({date:e,endDate:t,includeTime:n,isDateTime:r}){return n?{includeTime:n,to:t?ch({date:t,dateOnly:!r,roundDay:"start"}):null,from:e?ch({date:e,dateOnly:!r,roundDay:"start"}):null}:{includeTime:n,to:t?ch({date:t,dateOnly:!r,roundDay:"end"}):null,from:e?ch({date:e,dateOnly:!r,roundDay:"start"}):null}}function mHn(e){return c.jsx(X7e,{...e,isDateTime:!1})}function gHn(e){return c.jsx(d4,{...e,direction:"after",isDateTime:!0})}function yHn(e){return c.jsx(d4,{...e,direction:"before",isDateTime:!0})}function N0e(e){return c.jsx(Z7e,{...e,isDateTime:!0})}function vHn(e){return c.jsx(X7e,{...e,isDateTime:!0})}const ec={dateAfter:{buttonValueComponent:ej,initialValue:null},dateBefore:{buttonValueComponent:ej,initialValue:null},dateEqual:{buttonValueComponent:ej,initialValue:{date:null,includeTime:!1}},dateLast:{buttonValueComponent:mUn},dateNotEqual:{buttonValueComponent:ej,initialValue:{date:null,includeTime:!1}},dateRange:{initialValue:null}},bHn={dateAfter:{...ec.dateAfter,nameKey:"search.operator.date-after.name",descriptionKey:"search.operator.date-after.description",groqFilter:({fieldPath:e,value:t})=>t!=null&&t.date&&e?`${e} > ${xt(t==null?void 0:t.date)}`:null,inputComponent:dHn,type:"dateAfter"},dateBefore:{...ec.dateBefore,nameKey:"search.operator.date-before.name",descriptionKey:"search.operator.date-before.description",groqFilter:({fieldPath:e,value:t})=>t!=null&&t.date&&e?`${e} < ${xt(t==null?void 0:t.date)}`:null,inputComponent:fHn,type:"dateBefore"},dateEqual:{...ec.dateEqual,nameKey:"search.operator.date-equal.name",descriptionKey:"search.operator.date-equal.description",groqFilter:({fieldPath:e,value:t})=>t!=null&&t.date&&e?`${e} == ${xt(t.date)}`:null,inputComponent:R0e,type:"dateEqual"},dateLast:{...ec.dateLast,nameKey:"search.operator.date-last.name",descriptionKey:"search.operator.date-last.description",groqFilter:({fieldPath:e,value:t})=>{const n=typeof(t==null?void 0:t.unitValue)=="number"?Math.floor(t.unitValue):void 0,r=Number.isFinite(n)?cle(new Date,{days:(t==null?void 0:t.unit)==="day"?n:0,months:(t==null?void 0:t.unit)==="month"?n:0,years:(t==null?void 0:t.unit)==="year"?n:0}).toISOString().split("T")[0]:null;return r&&e?`${e} > ${xt(r)}`:null},inputComponent:F0e,initialValue:{unit:"day",unitValue:7},type:"dateLast"},dateNotEqual:{...ec.dateNotEqual,nameKey:"search.operator.date-not-equal.name",descriptionKey:"search.operator.date-not-equal.description",groqFilter:({fieldPath:e,value:t})=>t!=null&&t.date&&e?`${e} != ${xt(t.date)}`:null,inputComponent:R0e,type:"dateNotEqual"},dateRange:{...ec.dateRange,nameKey:"search.operator.date-range.name",descriptionKey:"search.operator.date-range.description",buttonValueComponent:M0e,groqFilter:({fieldPath:e,value:t})=>t!=null&&t.to&&(t!=null&&t.from)&&e?`${e} >= ${xt(t.from)} && ${e} <= ${xt(t.to)}`:null,initialValue:{includeTime:!1,to:lle().toISOString(),from:null},inputComponent:mHn,type:"dateRange"},dateTimeAfter:{...ec.dateAfter,nameKey:"search.operator.date-time-after.name",descriptionKey:"search.operator.date-time-after.description",groqFilter:({fieldPath:e,value:t})=>t!=null&&t.date&&e?`dateTime(${e}) > dateTime(${xt(t.date)})`:null,inputComponent:gHn,type:"dateTimeAfter"},dateTimeBefore:{...ec.dateBefore,nameKey:"search.operator.date-time-before.name",descriptionKey:"search.operator.date-time-before.description",groqFilter:({fieldPath:e,value:t})=>t!=null&&t.date&&e?`dateTime(${e}) < dateTime(${xt(t.date)})`:null,inputComponent:yHn,type:"dateTimeBefore"},dateTimeEqual:{...ec.dateEqual,nameKey:"search.operator.date-time-equal.name",descriptionKey:"search.operator.date-time-equal.description",groqFilter:({fieldPath:e,value:t})=>{const n=(t==null?void 0:t.date)&&new Date(t.date);if(!n||!Lh(n)||!e)return null;const r=(t!=null&&t.includeTime?Qse(n):qm(n)).toISOString(),i=(t!=null&&t.includeTime?ele(n):V2(n)).toISOString();return`dateTime(${e}) > dateTime(${xt(r)}) && dateTime(${e}) < dateTime(${xt(i)})`},inputComponent:N0e,type:"dateTimeEqual"},dateTimeLast:{...ec.dateLast,nameKey:"search.operator.date-time-last.name",descriptionKey:"search.operator.date-time-last.description",groqFilter:({fieldPath:e,value:t})=>{const n=typeof(t==null?void 0:t.unitValue)=="number"?Math.floor(t.unitValue):void 0,r=Number.isFinite(n)?cle(new Date,{days:(t==null?void 0:t.unit)==="day"?n:0,months:(t==null?void 0:t.unit)==="month"?n:0,years:(t==null?void 0:t.unit)==="year"?n:0}).toISOString():null;return r&&e?`dateTime(${e}) > dateTime(${xt(r)})`:null},initialValue:{unit:"day",unitValue:7},inputComponent:F0e,type:"dateTimeLast"},dateTimeNotEqual:{...ec.dateNotEqual,nameKey:"search.operator.date-time-not-equal.name",descriptionKey:"search.operator.date-time-not-equal.description",groqFilter:({fieldPath:e,value:t})=>{const n=(t==null?void 0:t.date)&&new Date(t.date);if(!n||!Lh(n)||!e)return null;const r=(t!=null&&t.includeTime?Qse(n):qm(n)).toISOString(),i=(t!=null&&t.includeTime?ele(n):V2(n)).toISOString();return`dateTime(${e}) < dateTime(${xt(r)}) || dateTime(${e}) > dateTime(${xt(i)})`},inputComponent:N0e,type:"dateTimeNotEqual"},dateTimeRange:{...ec.dateRange,nameKey:"search.operator.date-time-range.name",descriptionKey:"search.operator.date-time-range.description",buttonValueComponent:M0e,groqFilter:({fieldPath:e,value:t})=>t!=null&&t.to&&(t!=null&&t.from)&&e?`dateTime(${e}) >= dateTime(${xt(t.from)}) && dateTime(${e}) <= dateTime(${xt(t.to)})`:null,initialValue:{includeTime:!1,to:lle().toISOString(),from:null},inputComponent:vHn,type:"dateTimeRange"}},xHn={defined:{nameKey:"search.operator.defined.name",descriptionKey:"search.operator.defined.description",groqFilter:({fieldPath:e})=>e?`defined(${e})`:null,type:"defined"},notDefined:{nameKey:"search.operator.not-defined.name",descriptionKey:"search.operator.not-defined.description",i18nKey:"search.operator.not-defined",groqFilter:({fieldPath:e})=>e?`!defined(${e})`:null,type:"notDefined"}},wHn={numberEqual:{nameKey:"search.operator.number-equal.name",descriptionKey:"search.operator.number-equal.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`${e} == ${xt(t)}`:null,initialValue:null,inputComponent:hc,type:"numberEqual"},numberGt:{nameKey:"search.operator.number-gt.name",descriptionKey:"search.operator.number-gt.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`${e} > ${xt(t)}`:null,icon:K7e,initialValue:null,inputComponent:hc,type:"numberGt"},numberGte:{nameKey:"search.operator.number-gte.name",descriptionKey:"search.operator.number-gte.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`${e} >= ${xt(t)}`:null,icon:G7e,initialValue:null,inputComponent:hc,type:"numberGte"},numberLt:{nameKey:"search.operator.number-lt.name",descriptionKey:"search.operator.number-lt.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`${e} < ${xt(t)}`:null,icon:q7e,initialValue:null,inputComponent:hc,type:"numberLt"},numberLte:{nameKey:"search.operator.number-lte.name",descriptionKey:"search.operator.number-lte.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`${e} <= ${xt(t)}`:null,icon:Y7e,initialValue:null,inputComponent:hc,type:"numberLte"},numberNotEqual:{nameKey:"search.operator.number-not-equal.name",descriptionKey:"search.operator.number-not-equal.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t)&&e?`${e} != ${xt(t)}`:null,initialValue:null,inputComponent:hc,type:"numberNotEqual"},numberRange:{nameKey:"search.operator.number-range.name",descriptionKey:"search.operator.number-range.description",groqFilter:({fieldPath:e,value:t})=>Number.isFinite(t==null?void 0:t.to)&&Number.isFinite(t==null?void 0:t.from)&&e?`${e} > ${xt(t==null?void 0:t.from)} && ${e} < ${xt(t==null?void 0:t.to)}`:"",initialValue:null,inputComponent:N7e,type:"numberRange"}};function Sc({onChange:e,value:t}){const{state:{fullscreen:n}}=cn(),{t:r}=Q(),i=p.useCallback(o=>e(o.currentTarget.value||null),[e]);return c.jsx(ei,{fontSize:n?2:1,onChange:i,placeholder:r("search.filter-string-value-placeholder"),radius:2,value:t||""})}const CHn={portableTextEqual:{nameKey:"search.operator.portable-text-equal.name",descriptionKey:"search.operator.portable-text-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`pt::text(${e}) == ${xt(t)}`:null,initialValue:null,inputComponent:Sc,type:"portableTextEqual"},portableTextMatches:{nameKey:"search.operator.portable-text-contains.name",descriptionKey:"search.operator.portable-text-contains.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`pt::text(${e}) match ${xt(t)}`:null,initialValue:null,inputComponent:Sc,type:"portableTextMatches"},portableTextNotEqual:{nameKey:"search.operator.portable-text-not-equal.name",descriptionKey:"search.operator.portable-text-not-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`pt::text(${e}) != ${xt(t)}`:null,initialValue:null,inputComponent:Sc,type:"portableTextNotEqual"},portableTextNotMatches:{nameKey:"search.operator.portable-text-not-contains.name",descriptionKey:"search.operator.portable-text-not-contains.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`!(pt::text(${e}) match ${xt(t)})`:null,initialValue:null,inputComponent:Sc,type:"portableTextNotMatches"}},kHn={referenceEqual:{nameKey:"search.operator.reference-equal.name",descriptionKey:"search.operator.reference-equal.description",buttonValueComponent:gu,groqFilter:({fieldPath:e,value:t})=>t!=null&&t._ref&&e?`${e}._ref == ${xt(t._ref)}`:null,initialValue:null,inputComponent:HS,type:"referenceEqual"},referenceNotEqual:{nameKey:"search.operator.reference-not-equal.name",descriptionKey:"search.operator.reference-not-equal.description",buttonValueComponent:gu,groqFilter:({fieldPath:e,value:t})=>t!=null&&t._ref&&e?`${e}._ref != ${xt(t._ref)}`:null,initialValue:null,inputComponent:HS,type:"referenceNotEqual"},referencesAssetFile:{nameKey:"search.operator.reference-asset-file.name",descriptionKey:"search.operator.reference-asset-file.description",buttonValueComponent:gu,groqFilter:({value:e})=>e!=null&&e._ref?`references(${xt(e._ref)})`:null,initialValue:null,inputComponent:Jv("file"),type:"referencesAssetFile"},referencesAssetImage:{nameKey:"search.operator.reference-asset-image.name",descriptionKey:"search.operator.reference-asset-image.description",buttonValueComponent:gu,groqFilter:({value:e})=>e!=null&&e._ref?`references(${xt(e._ref)})`:null,initialValue:null,inputComponent:Jv("image"),type:"referencesAssetImage"},referencesDocument:{nameKey:"search.operator.reference-document.name",descriptionKey:"search.operator.reference-document.description",buttonValueComponent:gu,groqFilter:({value:e})=>e!=null&&e._ref?`references(${xt(e._ref)})`:null,initialValue:null,inputComponent:HS,type:"referencesDocument"}},SHn={slugEqual:{nameKey:"search.operator.slug-equal.name",descriptionKey:"search.operator.slug-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e}.current == ${xt(t)}`:null,initialValue:null,inputComponent:Sc,type:"slugEqual"},slugMatches:{nameKey:"search.operator.slug-contains.name",descriptionKey:"search.operator.slug-contains.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e}.current match ${xt(t)}`:null,initialValue:null,inputComponent:Sc,label:"contains",type:"slugMatches"},slugNotEqual:{nameKey:"search.operator.slug-not-equal.name",descriptionKey:"search.operator.slug-not-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e}.current != ${xt(t)}`:null,initialValue:null,inputComponent:Sc,type:"slugNotEqual"},slugNotMatches:{nameKey:"search.operator.slug-not-contains.name",descriptionKey:"search.operator.slug-not-contains.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`!(${e}.current match ${xt(t)})`:null,initialValue:null,inputComponent:Sc,type:"slugNotMatches"}},EHn={stringEqual:{nameKey:"search.operator.string-equal.name",descriptionKey:"search.operator.string-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e} == ${xt(t)}`:null,initialValue:null,inputComponent:Sc,type:"stringEqual"},stringListEqual:{nameKey:"search.operator.string-list-equal.name",descriptionKey:"search.operator.string-list-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e} == ${xt(t)}`:null,initialValue:null,inputComponent:BD,type:"stringListEqual"},stringListNotEqual:{nameKey:"search.operator.string-list-not-equal.name",descriptionKey:"search.operator.string-list-not-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e} != ${xt(t)}`:null,initialValue:null,inputComponent:BD,type:"stringListNotEqual"},stringMatches:{nameKey:"search.operator.string-contains.name",descriptionKey:"search.operator.string-contains.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e} match ${xt(t)}`:null,initialValue:null,inputComponent:Sc,type:"stringMatches"},stringNotEqual:{nameKey:"search.operator.string-not-equal.name",descriptionKey:"search.operator.string-not-equal.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`${e} != ${xt(t)}`:null,initialValue:null,inputComponent:Sc,type:"stringNotEqual"},stringNotMatches:{nameKey:"search.operator.string-not-contains.name",descriptionKey:"search.operator.string-not-contains.description",groqFilter:({fieldPath:e,value:t})=>t&&e?`!(${e} match ${xt(t)})`:null,initialValue:null,inputComponent:Sc,type:"stringNotMatches"}},_Hn={...MUn,...GUn,...YUn,...bHn,...xHn,...wHn,...CHn,...kHn,...SHn,...EHn},THn=Object.values(_Hn);function B0e(e){const t=e.split("").reduce((n,r)=>(n<<5)-n+r.charCodeAt(0)|0,0);return Math.abs(t*16807%2147483647)/2147483647}const AHn=R.text`
  font-family: ${({theme:e})=>e.sanity.fonts.text.family};
  font-weight: ${({theme:e})=>e.sanity.fonts.text.weights.medium};
  font-size: ${({theme:e})=>e.sanity.fonts.text.sizes[1].fontSize}px;
  transform: translateY(1px);
`;function jHn(e,t){const n=B0e(`${e} ${t}`),r=og.filter(m=>m!=="gray"),i=r[Math.floor(n*r.length)],o=["300","400","500","600","700"],a=B0e(n.toString()),s=o[Math.floor(a*o.length)],l=ln[i][s].hex,u=e.split(/\s/g).map(m=>m.replace(/\\W/g,"")).filter(Boolean).slice(0,2).map(m=>m.charAt(0).toUpperCase()),d=zRe(l,.4),f=tpn(l,.4),h=ppe(l,"readable",d)?ppe(l,"readable",f)?rpn(l):f:d;return c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[c.jsx("rect",{width:32,height:32,rx:2,fill:l}),c.jsx(AHn,{x:"50%",y:"50%",textAnchor:"middle",alignmentBaseline:"middle",dominantBaseline:"middle",fill:h,children:u})]})}const wi="comments",IHn={locale:"en-US",namespace:wi,resources:()=>My(()=>import("./resources-d26c2c52.js"),[])};function $Hn(e){const{children:t}=e,[n,r]=p.useState(null),i=p.useCallback(a=>{r(a)},[]),o=p.useMemo(()=>({authoringPath:n,setAuthoringPath:i}),[n,i]);return c.jsx(Dxe.Provider,{value:o,children:t})}function DHn(){return p.useContext(Pxe)}function OHn(e){const{documentId:t,documentType:n,getCommentLink:r}=e||{},i=un().get(n),{title:o}=ri(),a=No(),s=p.useMemo(()=>!t||!i?Se(null):rC(a,i,t,""),[t,a,i]),l=bi(s),{published:u,draft:d}=l||{},f=(d==null?void 0:d.title)||(u==null?void 0:u.title)||"Sanity document";return{getNotificationValue:p.useCallback(({commentId:h})=>({documentTitle:f,url:r==null?void 0:r(h),workspaceTitle:o}),[f,r,o])}}function To(e,t){const{currentUser:n,document:r,parent:i,value:o}=t;return typeof e=="boolean"||e===void 0?!!e:e({document:r,parent:i,value:o,currentUser:n})===!0}function bd(e,t,n){if(t.length===0)return{...e||{},value:n};const[r,...i]=t,o=Cr(r)?r._key:String(r),a=(e==null?void 0:e.children)??{};return{value:e==null?void 0:e.value,children:{...a,[o]:bd(a[o]||{},i,n)}}}const UQ=20,MHn=3,xm={name:"all-fields",title:"All fields",hidden:!1,i18n:{title:{key:"inputs.object.field-group-tabs.all-fields-title",ns:$x}}};function HQ(e={},t){if((e==null?void 0:e.collapsible)===!1||(e==null?void 0:e.collapsable)===!1)return{collapsible:!1,collapsed:!1};const n=typeof(e==null?void 0:e.collapsed)=="boolean"?e.collapsed:t>=MHn?!0:void 0;return{collapsible:(e==null?void 0:e.collapsible)===!0||(e==null?void 0:e.collapsable)===!0||n===!0?!0:void 0,collapsed:n}}function J7e(e,t,n){return n.name===xm.name?!0:t===void 0?!1:e.length===0&&n.name===xm.name?!0:Lw(t).includes(n.name)}function V0e(e){return typeof e>"u"||Tt(e)}function PHn(e){return typeof e>"u"||Array.isArray(e)}function RHn(e){return typeof e>"u"||Array.isArray(e)}function FHn(e){return e.length===0||e.every(t=>Tt(t))}function LHn(e){const t=new Set;return e.reduce((n,r,i)=>(t.has(r._key)&&n.push([i,r._key]),t.add(r._key),n),[])}function NHn(e){return"_key"in e}function BHn(e){return e==null?void 0:e.every(t=>Tt(t)&&NHn(t))}function Db(e,t){return Array.isArray(e)&&typeof t>"u"||Array.isArray(t)&&typeof e>"u"?!1:e&&!t?!0:!Dt(e,t)}function z0e(e){var d,f,h,m,g,y,x,b,v,w,C,k,S,E,_,T,A,I;const{parent:t,field:n,index:r}=e,i=Ud([...t.path,n.name]),o=E$n(n.type,t.level+1),a=t.value,s=t.comparisonValue;if(!V0e(a))throw new Error("Unexpected non-object value");const l=n.group?Lw(n.group):[],u=J7e(t.groups,n.group,t.selectedGroup);if(Qo(n.type)){const j=a==null?void 0:a[n.name],$=Tt(s)?s==null?void 0:s[n.name]:void 0;if(!V0e(j))return{kind:"error",key:n.name,fieldName:n.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:n.type,resolvedValueType:il(j),value:j}};const D={value:j,parent:t.value,document:t.document,currentUser:t.currentUser};if(To(n.type.hidden,D))return{kind:"hidden",key:`field-${n.name}`,name:n.name,index:r};const O=t.readOnly||To(n.type.readOnly,D),M=(f=(d=t.fieldGroupState)==null?void 0:d.children)==null?void 0:f[n.name],P=(m=(h=t.collapsedPaths)==null?void 0:h.children)==null?void 0:m[n.name],F=(y=(g=t.collapsedFieldSets)==null?void 0:g.children)==null?void 0:y[n.name],L=WQ({schemaType:n.type,currentUser:t.currentUser,parent:t.value,document:t.document,value:j,changed:Db(j,$),comparisonValue:$,presence:t.presence,validation:t.validation,fieldGroupState:M,path:i,level:o,focusPath:t.focusPath,openPath:t.openPath,collapsedPaths:P,collapsedFieldSets:F,readOnly:O,changesOpen:t.changesOpen});if(L===null)return null;const U=HQ(n.type.options,o),H=P?P.value:U.collapsed;return{kind:"field",key:`field-${n.name}`,name:n.name,index:r,inSelectedGroup:u,groups:l,open:ga(i,t.openPath),field:L,collapsed:H,collapsible:U.collapsible}}else if(sl(n.type)){const j=a==null?void 0:a[n.name],$=Tt(s)?s==null?void 0:s[n.name]:void 0;if(sp(n.type)){const D=typeof j<"u";if(D&&!PHn(j)){const H=il(j);return{kind:"error",key:n.name,fieldName:n.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:n.type,resolvedValueType:H,value:j}}}if(D&&!FHn(j))return{kind:"error",key:n.name,fieldName:n.name,error:{type:"MIXED_ARRAY",schemaType:n.type,value:j}};if(D&&!BHn(j))return{kind:"error",key:n.name,fieldName:n.name,error:{type:"MISSING_KEYS",value:j,schemaType:n.type}};const O=D?LHn(j):[];if(O.length>0)return{kind:"error",key:n.name,fieldName:n.name,error:{type:"DUPLICATE_KEYS",duplicates:O,schemaType:n.type}};const M=(b=(x=t.fieldGroupState)==null?void 0:x.children)==null?void 0:b[n.name],P=(w=(v=t.collapsedPaths)==null?void 0:v.children)==null?void 0:w[n.name],F=(k=(C=t.collapsedFieldSets)==null?void 0:C.children)==null?void 0:k[n.name],L=t.readOnly||To(n.type.readOnly,{value:j,parent:t.value,document:t.document,currentUser:t.currentUser}),U=zHn({schemaType:n.type,parent:t.value,currentUser:t.currentUser,document:t.document,value:j,changed:Db(j,$),comparisonValue:$,fieldGroupState:M,focusPath:t.focusPath,openPath:t.openPath,presence:t.presence,validation:t.validation,collapsedPaths:P,collapsedFieldSets:F,level:o,path:i,readOnly:L});return U===null?null:{kind:"field",key:`field-${n.name}`,name:n.name,index:r,open:ga(i,t.openPath),inSelectedGroup:u,groups:l,collapsible:!1,collapsed:!1,field:U}}else{if(!RHn(j)){const L=il(j);return{kind:"error",key:n.name,fieldName:n.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:n.type,resolvedValueType:L,value:j}}}const D=(E=(S=t.fieldGroupState)==null?void 0:S.children)==null?void 0:E[n.name],O=(T=(_=t.collapsedPaths)==null?void 0:_.children)==null?void 0:T[n.name],M=(I=(A=t.collapsedFieldSets)==null?void 0:A.children)==null?void 0:I[n.name],P=t.readOnly||To(n.type.readOnly,{value:j,parent:t.value,document:t.document,currentUser:t.currentUser}),F=VHn({changed:Db(j,$),comparisonValue:$,schemaType:n.type,parent:t.value,currentUser:t.currentUser,document:t.document,value:j,fieldGroupState:D,focusPath:t.focusPath,openPath:t.openPath,presence:t.presence,validation:t.validation,collapsedPaths:O,collapsedFieldSets:M,level:o,path:i,readOnly:P});return F===null?null:{kind:"field",key:`field-${n.name}`,name:n.name,index:r,inSelectedGroup:u,groups:l,open:ga(i,t.openPath),collapsible:!1,collapsed:!1,field:F}}}else{const j=a==null?void 0:a[n.name],$=Tt(s)?s==null?void 0:s[n.name]:void 0,D={value:j,parent:t.value,document:t.document,currentUser:t.currentUser};if(To(n.type.hidden,D))return null;const O=t.readOnly||To(n.type.readOnly,D),M=Q7e({...t,comparisonValue:$,value:j,schemaType:n.type,path:i,readOnly:O});return{kind:"field",key:`field-${n.name}`,name:n.name,index:r,open:ga(i,t.openPath),inSelectedGroup:u,groups:l,collapsible:!1,collapsed:!1,field:M}}}function WQ(e,t=!0){var b;if(e.level===UQ)return null;const n={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser},r=e.readOnly||To(e.schemaType.readOnly,n),i=e.schemaType.groups||[],o=(b=i.find(v=>v.default)||xm)==null?void 0:b.name,a=[xm,...i].flatMap(v=>{var E;const w=To(v.hidden,n),C=v.name===(((E=e.fieldGroupState)==null?void 0:E.value)||o),k=e.changesOpen?v.name===xm.name:C,S=e.changesOpen?!k:!1;return w?[]:[{disabled:S,icon:v==null?void 0:v.icon,name:v.name,selected:k,title:v.title,i18n:v.i18n}]}),s=a.find(v=>v.selected),l=(e.schemaType.fieldsets?e.schemaType.fieldsets:e.schemaType.fields.map(v=>({single:!0,field:v}))).flatMap((v,w)=>{var A,I,j;if(v.single){const $=v.field,D=z0e({field:$,parent:{...e,readOnly:r,groups:a,selectedGroup:s},index:w});return D?[D]:[]}const C=v.fields.map($=>$.name),k=To(v.hidden,{currentUser:e.currentUser,document:e.document,parent:e.value,value:Xe(e.value,C)}),S=To(v.readOnly,{currentUser:e.currentUser,document:e.document,parent:e.value,value:Xe(e.value,C)}),E=v.fields.flatMap($=>{if(k)return[{kind:"hidden",key:`field-${$.name}`,name:$.name,index:w}];const D=z0e({field:$,parent:{...e,readOnly:r||S,groups:a,selectedGroup:s},index:w});return D?[D]:[]}),_=HQ(v.options,e.level),T=((I=(((A=e.collapsedFieldSets)==null?void 0:A.children)||{})[v.name])==null?void 0:I.value)??_.collapsed;return[{kind:"fieldSet",key:`fieldset-${v.name}`,_inSelectedGroup:J7e(a,v.group,s),groups:v.group?Lw(v.group):[],fieldSet:{path:Ud(e.path.concat(v.name)),name:v.name,title:v.title,description:v.description,hidden:!1,level:e.level+1,members:E.filter($=>$.kind!=="hidden"),collapsible:_==null?void 0:_.collapsible,collapsed:T,columns:(j=v==null?void 0:v.options)==null?void 0:j.columns}}]}),u=i.length>0,d=e.presence.filter(v=>Pr(v.path,e.path)),f=d.length?d:hn,h=e.validation.filter(v=>Pr(v.path,e.path)).map(v=>({level:v.level,message:v.message,path:v.path})),m=l.filter(v=>v.kind!=="hidden");if(m.length===0&&t)return null;const g=u?a.flatMap(v=>v.name===xm.name||m.some(w=>w.kind==="error"?!1:w.kind==="field"?w.groups.includes(v.name):w.groups.includes(v.name)||w.fieldSet.members.some(C=>C.kind!=="error"&&C.groups.includes(v.name)))?v:[]):[],y=m.flatMap(v=>{if(v.kind==="error")return[v];if(v.kind==="field")return v.inSelectedGroup?[v]:[];const w=v.fieldSet.members.filter(C=>C.kind!=="field"||C.inSelectedGroup);return w.length>0?[{...v,fieldSet:{...v.fieldSet,members:w}}]:[]}),x={value:e.value,changed:Db(e.value,e.comparisonValue),schemaType:e.schemaType,readOnly:r,path:e.path,id:rn(e.path),level:e.level,focused:Pr(e.path,e.focusPath),focusPath:$H(e.path,e.focusPath),presence:f,validation:h,members:y,groups:g};return Object.defineProperty(x,"_allMembers",{value:l,enumerable:!1}),x}function VHn(e){if(e.level===UQ)return null;const t={comparisonValue:e.comparisonValue,value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(To(e.schemaType.hidden,t))return null;const n=e.readOnly||To(e.schemaType.readOnly,t),r=Array.isArray(e.value)?e.value:[],i=e.presence.filter(l=>Pr(l.path,e.path)),o=i.length?i:hn,a=e.validation.filter(l=>Pr(l.path,e.path)).map(l=>({level:l.level,message:l.message,path:l.path})),s=r.flatMap((l,u)=>HHn({arrayItem:l,parent:e,index:u}));return{changed:e.changed||s.some(l=>l.kind==="item"&&l.item.changed),value:e.value,readOnly:n,schemaType:e.schemaType,focused:Pr(e.path,e.focusPath),focusPath:$H(e.path,e.focusPath),path:e.path,id:rn(e.path),level:e.level,validation:a,presence:o,members:s}}function zHn(e){if(e.level===UQ)return null;const t={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(To(e.schemaType.hidden,t))return null;const n=e.readOnly||To(e.schemaType.readOnly,t),r=Array.isArray(e.value)?e.value:[],i=e.presence.filter(l=>Pr(l.path,e.path)),o=i.length?i:hn,a=e.validation.filter(l=>Pr(l.path,e.path)).map(l=>({level:l.level,message:l.message,path:l.path})),s=r.flatMap((l,u)=>UHn({arrayItem:l,parent:e,index:u}));return{changed:e.changed||s.some(l=>l.kind==="item"&&l.item.changed),value:e.value,readOnly:n,schemaType:e.schemaType,focused:Pr(e.path,e.focusPath),focusPath:$H(e.path,e.focusPath),path:e.path,id:rn(e.path),level:e.level,validation:a,presence:o,members:s}}function UHn(e){var b,v,w,C,k,S;const{arrayItem:t,parent:n,index:r}=e,i=XR(n.schemaType,t),o=t._key;if(!i){const E=il(t);return{kind:"error",key:o,index:r,error:{type:"INVALID_ITEM_TYPE",resolvedValueType:E,value:t,validTypes:n.schemaType.of}}}const a=Ud([...n.path,{_key:o}]),s=n.level+1,l={value:n.value,parent:e.parent,document:n.document,currentUser:n.currentUser},u=n.readOnly||To(n.schemaType.readOnly,l),d=(v=(b=n.fieldGroupState)==null?void 0:b.children)==null?void 0:v[o],f=(C=(w=n.collapsedPaths)==null?void 0:w.children)==null?void 0:C[o],h=(S=(k=n.collapsedFieldSets)==null?void 0:k.children)==null?void 0:S[o],m=Array.isArray(n.comparisonValue)&&n.comparisonValue.find(E=>E._key===t._key)||void 0,g=WQ({schemaType:i,level:s,document:n.document,value:t,comparisonValue:m,changed:Db(t,m),path:a,focusPath:n.focusPath,openPath:n.openPath,currentUser:n.currentUser,collapsedPaths:f,collapsedFieldSets:h,presence:n.presence,validation:n.validation,fieldGroupState:d,readOnly:u},!1),y=HQ(i.options,s),x=(f==null?void 0:f.value)??y.collapsed;return{kind:"item",key:o,index:r,open:ga(a,n.openPath),collapsed:x,collapsible:!0,parentSchemaType:n.schemaType,item:g}}function HHn(e){var h,m;const{arrayItem:t,parent:n,index:r}=e,i=_Mn(n.schemaType,t),o=Ud([...n.path,r]),a=(h=n.value)==null?void 0:h[r],s=(m=n.comparisonValue)==null?void 0:m[r],l=n.level+1,u=`${(i==null?void 0:i.name)||"invalid-type"}-${String(r)}`;if(!i)return{kind:"error",key:u,index:r,error:{type:"INVALID_ITEM_TYPE",validTypes:n.schemaType.of,resolvedValueType:il(i),value:a}};const d=n.readOnly||To(i.readOnly,{value:a,parent:n.value,document:n.document,currentUser:n.currentUser}),f=Q7e({...n,path:o,schemaType:i,level:l,value:a,comparisonValue:s,readOnly:d});return{kind:"item",key:u,index:r,parentSchemaType:n.schemaType,open:Pr(o,n.openPath),item:f}}function Q7e(e){const t=e.presence.filter(i=>Pr(i.path,e.path)),n=t.length?t:hn,r=e.validation.filter(i=>Pr(i.path,e.path)).map(i=>({level:i.level,message:i.message,path:i.path}));return{schemaType:e.schemaType,changed:Db(e.value,e.comparisonValue),value:e.value,level:e.level,id:rn(e.path),readOnly:e.readOnly,focused:Pr(e.path,e.focusPath),path:e.path,presence:n,validation:r}}function WHn(e){return WQ(e)}function eNe(e,{comparisonValue:t,value:n,fieldGroupState:r,collapsedFieldSets:i,collapsedPaths:o,focusPath:a,openPath:s,presence:l,validation:u,readOnly:d,changesOpen:f}){const h=dr(),m=p.useRef(null);return p.useLayoutEffect(()=>{m.current=null},[e]),p.useMemo(()=>{const g=WHn({schemaType:e,document:n,fieldGroupState:r,collapsedFieldSets:i,collapsedPaths:o,value:n,comparisonValue:t,focusPath:a,openPath:s,readOnly:d,path:Ud([]),level:0,currentUser:h,presence:l,validation:u,changesOpen:f}),y=PR(m.current,g);return m.current=y,y},[e,n,r,i,o,t,a,s,d,h,l,u,f])}function GHn(e){return Qo(e.schemaType)}function KHn(e){return sp(e.schemaType)}function tNe(e){return"_allMembers"in e&&Array.isArray(e._allMembers)}function YHn(e,t){return[...t.map((n,r)=>({type:"expandPath",path:t.slice(0,r+1)})),...nNe(e,t)]}function nNe(e,t){return t.length===0?[]:GHn(e)&&tNe(e)?rNe(e,t):KHn(e)?iNe(e,t):[]}function rNe(e,t){var f,h;if(t.length===0)return[];const[n,...r]=t,i=e._allMembers.find(m=>m.kind==="fieldSet"&&m.fieldSet.members.some(g=>g.kind==="field"&&g.name===n)),o=(i?i.fieldSet.members:e._allMembers).find(m=>m!==null&&m.kind==="field"&&m.name===n),a=e.schemaType.fields.find(m=>m.name===n),s=(f=e.groups.find(m=>m.selected))==null?void 0:f.name,l=a&&Lw(a.group)||[],u=s&&(s===xm.name||l.includes(s)),d=[];if(!u){const m=((h=e.groups.find(g=>l.includes(g.name)))==null?void 0:h.name)||xm.name;d.push({type:"setSelectedGroup",path:e.path,groupName:m})}return i&&d.push({type:"expandFieldSet",path:i.fieldSet.path}),o&&tNe(o.field)&&(zJ(o)?d.push(...iNe(o.field,r)):_Fe(o)&&d.push(...rNe(o.field,r))),d}function iNe(e,t){if(t.length===0)return[];const[n,...r]=t;if(!Cr(n))throw new Error("Expected path segment to be an object with a _key property");const i=e.members.find(o=>o.key===n._key);return i?nNe(i.item,r):[]}const qHn=/^\d+$/;function ZHn(e){return e.replace(/^['"]/,"").replace(/['"]$/,"")}function XHn(e){const[t,n]=e.split("==");return{[t]:ZHn(n)}}function JHn(e){return qHn.test(e)?Number(e):e}function QHn(e){return e.split(/[[.\]]/g).filter(Boolean).map(t=>t.includes("==")?XHn(t):JHn(t))}function q0(e){return QHn(e)}function oNe(e){return e.map(nWn)}function NU(e,t){return jr(t.map(n=>tWn(e,n)))}const eWn=e=>t=>!e.includes(t);function tWn(e,t){return jr(Object.keys(t).filter(eWn(["id","ifRevisionID","query"])).map(n=>{if(n==="unset")return t.unset.map(r=>({type:"unset",path:q0(r),origin:e}));if(n==="insert"){const r="before"in t.insert?"before":"after";return{type:"insert",position:r,path:q0(t.insert[r]),items:t.insert.items,origin:e}}return Object.keys(t[n]).map(r=>n==="set"?{type:"set",path:q0(r),value:t[n][r],origin:e}:n==="inc"||n==="dec"?{type:n,path:q0(r),value:t[n][r],origin:e}:n==="setIfMissing"?{type:"setIfMissing",path:q0(r),value:t[n][r],origin:e}:n==="diffMatchPatch"?{type:n,path:q0(r),value:t[n][r],origin:e}:(console.warn(new Error(`Unsupported patch type: ${n}`)),null)).filter(Boolean)}))}function nWn(e){if(e.patchType!==jy&&e.type)throw new Error(`Patch is missing "patchType" - import and use "${e.type}()" from "sanity/form"`);if(e.patchType!==jy)throw new Error('Patch is missing "patchType" - import and use the patch method helpers from "sanity/form"');const t=QPe(e.path||[]);if(e.type==="insert"){const{position:n,items:r}=e;return{insert:{[n]:t,items:r}}}if(e.type==="unset")return{unset:[t]};if(!e.type)throw new Error(`Missing patch type in patch ${JSON.stringify(e)}`);return t?{[e.type]:{[t]:e.value}}:{[e.type]:e.value}}const rWn=p.memo(function(e){const{transform:t}=e,n=Zc(),r=p.useCallback(o=>{const a=o.patches,s=t(a);n.onChange(Ft.from(s))},[n,t]),i=p.useMemo(()=>({...n,onChange:r}),[n,r]);return c.jsx(OH.Provider,{value:i,children:e.children})});function aNe(e,t){var i;const n=Ol(t),r=n[0];if(r&&Qo(e)){const o=(i=e==null?void 0:e.fields)==null?void 0:i.find(a=>a.name===r);if(o){const a=rn(n.slice(1));return a?aNe(o.type,a):o}}}function iWn(e,t){if(typeof t=="number")return t;const n=rZ(e,t);return n===-1?!1:n}function oWn(e){const{currentUser:t,schemaType:n,fieldPath:r,documentValue:i}=e,o=Ol(r),a=[];let s=null;return o.forEach((l,u)=>{var b,v,w,C,k,S,E;const d=o.slice(0,u+1),f=o.slice(0,u),h=aNe(n,rn(d)),m=l.hasOwnProperty("_key"),g=Oo(i,f),y=Oo(i,d),x={document:i,currentUser:t,parent:g,value:y};if(m&&Array.isArray(g)){const _=iWn(g,l),T=typeof _=="number";a.push({invalid:_===!1,isArrayItem:!0,title:T?`#${Number(_)+1}`:"Unknown array item"});return}if(h!=null&&h.type){const _=To(h.type.hidden,x);a.push({invalid:_,isArrayItem:!1,title:Iu(h.type)}),s=h.type;return}if(sl(s)){const _=(b=Oo(i,f))==null?void 0:b._type,T=(v=s==null?void 0:s.of)==null?void 0:v.find(O=>O.name===_),A=(w=T==null?void 0:T.fields)==null?void 0:w.find(O=>O.name===l);if(!_&&y){const O=(k=(C=s==null?void 0:s.of)==null?void 0:C.map(P=>P==null?void 0:P.fields).filter(Boolean).flat())==null?void 0:k.find(P=>(P==null?void 0:P.name)===l),M=To((S=O==null?void 0:O.type)==null?void 0:S.hidden,x);O&&(a.push({invalid:M,isArrayItem:!1,title:Iu(O==null?void 0:O.type)}),s=O==null?void 0:O.type);return}if(!A){a.push({invalid:!0,isArrayItem:!1,title:"Unknown field"});return}const I=Iu(A==null?void 0:A.type),j=To((E=T==null?void 0:T.type)==null?void 0:E.hidden,x),$=To(A==null?void 0:A.type.hidden,x),D=j||$;a.push({invalid:D,isArrayItem:!1,title:I}),s=A==null?void 0:A.type;return}a.push({invalid:!0,isArrayItem:!1,title:"Unknown field"})}),a}function sNe(e){const t=p.useRef(e);return p.useMemo(()=>!Dt(t.current,e),[e])}function S0(e){return e?e==null?void 0:e.some(t=>{var n;return qa(t)&&((n=(t==null?void 0:t.children)||[])==null?void 0:n.some(r=>jl(r)?r.text:r.userId))}):!1}function aWn(e,t){var i,o;const n=(i=e==null?void 0:e.context)==null?void 0:i.intent,r=(o=t==null?void 0:t.context)==null?void 0:o.intent;if(r&&(!n||"preview"in r.params&&"preview"in n.params&&r.params.preview!==n.params.preview))return r}function dC(e){var t,n,r,i,o,a;return e?!!(((r=(n=(t=e==null?void 0:e.target)==null?void 0:t.path)==null?void 0:n.selection)==null?void 0:r.type)==="text"&&((a=(o=(i=e==null?void 0:e.target)==null?void 0:i.path)==null?void 0:o.selection)!=null&&a.value)):!1}const U0e=[];function sWn(e){const{comments:t,currentUser:n,documentValue:r,schemaType:i,type:o}=e,a=t==null?void 0:t.filter(s=>!s.parentCommentId);return o==="task"?a.map(s=>{const l=t==null?void 0:t.filter(u=>u.parentCommentId===s._id);return{commentsCount:[s,...l].length,parentComment:s,replies:l,threadId:s.threadId,hasReferencedValue:!1,breadcrumbs:U0e,fieldPath:""}}):o==="field"?a.map(s=>{var m,g,y;const l=oWn({currentUser:n,documentValue:r,fieldPath:((m=s.target.path)==null?void 0:m.field)||"",schemaType:i});let u=!1;if(dC(s)&&(u=!!((g=s.target.path)!=null&&g.selection&&s.target.path.selection.value.some(x=>x.text))),l.some(x=>x.invalid))return;const d=t==null?void 0:t.filter(x=>x.parentCommentId===s._id),f=[s,...d].length,h=u;return{breadcrumbs:l,commentsCount:f,fieldPath:((y=s.target.path)==null?void 0:y.field)||"",parentComment:s,replies:d,threadId:s.threadId,hasReferencedValue:h}}).filter(Boolean):U0e}const lNe=15;function H0e(e,t){const n=Nw(e,t),r=NP(n),i=uWn(r);return{patches:VP(e,r,{margin:lNe}),levenshtein:i}}function lWn(e,t){return BP(t,e,{allowExceedingIndices:!0,margin:lNe})[0]}const BU="";function cWn(e){return e.children.map(t=>jl(t)?t.text.replaceAll(BU," "):"").join(BU)}const Xp=["",""],W0e=new RegExp(`[${Xp.join("")}]`,"g"),G0e=[];function cNe(e){const{value:t,comments:n}=e;if(!t||t.length===0)return G0e;const r=n.filter(dC),i=[];return r.forEach(o=>{var a,s;(s=(a=o.target.path)==null?void 0:a.selection)==null||s.value.forEach(l=>{const u=t.find(S=>S._key===l._key);if(!u||!qa(u))return;const d=l.text.replaceAll(W0e,""),f=cWn(u),{patches:h}=H0e(d,l.text),m=lWn(f,h),g=m.indexOf(Xp[0]),y=m.replaceAll(Xp[0],"").indexOf(Xp[1]),x=m.replaceAll(W0e,""),b=l.text.slice(l.text.indexOf(Xp[0])+1,l.text.indexOf(Xp[1])),v=x.slice(g,y),{levenshtein:w}=H0e(v,b),C=Math.round(v.length+b.length/2);let k=!1;if(v.length===0&&(k=!0),w>C&&(k=!0),g+1===y&&(k=!0),g!==-1&&y!==-1){let S=0,E=0,_=0,T=0;for(let A=0;A<x.length&&(x[A]===BU&&(A<=g&&(E=-1,S++),T=-1,_++),A<g&&E++,A<g+v.length&&T++,A!==g+v.length);A++);i.push({selection:{anchor:{path:[{_key:u._key},"children",{_key:u.children[S]._key}],offset:E},focus:{path:[{_key:u._key},"children",{_key:u.children[_]._key}],offset:T}},comment:o,range:{_key:u._key,text:k?"":m}})}})}),i.length===0?G0e:i}function uWn(e){let t=0,n=0,r=0;for(let i=0;i<e.length;i++){const o=e[i][0],a=e[i][1];switch(o){case Rr:n+=a.length;break;case vr:r+=a.length;break;case Xt:t+=Math.max(n,r),n=0,r=0;break}}return t+=Math.max(n,r),t}const dWn=p.memo(function(e){const{children:t,commentId:n,currentHoveredCommentId:r,onClick:i,onHoverEnd:o,onHoverStart:a,selectedThreadId:s,threadId:l}=e,u=p.useRef(null),d=p.useRef(!1),f=p.useRef(null);p.useEffect(()=>{var S,E;const x=(S=u.current)==null?void 0:S.previousSibling,b=(E=u.current)==null?void 0:E.nextSibling;if(!x||!b){d.current=!1;return}const[v]=Object.keys(q0e("")),w=x.getAttribute(v),C=b.getAttribute(v),k=!!(w&&C&&w===C);f.current=k?w:null,d.current=k},[]);const h=p.useCallback(()=>a(n),[n,a]),m=p.useCallback(()=>o(null),[o]),g=p.useCallback(()=>i(n),[n,i]),y=r===n||r===f.current&&d.current;return c.jsx(CVe,{isAdded:!0,isHovered:y||s===l,isNested:d.current,onClick:g,onMouseEnter:h,onMouseLeave:m,ref:u,...q0e(l),children:t})});function fWn(e){const{comments:t,currentHoveredCommentId:n,onDecorationClick:r,onDecorationHoverEnd:i,onDecorationHoverStart:o,onDecorationMoved:a,selectedThreadId:s,value:l}=e;return cNe({comments:t,value:l}).map(({selection:u,comment:d,range:f})=>({component:({children:h})=>c.jsx(dWn,{commentId:d._id,currentHoveredCommentId:n,onClick:r,onHoverEnd:i,onHoverStart:o,selectedThreadId:s,threadId:d.threadId,children:h}),onMoved:a,selection:u,payload:{commentId:d._id,range:f}}))}function hWn(e){const{fragment:t,value:n,selection:r}=e;if(!r)throw new Error("Selection is required");const i=r.backward?{backward:!1,anchor:r.focus,focus:r.anchor}:r;return{type:"text",value:t.map(o=>{const a=n.find(y=>y._key===o._key);if(!qa(a))return{_key:o._key,text:""};const s=Cr(i.anchor.path[0])&&i.anchor.path[0]._key,l=Cr(i.focus.path[0])&&i.focus.path[0]._key,u=x$e([o]),d=qa(o)?o.children[0]:void 0,f=qa(o)?o.children[o.children.length-1]:void 0;let h="",m=-1;if(s===a._key)for(const y of a.children){if(m++,y._key===(d==null?void 0:d._key)){h+=jl(y)&&y.text.slice(0,Math.max(0,i.anchor.offset))||"";break}h+=y.text}let g="";if(l===a._key)for(const y of a.children.slice(m).reverse()){if(y._key===(f==null?void 0:f._key)){g=(jl(y)&&y.text.slice(i.focus.offset,y.text.length)||"")+g;break}g=y.text+g}return{_key:a._key,text:`${h}${Xp[0]}${u}${Xp[1]}${g}`}})}}function pWn(e,t){const n={};for(const r of e)n[r._key]={...r};for(const r of t)n[r._key]={...n[r._key],...r};return Object.values(n)}const K0e=/\b(https?:\/\/[^\s,()]+(?:\.[^\s,()]+)*|www\.[^\s,()]+\.[^\s,()]{2,})\b/g;function mWn(e){e.stopPropagation()}function gWn(e){const t={href:e.startsWith("http")?e:`https://${e}`,target:"_blank",rel:"noopener noreferrer",key:e,onClick:mWn};return p.createElement("a",t,e)}const yWn=e=>typeof e=="string"?e.split(K0e).flatMap(t=>t.match(K0e)?gWn(t):t):e,vWn=[yWn];function bWn(e){return Array.isArray(e)?e.flatMap(t=>{let n=[t];for(const r of vWn)n=n.flatMap(r);return n}):e}function VU(e){if(e&&typeof e=="object"&&e.hasOwnProperty("_ref"))return{...e,_weak:!0};if(Array.isArray(e))return e.map(t=>VU(t));if(e&&typeof e=="object"){const t={};return Object.keys(e).forEach(n=>{const r=e[n];typeof r=="object"&&r!==null?t[n]=VU(r):t[n]=r}),t}return e}function xWn(e){return VU(e)}async function wWn(e){const{activeTool:t,client:n,comment:r,currentUser:i,dataset:o,documentId:a,documentRevisionId:s,documentType:l,getIntent:u,getNotificationValue:d,getThreadLength:f,onCreate:h,onCreateError:m,projectId:g,createAddonDataset:y,workspace:x}=e,b=(r==null?void 0:r.id)||Ca(),v=i.id,w=((f==null?void 0:f(r.threadId))||0)+1;let C;if(r.type==="task"&&(C={_id:b,_type:"comment",authorId:v,message:r.message,lastEditedAt:void 0,parentCommentId:r.parentCommentId,status:r.status,threadId:r.threadId,reactions:r.reactions,context:{payload:{workspace:x},notification:r.context.notification,tool:(t==null?void 0:t.name)||""},target:{document:{_ref:a,_type:"reference",_weak:!0},documentType:l}}),r.type==="field"){const{documentTitle:k="",url:S="",workspaceTitle:E=""}=d({commentId:b})||{},_={currentThreadLength:w,documentTitle:k,url:S,workspaceTitle:E},T=u==null?void 0:u({id:a,type:l,path:r.fieldPath}),A=xWn(r.contentSnapshot);C={_id:b,_type:"comment",authorId:v,message:r.message,lastEditedAt:void 0,parentCommentId:r.parentCommentId,status:r.status,threadId:r.threadId,reactions:r.reactions,context:{payload:{workspace:x},intent:T,notification:_,tool:(t==null?void 0:t.name)||""},contentSnapshot:A,target:{documentRevisionId:s||"",path:{field:r.fieldPath,selection:r.selection},document:{_dataset:o,_projectId:g,_ref:a,_type:"crossDatasetReference",_weak:!0},documentType:l}}}if(C){if(h==null||h(C),!n){try{const k=await y();if(!k)throw new Error("Failed to create addon dataset client");await k.create(C)}catch(k){throw m==null||m(C._id,k),k}return}try{await n.create(C)}catch(k){throw m==null||m(C._id,k),k}}}function CWn(e,t){return`${e}-${t}`}async function kWn(e){var f;const{client:t,currentUser:n,id:r,reaction:i,getComment:o,onUpdate:a}=e,s=((f=o==null?void 0:o(r))==null?void 0:f.reactions)||[],l=s.filter(h=>h.userId===n.id),u=CWn(n.id,i.shortName),d=l.find(h=>h._key===u&&h._optimisticState!=="removed");if(d){const h=s.map(m=>m._key===d._key?{...m,_optimisticState:"removed"}:m);a==null||a(r,{reactions:h}),await t.patch(r).unset([`reactions[_key=="${u}"]`]).commit();return}if(!d){const h={_key:u,addedAt:new Date().toISOString(),shortName:i.shortName,userId:n.id},m={...h,_optimisticState:"added"},g=s.concat(m).filter(y=>!(y._key===h._key&&y._optimisticState==="removed"));a==null||a(r,{reactions:g}),await t.patch(r).setIfMissing({reactions:[]}).append("reactions",[h]).commit()}}async function SWn(e){const{client:t,id:n,onRemove:r}=e;r==null||r(n),await Promise.all([t.delete({query:`*[_type == "comment" && parentCommentId == "${n}"]`}),t.delete(n)])}const EWn=1e3,_Wn={trailing:!0,leading:!1},LI=new Map;function TWn(e){if(!LI.has(e)){const t=sE(uNe,EWn,_Wn);return LI.set(e,t),t}return LI.get(e)}async function uNe(e){const{client:t,id:n,comment:r,transactionId:i,onUpdate:o}=e,a=i||Ca(),s=t==null?void 0:t.patch(n).set(r),l=t.transaction().transactionId(a).patch(s);o==null||o(n,r),r.status?(await l.commit(),await t.patch({query:`*[_type == "comment" && parentCommentId == "${n}"]`}).set({status:r.status}).commit()):await l.commit(),LI.delete(n)}async function AWn(e){const{id:t,comment:n,throttled:r}=e,i="message"in n,o={...n,lastEditedAt:new Date().toISOString()},a=i?o:n;if(!r){await uNe({...e,comment:a});return}await TWn(t)({...e,comment:a})}function jWn(e){const{client:t,currentUser:n,dataset:r,documentId:i,documentRevisionId:o,documentType:a,getComment:s,getThreadLength:l,onCreate:u,onCreateError:d,onRemove:f,onTransactionStart:h,onUpdate:m,projectId:g,createAddonDataset:y,workspace:x,getCommentLink:b}=e,v=DHn(),w=t_(p.useCallback(I=>typeof I.tool=="string"?I.tool:void 0,[])),C=lor(),k=p.useMemo(()=>C.find(I=>I.name===w),[w,C]),{getNotificationValue:S}=OHn({documentId:i,documentType:a,getCommentLink:b}),E=p.useCallback(async I=>{n!=null&&n.id&&await wWn({activeTool:k,client:t,comment:I,currentUser:n,dataset:r,documentId:i,documentRevisionId:o,documentType:a,getIntent:v,getNotificationValue:S,getThreadLength:l,onCreate:u,onCreateError:d,projectId:g,createAddonDataset:y,workspace:x})},[k,t,n,r,i,o,a,v,S,l,u,d,g,y,x]),_=p.useCallback(async I=>{t&&await SWn({client:t,id:I,onRemove:f})},[t,f]),T=p.useCallback(async(I,j,$)=>{if(!t)return;const{throttled:D}=$||{},O=Ca();h(I,O),await AWn({client:t,comment:j,throttled:D,id:I,onUpdate:m,transactionId:O})},[t,h,m]),A=p.useCallback(async(I,j)=>{!t||!(n!=null&&n.id)||await kWn({client:t,currentUser:n,id:I,reaction:j,getComment:s,onUpdate:m})},[t,n,s,m]);return p.useMemo(()=>({operation:{create:E,react:A,remove:_,update:T}}),[E,_,T,A])}function f4(){const e=p.useContext(Oxe);if(!e)throw new Error("useComments must be used within a CommentsProvider");return e}function IWn(){const e=p.useContext(Dxe);if(!e)throw new Error("useCommentsAuthoringPath: missing context value");return e}function Dg(){return p.useContext(Mxe)}function $Wn(){const e=p.useContext(Rxe);if(!e)throw new Error("useCommentsOnboarding: missing context value");return e}const h4={behavior:"smooth",inline:"center",scrollMode:"if-needed"},DWn={...h4,block:"start"},OWn={...h4,block:"center"},MWn={...h4,block:"center"},PWn={...h4,block:"center"},RWn={comment:PWn,field:MWn,group:DWn,"inline-comment":OWn};function A_(e){const t=/[[\]_"_=.]/g;return e.replace(t,"")}function Y0e(e){return{"data-comments-comment-id":A_(e)}}function FWn(e){return{"data-comments-field-id":A_(e)}}function LWn(e){return{"data-comments-group-id":A_(e)}}function q0e(e){return{"data-comments-inline-comment-id":A_(e)}}function GQ(e){const{boundaryElement:t}=e||{},[n,r]=p.useState(null),i=p.useMemo(()=>({...RWn[(n==null?void 0:n.type)||"comment"],boundary:t}),[t,n==null?void 0:n.type]),o=p.useCallback(u=>{r({type:"comment",id:u})},[]),a=p.useCallback(u=>{r({type:"group",id:u})},[]),s=p.useCallback(u=>{r({type:"field",id:u})},[]),l=p.useCallback(u=>{r({type:"inline-comment",id:u})},[]);return p.useEffect(()=>{const u=requestAnimationFrame(()=>{if(!n)return;const{type:d,id:f}=n,h=document==null?void 0:document.querySelector(`[data-comments-${d}-id="${A_(f)}"]`);h&&my(h,i)});return()=>{cancelAnimationFrame(u)}},[i,n]),p.useMemo(()=>({scrollToComment:o,scrollToField:s,scrollToGroup:a,scrollToInlineComment:l}),[o,s,a,l])}function KQ(){const e=p.useContext(Fxe);if(!e)throw new Error("useCommentsSelectedPath: missing context value");return e}const NWn=Oi({name:"Comment Link Copied",version:1,description:"The link to a comment is copied"}),BWn=Oi({name:"Comment Viewed From Link",version:1,description:"A comment is viewed from a link"}),VWn=Oi({name:"Comment List View Changed",version:1,description:"The view of the comment list is changed"});function zWn(){const e=$s(),t=p.useCallback(()=>{e.log(NWn)},[e]),n=p.useCallback(()=>{e.log(BWn)},[e]),r=p.useCallback(i=>{e.log(VWn,{view:i})},[e]);return p.useMemo(()=>({commentLinkCopied:t,commentListViewChanged:r,commentViewedFromLink:n}),[t,r,n])}function YQ(){return p.useContext(Lxe)||{upsellData:null,handleOpenDialog:()=>null,upsellDialogOpen:!1,telemetryLogs:{dialogSecondaryClicked:()=>null,dialogPrimaryClicked:()=>null,panelViewed:()=>null,panelDismissed:()=>null,panelPrimaryClicked:()=>null,panelSecondaryClicked:()=>null}}}function UWn(e,t){const{enabled:n,isLoading:r,error:i}=M_("studioComments"),{enabled:o}=er().document.comments,a=p.useMemo(()=>o({documentType:t,documentId:Cn(e)}),[e,t,o]);return p.useMemo(()=>r||!a||i?{enabled:!1,mode:null}:{enabled:!0,mode:n?"default":"upsell"},[r,a,i,n])}function HWn(e){return e.reduce((t,n)=>({...t,[n._id]:n}),{})}function WWn(e,t){var n;switch(t.type){case"COMMENTS_SET":{const r=HWn(t.comments);return{...e,comments:r}}case"COMMENT_ADDED":{const r=t.payload,i=r,o={[r._id]:{...e.comments[r._id],...i,_state:r._state||void 0,_createdAt:r._createdAt||new Date().toISOString()}};return{...e,comments:{...e.comments,...o}}}case"COMMENT_RECEIVED":{const r=t.payload;return{...e,comments:{...e.comments,[r._id]:r}}}case"COMMENT_DELETED":{const{[t.id]:r,...i}=e.comments;return Object.keys(i).forEach(o=>{i[o].parentCommentId===t.id&&delete i[o]}),{...e,comments:i}}case"COMMENT_UPDATED":{const r=t.payload,i=r._id,o=e.comments[i],a=((n=o==null?void 0:o.reactions)==null?void 0:n.filter(d=>d==null?void 0:d._optimisticState))||[],s=r.reactions||[],l=pWn(a,s),u={...o,...r,reactions:l};return{...e,comments:{...e.comments,[i]:u}}}default:return e}}const GWn={comments:{}},KWn={events:["welcome","mutation","reconnect"],includeResult:!0,visibility:"query"},YWn="_createdAt",qWn="desc",ZWn=['_type == "comment"',"target.document._ref == $documentId"],XWn=`{
  _createdAt,
  _id,
  authorId,
  contentSnapshot,
  context,
  lastEditedAt,
  message,
  parentCommentId,
  reactions,
  status,
  target,
  threadId
}`,JWn=`order(${YWn} ${qWn})`,Z0e=`*[${ZWn.join(" && ")}] ${XWn} | ${JWn}`;function QWn(e){const{client:t,documentId:n,onLatestTransactionIdReceived:r,transactionsIdMap:i}=e,[o,a]=p.useReducer(WWn,GWn),[s,l]=p.useState(t!==null),[u,d]=p.useState(null),f=p.useRef(!1),h=p.useMemo(()=>({documentId:Cn(n)}),[n]),m=p.useCallback(async()=>{if(!t){l(!1);return}try{const x=await t.fetch(Z0e,h);a({type:"COMMENTS_SET",comments:x}),l(!1)}catch(x){d(x)}},[t,h]),g=p.useCallback(async x=>{var b;if(x.type==="welcome"&&!f.current&&(l(!0),await m(),l(!1),f.current=!0),x.type==="reconnect"&&(l(!0),f.current=!1),x.type==="mutation"){if(x.transition==="appear"){const v=x.result;v&&a({type:"COMMENT_RECEIVED",payload:v})}if(x.transition==="disappear"&&a({type:"COMMENT_DELETED",id:x.documentId}),x.transition==="update"){const v=x.result,w=((b=x.result)==null?void 0:b._id)||"",C=x.transactionId,k=i.get(w),S=C===k;if(!S&&k)return;v&&(a({type:"COMMENT_UPDATED",payload:v}),S&&r(w))}}},[m,r,i]),y=p.useMemo(()=>t?t.observable.listen(Z0e,h,KWn).pipe(En(x=>(d(x),Se(x)))):Se(),[t,h]);return p.useEffect(()=>{const x=y.subscribe(g);return()=>{x==null||x.unsubscribe()}},[g,y]),{data:p.useMemo(()=>Object.values(o.comments),[o.comments]),dispatch:a,error:u,loading:s}}const zU=[],eGn={open:zU,resolved:zU},dNe=p.memo(function(e){const{children:t,documentId:n,documentType:r,isCommentsOpen:i,onCommentsOpen:o,sortOrder:a,type:s,getCommentLink:l,onClearSelectedComment:u,selectedCommentId:d,isConnecting:f,onPathOpen:h}=e,m=Dg(),[g,y]=p.useState("open"),{client:x,createAddonDataset:b,isCreatingDataset:v}=k4(),w=Cn(n),C=S4(w,r,"low"),k=un().get(r),S=dr(),{name:E,dataset:_,projectId:T}=ri(),A=p.useMemo(()=>C.draft||C.published,[C.draft,C.published]),I=p.useMemo(()=>A==null?void 0:A._rev,[A]),j=p.useMemo(()=>new Map,[]),$=p.useCallback(G=>{j.delete(G)},[j]),{dispatch:D,data:O=zU,error:M,loading:P}=QWn({documentId:w,client:x,transactionsIdMap:j,onLatestTransactionIdReceived:$}),F=p.useCallback((G,K)=>{j.set(G,K)},[j]),L=p.useCallback(G=>m.mode==="upsell"&&G==="resolved"?null:y(G),[y,m]),U=sVe(p.useMemo(()=>({documentValue:A,permission:"read"}),[A])),H=p.useMemo(()=>{if(!k||!S)return eGn;const G=_w(O,["_createdAt"],[a]),K=sWn({comments:G,currentUser:S,documentValue:A,schemaType:k,type:s});return{open:K.filter(q=>q.parentComment.status==="open"),resolved:K.filter(q=>q.parentComment.status==="resolved")}},[S,O,A,k,a,s]),N=p.useCallback(G=>H.open.filter(K=>K.threadId===G).length,[H.open]),Y=p.useCallback(G=>O==null?void 0:O.find(K=>K._id===G),[O]),J=p.useCallback(G=>{var q,X;const K=((X=(q=O==null?void 0:O.find(ie=>ie._id===G._id))==null?void 0:q._state)==null?void 0:X.type)==="createError";D({type:"COMMENT_ADDED",payload:{...G,_state:K?{type:"createRetrying"}:void 0}})},[O,D]),ee=p.useCallback((G,K)=>{D({type:"COMMENT_UPDATED",payload:{_id:G,...K}})},[D]),oe=p.useCallback((G,K)=>{D({type:"COMMENT_UPDATED",payload:{_id:G,_state:{error:K,type:"createError"}}})},[D]),{operation:re}=jWn(p.useMemo(()=>({client:x,currentUser:S,dataset:_,documentId:w,documentRevisionId:I,documentType:r,getComment:Y,getThreadLength:N,projectId:T,schemaType:k,workspace:E,createAddonDataset:b,onCreate:J,onCreateError:oe,onUpdate:ee,onTransactionStart:F,getCommentLink:l}),[x,S,_,w,I,r,Y,N,T,k,E,b,J,oe,ee,F,l])),se=p.useMemo(()=>({documentId:n,documentType:r,isCreatingDataset:v,status:g,setStatus:L,getComment:Y,getCommentLink:l,onClearSelectedComment:u,selectedCommentId:d,isCommentsOpen:i,onCommentsOpen:o,isConnecting:f,onPathOpen:h,comments:{data:H,error:M,loading:P||v||f||!1},operation:{create:re.create,react:re.react,remove:re.remove,update:re.update},mentionOptions:U}),[n,r,v,g,L,Y,l,u,d,i,o,f,h,H,M,P,re.create,re.react,re.remove,re.update,U]);return c.jsx(Oxe.Provider,{value:se,children:t})}),fNe=p.memo(function(e){const{children:t,documentId:n,documentType:r}=e,i=UWn(n,r);return c.jsx(Mxe.Provider,{value:i,children:t})});p.memo(function(e){const{children:t,getIntent:n}=e;return c.jsx(Pxe.Provider,{value:n,children:t})});const tGn=1,hNe=`sanityStudio:comments:inspector:onboarding:dismissed:v${tGn}`,nGn=e=>{try{window.localStorage.setItem(hNe,JSON.stringify(e))}catch{}},rGn=()=>{try{const e=window.localStorage.getItem(hNe);return e?JSON.parse(e):!1}catch{return!1}};function iGn(e){const{children:t}=e,[n,r]=p.useState(rGn()),i=p.useCallback(()=>{r(!0),nGn(!0)},[r]),o=p.useMemo(()=>({setDismissed:i,isDismissed:n}),[i,n]);return c.jsx(Rxe.Provider,{value:o,children:t})}const oGn=p.memo(function(e){const{children:t}=e,[n,r]=p.useState(null),i=p.useCallback(a=>{Dt(n,a)||r(a)},[n]),o=p.useMemo(()=>({selectedPath:n,setSelectedPath:i}),[n,i]);return c.jsx(Fxe.Provider,{value:o,children:t})}),X0e={inlineIcon:(e,t,n)=>{var o,a,s,l;if(!qa(n))return n;const r=!!(((o=n.children[t-1])==null?void 0:o._type)==="span"&&((a=n.children[t-1])!=null&&a.text)),i=!!(((s=n.children[t+1])==null?void 0:s._type)==="span"&&((l=n.children[t+1])!=null&&l.text));return{...e,hasTextRight:i,hasTextLeft:r}}},aGn=e=>e.map(t=>{if(qa(t)&&t._type==="block"){const n=t.children.map((r,i)=>X0e[r._type]?X0e[r._type](r,i,t):r);return{...t,children:n}}return t}),sGn=R(V)`
  height: 1px;
  background: var(--card-border-color);
  width: 100%;
`,lGn=R.div`
  // Remove margin top of first element
  > div:first-child {
    margin-top: 0;
  }
  // Remove margin bottom to last box.
  > [data-ui='Box']:last-child {
    margin-bottom: 0;
  }
`,cGn=R(B)(e=>e.accent?`
    --card-icon-color: var(--card-accent-fg-color);
    `:""),pNe=R.span`
  color: var(--card-accent-fg-color);
  --card-icon-color: var(--card-accent-fg-color);
`,uGn=R.span(({theme:e})=>{const{weights:t}=e.sanity.fonts.text;return he`
    font-weight: ${t.semibold};
  `}),dGn=R(H_e)`
  &[data-sanity-icon] {
    /* Forces the icon to leave the necessary space to the right or left it has surrounding text */
    margin-left: ${e=>e.$hasTextLeft?"0":""};
    margin-right: ${e=>e.$hasTextRight?"0":""};
  }
`,fGn=R.a`
  font-weight: 600;
  color: ${e=>e.useTextColor?"var(--card-muted-fg-color) !important":""};
`,hGn=R.span`
  > svg {
    display: inline;
    font-size: calc(21 / 16 * 1rem) !important;
    margin: -0.375rem 0 !important;
    *[stroke] {
      stroke: currentColor;
    }
  }
`,pGn=e=>c.jsx(pNe,{children:e}),J0e=e=>{const[t,n]=p.useState("");return p.useEffect(()=>{const r=new AbortController,i=r.signal;return fetch(e.icon.url,{signal:i}).then(o=>{if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return o.text()}).then(o=>n(o)).catch(o=>{o.name!=="AbortError"&&console.error(o)}),()=>{r.abort()}},[e.icon.url]),c.jsx(hGn,{dangerouslySetInnerHTML:{__html:t}})};function nj(e){const{children:t}=e;return c.jsx(V,{paddingX:2,marginBottom:4,children:c.jsx(B,{size:1,muted:!0,children:t})})}function mGn(e){const{children:t}=e;return c.jsx(V,{paddingX:2,marginY:4,children:c.jsx(vo,{size:2,as:"h2",children:t})})}const gGn={block:{normal:({children:e})=>c.jsx(nj,{children:e}),h2:({children:e})=>c.jsx(mGn,{children:e})},list:{bullet:({children:e})=>e,number:({children:e})=>c.jsx(c.Fragment,{children:e}),checkmarks:({children:e})=>c.jsx(c.Fragment,{children:e})},listItem:{bullet:({children:e})=>c.jsx(nj,{children:e}),number:({children:e})=>c.jsx(nj,{children:e}),checkmarks:({children:e})=>c.jsx(nj,{children:e})},marks:{strong:({children:e})=>c.jsx("strong",{children:e}),semibold:({children:e})=>c.jsx(uGn,{children:e}),link:e=>c.jsxs(fGn,{href:e.value.href,rel:"noopener noreferrer",target:"_blank",useTextColor:e.value.useTextColor,children:[e.children,e.value.showIcon&&c.jsx(Rl,{style:{marginLeft:"2px"}})]}),accent:e=>c.jsx(pNe,{children:e.children})},types:{inlineIcon:e=>c.jsx(lw,{condition:e.value.accent,wrapper:pGn,children:e.value.sanityIcon?c.jsx(dGn,{symbol:e.value.sanityIcon,$hasTextLeft:e.value.hasTextLeft,$hasTextRight:e.value.hasTextRight}):c.jsx(J0e,{icon:e.value.icon})}),divider:()=>c.jsx(V,{marginY:3,children:c.jsx(V,{paddingY:3,children:c.jsx(sGn,{})})}),iconAndText:e=>c.jsxs(W,{align:"flex-start",paddingX:2,paddingTop:1,paddingBottom:2,marginTop:2,gap:2,children:[c.jsxs(W,{gap:2,style:{flexShrink:0},children:[c.jsx(cGn,{size:1,accent:e.value.accent,children:e.value.sanityIcon?c.jsx(H_e,{symbol:e.value.sanityIcon}):c.jsx(J0e,{icon:e.value.icon})}),c.jsx(B,{size:1,weight:"semibold",accent:e.value.accent,children:e.value.title})]}),c.jsx(B,{size:1,muted:!0,accent:e.value.accent,children:e.value.text})]})}};function p4(e){const t=p.useMemo(()=>aGn(e.blocks),[e.blocks]);return c.jsx(le,{tone:"default",children:c.jsx(lGn,{children:c.jsx(C$e,{value:t,components:gGn,onMissingComponent:!1})})})}const yGn=R(ge)(({theme:e})=>{const{space:t}=$e(e);return`
      position: absolute;
      top: ${t[3]}px;
      right: ${t[3]}px;
      z-index: 20;
      background: transparent;
      border-radius: 9999px;
      box-shadow: none;
      color: ${Md.hex};
      --card-fg-color: ${Md.hex};
      :hover {
        --card-fg-color: ${Md.hex};
      }
    `}),vGn=R.img`
  object-fit: cover;
  width: 100%;
  height: 100%;
  height: 200px;
`;function qQ(e){var o,a;const{data:t,onClose:n,onPrimaryClick:r,onSecondaryClick:i}=e;return c.jsxs(no,{id:"upsell-dialog",onClose:n,onClickOutside:n,__unstable_hideCloseButton:!0,bodyHeight:"fill",padding:!1,footer:{cancelButton:(o=t.secondaryButton)!=null&&o.text?{text:t.secondaryButton.text,mode:"bleed",tone:"default",iconRight:lp,...t.secondaryButton.url&&{target:"_blank",rel:"noopener noreferrer",as:"a",href:t.secondaryButton.url},onClick:i}:void 0,confirmButton:{text:(a=t.ctaButton)==null?void 0:a.text,mode:"default",tone:"primary",...t.ctaButton.url&&{target:"_blank",rel:"noopener noreferrer",as:"a",href:t.ctaButton.url},onClick:r}},children:[c.jsx(yGn,{icon:eo,mode:"bleed",tone:"default",onClick:n,tabIndex:-1,tooltipProps:null}),t.image&&c.jsx(vGn,{src:t.image.asset.url,alt:t.image.asset.altText??""}),c.jsx(V,{padding:3,marginTop:2,children:c.jsx(ae,{space:4,paddingBottom:2,children:c.jsx(p4,{blocks:t.descriptionText})})})]})}const Ip="comments",Q0e={interpolate:/{{([\s\S]+?)}}/g},eve="www.sanity.io";function bGn(e){const[t,n]=p.useState(!1),[r,i]=p.useState(null),o=$_(),a=$s(),s=on(en),l=p.useMemo(()=>({dialogSecondaryClicked:()=>a.log(Nx,{feature:Ip,type:"modal"}),dialogPrimaryClicked:()=>a.log(Lx,{feature:Ip,type:"modal"}),panelViewed:g=>a.log(Rx,{feature:Ip,type:"inspector",source:g}),panelDismissed:()=>a.log(Fx,{feature:Ip,type:"inspector"}),panelPrimaryClicked:()=>a.log(Lx,{feature:Ip,type:"inspector"}),panelSecondaryClicked:()=>a.log(Nx,{feature:Ip,type:"inspector"})}),[a]),u=p.useCallback(()=>{l.dialogPrimaryClicked()},[l]),d=p.useCallback(()=>{l.dialogSecondaryClicked()},[l]),f=p.useCallback(()=>{n(!1),a.log(Fx,{feature:Ip,type:"modal"})},[a]);p.useEffect(()=>{const g=s.observable.request({uri:"/journey/comments"}).subscribe({next:y=>{if(y)try{const x=jx(y.ctaButton.url,Q0e);y.ctaButton.url=x({baseUrl:eve,projectId:o});const b=jx(y.secondaryButton.url,Q0e);y.secondaryButton.url=b({baseUrl:eve,projectId:o}),i(y)}catch{}},error:()=>{}});return()=>{g.unsubscribe()}},[s,o]);const h=p.useCallback(g=>{n(!0),a.log(Rx,{feature:Ip,type:"modal",source:g})},[a]),m=p.useMemo(()=>({upsellDialogOpen:t,handleOpenDialog:h,upsellData:r,telemetryLogs:l}),[h,t,r,l]);return c.jsxs(Lxe.Provider,{value:m,children:[e.children,r&&t&&c.jsx(qQ,{data:r,onClose:f,onPrimaryClick:u,onSecondaryClick:d})]})}function xGn(e){const{documentId:t,documentType:n}=e;return Dg().mode!==null?c.jsx(tve,{...e}):c.jsx(fNe,{documentId:t,documentType:n,children:c.jsx(tve,{...e})})}function tve(e){return Dg().enabled?c.jsx(oGn,{children:c.jsx($Hn,{children:e.renderDefault(e)})}):e.renderDefault(e)}const Wk="sanity/comments",Hf="yellow",UU=[{shortName:":+1:",title:"Thumbs up"},{shortName:":-1:",title:"Thumbs down"},{shortName:":heart:",title:"Heart"},{shortName:":rocket:",title:"Rocket"},{shortName:":heavy_plus_sign:",title:"Heavy plus sign"},{shortName:":eyes:",title:"Eyes"}],zD={":-1:":"",":+1:":"",":eyes:":"",":heart:":"",":heavy_plus_sign:":"",":rocket:":""},wGn=R(ae)`
  width: 320px;
`;function CGn(e){const{count:t,currentUser:n,fieldTitle:r,isCreatingDataset:i,mentionOptions:o,onChange:a,onClick:s,onClose:l,onCommentAdd:u,onDiscard:d,onInputKeyDown:f,open:h,value:m}=e,{t:g}=Q(wi),y=p.useRef(null),[x,b]=p.useState(null),v=p.useRef(null),w=t>0,C=p.useCallback(()=>{h&&(l(),x==null||x.focus())},[x,h,l]),k=p.useCallback(()=>{u(),C()},[C,u]),S=p.useMemo(()=>S0(m),[m]),E=p.useCallback(()=>{var j;if(!S){C();return}(j=v.current)==null||j.discardDialogController.open()},[C,S]),_=p.useCallback(j=>{j.isDefaultPrevented()||f&&f(j)},[f]),T=p.useCallback(()=>{var j;(j=v.current)==null||j.discardDialogController.close()},[]),A=p.useCallback(()=>{var j;(j=v.current)==null||j.discardDialogController.close(),C(),d()},[C,d]),I=p.useCallback(j=>{j.key==="Escape"&&(j.preventDefault(),j.stopPropagation(),E())},[E]);return On(!h&&E,()=>[y.current]),w?c.jsx(Et,{portal:!0,placement:"top",content:g("field-button.content",{count:t}),children:c.jsx(zt,{"aria-label":g("field-button.aria-label-open"),mode:"bleed",onClick:s,padding:2,space:2,children:c.jsxs(W,{align:"center",gap:2,children:[c.jsx(B,{size:1,children:c.jsx(hK,{})}),c.jsx(B,{size:0,children:t>9?"9+":t})]})})}):c.jsx(Fn,{constrainSize:!0,content:c.jsx(wGn,{padding:2,space:4,children:c.jsx(T0,{currentUser:n,focusLock:!0,focusOnMount:!0,mentionOptions:o,onChange:a,onDiscardCancel:T,onDiscardConfirm:A,onKeyDown:_,onSubmit:k,placeholder:c.jsx(wt,{t:g,i18nKey:"compose.add-comment-input-placeholder",values:{field:r}}),readOnly:i,ref:v,value:m})}),fallbackPlacements:["bottom-end"],open:h,placement:"right-start",portal:!0,ref:y,onKeyDown:I,children:c.jsx("div",{children:c.jsx(ge,{"aria-label":g("field-button.aria-label-add"),disabled:i,icon:cK,mode:"bleed",onClick:s,ref:b,selected:h,tooltipProps:{content:g("field-button.title"),placement:"top"}})})})}const c9=new Map,kGn=[],SGn={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}};function EGn(e){const{enabled:t,mode:n}=Dg();return t?c.jsx(AGn,{...e,mode:n}):e.renderDefault(e)}const _Gn=R(na.div)(({theme:e})=>{const{radius:t,space:n,color:r}=e.sanity,i=ln[Hf][r.dark?900:50].hex;return he`
    mix-blend-mode: ${r.dark?"screen":"multiply"};
    border-radius: ${t[3]}px;
    top: -${n[2]}px;
    left: -${n[2]}px;
    bottom: -${n[2]}px;
    right: -${n[2]}px;
    pointer-events: none;
    position: absolute;
    z-index: 1;
    width: calc(100% + ${n[2]*2}px);
    height: calc(100% + ${n[2]*2}px);
    background-color: ${i};
  `}),TGn=R(ae)`
  position: relative;
`;function AGn(e){const{mode:t}=e,n=dr(),{element:r}=zy(),i=p.useRef(null),{comments:o,isCommentsOpen:a,isCreatingDataset:s,mentionOptions:l,onCommentsOpen:u,operation:d,setStatus:f,status:h}=f4(),{upsellData:m,handleOpenDialog:g}=YQ(),{selectedPath:y,setSelectedPath:x}=KQ(),{authoringPath:b,setAuthoringPath:v}=IWn(),{scrollToGroup:w}=GQ({boundaryElement:r}),C=p.useMemo(()=>Iu(e.schemaType),[e.schemaType]),k=p.useMemo(()=>rn(e.path),[e.path]),S=c9.get(k)||null,[E,_]=p.useState(S),T=p.useMemo(()=>b===k,[b,k]),A=p.useMemo(()=>!a||(y==null?void 0:y.origin)==="form"||(y==null?void 0:y.origin)==="url"?!1:(y==null?void 0:y.fieldPath)===k,[a,y==null?void 0:y.fieldPath,y==null?void 0:y.origin,k]),I=p.useMemo(()=>o.data.open.filter(U=>U.threadId===(y==null?void 0:y.threadId)).some(U=>dC(U.parentComment)),[o.data.open,y==null?void 0:y.threadId]),j=p.useMemo(()=>o.data.open.map(U=>U.fieldPath===k?U.commentsCount:0).reduce((U,H)=>U+H,0)||0,[o.data.open,k]),$=j>0,D=p.useCallback(()=>{_(null),c9.delete(k)},[k]),O=p.useCallback(()=>{var U;if($){h==="resolved"&&f("open"),v(null),u==null||u();const H=(U=o.data.open.find(N=>N.fieldPath===rn(e.path)))==null?void 0:U.threadId;H&&(x({threadId:H,origin:"form",fieldPath:rn(e.path)}),w(H));return}if(t==="upsell"){m?g("field_action"):u==null||u();return}v(T?null:k)},[o.data.open,g,$,T,t,u,e.path,w,v,x,f,h,k,m]),M=p.useCallback(()=>{if(E){const U=Ca(),H={type:"field",fieldPath:rn(e.path),message:E,parentCommentId:void 0,status:"open",threadId:U,reactions:kGn};d.create(H),u==null||u(),h==="resolved"&&f("open"),D(),x({threadId:U,origin:"form",fieldPath:rn(e.path)}),w(U)}},[u,d,e.path,D,w,x,f,h,E]),P=p.useCallback(()=>v(null),[v]),F=p.useCallback(U=>{_(U),c9.set(k,U)},[k]),L=p.useMemo(()=>({button:n&&c.jsx(CGn,{count:Number(j),currentUser:n,fieldTitle:C,isCreatingDataset:s,mentionOptions:l,onChange:F,onClick:O,onClose:P,onCommentAdd:M,onDiscard:D,open:T,value:E}),hasComments:$,isAddingComment:T}),[n,j,C,s,l,F,O,P,M,D,T,E,$]);return c.jsxs(TGn,{...FWn(rn(e.path)),ref:i,children:[e.renderDefault({...e,__internal_comments:L}),c.jsx(hf,{children:A&&!I&&c.jsx(_Gn,{animate:"animate",exit:"exit",initial:"initial",variants:SGn})})]})}function jGn(e){if(!e||!e.length)return null;const t=e.map(a=>a.getBoundingClientRect()),n=Math.min(...t.map(a=>a.x))||0,r=Math.min(...t.map(a=>a.y))||0,i=Math.max(...t.map(a=>a.right))||0,o=Math.max(...t.map(a=>a.bottom))||0;return{x:n,y:r,width:i-n,height:o-r,top:r,right:i,bottom:o,left:n}}function IGn(e){const{scrollElement:t,disabled:n,selector:r}=e,[i,o]=p.useState(null),a=p.useCallback(()=>{if(n)return;const s=document==null?void 0:document.querySelectorAll(r);if(!s)return;const l=jGn(Array.from(s));o(l)},[n,r]);return p.useEffect(a,[a]),p.useEffect(()=>{if(!(n||!t))return t.addEventListener("wheel",a),()=>{t.removeEventListener("wheel",a)}},[a,n,t]),i}function $Gn(e){const{scrollElement:t,disabled:n,selector:r}=e,i=IGn({scrollElement:t,disabled:n,selector:r});return p.useMemo(()=>i?{getBoundingClientRect:()=>i}:null,[i])}function DGn(){const e=window.getSelection();let t=null;return e&&e.rangeCount>0&&(t=e.getRangeAt(0)),(t==null?void 0:t.getBoundingClientRect())||null}const OGn=R(na(Fn))`
  user-select: none;
`,MGn=["bottom","top"],PGn={hidden:{opacity:0,y:-4},visible:{opacity:1,y:0}};function RGn(e){const{disabled:t,onClick:n,onClickOutside:r,referenceElement:i}=e,o=p.useRef(null),{t:a}=Q(wi);On(r,()=>[o.current]);const s=a("inline-add-comment-button.disabled-overlap-title"),l=a("inline-add-comment-button.title");return c.jsx(OGn,{animate:"visible",content:c.jsx(ge,{"data-testid":"inline-comment-button",disabled:t,icon:t?Sar:cK,mode:"bleed",onClick:n,ref:o,text:t?s:l}),contentEditable:!1,fallbackPlacements:MGn,initial:"hidden",open:!0,padding:1,placement:"bottom",portal:!0,referenceElement:i,variants:PGn})}const FGn=["bottom","top"],LGn=na(Fn),NGn=R(ae)`
  width: 250px;
`,BGn={hidden:{opacity:0},visible:{opacity:1}};function VGn(e){const{currentUser:t,mentionOptions:n,onChange:r,onClickOutside:i,onDiscardConfirm:o,onSubmit:a,referenceElement:s,value:l}=e,u=p.useRef(null),d=p.useRef(null),f=p.useCallback(()=>{var m;(m=u.current)==null||m.discardDialogController.close(),o()},[o]),h=p.useCallback(()=>{var m;(m=u.current)==null||m.discardDialogController.close()},[]);return On(()=>{var m;if(S0(l)){(m=u.current)==null||m.discardDialogController.open();return}i()},()=>[d.current]),c.jsx(LGn,{animate:"visible",content:c.jsx(NGn,{padding:2,ref:d,children:c.jsx(T0,{currentUser:t,focusLock:!0,focusOnMount:!0,mentionOptions:n,onChange:r,onDiscardCancel:h,onDiscardConfirm:f,onSubmit:a,ref:u,value:l})}),"data-ui":"InlineCommentInputPopover",fallbackPlacements:FGn,initial:"hidden",open:!0,placement:"bottom",portal:!0,referenceElement:s,variants:BGn})}const tc=[],zGn="sanity.assist.instruction.prompt";function UGn(e){const{enabled:t,mode:n}=Dg(),r=e.schemaType.name===zGn;return!t||r?e.renderDefault(e):c.jsx(HGn,{...e,mode:n})}const HGn=p.memo(function(e){var _e,Ie;const{mode:t}=e,n=dr(),r=ap(),{comments:i,getComment:o,mentionOptions:a,onCommentsOpen:s,operation:l,setStatus:u,status:d}=f4(),{setSelectedPath:f,selectedPath:h}=KQ(),{scrollToComment:m,scrollToGroup:g}=GQ(),{handleOpenDialog:y}=YQ(),x=p.useRef(null),b=p.useRef(!1),[v,w]=p.useState(null),[C,k]=p.useState(null),[S,E]=p.useState(null),[_,T]=p.useState(null),[A,I]=p.useState(null),[j,$]=p.useState(null),[D,O]=p.useState(!1),[M,P]=p.useState(null),[F,L]=p.useState(!1),[U,H]=p.useState(tc),N=p.useMemo(()=>rn(e.path),[e.path]),Y=p.useCallback(()=>{const Me=DGn();I(Me)},[]),J=p.useCallback(()=>{T(null),I(null),E(null),k(null),O(!1),w(null)},[]),ee=p.useCallback(()=>{if(t==="upsell"){y("pte");return}E(_)},[_,y,t]),oe=p.useCallback(()=>{J()},[J]),re=p.useMemo(()=>i.data.open.filter(Me=>Me.fieldPath===N).filter(Me=>dC(Me.parentComment)).map(Me=>Me.parentComment),[i.data.open,N]),se=p.useCallback(()=>x.current?Pe.getFragment(x.current):tc,[]),G=p.useCallback(()=>{if(!S||!x.current)return;const Me=se()||tc,Le=Pe.getValue(x.current);if(!Le)return;const et=hWn({fragment:Me,selection:S,value:Le}),Ct=Ca();l.create({type:"field",contentSnapshot:Me,fieldPath:N,message:C,parentCommentId:void 0,reactions:tc,selection:et,status:"open",threadId:Ct}),s==null||s(),d==="resolved"&&u("open"),f({fieldPath:N,threadId:Ct,origin:"form"}),g(Ct),J()},[S,se,l,N,C,s,d,f,g,J,u]),K=p.useCallback(Me=>{var et;const Le=o(Me);Le&&(f({fieldPath:((et=Le.target.path)==null?void 0:et.field)||"",threadId:Le.threadId,origin:"form"}),s==null||s(),m(Le._id))},[o,s,m,f]),q=p.useCallback(Me=>{var et;const Le=(Me==null?void 0:Me.anchor.offset)!==(Me==null?void 0:Me.focus.offset);if(!((et=se())!=null&&et.every(qa))||!Le){O(!1);return}b.current||Y(),T(Me),O(!0)},[se,Y]),X=p.useMemo(()=>Gx(q,200),[q]),ie=p.useCallback(()=>{b.current=!0},[]),te=p.useCallback(()=>{b.current=!1,Y()},[Y]),de=p.useCallback(Me=>{var Ge;const{rangeDecoration:Le,newSelection:et}=Me,Ct=(Ge=Le.payload)==null?void 0:Ge.commentId;H(We=>We.map(ct=>{var qe;return((qe=ct.payload)==null?void 0:qe.commentId)===Ct?{...Le,selection:et,payload:{...Le.payload,dirty:!0}}:ct}))},[]),pe=p.useCallback(()=>{const Me=U.filter(Le=>{var et;return(et=Le.payload)==null?void 0:et.dirty});Me.length!==0&&(Me.forEach(Le=>{var Ur,ro,tn,kn,rt;const et=(Ur=Le.payload)==null?void 0:Ur.commentId,Ct=o(et||"");if(!Ct||!x.current)return;const Ge=Pe.getValue(x.current)||tc,[We]=cNe({comments:[Ct],value:Ge}),ct=We!=null&&We.range?[We.range]:tc,qe=We?[...((tn=(ro=Ct.target.path)==null?void 0:ro.selection)==null?void 0:tn.value.filter($t=>{var Yn;return $t._key!==((Yn=ct[0])==null?void 0:Yn._key)}).concat(ct).flat())||tc]:tc,Zt={target:{...Ct.target,path:{...((kn=Ct.target)==null?void 0:kn.path)||{},field:((rt=Ct.target.path)==null?void 0:rt.field)||"",selection:{type:"text",value:qe}}}};l.update(Ct._id,Zt)}),H(Le=>Le.map(et=>{var Ct,Ge;return(Ge=(Ct=Me.find(We=>{var ct,qe;return((ct=We.payload)==null?void 0:ct.commentId)===((qe=et.payload)==null?void 0:qe.commentId)}))==null?void 0:Ct.payload)!=null&&Ge.dirty?{...et,payload:{...et.payload,dirty:!1}}:et}).filter(et=>et.selection!==null)))},[U,o,l]),ve=p.useCallback(Me=>{if(!x.current)return tc;const Le=Pe.getValue(x.current)||tc;return fWn({comments:Me,currentHoveredCommentId:j,onDecorationClick:K,onDecorationHoverEnd:$,onDecorationHoverStart:$,onDecorationMoved:de,selectedThreadId:(h==null?void 0:h.threadId)||null,value:Le})},[j,K,de,h==null?void 0:h.threadId]),Ce=p.useCallback(Me=>{Me.type==="mutation"&&pe(),Me.type==="selection"&&X(Me.selection)},[X,pe]),xe=p.useMemo(()=>S?{component:({children:Me})=>c.jsx(CVe,{isAuthoring:!0,ref:w,children:Me}),selection:S}:null,[S]),Ae=p.useMemo(()=>[...(e==null?void 0:e.rangeDecorations)||tc,...xe?[xe]:tc,...U],[U,xe,e==null?void 0:e.rangeDecorations]),Re=p.useMemo(()=>!_||U.length===0?!1:U.some(Me=>{if(!x.current)return!1;const Le=Pe.isSelectionsOverlapping(x.current,_,Me.selection),et=Pe.isSelectionsOverlapping(x.current,Me.selection,_);return Le||et}),[U,_]),we=F?document.body:((_e=r.elements)==null?void 0:_e.documentScrollElement)||document.body,ye=F?((Ie=r.elements)==null?void 0:Ie.documentScrollElement)||document.body:M,ke=$Gn({scrollElement:we,disabled:!S||!v,selector:'[data-inline-comment-state="authoring"]'}),be=p.useMemo(()=>A?{getBoundingClientRect:()=>A}:null,[A]);p.useEffect(()=>{if(_)return we==null||we.addEventListener("wheel",Y),()=>{we==null||we.removeEventListener("wheel",Y)}},[_,we,Y]),p.useEffect(()=>{const Me=ve(re);H(Le=>Me.map(et=>{var Ge;const Ct=Le.find(We=>{var ct,qe;return((ct=We.payload)==null?void 0:ct.commentId)===((qe=et.payload)==null?void 0:qe.commentId)});return(Ge=Ct==null?void 0:Ct.payload)!=null&&Ge.dirty?{...et,payload:{...et.payload,dirty:Ct.payload.dirty}}:et}))},[ve,re]);const Ee=!!(_&&D&&be&&!b.current),ce=!!(S&&ke);return c.jsxs(c.Fragment,{children:[c.jsx($h,{element:ye,children:c.jsxs(hf,{children:[ce&&n&&c.jsx(VGn,{currentUser:n,mentionOptions:a,onChange:k,onClickOutside:J,onDiscardConfirm:oe,onSubmit:G,referenceElement:ke,value:C}),Ee&&!ce&&c.jsx(RGn,{disabled:Re,onClick:ee,onClickOutside:J,referenceElement:be})]})}),c.jsx(ae,{ref:P,onMouseDown:ie,onMouseUp:te,children:e.renderDefault({...e,onEditorChange:Ce,editorRef:x,rangeDecorations:Ae,onFullScreenChange:L})})]})});function WGn(e){return P1(e.schemaType)}function GGn(e){return WGn(e)?c.jsx(UGn,{...e}):e.renderDefault(e)}const KGn="https://snty.link/comments-beta-feedback",YGn=R.span`
  margin-right: 0.2em;
`,qGn=R.a`
  white-space: nowrap;
`,ZGn=R(le)({position:"relative",zIndex:1});function XGn(){const{t:e}=Q(wi);return c.jsx(ZGn,{padding:4,children:c.jsxs(B,{muted:!0,size:1,children:[e("feature-feedback.title")," ",c.jsxs(qGn,{href:KGn,target:"_blank",rel:"noreferrer",children:[c.jsxs(YGn,{children:[e("feature-feedback.link")," "]})," ",c.jsx(lp,{})]})]})})}const JGn=R(le)({position:"relative",zIndex:1,lineHeight:0}),QGn=p.forwardRef(function(e,t){const{t:n}=Q(wi),{onClose:r,onViewChange:i,view:o,mode:a}=e,s=p.useCallback(()=>i("open"),[i]),l=p.useCallback(()=>i("resolved"),[i]);return c.jsx(JGn,{ref:t,children:c.jsxs(W,{padding:2,children:[c.jsx(W,{align:"center",flex:1,gap:2,paddingY:2,padding:3,children:c.jsx(B,{as:"h1",size:1,weight:"medium",children:n("feature-name")})}),c.jsxs(W,{flex:"none",padding:1,gap:2,children:[c.jsx(Jt,{id:"comment-status-menu-button",button:c.jsx(ge,{text:n(o==="open"?"status-filter.status-open":"status-filter.status-resolved"),mode:"bleed",iconRight:ea}),menu:c.jsxs(Nt,{style:{width:"180px"},children:[c.jsx(Qe,{iconRight:o==="open"?_a:void 0,onClick:s,text:n("status-filter.status-open-full")}),c.jsx(Qe,{iconRight:o==="resolved"?_a:void 0,onClick:l,text:n("status-filter.status-resolved-full"),tooltipProps:a==="upsell"?{content:n("status-filter.status-resolved-full-upsell")}:void 0,disabled:a==="upsell"})]}),popover:{placement:"bottom-end"}}),c.jsx(ge,{"aria-label":n("close-pane-button-text-aria-label"),icon:eo,mode:"bleed",onClick:r,tooltipProps:{content:n("close-pane-button-text")}})]})]})})}),eKn=R(al)`
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
`;function tKn(e){const{enabled:t,mode:n}=Dg();return t?c.jsx(eKn,{children:c.jsx(nKn,{...e,mode:n})}):null}function nKn(e){const{t}=Q(wi),{onClose:n,mode:r}=e,[i,o]=p.useState(!1),[a,s]=p.useState(null),[l,u]=p.useState(!1),[d,f]=p.useState(null),h=p.useRef(null),m=dr(),{comments:g,getComment:y,isCreatingDataset:x,mentionOptions:b,setStatus:v,status:w,operation:C,selectedCommentId:k,getCommentLink:S,onClearSelectedComment:E,onPathOpen:_}=f4(),T=p.useRef(k),A=p.useRef(!1),I=Nr().push,{isTopLayer:j}=ns(),{scrollToComment:$,scrollToField:D,scrollToInlineComment:O}=GQ(),{selectedPath:M,setSelectedPath:P}=KQ(),{isDismissed:F,setDismissed:L}=$Wn(),U=zWn(),{upsellData:H,telemetryLogs:N}=YQ(),Y=p.useMemo(()=>g.data[w],[g,w]),{loading:J}=g,ee=p.useCallback(we=>{v(we),P(null),U.commentListViewChanged(we)},[P,v,U]),oe=p.useCallback(()=>{n(),P(null)},[n,P]),re=p.useMemo(()=>S?we=>{navigator.clipboard.writeText(S(we)).then(()=>{I({closable:!0,status:"info",title:t("copy-link-success-message")})}).catch(()=>{I({closable:!0,status:"error",title:t("copy-link-error-message")})}),U.commentLinkCopied()}:void 0,[S,I,t,U]),se=p.useCallback(we=>{var ke;const ye=y(we);ye&&C.create({type:"field",fieldPath:((ke=ye.target.path)==null?void 0:ke.field)||"",id:ye._id,message:ye.message,parentCommentId:ye.parentCommentId,reactions:ye.reactions||[],status:ye.status,threadId:ye.threadId})},[y,C]),G=p.useCallback(()=>{l||(o(!1),s(null))},[l]),K=p.useCallback(we=>{if(P(we),we==null?void 0:we.fieldPath){const ye=Ol(we.fieldPath);_==null||_(ye),D(we.fieldPath),g.data.open.filter(ke=>ke.threadId===(we==null?void 0:we.threadId)).some(ke=>dC(ke.parentComment))&&we.threadId&&O(we.threadId)}},[g.data.open,_,D,O,P]),q=p.useCallback(we=>{var ke;const ye=((ke=we==null?void 0:we.payload)==null?void 0:ke.fieldPath)||"";C.create({type:"field",fieldPath:ye,message:we.message,parentCommentId:we.parentCommentId,reactions:we.reactions,status:we.status,threadId:we.threadId}),P({fieldPath:ye,origin:"inspector",threadId:we.threadId})},[C,P]),X=p.useCallback(we=>{var ye;C.create({...we,type:"field",fieldPath:((ye=we==null?void 0:we.payload)==null?void 0:ye.fieldPath)||""})},[C]),ie=p.useCallback((we,ye)=>{C.update(we,ye)},[C]),te=p.useCallback(we=>{var be;const ye=Y.find(Ee=>{var ce;return((ce=Ee.parentComment)==null?void 0:ce._id)===we}),ke=!!(ye&&((be=ye==null?void 0:ye.replies)==null?void 0:be.length)>0);o(!0),s({commentId:we,isParent:ke})},[Y]),de=p.useCallback(async we=>{try{u(!0),await C.remove(we),G()}catch(ye){f(ye)}finally{u(!1)}},[G,C]),pe=p.useCallback((we,ye)=>{var ke;if(C.update(we,{status:ye}),ye==="open"){v("open");const be=y(we);if(!be)return;P({fieldPath:((ke=be.target.path)==null?void 0:ke.field)||null,origin:"inspector",threadId:be.threadId||null}),$(we)}},[y,C,$,P,v]),ve=p.useCallback((we,ye)=>{C.react(we,ye)},[C]),Ce=p.useCallback(()=>{M&&j&&P(null)},[j,M,P]);On(we=>{var ye;we.target instanceof HTMLElement&&((ye=we.target)!=null&&ye.hasAttribute("data-slate-string"))||Ce()},()=>[h.current]);const[xe,Ae]=p.useState(!1);p.useEffect(()=>{if(!(xe||r!=="upsell"))return Ae(!0),(M==null?void 0:M.origin)==="form"?N.panelViewed("field_action"):T.current?N.panelViewed("link"):N.panelViewed("document_action"),()=>{N.panelDismissed()}},[xe,r,M==null?void 0:M.origin,N]),p.useEffect(()=>{var ye;const we=y(T.current||"");!J&&we&&A.current===!1&&(v(we.status||"open"),P({fieldPath:((ye=we.target.path)==null?void 0:ye.field)||null,origin:"url",threadId:we.threadId||null}),$(we._id),A.current=!0,T.current=void 0,E==null||E(),U.commentViewedFromLink())},[y,J,E,$,P,v,U]);const Re=p.useMemo(()=>r==="upsell"&&H?c.jsx(alr,{data:H,onPrimaryClick:N.panelPrimaryClicked,onSecondaryClick:N.panelSecondaryClicked}):null,[r,N.panelPrimaryClicked,N.panelSecondaryClicked,H]);return c.jsxs(p.Fragment,{children:[a&&i&&c.jsx(yVe,{...a,error:d,loading:l,onClose:G,onConfirm:de}),c.jsxs(W,{direction:"column",flex:1,height:"fill",onClick:Ce,overflow:"hidden",ref:h,children:[c.jsx(olr,{onDismiss:L,open:!F,placement:"left-start",children:c.jsx(QGn,{onClose:oe,onViewChange:ee,view:w,mode:r})}),m&&c.jsx(tlr,{beforeListNode:Re,comments:Y,currentUser:m,error:g.error,loading:J,mentionOptions:b,mode:r,onCopyLink:re,onCreateRetry:se,onDelete:te,onEdit:ie,onNewThreadCreate:q,onPathSelect:K,onReactionSelect:ve,onReply:X,onStatusChange:pe,readOnly:x,selectedPath:M,status:w}),r==="default"&&c.jsx(XGn,{})]})]})}function rKn(){const{t:e}=Q(wi),{enabled:t}=Dg();return{hidden:!t,icon:hK,showAsAction:!0,title:e("feature-name")}}const iKn={name:Wk,component:tKn,useMenuItem:rKn};function oKn(e){const{enabled:t,isLoading:n}=M_("studioComments");return c.jsx(sBe,{children:c.jsx(iGn,{children:c.jsx(lw,{condition:!t&&!n,wrapper:r=>c.jsx(bGn,{children:r}),children:e.renderDefault(e)})})})}const aKn=h_({name:"sanity/comments",document:{inspectors:[iKn],components:{unstable_layout:xGn}},form:{components:{field:EGn,input:GGn}},studio:{components:{layout:oKn}},i18n:{bundles:[IHn]}}),mNe="scheduled-publishing::time-zone",UD={publish:{actionName:"Publishing",badgeColor:"primary",badgeTone:"positive"},unpublish:{actionName:"Unpublishing",badgeColor:"danger",badgeTone:"critical"}},v5={scheduled:{title:"Upcoming"},succeeded:{title:"Completed"},cancelled:{title:"Failed"}},b5=Object.keys(v5).filter(e=>!!e),gNe=55,sKn="This document has validation warnings.",ZQ="This document has validation errors that should be resolved before its publish date.",lKn="This schedule failed to run.",cKn="Forbidden. Please check that your project has access to Scheduled Publishing.",Ob={SMALL:"d MMM yy',' p",MEDIUM:"d MMMM yyyy',' p",LARGE:"iiii',' d MMMM yyyy',' p"},uKn={enabled:!0,inputDateTimeFormat:"dd/MM/yyyy HH:mm"},dKn="schedules",fKn="Schedules",yNe=e=>{const{description:t,title:n}=e;return c.jsx(le,{overflow:"hidden",padding:4,radius:2,shadow:1,tone:"critical",children:c.jsxs(W,{align:"center",gap:4,children:[c.jsx(B,{size:2,children:c.jsx(ua,{})}),c.jsxs(Wn,{space:2,children:[c.jsx(B,{size:1,weight:"semibold",children:n}),t&&c.jsx(B,{size:1,children:t})]})]})})};var hKn=[{name:"Pacific/Niue",alternativeName:"Niue Time",group:["Pacific/Niue"],continentCode:"OC",continentName:"Oceania",countryName:"Niue",countryCode:"NU",mainCities:["Alofi"],rawOffsetInMinutes:-660,abbreviation:"NUT",rawFormat:"-11:00 Niue Time - Alofi"},{name:"Pacific/Midway",alternativeName:"Samoa Time",group:["Pacific/Midway"],continentCode:"OC",continentName:"Oceania",countryName:"United States Minor Outlying Islands",countryCode:"UM",mainCities:["Midway"],rawOffsetInMinutes:-660,abbreviation:"SST",rawFormat:"-11:00 Samoa Time - Midway"},{name:"Pacific/Pago_Pago",alternativeName:"Samoa Time",group:["Pacific/Pago_Pago","US/Samoa","Pacific/Samoa","Pacific/Midway"],continentCode:"OC",continentName:"Oceania",countryName:"American Samoa",countryCode:"AS",mainCities:["Pago Pago"],rawOffsetInMinutes:-660,abbreviation:"SST",rawFormat:"-11:00 Samoa Time - Pago Pago"},{name:"Pacific/Rarotonga",alternativeName:"Cook Islands Time",group:["Pacific/Rarotonga"],continentCode:"OC",continentName:"Oceania",countryName:"Cook Islands",countryCode:"CK",mainCities:["Avarua"],rawOffsetInMinutes:-600,abbreviation:"CKT",rawFormat:"-10:00 Cook Islands Time - Avarua"},{name:"America/Adak",alternativeName:"Hawaii-Aleutian Time",group:["America/Adak","US/Aleutian","America/Atka"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["Adak"],rawOffsetInMinutes:-600,abbreviation:"HAST",rawFormat:"-10:00 Hawaii-Aleutian Time - Adak"},{name:"Pacific/Honolulu",alternativeName:"Hawaii-Aleutian Time",group:["Pacific/Honolulu","US/Hawaii","Pacific/Johnston"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["Honolulu","East Honolulu","Pearl City","Hilo"],rawOffsetInMinutes:-600,abbreviation:"HAST",rawFormat:"-10:00 Hawaii-Aleutian Time - Honolulu, East Honolulu, Pearl City, Hilo"},{name:"Pacific/Tahiti",alternativeName:"Tahiti Time",group:["Pacific/Tahiti"],continentCode:"OC",continentName:"Oceania",countryName:"French Polynesia",countryCode:"PF",mainCities:["Faaa","Papeete","Punaauia"],rawOffsetInMinutes:-600,abbreviation:"TAHT",rawFormat:"-10:00 Tahiti Time - Faaa, Papeete, Punaauia"},{name:"Pacific/Marquesas",alternativeName:"Marquesas Time",group:["Pacific/Marquesas"],continentCode:"OC",continentName:"Oceania",countryName:"French Polynesia",countryCode:"PF",mainCities:["Marquesas"],rawOffsetInMinutes:-570,abbreviation:"MART",rawFormat:"-09:30 Marquesas Time - Marquesas"},{name:"America/Anchorage",alternativeName:"Alaska Time",group:["America/Anchorage","America/Juneau","America/Metlakatla","America/Nome","America/Sitka","America/Yakutat","US/Alaska"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["Anchorage","Juneau","Fairbanks","Eagle River"],rawOffsetInMinutes:-540,abbreviation:"AKST",rawFormat:"-09:00 Alaska Time - Anchorage, Juneau, Fairbanks, Eagle River"},{name:"Pacific/Gambier",alternativeName:"Gambier Time",group:["Pacific/Gambier"],continentCode:"OC",continentName:"Oceania",countryName:"French Polynesia",countryCode:"PF",mainCities:["Gambier"],rawOffsetInMinutes:-540,abbreviation:"GAMT",rawFormat:"-09:00 Gambier Time - Gambier"},{name:"America/Los_Angeles",alternativeName:"Pacific Time",group:["America/Los_Angeles","US/Pacific"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["Los Angeles","San Diego","San Jose","San Francisco"],rawOffsetInMinutes:-480,abbreviation:"PST",rawFormat:"-08:00 Pacific Time - Los Angeles, San Diego, San Jose, San Francisco"},{name:"America/Tijuana",alternativeName:"Pacific Time",group:["America/Tijuana","Mexico/BajaNorte","America/Ensenada","America/Santa_Isabel"],continentCode:"NA",continentName:"North America",countryName:"Mexico",countryCode:"MX",mainCities:["Tijuana","Mexicali","Ensenada","Rosarito"],rawOffsetInMinutes:-480,abbreviation:"PST",rawFormat:"-08:00 Pacific Time - Tijuana, Mexicali, Ensenada, Rosarito"},{name:"America/Vancouver",alternativeName:"Pacific Time",group:["America/Vancouver","Canada/Pacific"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Vancouver","Surrey","Okanagan","Victoria"],rawOffsetInMinutes:-480,abbreviation:"PST",rawFormat:"-08:00 Pacific Time - Vancouver, Surrey, Okanagan, Victoria"},{name:"Pacific/Pitcairn",alternativeName:"Pitcairn Time",group:["Pacific/Pitcairn"],continentCode:"OC",continentName:"Oceania",countryName:"Pitcairn",countryCode:"PN",mainCities:["Adamstown"],rawOffsetInMinutes:-480,abbreviation:"PST",rawFormat:"-08:00 Pitcairn Time - Adamstown"},{name:"America/Hermosillo",alternativeName:"Mexican Pacific Time",group:["America/Hermosillo","America/Mazatlan","Mexico/BajaSur"],continentCode:"NA",continentName:"North America",countryName:"Mexico",countryCode:"MX",mainCities:["Hermosillo","Culiacn","Ciudad Obregn","Mazatln"],rawOffsetInMinutes:-420,abbreviation:"GMT-7",rawFormat:"-07:00 Mexican Pacific Time - Hermosillo, Culiacn, Ciudad Obregn, Mazatln"},{name:"America/Edmonton",alternativeName:"Mountain Time",group:["America/Cambridge_Bay","America/Edmonton","America/Inuvik","America/Yellowknife","Canada/Mountain"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Calgary","Edmonton","Red Deer","Sherwood Park"],rawOffsetInMinutes:-420,abbreviation:"MST",rawFormat:"-07:00 Mountain Time - Calgary, Edmonton, Red Deer, Sherwood Park"},{name:"America/Ciudad_Juarez",alternativeName:"Mountain Time",group:["America/Ciudad_Juarez"],continentCode:"NA",continentName:"North America",countryName:"Mexico",countryCode:"MX",mainCities:["Ciudad Jurez"],rawOffsetInMinutes:-420,abbreviation:"MST",rawFormat:"-07:00 Mountain Time - Ciudad Jurez"},{name:"America/Denver",alternativeName:"Mountain Time",group:["America/Boise","America/Denver","Navajo","US/Mountain","America/Shiprock"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["Denver","El Paso","Albuquerque","Colorado Springs"],rawOffsetInMinutes:-420,abbreviation:"MST",rawFormat:"-07:00 Mountain Time - Denver, El Paso, Albuquerque, Colorado Springs"},{name:"America/Phoenix",alternativeName:"Mountain Time",group:["America/Phoenix","US/Arizona","America/Creston"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["Phoenix","Tucson","Mesa","Chandler"],rawOffsetInMinutes:-420,abbreviation:"MST",rawFormat:"-07:00 Mountain Time - Phoenix, Tucson, Mesa, Chandler"},{name:"America/Whitehorse",alternativeName:"Yukon Time",group:["America/Creston","America/Dawson","America/Dawson_Creek","America/Fort_Nelson","America/Whitehorse","Canada/Yukon"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Whitehorse","Fort St. John","Creston","Dawson"],rawOffsetInMinutes:-420,abbreviation:"YT",rawFormat:"-07:00 Yukon Time - Whitehorse, Fort St. John, Creston, Dawson"},{name:"America/Belize",alternativeName:"Central Time",group:["America/Belize"],continentCode:"NA",continentName:"North America",countryName:"Belize",countryCode:"BZ",mainCities:["Belize City","San Ignacio","San Pedro","Orange Walk"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Belize City, San Ignacio, San Pedro, Orange Walk"},{name:"America/Chicago",alternativeName:"Central Time",group:["America/Chicago","America/Indiana/Knox","America/Indiana/Tell_City","America/Menominee","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","US/Central","US/Indiana-Starke","America/Knox_IN"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["Chicago","Houston","San Antonio","Dallas"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Chicago, Houston, San Antonio, Dallas"},{name:"America/Guatemala",alternativeName:"Central Time",group:["America/Guatemala"],continentCode:"NA",continentName:"North America",countryName:"Guatemala",countryCode:"GT",mainCities:["Guatemala City","Villa Nueva","Mixco","Cobn"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Guatemala City, Villa Nueva, Mixco, Cobn"},{name:"America/Managua",alternativeName:"Central Time",group:["America/Managua"],continentCode:"NA",continentName:"North America",countryName:"Nicaragua",countryCode:"NI",mainCities:["Managua","Len","Masaya","Chinandega"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Managua, Len, Masaya, Chinandega"},{name:"America/Mexico_City",alternativeName:"Central Time",group:["America/Bahia_Banderas","America/Chihuahua","America/Merida","America/Mexico_City","America/Monterrey","Mexico/General"],continentCode:"NA",continentName:"North America",countryName:"Mexico",countryCode:"MX",mainCities:["Mexico City","Iztapalapa","Len de los Aldama","Puebla"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Mexico City, Iztapalapa, Len de los Aldama, Puebla"},{name:"America/Matamoros",alternativeName:"Central Time",group:["America/Matamoros","America/Ojinaga"],continentCode:"NA",continentName:"North America",countryName:"Mexico",countryCode:"MX",mainCities:["Reynosa","Heroica Matamoros","Nuevo Laredo","Piedras Negras"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Reynosa, Heroica Matamoros, Nuevo Laredo, Piedras Negras"},{name:"America/Costa_Rica",alternativeName:"Central Time",group:["America/Costa_Rica"],continentCode:"NA",continentName:"North America",countryName:"Costa Rica",countryCode:"CR",mainCities:["San Jos","Limn","San Francisco","Alajuela"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - San Jos, Limn, San Francisco, Alajuela"},{name:"America/El_Salvador",alternativeName:"Central Time",group:["America/El_Salvador"],continentCode:"NA",continentName:"North America",countryName:"El Salvador",countryCode:"SV",mainCities:["San Salvador","Soyapango","San Miguel","Santa Ana"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - San Salvador, Soyapango, San Miguel, Santa Ana"},{name:"America/Regina",alternativeName:"Central Time",group:["America/Regina","America/Swift_Current","Canada/Saskatchewan"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Saskatoon","Regina","Prince Albert","Moose Jaw"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Saskatoon, Regina, Prince Albert, Moose Jaw"},{name:"America/Tegucigalpa",alternativeName:"Central Time",group:["America/Tegucigalpa"],continentCode:"NA",continentName:"North America",countryName:"Honduras",countryCode:"HN",mainCities:["Tegucigalpa","San Pedro Sula","La Ceiba","Choloma"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Tegucigalpa, San Pedro Sula, La Ceiba, Choloma"},{name:"America/Winnipeg",alternativeName:"Central Time",group:["America/Rankin_Inlet","America/Resolute","America/Winnipeg","Canada/Central","America/Rainy_River"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Winnipeg","Brandon","Steinbach","Kenora"],rawOffsetInMinutes:-360,abbreviation:"CST",rawFormat:"-06:00 Central Time - Winnipeg, Brandon, Steinbach, Kenora"},{name:"Pacific/Easter",alternativeName:"Easter Island Time",group:["Pacific/Easter","Chile/EasterIsland"],continentCode:"SA",continentName:"South America",countryName:"Chile",countryCode:"CL",mainCities:["Easter"],rawOffsetInMinutes:-360,abbreviation:"EAST",rawFormat:"-06:00 Easter Island Time - Easter"},{name:"Pacific/Galapagos",alternativeName:"Galapagos Time",group:["Pacific/Galapagos"],continentCode:"SA",continentName:"South America",countryName:"Ecuador",countryCode:"EC",mainCities:["Galapagos"],rawOffsetInMinutes:-360,abbreviation:"GALT",rawFormat:"-06:00 Galapagos Time - Galapagos"},{name:"America/Rio_Branco",alternativeName:"Acre Time",group:["America/Eirunepe","America/Rio_Branco","Brazil/Acre","America/Porto_Acre"],continentCode:"SA",continentName:"South America",countryName:"Brazil",countryCode:"BR",mainCities:["Rio Branco","Cruzeiro do Sul","Senador Guiomard","Sena Madureira"],rawOffsetInMinutes:-300,abbreviation:"ACT",rawFormat:"-05:00 Acre Time - Rio Branco, Cruzeiro do Sul, Senador Guiomard, Sena Madureira"},{name:"America/Bogota",alternativeName:"Colombia Time",group:["America/Bogota"],continentCode:"SA",continentName:"South America",countryName:"Colombia",countryCode:"CO",mainCities:["Bogot","Cali","Medelln","Barranquilla"],rawOffsetInMinutes:-300,abbreviation:"COT",rawFormat:"-05:00 Colombia Time - Bogot, Cali, Medelln, Barranquilla"},{name:"America/Havana",alternativeName:"Cuba Time",group:["America/Havana","Cuba"],continentCode:"NA",continentName:"North America",countryName:"Cuba",countryCode:"CU",mainCities:["Havana","Santiago de Cuba","Camagey","Holgun"],rawOffsetInMinutes:-300,abbreviation:"CST",rawFormat:"-05:00 Cuba Time - Havana, Santiago de Cuba, Camagey, Holgun"},{name:"America/Atikokan",alternativeName:"Eastern Time",group:["America/Atikokan"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Atikokan"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Atikokan"},{name:"America/Cancun",alternativeName:"Eastern Time",group:["America/Cancun"],continentCode:"NA",continentName:"North America",countryName:"Mexico",countryCode:"MX",mainCities:["Cancn","Chetumal","Playa del Carmen","Cozumel"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Cancn, Chetumal, Playa del Carmen, Cozumel"},{name:"America/Grand_Turk",alternativeName:"Eastern Time",group:["America/Grand_Turk"],continentCode:"NA",continentName:"North America",countryName:"Turks and Caicos Islands",countryCode:"TC",mainCities:["Cockburn Town"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Cockburn Town"},{name:"America/Cayman",alternativeName:"Eastern Time",group:["America/Cayman"],continentCode:"NA",continentName:"North America",countryName:"Cayman Islands",countryCode:"KY",mainCities:["George Town","West Bay"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - George Town, West Bay"},{name:"America/Jamaica",alternativeName:"Eastern Time",group:["America/Jamaica","Jamaica"],continentCode:"NA",continentName:"North America",countryName:"Jamaica",countryCode:"JM",mainCities:["Kingston","New Kingston","Spanish Town","Portmore"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Kingston, New Kingston, Spanish Town, Portmore"},{name:"America/Nassau",alternativeName:"Eastern Time",group:["America/Nassau"],continentCode:"NA",continentName:"North America",countryName:"Bahamas",countryCode:"BS",mainCities:["Nassau","Lucaya","Freeport","Killarney"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Nassau, Lucaya, Freeport, Killarney"},{name:"America/New_York",alternativeName:"Eastern Time",group:["America/Detroit","America/Indiana/Indianapolis","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Kentucky/Louisville","America/Kentucky/Monticello","America/New_York","US/Michigan","US/East-Indiana","America/Indianapolis","America/Fort_Wayne","America/Louisville","US/Eastern"],continentCode:"NA",continentName:"North America",countryName:"United States",countryCode:"US",mainCities:["New York City","Brooklyn","Queens","Philadelphia"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - New York City, Brooklyn, Queens, Philadelphia"},{name:"America/Panama",alternativeName:"Eastern Time",group:["America/Panama","America/Atikokan","America/Cayman","America/Coral_Harbour"],continentCode:"NA",continentName:"North America",countryName:"Panama",countryCode:"PA",mainCities:["Panam","San Miguelito","Juan Daz","David"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Panam, San Miguelito, Juan Daz, David"},{name:"America/Port-au-Prince",alternativeName:"Eastern Time",group:["America/Port-au-Prince"],continentCode:"NA",continentName:"North America",countryName:"Haiti",countryCode:"HT",mainCities:["Port-au-Prince","Carrefour","Delmas 73","Port-de-Paix"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Port-au-Prince, Carrefour, Delmas 73, Port-de-Paix"},{name:"America/Toronto",alternativeName:"Eastern Time",group:["America/Iqaluit","America/Toronto","America/Pangnirtung","Canada/Eastern","America/Nassau","America/Montreal","America/Nipigon","America/Thunder_Bay"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Toronto","Montral","Ottawa","Mississauga"],rawOffsetInMinutes:-300,abbreviation:"EST",rawFormat:"-05:00 Eastern Time - Toronto, Montral, Ottawa, Mississauga"},{name:"America/Guayaquil",alternativeName:"Ecuador Time",group:["America/Guayaquil"],continentCode:"SA",continentName:"South America",countryName:"Ecuador",countryCode:"EC",mainCities:["Quito","Guayaquil","Cuenca","Santo Domingo de los Colorados"],rawOffsetInMinutes:-300,abbreviation:"ECT",rawFormat:"-05:00 Ecuador Time - Quito, Guayaquil, Cuenca, Santo Domingo de los Colorados"},{name:"America/Lima",alternativeName:"Peru Time",group:["America/Lima"],continentCode:"SA",continentName:"South America",countryName:"Peru",countryCode:"PE",mainCities:["Lima","Callao","Arequipa","Trujillo"],rawOffsetInMinutes:-300,abbreviation:"PET",rawFormat:"-05:00 Peru Time - Lima, Callao, Arequipa, Trujillo"},{name:"America/Manaus",alternativeName:"Amazon Time",group:["America/Boa_Vista","America/Campo_Grande","America/Cuiaba","America/Manaus","America/Porto_Velho","Brazil/West"],continentCode:"SA",continentName:"South America",countryName:"Brazil",countryCode:"BR",mainCities:["Manaus","Campo Grande","Cuiab","Porto Velho"],rawOffsetInMinutes:-240,abbreviation:"AMT",rawFormat:"-04:00 Amazon Time - Manaus, Campo Grande, Cuiab, Porto Velho"},{name:"America/St_Kitts",alternativeName:"Atlantic Time",group:["America/St_Kitts"],continentCode:"NA",continentName:"North America",countryName:"Saint Kitts and Nevis",countryCode:"KN",mainCities:["Basseterre"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Basseterre"},{name:"America/Blanc-Sablon",alternativeName:"Atlantic Time",group:["America/Blanc-Sablon"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Blanc-Sablon"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Blanc-Sablon"},{name:"America/Montserrat",alternativeName:"Atlantic Time",group:["America/Montserrat"],continentCode:"NA",continentName:"North America",countryName:"Montserrat",countryCode:"MS",mainCities:["Brades","Plymouth"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Brades, Plymouth"},{name:"America/Barbados",alternativeName:"Atlantic Time",group:["America/Barbados"],continentCode:"NA",continentName:"North America",countryName:"Barbados",countryCode:"BB",mainCities:["Bridgetown"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Bridgetown"},{name:"America/Port_of_Spain",alternativeName:"Atlantic Time",group:["America/Port_of_Spain"],continentCode:"NA",continentName:"North America",countryName:"Trinidad and Tobago",countryCode:"TT",mainCities:["Chaguanas","Mon Repos","San Fernando","Port of Spain"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Chaguanas, Mon Repos, San Fernando, Port of Spain"},{name:"America/Martinique",alternativeName:"Atlantic Time",group:["America/Martinique"],continentCode:"NA",continentName:"North America",countryName:"Martinique",countryCode:"MQ",mainCities:["Fort-de-France","Le Lamentin","Le Robert","Sainte-Marie"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Fort-de-France, Le Lamentin, Le Robert, Sainte-Marie"},{name:"America/St_Lucia",alternativeName:"Atlantic Time",group:["America/St_Lucia"],continentCode:"NA",continentName:"North America",countryName:"Saint Lucia",countryCode:"LC",mainCities:["Gros Islet","Castries"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Gros Islet, Castries"},{name:"America/St_Barthelemy",alternativeName:"Atlantic Time",group:["America/St_Barthelemy"],continentCode:"NA",continentName:"North America",countryName:"Saint Barthelemy",countryCode:"BL",mainCities:["Gustavia"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Gustavia"},{name:"America/Halifax",alternativeName:"Atlantic Time",group:["America/Glace_Bay","America/Goose_Bay","America/Halifax","America/Moncton","Canada/Atlantic"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["Halifax","Moncton","Sydney","Dartmouth"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Halifax, Moncton, Sydney, Dartmouth"},{name:"Atlantic/Bermuda",alternativeName:"Atlantic Time",group:["Atlantic/Bermuda"],continentCode:"NA",continentName:"North America",countryName:"Bermuda",countryCode:"BM",mainCities:["Hamilton"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Hamilton"},{name:"America/St_Vincent",alternativeName:"Atlantic Time",group:["America/St_Vincent"],continentCode:"NA",continentName:"North America",countryName:"Saint Vincent and the Grenadines",countryCode:"VC",mainCities:["Kingstown"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Kingstown"},{name:"America/Kralendijk",alternativeName:"Atlantic Time",group:["America/Kralendijk"],continentCode:"NA",continentName:"North America",countryName:"Bonaire, Saint Eustatius and Saba ",countryCode:"BQ",mainCities:["Kralendijk"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Kralendijk"},{name:"America/Guadeloupe",alternativeName:"Atlantic Time",group:["America/Guadeloupe"],continentCode:"NA",continentName:"North America",countryName:"Guadeloupe",countryCode:"GP",mainCities:["Les Abymes","Baie-Mahault","Le Gosier","Petit-Bourg"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Les Abymes, Baie-Mahault, Le Gosier, Petit-Bourg"},{name:"America/Marigot",alternativeName:"Atlantic Time",group:["America/Marigot"],continentCode:"NA",continentName:"North America",countryName:"Saint Martin",countryCode:"MF",mainCities:["Marigot"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Marigot"},{name:"America/Aruba",alternativeName:"Atlantic Time",group:["America/Aruba"],continentCode:"NA",continentName:"North America",countryName:"Aruba",countryCode:"AW",mainCities:["Oranjestad","Noord","Tanki Leendert","San Nicolas"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Oranjestad, Noord, Tanki Leendert, San Nicolas"},{name:"America/Lower_Princes",alternativeName:"Atlantic Time",group:["America/Lower_Princes"],continentCode:"NA",continentName:"North America",countryName:"Sint Maarten",countryCode:"SX",mainCities:["Philipsburg"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Philipsburg"},{name:"America/Tortola",alternativeName:"Atlantic Time",group:["America/Tortola"],continentCode:"NA",continentName:"North America",countryName:"British Virgin Islands",countryCode:"VG",mainCities:["Road Town"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Road Town"},{name:"America/Dominica",alternativeName:"Atlantic Time",group:["America/Dominica"],continentCode:"NA",continentName:"North America",countryName:"Dominica",countryCode:"DM",mainCities:["Roseau"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Roseau"},{name:"America/St_Thomas",alternativeName:"Atlantic Time",group:["America/St_Thomas"],continentCode:"NA",continentName:"North America",countryName:"U.S. Virgin Islands",countryCode:"VI",mainCities:["Saint Croix","Charlotte Amalie"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Saint Croix, Charlotte Amalie"},{name:"America/Grenada",alternativeName:"Atlantic Time",group:["America/Grenada"],continentCode:"NA",continentName:"North America",countryName:"Grenada",countryCode:"GD",mainCities:["Saint George's"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Saint George's"},{name:"America/Antigua",alternativeName:"Atlantic Time",group:["America/Antigua"],continentCode:"NA",continentName:"North America",countryName:"Antigua and Barbuda",countryCode:"AG",mainCities:["Saint Johns"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Saint Johns"},{name:"America/Puerto_Rico",alternativeName:"Atlantic Time",group:["America/Puerto_Rico","America/Virgin","America/Anguilla","America/Antigua","America/Aruba","America/Blanc-Sablon","America/Curacao","America/Dominica","America/Grenada","America/Guadeloupe","America/Kralendijk","America/Lower_Princes","America/Marigot","America/Montserrat","America/Port_of_Spain","America/St_Barthelemy","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Tortola"],continentCode:"NA",continentName:"North America",countryName:"Puerto Rico",countryCode:"PR",mainCities:["San Juan","Bayamn","Carolina","Ponce"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - San Juan, Bayamn, Carolina, Ponce"},{name:"America/Santo_Domingo",alternativeName:"Atlantic Time",group:["America/Santo_Domingo"],continentCode:"NA",continentName:"North America",countryName:"Dominican Republic",countryCode:"DO",mainCities:["Santo Domingo","Santiago de los Caballeros","Santo Domingo Oeste","Santo Domingo Este"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Santo Domingo, Santiago de los Caballeros, Santo Domingo Oeste, Santo Domingo Este"},{name:"America/Anguilla",alternativeName:"Atlantic Time",group:["America/Anguilla"],continentCode:"NA",continentName:"North America",countryName:"Anguilla",countryCode:"AI",mainCities:["The Valley"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - The Valley"},{name:"America/Thule",alternativeName:"Atlantic Time",group:["America/Thule"],continentCode:"NA",continentName:"North America",countryName:"Greenland",countryCode:"GL",mainCities:["Thule"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Thule"},{name:"America/Curacao",alternativeName:"Atlantic Time",group:["America/Curacao"],continentCode:"NA",continentName:"North America",countryName:"Curacao",countryCode:"CW",mainCities:["Willemstad"],rawOffsetInMinutes:-240,abbreviation:"AST",rawFormat:"-04:00 Atlantic Time - Willemstad"},{name:"America/La_Paz",alternativeName:"Bolivia Time",group:["America/La_Paz"],continentCode:"SA",continentName:"South America",countryName:"Bolivia",countryCode:"BO",mainCities:["La Paz","Santa Cruz de la Sierra","Cochabamba","Sucre"],rawOffsetInMinutes:-240,abbreviation:"BOT",rawFormat:"-04:00 Bolivia Time - La Paz, Santa Cruz de la Sierra, Cochabamba, Sucre"},{name:"America/Santiago",alternativeName:"Chile Time",group:["America/Santiago","Chile/Continental"],continentCode:"SA",continentName:"South America",countryName:"Chile",countryCode:"CL",mainCities:["Santiago","Puente Alto","Antofagasta","Via del Mar"],rawOffsetInMinutes:-240,abbreviation:"CLT",rawFormat:"-04:00 Chile Time - Santiago, Puente Alto, Antofagasta, Via del Mar"},{name:"America/Guyana",alternativeName:"Guyana Time",group:["America/Guyana"],continentCode:"SA",continentName:"South America",countryName:"Guyana",countryCode:"GY",mainCities:["Georgetown","Linden","New Amsterdam"],rawOffsetInMinutes:-240,abbreviation:"GYT",rawFormat:"-04:00 Guyana Time - Georgetown, Linden, New Amsterdam"},{name:"America/Asuncion",alternativeName:"Paraguay Time",group:["America/Asuncion"],continentCode:"SA",continentName:"South America",countryName:"Paraguay",countryCode:"PY",mainCities:["Asuncin","Ciudad del Este","San Lorenzo","Capiat"],rawOffsetInMinutes:-240,abbreviation:"PYT",rawFormat:"-04:00 Paraguay Time - Asuncin, Ciudad del Este, San Lorenzo, Capiat"},{name:"America/Caracas",alternativeName:"Venezuela Time",group:["America/Caracas"],continentCode:"SA",continentName:"South America",countryName:"Venezuela",countryCode:"VE",mainCities:["Caracas","Maracaibo","Maracay","Valencia"],rawOffsetInMinutes:-240,abbreviation:"VET",rawFormat:"-04:00 Venezuela Time - Caracas, Maracaibo, Maracay, Valencia"},{name:"America/St_Johns",alternativeName:"Newfoundland Time",group:["America/St_Johns","Canada/Newfoundland"],continentCode:"NA",continentName:"North America",countryName:"Canada",countryCode:"CA",mainCities:["St. John's","Mount Pearl","Corner Brook","Conception Bay South"],rawOffsetInMinutes:-210,abbreviation:"NST",rawFormat:"-03:30 Newfoundland Time - St. John's, Mount Pearl, Corner Brook, Conception Bay South"},{name:"America/Argentina/Buenos_Aires",alternativeName:"Argentina Time",group:["America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Buenos_Aires","America/Catamarca","America/Argentina/ComodRivadavia","America/Cordoba","America/Rosario","America/Jujuy","America/Mendoza"],continentCode:"SA",continentName:"South America",countryName:"Argentina",countryCode:"AR",mainCities:["Buenos Aires","Crdoba","Rosario","Mar del Plata"],rawOffsetInMinutes:-180,abbreviation:"ART",rawFormat:"-03:00 Argentina Time - Buenos Aires, Crdoba, Rosario, Mar del Plata"},{name:"America/Sao_Paulo",alternativeName:"Brasilia Time",group:["America/Araguaina","America/Bahia","America/Belem","America/Fortaleza","America/Maceio","America/Recife","America/Santarem","America/Sao_Paulo","Brazil/East"],continentCode:"SA",continentName:"South America",countryName:"Brazil",countryCode:"BR",mainCities:["So Paulo","Rio de Janeiro","Belo Horizonte","Salvador"],rawOffsetInMinutes:-180,abbreviation:"BRT",rawFormat:"-03:00 Brasilia Time - So Paulo, Rio de Janeiro, Belo Horizonte, Salvador"},{name:"Antarctica/Palmer",alternativeName:"Chile Time",group:["Antarctica/Palmer","Antarctica/Rothera"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["Palmer","Rothera"],rawOffsetInMinutes:-180,abbreviation:"CLT",rawFormat:"-03:00 Chile Time - Palmer, Rothera"},{name:"America/Punta_Arenas",alternativeName:"Chile Time",group:["America/Punta_Arenas"],continentCode:"SA",continentName:"South America",countryName:"Chile",countryCode:"CL",mainCities:["Punta Arenas","Puerto Natales"],rawOffsetInMinutes:-180,abbreviation:"CLT",rawFormat:"-03:00 Chile Time - Punta Arenas, Puerto Natales"},{name:"Atlantic/Stanley",alternativeName:"Falkland Islands Time",group:["Atlantic/Stanley"],continentCode:"SA",continentName:"South America",countryName:"Falkland Islands",countryCode:"FK",mainCities:["Stanley"],rawOffsetInMinutes:-180,abbreviation:"FKST",rawFormat:"-03:00 Falkland Islands Time - Stanley"},{name:"America/Cayenne",alternativeName:"French Guiana Time",group:["America/Cayenne"],continentCode:"SA",continentName:"South America",countryName:"French Guiana",countryCode:"GF",mainCities:["Cayenne","Matoury","Saint-Laurent-du-Maroni","Kourou"],rawOffsetInMinutes:-180,abbreviation:"GFT",rawFormat:"-03:00 French Guiana Time - Cayenne, Matoury, Saint-Laurent-du-Maroni, Kourou"},{name:"America/Miquelon",alternativeName:"St. Pierre & Miquelon Time",group:["America/Miquelon"],continentCode:"NA",continentName:"North America",countryName:"Saint Pierre and Miquelon",countryCode:"PM",mainCities:["Saint-Pierre"],rawOffsetInMinutes:-180,abbreviation:"PM",rawFormat:"-03:00 St. Pierre & Miquelon Time - Saint-Pierre"},{name:"America/Paramaribo",alternativeName:"Suriname Time",group:["America/Paramaribo"],continentCode:"SA",continentName:"South America",countryName:"Suriname",countryCode:"SR",mainCities:["Paramaribo","Lelydorp"],rawOffsetInMinutes:-180,abbreviation:"SRT",rawFormat:"-03:00 Suriname Time - Paramaribo, Lelydorp"},{name:"America/Montevideo",alternativeName:"Uruguay Time",group:["America/Montevideo"],continentCode:"SA",continentName:"South America",countryName:"Uruguay",countryCode:"UY",mainCities:["Montevideo","Salto","Paysand","Las Piedras"],rawOffsetInMinutes:-180,abbreviation:"UYT",rawFormat:"-03:00 Uruguay Time - Montevideo, Salto, Paysand, Las Piedras"},{name:"America/Scoresbysund",alternativeName:"East Greenland Time",group:["America/Scoresbysund"],continentCode:"NA",continentName:"North America",countryName:"Greenland",countryCode:"GL",mainCities:["Scoresbysund"],rawOffsetInMinutes:-120,abbreviation:"EGT",rawFormat:"-02:00 East Greenland Time - Scoresbysund"},{name:"America/Noronha",alternativeName:"Fernando de Noronha Time",group:["America/Noronha","Brazil/DeNoronha"],continentCode:"SA",continentName:"South America",countryName:"Brazil",countryCode:"BR",mainCities:["Noronha"],rawOffsetInMinutes:-120,abbreviation:"FNT",rawFormat:"-02:00 Fernando de Noronha Time - Noronha"},{name:"Atlantic/South_Georgia",alternativeName:"South Georgia Time",group:["Atlantic/South_Georgia"],continentCode:"AN",continentName:"Antarctica",countryName:"South Georgia and the South Sandwich Islands",countryCode:"GS",mainCities:["Grytviken"],rawOffsetInMinutes:-120,abbreviation:"GST",rawFormat:"-02:00 South Georgia Time - Grytviken"},{name:"America/Nuuk",alternativeName:"West Greenland Time",group:["America/Nuuk","America/Godthab"],continentCode:"NA",continentName:"North America",countryName:"Greenland",countryCode:"GL",mainCities:["Nuuk"],rawOffsetInMinutes:-120,abbreviation:"WGT",rawFormat:"-02:00 West Greenland Time - Nuuk"},{name:"Atlantic/Azores",alternativeName:"Azores Time",group:["Atlantic/Azores"],continentCode:"EU",continentName:"Europe",countryName:"Portugal",countryCode:"PT",mainCities:["Ponta Delgada"],rawOffsetInMinutes:-60,abbreviation:"AZOT",rawFormat:"-01:00 Azores Time - Ponta Delgada"},{name:"Atlantic/Cape_Verde",alternativeName:"Cape Verde Time",group:["Atlantic/Cape_Verde"],continentCode:"AF",continentName:"Africa",countryName:"Cabo Verde",countryCode:"CV",mainCities:["Praia","Mindelo","Espargos","Assomada"],rawOffsetInMinutes:-60,abbreviation:"CVT",rawFormat:"-01:00 Cape Verde Time - Praia, Mindelo, Espargos, Assomada"},{name:"Africa/Abidjan",alternativeName:"Greenwich Mean Time",group:["Africa/Abidjan","Iceland","Africa/Accra","Africa/Bamako","Africa/Banjul","Africa/Conakry","Africa/Dakar","Africa/Freetown","Africa/Lome","Africa/Nouakchott","Africa/Ouagadougou","Atlantic/Reykjavik","Atlantic/St_Helena","Africa/Timbuktu"],continentCode:"AF",continentName:"Africa",countryName:"Ivory Coast",countryCode:"CI",mainCities:["Abidjan","Abobo","Bouak","Korhogo"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Abidjan, Abobo, Bouak, Korhogo"},{name:"Africa/Bamako",alternativeName:"Greenwich Mean Time",group:["Africa/Bamako"],continentCode:"AF",continentName:"Africa",countryName:"Mali",countryCode:"ML",mainCities:["Bamako","Sikasso","Koutiala","Sgou"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Bamako, Sikasso, Koutiala, Sgou"},{name:"Africa/Bissau",alternativeName:"Greenwich Mean Time",group:["Africa/Bissau"],continentCode:"AF",continentName:"Africa",countryName:"Guinea-Bissau",countryCode:"GW",mainCities:["Bissau","Gab","Bafat"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Bissau, Gab, Bafat"},{name:"Africa/Conakry",alternativeName:"Greenwich Mean Time",group:["Africa/Conakry"],continentCode:"AF",continentName:"Africa",countryName:"Guinea",countryCode:"GN",mainCities:["Conakry","Camayenne","Nzrkor","Kankan"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Conakry, Camayenne, Nzrkor, Kankan"},{name:"Africa/Dakar",alternativeName:"Greenwich Mean Time",group:["Africa/Dakar"],continentCode:"AF",continentName:"Africa",countryName:"Senegal",countryCode:"SN",mainCities:["Dakar","Pikine","Touba","This"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Dakar, Pikine, Touba, This"},{name:"America/Danmarkshavn",alternativeName:"Greenwich Mean Time",group:["America/Danmarkshavn"],continentCode:"NA",continentName:"North America",countryName:"Greenland",countryCode:"GL",mainCities:["Danmarkshavn"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Danmarkshavn"},{name:"Europe/Isle_of_Man",alternativeName:"Greenwich Mean Time",group:["Europe/Isle_of_Man"],continentCode:"EU",continentName:"Europe",countryName:"Isle of Man",countryCode:"IM",mainCities:["Douglas"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Douglas"},{name:"Europe/Dublin",alternativeName:"Greenwich Mean Time",group:["Europe/Dublin","Eire"],continentCode:"EU",continentName:"Europe",countryName:"Ireland",countryCode:"IE",mainCities:["Dublin","South Dublin","Cork","Limerick"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Dublin, South Dublin, Cork, Limerick"},{name:"Africa/Freetown",alternativeName:"Greenwich Mean Time",group:["Africa/Freetown"],continentCode:"AF",continentName:"Africa",countryName:"Sierra Leone",countryCode:"SL",mainCities:["Freetown","Bo","Kenema","Koidu"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Freetown, Bo, Kenema, Koidu"},{name:"Atlantic/St_Helena",alternativeName:"Greenwich Mean Time",group:["Atlantic/St_Helena"],continentCode:"AF",continentName:"Africa",countryName:"Saint Helena",countryCode:"SH",mainCities:["Jamestown"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Jamestown"},{name:"Africa/Accra",alternativeName:"Greenwich Mean Time",group:["Africa/Accra"],continentCode:"AF",continentName:"Africa",countryName:"Ghana",countryCode:"GH",mainCities:["Kumasi","Accra","Tamale","Takoradi"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Kumasi, Accra, Tamale, Takoradi"},{name:"Africa/Lome",alternativeName:"Greenwich Mean Time",group:["Africa/Lome"],continentCode:"AF",continentName:"Africa",countryName:"Togo",countryCode:"TG",mainCities:["Lom","Sokod","Kara","Atakpam"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Lom, Sokod, Kara, Atakpam"},{name:"Europe/London",alternativeName:"Greenwich Mean Time",group:["Europe/London","GB","GB-Eire","Europe/Guernsey","Europe/Isle_of_Man","Europe/Jersey","Europe/Belfast"],continentCode:"EU",continentName:"Europe",countryName:"United Kingdom",countryCode:"GB",mainCities:["London","Birmingham","Liverpool","Glasgow"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - London, Birmingham, Liverpool, Glasgow"},{name:"Africa/Monrovia",alternativeName:"Greenwich Mean Time",group:["Africa/Monrovia"],continentCode:"AF",continentName:"Africa",countryName:"Liberia",countryCode:"LR",mainCities:["Monrovia","Gbarnga","Buchanan","Ganta"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Monrovia, Gbarnga, Buchanan, Ganta"},{name:"Africa/Nouakchott",alternativeName:"Greenwich Mean Time",group:["Africa/Nouakchott"],continentCode:"AF",continentName:"Africa",countryName:"Mauritania",countryCode:"MR",mainCities:["Nouakchott","Nouadhibou","Kiffa","Dar Naim"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Nouakchott, Nouadhibou, Kiffa, Dar Naim"},{name:"Africa/Ouagadougou",alternativeName:"Greenwich Mean Time",group:["Africa/Ouagadougou"],continentCode:"AF",continentName:"Africa",countryName:"Burkina Faso",countryCode:"BF",mainCities:["Ouagadougou","Bobo-Dioulasso","Koudougou","Saaba"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Ouagadougou, Bobo-Dioulasso, Koudougou, Saaba"},{name:"Atlantic/Reykjavik",alternativeName:"Greenwich Mean Time",group:["Atlantic/Reykjavik","Iceland"],continentCode:"EU",continentName:"Europe",countryName:"Iceland",countryCode:"IS",mainCities:["Reykjavk","Kpavogur","Hafnarfjrur","Reykjanesbr"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Reykjavk, Kpavogur, Hafnarfjrur, Reykjanesbr"},{name:"Europe/Jersey",alternativeName:"Greenwich Mean Time",group:["Europe/Jersey"],continentCode:"EU",continentName:"Europe",countryName:"Jersey",countryCode:"JE",mainCities:["Saint Helier"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Saint Helier"},{name:"Europe/Guernsey",alternativeName:"Greenwich Mean Time",group:["Europe/Guernsey"],continentCode:"EU",continentName:"Europe",countryName:"Guernsey",countryCode:"GG",mainCities:["Saint Peter Port"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Saint Peter Port"},{name:"Africa/Banjul",alternativeName:"Greenwich Mean Time",group:["Africa/Banjul"],continentCode:"AF",continentName:"Africa",countryName:"Gambia",countryCode:"GM",mainCities:["Serekunda","Brikama","Bununka Kunda","Sukuta"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Serekunda, Brikama, Bununka Kunda, Sukuta"},{name:"Africa/Sao_Tome",alternativeName:"Greenwich Mean Time",group:["Africa/Sao_Tome"],continentCode:"AF",continentName:"Africa",countryName:"Sao Tome and Principe",countryCode:"ST",mainCities:["So Tom"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - So Tom"},{name:"Antarctica/Troll",alternativeName:"Greenwich Mean Time",group:["Antarctica/Troll"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["Troll"],rawOffsetInMinutes:0,abbreviation:"GMT",rawFormat:"+00:00 Greenwich Mean Time - Troll"},{name:"Africa/Casablanca",alternativeName:"Western European Time",group:["Africa/Casablanca"],continentCode:"AF",continentName:"Africa",countryName:"Morocco",countryCode:"MA",mainCities:["Casablanca","Rabat","Fes","Tangier"],rawOffsetInMinutes:0,abbreviation:"WET",rawFormat:"+00:00 Western European Time - Casablanca, Rabat, Fes, Tangier"},{name:"Africa/El_Aaiun",alternativeName:"Western European Time",group:["Africa/El_Aaiun"],continentCode:"AF",continentName:"Africa",countryName:"Western Sahara",countryCode:"EH",mainCities:["Laayoune","Dakhla","Boujdour"],rawOffsetInMinutes:0,abbreviation:"WET",rawFormat:"+00:00 Western European Time - Laayoune, Dakhla, Boujdour"},{name:"Atlantic/Canary",alternativeName:"Western European Time",group:["Atlantic/Canary"],continentCode:"EU",continentName:"Europe",countryName:"Spain",countryCode:"ES",mainCities:["Las Palmas de Gran Canaria","Santa Cruz de Tenerife","La Laguna","Telde"],rawOffsetInMinutes:0,abbreviation:"WET",rawFormat:"+00:00 Western European Time - Las Palmas de Gran Canaria, Santa Cruz de Tenerife, La Laguna, Telde"},{name:"Europe/Lisbon",alternativeName:"Western European Time",group:["Atlantic/Madeira","Europe/Lisbon","Portugal"],continentCode:"EU",continentName:"Europe",countryName:"Portugal",countryCode:"PT",mainCities:["Lisbon","Porto","Amadora","Braga"],rawOffsetInMinutes:0,abbreviation:"WET",rawFormat:"+00:00 Western European Time - Lisbon, Porto, Amadora, Braga"},{name:"Atlantic/Faroe",alternativeName:"Western European Time",group:["Atlantic/Faroe","Atlantic/Faeroe"],continentCode:"EU",continentName:"Europe",countryName:"Faroe Islands",countryCode:"FO",mainCities:["Trshavn"],rawOffsetInMinutes:0,abbreviation:"WET",rawFormat:"+00:00 Western European Time - Trshavn"},{name:"Africa/Windhoek",alternativeName:"Central Africa Time",group:["Africa/Windhoek"],continentCode:"AF",continentName:"Africa",countryName:"Namibia",countryCode:"NA",mainCities:["Windhoek","Rundu","Walvis Bay","Swakopmund"],rawOffsetInMinutes:60,abbreviation:"CAT",rawFormat:"+01:00 Central Africa Time - Windhoek, Rundu, Walvis Bay, Swakopmund"},{name:"Africa/Algiers",alternativeName:"Central European Time",group:["Africa/Algiers"],continentCode:"AF",continentName:"Africa",countryName:"Algeria",countryCode:"DZ",mainCities:["Algiers","Oran","Constantine","Annaba"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Algiers, Oran, Constantine, Annaba"},{name:"Europe/Amsterdam",alternativeName:"Central European Time",group:["Europe/Amsterdam"],continentCode:"EU",continentName:"Europe",countryName:"The Netherlands",countryCode:"NL",mainCities:["Amsterdam","Rotterdam","The Hague","Utrecht"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Amsterdam, Rotterdam, The Hague, Utrecht"},{name:"Europe/Andorra",alternativeName:"Central European Time",group:["Europe/Andorra"],continentCode:"EU",continentName:"Europe",countryName:"Andorra",countryCode:"AD",mainCities:["Andorra la Vella","les Escaldes"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Andorra la Vella, les Escaldes"},{name:"Europe/Belgrade",alternativeName:"Central European Time",group:["Europe/Belgrade","Europe/Ljubljana","Europe/Podgorica","Europe/Sarajevo","Europe/Skopje","Europe/Zagreb"],continentCode:"EU",continentName:"Europe",countryName:"Serbia",countryCode:"RS",mainCities:["Belgrade","Ni","Novi Sad","Zemun"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Belgrade, Ni, Novi Sad, Zemun"},{name:"Europe/Berlin",alternativeName:"Central European Time",group:["Europe/Berlin","Europe/Busingen","Arctic/Longyearbyen","Europe/Copenhagen","Europe/Oslo","Europe/Stockholm","Atlantic/Jan_Mayen"],continentCode:"EU",continentName:"Europe",countryName:"Germany",countryCode:"DE",mainCities:["Berlin","Hamburg","Munich","Kln"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Berlin, Hamburg, Munich, Kln"},{name:"Europe/Bratislava",alternativeName:"Central European Time",group:["Europe/Bratislava"],continentCode:"EU",continentName:"Europe",countryName:"Slovakia",countryCode:"SK",mainCities:["Bratislava","Koice","Nitra","Preov"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Bratislava, Koice, Nitra, Preov"},{name:"Europe/Brussels",alternativeName:"Central European Time",group:["Europe/Brussels","Europe/Amsterdam","Europe/Luxembourg"],continentCode:"EU",continentName:"Europe",countryName:"Belgium",countryCode:"BE",mainCities:["Brussels","Antwerpen","Gent","Charleroi"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Brussels, Antwerpen, Gent, Charleroi"},{name:"Europe/Budapest",alternativeName:"Central European Time",group:["Europe/Budapest"],continentCode:"EU",continentName:"Europe",countryName:"Hungary",countryCode:"HU",mainCities:["Budapest","Debrecen","Szeged","Miskolc"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Budapest, Debrecen, Szeged, Miskolc"},{name:"Europe/Copenhagen",alternativeName:"Central European Time",group:["Europe/Copenhagen"],continentCode:"EU",continentName:"Europe",countryName:"Denmark",countryCode:"DK",mainCities:["Copenhagen","rhus","Odense","Aalborg"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Copenhagen, rhus, Odense, Aalborg"},{name:"Europe/Gibraltar",alternativeName:"Central European Time",group:["Europe/Gibraltar"],continentCode:"EU",continentName:"Europe",countryName:"Gibraltar",countryCode:"GI",mainCities:["Gibraltar"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Gibraltar"},{name:"Europe/Ljubljana",alternativeName:"Central European Time",group:["Europe/Ljubljana"],continentCode:"EU",continentName:"Europe",countryName:"Slovenia",countryCode:"SI",mainCities:["Ljubljana","Maribor","Kranj","Celje"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Ljubljana, Maribor, Kranj, Celje"},{name:"Arctic/Longyearbyen",alternativeName:"Central European Time",group:["Arctic/Longyearbyen"],continentCode:"EU",continentName:"Europe",countryName:"Svalbard and Jan Mayen",countryCode:"SJ",mainCities:["Longyearbyen"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Longyearbyen"},{name:"Europe/Luxembourg",alternativeName:"Central European Time",group:["Europe/Luxembourg"],continentCode:"EU",continentName:"Europe",countryName:"Luxembourg",countryCode:"LU",mainCities:["Luxembourg","Esch-sur-Alzette","Dudelange"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Luxembourg, Esch-sur-Alzette, Dudelange"},{name:"Europe/Madrid",alternativeName:"Central European Time",group:["Africa/Ceuta","Europe/Madrid"],continentCode:"EU",continentName:"Europe",countryName:"Spain",countryCode:"ES",mainCities:["Madrid","Barcelona","Valencia","Sevilla"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Madrid, Barcelona, Valencia, Sevilla"},{name:"Europe/Monaco",alternativeName:"Central European Time",group:["Europe/Monaco"],continentCode:"EU",continentName:"Europe",countryName:"Monaco",countryCode:"MC",mainCities:["Monaco","Monte-Carlo"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Monaco, Monte-Carlo"},{name:"Europe/Oslo",alternativeName:"Central European Time",group:["Europe/Oslo","Atlantic/Jan_Mayen"],continentCode:"EU",continentName:"Europe",countryName:"Norway",countryCode:"NO",mainCities:["Oslo","Bergen","Trondheim","Stavanger"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Oslo, Bergen, Trondheim, Stavanger"},{name:"Europe/Paris",alternativeName:"Central European Time",group:["Europe/Paris","Europe/Monaco"],continentCode:"EU",continentName:"Europe",countryName:"France",countryCode:"FR",mainCities:["Paris","Marseille","Lyon","Toulouse"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Paris, Marseille, Lyon, Toulouse"},{name:"Europe/Podgorica",alternativeName:"Central European Time",group:["Europe/Podgorica"],continentCode:"EU",continentName:"Europe",countryName:"Montenegro",countryCode:"ME",mainCities:["Podgorica","Niki","Herceg Novi","Pljevlja"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Podgorica, Niki, Herceg Novi, Pljevlja"},{name:"Europe/Prague",alternativeName:"Central European Time",group:["Europe/Prague","Europe/Bratislava"],continentCode:"EU",continentName:"Europe",countryName:"Czechia",countryCode:"CZ",mainCities:["Prague","Brno","Ostrava","Pilsen"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Prague, Brno, Ostrava, Pilsen"},{name:"Europe/Rome",alternativeName:"Central European Time",group:["Europe/Rome","Europe/San_Marino","Europe/Vatican"],continentCode:"EU",continentName:"Europe",countryName:"Italy",countryCode:"IT",mainCities:["Rome","Milan","Naples","Turin"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Rome, Milan, Naples, Turin"},{name:"Europe/San_Marino",alternativeName:"Central European Time",group:["Europe/San_Marino"],continentCode:"EU",continentName:"Europe",countryName:"San Marino",countryCode:"SM",mainCities:["San Marino"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - San Marino"},{name:"Europe/Malta",alternativeName:"Central European Time",group:["Europe/Malta"],continentCode:"EU",continentName:"Europe",countryName:"Malta",countryCode:"MT",mainCities:["San Pawl il-Baar","Birkirkara","Mosta","Sliema"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - San Pawl il-Baar, Birkirkara, Mosta, Sliema"},{name:"Europe/Sarajevo",alternativeName:"Central European Time",group:["Europe/Sarajevo"],continentCode:"EU",continentName:"Europe",countryName:"Bosnia and Herzegovina",countryCode:"BA",mainCities:["Sarajevo","Banja Luka","Zenica","Tuzla"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Sarajevo, Banja Luka, Zenica, Tuzla"},{name:"Europe/Skopje",alternativeName:"Central European Time",group:["Europe/Skopje"],continentCode:"EU",continentName:"Europe",countryName:"North Macedonia",countryCode:"MK",mainCities:["Skopje","Kumanovo","Prilep","Bitola"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Skopje, Kumanovo, Prilep, Bitola"},{name:"Europe/Stockholm",alternativeName:"Central European Time",group:["Europe/Stockholm"],continentCode:"EU",continentName:"Europe",countryName:"Sweden",countryCode:"SE",mainCities:["Stockholm","Gteborg","Malm","Uppsala"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Stockholm, Gteborg, Malm, Uppsala"},{name:"Europe/Tirane",alternativeName:"Central European Time",group:["Europe/Tirane"],continentCode:"EU",continentName:"Europe",countryName:"Albania",countryCode:"AL",mainCities:["Tirana","Durrs","Elbasan","Vlor"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Tirana, Durrs, Elbasan, Vlor"},{name:"Africa/Tunis",alternativeName:"Central European Time",group:["Africa/Tunis"],continentCode:"AF",continentName:"Africa",countryName:"Tunisia",countryCode:"TN",mainCities:["Tunis","Sfax","Sousse","Kairouan"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Tunis, Sfax, Sousse, Kairouan"},{name:"Europe/Vaduz",alternativeName:"Central European Time",group:["Europe/Vaduz"],continentCode:"EU",continentName:"Europe",countryName:"Liechtenstein",countryCode:"LI",mainCities:["Vaduz"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Vaduz"},{name:"Europe/Vatican",alternativeName:"Central European Time",group:["Europe/Vatican"],continentCode:"EU",continentName:"Europe",countryName:"Vatican",countryCode:"VA",mainCities:["Vatican City"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Vatican City"},{name:"Europe/Vienna",alternativeName:"Central European Time",group:["Europe/Vienna"],continentCode:"EU",continentName:"Europe",countryName:"Austria",countryCode:"AT",mainCities:["Vienna","Graz","Linz","Favoriten"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Vienna, Graz, Linz, Favoriten"},{name:"Europe/Warsaw",alternativeName:"Central European Time",group:["Europe/Warsaw","Poland"],continentCode:"EU",continentName:"Europe",countryName:"Poland",countryCode:"PL",mainCities:["Warsaw","d","Krakw","Wrocaw"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Warsaw, d, Krakw, Wrocaw"},{name:"Europe/Zagreb",alternativeName:"Central European Time",group:["Europe/Zagreb"],continentCode:"EU",continentName:"Europe",countryName:"Croatia",countryCode:"HR",mainCities:["Zagreb","Split","Rijeka","Osijek"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Zagreb, Split, Rijeka, Osijek"},{name:"Europe/Zurich",alternativeName:"Central European Time",group:["Europe/Zurich","Europe/Busingen","Europe/Vaduz"],continentCode:"EU",continentName:"Europe",countryName:"Switzerland",countryCode:"CH",mainCities:["Zrich","Genve","Basel","Lausanne"],rawOffsetInMinutes:60,abbreviation:"CET",rawFormat:"+01:00 Central European Time - Zrich, Genve, Basel, Lausanne"},{name:"Africa/Bangui",alternativeName:"West Africa Time",group:["Africa/Bangui"],continentCode:"AF",continentName:"Africa",countryName:"Central African Republic",countryCode:"CF",mainCities:["Bangui","Bimbo","Bgoua","Carnot"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Bangui, Bimbo, Bgoua, Carnot"},{name:"Africa/Malabo",alternativeName:"West Africa Time",group:["Africa/Malabo"],continentCode:"AF",continentName:"Africa",countryName:"Equatorial Guinea",countryCode:"GQ",mainCities:["Bata","Malabo","Ebebiyin"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Bata, Malabo, Ebebiyin"},{name:"Africa/Brazzaville",alternativeName:"West Africa Time",group:["Africa/Brazzaville"],continentCode:"AF",continentName:"Africa",countryName:"Republic of the Congo",countryCode:"CG",mainCities:["Brazzaville","Pointe-Noire","Dolisie","Nkayi"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Brazzaville, Pointe-Noire, Dolisie, Nkayi"},{name:"Africa/Porto-Novo",alternativeName:"West Africa Time",group:["Africa/Porto-Novo"],continentCode:"AF",continentName:"Africa",countryName:"Benin",countryCode:"BJ",mainCities:["Cotonou","Abomey-Calavi","Porto-Novo","Parakou"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Cotonou, Abomey-Calavi, Porto-Novo, Parakou"},{name:"Africa/Douala",alternativeName:"West Africa Time",group:["Africa/Douala"],continentCode:"AF",continentName:"Africa",countryName:"Cameroon",countryCode:"CM",mainCities:["Douala","Yaound","Bamenda","Bafoussam"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Douala, Yaound, Bamenda, Bafoussam"},{name:"Africa/Kinshasa",alternativeName:"West Africa Time",group:["Africa/Kinshasa"],continentCode:"AF",continentName:"Africa",countryName:"Democratic Republic of the Congo",countryCode:"CD",mainCities:["Kinshasa","Kikwit","Masina","Mbandaka"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Kinshasa, Kikwit, Masina, Mbandaka"},{name:"Africa/Lagos",alternativeName:"West Africa Time",group:["Africa/Lagos","Africa/Bangui","Africa/Brazzaville","Africa/Douala","Africa/Kinshasa","Africa/Libreville","Africa/Luanda","Africa/Malabo","Africa/Niamey","Africa/Porto-Novo"],continentCode:"AF",continentName:"Africa",countryName:"Nigeria",countryCode:"NG",mainCities:["Lagos","Kano","Ibadan","Abuja"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Lagos, Kano, Ibadan, Abuja"},{name:"Africa/Libreville",alternativeName:"West Africa Time",group:["Africa/Libreville"],continentCode:"AF",continentName:"Africa",countryName:"Gabon",countryCode:"GA",mainCities:["Libreville","Port-Gentil","Franceville","Owendo"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Libreville, Port-Gentil, Franceville, Owendo"},{name:"Africa/Luanda",alternativeName:"West Africa Time",group:["Africa/Luanda"],continentCode:"AF",continentName:"Africa",countryName:"Angola",countryCode:"AO",mainCities:["Luanda","Lubango","Huambo","Benguela"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Luanda, Lubango, Huambo, Benguela"},{name:"Africa/Ndjamena",alternativeName:"West Africa Time",group:["Africa/Ndjamena"],continentCode:"AF",continentName:"Africa",countryName:"Chad",countryCode:"TD",mainCities:["N'Djamena","Moundou","Abch","Sarh"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - N'Djamena, Moundou, Abch, Sarh"},{name:"Africa/Niamey",alternativeName:"West Africa Time",group:["Africa/Niamey"],continentCode:"AF",continentName:"Africa",countryName:"Niger",countryCode:"NE",mainCities:["Niamey","Maradi","Zinder","Tahoua"],rawOffsetInMinutes:60,abbreviation:"WAT",rawFormat:"+01:00 West Africa Time - Niamey, Maradi, Zinder, Tahoua"},{name:"Africa/Bujumbura",alternativeName:"Central Africa Time",group:["Africa/Bujumbura"],continentCode:"AF",continentName:"Africa",countryName:"Burundi",countryCode:"BI",mainCities:["Bujumbura","Gitega","Ngozi","Rumonge"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Bujumbura, Gitega, Ngozi, Rumonge"},{name:"Africa/Gaborone",alternativeName:"Central Africa Time",group:["Africa/Gaborone"],continentCode:"AF",continentName:"Africa",countryName:"Botswana",countryCode:"BW",mainCities:["Gaborone","Francistown","Mogoditshane","Maun"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Gaborone, Francistown, Mogoditshane, Maun"},{name:"Africa/Harare",alternativeName:"Central Africa Time",group:["Africa/Harare"],continentCode:"AF",continentName:"Africa",countryName:"Zimbabwe",countryCode:"ZW",mainCities:["Harare","Bulawayo","Chitungwiza","Mutare"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Harare, Bulawayo, Chitungwiza, Mutare"},{name:"Africa/Juba",alternativeName:"Central Africa Time",group:["Africa/Juba"],continentCode:"AF",continentName:"Africa",countryName:"South Sudan",countryCode:"SS",mainCities:["Juba","Winejok","Yei","Malakal"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Juba, Winejok, Yei, Malakal"},{name:"Africa/Khartoum",alternativeName:"Central Africa Time",group:["Africa/Khartoum"],continentCode:"AF",continentName:"Africa",countryName:"Sudan",countryCode:"SD",mainCities:["Khartoum","Omdurman","Nyala","Port Sudan"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Khartoum, Omdurman, Nyala, Port Sudan"},{name:"Africa/Kigali",alternativeName:"Central Africa Time",group:["Africa/Kigali"],continentCode:"AF",continentName:"Africa",countryName:"Rwanda",countryCode:"RW",mainCities:["Kigali","Gisenyi","Butare","Gitarama"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Kigali, Gisenyi, Butare, Gitarama"},{name:"Africa/Blantyre",alternativeName:"Central Africa Time",group:["Africa/Blantyre"],continentCode:"AF",continentName:"Africa",countryName:"Malawi",countryCode:"MW",mainCities:["Lilongwe","Blantyre","Mzuzu","Zomba"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Lilongwe, Blantyre, Mzuzu, Zomba"},{name:"Africa/Lubumbashi",alternativeName:"Central Africa Time",group:["Africa/Lubumbashi"],continentCode:"AF",continentName:"Africa",countryName:"Democratic Republic of the Congo",countryCode:"CD",mainCities:["Lubumbashi","Mbuji-Mayi","Kananga","Kisangani"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Lubumbashi, Mbuji-Mayi, Kananga, Kisangani"},{name:"Africa/Lusaka",alternativeName:"Central Africa Time",group:["Africa/Lusaka"],continentCode:"AF",continentName:"Africa",countryName:"Zambia",countryCode:"ZM",mainCities:["Lusaka","Ndola","Kitwe","Chipata"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Lusaka, Ndola, Kitwe, Chipata"},{name:"Africa/Maputo",alternativeName:"Central Africa Time",group:["Africa/Maputo","Africa/Blantyre","Africa/Bujumbura","Africa/Gaborone","Africa/Harare","Africa/Kigali","Africa/Lubumbashi","Africa/Lusaka"],continentCode:"AF",continentName:"Africa",countryName:"Mozambique",countryCode:"MZ",mainCities:["Maputo","Matola","Nampula","Beira"],rawOffsetInMinutes:120,abbreviation:"CAT",rawFormat:"+02:00 Central Africa Time - Maputo, Matola, Nampula, Beira"},{name:"Europe/Athens",alternativeName:"Eastern European Time",group:["Europe/Athens"],continentCode:"EU",continentName:"Europe",countryName:"Greece",countryCode:"GR",mainCities:["Athens","Thessalonki","Ptra","Piraeus"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Athens, Thessalonki, Ptra, Piraeus"},{name:"Asia/Beirut",alternativeName:"Eastern European Time",group:["Asia/Beirut"],continentCode:"AS",continentName:"Asia",countryName:"Lebanon",countryCode:"LB",mainCities:["Beirut","Ras Bayrt","Tripoli","Sidon"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Beirut, Ras Bayrt, Tripoli, Sidon"},{name:"Europe/Bucharest",alternativeName:"Eastern European Time",group:["Europe/Bucharest"],continentCode:"EU",continentName:"Europe",countryName:"Romania",countryCode:"RO",mainCities:["Bucharest","Sector 3","Iai","Sector 6"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Bucharest, Sector 3, Iai, Sector 6"},{name:"Africa/Cairo",alternativeName:"Eastern European Time",group:["Africa/Cairo","Egypt"],continentCode:"AF",continentName:"Africa",countryName:"Egypt",countryCode:"EG",mainCities:["Cairo","Alexandria","Giza","Shubr al Khaymah"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Cairo, Alexandria, Giza, Shubr al Khaymah"},{name:"Europe/Chisinau",alternativeName:"Eastern European Time",group:["Europe/Chisinau","Europe/Tiraspol"],continentCode:"EU",continentName:"Europe",countryName:"Moldova",countryCode:"MD",mainCities:["Chisinau","Tiraspol","Bli","Bender"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Chisinau, Tiraspol, Bli, Bender"},{name:"Asia/Hebron",alternativeName:"Eastern European Time",group:["Asia/Gaza","Asia/Hebron"],continentCode:"AS",continentName:"Asia",countryName:"Palestinian Territory",countryCode:"PS",mainCities:["East Jerusalem","Gaza","Khn Ynis","Jably"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - East Jerusalem, Gaza, Khn Ynis, Jably"},{name:"Europe/Helsinki",alternativeName:"Eastern European Time",group:["Europe/Helsinki","Europe/Mariehamn"],continentCode:"EU",continentName:"Europe",countryName:"Finland",countryCode:"FI",mainCities:["Helsinki","Espoo","Tampere","Oulu"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Helsinki, Espoo, Tampere, Oulu"},{name:"Europe/Kaliningrad",alternativeName:"Eastern European Time",group:["Europe/Kaliningrad"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Kaliningrad","Chernyakhovsk","Sovetsk","Baltiysk"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Kaliningrad, Chernyakhovsk, Sovetsk, Baltiysk"},{name:"Europe/Kyiv",alternativeName:"Eastern European Time",group:["Europe/Kyiv","Europe/Uzhgorod","Europe/Zaporozhye","Europe/Kiev"],continentCode:"EU",continentName:"Europe",countryName:"Ukraine",countryCode:"UA",mainCities:["Kyiv","Kharkiv","Odesa","Dnipro"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Kyiv, Kharkiv, Odesa, Dnipro"},{name:"Europe/Mariehamn",alternativeName:"Eastern European Time",group:["Europe/Mariehamn"],continentCode:"EU",continentName:"Europe",countryName:"Aland Islands",countryCode:"AX",mainCities:["Mariehamn"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Mariehamn"},{name:"Asia/Nicosia",alternativeName:"Eastern European Time",group:["Asia/Famagusta","Asia/Nicosia","Europe/Nicosia"],continentCode:"EU",continentName:"Europe",countryName:"Cyprus",countryCode:"CY",mainCities:["Nicosia","Limassol","Larnaca","Strvolos"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Nicosia, Limassol, Larnaca, Strvolos"},{name:"Europe/Riga",alternativeName:"Eastern European Time",group:["Europe/Riga"],continentCode:"EU",continentName:"Europe",countryName:"Latvia",countryCode:"LV",mainCities:["Riga","Daugavpils","Liepja","Jelgava"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Riga, Daugavpils, Liepja, Jelgava"},{name:"Europe/Sofia",alternativeName:"Eastern European Time",group:["Europe/Sofia"],continentCode:"EU",continentName:"Europe",countryName:"Bulgaria",countryCode:"BG",mainCities:["Sofia","Plovdiv","Varna","Burgas"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Sofia, Plovdiv, Varna, Burgas"},{name:"Europe/Tallinn",alternativeName:"Eastern European Time",group:["Europe/Tallinn"],continentCode:"EU",continentName:"Europe",countryName:"Estonia",countryCode:"EE",mainCities:["Tallinn","Tartu","Narva","Prnu"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Tallinn, Tartu, Narva, Prnu"},{name:"Africa/Tripoli",alternativeName:"Eastern European Time",group:["Africa/Tripoli","Libya"],continentCode:"AF",continentName:"Africa",countryName:"Libya",countryCode:"LY",mainCities:["Tripoli","Benghazi","Misratah","Zliten"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Tripoli, Benghazi, Misratah, Zliten"},{name:"Europe/Vilnius",alternativeName:"Eastern European Time",group:["Europe/Vilnius"],continentCode:"EU",continentName:"Europe",countryName:"Lithuania",countryCode:"LT",mainCities:["Vilnius","Kaunas","Klaipda","iauliai"],rawOffsetInMinutes:120,abbreviation:"EET",rawFormat:"+02:00 Eastern European Time - Vilnius, Kaunas, Klaipda, iauliai"},{name:"Asia/Jerusalem",alternativeName:"Israel Time",group:["Asia/Jerusalem","Israel","Asia/Tel_Aviv"],continentCode:"AS",continentName:"Asia",countryName:"Israel",countryCode:"IL",mainCities:["Jerusalem","Tel Aviv","West Jerusalem","Haifa"],rawOffsetInMinutes:120,abbreviation:"IST",rawFormat:"+02:00 Israel Time - Jerusalem, Tel Aviv, West Jerusalem, Haifa"},{name:"Africa/Johannesburg",alternativeName:"South Africa Time",group:["Africa/Johannesburg","Africa/Maseru","Africa/Mbabane"],continentCode:"AF",continentName:"Africa",countryName:"South Africa",countryCode:"ZA",mainCities:["Johannesburg","Cape Town","Durban","Soweto"],rawOffsetInMinutes:120,abbreviation:"SAST",rawFormat:"+02:00 South Africa Time - Johannesburg, Cape Town, Durban, Soweto"},{name:"Africa/Mbabane",alternativeName:"South Africa Time",group:["Africa/Mbabane"],continentCode:"AF",continentName:"Africa",countryName:"Eswatini",countryCode:"SZ",mainCities:["Manzini","Mbabane","Lobamba"],rawOffsetInMinutes:120,abbreviation:"SAST",rawFormat:"+02:00 South Africa Time - Manzini, Mbabane, Lobamba"},{name:"Africa/Maseru",alternativeName:"South Africa Time",group:["Africa/Maseru"],continentCode:"AF",continentName:"Africa",countryName:"Lesotho",countryCode:"LS",mainCities:["Maseru","Maputsoe","Mohale's Hoek","Mafeteng"],rawOffsetInMinutes:120,abbreviation:"SAST",rawFormat:"+02:00 South Africa Time - Maseru, Maputsoe, Mohale's Hoek, Mafeteng"},{name:"Asia/Kuwait",alternativeName:"Arabian Time",group:["Asia/Kuwait"],continentCode:"AS",continentName:"Asia",countryName:"Kuwait",countryCode:"KW",mainCities:["Al Amad","awall","As Slimyah","ab as Slim"],rawOffsetInMinutes:180,abbreviation:"AST",rawFormat:"+03:00 Arabian Time - Al Amad, awall, As Slimyah, ab as Slim"},{name:"Asia/Bahrain",alternativeName:"Arabian Time",group:["Asia/Bahrain"],continentCode:"AS",continentName:"Asia",countryName:"Bahrain",countryCode:"BH",mainCities:["Ar Rif","Manama","Al Muharraq","Dr Kulayb"],rawOffsetInMinutes:180,abbreviation:"AST",rawFormat:"+03:00 Arabian Time - Ar Rif, Manama, Al Muharraq, Dr Kulayb"},{name:"Asia/Baghdad",alternativeName:"Arabian Time",group:["Asia/Baghdad"],continentCode:"AS",continentName:"Asia",countryName:"Iraq",countryCode:"IQ",mainCities:["Baghdad","Al Mawil al Jaddah","Al Barah al Qadmah","Mosul"],rawOffsetInMinutes:180,abbreviation:"AST",rawFormat:"+03:00 Arabian Time - Baghdad, Al Mawil al Jaddah, Al Barah al Qadmah, Mosul"},{name:"Asia/Qatar",alternativeName:"Arabian Time",group:["Asia/Qatar","Asia/Bahrain"],continentCode:"AS",continentName:"Asia",countryName:"Qatar",countryCode:"QA",mainCities:["Doha","Ar Rayyn","Al Mar al Atq","Al Manrah"],rawOffsetInMinutes:180,abbreviation:"AST",rawFormat:"+03:00 Arabian Time - Doha, Ar Rayyn, Al Mar al Atq, Al Manrah"},{name:"Asia/Riyadh",alternativeName:"Arabian Time",group:["Asia/Riyadh","Antarctica/Syowa","Asia/Aden","Asia/Kuwait"],continentCode:"AS",continentName:"Asia",countryName:"Saudi Arabia",countryCode:"SA",mainCities:["Jeddah","Riyadh","Mecca","Medina"],rawOffsetInMinutes:180,abbreviation:"AST",rawFormat:"+03:00 Arabian Time - Jeddah, Riyadh, Mecca, Medina"},{name:"Asia/Aden",alternativeName:"Arabian Time",group:["Asia/Aden"],continentCode:"AS",continentName:"Asia",countryName:"Yemen",countryCode:"YE",mainCities:["Sanaa","Aden","Al udaydah","Taiz"],rawOffsetInMinutes:180,abbreviation:"AST",rawFormat:"+03:00 Arabian Time - Sanaa, Aden, Al udaydah, Taiz"},{name:"Asia/Amman",alternativeName:"Asia/Amman",group:["Asia/Amman"],continentCode:"AS",continentName:"Asia",countryName:"Jordan",countryCode:"JO",mainCities:["Amman","Zarqa","Irbid","Russeifa"],rawOffsetInMinutes:180,abbreviation:"GMT+3",rawFormat:"+03:00 Asia/Amman - Amman, Zarqa, Irbid, Russeifa"},{name:"Asia/Damascus",alternativeName:"Asia/Damascus",group:["Asia/Damascus"],continentCode:"AS",continentName:"Asia",countryName:"Syria",countryCode:"SY",mainCities:["Aleppo","Damascus","Homs","Latakia"],rawOffsetInMinutes:180,abbreviation:"GMT+3",rawFormat:"+03:00 Asia/Damascus - Aleppo, Damascus, Homs, Latakia"},{name:"Africa/Addis_Ababa",alternativeName:"East Africa Time",group:["Africa/Addis_Ababa"],continentCode:"AF",continentName:"Africa",countryName:"Ethiopia",countryCode:"ET",mainCities:["Addis Ababa","Jijiga","Gonder","Mek'ele"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Addis Ababa, Jijiga, Gonder, Mek'ele"},{name:"Indian/Antananarivo",alternativeName:"East Africa Time",group:["Indian/Antananarivo"],continentCode:"AF",continentName:"Africa",countryName:"Madagascar",countryCode:"MG",mainCities:["Antananarivo","Toamasina","Antsirabe","Mahajanga"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Antananarivo, Toamasina, Antsirabe, Mahajanga"},{name:"Africa/Asmara",alternativeName:"East Africa Time",group:["Africa/Asmara"],continentCode:"AF",continentName:"Africa",countryName:"Eritrea",countryCode:"ER",mainCities:["Asmara","Keren","Himora","Massawa"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Asmara, Keren, Himora, Massawa"},{name:"Africa/Dar_es_Salaam",alternativeName:"East Africa Time",group:["Africa/Dar_es_Salaam"],continentCode:"AF",continentName:"Africa",countryName:"Tanzania",countryCode:"TZ",mainCities:["Dar es Salaam","Mwanza","Arusha","Mbeya"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Dar es Salaam, Mwanza, Arusha, Mbeya"},{name:"Africa/Djibouti",alternativeName:"East Africa Time",group:["Africa/Djibouti"],continentCode:"AF",continentName:"Africa",countryName:"Djibouti",countryCode:"DJ",mainCities:["Djibouti","Ali Sabih","Dikhil","Tadjoura"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Djibouti, Ali Sabih, Dikhil, Tadjoura"},{name:"Africa/Kampala",alternativeName:"East Africa Time",group:["Africa/Kampala"],continentCode:"AF",continentName:"Africa",countryName:"Uganda",countryCode:"UG",mainCities:["Kampala","Gulu","Lira","Mbarara"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Kampala, Gulu, Lira, Mbarara"},{name:"Indian/Mayotte",alternativeName:"East Africa Time",group:["Indian/Mayotte"],continentCode:"AF",continentName:"Africa",countryName:"Mayotte",countryCode:"YT",mainCities:["Mamoudzou","Koungou","Labattoir","Kaouni"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Mamoudzou, Koungou, Labattoir, Kaouni"},{name:"Africa/Mogadishu",alternativeName:"East Africa Time",group:["Africa/Mogadishu"],continentCode:"AF",continentName:"Africa",countryName:"Somalia",countryCode:"SO",mainCities:["Mogadishu","Borama","Hargeysa","Berbera"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Mogadishu, Borama, Hargeysa, Berbera"},{name:"Indian/Comoro",alternativeName:"East Africa Time",group:["Indian/Comoro"],continentCode:"AF",continentName:"Africa",countryName:"Comoros",countryCode:"KM",mainCities:["Moroni","Moutsamoudou","Fomboni"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Moroni, Moutsamoudou, Fomboni"},{name:"Africa/Nairobi",alternativeName:"East Africa Time",group:["Africa/Nairobi","Africa/Addis_Ababa","Africa/Asmara","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Kampala","Africa/Mogadishu","Indian/Antananarivo","Indian/Comoro","Indian/Mayotte","Africa/Asmera"],continentCode:"AF",continentName:"Africa",countryName:"Kenya",countryCode:"KE",mainCities:["Nairobi","Kakamega","Mombasa","Nakuru"],rawOffsetInMinutes:180,abbreviation:"EAT",rawFormat:"+03:00 East Africa Time - Nairobi, Kakamega, Mombasa, Nakuru"},{name:"Europe/Minsk",alternativeName:"Moscow Time",group:["Europe/Minsk"],continentCode:"EU",continentName:"Europe",countryName:"Belarus",countryCode:"BY",mainCities:["Minsk","Homyel'","Hrodna","Mahilyow"],rawOffsetInMinutes:180,abbreviation:"MSK",rawFormat:"+03:00 Moscow Time - Minsk, Homyel', Hrodna, Mahilyow"},{name:"Europe/Moscow",alternativeName:"Moscow Time",group:["Europe/Kirov","Europe/Moscow","Europe/Volgograd","W-SU"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Moscow","Saint Petersburg","Nizhniy Novgorod","Kazan"],rawOffsetInMinutes:180,abbreviation:"MSK",rawFormat:"+03:00 Moscow Time - Moscow, Saint Petersburg, Nizhniy Novgorod, Kazan"},{name:"Europe/Simferopol",alternativeName:"Moscow Time",group:["Europe/Simferopol"],continentCode:"EU",continentName:"Europe",countryName:"Ukraine",countryCode:"UA",mainCities:["Sevastopol","Simferopol","Kerch","Yevpatoriya"],rawOffsetInMinutes:180,abbreviation:"MSK",rawFormat:"+03:00 Moscow Time - Sevastopol, Simferopol, Kerch, Yevpatoriya"},{name:"Antarctica/Syowa",alternativeName:"Syowa Time",group:["Antarctica/Syowa"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["Syowa"],rawOffsetInMinutes:180,abbreviation:"SYOT",rawFormat:"+03:00 Syowa Time - Syowa"},{name:"Europe/Istanbul",alternativeName:"Turkey Time",group:["Europe/Istanbul","Turkey","Asia/Istanbul"],continentCode:"AS",continentName:"Asia",countryName:"Turkey",countryCode:"TR",mainCities:["Istanbul","Ankara","Bursa","zmir"],rawOffsetInMinutes:180,abbreviation:"TRT",rawFormat:"+03:00 Turkey Time - Istanbul, Ankara, Bursa, zmir"},{name:"Asia/Tehran",alternativeName:"Iran Time",group:["Asia/Tehran","Iran"],continentCode:"AS",continentName:"Asia",countryName:"Iran",countryCode:"IR",mainCities:["Tehran","Mashhad","Isfahan","Karaj"],rawOffsetInMinutes:210,abbreviation:"IRST",rawFormat:"+03:30 Iran Time - Tehran, Mashhad, Isfahan, Karaj"},{name:"Asia/Yerevan",alternativeName:"Armenia Time",group:["Asia/Yerevan"],continentCode:"AS",continentName:"Asia",countryName:"Armenia",countryCode:"AM",mainCities:["Yerevan","Gyumri","Vanadzor","Vagharshapat"],rawOffsetInMinutes:240,abbreviation:"AMT",rawFormat:"+04:00 Armenia Time - Yerevan, Gyumri, Vanadzor, Vagharshapat"},{name:"Asia/Baku",alternativeName:"Azerbaijan Time",group:["Asia/Baku"],continentCode:"AS",continentName:"Asia",countryName:"Azerbaijan",countryCode:"AZ",mainCities:["Baku","Sumqayt","Ganja","Lankaran"],rawOffsetInMinutes:240,abbreviation:"AZT",rawFormat:"+04:00 Azerbaijan Time - Baku, Sumqayt, Ganja, Lankaran"},{name:"Asia/Tbilisi",alternativeName:"Georgia Time",group:["Asia/Tbilisi"],continentCode:"AS",continentName:"Asia",countryName:"Georgia",countryCode:"GE",mainCities:["Tbilisi","Batumi","Kutaisi","Rustavi"],rawOffsetInMinutes:240,abbreviation:"GET",rawFormat:"+04:00 Georgia Time - Tbilisi, Batumi, Kutaisi, Rustavi"},{name:"Asia/Dubai",alternativeName:"Gulf Time",group:["Asia/Dubai","Asia/Muscat","Indian/Mahe","Indian/Reunion"],continentCode:"AS",continentName:"Asia",countryName:"United Arab Emirates",countryCode:"AE",mainCities:["Dubai","Abu Dhabi","Sharjah","Al Ain City"],rawOffsetInMinutes:240,abbreviation:"GST",rawFormat:"+04:00 Gulf Time - Dubai, Abu Dhabi, Sharjah, Al Ain City"},{name:"Asia/Muscat",alternativeName:"Gulf Time",group:["Asia/Muscat"],continentCode:"AS",continentName:"Asia",countryName:"Oman",countryCode:"OM",mainCities:["Muscat","Seeb","Bawshar","Ibr"],rawOffsetInMinutes:240,abbreviation:"GST",rawFormat:"+04:00 Gulf Time - Muscat, Seeb, Bawshar, Ibr"},{name:"Indian/Mauritius",alternativeName:"Mauritius Time",group:["Indian/Mauritius"],continentCode:"AF",continentName:"Africa",countryName:"Mauritius",countryCode:"MU",mainCities:["Port Louis","Vacoas","Beau Bassin-Rose Hill","Curepipe"],rawOffsetInMinutes:240,abbreviation:"MUT",rawFormat:"+04:00 Mauritius Time - Port Louis, Vacoas, Beau Bassin-Rose Hill, Curepipe"},{name:"Indian/Reunion",alternativeName:"Runion Time",group:["Indian/Reunion"],continentCode:"AF",continentName:"Africa",countryName:"Reunion",countryCode:"RE",mainCities:["Saint-Denis","Saint-Paul","Saint-Pierre","Le Tampon"],rawOffsetInMinutes:240,abbreviation:"RET",rawFormat:"+04:00 Runion Time - Saint-Denis, Saint-Paul, Saint-Pierre, Le Tampon"},{name:"Europe/Samara",alternativeName:"Samara Time",group:["Europe/Astrakhan","Europe/Samara","Europe/Saratov","Europe/Ulyanovsk"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Samara","Saratov","Tolyatti","Izhevsk"],rawOffsetInMinutes:240,abbreviation:"SAMT",rawFormat:"+04:00 Samara Time - Samara, Saratov, Tolyatti, Izhevsk"},{name:"Indian/Mahe",alternativeName:"Seychelles Time",group:["Indian/Mahe"],continentCode:"AF",continentName:"Africa",countryName:"Seychelles",countryCode:"SC",mainCities:["Victoria"],rawOffsetInMinutes:240,abbreviation:"SCT",rawFormat:"+04:00 Seychelles Time - Victoria"},{name:"Asia/Kabul",alternativeName:"Afghanistan Time",group:["Asia/Kabul"],continentCode:"AS",continentName:"Asia",countryName:"Afghanistan",countryCode:"AF",mainCities:["Kabul","Hert","Mazr-e Sharf","Kandahr"],rawOffsetInMinutes:270,abbreviation:"AFT",rawFormat:"+04:30 Afghanistan Time - Kabul, Hert, Mazr-e Sharf, Kandahr"},{name:"Asia/Almaty",alternativeName:"East Kazakhstan Time",group:["Asia/Almaty","Asia/Qostanay"],continentCode:"AS",continentName:"Asia",countryName:"Kazakhstan",countryCode:"KZ",mainCities:["Almaty","Shymkent","Karagandy","Taraz"],rawOffsetInMinutes:300,abbreviation:"ALMT",rawFormat:"+05:00 East Kazakhstan Time - Almaty, Shymkent, Karagandy, Taraz"},{name:"Indian/Kerguelen",alternativeName:"French Southern & Antarctic Time",group:["Indian/Kerguelen"],continentCode:"AN",continentName:"Antarctica",countryName:"French Southern Territories",countryCode:"TF",mainCities:["Port-aux-Franais"],rawOffsetInMinutes:300,abbreviation:"FSAT",rawFormat:"+05:00 French Southern & Antarctic Time - Port-aux-Franais"},{name:"Indian/Maldives",alternativeName:"Maldives Time",group:["Indian/Maldives","Indian/Kerguelen"],continentCode:"AS",continentName:"Asia",countryName:"Maldives",countryCode:"MV",mainCities:["Male"],rawOffsetInMinutes:300,abbreviation:"MVT",rawFormat:"+05:00 Maldives Time - Male"},{name:"Antarctica/Mawson",alternativeName:"Mawson Time",group:["Antarctica/Mawson","Antarctica/Vostok"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["Mawson","Vostok"],rawOffsetInMinutes:300,abbreviation:"MAWT",rawFormat:"+05:00 Mawson Time - Mawson, Vostok"},{name:"Asia/Karachi",alternativeName:"Pakistan Time",group:["Asia/Karachi"],continentCode:"AS",continentName:"Asia",countryName:"Pakistan",countryCode:"PK",mainCities:["Karachi","Lahore","Faisalabad","Rawalpindi"],rawOffsetInMinutes:300,abbreviation:"PKT",rawFormat:"+05:00 Pakistan Time - Karachi, Lahore, Faisalabad, Rawalpindi"},{name:"Asia/Dushanbe",alternativeName:"Tajikistan Time",group:["Asia/Dushanbe"],continentCode:"AS",continentName:"Asia",countryName:"Tajikistan",countryCode:"TJ",mainCities:["Dushanbe","Isfara","Istaravshan","Klob"],rawOffsetInMinutes:300,abbreviation:"TJT",rawFormat:"+05:00 Tajikistan Time - Dushanbe, Isfara, Istaravshan, Klob"},{name:"Asia/Ashgabat",alternativeName:"Turkmenistan Time",group:["Asia/Ashgabat","Asia/Ashkhabad"],continentCode:"AS",continentName:"Asia",countryName:"Turkmenistan",countryCode:"TM",mainCities:["Ashgabat","Trkmenabat","Daoguz","Mary"],rawOffsetInMinutes:300,abbreviation:"TMT",rawFormat:"+05:00 Turkmenistan Time - Ashgabat, Trkmenabat, Daoguz, Mary"},{name:"Asia/Tashkent",alternativeName:"Uzbekistan Time",group:["Asia/Samarkand","Asia/Tashkent"],continentCode:"AS",continentName:"Asia",countryName:"Uzbekistan",countryCode:"UZ",mainCities:["Tashkent","Namangan","Samarkand","Andijon"],rawOffsetInMinutes:300,abbreviation:"UZT",rawFormat:"+05:00 Uzbekistan Time - Tashkent, Namangan, Samarkand, Andijon"},{name:"Asia/Aqtobe",alternativeName:"West Kazakhstan Time",group:["Asia/Aqtau","Asia/Aqtobe","Asia/Atyrau","Asia/Oral","Asia/Qyzylorda"],continentCode:"AS",continentName:"Asia",countryName:"Kazakhstan",countryCode:"KZ",mainCities:["Aktobe","Kyzylorda","Oral","Atyrau"],rawOffsetInMinutes:300,abbreviation:"AQTT",rawFormat:"+05:00 West Kazakhstan Time - Aktobe, Kyzylorda, Oral, Atyrau"},{name:"Asia/Yekaterinburg",alternativeName:"Yekaterinburg Time",group:["Asia/Yekaterinburg"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Yekaterinburg","Chelyabinsk","Ufa","Perm"],rawOffsetInMinutes:300,abbreviation:"YEKT",rawFormat:"+05:00 Yekaterinburg Time - Yekaterinburg, Chelyabinsk, Ufa, Perm"},{name:"Asia/Colombo",alternativeName:"India Time",group:["Asia/Colombo"],continentCode:"AS",continentName:"Asia",countryName:"Sri Lanka",countryCode:"LK",mainCities:["Colombo","Dehiwala-Mount Lavinia","Maharagama","Jaffna"],rawOffsetInMinutes:330,abbreviation:"IST",rawFormat:"+05:30 India Time - Colombo, Dehiwala-Mount Lavinia, Maharagama, Jaffna"},{name:"Asia/Kolkata",alternativeName:"India Time",group:["Asia/Kolkata","Asia/Calcutta"],continentCode:"AS",continentName:"Asia",countryName:"India",countryCode:"IN",mainCities:["Mumbai","Delhi","Bengaluru","Hyderbd"],rawOffsetInMinutes:330,abbreviation:"IST",rawFormat:"+05:30 India Time - Mumbai, Delhi, Bengaluru, Hyderbd"},{name:"Asia/Kathmandu",alternativeName:"Nepal Time",group:["Asia/Kathmandu","Asia/Katmandu"],continentCode:"AS",continentName:"Asia",countryName:"Nepal",countryCode:"NP",mainCities:["Kathmandu","Bharatpur","Ptan","Birgaj"],rawOffsetInMinutes:345,abbreviation:"NPT",rawFormat:"+05:45 Nepal Time - Kathmandu, Bharatpur, Ptan, Birgaj"},{name:"Asia/Dhaka",alternativeName:"Bangladesh Time",group:["Asia/Dhaka","Asia/Dacca"],continentCode:"AS",continentName:"Asia",countryName:"Bangladesh",countryCode:"BD",mainCities:["Dhaka","Chattogram","Khulna","Rangpur"],rawOffsetInMinutes:360,abbreviation:"BST",rawFormat:"+06:00 Bangladesh Time - Dhaka, Chattogram, Khulna, Rangpur"},{name:"Asia/Thimphu",alternativeName:"Bhutan Time",group:["Asia/Thimphu","Asia/Thimbu"],continentCode:"AS",continentName:"Asia",countryName:"Bhutan",countryCode:"BT",mainCities:["Thimphu","Phuntsholing","Tsirang","Punkha"],rawOffsetInMinutes:360,abbreviation:"BTT",rawFormat:"+06:00 Bhutan Time - Thimphu, Phuntsholing, Tsirang, Punkha"},{name:"Asia/Urumqi",alternativeName:"China Time",group:["Asia/Urumqi","Asia/Kashgar"],continentCode:"AS",continentName:"Asia",countryName:"China",countryCode:"CN",mainCities:["rmqi","Shihezi","Korla","Aksu"],rawOffsetInMinutes:360,abbreviation:"CST",rawFormat:"+06:00 China Time - rmqi, Shihezi, Korla, Aksu"},{name:"Indian/Chagos",alternativeName:"Indian Ocean Time",group:["Indian/Chagos"],continentCode:"AS",continentName:"Asia",countryName:"British Indian Ocean Territory",countryCode:"IO",mainCities:["Chagos"],rawOffsetInMinutes:360,abbreviation:"IOT",rawFormat:"+06:00 Indian Ocean Time - Chagos"},{name:"Asia/Bishkek",alternativeName:"Kyrgyzstan Time",group:["Asia/Bishkek"],continentCode:"AS",continentName:"Asia",countryName:"Kyrgyzstan",countryCode:"KG",mainCities:["Bishkek","Osh","Jalal-Abad","Karakol"],rawOffsetInMinutes:360,abbreviation:"KGT",rawFormat:"+06:00 Kyrgyzstan Time - Bishkek, Osh, Jalal-Abad, Karakol"},{name:"Asia/Omsk",alternativeName:"Omsk Time",group:["Asia/Omsk"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Omsk","Tara","Kalachinsk","Isilkul"],rawOffsetInMinutes:360,abbreviation:"OMST",rawFormat:"+06:00 Omsk Time - Omsk, Tara, Kalachinsk, Isilkul"},{name:"Indian/Cocos",alternativeName:"Cocos Islands Time",group:["Indian/Cocos"],continentCode:"AS",continentName:"Asia",countryName:"Cocos Islands",countryCode:"CC",mainCities:["West Island"],rawOffsetInMinutes:390,abbreviation:"CCT",rawFormat:"+06:30 Cocos Islands Time - West Island"},{name:"Asia/Yangon",alternativeName:"Myanmar Time",group:["Asia/Yangon","Indian/Cocos","Asia/Rangoon"],continentCode:"AS",continentName:"Asia",countryName:"Myanmar",countryCode:"MM",mainCities:["Yangon","Mandalay","Nay Pyi Taw","Mawlamyine"],rawOffsetInMinutes:390,abbreviation:"MMT",rawFormat:"+06:30 Myanmar Time - Yangon, Mandalay, Nay Pyi Taw, Mawlamyine"},{name:"Indian/Christmas",alternativeName:"Christmas Island Time",group:["Indian/Christmas"],continentCode:"OC",continentName:"Oceania",countryName:"Christmas Island",countryCode:"CX",mainCities:["Flying Fish Cove"],rawOffsetInMinutes:420,abbreviation:"CXT",rawFormat:"+07:00 Christmas Island Time - Flying Fish Cove"},{name:"Antarctica/Davis",alternativeName:"Davis Time",group:["Antarctica/Davis"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["Davis"],rawOffsetInMinutes:420,abbreviation:"DAVT",rawFormat:"+07:00 Davis Time - Davis"},{name:"Asia/Hovd",alternativeName:"Hovd Time",group:["Asia/Hovd"],continentCode:"AS",continentName:"Asia",countryName:"Mongolia",countryCode:"MN",mainCities:["Ulaangom","Khovd","lgii","Altai"],rawOffsetInMinutes:420,abbreviation:"HOVT",rawFormat:"+07:00 Hovd Time - Ulaangom, Khovd, lgii, Altai"},{name:"Asia/Bangkok",alternativeName:"Indochina Time",group:["Asia/Bangkok","Asia/Phnom_Penh","Asia/Vientiane","Indian/Christmas"],continentCode:"AS",continentName:"Asia",countryName:"Thailand",countryCode:"TH",mainCities:["Bangkok","Samut Prakan","Mueang Nonthaburi","Chon Buri"],rawOffsetInMinutes:420,abbreviation:"ICT",rawFormat:"+07:00 Indochina Time - Bangkok, Samut Prakan, Mueang Nonthaburi, Chon Buri"},{name:"Asia/Ho_Chi_Minh",alternativeName:"Indochina Time",group:["Asia/Ho_Chi_Minh","Asia/Saigon"],continentCode:"AS",continentName:"Asia",countryName:"Vietnam",countryCode:"VN",mainCities:["Ho Chi Minh City","Da Nang","Bin Ha","Cn Th"],rawOffsetInMinutes:420,abbreviation:"ICT",rawFormat:"+07:00 Indochina Time - Ho Chi Minh City, Da Nang, Bin Ha, Cn Th"},{name:"Asia/Phnom_Penh",alternativeName:"Indochina Time",group:["Asia/Phnom_Penh"],continentCode:"AS",continentName:"Asia",countryName:"Cambodia",countryCode:"KH",mainCities:["Phnom Penh","Takeo","Siem Reap","Battambang"],rawOffsetInMinutes:420,abbreviation:"ICT",rawFormat:"+07:00 Indochina Time - Phnom Penh, Takeo, Siem Reap, Battambang"},{name:"Asia/Vientiane",alternativeName:"Indochina Time",group:["Asia/Vientiane"],continentCode:"AS",continentName:"Asia",countryName:"Laos",countryCode:"LA",mainCities:["Vientiane","Savannakhet","Pakse","Thakhk"],rawOffsetInMinutes:420,abbreviation:"ICT",rawFormat:"+07:00 Indochina Time - Vientiane, Savannakhet, Pakse, Thakhk"},{name:"Asia/Novosibirsk",alternativeName:"Novosibirsk Time",group:["Asia/Barnaul","Asia/Krasnoyarsk","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Tomsk"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Novosibirsk","Krasnoyarsk","Barnaul","Tomsk"],rawOffsetInMinutes:420,abbreviation:"NOVT",rawFormat:"+07:00 Novosibirsk Time - Novosibirsk, Krasnoyarsk, Barnaul, Tomsk"},{name:"Asia/Jakarta",alternativeName:"Western Indonesia Time",group:["Asia/Jakarta","Asia/Pontianak"],continentCode:"AS",continentName:"Asia",countryName:"Indonesia",countryCode:"ID",mainCities:["Jakarta","Surabaya","Bekasi","Bandung"],rawOffsetInMinutes:420,abbreviation:"WIB",rawFormat:"+07:00 Western Indonesia Time - Jakarta, Surabaya, Bekasi, Bandung"},{name:"Antarctica/Casey",alternativeName:"Australian Western Time",group:["Antarctica/Casey"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["Casey"],rawOffsetInMinutes:480,abbreviation:"AWST",rawFormat:"+08:00 Australian Western Time - Casey"},{name:"Australia/Perth",alternativeName:"Australian Western Time",group:["Australia/Perth","Australia/West"],continentCode:"OC",continentName:"Oceania",countryName:"Australia",countryCode:"AU",mainCities:["Perth","Mandurah","Bunbury","Baldivis"],rawOffsetInMinutes:480,abbreviation:"AWST",rawFormat:"+08:00 Australian Western Time - Perth, Mandurah, Bunbury, Baldivis"},{name:"Asia/Brunei",alternativeName:"Brunei Darussalam Time",group:["Asia/Brunei"],continentCode:"AS",continentName:"Asia",countryName:"Brunei",countryCode:"BN",mainCities:["Bandar Seri Begawan","Sengkurong","Mentiri","Kuala Belait"],rawOffsetInMinutes:480,abbreviation:"BNT",rawFormat:"+08:00 Brunei Darussalam Time - Bandar Seri Begawan, Sengkurong, Mentiri, Kuala Belait"},{name:"Asia/Makassar",alternativeName:"Central Indonesia Time",group:["Asia/Makassar","Asia/Ujung_Pandang"],continentCode:"AS",continentName:"Asia",countryName:"Indonesia",countryCode:"ID",mainCities:["Makassar","Samarinda","Denpasar","Balikpapan"],rawOffsetInMinutes:480,abbreviation:"WITA",rawFormat:"+08:00 Central Indonesia Time - Makassar, Samarinda, Denpasar, Balikpapan"},{name:"Asia/Macau",alternativeName:"China Time",group:["Asia/Macau","Asia/Macao"],continentCode:"AS",continentName:"Asia",countryName:"Macao",countryCode:"MO",mainCities:["Macau","Taipa","Luhuan","Lai Chi Van"],rawOffsetInMinutes:480,abbreviation:"CST",rawFormat:"+08:00 China Time - Macau, Taipa, Luhuan, Lai Chi Van"},{name:"Asia/Shanghai",alternativeName:"China Time",group:["Asia/Shanghai","PRC","Asia/Chongqing","Asia/Harbin","Asia/Chungking"],continentCode:"AS",continentName:"Asia",countryName:"China",countryCode:"CN",mainCities:["Shanghai","Beijing","Shenzhen","Guangzhou"],rawOffsetInMinutes:480,abbreviation:"CST",rawFormat:"+08:00 China Time - Shanghai, Beijing, Shenzhen, Guangzhou"},{name:"Asia/Hong_Kong",alternativeName:"Hong Kong Time",group:["Asia/Hong_Kong","Hongkong"],continentCode:"AS",continentName:"Asia",countryName:"Hong Kong",countryCode:"HK",mainCities:["Hong Kong","New Territories","Kowloon","Hong Kong Island"],rawOffsetInMinutes:480,abbreviation:"HKT",rawFormat:"+08:00 Hong Kong Time - Hong Kong, New Territories, Kowloon, Hong Kong Island"},{name:"Asia/Irkutsk",alternativeName:"Irkutsk Time",group:["Asia/Irkutsk"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Irkutsk","Ulan-Ude","Bratsk","Angarsk"],rawOffsetInMinutes:480,abbreviation:"IRKT",rawFormat:"+08:00 Irkutsk Time - Irkutsk, Ulan-Ude, Bratsk, Angarsk"},{name:"Asia/Kuala_Lumpur",alternativeName:"Malaysia Time",group:["Asia/Kuala_Lumpur","Asia/Kuching","Asia/Brunei"],continentCode:"AS",continentName:"Asia",countryName:"Malaysia",countryCode:"MY",mainCities:["Kuala Lumpur","Petaling Jaya","Klang","Johor Bahru"],rawOffsetInMinutes:480,abbreviation:"MYT",rawFormat:"+08:00 Malaysia Time - Kuala Lumpur, Petaling Jaya, Klang, Johor Bahru"},{name:"Asia/Manila",alternativeName:"Philippine Time",group:["Asia/Manila"],continentCode:"AS",continentName:"Asia",countryName:"Philippines",countryCode:"PH",mainCities:["Quezon City","Davao","Manila","Caloocan City"],rawOffsetInMinutes:480,abbreviation:"PHT",rawFormat:"+08:00 Philippine Time - Quezon City, Davao, Manila, Caloocan City"},{name:"Asia/Singapore",alternativeName:"Singapore Time",group:["Asia/Singapore","Singapore","Asia/Kuala_Lumpur"],continentCode:"AS",continentName:"Asia",countryName:"Singapore",countryCode:"SG",mainCities:["Singapore","Ulu Bedok","Bedok New Town","Tampines Estate"],rawOffsetInMinutes:480,abbreviation:"SGT",rawFormat:"+08:00 Singapore Time - Singapore, Ulu Bedok, Bedok New Town, Tampines Estate"},{name:"Asia/Taipei",alternativeName:"Taipei Time",group:["Asia/Taipei","ROC"],continentCode:"AS",continentName:"Asia",countryName:"Taiwan",countryCode:"TW",mainCities:["Taipei","Kaohsiung","Taichung","Tainan"],rawOffsetInMinutes:480,abbreviation:"TWT",rawFormat:"+08:00 Taipei Time - Taipei, Kaohsiung, Taichung, Tainan"},{name:"Asia/Ulaanbaatar",alternativeName:"Ulaanbaatar Time",group:["Asia/Choibalsan","Asia/Ulaanbaatar","Asia/Ulan_Bator"],continentCode:"AS",continentName:"Asia",countryName:"Mongolia",countryCode:"MN",mainCities:["Ulan Bator","Erdenet","Darhan","Mrn"],rawOffsetInMinutes:480,abbreviation:"ULAT",rawFormat:"+08:00 Ulaanbaatar Time - Ulan Bator, Erdenet, Darhan, Mrn"},{name:"Australia/Eucla",alternativeName:"Australian Central Western Time",group:["Australia/Eucla"],continentCode:"OC",continentName:"Oceania",countryName:"Australia",countryCode:"AU",mainCities:["Eucla"],rawOffsetInMinutes:525,abbreviation:"ACWST",rawFormat:"+08:45 Australian Central Western Time - Eucla"},{name:"Asia/Dili",alternativeName:"East Timor Time",group:["Asia/Dili"],continentCode:"OC",continentName:"Oceania",countryName:"Timor Leste",countryCode:"TL",mainCities:["Dili","Maliana","Suai","Likis"],rawOffsetInMinutes:540,abbreviation:"TLT",rawFormat:"+09:00 East Timor Time - Dili, Maliana, Suai, Likis"},{name:"Asia/Jayapura",alternativeName:"Eastern Indonesia Time",group:["Asia/Jayapura"],continentCode:"AS",continentName:"Asia",countryName:"Indonesia",countryCode:"ID",mainCities:["Jayapura","Ambon","Sorong","Ternate"],rawOffsetInMinutes:540,abbreviation:"WIT",rawFormat:"+09:00 Eastern Indonesia Time - Jayapura, Ambon, Sorong, Ternate"},{name:"Asia/Tokyo",alternativeName:"Japan Time",group:["Asia/Tokyo","Japan"],continentCode:"AS",continentName:"Asia",countryName:"Japan",countryCode:"JP",mainCities:["Tokyo","Yokohama","Osaka","Nagoya"],rawOffsetInMinutes:540,abbreviation:"JST",rawFormat:"+09:00 Japan Time - Tokyo, Yokohama, Osaka, Nagoya"},{name:"Asia/Pyongyang",alternativeName:"Korean Time",group:["Asia/Pyongyang"],continentCode:"AS",continentName:"Asia",countryName:"North Korea",countryCode:"KP",mainCities:["Pyongyang","Hamhng","Nampo","Sunchn"],rawOffsetInMinutes:540,abbreviation:"KST",rawFormat:"+09:00 Korean Time - Pyongyang, Hamhng, Nampo, Sunchn"},{name:"Asia/Seoul",alternativeName:"Korean Time",group:["Asia/Seoul","ROK"],continentCode:"AS",continentName:"Asia",countryName:"South Korea",countryCode:"KR",mainCities:["Seoul","Busan","Incheon","Daegu"],rawOffsetInMinutes:540,abbreviation:"KST",rawFormat:"+09:00 Korean Time - Seoul, Busan, Incheon, Daegu"},{name:"Pacific/Palau",alternativeName:"Palau Time",group:["Pacific/Palau"],continentCode:"OC",continentName:"Oceania",countryName:"Palau",countryCode:"PW",mainCities:["Ngerulmud"],rawOffsetInMinutes:540,abbreviation:"PWT",rawFormat:"+09:00 Palau Time - Ngerulmud"},{name:"Asia/Chita",alternativeName:"Yakutsk Time",group:["Asia/Chita","Asia/Khandyga","Asia/Yakutsk"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Chita","Yakutsk","Blagoveshchensk","Belogorsk"],rawOffsetInMinutes:540,abbreviation:"YAKT",rawFormat:"+09:00 Yakutsk Time - Chita, Yakutsk, Blagoveshchensk, Belogorsk"},{name:"Australia/Adelaide",alternativeName:"Australian Central Time",group:["Australia/Adelaide","Australia/Broken_Hill","Australia/South","Australia/Yancowinna"],continentCode:"OC",continentName:"Oceania",countryName:"Australia",countryCode:"AU",mainCities:["Adelaide","Adelaide Hills","Mount Gambier","Morphett Vale"],rawOffsetInMinutes:570,abbreviation:"ACST",rawFormat:"+09:30 Australian Central Time - Adelaide, Adelaide Hills, Mount Gambier, Morphett Vale"},{name:"Australia/Darwin",alternativeName:"Australian Central Time",group:["Australia/Darwin","Australia/North"],continentCode:"OC",continentName:"Oceania",countryName:"Australia",countryCode:"AU",mainCities:["Darwin","Alice Springs","Palmerston"],rawOffsetInMinutes:570,abbreviation:"ACST",rawFormat:"+09:30 Australian Central Time - Darwin, Alice Springs, Palmerston"},{name:"Australia/Brisbane",alternativeName:"Australian Eastern Time",group:["Australia/Brisbane","Australia/Lindeman","Australia/Queensland"],continentCode:"OC",continentName:"Oceania",countryName:"Australia",countryCode:"AU",mainCities:["Brisbane","Gold Coast","Logan City","Townsville"],rawOffsetInMinutes:600,abbreviation:"AEST",rawFormat:"+10:00 Australian Eastern Time - Brisbane, Gold Coast, Logan City, Townsville"},{name:"Australia/Sydney",alternativeName:"Australian Eastern Time",group:["Antarctica/Macquarie","Australia/Hobart","Australia/Melbourne","Australia/Sydney","Australia/Tasmania","Australia/Currie","Australia/Victoria","Australia/ACT","Australia/NSW","Australia/Canberra"],continentCode:"OC",continentName:"Oceania",countryName:"Australia",countryCode:"AU",mainCities:["Sydney","Melbourne","Canberra","Newcastle"],rawOffsetInMinutes:600,abbreviation:"AEST",rawFormat:"+10:00 Australian Eastern Time - Sydney, Melbourne, Canberra, Newcastle"},{name:"Pacific/Guam",alternativeName:"Chamorro Time",group:["Pacific/Guam","Pacific/Saipan"],continentCode:"OC",continentName:"Oceania",countryName:"Guam",countryCode:"GU",mainCities:["Dededo Village","Yigo Village","Tamuning-Tumon-Harmon Village","Tamuning"],rawOffsetInMinutes:600,abbreviation:"ChST",rawFormat:"+10:00 Chamorro Time - Dededo Village, Yigo Village, Tamuning-Tumon-Harmon Village, Tamuning"},{name:"Pacific/Saipan",alternativeName:"Chamorro Time",group:["Pacific/Saipan"],continentCode:"OC",continentName:"Oceania",countryName:"Northern Mariana Islands",countryCode:"MP",mainCities:["Saipan"],rawOffsetInMinutes:600,abbreviation:"ChST",rawFormat:"+10:00 Chamorro Time - Saipan"},{name:"Pacific/Chuuk",alternativeName:"Chuuk Time",group:["Pacific/Chuuk","Pacific/Truk","Pacific/Yap"],continentCode:"OC",continentName:"Oceania",countryName:"Micronesia",countryCode:"FM",mainCities:["Chuuk"],rawOffsetInMinutes:600,abbreviation:"CHUT",rawFormat:"+10:00 Chuuk Time - Chuuk"},{name:"Antarctica/DumontDUrville",alternativeName:"Dumont-dUrville Time",group:["Antarctica/DumontDUrville"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["DumontDUrville"],rawOffsetInMinutes:600,abbreviation:"DDUT",rawFormat:"+10:00 Dumont-dUrville Time - DumontDUrville"},{name:"Pacific/Port_Moresby",alternativeName:"Papua New Guinea Time",group:["Pacific/Port_Moresby","Antarctica/DumontDUrville","Pacific/Chuuk","Pacific/Yap","Pacific/Truk"],continentCode:"OC",continentName:"Oceania",countryName:"Papua New Guinea",countryCode:"PG",mainCities:["Port Moresby","Lae","Mount Hagen","Popondetta"],rawOffsetInMinutes:600,abbreviation:"PGT",rawFormat:"+10:00 Papua New Guinea Time - Port Moresby, Lae, Mount Hagen, Popondetta"},{name:"Asia/Vladivostok",alternativeName:"Vladivostok Time",group:["Asia/Ust-Nera","Asia/Vladivostok"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Khabarovsk","Vladivostok","Khabarovsk Vtoroy","Komsomolsk-on-Amur"],rawOffsetInMinutes:600,abbreviation:"VLAT",rawFormat:"+10:00 Vladivostok Time - Khabarovsk, Vladivostok, Khabarovsk Vtoroy, Komsomolsk-on-Amur"},{name:"Australia/Lord_Howe",alternativeName:"Lord Howe Time",group:["Australia/Lord_Howe","Australia/LHI"],continentCode:"OC",continentName:"Oceania",countryName:"Australia",countryCode:"AU",mainCities:["Lord Howe"],rawOffsetInMinutes:630,abbreviation:"LHST",rawFormat:"+10:30 Lord Howe Time - Lord Howe"},{name:"Pacific/Bougainville",alternativeName:"Bougainville Time",group:["Pacific/Bougainville"],continentCode:"OC",continentName:"Oceania",countryName:"Papua New Guinea",countryCode:"PG",mainCities:["Arawa"],rawOffsetInMinutes:660,abbreviation:"BST",rawFormat:"+11:00 Bougainville Time - Arawa"},{name:"Pacific/Kosrae",alternativeName:"Kosrae Time",group:["Pacific/Kosrae","Pacific/Pohnpei"],continentCode:"OC",continentName:"Oceania",countryName:"Micronesia",countryCode:"FM",mainCities:["Kosrae","Palikir - National Government Center"],rawOffsetInMinutes:660,abbreviation:"KOST",rawFormat:"+11:00 Kosrae Time - Kosrae, Palikir - National Government Center"},{name:"Pacific/Noumea",alternativeName:"New Caledonia Time",group:["Pacific/Noumea"],continentCode:"OC",continentName:"Oceania",countryName:"New Caledonia",countryCode:"NC",mainCities:["Nouma","Mont-Dore","Dumba"],rawOffsetInMinutes:660,abbreviation:"NCT",rawFormat:"+11:00 New Caledonia Time - Nouma, Mont-Dore, Dumba"},{name:"Pacific/Norfolk",alternativeName:"Norfolk Island Time",group:["Pacific/Norfolk"],continentCode:"OC",continentName:"Oceania",countryName:"Norfolk Island",countryCode:"NF",mainCities:["Kingston"],rawOffsetInMinutes:660,abbreviation:"NFT",rawFormat:"+11:00 Norfolk Island Time - Kingston"},{name:"Asia/Sakhalin",alternativeName:"Sakhalin Time",group:["Asia/Magadan","Asia/Sakhalin","Asia/Srednekolymsk"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Yuzhno-Sakhalinsk","Magadan","Korsakov","Kholmsk"],rawOffsetInMinutes:660,abbreviation:"SAKT",rawFormat:"+11:00 Sakhalin Time - Yuzhno-Sakhalinsk, Magadan, Korsakov, Kholmsk"},{name:"Pacific/Guadalcanal",alternativeName:"Solomon Islands Time",group:["Pacific/Guadalcanal","Pacific/Pohnpei","Pacific/Ponape"],continentCode:"OC",continentName:"Oceania",countryName:"Solomon Islands",countryCode:"SB",mainCities:["Honiara"],rawOffsetInMinutes:660,abbreviation:"SBT",rawFormat:"+11:00 Solomon Islands Time - Honiara"},{name:"Pacific/Efate",alternativeName:"Vanuatu Time",group:["Pacific/Efate"],continentCode:"OC",continentName:"Oceania",countryName:"Vanuatu",countryCode:"VU",mainCities:["Port-Vila"],rawOffsetInMinutes:660,abbreviation:"VUT",rawFormat:"+11:00 Vanuatu Time - Port-Vila"},{name:"Pacific/Fiji",alternativeName:"Fiji Time",group:["Pacific/Fiji"],continentCode:"OC",continentName:"Oceania",countryName:"Fiji",countryCode:"FJ",mainCities:["Nasinu","Suva","Lautoka","Nadi"],rawOffsetInMinutes:720,abbreviation:"FJT",rawFormat:"+12:00 Fiji Time - Nasinu, Suva, Lautoka, Nadi"},{name:"Pacific/Tarawa",alternativeName:"Gilbert Islands Time",group:["Pacific/Tarawa","Pacific/Funafuti","Pacific/Majuro","Pacific/Wake","Pacific/Wallis"],continentCode:"OC",continentName:"Oceania",countryName:"Kiribati",countryCode:"KI",mainCities:["Tarawa"],rawOffsetInMinutes:720,abbreviation:"GILT",rawFormat:"+12:00 Gilbert Islands Time - Tarawa"},{name:"Pacific/Majuro",alternativeName:"Marshall Islands Time",group:["Pacific/Kwajalein","Pacific/Majuro","Kwajalein"],continentCode:"OC",continentName:"Oceania",countryName:"Marshall Islands",countryCode:"MH",mainCities:["Majuro","Kwajalein","RMI Capitol"],rawOffsetInMinutes:720,abbreviation:"MHT",rawFormat:"+12:00 Marshall Islands Time - Majuro, Kwajalein, RMI Capitol"},{name:"Pacific/Nauru",alternativeName:"Nauru Time",group:["Pacific/Nauru"],continentCode:"OC",continentName:"Oceania",countryName:"Nauru",countryCode:"NR",mainCities:["Yaren"],rawOffsetInMinutes:720,abbreviation:"NRT",rawFormat:"+12:00 Nauru Time - Yaren"},{name:"Pacific/Auckland",alternativeName:"New Zealand Time",group:["Pacific/Auckland","NZ","Antarctica/McMurdo","Antarctica/South_Pole"],continentCode:"OC",continentName:"Oceania",countryName:"New Zealand",countryCode:"NZ",mainCities:["Auckland","Wellington","Christchurch","Manukau City"],rawOffsetInMinutes:720,abbreviation:"NZST",rawFormat:"+12:00 New Zealand Time - Auckland, Wellington, Christchurch, Manukau City"},{name:"Antarctica/McMurdo",alternativeName:"New Zealand Time",group:["Antarctica/McMurdo"],continentCode:"AN",continentName:"Antarctica",countryName:"Antarctica",countryCode:"AQ",mainCities:["McMurdo"],rawOffsetInMinutes:720,abbreviation:"NZST",rawFormat:"+12:00 New Zealand Time - McMurdo"},{name:"Asia/Kamchatka",alternativeName:"Petropavlovsk-Kamchatski Time",group:["Asia/Anadyr","Asia/Kamchatka"],continentCode:"EU",continentName:"Europe",countryName:"Russia",countryCode:"RU",mainCities:["Petropavlovsk-Kamchatsky","Yelizovo","Vilyuchinsk","Anadyr"],rawOffsetInMinutes:720,abbreviation:"PETT",rawFormat:"+12:00 Petropavlovsk-Kamchatski Time - Petropavlovsk-Kamchatsky, Yelizovo, Vilyuchinsk, Anadyr"},{name:"Pacific/Funafuti",alternativeName:"Tuvalu Time",group:["Pacific/Funafuti"],continentCode:"OC",continentName:"Oceania",countryName:"Tuvalu",countryCode:"TV",mainCities:["Funafuti"],rawOffsetInMinutes:720,abbreviation:"TVT",rawFormat:"+12:00 Tuvalu Time - Funafuti"},{name:"Pacific/Wake",alternativeName:"Wake Island Time",group:["Pacific/Wake"],continentCode:"OC",continentName:"Oceania",countryName:"United States Minor Outlying Islands",countryCode:"UM",mainCities:["Wake"],rawOffsetInMinutes:720,abbreviation:"WAKT",rawFormat:"+12:00 Wake Island Time - Wake"},{name:"Pacific/Wallis",alternativeName:"Wallis & Futuna Time",group:["Pacific/Wallis"],continentCode:"OC",continentName:"Oceania",countryName:"Wallis and Futuna",countryCode:"WF",mainCities:["Mata-Utu"],rawOffsetInMinutes:720,abbreviation:"WFT",rawFormat:"+12:00 Wallis & Futuna Time - Mata-Utu"},{name:"Pacific/Chatham",alternativeName:"Chatham Time",group:["Pacific/Chatham","NZ-CHAT"],continentCode:"OC",continentName:"Oceania",countryName:"New Zealand",countryCode:"NZ",mainCities:["Chatham"],rawOffsetInMinutes:765,abbreviation:"CHAST",rawFormat:"+12:45 Chatham Time - Chatham"},{name:"Pacific/Apia",alternativeName:"Apia Time",group:["Pacific/Apia"],continentCode:"OC",continentName:"Oceania",countryName:"Samoa",countryCode:"WS",mainCities:["Apia"],rawOffsetInMinutes:780,abbreviation:"WST",rawFormat:"+13:00 Apia Time - Apia"},{name:"Pacific/Kanton",alternativeName:"Phoenix Islands Time",group:["Pacific/Kanton","Pacific/Enderbury"],continentCode:"OC",continentName:"Oceania",countryName:"Kiribati",countryCode:"KI",mainCities:["Kanton"],rawOffsetInMinutes:780,abbreviation:"PHOT",rawFormat:"+13:00 Phoenix Islands Time - Kanton"},{name:"Pacific/Fakaofo",alternativeName:"Tokelau Time",group:["Pacific/Fakaofo"],continentCode:"OC",continentName:"Oceania",countryName:"Tokelau",countryCode:"TK",mainCities:["Fakaofo"],rawOffsetInMinutes:780,abbreviation:"TKT",rawFormat:"+13:00 Tokelau Time - Fakaofo"},{name:"Pacific/Tongatapu",alternativeName:"Tonga Time",group:["Pacific/Tongatapu"],continentCode:"OC",continentName:"Oceania",countryName:"Tonga",countryCode:"TO",mainCities:["Nukualofa"],rawOffsetInMinutes:780,abbreviation:"TOT",rawFormat:"+13:00 Tonga Time - Nukualofa"},{name:"Pacific/Kiritimati",alternativeName:"Line Islands Time",group:["Pacific/Kiritimati"],continentCode:"OC",continentName:"Oceania",countryName:"Kiribati",countryCode:"KI",mainCities:["Kiritimati"],rawOffsetInMinutes:840,abbreviation:"LINT",rawFormat:"+14:00 Line Islands Time - Kiritimati"}];function pKn({alternativeName:e,mainCities:t,rawOffsetInMinutes:n,currentTimeOffsetInMinutes:r},{useCurrentOffset:i=!1}={}){return`${mKn(i?r:n).padStart(6,"+")} ${e} - ${t.join(", ")}`}function mKn(e){const t=Math.abs(e),[n,r]=[Math.floor(t/60),t%60].map(o=>o.toString().padStart(2,"0")),i=`${n}:${r}`;return`${e>=0?"+":"-"}${i}`}const gKn=/^[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?$/,yKn={year:0,month:1,day:2,hour:3,minute:4,second:5};function vKn(e){return!!(e&&e.match(gKn))}function bKn(e,t){const n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n),[,i,o,a,s,l,u]=r;return[a,i,o,s,l,u]}function xKn(e,t){const n=e.formatToParts(t),r=[];for(let i=0;i<n.length;i++){const{type:o,value:a}=n[i],s=yKn[o];typeof s<"u"&&(r[s]=parseInt(a,10))}return r}function wKn(e){return new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}function CKn(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(t.getUTCFullYear()-1900)),+t}function kKn(e){if(!vKn(e))return!1;const t=new Date(Date.now());let n;try{n=wKn(e)}catch{return!1}const[r,i,o,a,s,l]=n.formatToParts?xKn(n,t):bKn(n,t),u=CKn({year:r,month:i,day:o,hour:a,minute:s,second:l,millisecond:0});let d=+t;const f=d%1e3;return d-=f>=0?f:1e3+f,(u-d)/(60*1e3)}function SKn(e){return hKn.reduce(function(t,n){const r=n.name,i=kKn(r);if(i===!1)return t;const o={...n,currentTimeOffsetInMinutes:i};return t.push({...o,currentTimeFormat:pKn(o,{useCurrentOffset:!0})}),t},[]).sort((t,n)=>EKn(t,n)||nve(t.alternativeName,n.alternativeName)||nve(t.mainCities[0],n.mainCities[0]))}function EKn(e,t){return e.currentTimeOffsetInMinutes-t.currentTimeOffsetInMinutes}function nve(e,t){return typeof e=="string"&&typeof t=="string"?e.localeCompare(t):0}function rve(e,t,n){var r=AKn(e,n.timeZone,n.locale);return r.formatToParts?_Kn(r,t):TKn(r,t)}function _Kn(e,t){for(var n=e.formatToParts(t),r=n.length-1;r>=0;--r)if(n[r].type==="timeZoneName")return n[r].value}function TKn(e,t){var n=e.format(t).replace(/\u200E/g,""),r=/ [\w-+ ]+$/.exec(n);return r?r[0].substr(1):""}function AKn(e,t,n){if(n&&!n.code)throw new Error("date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`");return new Intl.DateTimeFormat(n?[n.code,"en-US"]:void 0,{timeZone:t,timeZoneName:e})}function jKn(e,t){var n=OKn(t);return n.formatToParts?$Kn(n,e):DKn(n,e)}var IKn={year:0,month:1,day:2,hour:3,minute:4,second:5};function $Kn(e,t){try{for(var n=e.formatToParts(t),r=[],i=0;i<n.length;i++){var o=IKn[n[i].type];o>=0&&(r[o]=parseInt(n[i].value,10))}return r}catch(a){if(a instanceof RangeError)return[NaN];throw a}}function DKn(e,t){var n=e.format(t),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var u9={};function OKn(e){if(!u9[e]){var t=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=t==="06/25/2014, 00:00:00"||t==="06/25/2014 00:00:00";u9[e]=n?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return u9[e]}function XQ(e,t,n,r,i,o,a){var s=new Date(0);return s.setUTCFullYear(e,t,n),s.setUTCHours(r,i,o,a),s}var ive=36e5,MKn=6e4,d9={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function m4(e,t,n){var r,i;if(!e||(r=d9.timezoneZ.exec(e),r))return 0;var o;if(r=d9.timezoneHH.exec(e),r)return o=parseInt(r[1],10),ove(o)?-(o*ive):NaN;if(r=d9.timezoneHHMM.exec(e),r){o=parseInt(r[2],10);var a=parseInt(r[3],10);return ove(o,a)?(i=Math.abs(o)*ive+a*MKn,r[1]==="+"?-i:i):NaN}if(FKn(e)){t=new Date(t||Date.now());var s=n?t:PKn(t),l=HU(s,e),u=n?l:RKn(t,l,e);return-u}return NaN}function PKn(e){return XQ(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function HU(e,t){var n=jKn(e,t),r=XQ(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=e.getTime(),o=i%1e3;return i-=o>=0?o:1e3+o,r-i}function RKn(e,t,n){var r=e.getTime(),i=r-t,o=HU(new Date(i),n);if(t===o)return t;i-=o-t;var a=HU(new Date(i),n);return o===a?o:Math.max(o,a)}function ove(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var ave={};function FKn(e){if(ave[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),ave[e]=!0,!0}catch{return!1}}var LKn=60*1e3,NKn={X:function(e,t,n,r){var i=f9(r.timeZone,e);if(i===0)return"Z";switch(t){case"X":return sve(i);case"XXXX":case"XX":return hv(i);case"XXXXX":case"XXX":default:return hv(i,":")}},x:function(e,t,n,r){var i=f9(r.timeZone,e);switch(t){case"x":return sve(i);case"xxxx":case"xx":return hv(i);case"xxxxx":case"xxx":default:return hv(i,":")}},O:function(e,t,n,r){var i=f9(r.timeZone,e);switch(t){case"O":case"OO":case"OOO":return"GMT"+BKn(i,":");case"OOOO":default:return"GMT"+hv(i,":")}},z:function(e,t,n,r){switch(t){case"z":case"zz":case"zzz":return rve("short",e,r);case"zzzz":default:return rve("long",e,r)}}};function f9(e,t){var n=e?m4(e,t,!0)/LKn:t.getTimezoneOffset();if(Number.isNaN(n))throw new RangeError("Invalid time zone specified: "+e);return n}function HD(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}function hv(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e),o=HD(Math.floor(i/60),2),a=HD(Math.floor(i%60),2);return r+o+n+a}function sve(e,t){if(e%60===0){var n=e>0?"-":"+";return n+HD(Math.abs(e)/60,2)}return hv(e,t)}function BKn(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(o===0)return n+String(i);var a=t;return n+String(i)+a+HD(o,2)}var VKn=NKn,vNe=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,h9=36e5,lve=6e4,zKn=2,hs={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:vNe};function WD(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var n=t||{},r=n.additionalDigits==null?zKn:Idn(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var i=UKn(e),o=HKn(i.date,r),a=o.year,s=o.restDateString,l=WKn(s,a);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),d=0,f;if(i.time&&(d=GKn(i.time),isNaN(d)))return new Date(NaN);if(i.timeZone||n.timeZone){if(f=m4(i.timeZone||n.timeZone,new Date(u+d)),isNaN(f))return new Date(NaN)}else f=tpe(new Date(u+d)),f=tpe(new Date(u+d+f));return new Date(u+d+f)}else return new Date(NaN)}function UKn(e){var t={},n=hs.dateTimePattern.exec(e),r;if(n?(t.date=n[1],r=n[3]):(n=hs.datePattern.exec(e),n?(t.date=n[1],r=n[2]):(t.date=null,r=e)),r){var i=hs.timeZone.exec(r);i?(t.time=r.replace(i[1],""),t.timeZone=i[1].trim()):t.time=r}return t}function HKn(e,t){var n=hs.YYY[t],r=hs.YYYYY[t],i;if(i=hs.YYYY.exec(e)||r.exec(e),i){var o=i[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(i=hs.YY.exec(e)||n.exec(e),i){var a=i[1];return{year:parseInt(a,10)*100,restDateString:e.slice(a.length)}}return{year:null}}function WKn(e,t){if(t===null)return null;var n,r,i,o;if(e.length===0)return r=new Date(0),r.setUTCFullYear(t),r;if(n=hs.MM.exec(e),n)return r=new Date(0),i=parseInt(n[1],10)-1,uve(t,i)?(r.setUTCFullYear(t,i),r):new Date(NaN);if(n=hs.DDD.exec(e),n){r=new Date(0);var a=parseInt(n[1],10);return qKn(t,a)?(r.setUTCFullYear(t,0,a),r):new Date(NaN)}if(n=hs.MMDD.exec(e),n){r=new Date(0),i=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return uve(t,i,s)?(r.setUTCFullYear(t,i,s),r):new Date(NaN)}if(n=hs.Www.exec(e),n)return o=parseInt(n[1],10)-1,dve(t,o)?cve(t,o):new Date(NaN);if(n=hs.WwwD.exec(e),n){o=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return dve(t,o,l)?cve(t,o,l):new Date(NaN)}return null}function GKn(e){var t,n,r;if(t=hs.HH.exec(e),t)return n=parseFloat(t[1].replace(",",".")),p9(n)?n%24*h9:NaN;if(t=hs.HHMM.exec(e),t)return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),p9(n,r)?n%24*h9+r*lve:NaN;if(t=hs.HHMMSS.exec(e),t){n=parseInt(t[1],10),r=parseInt(t[2],10);var i=parseFloat(t[3].replace(",","."));return p9(n,r,i)?n%24*h9+r*lve+i*1e3:NaN}return null}function cve(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var i=r.getUTCDay()||7,o=t*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}var KKn=[31,28,31,30,31,30,31,31,30,31,30,31],YKn=[31,29,31,30,31,30,31,31,30,31,30,31];function bNe(e){return e%400===0||e%4===0&&e%100!==0}function uve(e,t,n){if(t<0||t>11)return!1;if(n!=null){if(n<1)return!1;var r=bNe(e);if(r&&n>YKn[t]||!r&&n>KKn[t])return!1}return!0}function qKn(e,t){if(t<1)return!1;var n=bNe(e);return!(n&&t>366||!n&&t>365)}function dve(e,t,n){return!(t<0||t>52||n!=null&&(n<0||n>6))}function p9(e,t,n){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||n!=null&&(n<0||n>=60))}var ZKn=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function XKn(e,t,n){var r=String(t),i=n||{},o=r.match(ZKn);if(o){var a=WD(i.originalDate||e,i);r=o.reduce(function(s,l){if(l[0]==="'")return s;var u=s.indexOf(l),d=s[u-1]==="'",f=s.replace(l,"'"+VKn[l[0]](a,l,null,i)+"'");return d?f.substring(0,u-1)+f.substring(u+1):f},r)}return afn(e,r,i)}function WU(e,t,n){var r=WD(e,n),i=m4(t,r,!0),o=new Date(r.getTime()-i),a=new Date(0);return a.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),a.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),a}function xNe(e,t,n,r){var i=wRe(r);return i.timeZone=t,i.originalDate=e,XKn(WU(e,t),n,i)}function JKn(e,t,n){if(typeof e=="string"&&!e.match(vNe)){var r=wRe(n);return r.timeZone=t,WD(e,r)}var i=WD(e,n),o=XQ(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),a=m4(t,new Date(o));return new Date(o+a)}const pl=e=>{const{body:t,title:n}=e;return c.jsxs(ae,{paddingY:1,space:3,children:[c.jsxs(Wn,{space:2,children:[c.jsx(ba,{}),n&&c.jsx(B,{size:2,weight:"semibold",children:n})]}),t&&c.jsx(B,{size:1,children:t})]})},GU="scheduled-publishing:";zi(GU);function g4(e){const t=`${GU}${e}`;return zi&&zi.enabled(t)?zi(t):zi(GU)}function QKn(e){return typeof e!="object"||!e?!1:"statusCode"in e&&"response"in e}function pv(e){let t;return QKn(e)?e.response.statusCode===403?t=cKn:t=e.message:(e instanceof Error&&(t=e.message),t=String(e)),t}const eYn=g4("useScheduleOperation"),WS=SKn().map(e=>({abbreviation:e.abbreviation,alternativeName:e.alternativeName,mainCities:e.mainCities.join(", "),name:e.name,namePretty:e.name.replaceAll("_"," "),offset:e.currentTimeFormat.split(" ")[0],value:`${e.currentTimeFormat} ${e.abbreviation} ${e.name}`}));function KU(){return WS.find(e=>e.name===Intl.DateTimeFormat().resolvedOptions().timeZone)||WS.find(e=>e.abbreviation==="GMT")||WS[0]}function fve(){const e=localStorage.getItem(mNe);try{if(e)return JSON.parse(e)}catch{}return KU()}const Da=()=>{const e=p.useMemo(()=>fve(),[]),[t,n]=p.useState(e),r=Nr();p.useEffect(()=>{const u=()=>{n(fve())};return window.addEventListener("timeZoneEventUpdate",u),()=>{window.removeEventListener("timeZoneEventUpdate",u)}},[]);const i=p.useCallback(({date:u,format:d=Ob.LARGE,includeTimeZone:f,prefix:h})=>{let m=d;return h&&(m=`'${h}'${d}`),f&&(m=`${d} (zzzz)`),xNe(u,t.name,m)},[t.name]),o=p.useCallback(()=>WU(new Date,t.name),[t.name]),a=p.useCallback(u=>{eYn("handleNewValue:",u),n(d=>{try{d.name!==u.name&&(localStorage.setItem(mNe,JSON.stringify(u)),window.dispatchEvent(new Event("timeZoneEventUpdate"))),r.push({closable:!0,description:c.jsx(pl,{body:`${u.alternativeName} (${u.namePretty})`,title:"Time zone updated"}),duration:15e3,status:"info"})}catch(f){console.error(f),r.push({closable:!0,description:c.jsx(pl,{body:pv(f),title:"Unable to update time zone"}),status:"error"})}return u})},[r]),s=p.useCallback(u=>WU(u,t.name),[t.name]),l=p.useCallback(u=>JKn(u,t.name),[t.name]);return{formatDateTz:i,getCurrentZoneDate:o,setTimeZone:a,timeZone:t,utcToCurrentZoneDate:s,zoneDateToUtc:l}},tYn=R.span(({theme:e})=>he`
    color: ${e.sanity.color.base.fg};
    font-weight: 500;
    margin-left: 1em;
  `),nYn=R.span(({theme:e})=>he`
    color: ${e.sanity.color.input.default.readOnly.fg};
    margin-left: 1em;
  `),rYn=e=>{const{onClose:t}=e,{setTimeZone:n,timeZone:r}=Da(),[i,o]=p.useState(r),a=p.useCallback(m=>{const g=WS.find(y=>y.value===m);o(g)},[]),s=p.useCallback(()=>{o(KU())},[]),l=p.useCallback(()=>{i&&n(i),t==null||t()},[t,i,n]),u=(i==null?void 0:i.name)!==r.name,d=p.useMemo(()=>(i==null?void 0:i.name)===KU().name,[i]),f=p.useCallback(m=>c.jsx(le,{as:"button",padding:3,children:c.jsxs(B,{size:1,textOverflow:"ellipsis",children:[c.jsxs("span",{children:["GMT",m.offset]}),c.jsx(tYn,{children:m.alternativeName}),c.jsx(nYn,{children:m.mainCities})]})}),[]),h=p.useCallback((m,g)=>g?`${g.alternativeName} (${g.namePretty})`:"",[]);return c.jsx(no,{footer:{confirmButton:{text:"Update time zone",disabled:!u||!i,onClick:l,tone:"primary"}},header:"Select time zone",id:"time-zone",onClose:t,width:1,children:c.jsxs(ae,{padding:4,space:5,children:[c.jsx(B,{size:1,children:"The selected time zone will change how dates are represented in schedules."}),c.jsxs(ae,{space:3,children:[c.jsxs(W,{align:"center",justify:"space-between",children:[c.jsxs(Wn,{space:2,children:[c.jsx(B,{size:1,weight:"semibold",children:"Time zone"}),d&&c.jsx(B,{muted:!0,size:1,children:"local time"})]}),!d&&c.jsx(B,{size:1,weight:"medium",children:c.jsx("a",{onClick:s,style:{cursor:"pointer"},children:"Select local time zone"})})]}),c.jsx(JO,{fontSize:2,icon:wa,id:"timezone",onChange:a,openButton:!0,options:WS,padding:4,placeholder:"Search for a city or time zone",popover:{boundaryElement:document.querySelector("body"),constrainSize:!0,placement:"bottom-start"},renderOption:f,renderValue:h,tabIndex:-1,value:i==null?void 0:i.value})]})]})})};function wNe(){const[e,t]=p.useState(!1),n=p.useCallback(()=>{t(!1)},[]),r=p.useCallback(()=>{t(!0)},[]);return{visible:e,show:r,hide:n}}function iYn(){const{visible:e,show:t,hide:n}=wNe();return{DialogTimeZone:e?rYn:null,dialogProps:{onClose:n,visible:e},dialogTimeZoneShow:t,hide:n}}const CNe=e=>{const{useElementQueries:t}=e,{timeZone:n}=Da(),{DialogTimeZone:r,dialogProps:i,dialogTimeZoneShow:o}=iYn();return c.jsxs(c.Fragment,{children:[r&&c.jsx(r,{...i}),c.jsx(Et,{content:`Displaying schedules in ${n.alternativeName} (GMT${n.offset})`,portal:!0,children:c.jsx("div",{children:t?c.jsxs(c.Fragment,{children:[c.jsx(V,{className:"button-small",children:c.jsx(ge,{icon:hS,mode:"bleed",onClick:o,text:`${n.abbreviation}`})}),c.jsx(V,{className:"button-large",children:c.jsx(ge,{icon:hS,mode:"bleed",onClick:o,text:`${n.alternativeName} (${n.namePretty})`})})]}):c.jsx(ge,{icon:hS,mode:"bleed",onClick:o,text:`${n.alternativeName} (${n.namePretty})`})})})]})},kNe=R(ZO)`
  .button-small {
    display: block;
  }
  .button-large {
    display: none;
  }

  &[data-eq-min~='2'] {
    .button-small {
      display: none;
    }
    .button-large {
      display: block;
    }
  }
`,wm=()=>{},Js=wm(),m9=Object,tr=e=>e===Js,_d=e=>typeof e=="function",ng=(e,t)=>({...e,...t}),oYn=e=>_d(e.then),rj=new WeakMap;let aYn=0;const x5=e=>{const t=typeof e,n=e&&e.constructor,r=n==Date;let i,o;if(m9(e)===e&&!r&&n!=RegExp){if(i=rj.get(e),i)return i;if(i=++aYn+"~",rj.set(e,i),n==Array){for(i="@",o=0;o<e.length;o++)i+=x5(e[o])+",";rj.set(e,i)}if(n==m9){i="#";const a=m9.keys(e).sort();for(;!tr(o=a.pop());)tr(e[o])||(i+=o+":"+x5(e[o])+",");rj.set(e,i)}}else i=r?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return i},Jf=new WeakMap,g9={},ij={},JQ="undefined",y4=typeof window!=JQ,YU=typeof document!=JQ,sYn=()=>y4&&typeof window.requestAnimationFrame!=JQ,SNe=(e,t)=>{const n=Jf.get(e);return[()=>!tr(t)&&e.get(t)||g9,r=>{if(!tr(t)){const i=e.get(t);t in ij||(ij[t]=i),n[5](t,ng(i,r),i||g9)}},n[6],()=>!tr(t)&&t in ij?ij[t]:!tr(t)&&e.get(t)||g9]};let qU=!0;const lYn=()=>qU,[ZU,XU]=y4&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[wm,wm],cYn=()=>{const e=YU&&document.visibilityState;return tr(e)||e!=="hidden"},uYn=e=>(YU&&document.addEventListener("visibilitychange",e),ZU("focus",e),()=>{YU&&document.removeEventListener("visibilitychange",e),XU("focus",e)}),dYn=e=>{const t=()=>{qU=!0,e()},n=()=>{qU=!1};return ZU("online",t),ZU("offline",n),()=>{XU("online",t),XU("offline",n)}},fYn={isOnline:lYn,isVisible:cYn},hYn={initFocus:uYn,initReconnect:dYn},hve=!Fe.useId,w5=!y4||"Deno"in window,pYn=e=>sYn()?window.requestAnimationFrame(e):setTimeout(e,1),y9=w5?p.useEffect:p.useLayoutEffect,v9=typeof navigator<"u"&&navigator.connection,pve=!w5&&v9&&(["slow-2g","2g"].includes(v9.effectiveType)||v9.saveData),QQ=e=>{if(_d(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?x5(e):"",[e,t]};let mYn=0;const JU=()=>++mYn,ENe=0,_Ne=1,TNe=2,gYn=3;var ck={__proto__:null,ERROR_REVALIDATE_EVENT:gYn,FOCUS_EVENT:ENe,MUTATE_EVENT:TNe,RECONNECT_EVENT:_Ne};async function ANe(...e){const[t,n,r,i]=e,o=ng({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let a=o.populateCache;const s=o.rollbackOnError;let l=o.optimisticData;const u=h=>typeof s=="function"?s(h):s!==!1,d=o.throwOnError;if(_d(n)){const h=n,m=[],g=t.keys();for(const y of g)!/^\$(inf|sub)\$/.test(y)&&h(t.get(y)._k)&&m.push(y);return Promise.all(m.map(f))}return f(n);async function f(h){const[m]=QQ(h);if(!m)return;const[g,y]=SNe(t,m),[x,b,v,w]=Jf.get(t),C=()=>{const $=x[m];return(_d(o.revalidate)?o.revalidate(g().data,h):o.revalidate!==!1)&&(delete v[m],delete w[m],$&&$[0])?$[0](TNe).then(()=>g().data):g().data};if(e.length<3)return C();let k=r,S;const E=JU();b[m]=[E,0];const _=!tr(l),T=g(),A=T.data,I=T._c,j=tr(I)?A:I;if(_&&(l=_d(l)?l(j,A):l,y({data:l,_c:j})),_d(k))try{k=k(j)}catch($){S=$}if(k&&oYn(k))if(k=await k.catch($=>{S=$}),E!==b[m][0]){if(S)throw S;return k}else S&&_&&u(S)&&(a=!0,y({data:j,_c:Js}));if(a&&!S)if(_d(a)){const $=a(k,j);y({data:$,error:Js,_c:Js})}else y({data:k,error:Js,_c:Js});if(b[m][1]=JU(),Promise.resolve(C()).then(()=>{y({_c:Js})}),S){if(d)throw S;return}return k}}const mve=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},yYn=(e,t)=>{if(!Jf.has(e)){const n=ng(hYn,t),r={},i=ANe.bind(Js,e);let o=wm;const a={},s=(d,f)=>{const h=a[d]||[];return a[d]=h,h.push(f),()=>h.splice(h.indexOf(f),1)},l=(d,f,h)=>{e.set(d,f);const m=a[d];if(m)for(const g of m)g(f,h)},u=()=>{if(!Jf.has(e)&&(Jf.set(e,[r,{},{},{},i,l,s]),!w5)){const d=n.initFocus(setTimeout.bind(Js,mve.bind(Js,r,ENe))),f=n.initReconnect(setTimeout.bind(Js,mve.bind(Js,r,_Ne)));o=()=>{d&&d(),f&&f(),Jf.delete(e)}}};return u(),[e,i,u,o]}return[e,Jf.get(e)[4]]},vYn=(e,t,n,r,i)=>{const o=n.errorRetryCount,a=i.retryCount,s=~~((Math.random()+.5)*(1<<(a<8?a:8)))*n.errorRetryInterval;!tr(o)&&a>o||setTimeout(r,s,i)},bYn=(e,t)=>x5(e)==x5(t),[jNe,xYn]=yYn(new Map),wYn=ng({onLoadingSlow:wm,onSuccess:wm,onError:wm,onErrorRetry:vYn,onDiscarded:wm,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:pve?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:pve?5e3:3e3,compare:bYn,isPaused:()=>!1,cache:jNe,mutate:xYn,fallback:{}},fYn),CYn=(e,t)=>{const n=ng(e,t);if(t){const{use:r,fallback:i}=e,{use:o,fallback:a}=t;r&&o&&(n.use=r.concat(o)),i&&a&&(n.fallback=ng(i,a))}return n},kYn=p.createContext({}),SYn="$inf$",INe=y4&&window.__SWR_DEVTOOLS_USE__,EYn=INe?window.__SWR_DEVTOOLS_USE__:[],_Yn=()=>{INe&&(window.__SWR_DEVTOOLS_REACT__=Fe)},TYn=e=>_d(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],AYn=()=>ng(wYn,p.useContext(kYn)),jYn=e=>(t,n,r)=>e(t,n&&((...i)=>{const[o]=QQ(t),[,,,a]=Jf.get(jNe);if(o.startsWith(SYn))return n(...i);const s=a[o];return tr(s)?n(...i):(delete a[o],s)}),r),IYn=EYn.concat(jYn),$Yn=e=>function(...t){const n=AYn(),[r,i,o]=TYn(t),a=CYn(n,o);let s=e;const{use:l}=a,u=(l||[]).concat(IYn);for(let d=u.length;d--;)s=u[d](s);return s(r,i||a.fetcher||null,a)},DYn=(e,t,n)=>{const r=t[e]||(t[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i>=0&&(r[i]=r[r.length-1],r.pop())}};_Yn();const gve=Fe.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)}),b9={dedupe:!0},OYn=(e,t,n)=>{const{cache:r,compare:i,suspense:o,fallbackData:a,revalidateOnMount:s,revalidateIfStale:l,refreshInterval:u,refreshWhenHidden:d,refreshWhenOffline:f,keepPreviousData:h}=n,[m,g,y,x]=Jf.get(r),[b,v]=QQ(e),w=p.useRef(!1),C=p.useRef(!1),k=p.useRef(b),S=p.useRef(t),E=p.useRef(n),_=()=>E.current,T=()=>_().isVisible()&&_().isOnline(),[A,I,j,$]=SNe(r,b),D=p.useRef({}).current,O=tr(a)?n.fallback[b]:a,M=(X,ie)=>{for(const te in D){const de=te;if(de==="data"){if(!i(X[de],ie[de])&&(!tr(X[de])||!i(ee,ie[de])))return!1}else if(ie[de]!==X[de])return!1}return!0},P=p.useMemo(()=>{const X=!b||!t?!1:tr(s)?_().isPaused()||o?!1:tr(l)?!0:l:s,ie=xe=>{const Ae=ng(xe);return delete Ae._k,X?{isValidating:!0,isLoading:!0,...Ae}:Ae},te=A(),de=$(),pe=ie(te),ve=te===de?pe:ie(de);let Ce=pe;return[()=>{const xe=ie(A());return M(xe,Ce)?(Ce.data=xe.data,Ce.isLoading=xe.isLoading,Ce.isValidating=xe.isValidating,Ce.error=xe.error,Ce):(Ce=xe,xe)},()=>ve]},[r,b]),F=Z$e.useSyncExternalStore(p.useCallback(X=>j(b,(ie,te)=>{M(te,ie)||X()}),[r,b]),P[0],P[1]),L=!w.current,U=m[b]&&m[b].length>0,H=F.data,N=tr(H)?O:H,Y=F.error,J=p.useRef(N),ee=h?tr(H)?J.current:H:N,oe=U&&!tr(Y)?!1:L&&!tr(s)?s:_().isPaused()?!1:o?tr(N)?!1:l:tr(N)||l,re=!!(b&&t&&L&&oe),se=tr(F.isValidating)?re:F.isValidating,G=tr(F.isLoading)?re:F.isLoading,K=p.useCallback(async X=>{const ie=S.current;if(!b||!ie||C.current||_().isPaused())return!1;let te,de,pe=!0;const ve=X||{},Ce=!y[b]||!ve.dedupe,xe=()=>hve?!C.current&&b===k.current&&w.current:b===k.current,Ae={isValidating:!1,isLoading:!1},Re=()=>{I(Ae)},we=()=>{const ke=y[b];ke&&ke[1]===de&&delete y[b]},ye={isValidating:!0};tr(A().data)&&(ye.isLoading=!0);try{if(Ce&&(I(ye),n.loadingTimeout&&tr(A().data)&&setTimeout(()=>{pe&&xe()&&_().onLoadingSlow(b,n)},n.loadingTimeout),y[b]=[ie(v),JU()]),[te,de]=y[b],te=await te,Ce&&setTimeout(we,n.dedupingInterval),!y[b]||y[b][1]!==de)return Ce&&xe()&&_().onDiscarded(b),!1;Ae.error=Js;const ke=g[b];if(!tr(ke)&&(de<=ke[0]||de<=ke[1]||ke[1]===0))return Re(),Ce&&xe()&&_().onDiscarded(b),!1;const be=A().data;Ae.data=i(be,te)?be:te,Ce&&xe()&&_().onSuccess(te,b,n)}catch(ke){we();const be=_(),{shouldRetryOnError:Ee}=be;be.isPaused()||(Ae.error=ke,Ce&&xe()&&(be.onError(ke,b,be),(Ee===!0||_d(Ee)&&Ee(ke))&&(!_().revalidateOnFocus||!_().revalidateOnReconnect||T())&&be.onErrorRetry(ke,b,be,ce=>{const _e=m[b];_e&&_e[0]&&_e[0](ck.ERROR_REVALIDATE_EVENT,ce)},{retryCount:(ve.retryCount||0)+1,dedupe:!0})))}return pe=!1,Re(),!0},[b,r]),q=p.useCallback((...X)=>ANe(r,k.current,...X),[]);if(y9(()=>{S.current=t,E.current=n,tr(H)||(J.current=H)}),y9(()=>{if(!b)return;const X=K.bind(Js,b9);let ie=0;const te=DYn(b,m,(de,pe={})=>{if(de==ck.FOCUS_EVENT){const ve=Date.now();_().revalidateOnFocus&&ve>ie&&T()&&(ie=ve+_().focusThrottleInterval,X())}else if(de==ck.RECONNECT_EVENT)_().revalidateOnReconnect&&T()&&X();else{if(de==ck.MUTATE_EVENT)return K();if(de==ck.ERROR_REVALIDATE_EVENT)return K(pe)}});return C.current=!1,k.current=b,w.current=!0,I({_k:v}),oe&&(tr(N)||w5?X():pYn(X)),()=>{C.current=!0,te()}},[b]),y9(()=>{let X;function ie(){const de=_d(u)?u(A().data):u;de&&X!==-1&&(X=setTimeout(te,de))}function te(){!A().error&&(d||_().isVisible())&&(f||_().isOnline())?K(b9).then(ie):ie()}return ie(),()=>{X&&(clearTimeout(X),X=-1)}},[u,d,f,b]),p.useDebugValue(ee),o&&tr(N)&&b){if(!hve&&w5)throw new Error("Fallback data is required when using suspense in SSR.");S.current=t,E.current=n,C.current=!1;const X=x[b];if(!tr(X)){const ie=q(X);gve(ie)}if(tr(Y)){const ie=K(b9);tr(ee)||(ie.status="fulfilled",ie.value=!0),gve(ie)}else throw Y}return{mutate:q,get data(){return D.data=!0,ee},get error(){return D.error=!0,Y},get isValidating(){return D.isValidating=!0,se},get isLoading(){return D.isLoading=!0,G}}},MYn=$Yn(OYn);function PYn({children:e}){const{enabled:t,isLoading:n}=M_("scheduledPublishing"),{scheduledPublishing:r}=ri(),i=r.enabled,o=p.useMemo(()=>!i||n?{enabled:!1,mode:null}:{enabled:!0,mode:t?"default":"upsell"},[t,n,i]);return c.jsx(dwe.Provider,{value:o,children:e})}function E0(){const e=p.useContext(dwe);if(!e)throw new Error("useScheduledPublishingEnabled must be used within a ScheduledPublishingEnabledProvider");return e}function Dy(e){return(e==null?void 0:e.executedAt)||(e==null?void 0:e.executeAt)}function QU({reverseOrder:e}={reverseOrder:!1}){return function(t,n){const r=Dy(t),i=Dy(n);return r===i?0:r===null?1:i===null?-1:(r>i?1:-1)*(e?-1:1)}}const uk=g4("useScheduleOperation");function RYn(){const e=on({apiVersion:"2022-09-01"});return p.useMemo(()=>FYn(e),[e])}function FYn(e){const{dataset:t,projectId:n}=e.config();function r({date:l,documentId:u}){uk("_create:",u);const d=new Date(l);return d.setSeconds(0),d.setMilliseconds(0),e.request({body:{documents:[{documentId:u}],executeAt:d,name:d},method:"POST",uri:`/schedules/${n}/${t}`})}function i({scheduleId:l}){return uk("_delete:",l),e.request({method:"DELETE",uri:`/schedules/${n}/${t}/${l}`})}function o({scheduleIds:l}){uk("_deleteMultiple:",l);const u=l.map(d=>i({scheduleId:d}));return Promise.allSettled(u)}function a({scheduleId:l}){return uk("_publish:",l),e.request({method:"POST",uri:`/schedules/${n}/${t}/${l}/publish`})}function s({documentSchedule:l,scheduleId:u}){return uk("_update:",u,l),e.request({body:l,method:"PATCH",uri:`/schedules/${n}/${t}/${u}`})}return{create:r,delete:i,deleteMultiple:o,publish:a,update:s}}var Of=(e=>(e.create="scheduleCreate",e.delete="scheduleDelete",e.deleteMultiple="scheduleDeleteMultiple",e.publish="schedulePublish",e.update="scheduleUpdate",e))(Of||{});function yve(e,t){return`${t} ${e}${t===1?"":"s"}`}const dk=(e,t)=>new CustomEvent(e,t);function j_(){const e=Nr(),{formatDateTz:t}=Da(),n=RYn();async function r({date:l,displayToast:u=!0,documentId:d}){try{const f=await n.create({date:l,documentId:d});window.dispatchEvent(dk("scheduleCreate",{detail:{date:l,documentId:d}})),u&&(f!=null&&f.executeAt)&&e.push({closable:!0,description:c.jsx(pl,{body:t({date:new Date(f.executeAt),includeTimeZone:!0,prefix:"Publishing on "}),title:"Schedule created"}),duration:15e3,status:"success"})}catch(f){u&&e.push({closable:!0,description:c.jsx(pl,{body:pv(f),title:"Unable to create schedule"}),duration:15e3,status:"error"})}}async function i({displayToast:l=!0,schedule:u}){try{await n.delete({scheduleId:u==null?void 0:u.id}),window.dispatchEvent(dk("scheduleDelete",{detail:{scheduleId:u==null?void 0:u.id}})),l&&e.push({closable:!0,description:c.jsx(pl,{title:"Schedule deleted"}),status:"success"})}catch(d){l&&e.push({closable:!0,description:c.jsx(pl,{body:pv(d),title:"Unable to delete schedule"}),duration:15e3,status:"error"})}}async function o({displayToast:l=!0,schedules:u}){try{const d=u.map(x=>x.id),f=await n.deleteMultiple({scheduleIds:d}),{fulfilledIds:h,rejectedReasons:m}=f.reduce((x,b,v)=>(b.status==="fulfilled"&&x.fulfilledIds.push(u[v].id),b.status==="rejected"&&x.rejectedReasons.push(`[${u[v].id}]: ${b.reason}`),x),{fulfilledIds:[],rejectedReasons:[]}),g=h.length,y=m.length;(h==null?void 0:h.length)>0&&window.dispatchEvent(dk("scheduleDeleteMultiple",{detail:{scheduleIds:h}})),l&&((h==null?void 0:h.length)>0&&e.push({closable:!0,description:c.jsx(pl,{title:`${yve("schedule",g)} deleted`}),status:"success"}),(m==null?void 0:m.length)>0&&e.push({closable:!0,description:c.jsx(pl,{body:m==null?void 0:m.toString(),title:`Unable to delete ${yve("schedule",y)}`}),duration:15e3,status:"error"}))}catch(d){l&&e.push({closable:!0,description:c.jsx(pl,{body:pv(d),title:"Unable to delete schedules"}),duration:15e3,status:"error"})}}async function a({displayToast:l=!0,schedule:u}){try{const d=u.id;await n.publish({scheduleId:d}),window.dispatchEvent(dk("schedulePublish",{detail:{scheduleId:d}})),l&&e.push({closable:!0,description:c.jsx(pl,{title:"Document published"}),status:"success"})}catch(d){l&&e.push({closable:!0,description:c.jsx(pl,{body:pv(d),title:"Unable to publish schedule"}),duration:15e3,status:"error"})}}async function s({date:l,displayToast:u=!0,scheduleId:d}){try{await n.update({documentSchedule:{executeAt:l},scheduleId:d}),window.dispatchEvent(dk("scheduleUpdate",{detail:{date:l,scheduleId:d}})),u&&e.push({closable:!0,description:c.jsx(pl,{body:t({date:new Date(l),includeTimeZone:!0,prefix:"Publishing on "}),title:"Schedule updated"}),duration:15e3,status:"success"})}catch(f){u&&e.push({closable:!0,description:c.jsx(pl,{body:pv(f),title:"Unable to update schedule"}),duration:15e3,status:"error"})}}return{createSchedule:r,deleteSchedule:i,deleteSchedules:o,publishSchedule:a,updateSchedule:s}}function LYn(){const e=on({apiVersion:"2022-09-01"}),{dataset:t,projectId:n}=e.config();return`/schedules/${n}/${t}`}function NYn(e){const t=on({apiVersion:"2022-09-01"});return p.useCallback(()=>t.request({query:e.params,method:"GET",uri:e.url}),[t,e])}const BYn=[];function v4({documentId:e,state:t}={}){const{mode:n}=E0(),r=p.useMemo(()=>({refreshWhenHidden:!1,refreshWhenOffline:!1,revalidateOnFocus:!1,shouldRetryOnError:!1,refreshInterval:n==="default"?1e4:void 0,revalidateIfStale:n==="default",revalidateOnReconnect:n==="default"}),[n]),i=LYn(),o=p.useMemo(()=>({params:{documentIds:e,state:t},url:i}),[i,e,t]),a=NYn(o),{data:s,error:l,mutate:u}=MYn(o,a,r),d=p.useCallback(y=>{u(x=>{var b;return{schedules:(b=x==null?void 0:x.schedules)==null?void 0:b.filter(v=>v.id!==y.detail.scheduleId)}},!0)},[u]),f=p.useCallback(y=>{u(x=>{var b;return{schedules:(b=x==null?void 0:x.schedules)==null?void 0:b.filter(v=>!y.detail.scheduleIds.includes(v.id))}},!0)},[u]),h=p.useCallback(y=>{u(x=>{const b=(x==null?void 0:x.schedules)||[],v=b.findIndex(w=>w.id===y.detail.scheduleId);return{schedules:[...b.slice(0,v),{...b[v],executeAt:new Date().toISOString(),state:"succeeded"},...b.slice(v+1)]}},!0)},[u]),m=p.useCallback(y=>{u(x=>{const b=(x==null?void 0:x.schedules)||[],v=b.findIndex(w=>w.id===y.detail.scheduleId);return{schedules:[...b.slice(0,v),{...b[v],executeAt:y.detail.date},...b.slice(v+1)]}},!0)},[u]);p.useEffect(()=>(window.addEventListener(Of.delete,d),window.addEventListener(Of.deleteMultiple,f),window.addEventListener(Of.publish,h),window.addEventListener(Of.update,m),()=>{window.removeEventListener(Of.delete,d),window.removeEventListener(Of.deleteMultiple,f),window.removeEventListener(Of.publish,h),window.removeEventListener(Of.update,m)}),[d,f,h,m]);const g=p.useMemo(()=>{var y;return(y=s==null?void 0:s.schedules)==null?void 0:y.sort(QU())},[s==null?void 0:s.schedules]);return{error:l,isInitialLoading:!l&&!s,schedules:g||BYn}}const VYn=[];function zYn({children:e,value:t}){const[n,r]=p.useState(t.sortBy||"executeAt"),{utcToCurrentZoneDate:i}=Da(),o=p.useCallback(d=>function(f){const h=Dy(f);if(!h)return!1;const m=new Date(h),g=i(m);return Ga(g,d)},[i]),a=p.useCallback(d=>function(f){return f.state===d},[]),s=p.useMemo(()=>t.schedules.filter(d=>t.selectedDate?o(t.selectedDate)(d):a(t.scheduleState)(d)).sort((d,f)=>{if(n==="createdAt")return d[n]<f[n]?1:-1;if(n==="executeAt"){const h=!(t.scheduleState==="scheduled"||t.selectedDate);return QU({reverseOrder:h})(d,f)}return 1})||[],[a,t.schedules,t.scheduleState,t.selectedDate,n,o]),l=p.useCallback(d=>t.schedules.filter(o(d)).sort(QU()),[t.schedules,o]),u=p.useMemo(()=>({activeSchedules:s,schedules:t.schedules||VYn,schedulesByDate:l,scheduleState:t.scheduleState,selectedDate:t.selectedDate,setSortBy:r,sortBy:n}),[s,l,n,t.scheduleState,t.schedules,t.selectedDate]);return c.jsx(hwe.Provider,{value:u,children:e})}function I_(){const e=p.useContext(hwe);if(e===void 0)throw new Error("useSchedules must be used within a SchedulesProvider");return e}function $Ne(e,t){return p.useMemo(()=>e.filter(n=>n.state===t),[e,t])}const UYn=e=>{const{selected:t,schedules:n,state:r}=e,i=$Ne(n,r).length,o=i>0,a=r==="cancelled",{href:s,onClick:l}=sX({state:{state:r}});return c.jsx(zt,{as:"a",href:s,mode:"bleed",onClick:l,selected:t,tone:a?"critical":"default",padding:2,children:c.jsxs(W,{gap:2,align:"center",children:[c.jsx(B,{size:1,weight:"medium",children:v5[r].title}),o&&c.jsx(B,{size:0,children:i})]})})},HYn=e=>{const{onClearDate:t,selectedDate:n}=e,{navigate:r}=Os(),{schedules:i,scheduleState:o}=I_(),a=l=>{r(l)},s=$Ne(i,o);return c.jsxs(c.Fragment,{children:[c.jsxs(V,{display:["block","block","none"],children:[n&&c.jsx(ge,{iconRight:eo,onClick:t,text:jd(n,"d MMMM yyyy"),tone:"primary"}),o&&c.jsx(Jt,{button:c.jsx(ge,{iconRight:F_e,mode:"ghost",text:`${v5[o].title} (${(s==null?void 0:s.length)||0})`,tone:"default"}),id:"state",menu:c.jsx(Nt,{style:{minWidth:"175px"},children:b5.map(l=>c.jsx(Qe,{iconRight:l===o?_a:void 0,onClick:a.bind(void 0,{state:l}),text:v5[l].title},l))}),placement:"bottom"})]}),c.jsxs(V,{display:["none","none","block"],children:[n&&c.jsx(ge,{iconRight:eo,onClick:t,text:jd(n,"d MMMM yyyy"),tone:"primary"}),o&&c.jsx(W,{gap:2,children:b5.map(l=>c.jsx(UYn,{schedules:i,selected:o===l,state:l},l))})]})]})},WYn=R.img(e=>{const{media:t}=$e(e.theme),n=Ut(t,e.$direction,r=>({width:r==="row"?"50%":"100%",height:r==="row"?"auto":"180px"}));return he`
    object-fit: cover;
    ${n}
  `}),GYn=R(V)`
  margin: auto 0;
`,KYn=[3,3,5];function eee(e){const{data:t,onPrimaryClick:n,onSecondaryClick:r,layout:i="vertical"}=e,o=["column","column",i==="horizontal"?"row":"column"];return c.jsx(le,{radius:3,overflow:"hidden",border:!0,children:c.jsxs(W,{direction:o,gap:2,children:[t.image&&c.jsx(WYn,{src:t.image.asset.url,alt:t.image.asset.altText??"",$direction:o}),c.jsxs(GYn,{paddingX:3,paddingY:i==="horizontal"?KYn:3,children:[c.jsx(ae,{space:4,children:c.jsx(p4,{blocks:t.descriptionText})}),c.jsxs(W,{gap:2,justify:"flex-end",marginTop:5,children:[t.secondaryButton.text&&c.jsx(ge,{mode:"bleed",text:t.secondaryButton.text,tone:"primary",iconRight:lp,...t.secondaryButton.url&&{target:"_blank",rel:"noopener noreferrer",as:"a",href:t.secondaryButton.url},onClick:r}),c.jsx(ge,{text:t.ctaButton.text,tone:"primary",...t.ctaButton.url&&{target:"_blank",rel:"noopener noreferrer",as:"a",href:t.ctaButton.url},onClick:n})]})]})]})})}function $_(){return er().projectId}const Rx=Oi({name:"Upsell Dialog Viewed",version:1,description:"User viewed the upsell dialog"}),Fx=Oi({name:"Upsell Dialog Dismissed",version:1,description:"User dismissed the upsell dialog"}),Lx=Oi({name:"Upsell Dialog Upgrade CTA Clicked",version:1,description:'User clicked the "Upgrade" CTA in the upsell dialog'}),Nx=Oi({name:"Upsell Dialog Learn More CTA Clicked",version:1,description:'User clicked the "Learn More" CTA in the upsell dialog'}),$p="scheduled_publishing",vve={interpolate:/{{([\s\S]+?)}}/g},bve="www.sanity.io";function YYn(e){const[t,n]=p.useState(!1),[r,i]=p.useState(null),o=$_(),a=$s(),s=on(en),l=p.useMemo(()=>({dialogSecondaryClicked:()=>a.log(Nx,{feature:$p,type:"modal"}),dialogPrimaryClicked:()=>a.log(Lx,{feature:$p,type:"modal"}),panelViewed:g=>a.log(Rx,{feature:$p,type:"inspector",source:g}),panelDismissed:()=>a.log(Fx,{feature:$p,type:"inspector"}),panelPrimaryClicked:()=>a.log(Lx,{feature:$p,type:"inspector"}),panelSecondaryClicked:()=>a.log(Nx,{feature:$p,type:"inspector"})}),[a]),u=p.useCallback(()=>{l.dialogPrimaryClicked()},[l]),d=p.useCallback(()=>{l.dialogSecondaryClicked()},[l]),f=p.useCallback(()=>{n(!1),a.log(Fx,{feature:$p,type:"modal"})},[a]);p.useEffect(()=>{const g=s.observable.request({uri:"/journey/scheduled-publishing"}).subscribe({next:y=>{if(y)try{const x=jx(y.ctaButton.url,vve);y.ctaButton.url=x({baseUrl:bve,projectId:o});const b=jx(y.secondaryButton.url,vve);y.secondaryButton.url=b({baseUrl:bve,projectId:o}),i(y)}catch{}},error:()=>{}});return()=>{g.unsubscribe()}},[s,o]);const h=p.useCallback(g=>{n(!0),a.log(Rx,{feature:$p,type:"modal",source:g})},[a]),m=p.useMemo(()=>({upsellDialogOpen:t,handleOpenDialog:h,upsellData:r,telemetryLogs:l}),[h,t,r,l]);return c.jsxs(fwe.Provider,{value:m,children:[e.children,r&&t&&c.jsx(qQ,{data:r,onClose:f,onPrimaryClick:u,onSecondaryClick:d})]})}function DNe(){return p.useContext(fwe)}const qYn=e=>c.jsxs("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[c.jsx("path",{d:"M54 26C54 28.7614 49.0751 31 43 31C36.9249 31 32 28.7614 32 26C32 23.2386 36.9249 7 43 7C49.0751 7 54 23.2386 54 26Z",stroke:"#7B8CA8",strokeWidth:"1.2"}),c.jsx("path",{d:"M65 71.5V57M65 71.5L60.5789 69.0132M65 71.5L60.5789 73.9868M65 57L57 52.5L54 54.1875M65 57V42.5M65 57L57 47M65 57L58.1586 60.8483M65 57L60.5789 67.5M65 42.5L57 38L54 39.6875M65 42.5L57 47M65 42.5V27.5M57 47L65 27.5M57 47L54 39.6875M57 47L54 45.3125M57 47L54 50.75M57 23L65 27.5M57 23L54 24.6875V39.6875M57 23V60M65 27.5L57 32L54 30.3125",stroke:"#7B8CA8",strokeWidth:"1.2"}),c.jsx("path",{d:"M54 76C54 78.7614 49.0751 81 43 81C36.9249 81 32 78.7614 32 76M54 76H60.5V63L54 57M54 76V57M32 76H25V63L32 57M32 76V57M32 26V57M54 26V57M54 45C54 47.7614 49.0751 50 43 50V35C49.0751 35 54 32.7614 54 30",stroke:"#7B8CA8",strokeWidth:"1.2"}),c.jsx("path",{d:"M43 45.5701H44.8976L45.8465 43.1981L46.9679 42.7335L49.3162 43.7399L50.658 42.3981L49.6516 40.0499L50.1161 38.9284L52.4882 37.9795V36.0819L50.1161 35.1331L49.6516 34.0116M47.1334 34.9653C47.5197 35.5597 47.7441 36.269 47.7441 37.0307C47.7441 39.1268 46.0449 40.826 43.9488 40.826C43.6212 40.826 43.3033 40.7845 43 40.7064",stroke:"#7B8CA8",strokeWidth:"1.2",strokeLinejoin:"round"}),c.jsx("path",{d:"M63.5464 78.6739L64.9606 78.0321L67.4355 78.5135L68.6174 78.2913L69.6174 77.1566H71.6174L72.6174 78.2913L73.7994 78.5135L76.2743 78.0321L77.6885 78.6739M63.5464 78.6739L64.607 79.7972L64.1174 80.3336L63.5464 80.4373M63.5464 78.6739V80.4373M77.6885 78.6739L76.6278 79.7972L77.1174 80.3336L77.6885 80.4373M77.6885 78.6739V80.4373M63.5464 80.4373L61.6174 80.7875V81.6952L64.1174 82.1491L64.607 82.6855L63.5464 83.8088L64.9606 84.4506L67.4355 83.9693L68.6174 84.1915L69.6174 85.3261H71.6174L72.6174 84.1915L73.7994 83.9693L76.2743 84.4506L77.6885 83.8088L76.6278 82.6855L77.1174 82.1491L79.6174 81.6952V80.7875L77.6885 80.4373",stroke:"#7B8CA8",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M79.6174 81.4647V84.7162L77.6885 85.0664M76.2743 87.4716L77.6885 86.8298V85.0664M76.2743 87.4716L73.7994 86.9902L72.6174 87.2124L71.6174 88.3471M76.2743 87.4716V84.7162M61.6174 81.4647V84.7162L63.5464 85.0664M71.6174 88.3471H69.6174M71.6174 88.3471V85.3261M69.6174 88.3471L68.6174 87.2124L67.4355 86.9902L64.9606 87.4716M69.6174 88.3471V85.3261M64.9606 87.4716L64.2535 87.1507L63.5464 86.8298V85.0664M64.9606 87.4716V84.6825M63.5464 84.039V85.0664M77.6885 84.039V85.0664",stroke:"#7B8CA8",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M73.6174 81.2412C73.6174 81.9932 72.2743 82.6028 70.6174 82.6028C68.9606 82.6028 67.6174 81.9932 67.6174 81.2412C67.6174 80.4892 68.9606 79.8796 70.6174 79.8796C72.2743 79.8796 73.6174 80.4892 73.6174 81.2412Z",stroke:"#7B8CA8",strokeWidth:"1.2"}),c.jsx("path",{d:"M90 85.3616C90 86.1136 88.6569 86.7232 87 86.7232C85.3431 86.7232 84 86.1136 84 85.3616M90 85.3616C90 84.6096 88.6569 84 87 84C85.3431 84 84 84.6096 84 85.3616M90 85.3616V87.3616C90 88.1136 88.6569 88.7232 87 88.7232C85.3431 88.7232 84 88.1136 84 87.3616V85.3616",stroke:"#7B8CA8",strokeWidth:"1.2"}),c.jsx("path",{d:"M82 89.8648C82 90.3425 81.3284 90.7297 80.5 90.7297C79.6716 90.7297 79 90.3425 79 89.8648M82 89.8648C82 89.3872 81.3284 89 80.5 89C79.6716 89 79 89.3872 79 89.8648M82 89.8648V91.1352C82 91.6128 81.3284 92 80.5 92C79.6716 92 79 91.6128 79 91.1352V89.8648",stroke:"#7B8CA8",strokeWidth:"1.2"}),c.jsx("path",{d:"M52.7555 46.7289L52.5381 45.0136L51.2951 44.6903L50.2695 46.0824L49.4558 46.1956L48.0892 45.1364L46.9817 45.7867L47.2408 47.4962L46.7455 48.1517L45.0302 48.3691L44.7069 49.612M51.1084 47.9593C49.8968 47.6442 48.6622 48.2485 48.1434 49.3385",stroke:"#7B8CA8",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M39 80.5L38 83.5C38 84.8807 40.2386 86 43 86C45.7614 86 48 84.8807 48 83.5L47 80.5",stroke:"#7B8CA8",strokeWidth:"1.2"}),c.jsx("path",{d:"M32 77L31 80C31 81.3807 33.2386 82.5 36 82.5C36.9107 82.5 37.7646 82.3783 38.5 82.1655",stroke:"#7B8CA8",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M54 77L55 80C55 81.3807 52.7614 82.5 50 82.5C49.0893 82.5 48.2354 82.3783 47.5 82.1655",stroke:"#7B8CA8",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]}),xve=e=>c.jsxs("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[c.jsx("path",{d:"M35 84.5L41.7308 67H50V69.5M65 84.5L58.2692 67M32 65H42.5H50H57.5H81V23H19V65H24",stroke:"#7B8CA8",strokeWidth:"1.2"}),c.jsx("path",{d:"M84 16V23H16V16M84 16H16M84 16L82 14H18L16 16",stroke:"#7B8CA8",strokeWidth:"1.2"}),c.jsx("path",{d:"M24 65H18L17 67H83L82 65H32",stroke:"#7B8CA8",strokeWidth:"1.2"}),c.jsx("circle",{cx:"50",cy:"72",r:"2",stroke:"#7B8CA8",strokeWidth:"1.2"}),c.jsx("path",{d:"M24 63C24 61.8954 24.8954 61 26 61H30C31.1046 61 32 61.8954 32 63V67H24V63Z",stroke:"#7B8CA8",strokeWidth:"1.2"}),c.jsx("path",{d:"M24 65C24 63.8954 24.8954 63 26 63H30C31.1046 63 32 63.8954 32 65V67H24V65Z",stroke:"#7B8CA8",strokeWidth:"1.2"}),c.jsx("path",{d:"M28 44.9975C31.0617 44.62 33.5601 42.4793 35.2478 39.995C36.199 38.5947 36.9116 37.0761 36.9653 35.3597C36.9973 34.3355 36.8332 33.1459 35.8944 32.5454C35.3035 32.1675 34.4935 32.0285 33.8044 32.0022C32.7788 31.9631 32.1643 32.4357 31.8489 33.4197C30.3123 38.2145 33.0184 42.7025 36.3911 45.8977C38.1152 47.531 40.0746 48.9275 42.1179 50.1294C43.9867 51.2287 46.003 52.2595 48.1189 52.7885C48.9466 52.9954 50.4951 53.3913 51.3211 52.954C52.3579 52.4051 51.8285 49.7323 51.7091 48.9809C51.3862 46.9486 50.7293 45.0311 49.8726 43.1662C49.3791 42.0918 48.7948 40.8004 47.9999 39.8967C47.4959 39.3237 47.1331 39.4889 47.1101 40.2278C47.0699 41.5204 47.5768 42.7535 48.3103 43.7973C50.633 47.1024 54.4924 49.4656 58.2792 50.6985C59.9643 51.2471 61.8953 51.7306 63.6853 51.6193C65.3845 51.5137 65.6225 50.1321 65.7287 48.655C65.9958 44.9405 64.9629 40.7695 62.6403 37.7963C61.615 36.4839 60.3547 35.6334 58.6879 35.4476C57.7554 35.3437 56.665 35.3303 55.7391 35.5097C54.8073 35.6903 54.0162 36.297 54.3371 37.3462C54.6464 38.3572 55.8044 39.0666 56.6444 39.5759C57.983 40.3876 59.4813 40.9898 61.0262 41.2624C63.2658 41.6576 65.1745 41.1715 67.141 40.1346C67.9966 39.6835 68.8825 39.1795 69.4379 38.3861",stroke:"#7B8CA8",strokeWidth:"1.2"})]}),ZYn=e=>c.jsxs("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[c.jsx("path",{d:"M35.5034 34.5961C35.6531 34.1763 35.8628 33.792 36.1352 33.4478C37.6813 31.4827 40.9503 31.2145 44.9898 32.3554M35.5034 34.5961L24.12 78.5806C23.4656 81.1092 26.1309 83.2083 28.4357 81.9796L68.4485 60.6484M35.5034 34.5961C34.2315 38.1622 37.2902 44.2842 43.0792 50.0342M68.4485 60.6484C68.8174 60.4078 69.1391 60.118 69.4084 59.7777C70.9736 57.7883 70.4521 54.4677 68.3472 50.7308M68.4485 60.6484C65.1795 62.7806 58.1999 61.0522 51.0413 56.4338M49.3164 55.2667C48.6043 54.7622 47.8933 54.2299 47.1867 53.6707C46.3331 52.9953 45.5161 52.3044 44.7387 51.6037M49.3164 55.2667C49.8913 55.674 50.4669 56.0632 51.0413 56.4338M49.3164 55.2667C52.3445 53.1871 58.7283 49.8329 66.4965 47.8874M51.0413 56.4338C55.9305 53.432 62.4593 51.6876 68.3472 50.7308M43.0792 50.0342C43.6098 50.5612 44.1634 51.0852 44.7387 51.6037M43.0792 50.0342C44.4006 45.7138 45.8116 38.387 44.9898 32.3554M44.7387 51.6037C47.6743 44.2968 48.7135 38.3712 48.6643 33.6916M63.9622 36.487C63.2905 34.23 62.35 29.5386 63.9622 28.8293C65.9774 27.9426 68.5569 33.5045 70.8139 32.2148C73.0709 30.9251 69.4435 27.7814 70.8139 25.2019C72.1842 22.6224 79.6002 28.4262 81.2123 23.4285C82.502 19.4304 79.7614 16.6574 78.2298 15.7708M66.4965 47.8874C70.7697 46.8171 75.462 46.1731 80.2449 46.4019L80.2449 49.7068C77.5329 49.6936 73.1535 49.9498 68.3472 50.7308M66.4965 47.8874C64.45 45.1054 61.6564 42.2264 58.3003 39.5859C55.0633 37.039 51.7429 35.0416 48.6643 33.6916M48.6643 33.6916C48.5822 25.8794 45.4671 21.5396 43.0792 20.043L39.941 23.4285C42.9851 25.0774 44.4569 28.4441 44.9898 32.3554",stroke:"#7B8CA8",strokeWidth:"1.2"}),c.jsx("path",{d:"M32.2094 47.3001C31.0515 50.5465 34.6857 56.6214 40.9597 61.5862C47.2404 66.5562 53.9958 68.696 56.8839 66.8122",stroke:"#7B8CA8",strokeWidth:"1.2"}),c.jsx("path",{d:"M28.8867 60.1903C28.1245 62.3275 30.5169 66.3267 34.6472 69.595C38.7818 72.8669 43.229 74.2755 45.1303 73.0354",stroke:"#7B8CA8",strokeWidth:"1.2"}),c.jsx("path",{d:"M26.2718 70.2225C25.8147 71.5039 27.2491 73.9016 29.7254 75.8611C32.2044 77.8228 34.8707 78.6673 36.0106 77.9238",stroke:"#7B8CA8",strokeWidth:"1.2"}),c.jsx("path",{d:"M28.0529 44.1724C29.5354 43.1981 32.3735 40.6904 31.8652 38.4538C31.2298 35.6581 22.8425 38.9622 22.7155 36.5477C22.5884 34.1331 27.0361 30.575 26.909 28.6688C26.7819 26.7626 18.6489 30.8291 18.6489 26.8896C18.6489 23.738 21.36 22.1029 22.7155 21.6793",stroke:"#7B8CA8",strokeWidth:"1.2"}),c.jsx("rect",{x:"21.8833",y:"50.1122",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 21.8833 50.1122)",stroke:"#7B8CA8",strokeWidth:"1.2"}),c.jsx("rect",{x:"16.0527",y:"36.722",width:"3.03077",height:"3.03077",transform:"rotate(4.36851 16.0527 36.722)",stroke:"#7B8CA8",strokeWidth:"1.2"}),c.jsx("rect",{x:"27.9448",y:"22.8353",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 27.9448 22.8353)",stroke:"#7B8CA8",strokeWidth:"1.2"}),c.jsx("rect",{x:"53.7065",y:"33.443",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 53.7065 33.443)",stroke:"#7B8CA8",strokeWidth:"1.2"}),c.jsx("rect",{x:"67.3447",y:"13.743",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 67.3447 13.743)",stroke:"#7B8CA8",strokeWidth:"1.2"}),c.jsx("rect",{x:"74.9219",y:"54.6584",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 74.9219 54.6584)",stroke:"#7B8CA8",strokeWidth:"1.2"}),c.jsx("rect",{x:"70.3755",y:"66.7814",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 70.3755 66.7814)",stroke:"#7B8CA8",strokeWidth:"1.2"}),c.jsx("rect",{x:"77.9526",y:"78.9045",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 77.9526 78.9045)",stroke:"#7B8CA8",strokeWidth:"1.2"}),c.jsx("rect",{x:"82.4985",y:"62.2353",width:"3.03077",height:"3.03077",transform:"rotate(-24.7154 82.4985 62.2353)",stroke:"#7B8CA8",strokeWidth:"1.2"})]}),XYn=e=>{const{scheduleState:t,selectedDate:n}=e;let r,i,o;switch(t){case"succeeded":{i="When a scheduled document is successfully published it moves to this list view.",o="No completed scheduled publications ... yet",r=qYn;break}case"cancelled":{i="Schedules can fail for several reasons, for example when their documents are deleted. When they do, they show up here.",o="No failed scheduled publications",r=ZYn;break}case"scheduled":{i="When editing a document, create a new scheduled publication from the menu next to the Publish button.",o="No upcoming scheduled publications",r=xve;break}}return n&&(i="No schedules for this date.",o=jd(n,"d MMMM yyyy"),r=xve),c.jsx(le,{paddingX:6,paddingBottom:8,paddingTop:7,radius:2,shadow:1,children:c.jsxs(ae,{space:4,children:[c.jsx(W,{justify:"center",children:r&&c.jsx(r,{})}),c.jsxs(ae,{space:4,children:[o&&c.jsx(vo,{align:"center",size:1,children:o}),i&&c.jsx(B,{align:"center",size:1,children:i})]})]})})},JYn=e=>e.liveEdit===!0;function QYn(e,t,n,r){const i=JYn(t)?Se({snapshot:null}):e.observeForPreview({_type:"reference",_ref:Fo(n)},t),o=e.observeForPreview({_type:"reference",_ref:Cn(n)},t);return mo([i,o]).pipe(fe(([a,s])=>({draft:a.snapshot?{title:r,...a.snapshot||{}}:null,isLoading:!1,published:s.snapshot?{title:r,...s.snapshot||{}}:null})),yo({draft:null,isLoading:!0,published:null}))}function b4(e){var t;return(t=e.documents)==null?void 0:t[0]}function ONe(e){var t;return(t=b4(e))==null?void 0:t.documentId.replaceAll("drafts.","")}function eqn(e,t){const n=No(),[r,i]=p.useState({});return p.useEffect(()=>{if(!t)return;const o=QYn(n,t,e,"").subscribe(a=>{i(a)});return()=>{o==null||o.unsubscribe()}},[n,t,e]),r}function un(){return er().schema}function MNe(e){const t=b4(e),n=un(),r=t.documentType;return p.useMemo(()=>{if(r)return n.get(r)},[r,n])}function tqn(e){const t=un();return p.useMemo(()=>t.get(e),[e,t])}const nqn=R(ZO)`
  .date-small {
    display: inline;
  }
  .date-medium {
    display: none;
  }
  .date-large {
    display: none;
  }

  &[data-eq-min~='1'] {
    .date-small {
      display: none;
    }
    .date-medium {
      display: inline;
    }
    .date-large {
      display: none;
    }
  }

  &[data-eq-min~='2'] {
    .date-small {
      display: none;
    }
    .date-medium {
      display: none;
    }
    .date-large {
      display: inline;
    }
  }
`;function rqn({children:e,value:t}){return c.jsx(Bxe.Provider,{value:t,children:e})}function iqn(){const e=p.useContext(Bxe);if(e===void 0)throw new Error("useDocumentActionProps must be used within a DocumentActionPropsProvider");return e}function PNe(e){const[t,n]=p.useState(!1),[r,i]=p.useState(e&&(e!=null&&e.executeAt)?{date:e.executeAt}:null),o=p.useCallback(a=>{const s=(e==null?void 0:e.executeAt)&&new Date(e.executeAt).getTime()===new Date(a==null?void 0:a.date).getTime();i(a),n(!s)},[e==null?void 0:e.executeAt]);return{formData:r,isDirty:t,onFormChange:o}}function oqn(e){const{date:t,focused:n,isCurrentMonth:r,isToday:i,customValidation:o,onSelect:a,selected:s}=e,l=p.useMemo(()=>o?o(V2(t)):!0,[t,o]),u=p.useCallback(()=>{l&&a(t)},[t,l,a]);return c.jsx("div",{"aria-selected":s,"data-ui":"CalendarDay",children:c.jsx(le,{"aria-label":t.toDateString(),"aria-pressed":s,as:"button",__unstable_focusRing:!0,"data-weekday":!0,"data-focused":n?"true":"",disabled:!l,role:"button",tabIndex:-1,onClick:u,padding:3,radius:2,selected:s,tone:i||s?"primary":"default",children:c.jsx(B,{muted:!s&&!r,style:{textAlign:"center"},weight:r?"medium":"regular",children:t.getDate()})})})}const aqn=["January","February","March","April","May","June","July","August","September","October","November","December"],sqn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],lqn=ME(0,24),cqn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],uqn=[1,2,3,4,5,6],dqn=e=>{const t=gP(e);return mP({start:t,end:vP(t)})},fqn=e=>e.map(t=>[t,...uqn.map(n=>fi(t,n))]),hqn=e=>fqn(dqn(e)).map(t=>({number:yP(t[0]),days:t}));function pqn(e){const{getCurrentZoneDate:t}=Da(),{customValidation:n}=e;return c.jsx(V,{"aria-hidden":e.hidden||!1,"data-ui":"CalendarMonth",children:c.jsxs(Xn,{gap:1,style:{gridTemplateColumns:"repeat(7, minmax(44px, 46px))"},children:[sqn.map(r=>c.jsx(V,{paddingY:2,children:c.jsx(B,{size:1,weight:"medium",style:{textAlign:"center"},children:r})},r)),hqn(e.date).map((r,i)=>r.days.map((o,a)=>{const s=e.focused&&Ga(o,e.focused),l=e.selected&&Ga(o,e.selected),u=Ga(o,t()),d=e.focused&&bP(o,e.focused);return c.jsx(oqn,{date:o,focused:s,isCurrentMonth:d,isToday:u,customValidation:n,onSelect:e.onSelect,selected:l},`${i}-${a}`)}))]})})}const mqn={dayPresets:!1,timePresets:!1},gqn=({onChange:e,...t})=>{const n=p.useCallback(r=>{const i=parseInt(r.currentTarget.value,10);isNaN(i)||e(i)},[e]);return c.jsx(t4,{...t,onChange:n,inputMode:"numeric"})},yqn=c.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1}),vqn=p.forwardRef(function(e,t){const{getCurrentZoneDate:n,zoneDateToUtc:r}=Da(),{selectTime:i,onFocusedDateChange:o,selectedDate:a=n(),focusedDate:s=a,timeStep:l=1,onSelect:u,customValidation:d,...f}=e,h=p.useCallback(_=>o(r(_)),[o,r]),m=p.useCallback(_=>h(f$e(Sq(s,_),1)),[s,h]),g=p.useCallback(_=>m(Number(_.currentTarget.value)),[m]),y=p.useCallback(_=>h(OE(s,_)),[s,h]),x=p.useCallback(_=>h(h$e(s,_)),[s,h]),b=p.useCallback(_=>{u(r(ph(V1(_,a.getHours()),a.getMinutes())))},[u,a,r]),v=p.useCallback(_=>{const T=Number(_.currentTarget.value);u(r(ph(a,T)))},[u,a,r]),w=p.useCallback(_=>{const T=Number(_.currentTarget.value);u(r(V1(a,T)))},[u,a,r]);p.useCallback((_,T)=>{u(r(V1(ph(a,T),_)))},[u,a,r]);const C=p.useRef(null);p.useImperativeHandle(t,()=>C.current);const k=p.useCallback(()=>{var _,T;(T=(_=C.current)==null?void 0:_.querySelector('[data-focused="true"]'))==null||T.focus()},[C]),S=p.useCallback(_=>{var T,A;if(cqn.includes(_.key)){if(_.preventDefault(),_.currentTarget.hasAttribute("data-calendar-grid")){k();return}_.key==="ArrowUp"&&o(r(fi(s,-7))),_.key==="ArrowDown"&&o(r(fi(s,7))),_.key==="ArrowLeft"&&o(r(fi(s,-1))),_.key==="ArrowRight"&&o(r(fi(s,1))),(A=(T=C.current)==null?void 0:T.querySelector("[data-preserve-focus]"))==null||A.focus()}},[r,C,k,o,s]);p.useEffect(()=>{k()},[k]),p.useEffect(()=>{var _;(_=document.activeElement)!=null&&_.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]")&&k()},[C,k,s]);const E=p.useCallback(()=>u(new Date),[u]);return c.jsxs(V,{"data-ui":"Calendar",...f,ref:C,children:[c.jsxs(V,{padding:2,children:[c.jsxs(W,{children:[c.jsx(V,{flex:1,children:c.jsx(bqn,{moveFocusedDate:y,onChange:g,value:s==null?void 0:s.getMonth()})}),c.jsx(V,{marginLeft:2,children:c.jsx(xqn,{moveFocusedDate:y,onChange:x,value:s.getFullYear()})})]}),c.jsxs(V,{"data-calendar-grid":!0,onKeyDown:S,marginTop:2,overflow:"hidden",tabIndex:0,children:[c.jsx(pqn,{date:s,focused:s,customValidation:d,onSelect:b,selected:a}),yqn]})]}),i&&c.jsxs(V,{padding:2,style:{borderTop:"1px solid var(--card-border-color)"},children:[c.jsxs(W,{align:"center",children:[c.jsxs(W,{align:"center",flex:1,children:[c.jsx(V,{children:c.jsx(Pc,{"aria-label":"Select hour",value:a==null?void 0:a.getHours(),onChange:w,children:lqn.map(_=>c.jsx("option",{value:_,children:`${_}`.padStart(2,"0")},_))})}),c.jsx(V,{paddingX:1,children:c.jsx(B,{children:":"})}),c.jsx(V,{children:c.jsx(Pc,{"aria-label":"Select minutes",value:a==null?void 0:a.getMinutes(),onChange:v,children:ME(0,60,l).map(_=>c.jsx("option",{value:_,children:`${_}`.padStart(2,"0")},_))})})]}),c.jsx(V,{marginLeft:2,children:c.jsx(zt,{text:"Set to current time",mode:"bleed",onClick:E})})]}),mqn.timePresets]})]})});function bqn(e){const{moveFocusedDate:t,onChange:n,value:r}=e,i=p.useCallback(()=>t(-1),[t]),o=p.useCallback(()=>t(1),[t]);return c.jsxs(W,{flex:1,children:[c.jsx(zt,{"aria-label":"Go to previous month",onClick:i,mode:"bleed",icon:vg,paddingX:2,radius:0}),c.jsx(V,{flex:1,children:c.jsx(Pc,{radius:0,value:r,onChange:n,children:aqn.map((a,s)=>c.jsx("option",{value:s,children:a},s))})}),c.jsx(zt,{"aria-label":"Go to next month",mode:"bleed",icon:Es,onClick:o,paddingX:2,radius:0})]})}function xqn(e){const{moveFocusedDate:t,onChange:n,value:r}=e,i=p.useCallback(()=>t(-12),[t]),o=p.useCallback(()=>t(12),[t]);return c.jsxs(W,{children:[c.jsx(zt,{"aria-label":"Previous year",onClick:i,mode:"bleed",icon:vg,paddingX:2,radius:0}),c.jsx(gqn,{value:r,onChange:n,radius:0,style:{width:65}}),c.jsx(zt,{"aria-label":"Next year",onClick:o,mode:"bleed",icon:Es,paddingX:2,radius:0})]})}const wqn=p.forwardRef(function(e,t){const{utcToCurrentZoneDate:n}=Da(),{value:r=new Date,onChange:i,customValidation:o,...a}=e,[s,l]=p.useState(),u=p.useCallback(d=>{i(d),l(void 0)},[i]);return c.jsx(vqn,{...a,ref:t,selectedDate:n(r),onSelect:u,focusedDate:n(s||r),onFocusedDateChange:l,customValidation:o})}),Cqn=p.forwardRef(function(e,t){const{value:n,inputValue:r,customValidation:i,onInputChange:o,onChange:a,selectTime:s,timeStep:l,...u}=e,d=p.useRef(null),f=p.useRef(null),h=p.useRef(null);p.useImperativeHandle(t,()=>f.current);const[m,g]=p.useState(!1),y=ap();On(()=>g(!1),()=>[d.current]);const x=p.useCallback(()=>{var C,k;(C=f.current)==null||C.focus(),(k=f.current)==null||k.select()},[f]),b=p.useCallback(C=>{C.key==="Escape"&&g(!1)},[]),v=p.useCallback(()=>g(!0),[]),w=c.jsx(V,{style:{padding:"5px"},children:c.jsx(zt,{ref:h,icon:ba,mode:"bleed",padding:2,onClick:v,style:{display:"block"},"data-testid":"select-date-button"})});return c.jsx(t4,{ref:f,...u,value:r,onChange:o,suffix:m?c.jsx(Pl,{zOffset:1e3,children:c.jsx(Fn,{constrainSize:!0,content:c.jsx(V,{overflow:"auto",children:c.jsx(Ku,{onDeactivation:x,children:c.jsx(wqn,{selectTime:s,timeStep:l,onKeyUp:b,value:n,onChange:a,customValidation:i})})}),"data-testid":"date-input-dialog",fallbackPlacements:["bottom","bottom-start","top-end","top","top-start"],floatingBoundary:y.element,open:!0,placement:"bottom-end",portal:!0,radius:2,ref:d,children:w})}):w})}),kqn=p.forwardRef(function(e,t){const{value:n,markers:r,title:i,description:o,placeholder:a,parseInputValue:s,formatInputValue:l,deserialize:u,serialize:d,selectTime:f,timeStep:h,readOnly:m,level:g,onChange:y,customValidation:x,...b}=e,[v,w]=p.useState(null);p.useEffect(()=>{w(null)},[n]);const{zoneDateToUtc:C}=Da(),k=typeof n>"u",S=p.useCallback($=>{const D=$.currentTarget.value,O=D===""?null:s(D);O===null?(y(null),k&&v&&w(null)):O.isValid?y(d(C(O.date))):w(D)},[k,C,v,d,y,s]),E=p.useCallback($=>{y($?d($):null)},[d,y]),_=p.useRef(null);p.useImperativeHandle(t,()=>_.current);const T=p.useId(),A=v?s(v):n?u(n):null,I=v||(A!=null&&A.isValid?l(A.date):n),j=p.useMemo(()=>r.map($=>{var D;return{level:$.level,path:$.path,message:$.message??((D=$.item)==null?void 0:D.message)}}),[r]);return c.jsx(x0,{validation:A!=null&&A.error?[...j,{level:"error",message:A.error,path:[]}]:j,title:i,level:g,description:o,inputId:T,children:m?c.jsx(ei,{value:I,readOnly:!0}):c.jsx(Cqn,{...b,id:T,selectTime:f,timeStep:h,placeholder:a||`e.g. ${l(new Date)}`,ref:_,value:A==null?void 0:A.date,inputValue:I||"",readOnly:!!m,onInputChange:S,onChange:E,customValidity:A==null?void 0:A.error,customValidation:x})})});function Sqn(e){return e instanceof Date&&!isNaN(e.valueOf())}function Eqn(e={}){return{customValidation:e.customValidation||function(){return!0},customValidationMessage:e.customValidationMessage||"Invalid date.",calendarTodayLabel:e.calendarTodayLabel||"Today",timeStep:"timeStep"in e&&Number(e.timeStep)||1}}function RNe(e){return e.toISOString()}function _qn(e){const t=new Date(e);return Sqn(t)?{isValid:!0,date:t}:{isValid:!1,error:`Invalid date value: "${e}"`}}function Tqn(e,t){if(!t||t===1)return e;const n=u$e(e),r=i$e(n),i=r%t;return RNe(i!==0?ph(n,r-i):n)}const Aqn=p.forwardRef(function(e,t){const{type:n,onChange:r,...i}=e,{title:o,description:a,placeholder:s}=n,{scheduledPublishing:l}=ri(),u=l.inputDateTimeFormat,{getCurrentZoneDate:d,timeZone:f}=Da(),{customValidation:h,customValidationMessage:m,timeStep:g}=Eqn(n.options),y=p.useCallback(v=>{let w=v;w!==null&&g>1&&(w=Tqn(w,g)),r(w)},[r,g]),x=p.useCallback(v=>xNe(v,f.name,`${u}`),[u,f.name]),b=p.useCallback(v=>{const w=kq(v,`${u}`,d());return Lh(w)?h(w)?{isValid:!0,date:w}:{isValid:!1,error:m}:{isValid:!1,error:`Invalid date. Must be in the format "${u}"`}},[h,m,d,u]);return c.jsx(kqn,{...i,onChange:y,ref:t,selectTime:!0,timeStep:g,title:o,description:a,placeholder:s,serialize:RNe,deserialize:_qn,formatInputValue:x,customValidation:h,parseInputValue:b})}),jqn=e=>{const{onChange:t,value:n}=e,{getCurrentZoneDate:r}=Da(),[i,o]=p.useState();return c.jsx(ae,{space:4,children:c.jsx(le,{children:c.jsx(Aqn,{level:0,markers:[],onChange:a=>{a&&t&&(t({date:a}),o(a))},type:{name:"date",options:{customValidation:a=>a>r(),customValidationMessage:"Date cannot be in the past."},title:"Date and time"},value:i===void 0?n==null?void 0:n.date:i})})})};function FNe(e){const{onChange:t,value:n}=e;return c.jsxs(ae,{space:4,children:[e.children,c.jsx(jqn,{onChange:t,value:n})]})}const LNe=e=>{const{title:t}=e;return c.jsx(kNe,{children:c.jsxs(W,{align:"center",children:[t,c.jsx("input",{style:{opacity:0,position:"absolute",width:0},tabIndex:-1,type:"button"}),c.jsx(V,{marginLeft:2,style:{marginTop:"-1em",marginBottom:"-1em"},children:c.jsx(CNe,{useElementQueries:!0})})]})})},Iqn=e=>{const{onClose:t,schedule:n}=e,{updateSchedule:r}=j_(),{formData:i,isDirty:o,onFormChange:a}=PNe(n),s=p.useCallback(()=>{i!=null&&i.date&&r({date:i.date,scheduleId:n.id}).then(t)},[n.id,r,t,i==null?void 0:i.date]);return c.jsx(no,{footer:{confirmButton:{text:"Update",disabled:!o,onClick:s}},header:c.jsx(LNe,{title:"Edit schedule"}),id:"time-zone",onClose:t,width:1,children:c.jsx(FNe,{onChange:a,value:i})})};function NNe(e){const{visible:t,show:n,hide:r}=wNe();return{DialogScheduleEdit:t?Iqn:null,dialogProps:{onClose:r,schedule:e,visible:t},dialogScheduleEditShow:n,hide:r}}const $qn=[];function Fc({currentUser:e,context:t}){const{t:n}=Q(),r=b0({style:"short",type:"unit"}),i=(e==null?void 0:e.roles)||$qn,o=p.useCallback(()=>c.jsx(c.Fragment,{children:r.formatToParts(i.map(a=>a.title||Vt(a.name))).map((a,s)=>a.type==="element"?c.jsx("code",{children:a.value},`${a.value}-${s}`):c.jsx(p.Fragment,{children:a.value},`${a.value}-${s}`))}),[i,r]);return c.jsxs(V,{children:[c.jsxs(Wn,{space:2,children:[c.jsx(B,{size:0,children:c.jsx(Wm,{})}),c.jsx(B,{size:1,weight:"medium",children:n("insufficient-permissions-message.title")})]}),c.jsx(Wn,{marginTop:4,children:c.jsx(B,{size:1,children:c.jsx(wt,{i18nKey:"insufficient-permissions-message.not-authorized-explanation",t:n,context:t})})}),c.jsx(Wn,{marginTop:4,marginBottom:1,children:c.jsx(B,{size:1,children:c.jsx(wt,{i18nKey:"insufficient-permissions-message.roles",t:n,components:{Roles:o}})})})]})}const oj=e=>{const{currentUser:t,hasPermission:n,icon:r,onClick:i,permissionsOperationLabel:o,title:a,tone:s,disabled:l}=e;return c.jsx(Et,{content:c.jsx(V,{paddingX:2,paddingY:1,children:c.jsx(Fc,{currentUser:t,context:o})}),disabled:n,placement:"left",portal:!0,children:c.jsx("div",{children:c.jsx(Qe,{disabled:!n||l,icon:r,onClick:i,text:a,tone:s})})})},Dqn=e=>{const{actions:t,onDelete:n,onEdit:r,schedule:i,schemaType:o}=e,{mode:a}=E0(),s=b4(i),l=dr(),[u,d]=wf({id:s.documentId,type:o==null?void 0:o.name,permission:"publish"}),{deleteSchedule:f,publishSchedule:h}=j_(),m=!d&&!(u!=null&&u.granted),g=()=>{r==null||r()},y=()=>{f({schedule:i}).then(()=>n==null?void 0:n())},x=()=>{h({schedule:i})};return l?c.jsxs(c.Fragment,{children:[(t==null?void 0:t.edit)&&c.jsx(oj,{currentUser:l,hasPermission:!m,icon:ba,onClick:g,permissionsOperationLabel:"edit-schedules",title:"Edit schedule",disabled:a==="upsell"}),(t==null?void 0:t.execute)&&c.jsx(oj,{currentUser:l,hasPermission:!m,icon:fb,onClick:x,permissionsOperationLabel:"execute-schedules",title:"Publish now",disabled:a==="upsell"}),(t==null?void 0:t.delete)&&c.jsx(oj,{currentUser:l,hasPermission:!m,icon:$i,onClick:y,permissionsOperationLabel:"delete-schedules",title:"Delete schedule",tone:"critical",disabled:a==="upsell"}),(t==null?void 0:t.clear)&&c.jsx(oj,{currentUser:l,hasPermission:!m,icon:qy,onClick:y,permissionsOperationLabel:"delete-schedules",title:"Clear completed schedule",disabled:a==="upsell"})]}):null},BNe=e=>{const{actions:t,onDelete:n,onEdit:r,schedule:i,schemaType:o}=e;return c.jsx(Jt,{button:c.jsx(Ki,{}),id:"contextMenu",menu:c.jsx(Nt,{children:c.jsx(Dqn,{actions:t,onDelete:n,onEdit:r,schedule:i,schemaType:o})}),placement:"left",popover:{portal:!0,tone:"default"}})},VNe={validation:[],isValidating:!1};function Oqn(e=VNe.validation){const t=e.filter(rK).length>0,n=e.filter(r_e).length>0;let r="default";return n&&(r="default"),t&&(r="critical"),{markers:e,validationTone:r,hasError:t,hasWarning:n}}function x4(e){return p.useMemo(()=>Oqn(e),[e])}const Mqn={validation:[],isValidating:!1};function fC(e,t){const n=ql(),r=p.useMemo(()=>n.pair.validation(e,t),[t,n.pair,e]);return bi(r,Mqn)}const Pqn=1500;function Rqn({schedule:e,updateValidation:t}){const n=MNe(e),r=ONe(e);return!r||!(n!=null&&n.name)?null:c.jsx(Fqn,{id:r,schemaName:n.name,updateValidation:t})}function Fqn({id:e,schemaName:t,updateValidation:n}){const[r,i]=p.useState(!1);return p.useEffect(()=>{const o=setTimeout(()=>{i(!0)},Pqn);return()=>{clearTimeout(o)}},[]),r?c.jsx(Lqn,{id:e,schemaName:t,updateValidation:n}):null}function Lqn({id:e,schemaName:t,updateValidation:n}){const r=fC(e,t);return p.useEffect(()=>{r.isValidating||n(r)},[n,r]),null}function w4(e){return p.useMemo(()=>e?e.replaceAll("drafts.",""):void 0,[e])}const wve=R(B)`
  white-space: initial;
`,Nqn={error:"critical",warning:"caution",info:"primary"};function x9(e){var u;const{marker:t,onClick:n,path:r,truncate:i}=e,o=p.useCallback(()=>{n&&n(t.path)},[t.path,n]),a=Nqn[t==null?void 0:t.level]||void 0,s=t.message??((u=t.item)==null?void 0:u.message),l=c.jsxs(W,{children:[c.jsx(V,{children:c.jsxs(B,{size:1,children:[t.level==="error"&&c.jsx(ua,{}),t.level==="warning"&&c.jsx(Br,{}),t.level==="info"&&c.jsx(bg,{})]})}),c.jsxs(ae,{space:2,flex:1,paddingLeft:3,children:[r&&c.jsx(wve,{size:1,weight:"semibold",children:r}),s&&c.jsx(wve,{muted:!0,size:1,textOverflow:i?"ellipsis":void 0,children:s})]})]});return c.jsx(Uy,{padding:1,onClick:o,radius:2,tone:a,children:c.jsx(V,{padding:2,children:l})})}function Bqn(e){const{documentType:t,kind:n,validation:r,onFocus:i,onClose:o,truncate:a}=e,s=r.filter(rK),l=r.filter(r_e),u=r.filter(Kgt),d=p.useCallback((y=[])=>{i&&i(y),o&&o()},[i,o]),f=y=>{const x=t&&t.fields,b=x&&x.find(v=>v.name===y[0]);return b&&b.type.title||""},h=s.length>0,m=l.length>0,g=u.length>0;return!h&&!m&&!g?null:c.jsxs(Ii,{width:0,"data-kind":n,"data-testid":"validation-list",children:[h&&s.map((y,x)=>c.jsx(x9,{truncate:a,path:f(y.path),marker:y,onClick:d},x)),m&&l.map((y,x)=>c.jsx(x9,{truncate:a,path:f(y.path),marker:y,onClick:d},x)),g&&u.map((y,x)=>c.jsx(x9,{truncate:a,path:f(y.path),marker:y,onClick:d},x))]})}const Vqn={portal:!0,constrainSize:!0,preventOverflow:!0,tone:"default",width:0,placement:"bottom-end"};function zNe(e){const{type:t,markers:n,menuHeader:r,documentId:i}=e,o=Os(),{hasError:a,hasWarning:s}=x4(n),l=a||s?"visible":"hidden",u=p.useId()||"",d=w4(i),f=p.useCallback(h=>{d&&o.navigateIntent("edit",{id:d,path:encodeURIComponent(rn(h))})},[o,d]);return c.jsx(Jt,{id:u||"",button:c.jsx(ge,{tooltipProps:{content:"Show validation issues"},mode:"bleed","data-testid":"schedule-validation-list-button",icon:a?ua:Br,style:{visibility:l},tone:a?"critical":"default"}),menu:c.jsx(Nt,{padding:1,children:c.jsx(Ii,{width:0,children:c.jsxs(ae,{space:1,children:[r??null,c.jsx(Bqn,{documentType:t,validation:n,onFocus:f})]})})}),popover:Vqn})}const zqn=e=>{const{date:t,useElementQueries:n}=e,{formatDateTz:r}=Da(),i=$8t(t,new Date,{addSuffix:!0}),o=r({date:t,format:Ob.LARGE}),a=r({date:t,format:Ob.MEDIUM}),s=r({date:t,format:Ob.SMALL});return c.jsx(B,{size:1,textOverflow:"ellipsis",children:c.jsx(Et,{content:i,portal:!0,children:c.jsx("span",{children:n?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"date-small",children:s}),c.jsx("span",{className:"date-medium",children:a}),c.jsx("span",{className:"date-large",children:o})]}):o})})})},Uqn={portal:!0,constrainSize:!0,preventOverflow:!0,tone:"default",width:0},Cve=e=>{const{stateReason:t}=e;return c.jsx(Jt,{id:"stateReason",button:c.jsx(ge,{tooltipProps:{content:"Schedule failed"},mode:"bleed","data-testid":"schedule-validation-list-button",icon:ua,tone:"critical"}),menu:c.jsx(Nt,{padding:1,children:c.jsxs(Ii,{padding:2,width:0,children:[c.jsx(B,{size:1,children:lKn}),c.jsxs(W,{gap:3,marginTop:4,padding:1,children:[c.jsx(B,{size:1,style:{color:X1[700].hex},children:c.jsx(ua,{})}),c.jsx(B,{size:1,style:{color:X1[700].hex},weight:"medium",children:t})]})]})}),popover:Uqn})},Hqn=e=>{const{id:t}=e;return c.jsx(Vl,{user:t,withTooltip:!0})},Wqn=R(V)`
  width: 9px;
`,tee=e=>{const{children:t,contextMenu:n,linkComponent:r,onClick:i,previewState:o,publishedDocumentId:a,schedule:s,schemaType:l,useElementQueries:u}=e,{mode:d}=E0(),[f,h]=p.useState(VNe),{validation:m}=f,{hasError:g,validationTone:y}=x4(m),{formatDateTz:x}=Da(),b=Dy(s),v=b?new Date(b):null;return c.jsx(le,{padding:1,radius:2,shadow:1,tone:y,style:d==="upsell"&&s.state==="scheduled"?{opacity:.7}:void 0,children:c.jsxs(W,{align:"center",gap:1,justify:"space-between",children:[c.jsx(Et,{delay:{open:400},placement:"bottom-end",content:c.jsx(Vx,{draft:o==null?void 0:o.draft,published:o==null?void 0:o.published}),disabled:!(o!=null&&o.draft)&&!(o!=null&&o.published),children:c.jsx(le,{__unstable_focusRing:!0,as:r||void 0,"data-as":i||r?"a":void 0,flex:1,onClick:i,padding:1,radius:2,tabIndex:0,tone:y,children:c.jsxs(W,{align:"center",gap:3,justify:"flex-start",paddingLeft:t?0:[1,2],children:[t&&c.jsx(V,{style:{flexBasis:"auto",flexGrow:1},children:t}),s.action==="unpublish"&&c.jsx(W,{style:{flexShrink:0},children:c.jsx($a,{fontSize:0,mode:"outline",tone:UD[s.action].badgeTone,children:s.action})}),c.jsx(V,{display:["block","none"],style:{flexShrink:0,width:"90px"},children:c.jsx(ae,{space:2,children:v?c.jsxs(c.Fragment,{children:[c.jsx(B,{size:1,children:x({date:v,format:"dd/MM/yyyy"})}),c.jsx(B,{size:1,children:x({date:v,format:"p"})})]}):c.jsx(B,{muted:!0,size:1,children:c.jsx("em",{children:"No date specified"})})})}),c.jsx(V,{display:["none","block"],style:{flexShrink:0,maxWidth:"250px",width:t?"35%":"auto"},children:v?c.jsx(zqn,{date:v,useElementQueries:u}):c.jsx(B,{muted:!0,size:1,children:c.jsx("em",{children:"No date specified"})})}),!t&&c.jsx(V,{style:{visibility:"hidden"},children:c.jsx(Ia,{isPlaceholder:!0})}),c.jsxs(W,{align:"center",style:{flexShrink:0,marginLeft:"auto"},children:[c.jsx(V,{display:["none","none","block"],marginX:3,style:{flexShrink:0},children:c.jsx(Hqn,{id:s==null?void 0:s.author})}),c.jsx(V,{display:["none","block"],marginX:[2,2,3],style:{flexShrink:0},children:o!=null&&o.draft||o!=null&&o.published?c.jsx(tC,{draft:o==null?void 0:o.draft,published:o==null?void 0:o.published}):c.jsx(Wqn,{})})]})]})})}),c.jsxs(W,{justify:"center",style:{width:"38px"},children:[s.state==="scheduled"&&c.jsxs(V,{children:[c.jsx(Rqn,{schedule:s,updateValidation:h}),c.jsx(zNe,{markers:m,type:l,documentId:a,menuHeader:c.jsx(V,{padding:2,children:c.jsx(B,{size:1,children:g?ZQ:sKn})})})]}),s.state==="cancelled"&&c.jsx(Cve,{stateReason:s.stateReason})]}),s.state==="cancelled"&&c.jsx(Cve,{stateReason:s.stateReason}),n&&c.jsx(V,{style:{flexShrink:0},paddingRight:2,children:n})]})})},Gqn=e=>{const{schedule:t,schemaType:n}=e,{DialogScheduleEdit:r,dialogProps:i,dialogScheduleEditShow:o}=NNe(t),{onComplete:a}=iqn(),s=p.useMemo(()=>ONe(t),[t]);return c.jsxs(c.Fragment,{children:[r&&c.jsx(r,{...i}),c.jsx(tee,{contextMenu:c.jsx(BNe,{actions:{delete:!0,edit:!0},onDelete:a,onEdit:o,schedule:t,schemaType:n}),onClick:o,publishedDocumentId:s,schedule:t,schemaType:n})]})},Kqn=e=>{const{onDelete:t,schedule:n}=e,{deleteSchedule:r}=j_();return c.jsx(Jt,{button:c.jsx(Ki,{}),id:"contextMenu",menu:c.jsx(Nt,{children:c.jsx(Qe,{icon:$i,onClick:()=>{r({schedule:n}).then(()=>t==null?void 0:t())},text:"Delete schedule",tone:"critical"})}),placement:"left",popover:{portal:!0,tone:"default"}})},Yqn=({schedule:e})=>c.jsx(tee,{contextMenu:c.jsx(Kqn,{schedule:e}),schedule:e,useElementQueries:!0,children:c.jsx(Ia,{icon:Tu,layout:"default",subtitle:c.jsx("em",{children:"It may have been deleted"}),title:c.jsx("em",{style:{color:X1[600].hex},children:"Document not found"})})}),qqn=e=>{const{previewState:t,schedule:n,schemaType:r}=e,i=t.draft||t.published,o=n.state==="succeeded",a=n.state==="scheduled",{DialogScheduleEdit:s,dialogProps:l,dialogScheduleEditShow:u}=NNe(n),d=w4(i==null?void 0:i._id),f=p.useMemo(()=>{const h=p.forwardRef((m,g)=>c.jsx(Kc,{...m,intent:"edit",params:{type:r.name,id:i&&Cn(i==null?void 0:i._id)},ref:g}));return h.displayName="ForwardRef(LinkComponent)",h},[r,i]);return c.jsxs(c.Fragment,{children:[s&&c.jsx(s,{...l}),c.jsx(tee,{contextMenu:c.jsx(BNe,{actions:{clear:o,delete:!o,edit:a,execute:a},onEdit:u,schedule:n,schemaType:r}),linkComponent:f,previewState:t,publishedDocumentId:d,schedule:n,schemaType:r,useElementQueries:!0,children:t.isLoading?c.jsx(Ia,{icon:r==null?void 0:r.icon,isPlaceholder:t.isLoading,layout:"default"}):c.jsx(nC,{layout:"default",schemaType:r,value:i})})]})},UNe=e=>{const{schedule:t,type:n}=e,r=b4(t),i=MNe(t),o=eqn(r==null?void 0:r.documentId,i),a=!(o.draft||o.published)&&!o.isLoading,s=p.useMemo(()=>!i||a?c.jsx(Yqn,{schedule:t}):n==="document"?c.jsx(Gqn,{schedule:t,schemaType:i}):n==="tool"?c.jsx(qqn,{previewState:o,schedule:t,schemaType:i}):null,[a,n,o,t,i]);return c.jsx(nqn,{children:s})},Zqn=200;function Xqn(e){const{item:{content:t,virtualRow:n},measureElement:r}=e,i=p.useMemo(()=>({position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${n.start}px)`}),[n]);return c.jsx(V,{"data-index":n.index,paddingBottom:2,ref:r,style:i,children:typeof t=="string"?c.jsx(Qqn,{content:t}):c.jsx(Jqn,{schedule:t})},n.key)}function Jqn({schedule:e}){const[t,n]=p.useState(c.jsx(eZn,{}));return p.useEffect(()=>{let r=!0;const i=setTimeout(()=>{r&&n(c.jsx(UNe,{schedule:e,type:"tool"}))},Zqn);return()=>{r=!1,clearTimeout(i)}},[e]),t}function Qqn({content:e}){return c.jsx(W,{align:"flex-end",paddingBottom:2,paddingTop:4,children:c.jsx(nw,{muted:!0,size:1,children:e})})}function eZn(){return c.jsx(le,{padding:1,radius:2,shadow:1,children:c.jsx(le,{padding:1,children:c.jsx(Ia,{isPlaceholder:!0})})})}function kve(e){return new Date(e).toLocaleString("default",{month:"long",year:"numeric"})}const tZn=()=>{const{activeSchedules:e,scheduleState:t,sortBy:n}=I_(),{measureElement:r,virtualList:i,totalSize:o,containerRef:a}=nZn(e,n),{deleteSchedules:s}=j_(),l=()=>{s({schedules:e||[]})};return p.useEffect(()=>{var u;(u=a==null?void 0:a.current)==null||u.scrollTo(0,0)},[t,n,a]),c.jsxs(V,{paddingBottom:6,paddingTop:1,paddingX:4,ref:a,style:{position:"relative",overflowX:"hidden",overflowY:"auto",height:"100%",boxSizing:"border-box"},children:[c.jsx(V,{style:{height:`${o}px`,width:"100%",position:"relative"},children:i.map(u=>c.jsx(Xqn,{item:u,measureElement:r},u.key))}),t==="succeeded"&&c.jsx(W,{justify:"center",marginTop:6,children:c.jsx(ge,{icon:qy,mode:"ghost",onClick:l,text:"Clear all completed schedules"})})]})};function nZn(e,t){const n=p.useRef(null),r=p.useMemo(()=>{const a=[];return e.forEach((s,l)=>{if(t=="executeAt"){const u=e[l-1],d=Dy(u),f=l>0&&d?kve(d):null,h=Dy(s),m=h?kve(h):null;m!==f&&a.push(m||"No date specified")}a.push(s)}),a},[e,t]),i=lK({count:r.length,getScrollElement:()=>n.current,estimateSize:()=>50,overscan:5}),o=i.getVirtualItems().map(a=>{const s=r[a.index];return{content:s,key:typeof s=="string"?s:s.id,virtualRow:a}});return{containerRef:n,measureElement:i.measureElement,totalSize:i.getTotalSize(),virtualList:o}}const Sve=R(Ii)`
  width: auto;
`,rZn=()=>{const{activeSchedules:e,selectedDate:t,scheduleState:n}=I_(),{upsellData:r,telemetryLogs:i}=DNe(),{mode:o}=E0(),a=o==="upsell"&&n==="scheduled";return c.jsxs(V,{style:{height:"100%"},children:[o==="upsell"&&r&&c.jsx(Sve,{width:1,padding:4,paddingBottom:1,children:c.jsx(eee,{layout:"horizontal",data:r,onPrimaryClick:i.panelPrimaryClicked,onSecondaryClick:i.panelSecondaryClicked})}),e.length===0?c.jsx(Sve,{width:1,padding:4,paddingTop:4,children:c.jsx(XYn,{scheduleState:n,selectedDate:t})}):c.jsxs(c.Fragment,{children:[a&&c.jsx(le,{margin:4,marginBottom:2,padding:3,tone:"caution",radius:3,shadow:1,children:c.jsxs(W,{gap:3,align:"center",children:[c.jsx(B,{size:1,children:c.jsx(Br,{})}),c.jsx(B,{size:1,children:"Your scheduled documents won't be published automatically unless you upgrade your plan. You can still publish them manually."})]})}),c.jsx(V,{paddingTop:a?0:4,children:c.jsx(tZn,{})})]})]})},iZn=()=>{const{setSortBy:e,sortBy:t}=I_();return c.jsx(Jt,{button:c.jsx(Ki,{}),id:"sort",menu:c.jsxs(Nt,{style:{minWidth:"250px"},children:[c.jsx(Qe,{icon:_2,iconRight:t==="createdAt"?_a:void 0,onClick:()=>e("createdAt"),text:"Sort by time added"}),c.jsx(Qe,{icon:_2,iconRight:t==="executeAt"?_a:void 0,onClick:()=>e("executeAt"),text:"Sort by time scheduled"})]})})},w9=e=>{const{mode:t="default",selected:n}=e;return c.jsx(V,{style:{...t==="default"?{background:qk[n?100:300].hex}:{},...t==="failed"?{background:X1[500].hex}:{},borderRadius:"2px",height:"2px",width:"100%"}})};function oZn(e){const{date:t,focused:n,isCurrentMonth:r,isToday:i,onSelect:o,selected:a}=e,{schedulesByDate:s}=I_(),l=s(t),u=p.useCallback(()=>{o(a?void 0:t)},[t,o,a]);let d;i||a?d="primary":(c6t(t),d="default");const f=l.length>0,{completed:h,failed:m,upcoming:g}=p.useMemo(()=>({completed:l.filter(y=>y.state==="succeeded"),failed:l.filter(y=>y.state==="cancelled"),upcoming:l.filter(y=>y.state==="scheduled")}),[l]);return c.jsx("div",{"aria-selected":a,"data-ui":"CalendarDay",children:c.jsx(Et,{content:c.jsx(aZn,{date:t,schedules:l}),disabled:!f,portal:!0,children:c.jsxs(le,{"aria-label":t.toDateString(),"aria-pressed":a,as:"button",__unstable_focusRing:!0,"data-weekday":!0,"data-focused":n?"true":"",role:"button",tabIndex:-1,onClick:u,paddingX:3,paddingY:4,radius:2,selected:a,style:{position:"relative"},tone:d,children:[c.jsx(B,{size:1,style:{opacity:!a&&!r?.35:1,textAlign:"center"},children:a?c.jsx(eo,{}):t.getDate()}),c.jsx(V,{style:{bottom:2,left:2,position:"absolute",right:2},children:c.jsxs(W,{align:"center",gap:1,justify:"center",children:[h.length>0&&c.jsx(w9,{selected:a}),g.length>0&&c.jsx(w9,{selected:a}),m.length>0&&c.jsx(w9,{mode:"failed",selected:a})]})})]})})})}function aZn(e){const{date:t,schedules:n=[]}=e,{formatDateTz:r}=Da(),i=n.reduce((o,a)=>(o[a.state].push(a),o),{cancelled:[],succeeded:[],scheduled:[]});return c.jsxs(V,{padding:3,children:[c.jsx(V,{marginBottom:4,children:c.jsx(B,{size:1,weight:"medium",children:jd(t,"d MMMM yyyy")})}),c.jsx(ae,{space:3,children:Object.keys(i).map(o=>{const a=i[o];return a.length===0?null:c.jsxs(ae,{space:2,children:[c.jsx(nw,{muted:!0,size:0,children:v5[o].title}),c.jsx(ae,{space:1,children:a.filter(s=>s.executeAt).map(s=>{const l=Dy(s);return l?c.jsxs(Wn,{space:2,children:[c.jsx(V,{style:{width:"60px"},children:c.jsx(B,{size:1,weight:"regular",children:r({date:new Date(l),format:"p"})})}),c.jsx(W,{align:"center",style:{flexShrink:0,opacity:s.action==="unpublish"?1:0},children:c.jsx($a,{fontSize:0,mode:"outline",tone:UD[s.action].badgeTone,children:s.action})})]},s.id):null})})]},o)})})]})}const sZn=["January","February","March","April","May","June","July","August","September","October","November","December"],lZn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],cZn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],uZn=[1,2,3,4,5,6],dZn=e=>{const t=gP(e);return mP({start:t,end:vP(t)})},fZn=e=>e.map(t=>[t,...uZn.map(n=>fi(t,n))]),hZn=e=>fZn(dZn(e)).map(t=>({number:yP(t[0]),days:t}));function pZn(e){const{getCurrentZoneDate:t}=Da();return c.jsx(V,{"aria-hidden":e.hidden||!1,"data-ui":"CalendarMonth",children:c.jsxs(Xn,{style:{gridGap:"1px",gridTemplateColumns:"repeat(7, 1fr)"},children:[lZn.map(n=>c.jsx(le,{paddingY:3,children:c.jsx(nw,{size:1,style:{textAlign:"center"},children:n.slice(0,1)})},n)),hZn(e.date).map((n,r)=>n.days.map((i,o)=>{const a=e.focused&&Ga(i,e.focused),s=e.selected&&Ga(i,e.selected),l=Ga(i,t()),u=e.focused&&bP(i,e.focused);return c.jsx(oZn,{date:i,focused:a,isCurrentMonth:u,isToday:l,onSelect:e.onSelect,selected:s},`${r}-${o}`)}))]})})}const mZn=c.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1}),gZn=p.forwardRef(function(e,t){const{focusedDate:n,onFocusedDateChange:r,onSelect:i,selectedDate:o,...a}=e,{zoneDateToUtc:s}=Da(),l=p.useCallback(b=>r(s(b)),[r,s]),u=p.useCallback(b=>l(OE(n,b)),[n,l]),d=p.useCallback(b=>{if(b){const v=s(ph(V1(b,b.getHours()),b.getMinutes()));i(v),r(v)}else i(void 0)},[i,s,r]),f=p.useRef(null);p.useImperativeHandle(t,()=>f.current);const h=p.useCallback(()=>{var b,v;(v=(b=f.current)==null?void 0:b.querySelector('[data-focused="true"]'))==null||v.focus()},[f]),m=p.useCallback(b=>{var v,w;if(cZn.includes(b.key)){if(b.preventDefault(),b.currentTarget.hasAttribute("data-calendar-grid")){h();return}b.key==="ArrowUp"&&r(s(fi(n,-7))),b.key==="ArrowDown"&&r(s(fi(n,7))),b.key==="ArrowLeft"&&r(s(fi(n,-1))),b.key==="ArrowRight"&&r(s(fi(n,1))),(w=(v=f.current)==null?void 0:v.querySelector("[data-preserve-focus]"))==null||w.focus()}},[f,h,r,n,s]);p.useEffect(()=>{h()},[h]),p.useEffect(()=>{var b;(b=document.activeElement)!=null&&b.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]")&&h()},[f,h,n]);const g=p.useCallback(()=>{const b=new Date;i(b),r(b)},[i,r]),y=p.useCallback(()=>u(-1),[u]),x=p.useCallback(()=>u(1),[u]);return c.jsxs(V,{"data-ui":"Calendar",...a,ref:f,children:[c.jsx(W,{align:"center",paddingLeft:4,style:{borderBottom:"1px solid var(--card-border-color)",minHeight:`${gNe}px`,position:"sticky",top:0},children:c.jsxs(W,{align:"center",flex:1,justify:"space-between",children:[c.jsxs(B,{weight:"medium",size:1,children:[sZn[n==null?void 0:n.getMonth()]," ",n==null?void 0:n.getFullYear()]}),c.jsx(W,{paddingRight:3,gap:2,children:c.jsxs(Sa,{children:[c.jsx(ge,{icon:vg,mode:"bleed",onClick:y,tooltipProps:{content:"Previous month"}}),c.jsx(ge,{icon:Es,mode:"bleed",onClick:x,tooltipProps:{content:"Next month"}})]})})]})}),c.jsx(V,{children:c.jsxs(V,{"data-calendar-grid":!0,onKeyDown:m,overflow:"hidden",paddingBottom:1,paddingX:1,tabIndex:0,children:[c.jsx(pZn,{date:n,focused:n,onSelect:d,selected:o}),mZn]})}),c.jsx(V,{flex:1,style:{borderBottom:"1px solid var(--card-border-color)"},children:c.jsx(ge,{mode:"bleed",onClick:g,width:"fill",text:"Today"})})]})}),yZn=e=>{const{onSelect:t,selectedDate:n}=e,{getCurrentZoneDate:r,utcToCurrentZoneDate:i}=Da(),[o,a]=p.useState(n||r()),s=p.useCallback(l=>{a(i(l))},[i]);return c.jsx(gZn,{focusedDate:o,onFocusedDateChange:s,onSelect:t,selectedDate:n})},Eve=R(V)`
  flex-direction: column;
  &:not(:last-child) {
    border-right: 1px solid var(--card-border-color);
  }
`,vZn=[],_ve="yyyy-MM-dd";function bZn(){const e=Os(),{sanity:t}=tw(),{error:n,isInitialLoading:r,schedules:i=vZn}=v4(),o=p.useRef(),a=e.state.state,s=e.state.date?kq(e.state.date,_ve,new Date):void 0;p.useEffect(()=>{e.state.state&&(o.current=e.state.state)},[e.state.state]),xZn(e,a,s);const{formatDateTz:l}=Da(),u=p.useMemo(()=>({schedules:i,scheduleState:a,selectedDate:s}),[i,a,s]),d=()=>{e.navigate({state:(o==null?void 0:o.current)||b5[0]})};return c.jsx(zYn,{value:u,children:c.jsx(W,{direction:"column",height:"fill",flex:1,overflow:"hidden",children:c.jsxs(W,{flex:1,height:"fill",children:[c.jsx(Eve,{display:["none",null,null,"flex"],style:{position:"sticky",top:0,width:"350px"},children:c.jsx(yZn,{onSelect:f=>{f?e.navigate({date:l({date:f,format:_ve})}):e.navigate({state:(o==null?void 0:o.current)||b5[0]})},selectedDate:s})}),c.jsxs(Eve,{display:"flex",flex:1,overflow:"hidden",children:[c.jsx(kNe,{style:{background:t.color.card.enabled.bg,position:"sticky",top:0,zIndex:1},children:c.jsx(W,{align:"center",paddingLeft:4,paddingRight:3,style:{borderBottom:"1px solid var(--card-border-color)",minHeight:`${gNe}px`},children:c.jsxs(W,{align:"center",flex:1,justify:"space-between",children:[c.jsx(HYn,{onClearDate:d,selectedDate:s}),c.jsxs(W,{align:"center",gap:1,children:[c.jsx(CNe,{useElementQueries:!0}),c.jsx(iZn,{})]})]})})}),c.jsxs(W,{direction:"column",flex:1,children:[n&&c.jsx(V,{paddingTop:4,paddingX:4,children:c.jsx(yNe,{description:"More information in the developer console.",title:"Something went wrong, unable to retrieve schedules."})}),c.jsx(V,{flex:1,children:r?c.jsx(V,{padding:4,children:c.jsx(B,{muted:!0,children:"Loading..."})}):c.jsx(rZn,{})})]})]})]})})})}function xZn(e,t,n){p.useEffect(()=>{!t&&!n&&e.navigate({state:b5[0]},{replace:!0})},[n,e,t])}const wZn=e=>{const{buttonText:t="Action",disabled:n,icon:r,onAction:i,onComplete:o,tone:a="positive"}=e;return c.jsxs(W,{width:"full",gap:3,justify:"flex-end",children:[c.jsx(ge,{mode:"bleed",onClick:o,text:"Cancel"}),i&&c.jsx(ge,{disabled:n,icon:r,onClick:i,text:t,tone:a})]})};function CZn({id:e,schemaType:t}){return c.jsxs(ae,{space:4,children:[c.jsxs(B,{size:1,children:["Schedule this document to be published at any time in the future.",c.jsx("br",{}),"Any edits in the meantime will be added to the scheduled document."]}),c.jsx(B,{size:1,children:"Visit the Schedules page to get an overview of all schedules."}),c.jsx(kZn,{id:e,type:t})]})}function kZn({id:e,type:t}){const n=w4(e),r=tqn(t),i=fC(n,t),{hasError:o}=x4(i.validation);return o?c.jsx(le,{padding:2,radius:1,shadow:1,tone:"critical",children:c.jsxs(W,{gap:1,align:"center",children:[c.jsx(zNe,{markers:i.validation,type:r,documentId:n}),c.jsx(B,{size:1,children:ZQ})]})}):null}const SZn=e=>{const{schedules:t}=e;return c.jsx(ae,{space:4,children:t.length===0?c.jsx(V,{children:c.jsx(B,{size:1,children:"No schedules"})}):c.jsx(ae,{space:2,children:t.map(n=>c.jsx(UNe,{schedule:n,type:"document"},n.id))})})},EZn=g4("ScheduleAction"),Tve=e=>{const{draft:t,id:n,liveEdit:r,onComplete:i,published:o,type:a}=e,s=dr(),[l,u]=wf({id:n,type:a,permission:"publish"}),{createSchedule:d}=j_(),{enabled:f,mode:h}=E0(),{handleOpenDialog:m}=DNe(),[g,y]=p.useState(!1),{formData:x,onFormChange:b}=PNe(),{error:v,isInitialLoading:w,schedules:C}=v4({documentId:n,state:"scheduled"});EZn("schedules",C);const k=C&&C.length>0,S=t!==null||o!==null,E=!u&&!(l!=null&&l.granted),_=p.useCallback(()=>{h==="upsell"?m("document_action"):y(!0)},[h,m]),T=p.useCallback(()=>{x!=null&&x.date&&d({date:x.date,documentId:n}).then(i)},[i,d,n,x==null?void 0:x.date]),A=k?"Edit Schedule":"Schedule";if(E)return{disabled:!0,icon:ba,label:A,title:c.jsx(Fc,{currentUser:s,context:"edit-schedules"})};let I="This document doesn't exist yet";S&&(I=null),w&&(I="Loading schedules"),r&&(I="Live Edit is enabled for this content type and publishing happens automatically as you make changes");const j={content:v?c.jsx(yNe,{description:"More information in the developer console.",title:"Something went wrong, unable to retrieve schedules."}):c.jsx(rqn,{value:e,children:k?c.jsx(SZn,{schedules:C}):c.jsx(FNe,{onChange:b,value:x,children:c.jsx(CZn,{id:n,schemaType:a})})}),footer:!k&&c.jsx(wZn,{buttonText:"Schedule",disabled:!(x!=null&&x.date),icon:dK,onAction:T,onComplete:i,tone:"primary"}),header:c.jsx(LNe,{title:A}),onClose:i,type:"dialog"};return f?{dialog:g&&j,disabled:w||!S||r,label:A,icon:ba,onHandle:_,title:I&&c.jsx(V,{style:{maxWidth:"315px"},children:I})}:null};function _Zn(e){return e.findIndex(t=>t.action==="publish")<0?[Tve,...e]:e.flatMap(t=>t.action==="publish"?[t,Tve]:t)}const TZn=g4("ScheduledBadge"),AZn=e=>{const{schedules:t}=v4({documentId:e.id,state:"scheduled"});TZn("schedules",t);const n=t==null?void 0:t[0];if(!n||!n.executeAt)return null;const r=jd(new Date(n.executeAt),Ob.LARGE);return{color:UD[n.action].badgeColor,label:"Scheduled",title:`${UD[n.action].actionName} on ${r} (local time)`}};function jZn(e){return[...e,AZn]}function IZn(e){const{id:t,markers:n}=e,r=w4(t),{hasError:i}=x4(n),{schedules:o}=v4({documentId:r,state:"scheduled"}),{mode:a}=E0();return o.length>0?c.jsxs(V,{marginBottom:4,children:[a==="upsell"&&c.jsx(le,{tone:"caution",padding:3,radius:3,shadow:1,marginBottom:3,children:c.jsxs(W,{align:"center",gap:3,padding:1,children:[c.jsx(B,{muted:!0,size:1,children:c.jsx(Br,{})}),c.jsx(B,{muted:!0,size:1,weight:"medium",children:"Scheduled publishing is not available on your current plan"})]})}),c.jsx(le,{padding:3,radius:1,shadow:1,tone:i?"critical":"primary",style:a==="upsell"?{opacity:.7}:void 0,children:c.jsxs(ae,{space:2,children:[c.jsxs(W,{align:"center",gap:3,marginBottom:1,padding:1,children:[c.jsx(B,{muted:!0,size:1,children:c.jsx(ba,{})}),c.jsxs(B,{muted:!0,size:1,children:[c.jsx("span",{style:{fontWeight:600},children:"Upcoming schedule"})," (local time)"]})]}),c.jsx(ae,{space:2,children:o.map(s=>{if(!s.executeAt)return null;const l=jd(new Date(s.executeAt),Ob.LARGE);return c.jsxs(Wn,{space:2,children:[c.jsx(B,{muted:!0,size:1,children:l}),c.jsx(W,{style:{opacity:s.action==="unpublish"?1:0},children:c.jsx($a,{fontSize:0,mode:"outline",children:s.action})})]},s.id)})}),i&&c.jsx(V,{marginTop:3,children:c.jsx(B,{muted:!0,size:1,weight:"regular",children:ZQ})})]})})]}):null}function $Zn(e){const{value:t,validation:n,children:r}=e,i=t,o=p.useMemo(()=>n.map(a=>({level:a.level,path:a.path,item:{message:a.message},message:a.message})),[n]);return c.jsxs(c.Fragment,{children:[i!=null&&i._id?c.jsx(IZn,{id:i._id,markers:o}):null,r]})}const DZn=e=>{const{schemaType:t}=e;return HNe(t).name==="document"?c.jsx($Zn,{...e,children:e.renderDefault(e)}):e.renderDefault(e)};function HNe(e){return e.type?HNe(e.type):e}function OZn(e){const{enabled:t,mode:n}=E0();return t?c.jsx(lw,{condition:n==="upsell",wrapper:r=>c.jsx(YYn,{children:r}),children:e.renderDefault(e)}):e.renderDefault(e)}function MZn(e){return c.jsx(PYn,{children:c.jsx(OZn,{...e})})}const WNe="sanity/scheduled-publishing",PZn=h_({name:WNe,document:{actions:e=>_Zn(e),badges:e=>jZn(e)},form:{components:{input:DZn}},studio:{components:{layout:MZn}},tools:e=>[...e,{name:dKn,title:fKn,icon:ba,component:bZn,router:aa.create("/",[aa.create("/state/:state"),aa.create("/date/:date")])}]}),Vr="tasks",RZn={locale:"en-US",namespace:Vr,resources:()=>My(()=>import("./resources2-7045e9e9.js"),[])};function FZn({children:e}){var o;const{enabled:t,isLoading:n}=M_("sanityTasks"),r=(o=ri().tasks)==null?void 0:o.enabled,i=p.useMemo(()=>!r||n?{enabled:!1,mode:null}:{enabled:!0,mode:t?"default":"upsell"},[t,n,r]);return c.jsx(vwe.Provider,{value:i,children:e})}function Jc(){return p.useContext(vwe)}function LZn({children:e,isLastPane:t}){return c.jsx(Jxe.Provider,{value:t,children:e})}function NZn(){return p.useContext(Jxe)}function BZn(e){const[t,n]=p.useState(null),r=sVe({documentValue:t,permission:"read"}),i=p.useMemo(()=>({mentionOptions:r,selectedDocument:t,setSelectedDocument:n}),[r,t,n]);return c.jsx(Qxe.Provider,{value:i,children:e.children})}function D_(){const e=p.useContext(Qxe);if(!e)throw new Error("useMentionUser must be used within a MentionUserProvider");return e}const VZn=Oi({name:"Task Created",version:1,description:"A task is created"}),zZn=Oi({name:"Task Status Changed",version:1,description:"Task status changed"}),UZn=Oi({name:"Task Duplicated",version:1,description:"A task is duplicated"}),HZn=Oi({name:"Task Removed",version:1,description:"A task is removed"}),WZn=Oi({name:"Task Link Copied",version:1,description:"The link to a task is copied"}),GZn=Oi({name:"Task Link Opened",version:1,description:"User visited the studio through a link with a task"}),GNe={viewMode:"list",selectedTask:null,activeTabId:"assigned",duplicateTaskValues:null,isOpen:!1};function KZn(e,t){switch(t.type){case"TOGGLE_TASKS_VIEW":return t.payload===!1?{...GNe,isOpen:t.payload}:{...e,isOpen:t.payload};case"CREATE_TASK":return{...e,viewMode:"create",selectedTask:Ca()};case"EDIT_TASK":return{...e,viewMode:"edit",selectedTask:t.payload.id};case"EDIT_DRAFT":return{...e,viewMode:"draft",selectedTask:t.payload.id};case"DUPLICATE_TASK":return{...e,viewMode:"duplicate",selectedTask:Ca(),duplicateTaskValues:t.payload.duplicateTaskValues};case"SET_ACTIVE_TAB":return{...e,viewMode:"list",activeTabId:t.payload};case"NAVIGATE_TO_LIST":return{...e,viewMode:"list"};default:return e}}const YZn=({children:e})=>{const[t,n]=p.useReducer(KZn,GNe),r=Os(),i=Nr(),o=$s(),a=p.useCallback(m=>{switch(m.type){case"list":n({type:"NAVIGATE_TO_LIST"});break;case"create":n({type:"CREATE_TASK"});break;case"edit":n({type:"EDIT_TASK",payload:{id:m.id}});break;case"duplicate":n({type:"DUPLICATE_TASK",payload:{duplicateTaskValues:m.duplicateTaskValues}});break;case"draft":n({type:"EDIT_DRAFT",payload:{id:m.id}});break}},[]),s=p.useCallback(m=>{n({type:"SET_ACTIVE_TAB",payload:m})},[]),l=p.useCallback(()=>{n({type:"TOGGLE_TASKS_VIEW",payload:!1})},[]),u=p.useCallback(()=>{n({type:"TOGGLE_TASKS_VIEW",payload:!0})},[]),d=p.useCallback(()=>{const m=new URL(window.location.href);m.searchParams.set("sidebar","tasks"),m.searchParams.set("viewMode",t.viewMode),t.selectedTask&&m.searchParams.set("selectedTask",t.selectedTask),navigator.clipboard.writeText(m.toString()).then(()=>{i.push({closable:!0,status:"info",title:"Copied link to clipboard"}),o.log(WZn)}).catch(()=>{i.push({closable:!0,status:"error",title:"Failed to copy link to clipboard"})})},[t.selectedTask,t.viewMode,o,i]),f=new URLSearchParams(r.state._searchParams).toString();p.useEffect(()=>{if(f){const m=new URLSearchParams(f);if(m.get("sidebar")!=="tasks")return;n({type:"TOGGLE_TASKS_VIEW",payload:!0});const g=m.get("viewMode"),y=m.get("selectedTask");g==="edit"&&y&&(n({type:"EDIT_TASK",payload:{id:y}}),o.log(GZn))}},[f,o]);const h=p.useMemo(()=>({state:t,setViewMode:a,setActiveTab:s,handleCloseTasks:l,handleOpenTasks:u,handleCopyLinkToTask:d}),[l,d,u,s,a,t]);return c.jsx(bwe.Provider,{value:h,children:e})};function Zl(){return p.useContext(bwe)||qZn}const qZn={state:{activeTabId:"assigned",viewMode:"list",selectedTask:null,isOpen:!1,duplicateTaskValues:null},setActiveTab:()=>null,setViewMode:()=>null,handleCloseTasks:()=>null,handleCopyLinkToTask:()=>null,handleOpenTasks:()=>null};function ZZn(e){return e.reduce((t,n)=>({...t,[n._id]:n}),{})}function XZn(e,t){switch(t.type){case"TASKS_SET":{const n=ZZn(t.tasks);return{...e,tasks:n}}case"TASK_ADDED":{const n=t.payload,r=n,i={[n._id]:{...e.tasks[n._id],...r,_state:n._state||void 0,_createdAt:n._createdAt||new Date().toISOString()}};return{...e,tasks:{...e.tasks,...i}}}case"TASK_RECEIVED":{const n=t.payload;return{...e,tasks:{...e.tasks,[n._id]:n}}}case"TASK_DELETED":{const{[t.id]:n,...r}=e.tasks;return{...e,tasks:r}}case"TASK_UPDATED":{const n=t.payload,r=n._id,i={...e.tasks[r],...n};return{...e,tasks:{...e.tasks,[r]:i}}}default:return e}}const JZn={tasks:{}},QZn={events:["welcome","mutation","reconnect"],includeResult:!0,visibility:"query"},eXn="_createdAt",tXn="desc",nXn=['_type == "tasks.task"'],rXn=`{
  ...,
}`,iXn=`order(${eXn} ${tXn})`,Ave=`*[${nXn.join(" && ")}] ${rXn} | ${iXn}`;function oXn(e){const{client:t}=k4(),{documentId:n}=e,[r,i]=p.useReducer(XZn,JZn),[o,a]=p.useState(t!==null),[s,l]=p.useState(null),u=p.useMemo(()=>({documentId:n?Cn(n):null}),[n]),d=p.useCallback(async()=>{if(!t){a(!1);return}try{const m=await t.fetch(Ave,u);i({type:"TASKS_SET",tasks:m}),a(!1)}catch(m){l(m)}},[t,u]),f=p.useCallback(async m=>{if(m.type==="welcome"&&(a(!0),await d(),a(!1)),m.type==="reconnect"&&a(!0),m.type==="mutation"){if(m.transition==="appear"){const g=m.result;g&&i({type:"TASK_RECEIVED",payload:g})}if(m.transition==="disappear"&&i({type:"TASK_DELETED",id:m.documentId}),m.transition==="update"){const g=m.result;g&&i({type:"TASK_UPDATED",payload:g})}}},[d]),h=p.useMemo(()=>t?t.observable.listen(Ave,u,QZn).pipe(En(m=>(l(m),Se(m)))):Se(),[t,u]);return p.useEffect(()=>{const m=h.subscribe(f);return()=>{m==null||m.unsubscribe()}},[f,h]),{data:p.useMemo(()=>Object.values(r.tasks),[r.tasks]),dispatch:i,error:s,isLoading:o}}const aXn=[];function sXn(e){const{children:t}=e,[n,r]=p.useState(null),{data:i=aXn,isLoading:o}=oXn({}),a=p.useMemo(()=>Gx(r,1e3),[]),s=p.useMemo(()=>({activeDocument:n,setActiveDocument:a,isLoading:o,data:i??[]}),[n,i,o,a]);return c.jsx(ywe.Provider,{value:s,children:t})}function _0(){return p.useContext(ywe)||{activeDocument:null,setActiveDocument:()=>null,data:[],isLoading:!1}}const Dp="tasks",jve={interpolate:/{{([\s\S]+?)}}/g},Ive="www.sanity.io",lXn="2024-04-19";function cXn(e){const[t,n]=p.useState(!1),[r,i]=p.useState(null),o=$_(),a=$s(),s=on({apiVersion:lXn}),l=p.useMemo(()=>({dialogSecondaryClicked:()=>a.log(Nx,{feature:Dp,type:"modal"}),dialogPrimaryClicked:()=>a.log(Lx,{feature:Dp,type:"modal"}),panelViewed:g=>a.log(Rx,{feature:Dp,type:"inspector",source:g}),panelDismissed:()=>a.log(Fx,{feature:Dp,type:"inspector"}),panelPrimaryClicked:()=>a.log(Lx,{feature:Dp,type:"inspector"}),panelSecondaryClicked:()=>a.log(Nx,{feature:Dp,type:"inspector"})}),[a]),u=p.useCallback(()=>{l.dialogPrimaryClicked()},[l]),d=p.useCallback(()=>{l.dialogSecondaryClicked()},[l]),f=p.useCallback(()=>{n(!1),a.log(Fx,{feature:Dp,type:"modal"})},[a]);p.useEffect(()=>{const g=s.observable.request({uri:"/journey/tasks"}).subscribe({next:y=>{if(y)try{const x=jx(y.ctaButton.url,jve);y.ctaButton.url=x({baseUrl:Ive,projectId:o});const b=jx(y.secondaryButton.url,jve);y.secondaryButton.url=b({baseUrl:Ive,projectId:o}),i(y)}catch{}},error:()=>{}});return()=>{g.unsubscribe()}},[s,o]);const h=p.useCallback(g=>{n(!0),a.log(Rx,{feature:Dp,type:"modal",source:g})},[a]),m=p.useMemo(()=>({upsellDialogOpen:t,handleOpenDialog:h,upsellData:r,telemetryLogs:l}),[h,t,r,l]);return c.jsxs(xwe.Provider,{value:m,children:[e.children,r&&t&&c.jsx(qQ,{data:r,onClose:f,onPrimaryClick:u,onSecondaryClick:d})]})}function KNe(){return p.useContext(xwe)||uXn}const uXn={upsellData:null,handleOpenDialog:()=>null,upsellDialogOpen:!1,telemetryLogs:{dialogSecondaryClicked:()=>null,dialogPrimaryClicked:()=>null,panelViewed:()=>null,panelDismissed:()=>null,panelPrimaryClicked:()=>null,panelSecondaryClicked:()=>null}};function YNe(){const{handleOpenTasks:e,setViewMode:t}=Zl(),{enabled:n,mode:r}=Jc(),{handleOpenDialog:i}=KNe(),o=p.useCallback(()=>{r==="upsell"?i("document_action"):(e(),t({type:"create"}))},[e,t,r,i]),{t:a}=Q(Vr);return p.useMemo(()=>n?{icon:TM,label:a("actions.create.text"),title:a("actions.create.text"),group:["paneActions"],onHandle:o}:null,[n,o,a])}YNe.displayName="TaskCreateAction";function dXn(e){const{documentId:t,documentType:n}=e,r=NZn(),{setActiveDocument:i}=_0();return p.useEffect(()=>(t&&r&&n&&(i==null||i({documentId:Cn(t),documentType:n})),()=>{r&&(i==null||i(null))}),[t,n,r,i]),null}function fXn(e){const{enabled:t}=Jc();return t?c.jsx(dXn,{...e}):null}function hXn(e){var r,i;const t=(r=e.value)==null?void 0:r._id,n=(i=e.value)==null?void 0:i._type;return c.jsxs(c.Fragment,{children:[c.jsx(fXn,{documentId:t,documentType:n}),e.renderDefault(e)]})}const pXn=R.div`
  position: relative;
  [data-ui='Badge'] {
    position: absolute;
    top: -2px;
    right: -2px;
  }
`;function mXn(){const{data:e,activeDocument:t}=_0(),{handleOpenTasks:n,setActiveTab:r}=Zl(),i=Vy(),o=p.useMemo(()=>t!=null&&t.documentId?e.filter(l=>{var u;return((u=l.target)==null?void 0:u.document._ref)===t.documentId&&l.status==="open"&&l.createdByUser}):[],[t,e]),a=p.useCallback(()=>{n(),r("document")},[n,r]),{t:s}=Q(Vr);return o.length===0?null:i<3?c.jsxs(pXn,{children:[c.jsx(ge,{mode:"bleed",icon:TM,size:"large",onClick:a,tooltipProps:{content:s("document.footer.open-tasks.placeholder",{count:o.length})}}),c.jsx($a,{tone:"primary",fontSize:0,children:o.length})]}):c.jsx(ge,{mode:"bleed",tooltipProps:{content:s("document.footer.open-tasks.placeholder",{count:o.length})},text:s("document.footer.open-tasks.text",{count:o.length}),onClick:a})}function qNe({documentId:e,documentType:t,dataset:n,projectId:r}){return{documentType:t,document:{_ref:Cn(e),_type:"crossDatasetReference",_dataset:n,_projectId:r,_weak:!0}}}function GD(e){if(!e)return[];const t=[];return e==null||e.forEach(n=>{qa(n)&&n.children.forEach(r=>{r._type==="mention"&&typeof r.userId=="string"&&!t.includes(r.userId)&&t.push(r.userId)})}),t}const ZNe="2024-03-05",Bx=[{value:"open",title:"To Do",icon:c.jsx(Qb,{})},{value:"closed",title:"Done",icon:c.jsx(qy,{})}],gXn=["title","status","assignedTo","dueBy","target","description"],yXn=2*60*1e3;function vXn(e){const t=[];for(const n of e){const r=t[t.length-1];if(!r){t.push(n);continue}if(!gXn.includes(n.field)){t.push(n);continue}if(r.author===n.author&&r.field===n.field){const i=new Date(r.timestamp),o=new Date(n.timestamp);if(Math.abs(i.getTime()-o.getTime())<=yXn){r.to=n.to,r.timestamp=n.timestamp;continue}}t.push(n)}return t}function bXn(e){const{_rev:t,...n}=e;return n}function xXn(e,t,n){let r=bXn(e);const i=[];let o=r;for(const l of t){const{timestamp:u,effects:d}=l,f=l.documentIDs[0],h=d[f];!h||!h.revert||(o=AD(r,h.revert),n.forEach(m=>{(o==null?void 0:o[m])!==(r==null?void 0:r[m])&&i.push({field:m,from:o==null?void 0:o[m],to:r==null?void 0:r[m],timestamp:u,author:l.author})}),r=o)}const a=i.sort((l,u)=>l.timestamp.localeCompare(u.timestamp)),s=a.findIndex(l=>l.field==="createdByUser");return vXn(a.slice(s+1))}function wXn(e){const[t,n]=p.useState([]),r=on({apiVersion:ZNe}),{dataset:i,token:o}=r.config(),a="tag=sanity.studio.tasks.history&effectFormat=mendoza&excludeContent=true&includeIdentifiedDocumentsOnly=true&reverse=true",s=Cn((e==null?void 0:e._id)??""),l=r.getUrl(`/data/history/${i}/transactions/${s}?${a}`),u=p.useCallback(async d=>{try{if(!s)return;const f=[],h=(await e7e(l,o)).getReader();let m;for(;m=await h.read(),!m.done;){if("error"in m.value)throw new Error(m.value.error.description||m.value.error.type);f.push(m.value)}const g=["createdByUser","title","description","dueBy","assignedTo","status","target"],y=await xXn(d,[...f],g);n(y)}catch(f){console.error("Failed to fetch and parse activity log",f)}},[l,o,s]);return p.useEffect(()=>{u(e)},[u,e._rev]),{changes:t}}function nee(e){const{documentId:t,documentType:n}=e||{},r=un().get(n),i=No(),o=p.useMemo(()=>!t||!r?Se(null):rC(i,r,t,""),[t,i,r]),a=bi(o),s=(a==null?void 0:a.isLoading)??!0,{published:l,draft:u}=a||{},d=(u==null?void 0:u.title)||(l==null?void 0:l.title),f=(u==null?void 0:u.subtitle)||(l==null?void 0:l.subtitle),h=(u==null?void 0:u.description)||(l==null?void 0:l.description),m=(u==null?void 0:u.media)||(l==null?void 0:l.media);return{isLoading:s,value:{title:d,subtitle:f,media:m,description:h}}}function XNe(){const{client:e,createAddonDataset:t}=k4(),n=dr(),r=p.useCallback(async a=>{if(!n)throw new Error("No current user found. Unable to create task.");const s={...a,authorId:n.id,_type:"tasks.task"};if(!e)try{const l=await t();if(!l)throw new Error("No addon client found. Unable to create task.");return await l.create(s)}catch(l){throw l}try{return await e.create(s)}catch(l){throw l}},[e,t,n]),i=p.useCallback(async(a,s)=>{try{if(!e)throw new Error("No client. Unable to create task.");return await e.patch(a).set(s).commit()}catch(l){throw l}},[e]),o=p.useCallback(async a=>{try{if(!e)throw new Error("No client. Unable to create task.");await e.delete(a)}catch(s){throw s}},[e]);return p.useMemo(()=>({create:r,edit:i,remove:o}),[r,i,o])}function JNe({id:e,onError:t,onRemoved:n}){const[r,i]=p.useState("idle"),[o,a]=p.useState(!1),[s,l]=p.useState(null),u=XNe(),d=p.useCallback(async()=>{try{i("loading"),await u.remove(e),n==null||n(),i("idle"),await new Promise(m=>setTimeout(m,300)),a(!1)}catch(m){t==null||t(m.message),l(m.message),i("error")}finally{i("idle")}},[e,u,t,n]),f=p.useCallback(()=>{a(!0)},[a]),h=p.useCallback(()=>{a(!1)},[a]);return{removeStatus:r,showDialog:o,error:s,handleRemove:d,handleOpenDialog:f,handleCloseDialog:h}}const CXn={month:"long",day:"2-digit",minute:"2-digit",hour:"2-digit",second:"2-digit"},kXn={minimal:!0,useTemporalPhrase:!0},ree=R.strong`
  font-weight: 600;
`,iee=R.span`
  white-space: nowrap;
`;function QNe(e){const t=new Date(e),n=$c(CXn).format(t);return{timeAgo:Oy(t||"",kXn),formattedDate:n}}function eBe({userId:e}){const[t,n]=bf(e);return n?c.jsx(wr,{style:{width:"15ch"}}):c.jsx(ree,{children:t==null?void 0:t.displayName})}const SXn={month:"short",day:"numeric"};function $ve({date:e}){const t=new Date(e),n=$c(SXn).format(t);return c.jsx(ree,{children:c.jsx(iee,{children:n})})}const EXn=R.span`
  > a {
    color: var(--card-fg-muted-color);
    text-decoration: underline;
    text-underline-offset: 1px;
    font-weight: 600;
  }
`;function _Xn({target:e}){const t=un(),n=e.document._ref,r=e.documentType,i=t.get(r),{isLoading:o,value:a}=nee({documentId:n,documentType:r});return o?c.jsx(wr,{style:{width:"15ch"}}):i?c.jsx(EXn,{children:c.jsx(Kc,{intent:"edit",params:{id:n,type:r},children:a==null?void 0:a.title})}):null}function TXn(e){var t,n;switch(e.field){case"status":{const r=(t=Bx.find(i=>i.value===e.to))==null?void 0:t.title;return{text:"changed status to",icon:((n=Bx.find(i=>i.value===e.to))==null?void 0:n.icon)||c.jsx(Qb,{}),changeTo:c.jsx(ree,{children:r})}}case"target":return e.to?{text:"set target content to",icon:c.jsx(Rl,{}),changeTo:c.jsx(_Xn,{target:e.to})}:{text:"removed target content",icon:c.jsx(Rl,{}),changeTo:void 0};case"dueBy":return e.from?e.to?{text:"changed the due date to",icon:c.jsx(ba,{}),changeTo:c.jsx($ve,{date:e.to})}:{text:"removed the due date",icon:c.jsx(ba,{}),changeTo:void 0}:{text:"set the due date to",icon:c.jsx(ba,{}),changeTo:c.jsx($ve,{date:e.to})};case"assignedTo":return e.to?{text:"assigned to",icon:c.jsx(T2,{}),changeTo:c.jsx(eBe,{userId:e.to})}:{text:"unassigned this task",icon:c.jsx(T2,{}),changeTo:void 0};case"description":return{text:"updated the task description",icon:c.jsx(Oh,{}),changeTo:void 0};case"title":return{text:"updated the task title",icon:c.jsx(Oh,{}),changeTo:void 0};default:return{text:"",icon:c.jsx(Qb,{})}}}const AXn=p.memo(function(e){const{activity:t}=e,{formattedDate:n,timeAgo:r}=QNe(t.timestamp),{icon:i,text:o,changeTo:a}=TXn(t);return c.jsxs(W,{gap:1,children:[c.jsx(V,{marginTop:1,marginLeft:1,marginRight:3,children:c.jsx(V,{marginRight:1,children:c.jsx(B,{children:i})})}),c.jsxs(B,{muted:!0,size:1,children:[c.jsx(eBe,{userId:t.author})," ",o," ",a," "," ",c.jsx(Et,{content:n,placement:"top-end",children:c.jsx(iee,{children:c.jsx("time",{dateTime:n,children:r})})})]})]})},(e,t)=>e.activity.timestamp===t.activity.timestamp),Dve=R.div(e=>{var n,r;const t=$e(e.theme);return he`
      min-height: ${(n=t.avatar.sizes[e.$size])==null?void 0:n.size}px;
      min-width: ${(r=t.avatar.sizes[e.$size])==null?void 0:r.size}px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      ${e.$border?"box-shadow: inset 0 0 0 1px var(--card-border-color);":""};
      ${e.$removeBg?"--card-avatar-gray-bg-color: transparent;":""}
    `}),jXn=R(rf)(e=>{var n,r;const t=$e(e.theme);return he`
    height: ${(n=t.avatar.sizes[e.$size])==null?void 0:n.size}px;
    width: ${(r=t.avatar.sizes[e.$size])==null?void 0:r.size}px;
    border-radius: 50%;
  `});function hC(e){const{user:t,size:n=0,border:r=!0}=e,[i,o]=bf((t==null?void 0:t.id)||"");return o?c.jsx(jXn,{$size:n,animated:!0}):!t||!i?c.jsx(Dve,{$size:n,$border:r,children:c.jsx(B,{size:n,children:c.jsx(T2,{})})}):c.jsx(Et,{content:i.displayName,disabled:!e.withTooltip,portal:!0,fallbackPlacements:["top","top-start"],placement:"top-end",children:c.jsx(Dve,{$size:n,$removeBg:!!(i!=null&&i.imageUrl),children:c.jsx(Vl,{user:i,size:n,...i!=null&&i.imageUrl?{color:void 0}:{},...e.withTooltip?{title:null}:{}})})})}const IXn=R(W)`
  height: 100%;
`,$Xn=R.div`
  width: 100%;
`;function oee({avatarPaddingTop:e=1,userId:t,children:n}){return c.jsxs(W,{children:[c.jsx(V,{marginRight:3,paddingTop:e,children:c.jsx(hC,{user:{id:t},size:0})}),c.jsx(IXn,{align:"center",flex:1,children:c.jsx($Xn,{children:n})})]})}function DXn(e){const{mentionOptions:t,currentUser:n,onSubmit:r}=e,{mode:i}=Jc(),[o,a]=p.useState(null),s=p.useRef(null),l=p.useMemo(()=>S0(o),[o]),u=p.useCallback(y=>{a(y)},[]),d=p.useCallback(()=>{l&&(r(o),a(null))},[l,r,o]),f=p.useCallback(()=>{var y;(y=s.current)==null||y.discardDialogController.close()},[]),h=p.useCallback(()=>{var y;(y=s.current)==null||y.discardDialogController.close(),a(null)},[]),m=p.useCallback(y=>{var x,b;y.key==="Escape"&&(y.preventDefault(),y.stopPropagation(),l?(x=s.current)==null||x.discardDialogController.open():((b=s.current)==null||b.discardDialogController.close(),a(null)))},[l]),{t:g}=Q(Vr);return c.jsx(oee,{userId:n.id,avatarPaddingTop:3,children:c.jsx(le,{tone:"transparent",radius:3,padding:2,children:c.jsx(T0,{withAvatar:!1,currentUser:n,expandOnFocus:!0,mentionOptions:t,onChange:u,onDiscardConfirm:h,onDiscardCancel:f,onKeyDown:m,onSubmit:d,readOnly:i==="upsell",placeholder:g(i==="upsell"?"panel.comment.placeholder.upsell":"panel.comment.placeholder"),ref:s,value:o})})})}const OXn={parentCommentAvatar:!1,threadCommentsAvatar:!0,replyAvatar:!0,avatarSize:0},MXn=R.div(e=>{const t=$e(e.theme);return he`
    [data-ui='CommentsListItem'] {
      padding-right: ${t.space[2]}px;
    }

    // Increase the padding when the comment input is focused
    [data-ui='CommentInputEditableWrap']:focus-within {
      padding-bottom: ${t.space[2]}px;
    }
  `});function PXn(e){const{parentComment:t}=e,{mode:n}=Jc();return c.jsx(oee,{userId:t.authorId,avatarPaddingTop:3,children:c.jsx(MXn,{children:c.jsx(EVe,{...e,avatarConfig:OXn,canReply:!0,isSelected:!1,mode:n??"default"})})})}const RXn=R(wr)`
  max-width: 15ch;
  width: '100%';
`,FXn=p.memo(function(e){const{createdAt:t,authorId:n}=e,[r,i]=bf(n),{timeAgo:o,formattedDate:a}=QNe(t),{t:s}=Q(Vr);return c.jsx(oee,{userId:n,children:c.jsx(W,{align:"center",paddingTop:1,children:c.jsxs(B,{size:1,muted:!0,children:[c.jsxs("strong",{style:{fontWeight:600},children:[i?c.jsx(RXn,{}):(r==null?void 0:r.displayName)??s("panel.activity.unknown-user")," "]}),s("panel.activity.created-fragment")," "," ",c.jsx(Et,{content:a,placement:"top-end",children:c.jsx(iee,{children:c.jsx("time",{dateTime:t,children:o})})})]})})})},(e,t)=>e.createdAt===t.createdAt);function LXn(e){var s,l;const{value:t,onChange:n,path:r,currentUserId:i}=e,o=(s=t.subscribers)!=null&&s.includes(i)?"Unsubscribe":"Subscribe",a=p.useCallback(()=>{const u=t.subscribers||[];u.includes(i)||n(gt(u.concat(i),r)),u.includes(i)&&n(gt(u.filter(d=>d!==i),r))},[t.subscribers,i,n,r]);return c.jsxs(W,{gap:1,align:"center",children:[c.jsx(ge,{mode:"bleed",text:o,onClick:a}),t.subscribers&&((l=t.subscribers)==null?void 0:l.length)>0&&c.jsx(BXn,{subscriberIds:t.subscribers})]})}const NXn=[];function BXn(e){const{subscriberIds:t}=e,n=p.useMemo(()=>(t==null?void 0:t.filter(Boolean))||NXn,[t]);return c.jsx(hf,{initial:!1,children:c.jsx(nE,{maxLength:3,size:0,children:n.map(r=>c.jsx(na.div,{exit:{opacity:0,translateX:"2px",scale:.9},animate:{opacity:1,translateX:0,scale:1,transition:{type:"just",duration:.2}},initial:{opacity:0,translateX:"2px",scale:.9},children:c.jsx(hC,{user:{id:r},size:0})},r))})})}const C9=[],VXn={hidden:{opacity:0,x:0},visible:{opacity:1,x:0}},zXn=R(na(ae))``;function UXn(e){const{value:t,onChange:n,path:r,activityData:i=[]}=e,o=dr(),{title:a,basePath:s}=ri(),{comments:l,mentionOptions:u,operation:d,getComment:f}=f4(),[h,m]=p.useState(null),[g,y]=p.useState(null),[x,b]=p.useState(!1),v=l.loading,w=l.data.open,C=p.useCallback((M,P)=>{const F=new URL(`${window.location.origin}${s?`${s}/`:""}`);F.searchParams.set("sidebar","tasks"),F.searchParams.set("selectedTask",t==null?void 0:t._id),F.searchParams.set("viewMode","edit"),F.searchParams.set("commentId",P);const L=GD(M),U=Array.from(new Set([...t.subscribers||[],...L]));return{documentTitle:t.title||"Sanity task",url:F.toString(),workspaceTitle:a,subscribers:U}},[s,t==null?void 0:t._id,t.title,a,t.subscribers]),k=p.useCallback(M=>{const P=Ca(),F=C(M,P),L={id:P,type:"task",message:M,parentCommentId:void 0,reactions:C9,status:"open",threadId:Ca(),context:{notification:F}};n(gt(F.subscribers,["subscribers"])),d.create(L)},[d,C,n]),S=p.useCallback(M=>{const P=Ca(),F=C(M.message,P);n(gt(F.subscribers,["subscribers"])),d.create({id:P,type:"task",message:M.message,parentCommentId:M.parentCommentId,reactions:C9,status:"open",threadId:M.threadId,context:{notification:F}})},[d,C,n]),E=p.useCallback(M=>{const P=f(M);if(!P)return;const F=C(P.message,P._id);n(gt(F.subscribers,["subscribers"])),d.create({type:"task",id:P._id,message:P.message,parentCommentId:P.parentCommentId,reactions:P.reactions||C9,status:P.status,threadId:P.threadId,context:{notification:F}})},[f,d,C,n]),_=p.useCallback((M,P)=>{d.react(M,P)},[d]),T=p.useCallback(M=>m(M),[]),A=p.useCallback(()=>m(null),[]),I=p.useCallback(async M=>{try{b(!0),y(null),await d.remove(M),m(null)}catch(P){y(P)}finally{b(!1)}},[d]),j=p.useCallback((M,P)=>{d.update(M,P)},[d]),$=p.useMemo(()=>{const M=i.map(F=>({_type:"activity",payload:F,timestamp:F.timestamp})),P=w.map(F=>({_type:"comment",payload:F,timestamp:F.parentComment._createdAt}));return M.concat(P).sort((F,L)=>new Date(F.timestamp).getTime()-new Date(L.timestamp).getTime())},[i,w]),{t:D}=Q(Vr),O=p.useMemo(()=>{var P;const M=w.find(F=>{var L;return((L=F.parentComment)==null?void 0:L._id)===h});return!!(M&&((P=M==null?void 0:M.replies)==null?void 0:P.length)>0)},[h,w]);return c.jsxs(c.Fragment,{children:[h&&c.jsx(yVe,{commentId:h,error:g,isParent:O,loading:x,onClose:A,onConfirm:I}),c.jsxs(ae,{space:5,children:[c.jsxs(W,{align:"center",children:[c.jsx(V,{flex:1,children:c.jsx(B,{size:2,weight:"semibold",children:D("panel.activity.title")})}),(o==null?void 0:o.id)&&c.jsx(LXn,{currentUserId:o.id,value:t,onChange:n,path:r})]}),v&&c.jsx(Dn,{showText:!0,title:"Loading activity"}),c.jsx(hf,{children:!v&&c.jsxs(zXn,{animate:"visible",initial:"hidden",space:4,variants:VXn,children:[t.createdByUser&&c.jsx(ae,{paddingBottom:1,children:c.jsx(FXn,{createdAt:t.createdByUser,authorId:t.authorId})}),o&&c.jsxs(ae,{space:4,marginTop:1,children:[$.map(M=>M._type==="activity"?c.jsx(AXn,{activity:M.payload},M.timestamp):c.jsx(PXn,{currentUser:o,mentionOptions:u,onCreateRetry:E,onDelete:T,onEdit:j,onReactionSelect:_,onReply:S,parentComment:M.payload.parentComment,replies:M.payload.replies},M.payload.parentComment._id)),c.jsx(DXn,{currentUser:o,mentionOptions:u,onSubmit:k})]})]})})]})]})}function HXn(e){const{user:t,onSelect:n,pressed:r}=e,{t:i}=Q(Vr),o=p.useCallback(()=>n(t.id),[t,n]);return c.jsx(Uy,{onClick:o,padding:1,disabled:!t.granted,pressed:r,children:c.jsxs(W,{align:"center",gap:3,children:[c.jsxs(W,{align:"center",gap:2,flex:1,children:[c.jsx(hC,{user:t.id?t:void 0,size:1}),c.jsx(B,{size:1,textOverflow:"ellipsis",title:t.displayName,children:t.displayName})]}),!t.granted&&c.jsx($a,{fontSize:1,mode:"outline",children:i("form.input.assignee.unauthorized.text")})]})})}const WXn=R(Nt)`
  width: 308px;
  border-radius: 3px;
`,GXn=["Control","Shift","Alt","Enter","Home","End","PageUp","PageDown","Meta","Tab","CapsLock"],KXn={id:"",displayName:"No assignee",granted:!0};function YXn({onSelect:e,value:t=""}){const[n,r]=p.useState(""),{mentionOptions:i}=D_(),o=p.useRef(null),a=[KXn].concat(i.data||[]),s=p.useCallback(h=>{r(h.currentTarget.value)},[]),l=p.useMemo(()=>{var m,g;if(!n)return a||[];const h=ax(n).toLocaleLowerCase();return((g=(m=a==null?void 0:a.map(y=>({...y,searchName:ax(y.displayName||"").toLocaleLowerCase()})))==null?void 0:m.filter(y=>y==null?void 0:y.searchName.includes(h)))==null?void 0:g.sort((y,x)=>{const b=y.searchName.startsWith(h),v=x.searchName.startsWith(h);return b&&!v?-1:!b&&v?1:0}))||[]},[a,n]),u=p.useCallback(h=>c.jsx(HXn,{user:h,onSelect:e,pressed:h.id===t},h.id),[e,t]),d=p.useCallback(h=>{var m;h.target!==o.current&&(GXn.includes(h.key)||((m=o.current)==null||m.focus()))},[]),{t:f}=Q(Vr);return i.loading?c.jsx(Ii,{width:0,children:c.jsx(Dn,{showText:!0})}):c.jsxs("div",{onKeyDown:d,children:[c.jsx(ei,{placeholder:f("form.input.assignee.search.placeholder"),autoFocus:!0,border:!1,onChange:s,value:n,fontSize:1,icon:T2,ref:o,name:"assigneeSearch",autoComplete:"off"}),c.jsx("div",{style:{maxHeight:"320px",overflowY:"scroll",paddingTop:"8px"},children:l.length===0?c.jsx(V,{padding:3,children:c.jsx(B,{align:"center",size:1,muted:!0,children:f("form.input.assignee.search.no-users.text")})}):l.map(u)})]})}function tBe(e){const{onSelect:t,menuButton:n,value:r}=e;return c.jsx(Jt,{button:n,id:"assign-user-menu",menu:c.jsx(WXn,{children:c.jsx(YXn,{onSelect:t,value:r})}),popover:{placement:"bottom",fallbackPlacements:["bottom"],portal:!0,constrainSize:!0}})}const qXn=R(le)(e=>{const t=$e(e.theme);return he`
    &[data-as='button'] {
      border: 1px solid var(--card-border-color);
      &:focus-within {
        border: 1px solid var(--card-focus-ring-color);
      }
      --card-muted-fg-color: ${t.color.input.default.enabled.placeholder};
    }
  `});function ZXn(e){const{value:t,onChange:n}=e,{mentionOptions:r}=D_(),i=p.useMemo(()=>{var l;return(l=r.data)==null?void 0:l.find(u=>u.id===t)},[r.data,t]),o=p.useCallback(l=>n(gt(l)),[n]),{t:a}=Q(Vr),s=p.useMemo(()=>{if(t){if(r.loading)return c.jsx(wr,{animated:!0,style:{width:"10ch"}});if(i)return i.displayName||i.email;if(!i)return a("form.input.assignee.user-not-found.text")}return a("form.input.assignee.search.placeholder")},[r.loading,i,t,a]);return c.jsx(tBe,{onSelect:o,value:t,menuButton:c.jsx(qXn,{"data-as":"button",padding:1,radius:2,tabIndex:0,children:c.jsxs(W,{align:"center",gap:3,children:[c.jsxs(W,{align:"center",gap:1,flex:1,children:[c.jsx(hC,{user:i,size:1,border:!1}),c.jsx(B,{size:1,textOverflow:"ellipsis",muted:!i,children:s})]}),t&&i&&!i.granted&&c.jsx($a,{fontSize:1,mode:"outline",children:a("form.input.assignee.unauthorized.text")})]})})})}const XXn=R(zt)`
  padding: 3px 6px;
`;function JXn(e){const{value:t,onChange:n,path:r}=e,i=x_(["subscribers"]),{mentionOptions:o}=D_(),a=p.useMemo(()=>{var d;return(d=o.data)==null?void 0:d.find(f=>f.id===t)},[o.data,t]),{t:s}=Q(Vr),l=p.useCallback(d=>{n(gt(d,r)),i&&!i.includes(d)&&d&&n(gt([...i,d],["subscribers"]))},[n,r,i]),u=p.useMemo(()=>{if(t){if(o.loading)return c.jsx(wr,{animated:!0,style:{width:"10ch"}});if(a)return a.displayName||a.email;if(!a)return s("form.input.assignee.user-not-found.text")}return s("form.input.assignee.no-user-assigned.text")},[o.loading,a,t,s]);return c.jsx(tBe,{onSelect:l,value:t,menuButton:c.jsx(XXn,{mode:"ghost",padding:0,children:c.jsx(Et,{content:s(t?"form.input.assignee.user-assigned.tooltip":"form.input.assignee.no-user-assigned.tooltip"),children:c.jsxs(W,{align:"center",gap:3,children:[c.jsxs(W,{align:"center",gap:2,flex:1,children:[c.jsx(hC,{user:a,size:0}),c.jsx(V,{children:c.jsx(B,{size:1,textOverflow:"ellipsis",children:u})})]}),t&&a&&!a.granted&&c.jsx($a,{fontSize:1,mode:"outline",children:s("form.input.assignee.unauthorized.text")})]})})})})}const QXn=e=>Sw(e,xg),eJn=e=>YM(e,xg);function tJn(e){var w;const{value:t,onChange:n,path:r}=e,{t:i}=Q(),{t:o}=Q(Vr),[a,s]=p.useState(!1),l=p.useRef(null),u=p.useRef(null),d=$c({dateStyle:"long"}),f=p.useMemo(()=>{if(!t)return{short:"----",full:"----"};const C=d.format(new Date(t)),[k]=C.split(",");return{short:k,full:C}},[d,t]);On(()=>s(!1),()=>[l.current]);const h=p.useCallback(C=>{C.key==="Escape"&&s(!1)},[]),m=p.useCallback(()=>s(C=>!C),[]),g=p.useMemo(()=>aQ(i),[i]),y=p.useCallback(C=>{n(C?gt(QXn(C),r):kt(r)),s(!1)},[n,r]),x=eJn(t),b=p.useCallback(()=>{var C;(C=u.current)==null||C.focus()},[u]),v=((w=x==null?void 0:x.date)==null?void 0:w.getFullYear())===new Date().getFullYear();return c.jsx(Fn,{constrainSize:!0,"data-testid":"date-input-dialog",portal:!0,ref:l,content:c.jsx(V,{overflow:"auto",children:c.jsxs(Ku,{onDeactivation:b,children:[c.jsx(ELe,{calendarLabels:g,selectTime:!1,timeStep:1,onKeyUp:h,value:x.date,onChange:y}),t&&c.jsx(W,{justify:"flex-start",padding:3,paddingTop:0,children:c.jsx(ge,{mode:"bleed",text:o("form.input.date.buttons.remove.text"),onClick:()=>y(null),tone:"critical"})})]})}),open:a,placement:"bottom",fallbackPlacements:["bottom-start","bottom-end"],children:c.jsx(ge,{icon:ba,mode:"ghost",text:v?f.short:f.full,onClick:m,ref:u,tooltipProps:{content:o(t?"form.input.date.buttons.tooltip":"form.input.date.buttons.empty.tooltip")}})})}const nJn=R(B)`
  word-break: break-word;
`;function rJn(e){const{children:t}=e;return c.jsx(V,{paddingTop:2,paddingBottom:3,children:c.jsx(nJn,{size:1,children:t})})}const iJn=e=>{const{children:t}=e;return c.jsx(rJn,{children:t})},oJn=R.div(e=>{const t=$e(e.theme),n=e.$mode==="edit"?t.space[1]:t.space[3],r=e.$mode==="edit"?120:200;return he`
    /* select CommentInputEditableWrap and change the padding */
    [data-ui='CommentInputEditableWrap'] {
      overflow: hidden;
      padding: ${e.$mode==="edit"?`${n}px 0px`:`${n}px ${t.space[2]}px`};
      min-height: ${Math.max(e.$minHeight+n,r)}px !important;
    }
    #comment-input-root {
      box-shadow: ${e.$mode==="edit"?"none":""};
    }
    [data-ui='CommentInputActions'] {
      display: none !important;
    }
  `});function aJn(e){const{value:t,mode:n,inputProps:{onChange:r}}=e,i=t,o=dr(),{mentionOptions:a}=D_(),s=p.useCallback(y=>r(gt(y)),[r]),[l,u]=p.useState(null),[d,f]=p.useState(200),h=p.useCallback(y=>{const x=y.querySelector('[role="textbox"]');if(!x)return;const b=x.scrollHeight;f(b)},[]),m=p.useCallback(y=>{y&&p.startTransition(()=>{u(y)})},[]),{t:g}=Q(Vr);return p.useEffect(()=>{l&&h(l)},[i,h,l]),o?c.jsx(oJn,{$mode:n,ref:m,$minHeight:d,children:c.jsx(T0,{expandOnFocus:!1,currentUser:o,mentionOptions:a,onChange:s,value:i??[],withAvatar:!1,placeholder:g("form.input.description.placeholder"),onDiscardConfirm:()=>null,renderBlock:iJn})}):null}const nBe=R.div(e=>{const t=$e(e.theme);return he`
    // Reset the padding of the field header content box
    [data-ui='fieldHeaderContentBox'] {
      padding: 0;
      label {
        font-weight: ${t.font.text.weights.regular};
      }
    }
  `});function Ove(e){return c.jsx(nBe,{children:e.renderDefault(e)})}const sJn=p.forwardRef(function(e,t){var l;const{t:n}=Q(Vr),{value:r,options:i,...o}=e,a=i.find(u=>u.value===r),s=(l=Bx.find(u=>u.value===r))==null?void 0:l.icon;return c.jsx(ge,{...o,ref:t,tooltipProps:{content:n("form.input.status.button.tooltip")},icon:s,text:(a==null?void 0:a.title)||r,tone:"default",mode:"ghost"})});function lJn(e){const{value:t,onChange:n,options:r,path:i}=e,o=$s(),a=p.useCallback(s=>{n(gt(s,i)),o.log(zZn,{from:t,to:s})},[n,i,o,t]);return c.jsx(Jt,{button:c.jsx(sJn,{value:t,options:r}),id:"reference-menuButton",menu:c.jsx(Nt,{children:r.map(s=>{var d;const l=t===s.value,u=(d=Bx.find(f=>f.value===s.value))==null?void 0:d.icon;return c.jsx(Qe,{icon:typeof s.value=="string"&&u||Qb,text:s.title||s.value,pressed:l,iconRight:l&&c.jsx(_a,{}),onClick:()=>a(s.value)},s.title)})})})}function cJn(){return c.jsx("div",{children:"Config errors"})}function aee({children:e}){return c.jsx(QBe,{LoadingComponent:Dn,ConfigErrorsComponent:cJn,children:e})}const uJn=R(le)(e=>{const t=$e(e.theme);return he`
    &:focus {
      border: 1px solid var(--card-focus-ring-color);
    }
    &:focus-visible {
      outline: none;
      border: 1px solid var(--card-focus-ring-color);
    }
    &:hover {
      border-color: ${t.color.input.default.hovered.border};
    }
  `}),dJn=R(B)(e=>`
      color: ${$e(e.theme).color.input.default.enabled.placeholder};
      margin-left: 3px;
  `),fJn=R(le)`
  position: relative;
  [data-ui='show-on-hover'] {
    opacity: 0;
    position: absolute;
    right: 6px;
    top: 4px;
    display: flex;
  }
  &:focus-within,
  &:hover {
    padding-right: 36px;
    /* Hides the preview status dot, the button will take it's position. */
    [data-testid='compact-preview__status'] {
      opacity: 0;
    }
    [data-ui='show-on-hover'] {
      transition: opacity 200ms;
      opacity: 1;
    }
  }
`,hJn=R(Kc)(()=>he`
    text-decoration: none;
    width: 100%;
    overflow: hidden;
    cursor: pointer;
    &:focus {
      box-shadow: 0 0 0 1px var(--card-focus-ring-color);
    }
    &:focus-visible {
      outline: none;
      box-shadow: 0 0 0 1px var(--card-focus-ring-color);
    }
  `);function pJn(e){const{value:t,handleRemove:n}=e,r=t.document._ref,i=t.documentType,o=un().get(t.documentType),a=iC(r),{t:s}=Q(Vr),l=p.useMemo(()=>p.forwardRef(function(u,d){return c.jsx(hJn,{...u,intent:"edit",params:{id:r,type:i},ref:d})}),[r,i]);return o?c.jsx(fJn,{border:!0,radius:2,children:c.jsxs(W,{gap:1,align:"center",justify:"space-between",children:[c.jsx(le,{as:l,radius:2,"data-as":"button",children:c.jsx(B7e,{documentId:t.document._ref,layout:"compact",presence:a,schemaType:o,showBadge:!1})}),c.jsx("div",{"data-ui":"show-on-hover",children:c.jsx(ge,{icon:eo,mode:"bleed",onClick:n,tooltipProps:{content:s("form.input.target.buttons.remove.text")}})})]})}):c.jsx(B,{children:s("form.input.target.error.schema-not-found")})}function mJn(e){const[t,n]=p.useState(!1),{dataset:r,projectId:i}=ri(),{mode:o,inputProps:{onChange:a},value:s}=e,l=s,u=p.useCallback(y=>{a(gt(qNe({documentId:y._id,documentType:y._type,dataset:r,projectId:i})))},[r,i,a]),d=p.useCallback(()=>{a(kt())},[a]),f=p.useCallback(()=>{n(!0)},[n]),h=p.useCallback(()=>{n(!1)},[n]),m=p.useCallback(y=>{(y.key==="Enter"||y.key===" ")&&n(!0)},[]),{t:g}=Q(Vr);return c.jsx(le,{borderBottom:o==="edit",paddingBottom:o==="edit"?4:0,children:c.jsx(nBe,{children:c.jsx(Pl,{zOffset:100,children:c.jsxs(aee,{children:[c.jsxs(ae,{space:2,children:[o==="create"&&c.jsx(V,{"data-ui":"fieldHeaderContentBox",children:c.jsx(PJ,{description:e.description,inputId:e.inputId,title:e.title,validation:e.validation,deprecated:void 0})}),l?c.jsx(pJn,{value:l,handleRemove:d}):c.jsx(uJn,{border:!0,radius:2,paddingX:2,paddingY:3,onClick:f,onKeyDown:m,tabIndex:0,children:c.jsxs(W,{gap:1,justify:"flex-start",align:"center",children:[c.jsx(V,{paddingX:1,children:c.jsx(B,{size:1,children:c.jsx(Kd,{})})}),c.jsx(dJn,{size:1,children:g("form.input.target.search.placeholder")})]})})]}),c.jsx(fee,{children:c.jsx(jBe,{open:t,onClose:h,onItemSelect:u,disableIntentLink:!0})})]})})})})}const gJn=R.div(e=>`
      display: grid;
      grid-template-columns: 1fr;
      padding-top: ${$e(e.theme).space[3]}px;
    `),yJn=R.textarea(e=>{const{color:t,font:n}=$e(e.theme);return he`
    resize: none;
    overflow: hidden;
    appearance: none;
    background: none;
    border: 0;
    padding: 0;
    border-radius: 0;
    outline: none;
    width: 100%;
    box-sizing: border-box;
    font-family: ${n.text.family};
    font-weight: ${n.text.weights.semibold};
    font-size: ${n.text.sizes[3].fontSize}px;
    line-height: ${n.text.sizes[3].lineHeight}px;
    margin: 0;
    position: relative;
    z-index: 1;
    display: block;
    transition: height 500ms;
    /* NOTE: This is a hack to disable Chromes autofill styles */
    &:-webkit-autofill,
    &:-webkit-autofill:hover,
    &:-webkit-autofill:focus,
    &:-webkit-autofill:active {
      -webkit-text-fill-color: var(--input-fg-color) !important;
      transition: background-color 5000s;
      transition-delay: 86400s /* 24h */;
    }

    color: ${t.input.default.enabled.fg};

    &::placeholder {
      color: ${t.input.default.enabled.placeholder};
    }
  `});function rBe(e){const{value:t,onChange:n,placeholder:r,path:i}=e,o=p.useRef(null);p.useEffect(()=>{o.current&&(o.current.style.height="auto",o.current.style.height=`${o.current.scrollHeight}px`)},[t]);const a=p.useCallback(s=>{const l=s.currentTarget.value;return l||n(kt(i)),n(gt(l.replace(/\n/g,""),i))},[n,i]);return c.jsx(gJn,{children:c.jsx(yJn,{ref:o,autoFocus:!t,value:t,placeholder:r,onChange:a,rows:1})})}function vJn(e){const{value:t,inputProps:n}=e,{onChange:r,schemaType:i}=n;return c.jsx(rBe,{value:t,onChange:r,placeholder:i.placeholder})}const bJn=e=>{const t=e.subscribers||[];return GD(e.description).forEach(n=>{t.includes(n)||t.push(n)}),e.assignedTo&&(t.includes(e.assignedTo)||t.push(e.assignedTo)),t};function xJn(e){const[t,n]=p.useState(!1),{onChange:r}=e,{setViewMode:i,setActiveTab:o}=Zl(),a=Nr(),s=$s(),[l,u]=p.useState(!1),d=p.useCallback(()=>u(w=>!w),[]),f=e.value,h=p.useCallback(()=>{i({type:"list"})},[i]),{handleRemove:m,removeStatus:g}=JNe({id:f._id,onRemoved:h}),{t:y}=Q(Vr),{data:x}=_0(),b=x.find(w=>w._id===f._id);p.useEffect(()=>{t&&(b!=null&&b.createdByUser)&&(s.log(VZn),a.push({closable:!0,status:"success",title:y("form.status.success")}),n(!1),l?i({type:"create"}):o("subscribed"))},[t,b==null?void 0:b.createdByUser]),p.useEffect(()=>{let w=null;return t&&(w=setTimeout(()=>{n(!1),a.push({closable:!0,status:"error",title:y("form.status.error.creation-failed")})},1e4)),()=>{w&&clearTimeout(w)}},[t]);const v=p.useCallback(async()=>{if(n(!0),!(f!=null&&f.title)){a.push({closable:!0,status:"error",title:y("form.status.error.title-required")});return}r([gt(bJn(f),["subscribers"]),gt(new Date().toISOString(),["createdByUser"])])},[f,r,y,a]);return c.jsxs(c.Fragment,{children:[e.renderDefault(e),c.jsx(V,{paddingY:5,children:c.jsxs(W,{paddingTop:1,gap:4,children:[f._rev&&c.jsx(ge,{onClick:m,mode:"bleed",icon:$i,tooltipProps:{content:y("buttons.discard.text")},disabled:g==="loading",loading:g==="loading"}),c.jsxs(W,{align:"center",gap:2,justify:"flex-end",flex:1,children:[c.jsx(XO,{onChange:d,checked:l}),c.jsx(B,{size:1,muted:!0,children:y("form.input.create-more.text")})]}),c.jsx(ge,{text:y("buttons.create.text"),onClick:v,disabled:t,loading:t})]})})]})}function wJn(e){const{handleCloseDialog:t,handleRemove:n,removeStatus:r,showDialog:i}=e,{t:o}=Q(Vr);return i?c.jsx(no,{id:"remove-task",header:o("dialog.remove-task.title"),onClose:t,footer:{cancelButton:{text:o("dialog.remove-task.buttons.cancel.text"),onClick:t},confirmButton:{text:o("dialog.remove-task.buttons.confirm.text"),tone:"critical",onClick:n,loading:r==="loading"}},children:c.jsx(ae,{space:3,children:c.jsx(B,{as:"p",children:o("dialog.remove-task.body")})})}):null}const CJn=R(W)(e=>{const t=$e(e.theme);return he`
    column-gap: ${t.space[2]}px;
    row-gap: ${t.space[3]}px;
  `});function kJn({id:e,value:t}){const{setViewMode:n,handleCopyLinkToTask:r}=Zl(),{mode:i}=Jc(),o=$s(),a=p.useCallback(()=>{n({type:"list"}),o.log(HZn)},[n,o]),s=JNe({id:e,onRemoved:a}),l=p.useCallback(()=>{n({type:"duplicate",duplicateTaskValues:t}),o.log(UZn)},[n,o,t]),{t:u}=Q(Vr);return c.jsxs(c.Fragment,{children:[c.jsx(V,{paddingTop:3,children:c.jsx(Jt,{id:"edit-task-menu",button:c.jsx(Ki,{}),popover:{placement:"bottom",fallbackPlacements:["bottom-end","bottom-start"]},menu:c.jsxs(Nt,{children:[c.jsx(Qe,{text:u("menuitem.duplicate.text"),icon:Ru,onClick:l,tooltipProps:i==="upsell"?{content:u("menuitem.duplicate.upsell-tooltip")}:void 0,disabled:i==="upsell"}),c.jsx(Qe,{text:u("menuitem.copylink.text"),icon:Rl,onClick:r}),c.jsx(Tr,{}),c.jsx(Qe,{text:u("menuitem.delete.text"),icon:$i,onClick:s.handleOpenDialog,tone:"critical"})]})})}),c.jsx(wJn,{...s})]})}function SJn(e){var s,l,u,d,f,h;const t=e.schemaType.fields.find(m=>m.name==="status"),n=e.value,r=dr(),{t:i}=Q(Vr),o=wXn(n).changes,a=p.useCallback(m=>{const g=n.subscribers||[];e.onChange(m),r&&(g.includes(r.id)||e.onChange(gt([...g,r.id],["subscribers"])))},[r,e,n.subscribers]);if(!t)throw new Error("Status field not found");return(s=e.value)!=null&&s._id?c.jsxs(c.Fragment,{children:[c.jsxs(W,{align:"flex-start",gap:3,children:[c.jsx(ae,{flex:1,children:c.jsx(rBe,{onChange:a,value:(l=e.value)==null?void 0:l.title,path:["title"],placeholder:i("form.input.title.placeholder")})}),c.jsx(kJn,{id:(u=e.value)==null?void 0:u._id,value:n})]}),c.jsx(le,{borderTop:!0,marginTop:3,children:c.jsx(CJn,{paddingBottom:3,paddingTop:4,align:"flex-start",justify:"flex-start",wrap:"wrap",children:c.jsxs(Sa,{children:[c.jsx(lJn,{value:(d=e.value)==null?void 0:d.status,path:["status"],onChange:a,options:t.type.options.list}),c.jsx(JXn,{value:(f=e.value)==null?void 0:f.assignedTo,onChange:a,path:["assignedTo"]}),c.jsx(tJn,{value:(h=e.value)==null?void 0:h.dueBy,onChange:a,path:["dueBy"]})]})})}),e.renderDefault(e),c.jsx(dNe,{documentId:n._id,documentType:"tasks.task",sortOrder:"asc",type:"task",children:c.jsx(aee,{children:c.jsx(le,{borderTop:!0,paddingTop:4,marginTop:4,paddingBottom:6,children:c.jsx(UXn,{value:n,onChange:e.onChange,path:["subscribers"],activityData:o})})})})]}):c.jsx(Dn,{})}function EJn(e){const t=e.value,n=dr(),r=p.useCallback(i=>{if(!n||i.some(u=>u.path[0]==="subscribers")||i.some(u=>u.path[0]==="context"&&u.path[1]==="notification"))return i;const o=t.subscribers||[],a=[...o],s=i.find(u=>u.path[0]==="assignedTo");s&&s.type==="set"&&typeof s.value=="string"&&!a.includes(s.value)&&a.push(s.value),a.includes(n.id)||a.push(n.id);const l=i.find(u=>u.path[0]==="description"&&u.type==="set");if(l){const u=GD(t.description),d=l.type==="set"?l.value:void 0;GD(d).filter(f=>!u.includes(f)).forEach(f=>{a.includes(f)||a.push(f)})}return a.length!==o.length&&i.push(gt(a,["subscribers"])),i},[n,t.subscribers,t.description]);return c.jsx(rWn,{transform:r,children:c.jsx(SJn,{...e})})}function _Jn(e,t,n=""){let r=window.location.origin;t&&(r+=t),n&&(r+=`/${n}`);const i=new URL(`${r}/`);return i.searchParams.set("sidebar","tasks"),i.searchParams.set("selectedTask",e),i.searchParams.set("viewMode","edit"),i.toString()}function TJn(e){var w,C;const{inputProps:t}=e,{onChange:n}=t,r=t_(p.useCallback(k=>typeof k.tool=="string"?k.tool:void 0,[])),{target:i,_id:o,context:a,_rev:s}=x_([]),{title:l,basePath:u}=ri(),d=on(en),f=p.useMemo(()=>CE(d),[d]),h=((w=i==null?void 0:i.document)==null?void 0:w._ref)??"",m=(i==null?void 0:i.documentType)??"",{isLoading:g,value:y}=nee({documentId:h,documentType:m}),x=(y==null?void 0:y.title)||null,b=Ew(y==null?void 0:y.media)?f.image(y.media).width(96).height(96).url():null,v=p.useMemo(()=>{var S;const k=(S=a==null?void 0:a.notification)==null?void 0:S.url;return{url:k&&Yl?k:_Jn(o,u,r),workspaceTitle:l,targetContentImageUrl:b,targetContentTitle:x}},[(C=a==null?void 0:a.notification)==null?void 0:C.url,o,u,r,l,b,x]);return p.useEffect(()=>{h&&m&&g||s&&(Z1(a==null?void 0:a.notification,v)||n(gt(v,["notification"])))},[s,a,h,m,v,g,n]),null}function AJn(e){return c.jsx(aee,{children:c.jsx(TJn,{...e})})}const Mve=e=>qs({type:"object",name:"target",title:"Target",components:{field:t=>c.jsx(mJn,{...t,mode:e})},fields:[{name:"document",type:"crossDatasetReference",dataset:"playground",weak:!0,studioUrl:({id:t,type:n})=>`intent/edit/id=${t};type=${n}/`,to:[{type:"any_document",preview:{select:{title:"title"}}}]},{name:"documentType",type:"string",title:"Document type"}]}),Pve=e=>qs({type:"array",name:"description",title:"Description",components:{field:t=>c.jsx(aJn,{...t,mode:e})},of:[{type:"block",name:"block",of:[{name:"mention",type:"object",fields:[{name:"userId",type:"string"}]}],marks:{annotations:[]},styles:[{title:"Normal",value:"normal"}],lists:[]}]}),jJn=e=>sK({type:"document",name:"tasks.task",liveEdit:!0,components:{input:e==="edit"?EJn:xJn},fields:[{type:"string",title:"Title",name:"title",placeholder:"Task title",components:{field:vJn},hidden:e==="edit"},...e==="edit"?[Mve(e),Pve(e)]:[Pve(e),Mve(e)],{type:"string",name:"assignedTo",title:"Assign to",placeholder:"Select assignee",components:{field:Ove,input:ZXn},hidden:e==="edit"},{type:"date",name:"dueBy",title:"Deadline",placeholder:"yyyy-mm-dd",components:{field:Ove},hidden:e==="edit"},{type:"string",name:"authorId",hidden:!0},{type:"string",name:"createdByUser",hidden:!0},{type:"array",of:[{type:"string"}],name:"subscribers",hidden:!0},{type:"string",name:"status",title:"Status",options:{list:Bx.map(t=>({value:t.value,title:t.title}))},hidden:!0},{type:"object",name:"context",components:{field:AJn},fields:[{type:"object",name:"notification",fields:[{type:"string",name:"url"},{type:"string",name:"workspaceTitle"},{type:"string",name:"targetContentImageUrl"},{type:"string",name:"targetContentTitle"}]}]}]});function IJn({children:e,mode:t,addonDataset:n}){const r=on({apiVersion:ZNe}).config().apiHost,i="",o=er(),a=p.useMemo(()=>({basePath:i,dataset:n,name:`addon-dataset-${n}`,projectId:o.projectId,apiHost:r,schema:{types:[jJn(t)]}}),[o.projectId,t,r,n,i]),{workspaces:s}=p.useMemo(()=>aBe(a,{basePath:i}),[a,i]),l=JBe(s[0]);return l?c.jsx(KFe,{workspace:l,children:c.jsx(u4,{source:l.unstable_sources[0],children:c.jsx(r7e,{children:e})})}):null}function $Jn(e){const{client:t,ready:n,createAddonDataset:r}=k4(),i=t==null?void 0:t.config().dataset;return p.useEffect(()=>{!i&&n&&r()},[i,n,r]),i?c.jsx(IJn,{...e,addonDataset:i}):c.jsx(Dn,{})}function DJn(e){const{documentType:t="tasks.task",documentId:n,initialValue:r={}}=e,i=un().get(t);if(!i)throw new Error(`Schema type for '${t}' not found`);const{validation:o}=fC(n,t),a=ya(o),[s,l]=p.useState([]),[u,d]=p.useState([]),[f,h]=p.useState(),[m,g]=p.useState(),[y,x]=p.useState(),[b]=p.useState([]),v=p.useCallback(M=>{l(M)},[l]),w=p.useCallback(()=>{l([])},[]),C=p.useCallback((M,P)=>{h(F=>bd(F,M,P))},[]),k=p.useCallback((M,P)=>{g(F=>bd(F,M,P))},[]),S=p.useCallback((M,P)=>x(F=>bd(F,M,P)),[]),{patch:E}=Qc(n,t),_=p.useRef(()=>{throw new Error("Nope")});_.current=M=>{E.execute(oNe(M.patches),r)};const T=p.useCallback(M=>_.current(M),[]),A=eVe(n,t),I=S4(n,t),j=(I==null?void 0:I.draft)||(I==null?void 0:I.published)||r,$=eNe(i,{value:j,comparisonValue:j,readOnly:!1,changesOpen:!1,presence:b,focusPath:s,openPath:u,collapsedPaths:f,collapsedFieldSets:m,fieldGroupState:y,validation:a}),D=I.ready&&A==="connected",O=p.useMemo(()=>fFe(),[]);return $===null||!D?{loading:!0}:{id:"root",onChange:T,__internal_patchChannel:O,__internal_fieldActions:void 0,onPathFocus:v,onPathOpen:d,onPathBlur:w,onFieldGroupSelect:S,onSetFieldSetCollapsed:k,onSetPathCollapsed:C,collapsedPaths:f,collapsedFieldSets:m,focusPath:$.focusPath,changed:$.changed,focused:$.focused,groups:$.groups,validation:$.validation,members:$.members,presence:$.presence,schemaType:i,value:$.value}}const OJn={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.2,delay:.2}}},MJn=R(na.div)(e=>{const t=$e(e.theme);return`
    // Update spacing for the form builder
    & > [data-ui='Stack'] {
      grid-gap: ${Te(t.space[4])};
    }
`}),PJn=({documentId:e,initialValue:t})=>{var s,l;const n=DJn({documentType:"tasks.task",documentId:e,initialValue:t}),{setSelectedDocument:r}=D_(),i=n.loading||(s=n.value)==null?void 0:s.target,o=(l=i==null?void 0:i.document)==null?void 0:l._ref,a=i==null?void 0:i.documentType;return p.useEffect(()=>{r(o&&a?{_id:o,_type:a}:null)},[o,a,r]),c.jsx(V,{children:n.loading?c.jsx(Dn,{showText:!0}):c.jsx(MJn,{id:"wrapper",initial:"hidden",animate:"visible",variants:OJn,children:c.jsx(y9e,{...n})})})};function RJn(){const e=dr(),{activeDocument:t}=_0(),{dataset:n,projectId:r}=ri(),{state:{selectedTask:i,viewMode:o,duplicateTaskValues:a}}=Zl(),s=p.useMemo(()=>{if(e&&i){if(o==="duplicate")return{...a,title:`${a==null?void 0:a.title} (copy)`,createdByUser:void 0,_id:i,_type:"tasks.task",authorId:e.id,status:"open"};if(o==="create")return{_id:i,_type:"tasks.task",authorId:e.id,status:"open",subscribers:[e.id],target:t?qNe({documentId:t.documentId,documentType:t.documentType,dataset:n,projectId:r}):void 0}}},[t,e,n,a,r,i,o]);return e?i?c.jsx(BZn,{children:c.jsx($Jn,{mode:o==="edit"?"edit":"create",children:c.jsx(PJn,{documentId:i,currentUser:e,initialValue:s})})}):null:c.jsx(Dn,{showText:!0,title:"Loading current user"})}const FJn={open:{assigned:{heading:"empty-state.status.list.open.assigned.heading",text:"empty-state.status.list.open.assigned.text"},document:{heading:"empty-state.status.list.open.document.heading",text:""},subscribed:{heading:"empty-state.status.list.open.subscribed.heading",text:"empty-state.status.list.open.subscribed.text"}},closed:{assigned:{heading:"empty-state.status.list.closed.assigned.heading",text:"empty-state.status.list.closed.assigned.text"},document:{heading:"empty-state.status.list.closed.document.heading",text:""},subscribed:{heading:"empty-state.status.list.closed.subscribed.heading",text:"empty-state.status.list.closed.subscribed.text"}}};function LJn({status:e}){const{state:{activeTabId:t}}=Zl(),{t:n}=Q(Vr),{heading:r,text:i}=FJn[e][t];return c.jsxs(ae,{space:3,children:[c.jsx(B,{size:1,weight:"semibold",children:n(r)}),c.jsx(B,{size:1,children:n(i)})]})}const NJn={assigned:{heading:"empty-state.list.assigned.heading",text:"empty-state.list.assigned.text"},subscribed:{heading:"empty-state.list.subscribed.heading",text:"empty-state.list.subscribed.text"},document:{heading:"empty-state.list.document.heading",text:"empty-state.list.document.text"},noActiveDocument:{heading:"empty-state.list.no-active-document.heading",text:"empty-state.list.no-active-document.text"}},BJn=R.div`
  max-width: 268px;
  margin: 0 auto;
  height: 100%;
  margin-top: 40%;
`,Rve=R(B)`
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
  animation: fadeIn 0.2s ease-in-out;
`;function VJn(){const{activeDocument:e}=_0(),{mode:t}=Jc(),{state:{activeTabId:n},setViewMode:r}=Zl(),i=!e&&n==="document"?"noActiveDocument":n,{heading:o,text:a}=NJn[i],{t:s}=Q(Vr),l=p.useCallback(()=>{r({type:"create"})},[r]);return c.jsx(BJn,{children:c.jsxs(W,{direction:"column",gap:3,align:"center",flex:1,justify:"center",children:[c.jsx(Rve,{size:1,weight:"semibold",children:s(o)},i),c.jsx(V,{paddingBottom:6,paddingTop:1,children:c.jsx(Rve,{size:1,align:"center",children:s(a)},i)}),t!=="upsell"&&c.jsx(ge,{icon:ca,text:s("empty-state.list.create-new"),onClick:l})]})})}const zJn=R(Kc)(e=>`
  text-decoration: underline;
  text-decoration-color: ${$e(e.theme).color.input.default.enabled.border};
  text-underline-offset: 2px;
`);function UJn({documentId:e,documentType:t}){const n=un().get(t),{isLoading:r,value:i}=nee({documentId:e,documentType:t}),o=p.useMemo(()=>p.forwardRef(function(a,s){return c.jsx(zJn,{...a,intent:"edit",params:{id:e,type:t},ref:s})}),[e,t]);return n?c.jsxs(W,{align:"center",gap:2,children:[c.jsx(B,{size:1,children:c.jsx(Kd,{})}),r?c.jsx(wr,{size:1,muted:!0}):c.jsx(B,{size:1,as:o,weight:"medium",style:{maxWidth:"20ch"},textOverflow:"ellipsis",children:(i==null?void 0:i.title)||"Untitled"})]}):null}function HJn(e){const t=XNe(),{documentId:n,status:r}=e,[i,o]=p.useState(r==="closed"),[a,s]=p.useState(!1),l=p.useCallback(async u=>{const d=u.target.checked;o(d),s(!0);try{d?await t.edit(n,{status:"closed"}):d||await t.edit(n,{status:"open"})}catch(f){console.error("An error occurred while updating the task status",f)}finally{s(!1)}},[n,t]);return c.jsx(W,{children:a?c.jsx("div",{style:{height:"17px",width:"17px"},children:c.jsx(dg,{style:{marginLeft:"3.5px",marginRight:"3.5px",marginTop:"3.5px"}})}):c.jsx(fg,{onChange:l,checked:i,disabled:a})})}const WJn=R(zt)`
  width: 100%;
  max-width: 100%;
`,GJn=R(W)`
  /* Checkbox width is 17px and first row gap is 12px. */
  margin-left: 29px;
`;function KJn(e){var t;if((t=e==null?void 0:e.document)!=null&&t._ref)return{_ref:e==null?void 0:e.document._ref,_type:e==null?void 0:e.documentType}}function YJn({dueBy:e}){const t=$c({dateStyle:"medium"}),n=$c({month:"short",day:"numeric"}),r=$c({weekday:"long"}),i=p.useMemo(()=>{const d=new Date(e);return{fullDate:t.format(d),monthAndDay:n.format(d),day:r.format(d),isDueByToday:MFt(d),isDueThisWeek:OFt(d)}},[r,e,t,n]),{fullDate:o,monthAndDay:a,day:s,isDueByToday:l,isDueThisWeek:u}=i;return c.jsx(Et,{content:o,children:c.jsx(le,{tone:l?"critical":"transparent",padding:1,radius:2,children:c.jsx(W,{align:"center",gap:2,children:c.jsx(B,{as:"time",size:1,dateTime:e,muted:!0,children:l?"Today":u?s:a})})})})}function qJn(e){const{assignedTo:t,title:n,dueBy:r,target:i,onSelect:o,documentId:a,status:s}=e,l=p.useMemo(()=>KJn(i),[i]);return c.jsxs(ae,{space:3,children:[c.jsxs(W,{align:"center",gap:1,children:[c.jsx(V,{children:c.jsx(HJn,{documentId:a,status:s})}),c.jsx(W,{flex:1,children:c.jsx(WJn,{onClick:o,mode:"bleed",padding:2,children:c.jsx(B,{size:1,textOverflow:"ellipsis",weight:"semibold",children:n||"Untitled"})})}),c.jsx(hC,{user:t?{id:t}:void 0,withTooltip:!0})]}),(r||l)&&c.jsxs(GJn,{align:"center",gap:2,paddingX:0,children:[r&&c.jsx(YJn,{dueBy:r}),l&&c.jsx(V,{marginLeft:1,children:c.jsx(UJn,{documentId:l._ref,documentType:l._type})})]})]})}const ZJn=[],XJn=e=>{var t;return(t=Bx.find(n=>n.value===e))==null?void 0:t.title},JJn=R(W)`
  [data-ui='summary-icon'] {
    transition: transform 0.2s;
    transform: rotate(-90deg);
  }
  &[open] [data-ui='summary-icon'] {
    transform: rotate(0);
  }
  > summary::-webkit-details-marker {
    display: none;
  }
`,QJn=R(V)`
  list-style: none;
`;function Fve(e){const{status:t,tasks:n,onTaskSelect:r}=e;return c.jsxs(JJn,{forwardedAs:"details",direction:"column",open:t==="open",children:[c.jsx(QJn,{forwardedAs:"summary",paddingY:1,children:c.jsxs(W,{align:"center",gap:1,paddingY:1,children:[c.jsx(B,{size:1,weight:"medium",muted:!0,children:XJn(t)}),c.jsx(B,{muted:!0,size:1,children:c.jsx(ea,{"data-ui":"summary-icon"})})]})}),c.jsx(ae,{space:4,marginTop:3,paddingBottom:5,children:(n==null?void 0:n.length)>0?n.map((i,o)=>{const a=o<n.length-1;return c.jsxs(p.Fragment,{children:[c.jsx(qJn,{documentId:i._id,title:i.title,dueBy:i.dueBy,assignedTo:i.assignedTo,target:i.target,onSelect:()=>r(i._id),status:i.status}),a&&c.jsx(Tr,{})]},i._id)}):c.jsx(LJn,{status:t})})]})}function eQn(e){var a,s;const{items:t=ZJn,onTaskSelect:n}=e,r=p.useMemo(()=>t.reduce((l,u)=>(l[u.status]||(l[u.status]=[]),l[u.status].push(u),l),{}),[t]),i=((a=r.open)==null?void 0:a.length)>0,o=((s=r.closed)==null?void 0:s.length)>0;return c.jsx(ae,{space:4,flex:1,children:!i&&!o?c.jsx(VJn,{}):c.jsxs(c.Fragment,{children:[c.jsx(Fve,{status:"open",tasks:r.open,onTaskSelect:n}),c.jsx(Fve,{status:"closed",tasks:r.closed,onTaskSelect:n})]})})}function tQn(){const{upsellData:e,telemetryLogs:{panelPrimaryClicked:t,panelSecondaryClicked:n}}=KNe();return e?c.jsx(Ii,{width:1,children:c.jsx(V,{marginBottom:6,children:c.jsx(eee,{data:e,onPrimaryClick:t,onSecondaryClick:n})})}):null}const nQn="https://snty.link/tasks-feedback",rQn=R.span`
  margin-right: 0.2em;
`,iQn=R.a`
  white-space: nowrap;
  > [data-sanity-icon] {
    --card-icon-color: var(--card-link-color);
  }
`;function oQn(e){return c.jsxs(iQn,{href:nQn,target:"_blank",rel:"noreferrer",children:[c.jsx(rQn,{children:e.children})," ",c.jsx(lp,{})]})}function aQn(){const{t:e}=Q(Vr);return c.jsx(V,{padding:4,children:c.jsx(B,{muted:!0,size:1,children:c.jsx(wt,{i18nKey:"list.feedback.text",t:e,components:{Link:oQn}})})})}const sQn={marginLeft:"-0.5em",justifyContent:"space-between",display:"flex"};function lQn({activeTabId:e,onChange:t}){const{t:n}=Q(Vr),r=p.useMemo(()=>[{id:"assigned",label:n("tab.assigned.label")},{id:"subscribed",label:n("tab.subscribed.label")},{id:"document",label:n("tab.document.label")}],[n]),i=p.useCallback(o=>{t(o.id)},[t]);return c.jsx(ow,{space:2,style:sQn,children:r.map(o=>c.jsx(S2,{"aria-controls":`${o.id}-panel`,id:`${o.id}-tab`,onClick:()=>i(o),selected:o.id===e,children:c.jsx(B,{size:1,weight:"medium",children:o.label})},`${o.id}-tab`))})}const cQn=R.div(e=>`
    height: 25px;
    width: 1px;
    background-color: ${$e(e.theme).color.input.default.enabled.border};
  `);function uQn(e){const{items:t}=e,{state:n,setViewMode:r}=Zl(),{selectedTask:i}=n,o=t.filter(d=>d.status==="open"),a=o.findIndex(d=>d._id===i),s=p.useCallback(()=>{const d=a>0?o[a-1]._id:o[o.length-1]._id;r({type:"edit",id:d})},[a,o,r]),l=p.useCallback(()=>{const d=a<o.length-1?o[a+1]._id:o[0]._id;r({type:"edit",id:d})},[a,o,r]),{t:u}=Q(Vr);return o.length?c.jsx(Sa,{children:c.jsxs(W,{gap:1,align:"center",children:[c.jsx(ge,{tooltipProps:{content:u("buttons.previous.tooltip")},mode:"bleed",icon:vg,onClick:s}),c.jsx(Et,{content:u("panel.navigation.tooltip"),children:c.jsx(V,{paddingY:2,children:c.jsxs(B,{size:1,children:[a+1," / ",o.length]})})}),c.jsx(ge,{tooltipProps:{content:u("buttons.next.tooltip")},mode:"bleed",icon:Es,onClick:l}),c.jsx(cQn,{})]})}):null}const dQn={constrainSize:!0,fallbackPlacements:["bottom-end"],placement:"bottom-end",portal:!0},fQn=R(Nt)`
  width: 220px;
`;function hQn(e){const{isSelected:t,item:n,onSelect:r}=e,i=p.useCallback(()=>{r(n._id)},[n._id,r]),o=t?_a:void 0,a=n.title||"Untitled";return c.jsx(Qe,{iconRight:o,onClick:i,pressed:t,selected:t,text:a})}function pQn(){const{data:e}=_0(),{state:t,setViewMode:n}=Zl(),{viewMode:r,selectedTask:i}=t,o=dr(),a=p.useMemo(()=>o!=null&&o.id?e.filter(u=>{const d=u.authorId===o.id,f=!u.createdByUser,h=u._updatedAt!==u._createdAt,m=r==="create"?u._id!==i:!0;return d&&f&&m&&h}):[],[e,i,o==null?void 0:o.id,r]),s=p.useCallback(u=>{n({type:"draft",id:u})},[n]),{t:l}=Q(Vr);return a.length?c.jsx(Jt,{button:c.jsx(ge,{text:l("buttons.draft.text"),mode:"ghost",iconRight:ea}),id:"edit-task-menu",menu:c.jsxs(fQn,{children:[c.jsx(V,{padding:3,children:c.jsx(B,{size:1,weight:"semibold",children:l("panel.drafts.title")})}),c.jsx(Tr,{}),a==null?void 0:a.map(u=>c.jsx(hQn,{isSelected:i===u._id,item:u,onSelect:s},u._id))]}),popover:dQn}):null}function mQn(e){const{items:t}=e,{mode:n}=Jc(),{state:r,setViewMode:i,handleCloseTasks:o}=Zl(),{viewMode:a,activeTabId:s}=r,l=p.useCallback(()=>{i({type:"create"})},[i]),u=p.useCallback(()=>{i({type:"list"})},[i]),{t:d}=Q(Vr);return c.jsxs(W,{justify:"space-between",align:"center",gap:1,children:[c.jsx(W,{align:"center",flex:1,children:a==="list"?c.jsx(V,{padding:2,children:c.jsx(B,{size:2,weight:"semibold",children:d("panel.title")})}):c.jsxs(c.Fragment,{children:[c.jsx(zt,{mode:"bleed",space:2,padding:2,onClick:u,children:c.jsx(B,{size:1,children:d("panel.title")})}),c.jsx(Es,{}),c.jsx(V,{paddingX:2,children:c.jsx(B,{size:1,weight:"semibold",style:{textTransform:"capitalize"},children:a==="create"||a==="draft"?d("panel.create.title"):s})})]})}),(a==="create"||a==="draft")&&c.jsx(pQn,{}),a==="edit"&&c.jsx(uQn,{items:t}),c.jsxs(W,{gap:1,children:[a==="list"&&c.jsx(ge,{icon:ca,onClick:l,mode:"bleed",text:d("buttons.new.text"),disabled:n==="upsell",tooltipProps:n==="upsell"?{content:d("buttons.new.upsell-tooltip")}:void 0}),c.jsx(ge,{tooltipProps:{content:d("panel.close.tooltip")},iconRight:eo,mode:"bleed",onClick:o})]})]})}const gQn=R(le)`
  flex: 1;
  flex-direction: column;
`,yQn=R(ae)`
  border-bottom: 1px solid var(--card-border-color);
`,vQn=R(W)`
  overflow-y: scroll;
  overflow-x: hidden;
`;function bQn(){const{mode:e}=Jc(),{activeDocument:t,data:n,isLoading:r}=_0(),{state:i,setActiveTab:o,setViewMode:a}=Zl(),{activeTabId:s,viewMode:l,selectedTask:u}=i,d=dr(),f=p.useCallback(g=>a({type:"edit",id:g}),[a]),h=p.useMemo(()=>n.filter(g=>{var y,x;return g.createdByUser?s==="assigned"?g.assignedTo===(d==null?void 0:d.id):s==="subscribed"?(d==null?void 0:d.id)&&((y=g.subscribers)==null?void 0:y.includes(d.id)):s==="document"?(t==null?void 0:t.documentId)&&((x=g.target)==null?void 0:x.document._ref)===t.documentId:!1:!1}),[t==null?void 0:t.documentId,s,n,d]),m=p.useMemo(()=>l!=="list"?c.jsx(RJn,{},u):r?c.jsx(W,{align:"center",justify:"center",children:c.jsx(dg,{})}):c.jsxs(c.Fragment,{children:[e==="upsell"&&c.jsx(tQn,{}),c.jsx(eQn,{items:h,onTaskSelect:f})]}),[h,r,f,u,l,e]);return c.jsxs(gQn,{display:"flex",height:"fill",flex:1,overflow:"hidden",children:[c.jsxs(yQn,{space:3,padding:3,sizing:"border",children:[c.jsx(mQn,{items:h}),l==="list"&&!r&&c.jsx(lQn,{activeTabId:s,onChange:o})]}),c.jsx(vQn,{direction:"column",flex:1,overflow:"auto",padding:3,paddingTop:4,paddingX:4,sizing:"border",children:m}),l==="list"&&c.jsx(aQn,{})]})}function xQn(){const{enabled:e}=Jc();return e?c.jsx(bQn,{}):null}const wQn={hidden:{opacity:0},visible:{opacity:1}},CQn={duration:.2},iBe=1,oBe=2,kQn=R(W)(({theme:e})=>{const t=e.sanity.media;return he`
    min-height: 100%;

    @media (max-width: ${t[oBe]}px) {
      position: relative;
    }
  `}),SQn=R(na(al))(({theme:e})=>{const t=e.sanity.media;return he`
    display: flex;
    flex-direction: column;
    height: 100%;
    width: 360px;
    border-left: 1px solid var(--card-border-color);
    box-sizing: border-box;
    overflow: hidden;

    box-shadow:
      0px 6px 8px -4px var(--card-shadow-umbra-color),
      0px 12px 17px -1px var(--card-shadow-penumbra-color);

    @media (max-width: ${t[oBe]}px) {
      bottom: 0;
      position: absolute;
      right: 0;
      top: 0;
    }

    @media (max-width: ${t[iBe]}px) {
      border-left: 0;
      min-width: 100%;
      left: 0;
    }
  `});function EQn(e){const t=Vy(),{state:{isOpen:n}}=Zl(),r=t<=iBe&&n;return c.jsxs(kQn,{sizing:"border",height:"fill",children:[c.jsx(V,{flex:1,height:"fill",overflow:r?"hidden":"auto",children:e.renderDefault(e)}),c.jsx(hf,{initial:!1,children:n&&c.jsx(SQn,{animate:"visible",zOffset:100,height:"fill",initial:"hidden",transition:CQn,variants:wQn,children:c.jsx(xQn,{})})})]})}function _Qn(e){const{enabled:t}=Jc();return t?c.jsx(EQn,{...e}):e.renderDefault(e)}const TQn=e=>{const{enabled:t,mode:n}=Jc();return t?c.jsx(sBe,{children:c.jsx(lw,{condition:n==="upsell",wrapper:r=>c.jsx(cXn,{children:r}),children:c.jsx(sXn,{children:c.jsx(YZn,{children:e.renderDefault(e)})})})}):e.renderDefault(e)};function AQn(e){return c.jsx(FZn,{children:c.jsx(TQn,{...e})})}const jQn=[];function IQn(e){const{handleOpenTasks:t,handleCloseTasks:n,state:{isOpen:r}}=Zl(),{t:i}=Q(Vr),o=p.useCallback(()=>{r?n():t()},[r,t,n]),a=p.useMemo(()=>[...(e==null?void 0:e.__internal_actions)||jQn,{icon:R_e,location:"topbar",name:"tasks-topbar",onAction:o,selected:r,title:i("actions.open.text")},{icon:TM,location:"sidebar",name:"tasks-sidebar",onAction:o,selected:r,title:i("actions.open.text")}],[o,r,e==null?void 0:e.__internal_actions,i]);return e.renderDefault({...e,__internal_actions:a})}function $Qn(e){const{enabled:t}=Jc();return t?c.jsx(IQn,{...e}):e.renderDefault(e)}const DQn="sanity/tasks",OQn=h_({name:"sanity/tasks",__internal_tasks:{footerAction:c.jsx(mXn,{})},document:{actions:e=>[...e,YNe].filter(Boolean)},studio:{components:{layout:AQn,navbar:$Qn,activeToolLayout:_Qn}},form:{components:{input:e=>{var t;return e.id==="root"&&((t=e.schemaType.type)==null?void 0:t.name)==="document"?c.jsx(hXn,{...e}):e.renderDefault(e)}}},i18n:{bundles:[RZn]}}),MQn=[aKn(),OQn(),PZn()];function PQn(e,t){return MQn.filter(n=>n.name===WNe?e.scheduledPublishing.enabled&&!!(t!=null&&t.length):n.name===DQn?e.tasks.enabled:!0)}function RQn(e){return{tasks:{enabled:!0,...e.unstable_tasks,...e.tasks},scheduledPublishing:{...uKn,...e.scheduledPublishing}}}function FQn({config:e,context:t}){return cs({propertyName:"schema.types",config:e,context:t,initialValue:[],reducer:Bzn})}class C4 extends Error{constructor(t){super("SchemaError"),this.schema=t,this.name="SchemaError"}}const LQn=e=>e.severity==="error";function NQn(e,t,n=""){return Dh.isValidElementType(e)?p.createElement(e):p.isValidElement(e)?e:jHn(t,n)}const k9=new WeakMap;function aBe(e,t){if(!Array.isArray(e)&&"missingConfigFile"in e)throw new kc({name:"",type:"configuration file",causes:["No `sanity.config.ts` file found","No `sanity.config.js` file found"]});const n=UQn(t==null?void 0:t.basePath),r=Array.isArray(e)?e:[e];try{m_n({workspaces:r})}catch(i){throw new kc({name:"",type:"workspace",causes:[i.message]})}return{type:"prepared-config",workspaces:r.map(i=>{if(k9.has(i))return k9.get(i);const o=RQn(i),{unstable_sources:a=[],...s}=i,l=[s,...a].map(({plugins:f,...h})=>({...h,plugins:[...f??[],...PQn(o,f)]})).map(f=>{const{projectId:h,dataset:m}=f;let g;try{g=FQn({config:f,context:{projectId:h,dataset:m}})}catch(k){throw new kc({name:f.name,type:"source",causes:[k]})}const y=FOn({name:f.name,types:g}),x=y._validation,b=x==null?void 0:x.filter(k=>k.problems.some(LQn));if(x&&(b!=null&&b.length))throw new C4(y);const v=BQn(f),w=sUn(f),C=v.state.pipe(fe(({client:k,authenticated:S,currentUser:E})=>zQn({config:f,client:k,currentUser:E,schema:y,authenticated:S,auth:v,i18n:w})),go(1));return{name:f.name,projectId:f.projectId,dataset:f.dataset,title:f.title||Vt(f.name),auth:v,schema:y,i18n:w.source,source:C}}),u=s.title||Vt(s.name),d={type:"workspace-summary",auth:l[0].auth,basePath:HQn(n,s.basePath),dataset:s.dataset,schema:l[0].schema,i18n:l[0].i18n,customIcon:!!s.icon,icon:NQn(s.icon,u,`${s.projectId} ${s.dataset}`),name:s.name||"default",projectId:s.projectId,theme:s.theme||ly,title:u,subtitle:s.subtitle,__internal:{sources:l},__internal_serverDocumentActions:i.__internal_serverDocumentActions,...o};return k9.set(i,d),d})}}function BQn(e){if(NTn(e.auth))return e.auth;const t=e.unstable_clientFactory||YAe,{projectId:n,dataset:r,apiHost:i}=e;return UTn({apiHost:i,...e.auth,clientFactory:t,dataset:r,projectId:n})}function VQn(e,t){const n=e.withConfig({apiVersion:"2022-06-30"}),{dataset:r,url:i,requestTagPrefix:o="sanity.studio"}=n.config(),a=`${`${i.replace(/\/+$/,"")}/socket/${r}`.replace(/^http/,"ws")}?tag=${o}`,s=t.token?{token$:t.token}:{};return Dwn(a,s)}function zQn({config:e,client:t,currentUser:n,schema:r,authenticated:i,auth:o,i18n:a}){var k,S,E,_,T,A;const{dataset:s,projectId:l}=e,u=VQn(t,o),d=[],f={},h=I=>{if(!I||!I.apiVersion)throw new Error("Missing required `apiVersion` option");return f[I.apiVersion]||(f[I.apiVersion]=t.withConfig(I)),f[I.apiVersion]},m={client:t,getClient:h,currentUser:n,dataset:s,projectId:l,schema:r,i18n:a.source},g=t;m.client=[...Object.keys(t),...Object.keys(g.__proto__)].reduce((I,j)=>{const $=Object.hasOwnProperty.call(t,j)?g[j]:g.__proto__[j];return Object.defineProperty(I,j,{get(){return console.warn('`configContext.client` is deprecated and will be removed in the next release! Use `context.getClient({apiVersion: "2021-06-07"})` instead'),$}})},{});let y;try{y=cs({config:e,context:m,propertyName:"schema.templates",reducer:Uzn,initialValue:r.getTypeNames().filter(I=>!/^sanity\./.test(I)).map(I=>r.get(I)).filter(Ro).filter(I=>{var j;return((j=I.type)==null?void 0:j.name)==="document"}).map(I=>({id:I.name,schemaType:I.name,title:I.title||I.name,icon:I.icon,value:I.initialValue||{_type:I.name}}))})}catch(I){throw new kc({name:e.name,type:"source",causes:[I]})}let x;try{x=cs({config:e,context:m,initialValue:[],propertyName:"tools",reducer:zzn})}catch(I){throw new kc({name:e.name,type:"source",causes:[I]})}if(x.some(({name:I})=>I==="tool"))throw new Error('A tool cannot have the name "tool". Please enter a different name.');const b=y.filter(I=>{var j;return!((j=I.parameters)!=null&&j.length)}).map(I=>({templateId:I.id,description:I.description,icon:I.icon,title:I.title})),v=y.reduce((I,j)=>(I.set(j.id,j),I),new Map),w=I=>{const{schemaType:j}=I,$=cs({config:e,context:{...m,creationContext:I},initialValue:b,propertyName:"document.resolveNewDocumentOptions",reducer:Yzn}),D=[];if(D.length)throw new kc({name:e.name,type:"source",causes:D});return $.map((O,M)=>{const P=v.get(O.templateId);if(!P)throw new Error(`Could not find template with ID \`${O.templateId}\``);const F=r.get(P.schemaType);if(!F)throw new Error(`Could not find matching schema type \`${P.schemaType}\` for template \`${P.id}\``);const L=O.title||P.title,U=(F==null?void 0:F.title)===L||F==null?void 0:F.title;return{id:`${O.templateId}-${M}`,templateId:O.templateId,type:"initialValueTemplateItem",title:L,i18n:O.i18n||P.i18n,subtitle:O.subtitle||U,description:O.description||P.description,icon:O.icon||P.icon||(F==null?void 0:F.icon),initialDocumentId:O.initialDocumentId,parameters:O.parameters,schemaType:P.schemaType}}).filter(O=>{var M;return!j||I.type==="document"?!0:j===((M=v.get(O.templateId))==null?void 0:M.schemaType)})};let C;try{C=w({type:"global"})}catch(I){d.push(I)}if(d.length)throw new kc({name:e.name,type:"source",causes:d});return{type:"source",name:e.name,title:e.title||Vt(e.name),schema:r,getClient:h,dataset:s,projectId:l,tools:x,currentUser:n,authenticated:i,templates:y,auth:o,i18n:a.source,__internal_tasks:Qzn({config:e}),document:{actions:I=>cs({config:e,context:{...m,...I},initialValue:Lzn,propertyName:"document.actions",reducer:Kzn}),badges:I=>cs({config:e,context:{...m,...I},initialValue:Fzn,propertyName:"document.badges",reducer:Gzn}),unstable_fieldActions:I=>cs({config:e,context:{...m,...I},initialValue:dzn,propertyName:"document.unstable_fieldActions",reducer:uzn}),inspectors:I=>cs({config:e,context:{...m,...I},initialValue:hn,propertyName:"document.inspectors",reducer:Jzn}),resolveProductionUrl:I=>cs({config:e,context:{...m,...I},initialValue:void 0,propertyName:"resolveProductionUrl",asyncReducer:Vzn}),resolveNewDocumentOptions:w,unstable_languageFilter:I=>cs({config:e,context:{...m,...I},initialValue:Nzn,propertyName:"document.unstable_languageFilter",reducer:Xzn}),unstable_comments:{enabled:I=>$0e({context:I,config:e,initialValue:!0})},comments:{enabled:I=>$0e({context:I,config:e,initialValue:!0})}},form:{file:{assetSources:cs({config:e,context:m,initialValue:[P7e],propertyName:"formBuilder.file.assetSources",reducer:qzn}),directUploads:((S=(k=e.form)==null?void 0:k.file)==null?void 0:S.directUploads)===void 0?!0:e.form.file.directUploads},image:{assetSources:cs({config:e,context:m,initialValue:[R7e],propertyName:"formBuilder.image.assetSources",reducer:Zzn}),directUploads:((_=(E=e.form)==null?void 0:E.image)==null?void 0:_.directUploads)===void 0?!0:e.form.image.directUploads}},search:{filters:hUn,operators:THn,unstable_partialIndexing:{enabled:eUn({config:e,initialValue:((A=(T=e.search)==null?void 0:T.unstable_partialIndexing)==null?void 0:A.enabled)??!1})},enableLegacySearch:cs({config:e,context:m,reducer:tUn,propertyName:"enableLegacySearch",initialValue:!0})},__internal:{bifur:u,i18next:a.i18next,staticInitialValueTemplateItems:C,options:e},beta:{treeArrayEditing:{enabled:!1}}}}function UQn(e){const t=e||"";if(typeof t!="string"||t.length>0&&!t.startsWith("/"))throw new kc({name:"",type:"options",causes:["basePath must be a string, and must start with a slash"]});return t==="/"?"":t}function HQn(e,t){return`/${[e,t||""].map(n=>n.replace(/^\/+/g,"").replace(/\/+$/g,"")).filter(Boolean).join("/")}`}function WQn(e){const{projectId:t,dataset:n,schema:r,currentUser:i,getClient:o,i18n:a}=e;return p.useMemo(()=>({projectId:t,dataset:n,schema:r,currentUser:i,getClient:o,i18n:a}),[t,n,r,i,o,a])}function GQn(e){const{projectId:t,dataset:n,schema:r,currentUser:i,getClient:o,i18n:a}=e;return{projectId:t,dataset:n,schema:r,currentUser:i,getClient:o,i18n:a}}function KQn({config:e,children:t,basePath:n,LoadingComponent:r}){const[i,o]=p.useState(null);return p.useEffect(()=>{o(aBe(e,{basePath:n}).workspaces)},[n,e]),i===null?c.jsx(r,{}):c.jsx(_we.Provider,{value:i,children:t})}function YQn({children:e,history:t}){return c.jsx(uwe.Provider,{value:t,children:e})}function qQn(){const e=p.useContext(uwe);if(!e)throw new Error("Could not find `RouterHistoryProvider` context");return e}const ZQn=p.memo(function({children:e,history:t,activeWorkspace:n,setActiveWorkspace:r}){const i=p.useMemo(()=>({activeWorkspace:n,setActiveWorkspace:r}),[n,r]);return c.jsx(Txe.Provider,{value:i,children:c.jsx(YQn,{history:t,children:e})})});function XQn(e){const t=e.map(r=>r.basePath.slice(1).split("/")).reduce((r,i)=>{for(let o=0;o<r.length;o++){const a=r[o],s=i[o].toLowerCase();if(a!==s)return r.slice(0,o)}return r});function n([r,...i]){return r?`(\\/${UX(r)}${n(i)}(\\/|$))?`:""}return new RegExp(`^${n(t)}$`,"i")}function JQn({pathname:e,workspaces:t,basePathRegex:n}){const[r]=t;for(const{workspace:i,basePath:o,basePathRegex:a}of t)if(a.test(e)||o==="/")return{type:"match",workspace:i};return e==="/"?{type:"redirect",pathname:r.basePath}:n.test(e)?{type:"redirect",pathname:r.basePath}:{type:"not-found"}}function QQn(e){return p.useMemo(()=>eer(e),[e])}function eer(e){return e.map(t=>{const n=t.basePath||"/";return{workspace:t,name:t.name,basePath:n,basePathRegex:new RegExp(`^${UX(n)}(\\/|$)`,"i")}})}function ter(e,t){const n=QQn(t),r=p.useMemo(()=>XQn(n),[n]),[i]=p.useState(()=>e.location.pathname),o=p.useMemo(()=>({subscribe:a=>e.listen(a),getSnapshot:()=>e.location.pathname,getServerSnapshot:()=>i,selector:a=>JQn({basePathRegex:r,pathname:a,workspaces:n}),isEqual:(a,s)=>{if(a.type!==s.type)return!1;switch(a.type){case"match":return a.workspace===s.workspace;case"redirect":return a.pathname===s.pathname;case"not-found":return!0;default:throw new Error(`Unknown type: ${a.type}`)}}}),[r,e,i,n]);return zX.useSyncExternalStoreWithSelector(o.subscribe,o.getSnapshot,o.getServerSnapshot,o.selector,o.isEqual)}const ner=()=>typeof document>"u"?dwn():uwn();function rer({children:e,LoadingComponent:t,NotFoundComponent:n,unstable_history:r}){const i=f_(),o=p.useMemo(()=>r||ner(),[r]),a=p.useCallback(u=>{const d=i.find(f=>f.name===u);d&&o.push(d.basePath)},[o,i]),s=p.useCallback(()=>{a(i[0].name)},[a,i]),l=ter(o,i);switch(p.useEffect(()=>{l.type==="redirect"&&o.replace(l.pathname)},[o,l]),l.type){case"match":return c.jsx(ZQn,{activeWorkspace:l.workspace,history:o,setActiveWorkspace:a,children:e});case"redirect":return c.jsx(t,{});case"not-found":return c.jsx(n,{onNavigateToDefaultWorkspace:s});default:throw new Error(`Unknown type: ${l.type}`)}}function Og(){const e=p.useContext(Txe);if(!e)throw new Error("Could not find `ActiveWorkspaceMatcher` context");return e}const S9="v2023-11-13";function ier(e){const{children:t}=e,{dataset:n,projectId:r}=ri(),i=on(en),[o,a]=p.useState(null),[s,l]=p.useState(!1),[u,d]=p.useState(!1),f=p.useCallback(async()=>{var y,x;return(x=(y=await i.withConfig({apiVersion:S9}).request({uri:`/projects/${r}/datasets?datasetProfile=comments&addonFor=${n}`,tag:"sanity.studio"}))==null?void 0:y[0])==null?void 0:x.name},[n,i,r]),h=p.useCallback(y=>i.withConfig({apiVersion:S9,dataset:y,projectId:r,requestTagPrefix:"sanity.studio",useCdn:!1,withCredentials:!0}),[i,r]),m=p.useCallback(async()=>{var y;l(!0);try{const x=await f();if(x){const b=h(x);return a(b),l(!1),b}}catch{}try{const x=(y=await i.withConfig({apiVersion:S9}).request({uri:`/comments/${n}/setup`,method:"POST"}))==null?void 0:y.datasetName;if(!x)return l(!1),null;const b=h(x);return a(b),b}catch(x){throw x}finally{l(!1)}},[n,f,h,i]);p.useEffect(()=>{f().then(y=>{if(!y)return;const x=h(y);a(x)}).finally(()=>{d(!0)})},[f,h]);const g=p.useMemo(()=>({client:o,createAddonDataset:m,isCreatingDataset:s,ready:u}),[o,m,s,u]);return c.jsx(DH.Provider,{value:g,children:t})}function sBe(e){return p.useContext(DH)?e.children:c.jsx(ier,{...e})}function k4(){const e=p.useContext(DH);if(!e)throw new Error("useAddonDataset: missing context value");return e}function lBe(){return Ent()?"dark":"light"}function cBe({children:e,scheme:t}){const n=lBe();return c.jsx(k2,{scheme:t==="system"?n:t,theme:ly,children:e})}const Lve="sanityStudio:ui:colorScheme";function oer({children:e,onSchemeChange:t,scheme:n}){return n?c.jsx(ser,{scheme:n,onSchemeChange:t,children:e}):c.jsx(aer,{onSchemeChange:t,children:e})}function aer({children:e,onSchemeChange:t}){const n=p.useMemo(()=>{let i;const o=new Set;return{subscribe:a=>(i||(i=Nve(localStorage.getItem(Lve))||"system"),o.add(a),()=>{o.delete(a)}),getSnapshot:()=>i,setSnapshot:a=>{i=Nve(a);for(const s of o)s()},getServerSnapshot:()=>"system"}},[]),r=p.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return p.useEffect(()=>{typeof t=="function"&&t(r),localStorage.setItem(Lve,r)},[t,r]),c.jsx(oO.Provider,{value:n.setSnapshot,children:c.jsx(aO.Provider,{value:r,children:c.jsx(cBe,{scheme:r,children:e})})})}function Nve(e){switch(e){case"dark":case"light":return e;default:return"system"}}function ser({children:e,onSchemeChange:t,scheme:n}){return c.jsx(oO.Provider,{value:typeof t=="function"?t:!1,children:c.jsx(aO.Provider,{value:n,children:c.jsx(cBe,{scheme:n,children:e})})})}function uBe(){const e=p.useContext(oO);if(e===null)throw new Error("Could not find `ColorSchemeSetValueContext` context");return e}function dBe(){const e=p.useContext(aO);if(e===null)throw new Error("Could not find `ColorSchemeValueContext` context");return e}function bp(){const e=dBe(),t=lBe();return e==="system"?t:e}function fBe(e,t){const n=dBe();return p.useMemo(()=>[{title:t("user-menu.color-scheme.system-title"),name:"system",label:t("user-menu.color-scheme.system-description"),selected:n==="system",onSelect:()=>e("system"),icon:b_e},{title:t("user-menu.color-scheme.dark-title"),name:"dark",label:t("user-menu.color-scheme.dark-description"),selected:n==="dark",onSelect:()=>e("dark"),icon:D_e},{title:t("user-menu.color-scheme.light-title"),name:"light",label:t("user-menu.color-scheme.light-description"),selected:n==="light",onSelect:()=>e("light"),icon:V_e}],[n,e,t])}function hBe(e){return e.reduce((t,n)=>(t[n.type]=n,t),{})}function rg(e,t){return t?e[t]:void 0}function ler(e,t){var n;return(n=rg(e,t))==null?void 0:n.initialValue}function eH(e,t){var n;return{fieldId:t,filterName:e.name,operatorType:((n=e==null?void 0:e.operators.find(r=>r.type==="item"))==null?void 0:n.name)||""}}function Hg({fieldDefinitions:e,filterDefinitions:t,filters:n,operatorDefinitions:r}){return n.filter(i=>O_({filter:i,filterDefinitions:t,fieldDefinitions:e,operatorDefinitions:r})).map(i=>{var o;return(o=rg(r,i.operatorType))==null?void 0:o.groqFilter({fieldPath:cer({filter:i,fieldDefinitions:e,filterDefinitions:t}),value:i==null?void 0:i.value})}).filter(i=>!TPt(i)).filter(Ro).join(" && ")}function Xh(e,t){return t!=null&&t.fieldId?e[t.fieldId]:void 0}function ys(e){return[e.filterName,...e.fieldId?[e.fieldId]:[]].join("-")}function Wg({fieldDefinitions:e,filters:t,types:n}){const r=n.map(s=>s.name),i=Object.values(e).filter(s=>t.map(l=>l==null?void 0:l.fieldId).includes(s.id)).filter(s=>s.documentTypes.length>0).map(s=>s.documentTypes),o=u$(...i),a=[];return r.length>0&&a.push(r),o.length>0&&a.push(o),u$(...a).sort()}function cer({filter:e,fieldDefinitions:t,filterDefinitions:n}){const r=Xh(t,e),i=$g(n,e.filterName);if(i)switch(i.type){case"field":return r==null?void 0:r.fieldPath;case"pinned":return i==null?void 0:i.fieldPath;default:return}}function O_({filter:e,filterDefinitions:t,fieldDefinitions:n,operatorDefinitions:r}){const i=$g(t,e.filterName),o=rg(r,e.operatorType),a=Xh(n,e);return!(!i||!o||e.fieldId&&!a||i.type==="field"&&(!(a!=null&&a.fieldPath)||!e.fieldId||!o.groqFilter({fieldPath:a.fieldPath,value:e.value}))||i.type==="pinned"&&!o.groqFilter({fieldPath:i.fieldPath,value:e.value}))}const uer=Jy("escape"),der=500,fer=R.div`
  background: transparent;
  height: 100%;
  left: 0;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: -1;
`;function see({anchorElement:e,children:t,onClose:n}){const{isTopLayer:r}=ns(),i=p.useCallback(a=>{uer(a)&&r&&n()},[r,n]);Ss(i);const o=her(e||null);return c.jsxs(c.Fragment,{children:[c.jsx(fer,{onClick:n}),c.jsx(Ku,{autoFocus:!1,returnFocus:!0,children:c.jsx(le,{display:"flex",overflow:"hidden",radius:uC,style:{maxHeight:`min(calc(100vh - ${o}px - ${__}px - ${FU}px), ${der}px`,zIndex:1},children:c.jsx(W,{children:t})})})]})}function E9(e){const t=e.getBoundingClientRect();return t.y+t.height+__}function her(e){const[t,n]=p.useState(e&&E9(e)),r=p.useCallback(()=>{e&&n(E9(e))},[e]);return p.useEffect(()=>{e&&n(E9(e))},[e]),p.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),t}const per=R(V)`
  border-bottom: 1px solid ${({theme:e})=>e.sanity.color.base.border};
  flex-shrink: 0;
`,mer=R(W)`
  box-sizing: border-box;
`,pBe=p.forwardRef(function({ariaInputLabel:e,onChange:t,onClear:n,typeFilter:r},i){const{state:{fullscreen:o}}=cn(),{t:a}=Q();return c.jsx(per,{children:c.jsx(mer,{align:"center",flex:1,padding:1,children:c.jsx(zQ,{__unstable_disableFocusRing:!0,$smallClearButton:!0,"aria-label":e,autoComplete:"off",border:!1,clearButton:!!r,fontSize:o?2:1,icon:wa,muted:!0,onChange:t,onClear:n,placeholder:a("search.filter-placeholder"),ref:i,spellCheck:!1,radius:2,value:r})})})});function ger({documentTypesNarrowed:e,fieldDefinitions:t,filterDefinitions:n,schema:r,titleFilter:i,types:o,t:a}){const s=Object.values(t).filter(u=>xer(u,i)).map(u=>{const d=$g(n,u.filterName);return d?eH(d,u.id):null}).filter(Ro),l=ver({fieldDefinitions:t,filterDefinitions:n,titleFilter:i});return e.length===0?[...l,...C5({fieldDefinitions:t,filterDefinitions:n,filters:s,headerTitle:a("search.filter-all-fields-header"),id:"field"})]:[...l,...yer({documentTypesNarrowed:e,fieldDefinitions:t,filterDefinitions:n,filters:s,schema:r,types:o,t:a})]}function C5({fieldDefinitions:e,filterDefinitions:t,filters:n,id:r,headerTitle:i,tone:o}){const a={title:i||"",tone:o||"default",type:"header"},s=n.map(l=>({fieldDefinition:Xh(e,l),filterDefinition:$g(t,l.filterName),filter:l,group:r,tone:o||"default",type:"filter"}));return s.length>0?[...i?[a]:[],...s]:[]}function yer({documentTypesNarrowed:e,fieldDefinitions:t,filterDefinitions:n,filters:r,schema:i,types:o,t:a}){const s=r.filter(d=>{const f=Xh(t,d);return ker(e,f)}),l=e.length>1&&o.length>1?C5({fieldDefinitions:t,filterDefinitions:n,filters:s,headerTitle:a("search.filter-shared-fields-header"),id:"shared",tone:"primary"}):[],u=e.map(d=>{const f=i.get(d);return{title:(f==null?void 0:f.title)||Vt(f==null?void 0:f.name)||"(Unknown type)",documentType:d}}).sort((d,f)=>d.title.localeCompare(f.title)).map(({documentType:d,title:f})=>{const h=r.filter(m=>{const g=Xh(t,m);return ber([d],g)});return C5({fieldDefinitions:t,filterDefinitions:n,filters:h,id:f,headerTitle:f})}).flat();return[...l,...u]}function ver({fieldDefinitions:e,filterDefinitions:t,titleFilter:n}){const r=Object.values(t).filter(Cer).filter(o=>Bve(o,n)).map(o=>eH(o)),i=Object.values(t).filter(wer).filter(o=>Bve(o,n)).reduce((o,a)=>(o[a.group]=o[a.group]||[],o[a.group].push(eH(a)),o),{});return[...C5({fieldDefinitions:e,filterDefinitions:t,filters:r,id:"pinned-ungrouped",tone:"primary"}),...Object.entries(i).flatMap(([o,a])=>C5({fieldDefinitions:e,filterDefinitions:t,filters:a,headerTitle:o,id:o,tone:"primary"}))]}function ber(e,t){return t==null?void 0:t.documentTypes.some(n=>e.includes(n))}function xer(e,t){return e.titlePath.join("/").toLowerCase().includes(t.toLowerCase())}function Bve(e,t){return e.title.toLowerCase().includes(t.toLowerCase())}function wer(e){return e.type==="pinned"&&typeof(e==null?void 0:e.group)<"u"}function Cer(e){return e.type==="pinned"&&typeof(e==null?void 0:e.group)>"u"}function ker(e,t){return hy(e,(t==null?void 0:t.documentTypes)||[]).length===0}function mBe({filter:e,maxLength:t}){const{state:{definitions:n}}=cn(),r=p.useMemo(()=>{const i=$g(n.filters,e.filterName);switch(i==null?void 0:i.type){case"field":{const o=Xh(n.fields,e);return o!=null&&o.titlePath?o.titlePath[o.titlePath.length-1]:null}case"pinned":return i.title;default:return null}},[n,e]);return r?t&&r.length>t?c.jsxs("span",{children:[r.slice(0,t),""]}):c.jsx("span",{children:r}):null}function Ser({filter:e}){var r;const{state:{definitions:t}}=cn(),n=(r=$g(t.filters,e.filterName))==null?void 0:r.icon;return n?p.createElement(n):c.jsx(Tu,{})}function gBe({filter:e}){var r;const{state:{definitions:t}}=cn(),n=Xh(t.fields,e);return c.jsxs(ae,{space:2,children:[(n==null?void 0:n.titlePath)&&((r=n.titlePath)==null?void 0:r.length)>1&&c.jsx(V,{marginLeft:4,children:c.jsx(B,{muted:!0,size:0,children:n.titlePath.slice(0,-1).map((i,o)=>c.jsxs(p.Fragment,{children:[c.jsx("span",{children:i}),o!==n.titlePath.length-2&&c.jsx("span",{style:{opacity:.75,paddingLeft:"0.25em",paddingRight:"0.25em"},children:c.jsx(Es,{})})]},o))})}),c.jsxs(W,{align:"flex-start",gap:3,children:[c.jsx(V,{style:{flexShrink:0},children:c.jsx(B,{size:1,children:c.jsx(Ser,{filter:e})})}),c.jsx(B,{size:1,weight:"medium",children:c.jsx(mBe,{filter:e})})]})]})}function yBe(e){return p.isValidElement(e)?Eer(Ykn(e)):typeof e=="string"?e:""}function Eer(e){var t;return((t=new DOMParser().parseFromString(e,"text/html"))==null?void 0:t.body.textContent)||""}const _9=10;function _er({children:e,fieldDefinition:t,filterDefinition:n,visible:r}){const{state:{documentTypesNarrowed:i}}=cn(),{t:o}=Q(),a=un(),s=p.useMemo(()=>t!=null&&t.documentTypes?t.documentTypes.map(u=>{const d=a.get(u);return(d==null?void 0:d.title)||Vt(d==null?void 0:d.name)}).filter(Ro).sort():[],[t==null?void 0:t.documentTypes,a]),l=p.useMemo(()=>{if(t!=null&&t.documentTypes){const u=t.documentTypes.map(f=>{const h=a.get(f);if(h){const m=l4(h,t.fieldPath);return(m==null?void 0:m.type.description)&&yBe(m==null?void 0:m.type.description)}return null}).filter(Ro).sort(),d=Io(u);if(d.length===1)return d[0]}},[t==null?void 0:t.documentTypes,t==null?void 0:t.fieldPath,a]);return c.jsx(Et,{content:c.jsx(le,{tone:"default",radius:2,style:{maxWidth:"250px"},children:c.jsxs(ae,{space:4,children:[t&&c.jsxs(ae,{space:3,children:[c.jsx(B,{muted:!0,size:1,weight:"medium",children:o("search.filter-field-tooltip-name")}),c.jsx(gi,{size:1,style:{fontFamily:"monospace"},tone:"primary",textOverflow:"ellipsis",children:t==null?void 0:t.name})]}),l&&c.jsxs(ae,{space:3,children:[c.jsx(B,{muted:!0,size:1,weight:"medium",children:o("search.filter-field-tooltip-description")}),c.jsx(B,{muted:!0,size:1,children:Pge(l,256)})]}),(n==null?void 0:n.description)&&c.jsx(B,{muted:!0,size:1,children:Pge(n.description,256)}),!i.length&&s.length>0&&c.jsxs(ae,{space:2,children:[c.jsxs(W,{align:"center",gap:1,children:[c.jsx(B,{muted:!0,size:1,weight:"medium",children:o("search.filter-field-tooltip-used-in-document-types")}),c.jsx(le,{padding:1,radius:2,tone:"transparent",children:c.jsx(B,{size:1,muted:!0,children:s.length})})]}),c.jsxs(B,{size:1,weight:"regular",muted:!0,children:[s.slice(0,_9).join(", "),(s==null?void 0:s.length)>_9?` +${s.length-_9} more`:""]})]})]})}),disabled:!r,fallbackPlacements:["left"],placement:"right",portal:!0,children:e})}const Ter=p.memo(function({item:e,onClose:t,...n}){const{dispatch:r,state:{filters:i}}=cn(),o=p.useCallback(()=>{r({filter:e.filter,type:"TERMS_FILTERS_ADD"}),t==null||t()},[r,e.filter,t]),a=!!i.find(l=>ys(l)===ys(e.filter)),s=!!(e.fieldDefinition||e.filterDefinition.description);return c.jsx(V,{...n,children:c.jsx(zt,{disabled:a,fontSize:1,justify:"flex-start",mode:"bleed",onClick:a?void 0:o,padding:0,style:{position:"relative",whiteSpace:"normal",width:"100%"},tabIndex:-1,tone:e==null?void 0:e.tone,children:c.jsx(_er,{fieldDefinition:e.fieldDefinition,filterDefinition:e.filterDefinition,visible:s,children:c.jsx(V,{padding:3,children:c.jsx(gBe,{filter:e.filter})})})})})}),Aer=p.memo(function({item:e}){return c.jsx(V,{paddingTop:1,children:c.jsx(le,{borderBottom:!0,paddingX:2,paddingY:3,tone:e==null?void 0:e.tone,children:c.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",weight:"medium",children:e.title})})})}),jer={width:"300px"};function Ier({onClose:e}){const[t,n]=p.useState(null),[r,i]=p.useState(""),{t:o}=Q(),a=p.useCallback(b=>i(b.currentTarget.value),[i]),s=p.useCallback(()=>i(""),[]),l=un(),{state:{documentTypesNarrowed:u,definitions:d,filters:f,terms:{types:h}}}=cn(),m=p.useMemo(()=>ger({documentTypesNarrowed:u,fieldDefinitions:d.fields,filterDefinitions:d.filters,schema:l,titleFilter:r,types:h,t:o}),[u,d.fields,d.filters,l,r,h,o]),g=p.useCallback(b=>b.type==="filter"?c.jsx(Ter,{item:b,onClose:e,paddingBottom:1}):b.type==="header"?c.jsx(Aer,{item:b}):null,[e]),y=p.useCallback(b=>{const v=m[b];return v.type!=="filter"||!!f.find(w=>ys(w)===ys(v.filter))},[m,f]),x=p.useCallback(b=>{const v=m[b];switch(v.type){case"filter":return[...v.group?[v.group]:[],ys(v.filter)].join("-");case"header":return`${v.type}-${v.title}`;default:return b}},[m]);return c.jsxs(W,{direction:"column",style:jer,children:[c.jsx(pBe,{ariaInputLabel:o("search.filter-by-title-aria-label"),onChange:a,onClear:s,ref:n,typeFilter:r}),c.jsxs(W,{children:[m.length>0&&c.jsx(gf,{activeItemDataAttr:"data-hovered",ariaLabel:o("search.filters-aria-label",{count:m.length}),autoFocus:"input",getItemDisabled:y,getItemKey:x,inputElement:t,itemHeight:45,items:m,overscan:20,padding:1,paddingBottom:0,renderItem:g}),m.length==0&&c.jsx(V,{padding:3,children:c.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",children:o("search.filter-no-matches-found",{filter:r})})})]})]})}function Vve(){const[e,t]=p.useState(!1),[n,r]=p.useState(null),i=p.useRef(null),{t:o}=Q(),{state:{fullscreen:a}}=cn(),s=p.useCallback(()=>t(!1),[]),l=p.useCallback(()=>t(!0),[]);return On(s,()=>[n,i.current]),c.jsx(Fn,{__unstable_margins:[__,0,0,0],content:c.jsx(see,{anchorElement:n,onClose:s,children:c.jsx(Ier,{onClose:s})}),open:e,placement:"bottom-start",radius:uC,ref:i,portal:!0,children:c.jsx(ge,{icon:ca,mode:"bleed",onClick:l,size:a?"large":"default",ref:r,selected:e,text:o("search.action.add-filter")})})}const $er=p.memo(function({selected:e,type:t,...n}){const{dispatch:r}=cn(),i=p.useCallback(()=>{r({type:"TERMS_TYPE_ADD",schemaType:t})},[r,t]),o=p.useCallback(()=>{r({type:"TERMS_TYPE_REMOVE",schemaType:t})},[r,t]),a=p.useCallback(()=>{e?o():i()},[i,o,e]);return c.jsx(V,{...n,children:c.jsx(ge,{iconRight:e&&_a,justify:"flex-start",mode:"bleed",onClick:a,width:"fill",size:"large",tabIndex:-1,text:t.title??t.name,tone:e?"primary":"default"},t.title??t.name)})}),Der=R(V)`
  border-top: 1px solid ${({theme:e})=>e.sanity.color.base.border};
  flex-shrink: 0;
`,Oer={width:"250px"};function Mer(){const[e,t]=p.useState(null),[n,r]=p.useState(""),i=p.useRef(null),{t:o}=Q(),a=un(),{dispatch:s,state:{terms:{types:l}}}=cn(),[u,d]=p.useState(l),f=Rer(a,l,u,n),h=p.useCallback(w=>r(w.currentTarget.value),[r]),m=p.useCallback(()=>r(""),[]),g=p.useCallback(()=>{var w,C;d([]),s({type:"TERMS_TYPES_CLEAR"}),(w=i==null?void 0:i.current)==null||w.focusInputElement(),(C=i==null?void 0:i.current)==null||C.scrollToIndex(0)},[s]),y=p.useCallback(w=>{const C=f[w];switch(C.type){case"divider":return`${C.type}-${w}`;case"header":return`${C.type}-${C.title}`;case"item":return`${C.type}-${C.item.name}`;default:return w}},[f]),x=p.useCallback(w=>w.type==="divider"?c.jsx(V,{paddingY:1,children:c.jsx(Tr,{})}):w.type==="header"?c.jsx(V,{margin:2,padding:1,children:c.jsx(B,{muted:!0,size:1,weight:"medium",children:w.title})}):w.type==="item"?c.jsx($er,{paddingBottom:1,selected:w.selected,type:w.item}):null,[]),b=p.useCallback(w=>f[w].type!=="item",[f]),v=p.useCallback(w=>{const C=f[w];return C.type==="item"&&C.selected},[f]);return c.jsxs(W,{direction:"column",style:Oer,children:[c.jsx(pBe,{ariaInputLabel:o("search.action.filter-by-document-type-aria-label"),onChange:h,onClear:m,ref:t,typeFilter:n}),c.jsxs(W,{children:[f.length>0&&c.jsx(gf,{activeItemDataAttr:"data-hovered",ariaLabel:o("search.document-types-aria-label"),ariaMultiselectable:!0,autoFocus:"input",getItemDisabled:b,getItemSelected:v,getItemKey:y,inputElement:e,itemHeight:37,items:f,overscan:20,padding:1,paddingBottom:0,ref:i,renderItem:x}),!f.length&&c.jsx(V,{padding:3,children:c.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",children:o("search.document-types-no-matches-found",{filter:n})})})]}),!n&&l.length>0&&c.jsx(Per,{onClick:g,selectedTypes:l})]})}function Per({onClick:e,selectedTypes:t}){const{t:n}=Q();return c.jsx(Der,{padding:1,children:c.jsx(ae,{children:c.jsx(ge,{"aria-label":n("search.action.clear-type-filters-aria-label"),"data-name":"type-filter-button",disabled:t.length===0,mode:"bleed",onClick:e,text:n("search.action.clear-type-filters-label"),tone:"primary"})})})}function Rer(e,t,n,r){return p.useMemo(()=>{const[i,o]=rP(kUn(e,r),u=>n.includes(u)),a=i.length>0,s=i.length>0,l=[];return a&&l.push({title:"Selected",type:"header"}),i.forEach(u=>l.push({item:u,selected:t.includes(u),type:"item"})),a&&s&&l.push({type:"divider"}),o.forEach(u=>l.push({item:u,selected:t.includes(u),type:"item"})),l},[e,t,n,r])}const Fer=["top-start","bottom-start"];function Ler(){const[e,t]=p.useState(!1),[n,r]=p.useState(null),i=p.useRef(null),{state:{fullscreen:o,terms:{types:a}}}=cn(),{t:s}=Q(),l=p.useCallback(()=>t(!1),[]),u=p.useCallback(()=>t(!0),[]);On(l,()=>[n,i.current]);const d=p.useMemo(()=>W7e({types:a,t:s}),[a,s]);return c.jsx(Fn,{__unstable_margins:[__,0,0,0],content:c.jsx(see,{anchorElement:n,onClose:l,children:c.jsx(Mer,{})}),open:e,placement:"bottom-start",fallbackPlacements:Fer,portal:!0,radius:uC,ref:i,children:c.jsx(ge,{iconRight:ea,mode:"ghost",onClick:u,size:o?"large":"default",ref:r,selected:e,text:d,tone:"default"})})}const T9=R(V)`
  flex-shrink: ${({$flexShrink:e=0})=>e};
`;function vBe({filter:e,fontSize:t=1,showContent:n=!0}){const{t:r}=Q(),{state:{definitions:i,fullscreen:o}}=cn(),a=rg(i.operators,e.operatorType),s=a==null?void 0:a.buttonValueComponent,l=e.value,u=p.useMemo(()=>({Field:()=>c.jsx(T9,{$flexShrink:o?1:0,children:c.jsx(gi,{tone:"default",size:t,textOverflow:"ellipsis",weight:"medium",children:c.jsx(mBe,{filter:e,maxLength:o?25:40})})}),Operator:({children:d})=>n?c.jsx(T9,{$flexShrink:0,children:c.jsx(gi,{tone:"default",size:t,textOverflow:"ellipsis",weight:"regular",children:d})}):null,Value:({children:d})=>n?c.jsx(T9,{$flexShrink:1,children:c.jsx(gi,{tone:"default",size:t,textOverflow:"ellipsis",weight:"medium",children:s?c.jsx(s,{value:l}):d})}):null}),[e,t,o,n,s,l]);if(a!=null&&a.descriptionKey||console.warn("Missing `descriptionKey` for operator `%s`",e.operatorType),!n||!(a!=null&&a.descriptionKey)){const d=u.Field;return c.jsx(W,{align:"center",gap:1,children:c.jsx(d,{})})}return c.jsx(W,{align:"center",gap:1,children:c.jsx(wt,{t:r,i18nKey:a==null?void 0:a.descriptionKey,components:u,values:Ner(e)})})}function Ner(e){const t={};return typeof e.value=="number"&&(t.count=e.value),A9(e.value)&&(t.value=e.value),Tt(e.value)&&"from"in e.value&&A9(e.value.from)&&(t.from=e.value.from),Tt(e.value)&&"to"in e.value&&A9(e.value.to)&&(t.to=e.value.to),t}function A9(e){return typeof e=="string"||typeof e=="number"}function Ber(e){const{t}=Q();return c.jsx(V,{...e,children:c.jsxs(W,{align:"flex-start",gap:3,children:[c.jsx(gi,{tone:"critical",children:c.jsx(ua,{})}),c.jsxs(ae,{space:4,children:[c.jsx(gi,{size:1,tone:"critical",weight:"medium",children:t("search.error.display-filter-title")}),c.jsx(gi,{size:1,tone:"critical",children:t("search.error.display-filter-description")})]})]})})}function Ver({onClick:e,operator:t,selected:n}){const r=p.useCallback(()=>e(t.type),[e,t.type]),{t:i}=Q();return c.jsx(Qe,{onClick:r,pressed:n,tone:"default",text:i(t.nameKey),iconRight:t==null?void 0:t.icon})}function zer({filter:e,operator:t}){var l;const n=p.useId(),{t:r}=Q(),{dispatch:i,state:o}=cn(),a=(l=$g(o.definitions.filters,e.filterName))==null?void 0:l.operators,s=p.useCallback(u=>{i({filterKey:ys(e),operatorType:u,type:"TERMS_FILTERS_SET_OPERATOR"})},[i,e]);return!t||!a||a.length<=1?null:c.jsx(Wn,{children:c.jsx(Jt,{button:c.jsx(ge,{mode:"ghost",iconRight:ea,text:r(t.nameKey)}),id:n||"",menu:c.jsx(Nt,{children:a.map((u,d)=>{if(u.type==="item"){const f=rg(o.definitions.operators,u.name);return f?c.jsx(Ver,{onClick:s,operator:f,selected:t.type===u.name},d):null}return u.type==="divider"?c.jsx(Tr,{},d):null})}),placement:"bottom-start",popover:{constrainSize:!0,portal:!1,radius:2}})})}function Uer({filter:e}){const[t,n]=p.useState(null),{dispatch:r,state:{definitions:i,fullscreen:o}}=cn(),a=$g(i.filters,e.filterName),s=rg(i.operators,e.operatorType),l=Xh(i.fields,e),u=ys(e),d=p.useCallback(()=>{r({filterKey:ys(e),type:"TERMS_FILTERS_REMOVE"})},[r,e]),f=p.useCallback(g=>{r({filterKey:u,type:"TERMS_FILTERS_SET_VALUE",value:g})},[r,u]),h=p.useCallback(g=>{n(g)},[]),m=s==null?void 0:s.inputComponent;return t?c.jsx(Ber,{padding:4}):c.jsx(aw,{onCatch:h,children:c.jsx(Ku,{autoFocus:!v0,returnFocus:!0,children:c.jsxs(W,{direction:"column-reverse",children:[m&&c.jsx(le,{borderTop:!0,padding:3,children:c.jsx(m,{fieldDefinition:l,onChange:f,value:e.value},e.operatorType)}),c.jsx(le,{padding:3,children:c.jsxs(ae,{space:3,children:[c.jsxs(W,{align:"flex-start",gap:3,justify:"space-between",children:[c.jsx(V,{paddingLeft:1,paddingRight:2,paddingY:1,children:c.jsx(gBe,{filter:e})}),o&&c.jsx(ge,{icon:$i,mode:"bleed",onClick:d,tone:"critical",tooltipProps:{content:"Remove filter"}})]}),(a==null?void 0:a.description)&&c.jsx(le,{border:!0,padding:3,radius:2,tone:"transparent",children:c.jsx(B,{muted:!0,size:1,children:a.description})}),c.jsx(zer,{filter:e,operator:s})]})})]})})})}const Her=R(W)`
  max-width: 480px;
  min-width: 150px;
  overflow: hidden;
  overflow: clip;
  width: 100%;
`;function Wer({filter:e}){return c.jsxs(Her,{direction:"column",children:[c.jsx(Uer,{filter:e}),V7e]})}const Ger=R(zt)`
  border-radius: ${({theme:e})=>`0 ${Te(e.sanity.radius[2])} ${Te(e.sanity.radius[2])} 0`};
`,Ker=R(le)`
  position: absolute;
  right: 0;
`,Yer=R.div`
  align-items: center;
  display: inline-flex;
  max-width: 100%;
  position: relative;
`,qer=R(zt)`
  border: none;
  width: 100%;
`;function Zer({filter:e,initialOpen:t}){const[n,r]=p.useState(t),[i,o]=p.useState(null),a=p.useRef(null),{dispatch:s,state:{definitions:l,fullscreen:u}}=cn(),{t:d}=Q(),f=p.useCallback(()=>r(!1),[]),h=p.useCallback(()=>r(!0),[]),m=p.useCallback(()=>s({filterKey:ys(e),type:"TERMS_FILTERS_REMOVE"}),[s,e]),g=p.useCallback(x=>{["Backspace","Delete"].includes(x.key)&&m()},[m]);On(f,()=>[i,a.current]);const y=O_({fieldDefinitions:l.fields,filter:e,filterDefinitions:l.filters,operatorDefinitions:l.operators});return c.jsx(Fn,{__unstable_margins:[__,0,0,0],content:c.jsx(see,{anchorElement:i,onClose:f,children:c.jsx(Wer,{filter:e})}),constrainSize:!0,open:n,overflow:"auto",placement:"bottom-start",portal:!0,radius:uC,ref:a,children:c.jsxs(Yer,{children:[c.jsx(le,{__unstable_focusRing:!0,display:"flex",radius:2,tone:y?"primary":"transparent",children:c.jsx(qer,{mode:"bleed",onClick:h,onKeyDown:g,paddingLeft:u?3:2,paddingRight:u?3:5,paddingY:u?3:2,ref:o,children:c.jsx(vBe,{filter:e,showContent:y})})}),!u&&c.jsx(Ker,{__unstable_focusRing:!0,display:"flex",radius:2,tone:y?"primary":"transparent",children:c.jsx(Ger,{"aria-label":d("search.action.remove-filter-aria-label"),fontSize:1,icon:eo,mode:"bleed",onClick:m,onKeyDown:g,padding:2,radius:2})})]})})}function lee({showTypeFilter:e=!0}){const{dispatch:t,state:{filters:n,fullscreen:r,lastAddedFilter:i,terms:{types:o}}}=cn(),{t:a}=Q(),s=p.useRef(!1),l=p.useCallback(()=>{e&&t({type:"TERMS_TYPES_CLEAR"}),t({type:"TERMS_FILTERS_CLEAR"})},[t,e]),u=n.length>0||e&&o.length>0;p.useEffect(()=>{s.current=!0},[]);const d=i&&ys(i),f=()=>c.jsx(ge,{mode:"bleed",onClick:l,size:r?"large":"default",text:a("search.action.clear-filters"),tone:"critical"});return c.jsxs(c.Fragment,{children:[c.jsxs(W,{align:"flex-start",gap:3,justify:"space-between",padding:2,children:[c.jsxs(W,{flex:1,gap:2,wrap:"wrap",children:[e&&c.jsx(Ler,{}),n==null?void 0:n.map(h=>{const m=ys(h);return c.jsx(Zer,{filter:h,initialOpen:s.current&&d===m},m)}),!r&&c.jsx(Vve,{})]}),u&&!r&&c.jsx(f,{})]}),r&&c.jsxs(W,{justify:"space-between",paddingBottom:2,paddingX:2,children:[c.jsx(Vve,{}),u&&c.jsx(f,{})]}),V7e]})}const Xer=Fy`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Jer=R(kK)`
  animation: ${Xer} 500ms linear infinite;
`,Qer=R.div`
  line-height: 0;
  position: relative;
`,cee=p.forwardRef(function({ariaInputLabel:e,onClose:t},n){const r=p.useRef(!1),{t:i}=Q(),{dispatch:o,state:{filters:a,filtersVisible:s,fullscreen:l,result:{loading:u},terms:d}}=cn(),{types:f,query:h}=d,m=T_({terms:d}),g=i(e||m?"search.search-results-aria-label":"search.recent-searches-aria-label"),y=p.useCallback(()=>o({type:"FILTERS_VISIBLE_SET",visible:!s}),[o,s]),x=p.useCallback(w=>o({type:"TERMS_QUERY_SET",query:w.currentTarget.value}),[o]),b=p.useCallback(()=>{o({type:"TERMS_QUERY_SET",query:""})},[o]);p.useEffect(()=>{l||o({type:"FILTERS_VISIBLE_SET",visible:!0})},[o,l]),p.useEffect(()=>{r.current=!0},[]);const v=a.length>0||f.length>0;return c.jsx(le,{flex:"none",children:c.jsxs(W,{align:"center",flex:1,gap:l?2:1,padding:l?2:1,children:[l&&c.jsx(ge,{"aria-label":i("search.action.close-search-aria-label"),icon:cE,mode:"bleed",onClick:t,size:"large",tooltipProps:{content:i("search.action.close-search-aria-label")}}),c.jsx(V,{flex:1,children:c.jsx(zQ,{__unstable_disableFocusRing:!0,$background:l,$smallClearButton:l,"aria-label":g,autoComplete:"off",border:!1,clearButton:!!h,fontSize:[2,2,1],icon:u?Jer:wa,onChange:x,onClear:b,placeholder:i("search.placeholder"),radius:2,ref:n,spellCheck:!1,value:h})}),l&&c.jsx(Qer,{children:c.jsx(P_,{"aria-expanded":s,"aria-label":i("search.action.toggle-filters-aria-label",{context:s?"hide":"show"}),icon:pK,mode:"bleed",onClick:y,selected:s,size:"large",tone:v?"primary":void 0,tooltipProps:{content:i("search.action.toggle-filters-label",{context:s?"hide":"show"})}})})]})})}),etr=Jy(`mod+${z7e}`),ttr=Jy("escape");function ntr({open:e,onClose:t,onOpen:n}){const{isTopLayer:r}=ns(),i=p.useCallback(()=>{t==null||t()},[t]),o=p.useCallback(a=>{etr(a)&&(a.preventDefault(),e?i():n==null||n()),ttr(a)&&e&&r&&i()},[i,r,e,n]);Ss(o)}function bBe({children:e,hasValidTerms:t,onClose:n,onOpen:r,open:i}){const o=p.useRef(!1),{dispatch:a,searchCommandList:s,setOnClose:l,state:{result:u}}=cn(),d=p.useCallback(()=>{a({index:(s==null?void 0:s.getTopIndex())??-1,type:"LAST_ACTIVE_INDEX_SET"}),n()},[a,n,s]);return ntr({onClose:d,onOpen:r,open:i}),p.useEffect(()=>{l(()=>d)},[d,l]),p.useEffect(()=>{(!t||u.loaded)&&o.current&&a({index:0,type:"LAST_ACTIVE_INDEX_SET"})},[a,t,u.loaded]),p.useEffect(()=>{!t&&o.current&&!i&&a({type:"ORDERING_RESET"})},[a,t,i]),p.useEffect(()=>{o!=null&&o.current||(o.current=!0)},[]),e}const rtr=3;function xBe(e,t){var a;const n=c4(e).map(s=>s.name),{documentTypes:r,objectTypes:i}=(((a=e._original)==null?void 0:a.types)||[]).filter(s=>zve(s)?n.includes(s.name):!0).filter(s=>s.name!=="slug").filter(s=>!s.name.startsWith("sanity.")).reduce((s,l)=>(zve(l)&&(s.documentTypes[l.name]=l),kBe(l)&&(s.objectTypes[l.name]=l),s),{documentTypes:{},objectTypes:{}})||{documentTypes:{},objectTypes:{}},o=fUn(t);return otr(o,r,i)}function wBe(e){return e.reduce((t,n)=>(t[n.id]=n,t),{})}function itr(e){return[e.type,e.fieldPath,e.filterName,e.documentTypes.join(",")].join("-")}function otr(e,t,n){function r({acc:i,defType:o,depth:a=0,documentType:s,prevFieldPath:l,prevTitlePath:u}){var w;const d=a<=rtr,f=o.name.startsWith("_"),h=o!=null&&o.title?yBe(o.title):Vt(o.name),m=l?`${l}.${o.name}`:o.name,g=u?[...u,h]:[h];if(!d)return;const y=n[o.type],x=t[o.type],b=kBe(o)?o:null,v=x||y||b;if(v){(w=v==null?void 0:v.fields)==null||w.forEach(C=>r({acc:i,defType:C,depth:a+1,documentType:s,prevFieldPath:m,prevTitlePath:g}));return}e.includes(o.type)&&i.push({documentTypes:s&&!f?[s]:[],fieldPath:m,filterName:utr(o),id:"",name:o.name,titlePath:g,title:h,type:o.type})}return Object.values(t).reduce((i,o)=>{const a=o.fields.reduce((s,l)=>(r({acc:s,defType:l,documentType:o.name}),s),[]);return i.push(...a),i},[]).reduce((i,o)=>{const a=i.findIndex(s=>s.fieldPath===o.fieldPath&&s.title===o.title&&s.type===o.type);return a>-1?i[a]={...i[a],documentTypes:[...i[a].documentTypes,...o.documentTypes]}:i.push(o),i},[]).map(atr).sort(dtr)}function atr(e){return{...e,id:itr(e)}}function str(e){var t;return CBe(e)?e.of.every(n=>["boolean","number","string"].includes(n.type))&&((t=e.options)!=null&&t.list?e.options.list.length>0:!1):!1}function CBe(e){return e.type==="array"}function zve(e){return e.type==="document"}function kBe(e){return e.type==="object"}function ltr(e){return e.type==="string"}function ctr(e){var t;return ltr(e)&&((t=e.options)!=null&&t.list)?e.options.list.length>0:!1}function utr(e){if(ctr(e))return"stringList";if(CBe(e)){if(e.of.some(t=>t.type==="reference"))return"arrayReferences";if(e.of.find(t=>t.type==="block"))return"portableText";if(str(e))return"arrayList"}return e.type}function dtr(e,t){const n=e.titlePath.slice(0,-1).join("/"),r=t.titlePath.slice(0,-1).join("/");return e.title.localeCompare(t.title)||n.localeCompare(r)||e.fieldPath.localeCompare(t.fieldPath)}const SBe=2,ftr="studio.search.recent",fk={version:SBe,recentSearches:[]};function htr(){const e=o7e(),t=on(en),{dataset:n}=t.config(),r=p.useMemo(()=>`${ftr}.${n}`,[n]),[i,o]=p.useState(fk),a=p.useMemo(()=>e.getKey(r),[e,r]);p.useEffect(()=>{const l=a.pipe(yo(fk),fe(u=>u?(u==null?void 0:u.version)!==SBe?(e.setKey(r,fk),fk):u:fk)).subscribe({next:o});return()=>l==null?void 0:l.unsubscribe()},[a,e,r]);const s=p.useCallback(l=>{o(l),e.setKey(r,l)},[e,r]);return p.useMemo(()=>[i,s],[s,i])}const ptr=5,EBe=2;function uee(){const[e,t]=htr(),n=un(),{search:{operators:r,filters:i}}=er(),{fieldDefinitions:o,filterDefinitions:a,operatorDefinitions:s}=p.useMemo(()=>({fieldDefinitions:wBe(xBe(n,i)),filterDefinitions:L7e(i),operatorDefinitions:hBe(r)}),[i,r,n]);return{addSearch:(l,u)=>{const d=(u||[]).map(m=>({fieldId:m.fieldId,filterName:m.filterName,operatorType:m.operatorType,value:m.value})).filter(m=>O_({fieldDefinitions:o,filter:m,filterDefinitions:a,operatorDefinitions:s})),f={created:new Date().toISOString(),filters:d,terms:{query:l.query.trim(),typeNames:l.types.map(m=>m.name)}},h={version:EBe,recentSearches:[f,...e.recentSearches.filter(m=>!Dt(Po(m,"created"),Po(f,"created")))].slice(0,ptr)};return t(h),hk({fieldDefinitions:o,filterDefinitions:a,operatorDefinitions:s,schema:n,storedSearch:h,setStoredSearch:t})},getRecentSearches:()=>hk({fieldDefinitions:o,filterDefinitions:a,operatorDefinitions:s,schema:n,storedSearch:e,setStoredSearch:t}),removeSearch:()=>{const l={...e,recentSearches:[]};return t(l),hk({fieldDefinitions:o,filterDefinitions:a,operatorDefinitions:s,schema:n,storedSearch:l,setStoredSearch:t})},removeSearchAtIndex:l=>{if(l<0||l>e.recentSearches.length)return hk({fieldDefinitions:o,filterDefinitions:a,operatorDefinitions:s,schema:n,storedSearch:e,setStoredSearch:t});const u={...e,recentSearches:[...e.recentSearches.slice(0,l),...e.recentSearches.slice(l+1)]};return t(u),hk({fieldDefinitions:o,filterDefinitions:a,operatorDefinitions:s,schema:n,storedSearch:u,setStoredSearch:t})}}}function hk({schema:e,fieldDefinitions:t,filterDefinitions:n,operatorDefinitions:r,storedSearch:i,setStoredSearch:o}){return mtr({studioSchema:e,filterDefinitions:n,fieldDefinitions:t,operatorDefinitions:r,storedSearch:i,setStoredSearch:o}).recentSearches.filter(a=>!!a.terms).map((a,s)=>({__recent:{index:s,timestamp:new Date(a.created).getTime()},filters:a.filters,query:a.terms.query,types:a.terms.typeNames.map(l=>e.get(l)).filter(l=>!!(l&&l.jsonType==="object"))}))}function mtr({fieldDefinitions:e,filterDefinitions:t,operatorDefinitions:n,studioSchema:r,storedSearch:i,setStoredSearch:o}){const a=c4(r).map(u=>u.name),s=i.recentSearches.filter(u=>u.terms.typeNames.every(d=>a.includes(d))&&u.filters.every(d=>O_({fieldDefinitions:e,filter:d,filterDefinitions:t,operatorDefinitions:n}))),l={version:EBe,recentSearches:s};return l.recentSearches.length<i.recentSearches.length&&o(l),l}function gtr(){const{t:e}=Q();return c.jsx(W,{align:"center",direction:"column",gap:4,paddingX:4,paddingY:5,children:c.jsx(Wn,{space:3,children:c.jsx(B,{muted:!0,children:c.jsx(wt,{t:e,i18nKey:"search.instructions",components:{ControlsIcon:()=>c.jsx(pK,{style:{padding:"0 0.25rem"}},0)}})})})})}function ytr({availableCharacters:e,types:t}){const{t:n}=Q(),r=p.useMemo(()=>W7e({availableCharacters:e,types:t,t:n}),[e,t,n]);return c.jsx(le,{border:!0,padding:2,radius:2,children:c.jsx(B,{muted:!0,size:1,children:r})})}const vtr=R(le)`
  cursor: default;
`;function btr({filter:e}){return c.jsx(vtr,{border:!0,padding:2,radius:2,tone:"primary",children:c.jsx(vBe,{filter:e})})}const xtr=40,_Be=R(zt)`
  border-radius: ${({theme:e})=>Te(e.sanity.radius[2])};
  cursor: default;
  width: 100%;
`,wtr=R(V)`
  flex-shrink: 3;
`,Ctr=R(W)`
  flex-shrink: 2;
`,ktr=R.div`
  opacity: 0.8;
  visibility: hidden;

  @media (hover: hover) {
    ${_Be}:hover & {
      visibility: visible;
    }
    &:hover {
      opacity: 0.4;
    }
  }
`;function Str({index:e,maxVisibleTypePillChars:t=xtr,value:n,...r}){var u;const{dispatch:i}=cn(),o=uee(),a=t-n.query.length,s=p.useCallback(()=>{i({type:"TERMS_SET",filters:n==null?void 0:n.filters,terms:n}),o&&(o==null||o.addSearch(n,n==null?void 0:n.filters))},[i,o,n]),l=p.useCallback(d=>{d.stopPropagation(),o&&(o==null||o.removeSearchAtIndex(e))},[e,o]);return c.jsx(V,{...r,children:c.jsx(_Be,{mode:"bleed",onClick:s,paddingLeft:3,paddingRight:1,paddingY:1,tabIndex:-1,children:c.jsxs(W,{align:"stretch",children:[c.jsxs(Wn,{paddingY:2,children:[c.jsx(B,{muted:!0,size:1,children:c.jsx(dK,{})}),c.jsx(B,{children:""})]}),c.jsxs(W,{align:"stretch",flex:1,gap:2,justify:"flex-start",marginLeft:3,wrap:"wrap",children:[n.query&&c.jsx(Ctr,{align:"center",paddingY:2,children:c.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",weight:"medium",children:n.query})}),n.types.length>0&&c.jsx(wtr,{children:c.jsx(ytr,{availableCharacters:a,types:n.types})}),(u=n==null?void 0:n.filters)==null?void 0:u.map((d,f)=>c.jsx(btr,{filter:d},f))]}),c.jsx(W,{align:"center",children:c.jsx(ktr,{onClick:l,children:c.jsx(W,{padding:2,children:c.jsx(B,{size:1,children:c.jsx(eo,{})})})})})]})})})}const Etr=36,_tr=20,Ttr=40,Atr=R(le)`
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
`;function TBe({inputElement:e}){const{dispatch:t,state:{filtersVisible:n,fullscreen:r}}=cn(),i=uee(),o=p.useMemo(()=>i==null?void 0:i.getRecentSearches(),[i]),a=p.useRef(null),{t:s}=Q(),l=p.useCallback(()=>{var m;i&&i.removeSearch(),(m=a==null?void 0:a.current)==null||m.focusInputElement()},[i]),u=Vy(),d=p.useMemo(()=>u<2?_tr:Ttr,[u]),f=p.useCallback((m,{virtualIndex:g})=>c.jsx(Str,{index:g,maxVisibleTypePillChars:d,paddingBottom:1,value:m}),[d]),h=!!o.length;return c.jsx(Atr,{borderTop:h||!h&&!n&&r,flex:1,children:o.length>0?c.jsxs(c.Fragment,{children:[c.jsx(V,{paddingBottom:2,paddingTop:4,paddingX:3,children:c.jsx(B,{muted:!0,size:1,weight:"medium",children:s("search.recent-searches-label")})}),c.jsx(V,{children:c.jsx(gf,{activeItemDataAttr:"data-hovered",ariaLabel:s("search.recent-searches-aria-label"),inputElement:e,initialIndex:0,itemHeight:Etr,items:o,paddingX:2,paddingY:1,renderItem:f})}),c.jsx(V,{paddingBottom:2,paddingTop:1,paddingX:2,children:c.jsx(ge,{mode:"bleed",onClick:l,tone:"default",text:s("search.action.clear-recent-searches"),muted:!0})})]}):!n&&r&&c.jsx(gtr,{})})}function jtr(){const{t:e}=Q();return c.jsx(Ii,{width:0,children:c.jsxs(ae,{"aria-live":"assertive",space:4,paddingX:4,paddingY:5,children:[c.jsx(B,{align:"center",muted:!0,size:1,weight:"medium",children:e("search.no-results-title")}),c.jsx(B,{align:"center",muted:!0,size:1,children:e("search.no-results-help-description")})]})})}const Itr=R(B)`
  &:not([data-muted]) {
    &[data-tone='default'] {
      --card-fg-color: var(--card-badge-default-fg-color);
    }
    &[data-tone='primary'] {
      --card-fg-color: var(--card-badge-primary-fg-color);
    }
    &[data-tone='positive'] {
      --card-fg-color: var(--card-badge-positive-fg-color);
    }
    &[data-tone='caution'] {
      --card-fg-color: var(--card-badge-caution-fg-color);
    }
    &[data-tone='critical'] {
      --card-fg-color: var(--card-badge-critical-fg-color);
    }
  }

  &[data-dimmed] {
    opacity: 0.3;
  }
`,gi=p.forwardRef(function(e,t){const{tone:n,dimmed:r,muted:i,...o}=e;return c.jsx(Itr,{"data-ui":"TextWithTone","data-dimmed":r?"":void 0,"data-muted":i?"":void 0,"data-tone":n,muted:i,ref:t,...o})});function $tr(){const{t:e}=Q();return c.jsxs(W,{align:"center","aria-live":"assertive",direction:"column",flex:1,gap:3,marginY:2,padding:4,children:[c.jsx(V,{marginBottom:1,children:c.jsx(gi,{tone:"critical",children:c.jsx(Br,{})})}),c.jsx(gi,{size:2,tone:"critical",weight:"medium",children:e("search.error.unspecified-error-title")}),c.jsx(gi,{size:1,tone:"critical",children:e("search.error.unspecified-error-help-description")})]})}const dee=({enableLegacySearch:e})=>({createdAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_createdAt"},titleKey:"search.ordering.created-ascending-label"},createdDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_createdAt"},titleKey:"search.ordering.created-descending-label"},relevance:{customMeasurementLabel:"relevance",...e?{sort:{direction:"desc",field:"_updatedAt"}}:{},titleKey:"search.ordering.best-match-label"},updatedAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_updatedAt"},titleKey:"search.ordering.updated-ascending-label"},updatedDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_updatedAt"},titleKey:"search.ordering.updated-descending-label"}}),Dtr=R(W)`
  box-sizing: border-box;
`;function Uve(e){return e.type==="divider"}function Otr({ordering:e}){const{t}=Q(),{dispatch:n,state:{ordering:r}}=cn(),i=p.useCallback(()=>{n({ordering:e,type:"ORDERING_SET"})},[n,e]),o=p.useMemo(()=>Dt(r,e),[r,e]);return c.jsx(Qe,{onClick:i,pressed:o,tone:"default",text:t(e.titleKey)})}function Mtr(){const{t:e}=Q(),{enableLegacySearch:t=!1}=ri().search,{state:{ordering:n}}=cn(),r=p.useId(),i=p.useMemo(()=>{const a=dee({enableLegacySearch:t});return[a.relevance,{type:"divider"},a.createdAsc,a.createdDesc,{type:"divider"},a.updatedAsc,a.updatedDesc]},[t]),o=i.find(a=>Dt(n,a)&&!Uve(a));return o?c.jsx(le,{borderBottom:!0,children:c.jsx(Dtr,{align:"center",flex:1,padding:2,children:c.jsx(Jt,{button:c.jsx(ge,{mode:"bleed",icon:_2,text:e(o.titleKey)}),id:r||"",menu:c.jsx(Nt,{children:i.map((a,s)=>Uve(a)?c.jsx(Tr,{},s):c.jsx(Otr,{ordering:a},s))}),placement:"bottom-start",popover:{portal:!0,radius:2}})})}):null}const Ptr=R(le)`
  cursor: help;
  left: 0;
  position: absolute;
  top: 0;
`;function Rtr({data:e}){const{score:t}=e;let n="default";t<=.1?n="critical":t>=.5&&(n="primary");const r=e.stories.filter(i=>i.score>0);return c.jsx(c.Fragment,{children:c.jsx(Et,{content:c.jsx(ae,{space:2,children:r.length?c.jsx(c.Fragment,{children:r.map(i=>c.jsxs(Wn,{space:3,children:[c.jsx(Vi,{size:0,weight:"medium",children:i.path}),c.jsx(Vi,{size:0,children:i.why})]},i.path))}):c.jsx(Vi,{size:0,children:"No matches"})}),placement:"bottom-start",portal:!0,children:c.jsx(Ptr,{padding:1,shadow:1,tone:n,children:c.jsxs(Vi,{size:0,children:["score: ",t]})})})})}const Ftr=57,Ltr=4,Ntr=R(W)`
  opacity: ${({$loading:e})=>e?.5:1};
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
  transition: 300ms opacity;
  width: 100%;
`;function ABe({disableIntentLink:e,inputElement:t,onItemSelect:n}){const{dispatch:r,onClose:i,setSearchCommandList:o,state:{debug:a,filters:s,fullscreen:l,lastActiveIndex:u,result:d,terms:f}}=cn(),{t:h}=Q(),m=uee(),g=!!d.hits.length,y=!d.hits.length&&d.loaded,x=d.error,b=p.useCallback(()=>{m&&m.addSearch(f,s),i==null||i()},[s,i,m,f]),v=p.useCallback(()=>{r({type:"PAGE_INCREMENT"})},[r]),w=p.useCallback(C=>c.jsxs(c.Fragment,{children:[c.jsx(LQ,{disableIntentLink:e,documentId:Cn(C.hit._id)||"",documentType:C.hit._type,onClick:b,onItemSelect:n,paddingY:1}),a&&c.jsx(Rtr,{data:C})]}),[a,e,b,n]);return c.jsx(W,{children:c.jsx(le,{borderTop:l||!!(x||g||y),flex:1,children:c.jsxs(W,{direction:"column",height:"fill",children:[g&&c.jsx(Mtr,{}),c.jsx(Ntr,{$loading:d.loading,"aria-busy":d.loading,flex:1,children:x?c.jsx($tr,{}):c.jsxs(c.Fragment,{children:[g&&c.jsx(gf,{activeItemDataAttr:"data-hovered",ariaLabel:h("search.search-results-label"),"data-testid":"search-results",fixedHeight:!0,initialIndex:u,inputElement:t,itemHeight:Ftr,items:d.hits,overscan:Ltr,onEndReached:v,paddingX:2,paddingY:1,ref:o,renderItem:w}),y&&c.jsx(jtr,{})]})})]})})})}const Hve={duration:.4,type:"spring"},Btr={open:{opacity:1,scale:1,x:"-50%"},closed:{opacity:0,scale:.99,x:"-50%"}},Vtr={open:{opacity:1},closed:{opacity:0}},Wve=12,ztr=R(na(le))`
  background-color: var(--card-backdrop-color);
  bottom: 0;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
`,Utr=R(na(le))`
  display: flex !important;
  flex-direction: column;
  left: 50%;
  max-height: min(
    calc(100vh - ${Wve}vh - ${FU}px),
    ${wUn}px
  );
  position: absolute;
  top: ${Wve}vh;
  width: min(calc(100vw - ${FU*2}px), ${CUn}px);
`;function jBe({disableFocusLock:e,disableIntentLink:t,onClose:n,onItemSelect:r,onOpen:i,open:o}){const[a,s]=p.useState(null),l=p.useRef(null),{isTopLayer:u,zIndex:d}=ns();Q();const{onClose:f,state:{filtersVisible:h,terms:m}}=cn(),g=T_({terms:m});return On(u&&o&&!!f&&f,()=>[l.current]),c.jsx(bBe,{hasValidTerms:g,onClose:n,onOpen:i,open:o,children:c.jsx(hf,{children:o&&c.jsx(hg,{children:c.jsxs(Ku,{autoFocus:!v0,disabled:e,returnFocus:!0,children:[c.jsx(ztr,{animate:"open",exit:"closed",initial:"closed",style:{zIndex:d},transition:Hve,variants:Vtr}),c.jsxs(Utr,{animate:"open",exit:"closed",initial:"closed",overflow:"hidden",radius:uC,ref:l,shadow:2,style:{zIndex:d},transition:Hve,variants:Btr,children:[c.jsx(cee,{onClose:n,ref:s}),h&&c.jsx(le,{borderTop:!0,flex:"none",children:c.jsx(lee,{})}),g?c.jsx(ABe,{inputElement:a,onItemSelect:r,disableIntentLink:t}):c.jsx(TBe,{inputElement:a})]})]})})})})}function IBe(e){return typeof e.__recent<"u"}const tH="core:studio:navbar:search:";zi(tH);function Htr(e){const t=`${tH}${e}`;return zi&&zi.enabled(t)?zi(t):zi(tH)}function Wtr(){return typeof window>"u"?!1:window.location.hash.slice(1).split(";").includes(vUn)}function Gtr({currentUser:e,fullscreen:t,definitions:n,pagination:r,enableLegacySearch:i}){return{currentUser:e,debug:Wtr(),documentTypesNarrowed:[],filters:[],filtersVisible:!0,fullscreen:t,lastActiveIndex:-1,ordering:dee({enableLegacySearch:i}).relevance,...r,result:{error:null,hasLocal:!1,hits:[],loaded:!1,loading:!1},terms:{query:"",types:[]},definitions:n,enableLegacySearch:i}}const Ktr=Htr("reducer");function Ytr(e,t){let n="";switch(t.type.startsWith("SEARCH_REQUEST")&&(n=""),t.type.startsWith("RECENT_SEARCHES")&&(n=""),Ktr(n,t),t.type){case"FILTERS_VISIBLE_SET":return{...e,filtersVisible:t.visible};case"LAST_ACTIVE_INDEX_SET":return{...e,lastActiveIndex:t.index};case"ORDERING_RESET":return{...e,ordering:dee({enableLegacySearch:e.enableLegacySearch}).relevance,terms:Gg(e.terms),result:{...e.result,hasLocal:!1}};case"ORDERING_SET":return{...e,ordering:t.ordering,terms:Gg(e.terms),result:{...e.result,hasLocal:!1}};case"PAGE_INCREMENT":return{...e,cursor:e.nextCursor??e.cursor,nextCursor:null,terms:Gg(e.terms)};case"SEARCH_CLEAR":return{...e,cursor:null,nextCursor:null,result:{...e.result,hasLocal:!1,hits:[]}};case"SEARCH_REQUEST_COMPLETE":return{...e,nextCursor:t.nextCursor??null,result:{...e.result,error:null,hasLocal:!0,hits:e.result.hasLocal?qtr([...e.result.hits,...t.hits]):t.hits,loaded:!0,loading:!1}};case"SEARCH_REQUEST_ERROR":return{...e,result:{...e.result,error:t.error,loaded:!1,loading:!1}};case"SEARCH_REQUEST_START":return{...e,result:{...e.result,loaded:!1,loading:!0}};case"TERMS_FILTERS_ADD":{const r={...t.filter,value:ler(e.definitions.operators,t.filter.operatorType)},i=[...e.filters,r];return{...e,documentTypesNarrowed:Wg({fieldDefinitions:e.definitions.fields,filters:i,types:e.terms.types}),filters:i,lastAddedFilter:r,terms:{...e.terms,filter:Hg({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:i,operatorDefinitions:e.definitions.operators})},result:{...e.result,hasLocal:!1}}}case"TERMS_FILTERS_CLEAR":{const r=[];return{...e,documentTypesNarrowed:Wg({fieldDefinitions:e.definitions.fields,filters:r,types:e.terms.types}),filters:r,terms:{...e.terms,filter:Hg({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})},result:{...e.result,hasLocal:!1}}}case"TERMS_FILTERS_REMOVE":{const r=e.filters.findIndex(o=>ys(o)===t.filterKey),i=[...e.filters.slice(0,r),...e.filters.slice(r+1)];return{...e,documentTypesNarrowed:Wg({fieldDefinitions:e.definitions.fields,filters:i,types:e.terms.types}),filters:i,terms:{...e.terms,filter:Hg({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:i,operatorDefinitions:e.definitions.operators})},result:{...e.result,hasLocal:!1}}}case"TERMS_FILTERS_SET_OPERATOR":{const r=e.filters.find(u=>ys(u)===t.filterKey),i=rg(e.definitions.operators,r==null?void 0:r.operatorType),o=rg(e.definitions.operators,t.operatorType),a=o==null?void 0:o.initialValue,s=(i==null?void 0:i.inputComponent)!=(o==null?void 0:o.inputComponent),l=e.filters.map(u=>ys(u)===t.filterKey?{...u,operatorType:t.operatorType,...s?{value:a}:{}}:u);return{...e,filters:l,terms:{...e.terms,filter:Hg({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:l,operatorDefinitions:e.definitions.operators})},result:{...e.result,hasLocal:!1}}}case"TERMS_FILTERS_SET_VALUE":{const r=e.filters.map(i=>ys(i)===t.filterKey?{...i,value:t.value}:i);return{...e,filters:r,terms:{...e.terms,filter:Hg({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})},result:{...e.result,hasLocal:!1}}}case"TERMS_QUERY_SET":return{...e,cursor:null,nextCursor:null,result:{...e.result,loaded:!1,hasLocal:!1},terms:Gg({...e.terms,query:t.query})};case"TERMS_SET":{const r=t.filters||[],i=[...e.terms.types||[],...t.terms.types].sort(LU);return{...e,documentTypesNarrowed:Wg({fieldDefinitions:e.definitions.fields,filters:r,types:i}),filters:r,lastAddedFilter:null,cursor:null,nextCursor:null,result:{...e.result,loaded:!1,hasLocal:!1},terms:{...t.terms,filter:Hg({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_TYPE_ADD":{const r=[...e.terms.types||[],t.schemaType].sort(LU),i=Wg({fieldDefinitions:e.definitions.fields,filters:[],types:r}),o=e.filters.filter(a=>{const s=Xh(e.definitions.fields,a);return s?s.documentTypes.length===0?!0:i.every(l=>s.documentTypes.findIndex(u=>u===l)>-1):!0});return{...e,documentTypesNarrowed:i,filters:o,cursor:null,nextCursor:null,result:{...e.result,loaded:!1,hasLocal:!1},terms:Gg({...e.terms,filter:Hg({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,operatorDefinitions:e.definitions.operators,filters:o}),types:r})}}case"TERMS_TYPE_REMOVE":{const r=(e.terms.types||[]).filter(i=>i!==t.schemaType);return{...e,documentTypesNarrowed:Wg({fieldDefinitions:e.definitions.fields,filters:e.filters,types:r}),cursor:null,nextCursor:null,result:{...e.result,loaded:!1,hasLocal:!1},terms:Gg({...e.terms,types:r})}}case"TERMS_TYPES_CLEAR":{const r=[];return{...e,documentTypesNarrowed:Wg({fieldDefinitions:e.definitions.fields,filters:e.filters,types:r}),cursor:null,nextCursor:null,result:{...e.result,loaded:!1,hasLocal:!1},terms:Gg({...e.terms,types:[]})}}default:return e}}function Gg(e){if(IBe(e)){const{__recent:t,...n}=e;return n}return e}function qtr(e){const t=e.reduce((n,r)=>{const i=Cn(r.hit._id);return{...n,[i]:r}},{});return Object.values(t)}function fee({children:e,fullscreen:t}){const[n,r]=p.useState(null),[i,o]=p.useState(null),a=un(),s=dr(),{search:{operators:l,filters:u,enableLegacySearch:d}}=er(),{fieldDefinitions:f,filterDefinitions:h,operatorDefinitions:m}=p.useMemo(()=>({fieldDefinitions:wBe(xBe(a,u)),filterDefinitions:L7e(u),operatorDefinitions:hBe(l)}),[u,l,a]),g=p.useMemo(()=>Gtr({currentUser:s,fullscreen:t,definitions:{fields:f,operators:m,filters:h},pagination:{cursor:null,nextCursor:null},enableLegacySearch:d}),[s,f,h,t,m,d]),[y,x]=p.useReducer(Ytr,g),{documentTypesNarrowed:b,filters:v,ordering:w,cursor:C,result:k,terms:S}=y,E=p.useRef(!1),_=p.useRef(g.ordering),T=p.useRef(g.cursor),A=p.useRef(g.terms),{handleSearch:I,searchState:j}=U7e({initialState:{...k,terms:S},onComplete:P=>x({...P,type:"SEARCH_REQUEST_COMPLETE"}),onError:P=>x({error:P,type:"SEARCH_REQUEST_ERROR"}),onStart:()=>x({type:"SEARCH_REQUEST_START"}),schema:a}),$=T_({terms:S}),D=b.map(P=>a.get(P)),O=v.filter(P=>O_({fieldDefinitions:f,filter:P,filterDefinitions:h,operatorDefinitions:m}));p.useEffect(()=>{var U,H;const P=!Dt(w,_.current),F=C!==T.current,L=!Dt(S,A.current);if(P||F||L){let N="findability-sort:";(w!=null&&w.customMeasurementLabel||w.sort)&&(N+=(w==null?void 0:w.customMeasurementLabel)||`${(U=w.sort)==null?void 0:U.field} ${(H=w.sort)==null?void 0:H.direction}`),I({options:{comments:[...IBe(S)?[`findability-recent-search:${S.__recent.index}`]:[],`findability-selected-types:${S.types.length}`,N,"findability-source: global",`findability-filter-count:${O.length}`],limit:bUn,skipSortByScore:w.ignoreScore,...w.sort?{sort:[w.sort]}:{},cursor:C||void 0},terms:{...S,...D?{types:D}:{}}}),T.current=C}_.current=w,A.current=S},[O.length,v,D,I,$,w,j.terms,S,C]),p.useEffect(()=>{!$&&(E!=null&&E.current)&&k.hits.length>0&&x({type:"SEARCH_CLEAR"}),E.current=!0},[x,$,k.hits,S.query,S.types]);const M=p.useMemo(()=>({dispatch:x,onClose:n,searchCommandList:i,setSearchCommandList:o,setOnClose:r,state:{...y,fullscreen:t}}),[t,n,i,y]);return c.jsx(pwe.Provider,{value:M,children:e})}const Gve=p.forwardRef(function({onClick:e},t){const{t:n}=Q();return c.jsx(ge,{"aria-label":n("search.action-open-aria-label"),"data-testid":"studio-search",icon:wa,tooltipProps:{content:n("search.button.tooltip"),hotkeys:[xUn,z7e.toUpperCase()],portal:!0},onClick:e,mode:"bleed",ref:t})}),Ztr=R(le)`
  flex-direction: column;
  overflow: hidden;
  overflow: clip;
  pointer-events: all;
  position: relative;
`,Xtr=R(V)`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 1;
`;function Jtr({onClose:e,onOpen:t,open:n}){const[r,i]=p.useState(null),o=bp(),{state:{filtersVisible:a,terms:s}}=cn(),l=T_({terms:s});return c.jsx(bBe,{hasValidTerms:l,onClose:e,onOpen:t,open:n,children:n&&c.jsx(hg,{children:c.jsx(Ku,{autoFocus:!v0,returnFocus:!0,children:c.jsx(Xtr,{children:c.jsxs(Ztr,{display:"flex",height:"fill",scheme:o,tone:"default",children:[c.jsx(cee,{onClose:e,ref:i}),a&&c.jsx(le,{borderTop:!0,flex:"none",children:c.jsx(lee,{})}),l?c.jsx(ABe,{inputElement:r}):c.jsx(TBe,{inputElement:r})]})})})})})}function Qtr(e){const{activeTool:t}=e;return p.createElement(t.component,{tool:t})}function enr(){return c.jsx(le,{height:"fill",children:c.jsx(W,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsx(Ii,{width:0,children:c.jsx(le,{padding:4,radius:2,shadow:1,tone:"caution",children:c.jsxs(W,{children:[c.jsx(V,{children:c.jsx(B,{size:1,children:c.jsx(Br,{})})}),c.jsxs(ae,{flex:1,marginLeft:3,space:3,children:[c.jsx(B,{as:"h1",size:1,weight:"medium",children:"No configured tools"}),c.jsx(B,{as:"p",muted:!0,size:1,children:"Please configure a tool in your Studio configuration."}),c.jsx(B,{as:"p",muted:!0,size:1,children:c.jsx("a",{href:"https://www.sanity.io/docs/studio-tools",rel:"noreferrer",target:"_blank",children:"Learn how to add a tool "})})]})]})})})})})}function tnr(e){const{reason:t="Redirecting"}=e;return c.jsx(le,{height:"fill",children:c.jsx(W,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsx(Ii,{width:0,children:c.jsx(le,{padding:4,radius:2,shadow:1,tone:"primary",children:c.jsxs(W,{children:[c.jsx(V,{children:c.jsx(B,{size:1,children:c.jsx(gK,{})})}),c.jsx(ae,{flex:1,marginLeft:3,space:3,children:c.jsx(B,{as:"h1",size:1,weight:"bold",children:t})})]})})})})})}function nnr(e){const{toolName:t}=e;return c.jsx(le,{height:"fill",children:c.jsx(W,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsx(Ii,{width:0,children:c.jsx(le,{padding:4,radius:2,shadow:1,tone:"caution",children:c.jsxs(W,{children:[c.jsx(V,{children:c.jsx(B,{size:1,children:c.jsx(Br,{})})}),c.jsx(ae,{flex:1,marginLeft:3,space:3,children:c.jsxs(B,{as:"h1",size:1,weight:"medium",children:["Tool not found: ",c.jsx("code",{children:t})]})})]})})})})})}const hee=()=>{if(typeof document>"u"||!("querySelectorAll"in document))return!1;const e=document.querySelectorAll('script[type="importmap"]');return Array.from(e).some(t=>t.textContent?"sanity"in(JSON.parse(t.textContent).imports||{}):!1)};function $Be(e){let t=[],n;const r=e6e(e),i=async l=>n?o(l):(typeof n>"u"&&t.push(l),{}),o=async l=>r.send(l),a=async l=>{n=l,l&&await s(),t=[]},s=async()=>{await Promise.all(t.map(o)).catch(l=>{console.error("Failed to send buffered events from transport: ",l)})};return{flush:async()=>r.flush(),send:i,setConsent:a}}const DBe="https://8914c8dde7e1ebce191f15af8bf6b7b9@sentry.sanity.io/4507342122123264",rnr=!("__sanityErrorChannel"in D8e),KD=Zw&&!!localStorage.getItem("SANITY_DEBUG_ERROR_REPORTING"),inr=typeof window<"u",Kve={dsn:DBe,release:pc,environment:"production",debug:KD,enabled:inr&&!Yl,transport:$Be},Yve=[H4e(),U4e(),i6e({eventTarget:!1}),r6e({console:!1}),o6e({onerror:!0,onunhandledrejection:!0}),l6e(),W4e(),unr(),s6e()];function onr(){let e,t;function n(){var u;if(e||!KD&&!hee()||!KD&&rnr)return;const s=Wvn(),l=s&&((u=Do())==null?void 0:u.getOptions().dsn)===DBe;if(s&&!l){e=Do(),t=Wu();return}if(l){e=new J4e({...Kve,stackParser:t6e,integrations:Yve,beforeSend:qve,transport:$Be}),t=new Gh,t.setClient(e),e.init();return}lwn({...Kve,defaultIntegrations:!1,integrations:Yve,beforeSend:qve}),e=Do(),t=Wu()}function r(s,l={}){if(!e)return console.warn("[reportError] called before reporter is initialized, skipping"),null;const{reactErrorInfo:u={},errorBoundary:d}=l,{componentStack:f}=u,h={};f&&(h.react={componentStack:f});const m={handled:"no"};d&&(m.errorBoundary=d);let g=null;return j4e(()=>{if(f&&OBe(s)){const y=new Error(s.message);y.name=`${d||"ErrorBoundary"} ${s.name}`,y.stack=f,lnr(s,y)}g=P4e(s,{mechanism:{handled:!1},captureContext:{contexts:h,tags:m}})}),g?{eventId:g}:null}function i(s){return!!s&&"setConsent"in s&&typeof s.setConsent=="function"}function o(){const s=e==null?void 0:e.getTransport();i(s)&&s.setConsent(!0)}function a(){const s=e==null?void 0:e.getTransport();i(s)&&s.setConsent(!1)}return{initialize:n,reportError:r,enable:o,disable:a}}const anr=Object.prototype.toString;function OBe(e){switch(anr.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return snr(e,Error)}}function snr(e,t){try{return e instanceof t}catch{return!1}}function lnr(e,t){const n=new WeakMap;function r(i,o){if(!n.has(i)){if(OBe(i.cause)){n.set(i,!0),r(i.cause,o);return}i.cause=o}}r(e,t)}function cnr(e){var t;for(const n of((t=e.exception)==null?void 0:t.values)||[])n.mechanism&&(n.mechanism.handled=!1)}function qve(e){return cnr(e),e}function unr(){const e=[];return{name:"SanityDedupe",processEvent(t){if(t.type)return t;try{if(dnr(t,e))return KD&&console.warn("[sanity/sentry] Dropping error from being reported because it is a duplicate"),null}catch{}return e.length>10&&e.shift(),e.push(t),t}}}function dnr(e,t){for(const n of t){const r=Zve(e),i=Zve(n);if(r&&i&&r!==i)continue;const o=Math.floor(e.timestamp||0),a=Math.floor(n.timestamp||0);if(Math.abs(o-a)<300)return!0}return!1}function Zve(e){if(e.message)return e.message;if(e.exception){for(const t of e.exception.values||[])if(t.value)return t.value}}const nH=onr(),fnr="https://www.sanity.io/docs/workspaces",MBe=Ag(e=>mo(e.map(t=>t.auth.state.pipe(fe(n=>[t.name,n])))).pipe(fe(t=>Object.fromEntries(t)))),rH={"logged-in":"","logged-out":"Signed out","no-access":""},hnr=R.div`
  width: ${e=>e.$size==="small"?"25px":"41px"};
  height: ${e=>e.$size==="small"?"25px":"41px"};

  svg {
    width: 100%;
    height: 100%;
  }
`,pee=({icon:e,size:t="small"})=>{const n=p.useMemo(()=>PBe(e),[e]);return c.jsx(hnr,{$size:t,children:n})},PBe=e=>{if(Dh.isValidElementType(e))return p.createElement(e);if(p.isValidElement(e))return e};function Xve(e){const{state:t,subtitle:n,selected:r,title:i,icon:o,iconRight:a}=e,s=p.useMemo(()=>PBe(a),[a]);return c.jsxs(W,{align:"center",flex:"none",gap:3,children:[c.jsx(pee,{icon:o,size:"small"}),c.jsxs(ae,{flex:1,space:2,children:[c.jsx(B,{size:1,textOverflow:"ellipsis",weight:"medium",children:i}),n&&c.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",children:n})]}),t&&rH[t]&&c.jsx(V,{paddingLeft:1,children:c.jsx(B,{size:1,muted:!0,textOverflow:"ellipsis",children:rH[t]})}),(r||s)&&c.jsxs(W,{align:"center",gap:4,paddingLeft:3,paddingRight:2,children:[r&&c.jsx(B,{children:c.jsx(_a,{})}),s&&c.jsx(B,{muted:!0,children:s})]})]})}const Jve=[{url:"https://slack.sanity.io/",i18nKey:"workspaces.community-title",title:"Community"},{url:"https://www.sanity.io/docs",i18nKey:"workspaces.docs-title",title:"Docs"},{url:"https://www.sanity.io/legal/privacy",i18nKey:"workspaces.privacy-title",title:"Privacy"},{url:"https://www.sanity.io",i18nKey:"workspaces.sanity-io-title",title:"sanity.io"}],pnr=R(B)`
  a {
    color: inherit;
  }
`;function Qve(e){const{children:t,footer:n,header:r}=e;return Q(),c.jsxs(ae,{space:6,children:[c.jsx(le,{border:!0,radius:3,overflow:"auto",children:c.jsxs(ae,{children:[typeof r=="object"&&c.jsx(V,{children:r}),typeof r=="string"&&c.jsx(V,{paddingY:4,children:c.jsx(vo,{align:"center",size:1,children:r})}),c.jsx(V,{paddingX:1,children:c.jsx(le,{borderTop:!!r,borderBottom:!!n,children:t})}),n&&c.jsx(V,{children:n})]})}),c.jsxs(W,{direction:"column",gap:4,justify:"center",align:"center",paddingBottom:4,children:[c.jsx(B,{size:3,children:c.jsx(Mwn,{})}),c.jsx(W,{align:"center",gap:2,children:Jve.map((i,o)=>c.jsxs(p.Fragment,{children:[c.jsx(pnr,{muted:!0,size:1,children:c.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",children:i.title})}),o<Jve.length-1&&c.jsx(B,{size:1,muted:!0,children:""})]},i.title))})]})]})}function mnr(){var d;const e=f_(),{activeWorkspace:t,setActiveWorkspace:n}=Og(),[r]=MBe(e),[i,o]=p.useState((t==null?void 0:t.name)||null),a=e.length===1?e[0]:e.find(f=>f.name===i),s=(d=a==null?void 0:a.auth)==null?void 0:d.LoginComponent,l=p.useCallback(()=>o(null),[]),{t:u}=Q();return r?s&&a?c.jsxs(ae,{space:2,children:[e.length>1&&c.jsx(W,{children:c.jsx(ge,{icon:cE,mode:"bleed",onClick:l,text:u("workspaces.action.choose-another-workspace")})}),c.jsx(Qve,{header:c.jsx(V,{padding:3,children:c.jsx(Xve,{icon:a.icon,title:a.title,subtitle:a==null?void 0:a.subtitle})}),children:c.jsx(ae,{padding:2,paddingBottom:3,paddingTop:4,children:c.jsx(s,{projectId:a.projectId,redirectPath:window.location.pathname.startsWith(a.basePath)?`${window.location.pathname}${window.location.search}`:a.basePath},i)})})]}):c.jsx(Qve,{header:u("workspaces.choose-your-workspace-label"),footer:c.jsx(ae,{padding:1,children:c.jsx(ge,{as:"a",href:fnr,icon:ca,mode:"bleed",rel:"noopener noreferrer",size:"large",target:"__blank",text:u("workspaces.action.add-workspace")})}),children:c.jsx(ae,{space:1,paddingX:1,paddingY:2,children:e.map(f=>{const h=r[f.name].authenticated?"logged-in":f.auth.LoginComponent?"logged-out":"no-access";return c.jsx(le,{as:"button",radius:2,padding:2,onClick:()=>{h==="logged-in"&&f.name!==t.name&&n(f.name),h==="logged-out"&&o(f.name)},children:c.jsx(Xve,{icon:f==null?void 0:f.icon,iconRight:Es,state:h,subtitle:f==null?void 0:f.subtitle,title:(f==null?void 0:f.title)||f.name})},f.name)})})}):c.jsx(Dn,{showText:!0})}const gnr=R(Nt)`
  max-width: 350px;
  min-width: 250px;
`,ynr={constrainSize:!0,fallbackPlacements:["bottom-end","bottom"],placement:"bottom-end"};function RBe(){const e=f_(),{activeWorkspace:t}=Og(),[n]=MBe(e),{t:r}=Q();if(!(e.length>1))return null;const i=!n;return c.jsx(Jt,{button:c.jsx(W,{children:c.jsx(Et,{content:r("workspaces.select-workspace-tooltip"),disabled:i,portal:!0,children:c.jsx(zt,{disabled:i,mode:"bleed",padding:2,width:"fill",children:c.jsxs(W,{align:"center",gap:2,children:[c.jsx(V,{children:c.jsx(B,{size:1,textOverflow:"ellipsis",weight:"medium",children:t.title})}),c.jsx(B,{size:1,children:c.jsx(ea,{})})]})})})}),id:"workspace-menu",menu:!i&&n?c.jsx(gnr,{children:e.map(o=>{const a=n[o.name].authenticated?"logged-in":o.auth.LoginComponent?"logged-out":"no-access",s=o.name===t.name;return c.jsx(Qe,{as:"a",href:o.basePath,badgeText:rH[a],iconRight:s?_a:void 0,pressed:s,preview:c.jsx(pee,{icon:o.icon,size:"small"}),selected:s,__unstable_subtitle:o.subtitle,__unstable_space:1,text:(o==null?void 0:o.title)||o.name},o.name)})}):void 0,popover:ynr})}function FBe(){return c.jsx(le,{height:"fill",overflow:"auto",paddingX:4,children:c.jsx(W,{height:"fill",direction:"column",align:"center",justify:"center",paddingTop:4,children:c.jsx(Ii,{width:0,children:c.jsx(mnr,{})})})})}function vnr(){return c.jsx(c.Fragment,{children:"TODO: implement config errors screen"})}const bnr=R.label`
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  overflow: clip;
  position: absolute;
  white-space: nowrap;
  width: 1px;
`;function xnr(e){const{projectId:t}=e,n=window.location.origin,r=p.useMemo(()=>{const i=new URL(`https://sanity.io/manage/project/${t}/api`);return i.searchParams.set("cors","add"),i.searchParams.set("origin",n),i.searchParams.set("credentials",""),i.toString()},[n,t]);return p.useEffect(()=>{const i=()=>{window.location.reload()};return window.addEventListener("focus",i),()=>{window.removeEventListener("focus",i)}},[]),c.jsx(le,{height:"fill",children:c.jsx(no,{id:"cors-error-dialog",header:"Before you continue...",width:1,footer:{confirmButton:{text:"Continue",iconRight:lp,as:"a",href:r,target:"_blank",rel:"noopener noreferrer",tone:"primary"}},children:c.jsxs(ae,{space:4,children:[c.jsxs(B,{children:["To access your content, you need to ",c.jsx("b",{children:"add the following URL as a CORS origin"})," to your Sanity project."]}),c.jsx(bnr,{"aria-hidden":"true",children:"CORS URL to be added"}),c.jsx(ei,{value:n,readOnly:!0})]})})})}function mee(){const[e,t]=p.useState(null),[n,r]=p.useState(null);if(n)throw n;const{activeWorkspace:i}=Og(),o=p.useCallback(()=>{var l,u;(u=(l=i.auth).logout)==null||u.call(l)},[i]);p.useEffect(()=>{const l=i.auth.state.subscribe({next:({currentUser:u})=>{t(u)},error:r});return()=>{l.unsubscribe()}},[i]);const a=AJ(e==null?void 0:e.provider),s=a?` through ${a}`:"";return c.jsx(le,{height:"fill",children:c.jsx(no,{id:"not-authorized-dialog",header:"Not authorized",width:1,footer:{confirmButton:{text:"Sign out",onClick:o,tone:"default"}},children:c.jsxs(ae,{space:4,children:[c.jsx(B,{children:"You are not authorized to access this studio. Please contact someone with access to invite you to this project."}),c.jsxs(B,{children:["If you think this is an error, verify that you are signed in with the correct account. You are currently signed in as"," ",c.jsxs("strong",{children:[e==null?void 0:e.name," (",e==null?void 0:e.email,")"]}),s,"."]})]})})})}function wnr(e){return c.jsx(le,{height:"fill",sizing:"border",tone:"caution",display:"flex",children:c.jsx(W,{direction:"row",justify:"center",flex:1,align:"center",children:c.jsxs(ae,{space:4,children:[c.jsx(vo,{as:"h1",children:"Workspace not found"}),c.jsx(Wn,{children:c.jsx(ge,{text:"Go to default workspace",onClick:e.onNavigateToDefaultWorkspace,mode:"ghost"})})]})})})}const ebe=150;function Cnr(){const[e,t]=p.useState(null),[n,r]=p.useState(),[i,o]=p.useState(),a=Nr(),[s,l]=p.useState(null),[u,d]=p.useState(),[f,h]=p.useState(!0),[m,g]=p.useState(!1),[y,x]=p.useState(!1),[b,v]=p.useState(!1),[w,C]=p.useState(!1),[k,S]=p.useState(!1),[E,_]=p.useState(),[T,A]=p.useState(0),{activeWorkspace:I}=Og(),j=p.useCallback(()=>{var M,P;(P=(M=I.auth).logout)==null||P.call(M)},[I]);p.useEffect(()=>{const M=I.auth.state.subscribe({next:({client:P,currentUser:F})=>{o(P.config().projectId),r(P.withConfig({apiVersion:"2024-07-01"})),t(F)},error:l});return()=>{M.unsubscribe()}},[I]),p.useEffect(()=>{!n||!i||n.request({url:"/access/requests/me"}).then(M=>{if(M&&(M!=null&&M.length)){const P=M.filter(F=>F.resourceId===i);if(P.find(F=>F.status==="declined")){S(!0);return}if(P.find(F=>F.status==="pending"&&g$(AB(new Date(F.createdAt),2),new Date))){x(!0);return}P.find(F=>F.status==="pending"&&xq(AB(new Date(F.createdAt),2),new Date))&&v(!0)}}).catch(M=>{console.error(M),l(!0)}).finally(()=>{h(!1)})},[n,i]);const $=p.useCallback(()=>{!n||!i||(g(!0),n.request({url:`/access/project/${i}/requests`,method:"post",body:{note:E,requestUrl:window==null?void 0:window.location.href}}).then(M=>{M&&x(!0)}).catch(M=>{var L,U,H;const P=(L=M==null?void 0:M.response)==null?void 0:L.statusCode,F=(H=(U=M==null?void 0:M.response)==null?void 0:U.body)==null?void 0:H.message;P===429&&(C(!0),d(F)),P===409?(S(!0),d(F)):a.push({title:"There was a problem submitting your request.",status:F})}).finally(()=>{g(!1)}))},[E,i,n,a]),D=AJ(e==null?void 0:e.provider),O=D?` through ${D}`:"";return f?c.jsx(Dn,{}):s?c.jsx(mee,{}):c.jsx(le,{height:"fill",children:c.jsx(no,{id:"not-authorized-dialog",header:"Not authorized",width:1,children:c.jsxs(V,{children:[c.jsxs(ae,{space:4,children:[c.jsxs(B,{children:["You are not authorized to access this studio (currently signed in as"," ",c.jsxs("strong",{children:[e==null?void 0:e.name," (",e==null?void 0:e.email,")"]}),O,")."]}),w||y||k?c.jsx(le,{tone:y?"transparent":"caution",padding:3,radius:2,shadow:1,children:c.jsxs(B,{size:1,children:[w&&!y&&c.jsx(c.Fragment,{children:u??`You've reached the limit for access requests across all projects. Please wait
                      before submitting more requests or contact an admin for assistance.`}),y&&c.jsx(c.Fragment,{children:"Your request to access this project is pending approval."}),k&&c.jsx(c.Fragment,{children:u??"Your request to access this project has been declined."})]})}):c.jsxs(c.Fragment,{children:[c.jsx(B,{children:b?c.jsx(c.Fragment,{children:"Your previous request has expired. You may again request access below with an optional note. The administrator(s) will receive an email letting them know that you are requesting access."}):c.jsx(c.Fragment,{children:"You can request access below with an optional note. The administrator(s) will receive an email letting them know that you are requesting access."})}),c.jsxs(ae,{space:3,paddingBottom:0,children:[c.jsx(ei,{maxLength:ebe,disabled:m,onKeyDown:M=>{M.key==="Enter"&&$()},onChange:M=>{_(M.currentTarget.value),A(M.currentTarget.value.length)},value:E,placeholder:"Add your note"}),c.jsx(B,{align:"right",muted:!0,size:1,children:`${T}/${ebe}`})]})]})]}),c.jsxs(W,{align:"center",justify:"space-between",paddingTop:4,children:[c.jsx(ge,{mode:"bleed",text:"Sign out",tone:"default",onClick:j,size:"large"}),!w&&!k&&c.jsx(ge,{mode:"default",text:y?"Request sent":"Request access",disabled:y||m,loading:m,tone:"default",onClick:$,size:"large"})]})]})})})}function knr(e){return e.map(t=>t.kind==="type"?`${t.name||"<unnamed>"}(${t.type})`:t.kind==="property"?t.name:null).filter(Boolean).join(" > ")}function Snr(e){var n;const t=(n=e._validation)==null?void 0:n.filter(r=>r.problems.some(i=>i.severity==="warning"));(t==null?void 0:t.length)!==0&&(console.groupCollapsed(` Schema has ${t==null?void 0:t.length} warnings`),t==null||t.forEach(r=>{const i=knr(r.path);console.group(`%cAt ${i}`,"color: #FF7636"),r.problems.forEach(o=>{console.log(o.message)}),console.groupEnd()}),console.groupEnd())}const Enr={error:"critical",warning:"caution"},tbe=R.code`
  && {
    background: none;
    color: inherit;
  }
`,_nr=R(B)`
  white-space: pre-line;
`;function LBe(e){const{problemGroups:t}=e;Q();const n=p.useMemo(()=>{const r=[];for(const i of t)for(const o of i.problems)r.push({group:i,problem:o});return r},[t]);return c.jsx(ae,{as:"ul",space:4,children:n.map(({group:r,problem:i},o)=>{const a=i.severity==="error",s=i.severity==="warning",l=Tnr(r);return c.jsxs(le,{border:!0,padding:4,radius:2,tone:Enr[i.severity],children:[c.jsxs(W,{children:[c.jsx(V,{marginRight:3,children:c.jsxs(B,{muted:!0,size:1,children:[a&&c.jsx(ua,{}),s&&c.jsx(Br,{})]})}),c.jsx(V,{flex:1,children:c.jsx(B,{size:1,weight:"medium",children:l?c.jsxs(c.Fragment,{children:[hp(l.type),' type "',l.name,'"']}):null})})]}),c.jsx(V,{marginTop:4,children:c.jsx(le,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:c.jsx(BG,{separator:c.jsx(B,{muted:!0,size:1,children:""}),children:r.path.map((u,d)=>{if(u.kind==="type"){const f=`${Anr(u.name||`<anonymous ${u.type}>`)}:${u.type}`;return c.jsx(B,{title:f,size:1,textOverflow:"ellipsis",children:c.jsx(tbe,{children:f})},d)}return u.kind==="property"?c.jsx(B,{title:u.name,size:1,textOverflow:"ellipsis",children:c.jsx(tbe,{children:u.name})},d):null})})})}),c.jsx(V,{as:"ul",marginTop:4,children:c.jsx(V,{as:"li",children:c.jsxs(ae,{space:3,children:[c.jsx(_nr,{muted:!0,size:1,children:i.message}),i.helpId&&c.jsx(B,{muted:!0,size:1,children:c.jsx("a",{href:xEe(i.helpId),target:"_blank",rel:"noopener noreferrer",children:"View documentation "})})]})})})]},o)})})}function Tnr(e){const t=e.path[0];return t.kind==="type"?{name:t.name||`<anonymous ${t.type}>`,type:t.type}:null}function Anr(e){return e!=null&&e.startsWith("<unnamed_type_@_index")?`[${e.slice(1,-1).split("_")[4]}]`:e}function jnr({schema:e}){var n;const t=((n=e._validation)==null?void 0:n.filter(r=>r.problems.some(i=>i.severity==="error")))||[];return p.useEffect(()=>Snr(e),[e]),c.jsx(le,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",children:c.jsx(Ii,{width:1,children:c.jsxs(ae,{space:5,children:[c.jsx(vo,{as:"h1",children:"Schema errors"}),c.jsx(LBe,{problemGroups:t})]})})})}const nbe={componentStack:null,error:null,eventId:null};function NBe({children:e,heading:t="An error occured"}){const[{error:n,eventId:r},i]=p.useState(nbe),o=Tt(n)&&typeof n.message=="string"&&n.message,a=Tt(n)&&typeof n.stack=="string"&&n.stack,s=p.useCallback(()=>i(nbe),[]),l=p.useCallback(u=>{const d=nH.reportError(u.error,{reactErrorInfo:u.info,errorBoundary:"StudioErrorBoundary"});i({error:u.error,componentStack:u.info.componentStack,eventId:(d==null?void 0:d.eventId)||null})},[]);return h6e(s),n instanceof OR?c.jsx(xnr,{projectId:n==null?void 0:n.projectId}):n instanceof C4?c.jsx(jnr,{schema:n.schema}):n?c.jsx(le,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",tone:"critical",children:c.jsx(Ii,{width:3,children:c.jsxs(ae,{space:4,children:[c.jsx(vo,{children:t}),c.jsx("div",{children:c.jsx(ge,{onClick:s,text:"Retry",tone:"default"})}),c.jsx(le,{border:!0,radius:2,overflow:"auto",padding:4,tone:"inherit",children:c.jsxs(ae,{space:4,children:[o&&c.jsx(Vi,{size:1,children:c.jsxs("strong",{children:["Error: ",o]})}),a&&c.jsx(Vi,{size:1,children:a}),r&&c.jsxs(Vi,{size:1,children:["Event ID: ",r]})]})})]})})}):c.jsx(aw,{onCatch:l,children:e})}const Inr=R(le)`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 200;
`;function $nr(){const e=Lnr();return c.jsx(e,{})}function Dnr(){var C;const{name:e,title:t,tools:n}=ri(),r=Os(),i=t_(p.useCallback(k=>typeof k.tool=="string"?k.tool:void 0,[])),o=p.useMemo(()=>n.find(k=>k.name===i),[i,n]),[a,s]=p.useState(!1),[l,u]=p.useState(null),[d,f]=p.useState(!1),h=p.useMemo(()=>{const k=t||Vt(e);return i?`${Vt(i)} | ${k}`:k},[i,e,t]),m=!!(o!=null&&o.controlsDocumentTitle);p.useEffect(()=>{m||(document.title=h)},[h,m]);const g=p.useCallback(k=>{s(k)},[]),y=p.useCallback(k=>{f(k)},[]),x=p.useMemo(()=>({searchFullscreenOpen:a,searchFullscreenPortalEl:l,searchOpen:d,onSearchFullscreenOpenChange:g,onSearchOpenChange:y}),[a,l,d,g,y]),b=Fnr(),v=Nnr(),w=!o&&(i==="desk"||!i)&&typeof window<"u"&&/\/desk(\/|$)/.test(window.location.pathname)&&n.some(k=>k.name==="structure");return p.useEffect(()=>{w&&r.navigateUrl({path:window.location.pathname.replace(/\/desk/,"/structure"),replace:!0})},[w,r]),c.jsxs(W,{"data-ui":"ToolScreen",direction:"column",height:"fill","data-testid":"studio-layout",children:[c.jsx(ewe.Provider,{value:x,children:c.jsx(b,{})}),w&&c.jsx(tnr,{}),n.length===0&&c.jsx(enr,{}),n.length>0&&!o&&i&&!w&&c.jsx(nnr,{toolName:i}),a&&c.jsx(Inr,{ref:u,overflow:"auto"}),c.jsx(NBe,{heading:`The ${o==null?void 0:o.name} tool crashed`,children:c.jsx(le,{flex:1,hidden:a,children:o&&i&&c.jsx(Nhn,{scope:i,__unsafe_disableScopedSearchParams:(C=o.router)==null?void 0:C.__unsafe_disableScopedSearchParams,children:c.jsx(p.Suspense,{fallback:c.jsx(Dn,{showText:!0}),children:c.jsx(v,{activeTool:o})})})})},o==null?void 0:o.name)]})}function Onr(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.toolMenu}function Mnr(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.navbar}function Pnr(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.layout}function Rnr(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.activeToolLayout}function BBe(){return qc({defaultComponent:nir,pick:Onr})}function Fnr(){return qc({defaultComponent:qrr,pick:Mnr})}function Lnr(){return qc({defaultComponent:Dnr,pick:Pnr})}function Nnr(){return qc({defaultComponent:Qtr,pick:Rnr})}function Bnr(){var d;const e=((d=un()._validation)==null?void 0:d.filter(f=>f.problems.some(h=>h.severity==="warning")))||[],t=bp(),{t:n}=Q(),r=p.useId(),[i,o]=p.useState(!1),[a,s]=p.useState(null),l=p.useCallback(()=>o(!0),[]),u=p.useCallback(()=>{o(!1),a&&a.focus()},[a]);return e.length===0?null:c.jsxs(c.Fragment,{children:[c.jsx(P_,{icon:Br,mode:"bleed",onClick:l,ref:s,selected:i,tone:"caution","aria-label":n("configuration-issues.button.label"),tooltipProps:{scheme:t,content:n("configuration-issues.button.tooltip")}}),i&&c.jsx(no,{header:"Configuration issues",width:2,onClickOutside:u,onClose:u,scheme:t,id:r,children:c.jsxs(ae,{space:4,children:[c.jsxs(ae,{space:3,children:[c.jsxs(B,{as:"h2",size:1,weight:"medium",children:["Found ",e.length," schema warnings"]})," ",c.jsx(B,{muted:!0,size:1,children:"Configuration checks are only performed during development and will not be visible in production builds"})]}),c.jsx(LBe,{problemGroups:e})]})})]})}const VBe=Oi({name:"Trial Dialog Viewed",version:1,description:"User viewed a dialog or popover related to free trial"}),Vnr=Oi({name:"Trial Dialog Dismissed",version:1,description:"User dismissed a dialog or popover related to free trial"}),rbe=Oi({name:"Trial Dialog CTA Clicked",version:1,description:"User clicked a CTA in a dialog or popover related to free trial"});function Gk({showOnLoad:e,dialogId:t}){return e&&t.toLowerCase()==="free-upgrade-popover"?"trialStarted":e&&t.toLowerCase()==="trial-ending-popover"?"trialEndingSoon":e&&t.toLowerCase()==="project-downgraded-to-free"?"trialEnded":!e&&t.toLowerCase()==="after-trial-upgrade"?"postTrial":"trialActive"}const znr=R(ge)`
  position: absolute;
  top: 12px;
  right: 12px;
  z-index: 20;
  background: transparent;
  border-radius: 9999px;
  box-shadow: none;
  color: white;
  --card-fg-color: white;
  :hover {
    --card-fg-color: white;
  }
`,Unr=R.img`
  object-fit: cover;
  width: 100%;
  height: 100%;
  height: 196px;
`,Hnr=R(no)`
  > [data-ui='DialogCard'] {
    max-width: 22.5rem;
  }
`;function Wnr({onClose:e,onOpenNext:t,onOpenUrlCallback:n,content:r,open:i}){var u,d,f,h;function o(){e("xClick")}function a(){e("outsideClick")}function s(){e("ctaClicked")}const l=bp();return i?c.jsxs(Hnr,{id:"free-trial-modal",onClose:e,onClickOutside:a,padding:!1,__unstable_hideCloseButton:!0,scheme:l,footer:{cancelButton:(u=r.secondaryButton)!=null&&u.text?{text:r.secondaryButton.text,mode:"bleed",tone:"default",onClick:o}:void 0,confirmButton:{text:(d=r.ctaButton)==null?void 0:d.text,mode:"default",tone:"primary",...((f=r.ctaButton)==null?void 0:f.action)==="openUrl"?{href:r.ctaButton.url,target:"_blank",rel:"noopener noreferrer",as:"a",onClick:n}:{onClick:((h=r.ctaButton)==null?void 0:h.action)==="openNext"?t:s}}},children:[c.jsx(znr,{icon:eo,mode:"bleed",tone:"default",onClick:o,tabIndex:-1,tooltipProps:null}),r.image&&c.jsx(Unr,{src:r.image.asset.url,alt:r.image.asset.altText??""}),c.jsxs(W,{padding:3,direction:"column",children:[c.jsx(V,{paddingX:2,marginTop:3,children:c.jsx(vo,{size:2,children:r.headingText})}),c.jsx(V,{marginTop:4,paddingBottom:3,children:c.jsx(p4,{blocks:r.descriptionText})})]})]}):null}const Gnr=R.div`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
`,Knr=({daysLeft:e,totalDays:t})=>{const n=t-e,r=Math.round(n/t*100),i=10,o=2*Math.PI*i,a=o*((100-r)/100),s=1.2,l=i*2+s;return c.jsx(le,{children:c.jsx(Gnr,{children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:`0 0 ${l} ${l}`,style:{transform:"rotate(-90deg)"},children:[c.jsx("circle",{r:i,cx:l/2,cy:l/2,fill:"transparent",strokeWidth:s,stroke:r>75?UI[600].hex:Owe[400].hex}),c.jsx("circle",{r:i,cx:l/2,cy:l/2,fill:"transparent",strokeWidth:s,stroke:"var(--card-border-color)",strokeDasharray:o,strokeDashoffset:a})]})})})},Ynr=p.forwardRef(function({toggleShowContent:e,daysLeft:t,totalDays:n},r){const{t:i}=Q();return c.jsxs(ge,{mode:"bleed",onClick:e,ref:r,tooltipProps:{content:t?i("free-trial.tooltip.days-count",{count:t}):i("free-trial.tooltip.trial-finished")},children:[c.jsx(B,{size:0,children:c.jsx(uK,{})}),t>0&&c.jsx(Knr,{daysLeft:t,totalDays:n})]})}),qnr=p.forwardRef(function({toggleShowContent:e,daysLeft:t},n){const{t:r}=Q();return c.jsx(ge,{ref:n,icon:uK,justify:"flex-start",mode:"bleed",size:"large",onClick:e,text:t?r("user-menu.action.free-trial",{count:t}):r("user-menu.action.free-trial-finished")})}),Znr=()=>{const e=p.useContext(qxe);if(!e)throw new Error("useFreeTrial must be used within a FreeTrialProvider");return e},Xnr=R.img`
  object-fit: cover;
  width: 100%;
  height: 100%;
  height: 180px;
`;function Jnr({content:e,handleClose:t,handleOpenNext:n}){var r,i,o,a;return c.jsx(le,{radius:3,overflow:"hidden",width:0,children:c.jsxs(Ii,{width:0,children:[e.image&&c.jsx(Xnr,{src:e.image.asset.url,alt:e.image.asset.altText??""}),c.jsxs(W,{padding:3,direction:"column",children:[c.jsx(V,{paddingX:2,marginTop:3,children:c.jsx(vo,{size:1,children:e.headingText})}),c.jsx(V,{marginTop:4,children:c.jsx(p4,{blocks:e.descriptionText})})]}),c.jsxs(W,{width:"full",gap:3,justify:"flex-end",padding:3,children:[((r=e.secondaryButton)==null?void 0:r.text)&&c.jsx(ge,{mode:"bleed",text:e.secondaryButton.text,tone:"default",onClick:()=>t("xClick")}),c.jsx(ge,{mode:"default",tooltipProps:null,text:(i=e.ctaButton)==null?void 0:i.text,autoFocus:!0,tone:"primary",...((o=e.ctaButton)==null?void 0:o.action)==="openUrl"?{href:e.ctaButton.url,target:"_blank",rel:"noopener noreferrer",as:"a"}:{onClick:((a=e.ctaButton)==null?void 0:a.action)==="openNext"?n:()=>t("ctaClicked")}})]})]})})}function zBe({type:e}){const{data:t,showDialog:n,showOnLoad:r,toggleShowContent:i}=Znr(),o=bp(),a=$s(),[s,l]=p.useState(null),[u,d]=p.useState(!1);p.useEffect(()=>{s&&d(!0)},[s]);const f=p.useCallback(()=>i(!0),[i]),h=p.useCallback(()=>{s==null||s.focus(),i(!1)},[i,s]),m=p.useCallback(w=>C=>{const k=(t==null?void 0:t.showOnLoad)||(t==null?void 0:t.showOnClick);k&&a.log(Vnr,{dialogId:k.id,dialogRevision:k._rev,dialogType:w,source:"studio",trialDaysLeft:t.daysLeft,dialogTrialStage:Gk({showOnLoad:r,dialogId:k.id}),dialogDismissAction:C}),h()},[t,h,r,a]),g=p.useCallback(w=>()=>{const C=(t==null?void 0:t.showOnLoad)||(t==null?void 0:t.showOnClick);C&&a.log(rbe,{dialogId:C.id,dialogRevision:C._rev,dialogType:"modal",source:"studio",trialDaysLeft:t.daysLeft,dialogTrialStage:Gk({showOnLoad:r,dialogId:C.id}),dialogCtaType:w==="openURL"?"upgrade":"learnMore"}),f()},[t,f,a,r]),y=p.useCallback(()=>{t!=null&&t.showOnLoad&&a.log(rbe,{dialogId:t.showOnLoad.id,dialogRevision:t.showOnLoad._rev,dialogType:"popover",source:"studio",trialDaysLeft:t.daysLeft,dialogTrialStage:Gk({showOnLoad:!0,dialogId:t.showOnLoad.id}),dialogCtaType:"learnMore"}),f()},[t==null?void 0:t.showOnLoad,t==null?void 0:t.daysLeft,f,a]),x=p.useCallback(()=>{t!=null&&t.showOnClick&&a.log(VBe,{dialogId:t.showOnClick.id,dialogRevision:t.showOnClick._rev,dialogTrigger:"fromClick",dialogType:"modal",source:"studio",trialDaysLeft:t.daysLeft,dialogTrialStage:Gk({showOnLoad:!0,dialogId:t.showOnClick.id})}),f()},[t==null?void 0:t.showOnClick,t==null?void 0:t.daysLeft,a,f]);if(!(t!=null&&t.id))return null;const b=r?t.showOnLoad:t.showOnClick;if(!b)return null;const v=e==="sidebar"?c.jsx(qnr,{toggleShowContent:x,daysLeft:t.daysLeft,ref:l}):c.jsx(Ynr,{toggleShowContent:x,daysLeft:t.daysLeft,totalDays:t.totalDays,ref:l});return(b==null?void 0:b.dialogType)==="popover"?c.jsx(Fn,{open:n&&u,size:0,scheme:o,radius:3,portal:!0,placement:e==="sidebar"?"top":"bottom-end",content:c.jsx(Jnr,{content:b,handleClose:m("popover"),handleOpenNext:y}),children:v}):c.jsxs(c.Fragment,{children:[v,c.jsx(Wnr,{content:b,onClose:m("modal"),onOpenNext:g("openNext"),onOpenUrlCallback:g("openURL"),open:n})]})}const Qnr=({children:e})=>{var m;const t=Os(),[n,r]=p.useState(null),[i,o]=p.useState(!1),[a,s]=p.useState(!1),l=on({apiVersion:"2023-12-11"}),u=$s();p.useEffect(()=>{const g=n==null?void 0:n.showOnLoad;i&&a&&g&&u.log(VBe,{dialogId:g.id,dialogRevision:g._rev,dialogTrialStage:Gk({showOnLoad:a,dialogId:g.id}),dialogTrigger:a?"auto":"fromClick",dialogType:g.dialogType,source:"studio",trialDaysLeft:n.daysLeft})},[i,n,a,u]);const d=new URLSearchParams(t.state._searchParams).toString();p.useEffect(()=>{const g=new URLSearchParams(d),y=new URLSearchParams;y.append("studioVersion",pc);const x=g.get("trialState");x&&y.append("trialState",x);const b=g.get("seenBefore");b&&y.append("seenBefore",b);const v=y.get("trialState")?"/journey/trial/override":"/journey/trial",w=l.observable.request({url:`${v}?${y.toString()}`}).subscribe(C=>{r(C),C!=null&&C.showOnLoad&&(s(!0),o(!0))},()=>{});return()=>{w.unsubscribe()}},[l,d]);const f=p.useCallback((g=!1)=>{var y;a?(s(!1),o(g),(y=n==null?void 0:n.showOnLoad)!=null&&y.id&&l.request({url:`/journey/trial/${n==null?void 0:n.showOnLoad.id}`,method:"POST"})):o(x=>!x)},[l,a,(m=n==null?void 0:n.showOnLoad)==null?void 0:m.id]),h=p.useMemo(()=>({data:n,showDialog:i,toggleShowContent:f,showOnLoad:a}),[n,i,a,f]);return c.jsx(qxe.Provider,{value:h,children:e})};function err(){return c.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 33 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("rect",{width:"100%",height:"100%",fill:"#EC5446"}),c.jsx("path",{d:"M10.1637 8.5498C10.1637 11.3854 11.9461 13.0725 15.5143 13.9622L19.2955 14.8235C22.6725 15.5855 24.729 17.4783 24.729 20.5619C24.7553 21.9053 24.3107 23.2168 23.4698 24.2765C23.4698 21.1999 21.8499 19.5376 17.9425 18.538L14.2299 17.7086C11.257 17.0423 8.9623 15.4863 8.9623 12.1368C8.94666 10.8433 9.36932 9.58143 10.1637 8.5498Z",fill:"white"}),c.jsx("path",{d:"M21.1463 19.8069C22.7591 20.8206 23.4662 22.2384 23.4662 24.2729C22.1313 25.953 19.7861 26.8958 17.0297 26.8958C12.3899 26.8958 9.1427 24.6521 8.42111 20.7533H12.8769C13.4506 22.5432 14.9695 23.3726 16.9972 23.3726C19.4722 23.3726 21.1175 22.0753 21.1499 19.7998",fill:"#F8B1AA"}),c.jsx("path",{d:"M12.4801 12.7536C11.7436 12.3236 11.1394 11.7057 10.7316 10.9656C10.3238 10.2255 10.1276 9.3907 10.1638 8.54984C11.4518 6.88396 13.6923 5.8667 16.4235 5.8667C21.1499 5.8667 23.8848 8.31945 24.5595 11.7717H20.2732C19.8006 10.4107 18.6172 9.35089 16.4596 9.35089C14.1541 9.35089 12.5811 10.6694 12.4909 12.7536",fill:"#F8B1AA"})]})}const ibe=25,UBe=2,trr=R(le).attrs({overflow:"hidden",radius:UBe})`
  height: ${ibe}px;
  width: ${ibe}px;
`,nrr=R(le)`
  border-radius: ${({theme:e})=>Te(e.sanity.radius[UBe])};
  display: flex;
  outline: none;
  text-decoration: none;
  &:focus-visible {
    box-shadow: ${({theme:e})=>KR({base:e.sanity.color.base,focusRing:{...e.sanity.focusRing,offset:1}})};
  }
`;function HBe(){const e=f_(),{activeWorkspace:t}=Og(),{href:n,onClick:r}=sX({state:{}}),i=e.length>1;return c.jsx(nrr,{as:"a",href:n,onClick:r,children:c.jsxs(W,{align:"center",children:[c.jsx(trr,{children:c.jsx(W,{align:"center",height:"fill",justify:"center",children:i||t.customIcon?c.jsx(pee,{icon:t.icon,size:"small"}):c.jsx(err,{})})}),!i&&c.jsx(V,{paddingX:2,children:c.jsx(B,{size:1,weight:"medium",children:t.title})})]})})}function rrr({setScheme:e}){const{t}=Q(),n=fBe(e,t);return c.jsx(le,{borderTop:!0,flex:"none",padding:2,overflow:"auto",children:c.jsx(ae,{as:"ul",space:1,children:n.map(({icon:r,label:i,name:o,onSelect:a,selected:s,title:l})=>c.jsx(ae,{as:"li",children:c.jsx(ge,{"aria-label":i,icon:r,iconRight:s&&c.jsx(_a,{}),justify:"flex-start",mode:"bleed",onClick:a,selected:s,size:"large",text:l})},o))})})}function irr(){return SJ(),null}function orr(){const{currentUser:e,projectId:t}=ri(),n=!!(e&&M8e(e,"administrator")),{t:r}=Q();return c.jsx(le,{borderTop:!0,flex:"none",padding:2,children:c.jsxs(ae,{as:"ul",space:1,children:[c.jsx(ae,{as:"li",children:c.jsx(zBe,{type:"sidebar"})}),c.jsx(ae,{as:"li",children:c.jsx(ge,{"aria-label":r("user-menu.action.manage-project-aria-label"),as:"a",href:`https://sanity.io/manage/project/${t}`,icon:fK,justify:"flex-start",mode:"bleed",size:"large",target:"_blank",text:r("user-menu.action.manage-project")})}),n&&c.jsx(ae,{as:"li",children:c.jsx(ge,{"aria-label":r("user-menu.action.invite-members-aria-label"),as:"a",href:`https://www.sanity.io/manage/project/${t}/members?invite=true`,icon:EM,justify:"flex-start",mode:"bleed",size:"large",target:"_blank",text:r("user-menu.action.invite-members")})})]})})}const obe={bounce:0,damping:20,mass:.5,stiffness:200,type:"spring"},arr={open:{opacity:1},closed:{opacity:0}},srr={open:{x:"0%"},closed:{x:"-100%"}},lrr=R(al)`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`,crr=R(na(le))`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--card-shadow-penumbra-color);
`,urr=R(na(le))`
  position: relative;
  pointer-events: all;
  flex-direction: column;
  height: 100%;
  min-width: 200px;
  max-width: 280px;
  overflow: auto;
`,drr=p.memo(function(e){const{__internal_actions:t,activeToolName:n,isOpen:r,onClose:i,tools:o}=e,a=uBe(),{auth:s,currentUser:l}=ri(),u=f_(),d=BBe(),{t:f}=Q(),h=p.useCallback(y=>{y.key==="Escape"&&i()},[i]),m=p.useCallback(y=>{y==null||y(),i()},[i]),g=p.useMemo(()=>{var y;return(y=t==null?void 0:t.filter(x=>x.location==="sidebar"))==null?void 0:y.map(x=>c.jsx(ge,{icon:x==null?void 0:x.icon,justify:"flex-start",mode:"bleed",onClick:()=>m(x.onAction),selected:x.selected,size:"large",text:x.title,width:"fill"},x.name))},[t,m]);return c.jsx(hf,{children:r&&c.jsx(Ku,{returnFocus:!0,children:c.jsxs(lrr,{onKeyDown:h,children:[c.jsx(crr,{animate:"open","data-open":r,exit:"closed",initial:"closed",onClick:i,transition:obe,variants:arr}),c.jsxs(urr,{animate:"open","data-open":r,display:"flex",exit:"closed",height:"fill",initial:"closed",shadow:1,transition:obe,variants:srr,children:[c.jsx(le,{borderBottom:!0,children:c.jsxs(ae,{space:3,padding:3,children:[c.jsxs(W,{align:"center",children:[c.jsx(W,{flex:1,align:"center",paddingRight:2,children:c.jsxs(W,{flex:1,align:"center",children:[c.jsx(Vl,{size:1,user:"me"}),c.jsx(V,{flex:1,marginLeft:3,title:(l==null?void 0:l.name)||(l==null?void 0:l.email),children:c.jsx(B,{size:1,textOverflow:"ellipsis",weight:"medium",children:(l==null?void 0:l.name)||(l==null?void 0:l.email)})})]})}),c.jsx(ge,{icon:eo,mode:"bleed",onClick:i,tooltipProps:{content:f("user-menu.close-menu")}})]}),u.length>1&&c.jsxs(W,{flex:1,gap:1,children:[c.jsx(HBe,{}),c.jsx(RBe,{})]})]})}),c.jsxs(W,{direction:"column",flex:1,justify:"space-between",overflow:"auto",children:[c.jsx(le,{flex:"none",padding:2,children:c.jsx(d,{activeToolName:n,closeSidebar:i,context:"sidebar",isSidebarOpen:r,tools:o})}),c.jsxs(W,{direction:"column",children:[g&&c.jsx(le,{flex:"none",padding:2,children:c.jsx(ae,{space:1,children:g})}),a&&c.jsx(rrr,{setScheme:a}),c.jsx(irr,{}),c.jsx(orr,{})]})]}),s.logout&&c.jsx(le,{flex:"none",padding:2,borderTop:!0,children:c.jsx(ae,{children:c.jsx(ge,{iconRight:xK,justify:"flex-start",mode:"bleed",onClick:s.logout,size:"large",text:f("user-menu.action.sign-out")})})})]})]})})})});function frr(e,t){const n=t.title.toLowerCase();return e.trim().toLowerCase().split(/[\s\-_]+/).every(r=>n.includes(r))}function hrr(e,t,n){const r=t.title.toLowerCase(),i=n.title.toLowerCase(),o=e.trim().toLowerCase();return r.startsWith(o)&&!i.startsWith(o)?-1:i.startsWith(o)&&!r.startsWith(o)?1:r.includes(o)&&!i.includes(o)?-1:i.includes(o)&&!r.includes(o)?1:0}function prr(e,t,n){return e.map(r=>({...r,title:n({...r,title:(r==null?void 0:r.title)||r.id}).title})).sort((r,i)=>r.title.localeCompare(i.title)).filter(r=>frr(t,r)).sort((r,i)=>hrr(t,r,i))}const mrr=R(Fn)(()=>he`
    [data-ui='Popover__wrapper'] {
      width: 320px;
      display: flex;
      flex-direction: column;
      border-radius: ${({theme:e})=>e.sanity.radius[3]}px;
      position: relative;
      overflow: hidden;
      overflow: clip;
    }
  `),grr=R(no)(()=>he`
    [data-ui='DialogCard'] {
      justify-content: flex-start;
    }
  `),abe=R(W)``,yrr=R(le)`
  min-height: max-content;
`,vrr=R(le)`
  min-height: max-content;
`,brr=R(W)(e=>{const{$maxDisplayedItems:t,$itemHeight:n}=e;return he`
    --item-height: ${n}px;
    --max-items: ${t};
    --list-padding: 0.5rem;

    position: relative;
    max-height: calc(var(--item-height) * var(--max-items) + var(--list-padding));
    min-height: calc((var(--item-height) * 1));
  `}),WBe=33;function xrr(e){const{option:t,currentUser:n,onClick:r,preview:i}=e,o=p.useMemo(()=>({template:t.templateId,type:t.schemaType}),[t.schemaType,t.templateId]),{onClick:a,href:s}=e_({intent:"create",params:o}),l=p.useCallback(d=>{a(d),r(t)},[a,r,t]),{title:u}=yf(t);return c.jsx(Et,{disabled:t.hasPermission,portal:!0,content:c.jsx(Fc,{currentUser:n,context:"create-document"}),children:c.jsx("div",{children:c.jsx(le,{as:t.hasPermission?"a":"button","data-testid":`create-new-${t.templateId}`,disabled:!t.hasPermission,href:s,marginBottom:1,onClick:l,padding:i==="inline"?3:4,radius:2,children:c.jsx(B,{size:i==="inline"?1:void 0,children:u})})})},t.id)}const sbe=R(W)`
  min-height: 100px;
`;function lbe(e){const{currentUser:t,loading:n,onDocumentClick:r,options:i,preview:o,searchQuery:a,textInputElement:s}=e,{t:l}=Q(),u=i.length>0&&!n,d=p.useCallback(()=>{r()},[r]),f=p.useCallback(m=>{var g;return((g=i[m])==null?void 0:g.hasPermission)===!1},[i]),h=p.useCallback(m=>c.jsx(xrr,{currentUser:t,onClick:d,option:m,preview:o},m.id),[t,d,o]);return n?c.jsx(Dn,{showText:!0}):!u&&a?c.jsx(sbe,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsx(B,{align:"center",muted:!0,size:1,children:c.jsx(wt,{t:l,i18nKey:"new-document.no-results",values:{searchQuery:a}})})}):u?c.jsx(gf,{activeItemDataAttr:"data-hovered",ariaLabel:l("new-document.new-document"),autoFocus:v0?void 0:"input",getItemDisabled:f,inputElement:s,itemHeight:WBe,items:i,overscan:5,padding:o==="inline"?1:2,paddingBottom:0,renderItem:h}):c.jsx(sbe,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:c.jsx(B,{align:"center",muted:!0,size:1,children:l("new-document.no-document-types-found")})})}const wrr=10;function Crr(e){const{canCreateDocument:t,modal:n="popover",loading:r,options:i}=e,[o,a]=p.useState(!1),[s,l]=p.useState(""),u=p.useRef(null),d=p.useRef(null),[f,h]=p.useState(null),[m,g]=p.useState(null),{t:y}=Q(),x=$R(i),b=bp(),v=dr(),w=un(),C=i.length>0,k=!t||!C,S=y("new-document.filter-placeholder"),E=y("new-document.title"),_=y("new-document.open-dialog-aria-label"),T=p.useMemo(()=>i.filter(H=>{const N=w.get(H.schemaType);return N&&!i_e(N)}),[i,w]),A=p.useMemo(()=>prr(T,s,x),[T,s,x]),I=p.useCallback(H=>{l(H.currentTarget.value)},[]),j=p.useCallback(()=>a(H=>!H),[]),$=p.useCallback(()=>{a(!1),l(""),f==null||f.focus()},[f]),D=p.useCallback(H=>{H.key==="ArrowDown"&&!o&&a(!0)},[o]),O=p.useCallback(H=>{(H.key==="Escape"||H.key==="Tab")&&o&&$()},[$,o]);On(o&&$,()=>[f,d.current,u.current]);const M=p.useMemo(()=>({currentUser:v,loading:r,onDocumentClick:j,options:A,searchQuery:s,preview:n==="popover"?"inline":"default",textInputElement:m}),[v,A,j,r,n,m,s]),P=p.useMemo(()=>({__unstable_disableFocusRing:!0,border:!1,"data-testid":"new-document-button-search-input",defaultValue:s,disabled:r,icon:wa,onChange:I,placeholder:S,ref:g}),[I,r,S,s]),F=p.useMemo(()=>({"aria-label":_,"data-testid":"new-document-button",disabled:k||r,icon:ca,text:y("new-document.button"),mode:"ghost",onClick:j,ref:h,selected:o}),[k,j,r,o,_,y]),L=p.useMemo(()=>C?t?c.jsx(B,{size:1,children:y("new-document.create-new-document-label")}):c.jsx(Fc,{currentUser:v,context:"create-any-document"}):c.jsx(B,{size:1,children:y("new-document.no-document-types-label")}),[t,v,C,y]),U=p.useMemo(()=>({content:L,disabled:r||o,scheme:b}),[r,o,b,L]);return n==="dialog"?c.jsxs(c.Fragment,{children:[c.jsx(Et,{...U,children:c.jsx("div",{children:c.jsx(ge,{...F})})}),o&&c.jsx(grr,{header:E,id:"create-new-document-dialog",onClickOutside:$,onClose:$,ref:d,scheme:b,width:1,children:c.jsxs(abe,{direction:"column",flex:1,height:"fill",children:[c.jsx(vrr,{padding:2,borderBottom:!0,children:c.jsx(ei,{"data-testid":"new-document-button-search-input",...P})}),c.jsx(W,{direction:"column",overflow:"hidden",children:c.jsx(lbe,{...M})})]})})]}):c.jsx(mrr,{constrainSize:!0,onKeyDown:O,open:o,portal:!0,radius:3,ref:u,scheme:b,content:c.jsxs(abe,{direction:"column",flex:1,forwardedAs:Ku,height:"fill",returnFocus:!0,children:[c.jsx(yrr,{sizing:"border",children:c.jsx(ae,{children:c.jsx(le,{borderBottom:!0,padding:1,children:c.jsx(ei,{...P,fontSize:1,radius:1})})})}),c.jsx(brr,{$itemHeight:WBe,$maxDisplayedItems:wrr,direction:"column",overflow:"hidden",children:c.jsx(lbe,{...M})})]}),children:c.jsx("div",{children:c.jsx(Et,{...U,children:c.jsx("div",{children:c.jsx(ge,{...F,"aria-expanded":o,"aria-haspopup":"true",onKeyDown:D})})})})})}function krr(){const{__internal:{staticInitialValueTemplateItems:e}}=er(),[t,n]=kQ({templateItems:e}),r=(t==null?void 0:t.some(o=>e.some(a=>a.id===o.id)))||!1,i=p.useMemo(()=>e.map(o=>{var a;return{...o,title:(o==null?void 0:o.title)||o.id,hasPermission:((a=t==null?void 0:t.find(s=>s.id===o.id))==null?void 0:a.granted)||!1}}),[t,e]);return{canCreateDocument:r,loading:n,options:i}}const Srr=p.memo(function(e){const{presence:t,focused:n,onFocus:r}=e,[i,o]=p.useState(null),{t:a}=Q(),s=_w(t.locations||[],["lastActiveAt"],["desc"]).find(f=>f.documentId),l=!!(s!=null&&s.documentId);p.useEffect(()=>{n&&i&&(i.focus(),i.setAttribute("data-selected","")),n||(i==null||i.removeAttribute("data-selected"))},[i,n]);const u=p.useCallback(()=>{r(t.user.id)},[r,t.user.id]),d=p.useMemo(()=>p.forwardRef(function(f,h){return s!=null&&s.path?c.jsx(Kc,{...f,intent:"edit",params:{id:s==null?void 0:s.documentId,path:rn(s==null?void 0:s.path)},ref:h}):null}),[s]);return c.jsx(Qe,{as:s?d:"div","data-as":"a",disabled:!l,onFocus:u,preview:c.jsx(Vl,{size:1,user:t.user},t.user.id),ref:o,text:t.user.displayName,tooltipProps:l?void 0:{content:a("presence.not-in-a-document"),placement:"left"}})}),Err=R(Nt)`
  max-width: 260px;
`,_rr=R(ae)`
  position: sticky;
  bottom: 0;
  background-color: var(--card-bg-color);
`;function Trr(){const e=ZNn(),{projectId:t}=ri(),n=bp(),{t:r}=Q(),i=e.length>0,[o,a]=p.useState(),s=p.useCallback(h=>{a(h)},[]),l=p.useCallback(()=>{a("")},[]),u=p.useCallback(()=>{a("")},[]),d=p.useMemo(()=>c.jsx(P_,{icon:U_e,"aria-label":r("presence.aria-label"),mode:"bleed",tone:i?"positive":void 0,tooltipProps:{content:r("presence.tooltip-content")}}),[i,r]),f=p.useMemo(()=>({constrainSize:!0,fallbackPlacements:["bottom"],placement:"bottom",portal:!0,scheme:n}),[n]);return c.jsx(Jt,{button:d,"aria-label":r("presence.aria-label"),id:"global-presence-menu",menu:c.jsxs(Err,{children:[i&&e.map(h=>c.jsx(Srr,{focused:o===h.user.id,onFocus:s,presence:h},h.user.id)),!i&&c.jsx(V,{padding:3,children:c.jsxs(ae,{space:3,children:[c.jsx(B,{weight:"medium",size:1,children:r("presence.no-one-else-title")}),c.jsx(B,{size:1,muted:!0,children:r("presence.no-one-else-description")})]})}),c.jsxs(_rr,{space:1,children:[c.jsx(Tr,{}),c.jsx(Qe,{as:"a",href:`https://www.sanity.io/manage/project/${t}/members?invite=true`,icon:EM,onFocus:l,rel:"noopener noreferrer",target:"_blank",text:r("presence.action.manage-members")})]})]}),onClose:u,popover:f})}function Arr(e,t){return e.withConfig({apiVersion:"1"}).observable.request({url:"/help",query:{m:[`sanity@${pc}`],locale:t},tag:"module.version-check",json:!0})}function jrr(){const e=on({apiVersion:"1"}),t=jg().id,n=p.useMemo(()=>Arr(e,t),[e,t]);return O8e(n)}function Irr({error:e,isLoading:t,value:n}){var l;const r=(l=n==null?void 0:n.resources)==null?void 0:l.sectionArray,i=n==null?void 0:n.latestVersion,o=hee(),{t:a}=Q();if(t)return c.jsx(Dn,{showText:!0});const s=c.jsxs(c.Fragment,{children:[c.jsx(Qe,{as:"a",text:a("help-resources.action.join-our-community"),href:"https://www.sanity.io/exchange/community",target:"_blank"}),c.jsx(Qe,{as:"a",text:a("help-resources.action.help-and-support"),href:"https://www.sanity.io/contact/support",target:"_blank"}),c.jsx(Qe,{as:"a",text:a("help-resources.action.contact-sales"),href:"https://www.sanity.io/contact/sales?ref=studio",target:"_blank"}),c.jsx(Tr,{})]});return c.jsxs(c.Fragment,{children:[(n===void 0||e)&&c.jsx("div",{children:s}),!e&&(r==null?void 0:r.map(u=>u?c.jsx($rr,{subSection:u},u._key):null)),c.jsxs(V,{padding:3,children:[c.jsx(B,{size:1,muted:!0,weight:"medium",textOverflow:"ellipsis",children:a("help-resources.studio-version",{studioVersion:pc})}),!e&&i&&!o&&c.jsx(V,{paddingTop:2,children:c.jsx(B,{size:1,muted:!0,textOverflow:"ellipsis",children:a("help-resources.latest-sanity-version",{latestVersion:i})})})]})]})}function $rr({subSection:e}){var t;return c.jsxs(c.Fragment,{children:[(t=e==null?void 0:e.items)==null?void 0:t.map(n=>{if(!n||!n.title)return null;switch(n._type){case"externalLink":return n.url?c.jsx(Qe,{as:"a",tone:"default",text:n.title,href:n.url,target:"_blank"},n._key):null;case"internalAction":return n.type?n.type==="show-welcome-modal"&&c.jsx(Qe,{text:n.title},n._key):null;default:return null}}),c.jsx(Tr,{})]})}const Drr=R(Nt)`
  max-width: 300px;
  min-width: 200px;
`;function Orr(){const{t:e}=Q(),{value:t,error:n,isLoading:r}=jrr();return c.jsx(Jt,{button:c.jsx(ge,{"aria-label":e("help-resources.title"),icon:ex,mode:"bleed",tooltipProps:{content:e("help-resources.title")}}),id:"menu-button-resources",menu:c.jsx(Drr,{"data-testid":"menu-button-resources",children:c.jsx(Irr,{error:n,isLoading:r,value:t})}),popover:{constrainSize:!0}})}function Mrr(){return SJ(),null}function Prr({setScheme:e}){const{t}=Q(),n=fBe(e,t);return c.jsxs(c.Fragment,{children:[c.jsx(Tr,{}),n.map(({icon:r,label:i,name:o,onSelect:a,selected:s,title:l})=>c.jsx(Qe,{"aria-label":i,icon:r,onClick:a,pressed:s,text:l,iconRight:s&&c.jsx(_a,{}),"data-testid":`color-scheme-${o}`},o))]})}const Rrr=R.div`
  position: absolute;
  width: 18px;
  height: 18px;
  background: var(--card-bg-color);
  bottom: -4px;
  right: -4px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  border: 1px solid var(--card-bg-color);
  box-sizing: content-box;

  svg {
    box-sizing: content-box;
    border: 1px solid var(--card-hairline-soft-color);
    border-radius: 50%;
    padding: 2px;
    width: 12px;
    height: 12px;
  }

  &[data-logo='github'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }

  &[data-logo='saml'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }
`,Frr=c.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsxs("g",{clipPath:"url(#clip0)",children:[c.jsx("path",{d:"M12 6.13764C12 5.72977 11.9663 5.31971 11.8943 4.91846H6.12036V7.22895H9.42684C9.28963 7.97412 8.84876 8.63332 8.20322 9.05221V10.5514H10.1759C11.3342 9.50637 12 7.9631 12 6.13764Z",fill:"#4285F4"}),c.jsx("path",{d:"M6.12019 12.0002C7.77118 12.0002 9.16349 11.4688 10.1779 10.5517L8.20529 9.05253C7.65646 9.41851 6.94793 9.62574 6.12244 9.62574C4.52544 9.62574 3.17136 8.56971 2.68552 7.1499H0.649902V8.69537C1.68908 10.7215 3.80567 12.0002 6.12019 12.0002V12.0002Z",fill:"#34A853"}),c.jsx("path",{d:"M2.68332 7.14986C2.4269 6.40469 2.4269 5.59778 2.68332 4.8526V3.30713H0.649951C-0.218278 5.00252 -0.218278 6.99995 0.649951 8.69533L2.68332 7.14986V7.14986Z",fill:"#FBBC04"}),c.jsx("path",{d:"M6.12019 2.37483C6.99291 2.3616 7.8364 2.68348 8.46845 3.27433L10.2161 1.56131C9.1095 0.542752 7.64071 -0.017233 6.12019 0.000404333C3.80566 0.000404333 1.68908 1.27911 0.649902 3.3074L2.68326 4.85288C3.16686 3.43087 4.52319 2.37483 6.12019 2.37483V2.37483Z",fill:"#EA4335"})]}),c.jsx("defs",{children:c.jsx("clipPath",{id:"clip0",children:c.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),Lrr=c.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("g",{clipPath:"url(#clip0)",children:c.jsx("path",{d:"M11.195 3.13503C10.6711 2.22838 9.91808 1.47537 9.01144 0.951471C8.09222 0.414976 7.08837 0.146729 5.99987 0.146729C4.91137 0.146729 3.90752 0.414976 2.98831 0.951471C2.08163 1.47534 1.32862 2.22836 0.804744 3.13503C0.268248 4.05497 0 5.05883 0 6.14659C0 7.45399 0.381531 8.62978 1.14459 9.67394C1.90765 10.7181 2.89327 11.4408 4.10143 11.8419C4.24208 11.868 4.34624 11.8497 4.41392 11.7872C4.44666 11.7577 4.47263 11.7215 4.49006 11.681C4.50749 11.6405 4.51595 11.5967 4.51488 11.5527C4.51488 11.537 4.51361 11.3963 4.51105 11.1307C4.5085 10.8651 4.50722 10.6334 4.50722 10.4355L4.32745 10.4666C4.18407 10.4895 4.03885 10.4986 3.89375 10.494C3.71159 10.4908 3.53001 10.4725 3.35087 10.4393C3.16049 10.4045 2.98119 10.3246 2.82796 10.2064C2.66705 10.0846 2.54715 9.91661 2.48428 9.72484L2.40602 9.54506C2.34022 9.40286 2.25754 9.2691 2.15976 9.14666C2.04775 9.00072 1.93447 8.90176 1.81991 8.84977L1.76518 8.81064C1.72769 8.78356 1.6936 8.75205 1.66367 8.71679C1.63479 8.6841 1.61108 8.64719 1.59334 8.60734C1.57766 8.57085 1.5907 8.54085 1.63247 8.51731C1.67461 8.49405 1.75123 8.48256 1.86068 8.48256L2.01692 8.50582C2.12108 8.52662 2.24996 8.5891 2.40356 8.69326C2.5585 8.79876 2.68797 8.93748 2.78254 9.09932C2.90239 9.31294 3.04695 9.47575 3.21624 9.58775C3.38552 9.69976 3.55609 9.75576 3.72793 9.75576C3.87725 9.7578 4.02641 9.74479 4.17312 9.7169C4.29459 9.69195 4.41264 9.65254 4.52473 9.59952C4.57162 9.25037 4.69931 8.98212 4.90782 8.79477C4.63684 8.76849 4.36827 8.72157 4.10444 8.6544C3.84797 8.58382 3.60133 8.48141 3.37029 8.34958C3.12825 8.218 2.91442 8.04015 2.74095 7.82613C2.57421 7.6178 2.4374 7.34417 2.3305 7.00524C2.2236 6.6663 2.1707 6.27584 2.1718 5.83383C2.1718 5.20357 2.37757 4.66708 2.7891 4.22435C2.59629 3.75006 2.61453 3.21885 2.84383 2.63073C2.99487 2.58385 3.21879 2.61897 3.51559 2.73608C3.81239 2.85319 4.02983 2.95352 4.16792 3.03707C4.30601 3.12025 4.41665 3.19058 4.49983 3.24804C5.48153 2.9773 6.51821 2.9773 7.49991 3.24804L7.79679 3.0606C8.0249 2.92356 8.26549 2.80849 8.51535 2.71693C8.79135 2.61276 9.00231 2.58412 9.14825 2.63101C9.38248 3.21949 9.40327 3.7507 9.21064 4.22462C9.62199 4.66735 9.82776 5.20385 9.82795 5.83411C9.82795 6.27684 9.77459 6.66904 9.66787 7.01071C9.56116 7.35238 9.42325 7.62601 9.25415 7.8316C9.07785 8.04326 8.86311 8.21966 8.62124 8.35149C8.39008 8.48329 8.14337 8.5857 7.88682 8.65632C7.62412 8.72277 7.35674 8.76915 7.087 8.79505C7.35698 9.02927 7.49206 9.3994 7.49225 9.90543V11.5527C7.49115 11.5964 7.49929 11.6398 7.51612 11.6802C7.53295 11.7206 7.5581 11.7569 7.58993 11.7869C7.65505 11.8493 7.75794 11.8675 7.89858 11.8416C9.10693 11.4403 10.0926 10.7177 10.8557 9.67367C11.6188 8.62968 12.0003 7.4539 12.0003 6.14632C11.9997 5.05873 11.7313 4.05497 11.195 3.13503V3.13503Z",fill:"black"})}),c.jsx("defs",{children:c.jsx("clipPath",{id:"clip0",children:c.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),Nrr=c.jsxs("svg",{width:"17",height:"9",viewBox:"0 0 17 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M0.0691681 5.98162C0.115833 7.24157 1.07247 8.00221 2.59841 8.00221C4.17102 8.00221 5.12299 7.19957 5.12299 5.86962C5.12299 4.83832 4.55367 4.25501 3.25172 3.96569L2.56108 3.80703C1.8331 3.64837 1.53445 3.38704 1.53445 2.91106C1.53445 2.40708 1.94977 2.09442 2.61708 2.09442C3.27505 2.09442 3.6997 2.43508 3.75103 2.99039H5.00166C4.95966 1.78643 4.01236 0.997795 2.60308 0.997795C1.14713 0.997795 0.218496 1.79577 0.218496 3.05105C0.218496 4.04968 0.815808 4.69366 2.03376 4.96898L2.73374 5.13231C3.51304 5.30497 3.8117 5.54763 3.8117 6.00495C3.8117 6.55093 3.34972 6.90092 2.62174 6.90092C1.85644 6.90092 1.38045 6.56493 1.31979 5.98162H0.0691681Z"}),c.jsx("path",{d:"M5.97695 5.98162C6.02362 7.24157 6.98025 8.00221 8.5062 8.00221C10.0788 8.00221 11.0308 7.19957 11.0308 5.86962C11.0308 4.83832 10.4615 4.25501 9.15951 3.96569L8.46886 3.80703C7.74089 3.64837 7.44223 3.38704 7.44223 2.91106C7.44223 2.40708 7.85755 2.09442 8.52486 2.09442C9.18284 2.09442 9.60749 2.43508 9.65882 2.99039H10.9094C10.8674 1.78643 9.92015 0.997795 8.51086 0.997795C7.05492 0.997795 6.12628 1.79577 6.12628 3.05105C6.12628 4.04968 6.72359 4.69366 7.94155 4.96898L8.64153 5.13231C9.42083 5.30497 9.71949 5.54763 9.71949 6.00495C9.71949 6.55093 9.2575 6.90092 8.52953 6.90092C7.76422 6.90092 7.28824 6.56493 7.22758 5.98162H5.97695Z"}),c.jsx("path",{d:"M16.9852 5.01565V3.98435C16.9852 2.11309 16.0099 0.997795 14.3953 0.997795C12.7807 0.997795 11.8054 2.11309 11.8054 3.98435V5.01565C11.8054 6.88692 12.7807 8.00221 14.3953 8.00221C16.0099 8.00221 16.9852 6.88692 16.9852 5.01565ZM14.3953 6.82625C13.5833 6.82625 13.154 6.21494 13.154 5.00165V3.99835C13.154 2.78506 13.5833 2.17375 14.3953 2.17375C15.2073 2.17375 15.6366 2.78506 15.6366 3.99835V5.00165C15.6366 6.21494 15.2073 6.82625 14.3953 6.82625Z"})]}),Brr=({provider:e})=>{const t=e==null?void 0:e.startsWith("saml-");return c.jsxs(Rrr,{"data-logo":t?"saml":e,children:[e==="google"&&Frr,e==="github"&&Lrr,e==="sanity"&&c.jsx(Pwn,{}),t&&Nrr]})};function Vrr(){const{currentUser:e,projectId:t}=ri(),n=!!(e&&M8e(e,"administrator")),{t:r}=Q();return c.jsxs(c.Fragment,{children:[c.jsx(Tr,{}),c.jsx(Qe,{as:"a","aria-label":r("user-menu.action.manage-project-aria-label"),href:`https://sanity.io/manage/project/${t}`,target:"_blank",text:r("user-menu.action.manage-project"),icon:fK}),n&&c.jsx(Qe,{as:"a","aria-label":r("user-menu.action.invite-members-aria-label"),href:`https://www.sanity.io/manage/project/${t}/members?invite=true`,target:"_blank",text:r("user-menu.action.invite-members"),icon:EM})]})}const zrr=R(Nt)`
  min-width: 200px;
  max-width: 300px;
`,Urr=R(V)`
  position: relative;
  min-width: ${({theme:e})=>e.sanity.avatar.sizes[2].size}px;
  min-height: ${({theme:e})=>e.sanity.avatar.sizes[2].size}px;
`;function Hrr(){const{currentUser:e,auth:t}=ri(),n=bp(),r=uBe(),i=AJ(e==null?void 0:e.provider),{t:o}=Q(),a=p.useMemo(()=>({placement:"bottom",portal:!0,preventOverflow:!0,scheme:n,constrainSize:!0}),[n]);return c.jsx(Jt,{button:c.jsx(zt,{mode:"bleed",padding:0,radius:"full",children:c.jsx(Vl,{size:1,user:"me"})}),id:"user-menu",menu:c.jsxs(zrr,{"data-testid":"user-menu",children:[c.jsx(le,{padding:2,children:c.jsxs(W,{align:"center",children:[c.jsx(Et,{disabled:!i,portal:!0,content:o("user-menu.login-provider",{providerTitle:i}),children:c.jsxs(Urr,{marginRight:3,children:[c.jsx(Vl,{size:2,user:"me"}),(e==null?void 0:e.provider)&&c.jsx(Brr,{provider:e.provider})]})}),c.jsxs(ae,{space:2,flex:1,children:[c.jsx(B,{size:1,weight:"medium",textOverflow:"ellipsis",children:e==null?void 0:e.name}),c.jsx(B,{size:1,muted:!0,textOverflow:"ellipsis",children:e==null?void 0:e.email})]})]})}),r&&c.jsx(Prr,{setScheme:r}),c.jsx(Mrr,{}),c.jsx(Vrr,{}),t.logout&&c.jsxs(c.Fragment,{children:[c.jsx(Tr,{}),c.jsx(Qe,{iconRight:xK,text:o("user-menu.action.sign-out"),disabled:!t.logout,...t.logout&&{onClick:t.logout}})]})]}),popover:a})}const Wrr=[],Grr=R(al)`
  min-height: auto;
  position: relative;

  &[data-search-open='true'] {
    top: 0;
    position: sticky;
  }
`,Krr=R(le)`
  line-height: 0;
`,Yrr=R(Xn)`
  grid-template-columns: auto auto auto;
  @media screen and (min-width: ${({theme:e})=>`${e.sanity.media[3]}px`}) {
    grid-template-columns: 1fr auto 1fr;
  }
`;function qrr(e){const{__internal_actions:t=Wrr}=e,{name:n,tools:r}=ri(),i=t_(),o=Vy(),a=typeof i.tool=="string"?i.tool:void 0,s=krr(),{t:l}=Q(),{onSearchFullscreenOpenChange:u,onSearchOpenChange:d,searchFullscreenOpen:f,searchFullscreenPortalEl:h,searchOpen:m}=p.useContext(ewe),g=BBe(),[y,x]=p.useState(!1),b=p.useRef(i),v=p.useRef(n);p.useEffect(()=>{(b.current.tool!==i.tool||n!==v.current)&&x(!1),b.current=i,v.current=n},[n,i]);const[w,C]=p.useState(null),[k,S]=p.useState(null),E=p.useMemo(()=>({resources:o>1,collapsedPresenceMenu:o<=1,loginStatus:o>1,searchFullscreen:o<=1,configIssues:o>1&&Yl,newDocumentFullscreen:o<=1,tools:o>=3}),[o]);p.useEffect(()=>{u(f)},[f,u]),p.useEffect(()=>{E.searchFullscreen?d(!1):u(!1)},[u,d,E.searchFullscreen]);const _=p.useCallback(()=>{d(!0)},[d]),T=p.useCallback(()=>{u(!0)},[u]),A=p.useCallback(()=>{d(!1)},[d]),I=p.useCallback(()=>{u(!1),k==null||k.focus()},[u,k]),j=p.useCallback(()=>{x(!1),w==null||w.focus()},[w]),$=p.useCallback(()=>{x(!0)},[]),D=p.useMemo(()=>{var O;return E.tools?(O=t==null?void 0:t.filter(M=>M.location==="topbar"))==null?void 0:O.map(M=>c.jsx(ge,{iconRight:M==null?void 0:M.icon,mode:"bleed",onClick:M==null?void 0:M.onAction,selected:M.selected,text:M.title},M.name)):null},[t,E.tools]);return c.jsx(Qnr,{children:c.jsxs(Grr,{zOffset:100,"data-search-open":f,children:[c.jsx(Krr,{borderBottom:!0,"data-testid":"studio-navbar","data-ui":"Navbar",padding:3,sizing:"border",children:c.jsxs(Yrr,{gap:1,children:[c.jsx(Sa,{children:c.jsxs(W,{align:"center",gap:2,justify:"flex-start",children:[c.jsxs(W,{align:"center",gap:2,children:[!E.tools&&c.jsx(ge,{mode:"bleed",icon:$_e,onClick:$,ref:C,tooltipProps:{content:l("user-menu.open-menu"),placement:"bottom"}}),c.jsxs(W,{gap:1,children:[c.jsx(HBe,{}),c.jsx(RBe,{})]})]}),c.jsx(Crr,{...s,modal:E.newDocumentFullscreen?"dialog":"popover"}),!E.searchFullscreen&&c.jsx(Gve,{onClick:_,ref:S})]})}),c.jsx(W,{align:"center",justify:"center",children:E.tools&&c.jsx(g,{activeToolName:a,closeSidebar:j,context:"topbar",isSidebarOpen:!1,tools:r})}),c.jsx(Sa,{children:c.jsxs(W,{align:"center",gap:1,justify:"flex-end",children:[c.jsxs(W,{gap:1,children:[c.jsx(Pl,{children:c.jsx(fee,{fullscreen:E.searchFullscreen,children:c.jsx($h,{element:document.body,children:E.searchFullscreen?c.jsx(iw,{element:h,children:c.jsx(Jtr,{onClose:I,onOpen:T,open:f})}):c.jsx(jBe,{onClose:A,onOpen:_,open:m})})})}),E.tools&&c.jsx(zBe,{type:"topbar"}),E.configIssues&&c.jsx(Bnr,{}),E.resources&&c.jsx(Orr,{}),c.jsx(Trr,{}),E.searchFullscreen&&c.jsx(Gve,{onClick:T,ref:S}),D]}),E.tools&&c.jsx(V,{flex:"none",marginLeft:1,children:c.jsx(Hrr,{})})]})})]})}),!E.tools&&c.jsx(drr,{__internal_actions:t,activeToolName:a,isOpen:y,onClose:j,tools:r})]})})}function Zrr(e){return!!e}const Xrr=R(c9e)`
  list-style: none;
  white-space: nowrap;
  flex-shrink: 0;
  opacity: 0;
  visibility: hidden;
`,Jrr=R(W)`
  opacity: 0;
  height: 0.1px;
  overflow: hidden;
`,Qrr=p.forwardRef(function(e,t){const{children:n,gap:r,menuButtonProps:i,disableRestoreFocusOnClose:o,onMenuClose:a,collapsed:s,...l}=e,[u,d]=p.useState(null),[f,h]=p.useState([]),[m,g]=p.useState(!1),y=p.useMemo(()=>p.Children.toArray(n).filter(Zrr),[n]),x=p.useMemo(()=>s||!m?null:y.filter(k=>!f.some(S=>S.key===k.key)),[y,s,f,m]),b=p.useMemo(()=>({root:u,threshold:1,rootMargin:"1px"}),[u]),v=p.useMemo(()=>(i==null?void 0:i.button)||c.jsx(Ki,{}),[i]),w=p.useMemo(()=>s?y:y.filter(({key:k})=>f.find(S=>S.key===k)),[y,f,s]),C=p.useCallback((k,S)=>{const E=f.some(T=>T.key===S.key);m||g(!0);const _=k.isIntersecting;!E&&!_&&h(T=>[...T,S]),E&&_&&h(T=>T.filter(A=>A.key!==S.key))},[f,m,g,h]);return c.jsxs(W,{direction:"column",ref:t,sizing:"border",style:{position:"relative"},...l,children:[c.jsxs(W,{justify:"center",gap:r,flex:1,children:[x,(f.length>0||s)&&c.jsx(cQ,{disableRestoreFocusOnClose:o,menuButton:v,menuButtonProps:i,menuOptions:w,onMenuClose:a})]}),c.jsxs(Jrr,{justify:"flex-start",gap:r,ref:d,"data-hidden":!0,"aria-hidden":"true",children:[p.cloneElement(v,{disabled:!0,"aria-hidden":!0}),y==null?void 0:y.map(k=>c.jsx(Xrr,{options:b,onIntersectionChange:S=>C(S[0],k),children:p.cloneElement(k,{disabled:!0,"aria-hidden":!0,tabIndex:-1})},`${k.key}_observer`))]})]})}),GBe=p.forwardRef(function(e,t){const{name:n,...r}=e,i=t_(p.useCallback(()=>({tool:n,[n]:void 0}),[n]));return c.jsx(cR,{state:i,...r,ref:t})});function eir(e){const{activeToolName:t,tools:n}=e,r=bp(),[i,o]=p.useState(null);pVe({rootElement:i,navigation:["arrows"]});const a=p.useMemo(()=>({popover:{constrainSize:!0,portal:!0,scheme:r}}),[r]),s=p.useMemo(()=>n.map((l,u)=>{const d=(l==null?void 0:l.title)||Vt(l.name),f=p.forwardRef(function(h,m){return c.jsx(GBe,{...h,ref:m,name:l.name,children:h.children})});return c.jsx(ge,{as:f,"data-as":"a",mode:"bleed",selected:t===l.name,text:d},`${l.name}-${u}`)}),[t,n]);return c.jsx(W,{justify:"center",marginX:4,children:c.jsx(Qrr,{"data-testid":"tool-collapse-menu",gap:1,menuButtonProps:a,ref:o,children:s})})}function tir(e){const{activeToolName:t,isVisible:n,tools:r}=e;return p.useMemo(()=>c.jsx(ae,{as:"ul",space:1,children:r.map(i=>{const o=(i==null?void 0:i.title)||Vt(i.name),a=p.forwardRef(function(s,l){return c.jsx(GBe,{...s,ref:l,name:i.name,children:s.children})});return c.jsx(ae,{as:"li",children:c.jsx(ge,{as:a,justify:"flex-start",mode:"bleed",selected:t===i.name,size:"large",tabIndex:n?0:-1,text:o})},i.name)})}),[t,n,r])}function nir(e){const{context:t,isSidebarOpen:n,tools:r,...i}=e;return r.length<=1?null:t==="sidebar"?c.jsx(tir,{isVisible:n,tools:r,...i}):c.jsx(eir,{tools:r,...i})}const rir=Oi({name:"Field Copied",version:1,description:'User clicked the "Copy field" button in the field action menu or used the Ctrl+C shortcut'}),iir=Oi({name:"Field Pasted",version:1,description:'User clicked the "Paste field" button in the field action menu or used the Ctrl+V shortcut'});function KBe(e,t){var i;if(!t)return;const n=Ol(t),r=n[0];if(r&&Qo(e)){const o=(i=e==null?void 0:e.fields)==null?void 0:i.find(a=>a.name===r);if(o){const a=rn(n.slice(1));return a?KBe(o.type,a):o}}}function GS(e,t,n){if(!e)return;let r=e;return t.forEach((i,o)=>{const a=t.slice(0,o+1);if(Cr(i)||rl(i)){const l=r,u=Oo(n,a),d=XR(l,u);if(d){r=d;return}}const s=KBe(r,rn(a.length>1?a.slice(-1):a));s!=null&&s.type&&(r=s.type)}),r}const k5="web application/vnd.sanity-clipboard-item+json",YD="text/html",cbe="text/plain",oir=typeof ClipboardItem<"u"&&"supports"in ClipboardItem&&ClipboardItem.supports(k5),YBe="sanity-clipboard-base64";async function air(){const e=await navigator.clipboard.read();for(const t of e){const n=await lir(t);if(n)return n}return null}async function sir(e){const t=iH(e.value),n=dir(t),r=cir(JSON.stringify(e)),i=new ClipboardItem({...oir&&{[k5]:new Blob([JSON.stringify(e)],{type:k5})},[YD]:new Blob([`<p data-${YBe}="${r}">${n}</p>`],{type:YD}),[cbe]:new Blob([t],{type:cbe})});try{return await navigator.clipboard.write([i]),!0}catch(o){return console.error(`Failed to write to clipboard: ${o.message}`,o),!1}}async function lir(e){if(e.types.includes(k5)){const r=await(await e.getType(k5)).text();return JSON.parse(r)}if(!e.types.includes(YD))return null;const t=await(await e.getType(YD)).text(),n=new DOMParser().parseFromString(t,"text/html");try{const r=n.querySelector(`[data-${YBe}]`);if(!r)return null;const{sanityClipboardBase64:i}=r.dataset;return i?JSON.parse(uir(i)):null}catch{return null}}function cir(e){const t=new TextEncoder().encode(e);let n="";for(let r=0;r<t.byteLength;r++)n+=String.fromCharCode(t[r]);return btoa(n)}function uir(e){const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return new TextDecoder().decode(n)}function dir(e){return new DOMParser().parseFromString(e,"text/html").documentElement.textContent}function iH(e){return e?G1(e)?e:Number.isFinite(e)?e.toString():Array.isArray(e)?e.map(iH).filter(Boolean).join(", "):typeof e=="object"?Object.entries(e).map(([t,n])=>t.startsWith("_")?"":iH(n)).filter(Boolean).join(", "):"":""}function xd(e){return!!(e==null||Array.isArray(e)&&e.length===0)}function ube(e){return!!(e instanceof HTMLElement&&e.isContentEditable||e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)}function fir(){if(typeof window>"u"||!window.getSelection)return!1;const e=window.getSelection();return e!==null&&!e.isCollapsed}function dbe(e){return e.length===0||e.length===1&&e[0]===""}async function hir(e,t,n,r,i){if(!n.filter)return!0;const o=await qFe(n,e,r,i);if(!o.filter)return!0;try{const a=o.params||{},s=`*[${o.filter}]`,l=NY(s,a),u=await(await dIe(l,{params:a,dataset:[t]})).get();return!xd(u)}catch(a){return console.error("Error evaluating GROQ filter:",a),!1}}function pir(e){if(e.length===0)return"object";const t=e[e.length-1];return Cr(t)||rl(t)||Jb(t)?"object":t}function mir(e,t){return!!(typeof e=="string"&&t.includes("string")||typeof e=="number"&&(t.includes("number")||t.includes("string"))||typeof e=="boolean"&&t.includes("boolean"))}function qBe(e,t){return Tt(e)&&Tt(t)&&(e.jsonType==="number"&&t.jsonType==="string"||qBe(e.type,t.type))}function gir(e){return e.of.map(t=>t.jsonType)}function ZBe(e,t){return Tt(e)&&Tt(t)&&(e.jsonType==="number"&&kM(t)&&gir(t).includes("string")||ZBe(e.type,t.type))}const yir=()=>Ch(12);async function vir({sourceRootSchemaType:e,sourcePath:t,sourceValue:n,sourceRootPath:r=[],targetRootSchemaType:i,targetRootValue:o,targetRootPath:a,targetValue:s,targetPath:l,keyGenerator:u=yir,options:d={validateReferences:!0,validateAssets:!0,client:void 0}}){const f=[];if(!e)throw new Error("Source root schema type is not defined");if(!i)throw new Error("Target root schema type is not defined");const h=GS(e,t,n),m=GS(i,l,s);if(!h)throw new Error("Could not find source schema type at path");if(!m)throw new Error("Could not find target schema type at path");if(i.readOnly||m.readOnly)return{targetValue:void 0,errors:[{level:"error",sourceValue:n,i18n:{key:"copy-paste.on-paste.validation.read-only-target.description"}}]};if(E2(h)&&db(m)||db(h)&&E2(m))return{targetValue:void 0,errors:[{level:"error",sourceValue:n,i18n:{key:"copy-paste.on-paste.validation.image-file-incompatible.description",args:{sourceSchemaType:e.name,targetSchemaType:i.name}}}]};const g=h.jsonType,y=m.jsonType,x=YY(r),b=typeof x<"u"&&rl(x),v=t.length===0&&g==="array"&&!Array.isArray(n)&&b,w=(["number","string","boolean"].includes(g)||v)&&kM(m),C=g==="object"&&sp(m);if(!(g===y||qBe(h,m)||ZBe(h,m)||w||C))return{targetValue:void 0,errors:[{level:"error",sourceValue:n,i18n:{key:"copy-paste.on-paste.validation.schema-type-incompatible.description"}}]};const k=Oo(n,t);if(h.jsonType==="object"&&m.jsonType==="object")return gee({sourceValue:k,targetSchemaType:m,targetRootValue:o,targetRootPath:a,targetPath:[],errors:f,keyGenerator:u,options:d});if(h.jsonType==="array"&&m.jsonType==="array"){const S=v&&!Array.isArray(k)?[k]:k;return oH({sourceValue:S,targetSchemaType:m,targetRootValue:o,targetRootPath:a,errors:f,options:d,keyGenerator:u})}if(w||C){let S;C&&Mm(k)&&k._type==="object"||!Mm(k)?S=pir(r):Mm(k)?S=k._type:S="object";const E=C&&!Array.isArray(k)?[{...k,_type:S,_key:u()}]:[k];return oH({sourceValue:Array.isArray(k)?k:E,targetSchemaType:m,targetRootValue:o,targetRootPath:a,errors:f,options:d,keyGenerator:u})}return XBe({sourceValue:k,targetSchemaType:m,errors:f})}async function gee({sourceValue:e,targetSchemaType:t,targetPath:n,targetRootValue:r,targetRootPath:i,errors:o,keyGenerator:a,options:s}){var C,k,S,E;if(xd(e))return{targetValue:void 0,errors:o};const l={_type:t.name,...e&&typeof e=="object"&&"_key"in e?{_key:a()}:{}},u=lB(e)&&El(e.asset)?e.asset._ref:void 0,d=Mm(e)?e._type:void 0,f=u&&bEt(u),h=u&&xEt(u),m=(d==="image"||f)&&!db(t),g=(d==="file"||h)&&!E2(t);if(Mm(e)&&(m||g))return o.push({level:"error",sourceValue:e,i18n:{key:"copy-paste.on-paste.validation.image-file-incompatible.description",args:{sourceSchemaType:d,targetSchemaType:t.name}}}),{targetValue:void 0,errors:o};if(s!=null&&s.validateAssets&&s.client&&(db(t)||E2(t))&&((C=t.options)!=null&&C.accept)&&lB(e)&&El(e.asset)){const _=(k=e.asset)==null?void 0:k._ref;if(!_)return{targetValue:void 0,errors:o};try{const T=db(t)?"sanity.imageAsset":"sanity.fileAsset",A=await s.client.fetch("*[_type == $type &&_id == $ref][0]{mimeType, originalFilename}",{ref:_,type:T});if(!A)return{targetValue:void 0,errors:o};const I={type:A.mimeType,name:A.originalFilename},j=A.mimeType;if(!ID(I,t.options.accept))return o.push({level:"error",sourceValue:e,i18n:{key:"copy-paste.on-paste.validation.mime-type-incompatible.description",args:{mimeType:j}}}),{targetValue:void 0,errors:o}}catch(T){return console.error("Error fetching asset document:",T),o.push({level:"error",sourceValue:e,i18n:{key:"copy-paste.on-paste.validation.mime-type-validation-failed.description"}}),{targetValue:void 0,errors:o}}}if(Il(t)){const _=t.to.map(T=>T.name);if(s!=null&&s.validateReferences&&s.client&&El(e))try{const T=(S=t.options)!=null&&S.filter?"*[_id in $ids]|order(_updatedAt)[0]":"*[_id in $ids]|order(_updatedAt)[0]{_id, _type}",{publishedId:A,draftId:I}=wJ(e._ref),j=await s.client.fetch(T,{ids:[A,I]});if(!j&&!t.weak)return o.push({level:"error",sourceValue:e,i18n:{key:"copy-paste.on-paste.validation.reference-validation-failed.description",args:{ref:e._ref}}}),{targetValue:void 0,errors:o};if(j&&!_.includes(j._type))return o.push({level:"error",sourceValue:e,i18n:{key:"copy-paste.on-paste.validation.reference-type-incompatible.description",args:{sourceReferenceType:j._type,targetReferenceTypes:_.join(", ")}}}),{targetValue:void 0,errors:o};if(s.client&&((E=t.options)!=null&&E.filter)){const $=D=>s.client.withConfig(D);if(!await hir(r||{},j,t.options,i,$))return o.push({level:"error",sourceValue:e,i18n:{key:"copy-paste.on-paste.validation.reference-filter-incompatible.description"}}),{targetValue:void 0,errors:o}}}catch(T){return console.error("Error fetching reference document:",T),o.push({level:"error",sourceValue:l,i18n:{key:"copy-paste.on-paste.validation.reference-validation-failed.description",args:{ref:e._ref}}}),{targetValue:void 0,errors:o}}}const y={},x=o_e(t)&&qa(e)&&!xd(e.markDefs);if(x){const _=e.markDefs||[];_.filter(T=>T._key).forEach(T=>{y[T._key]=a()}),l.markDefs=_.map(T=>({...T,_key:y[T._key]}))}const b=t.fields;for(const _ of b){const T=_.type,A=sl(T),I=Qo(T);if(SM(T)){const j=e?e[_.name]:void 0,$=XBe({sourceValue:j,targetSchemaType:T,errors:o});xd($.targetValue)||(l[_.name]=$.targetValue)}else if(I){const j=await gee({sourceValue:Oo(e,n.concat(_.name)),targetPath:[],targetSchemaType:T,targetRootValue:r,targetRootPath:i,errors:o,options:s,keyGenerator:a});xd(j.targetValue)||(l[_.name]=fbe(j.targetValue))}else if(A){const j=e?e[_.name]:void 0,$=await oH({sourceValue:j,targetSchemaType:T,targetRootValue:r,targetRootPath:i,errors:o,options:s,keyGenerator:a});if(x&&_.name==="markDefs"&&!xd(l.markDefs))continue;xd($.targetValue)||(l[_.name]=$.targetValue)}}const v=Oo(l,n),w=fbe(v);return Object.keys(y).length>0&&qa(w)&&(w.children=w.children.map(_=>jl(_)&&_.marks?{..._,marks:[..._.marks.map(T=>y[T]||T)]}:_)),Il(t)&&t.weak&&(w._weak=!0),Il(t)&&El(e)&&e._strengthenOnPublish&&(w._weak=!0,w._strengthenOnPublish=e._strengthenOnPublish),{targetValue:w,errors:o}}async function oH({sourceValue:e,targetSchemaType:t,targetRootValue:n,targetRootPath:r,errors:i,options:o,keyGenerator:a}){let s;const l=e;if(!l||!Array.isArray(l))return{targetValue:void 0,errors:[{level:"error",sourceValue:e,i18n:{key:"copy-paste.on-paste.validation.array-type-incompatible.description",args:{type:typeof l}}}]};const u=kM(t),d=sp(t);if(u){const f=t.of.map(y=>y.jsonType),h=f.includes("number"),m=l.filter(y=>mir(y,f)).map(y=>!h&&typeof y=="number"?`${y}`:y),g=l.filter(y=>!m.includes(!h&&typeof y=="number"?`${y}`:y));g.length>0&&g.forEach(y=>{i.push({level:m.length>0?"warning":"error",sourceValue:y,i18n:{key:"copy-paste.on-paste.validation.array-value-incompatible.description",args:{type:typeof y}}})}),m.length>0&&(s=m)}if(d){const f=e,h=f.filter(g=>t.of.some(y=>y.name===g._type)),m=f.filter(g=>!t.of.some(y=>y.name===g._type));h.length===0?s=void 0:s=(await Promise.all(h.map(g=>gee({sourceValue:g,targetSchemaType:t.of.find(y=>y.name===g._type),targetPath:[],targetRootValue:n,targetRootPath:r,errors:i,options:o,keyGenerator:a})))).map(g=>g.targetValue).filter(g=>!xd(g)),m.length>0&&m.forEach(g=>{i.push({level:h.length>0?"warning":"error",sourceValue:g,i18n:{key:"copy-paste.on-paste.validation.array-value-incompatible.description",args:{type:g._type||typeof g}}})})}return{targetValue:s,errors:i}}function XBe({sourceValue:e,targetSchemaType:t,errors:n}){var s,l;let r;const i=e;if(typeof i>"u")return{targetValue:void 0,errors:n};const o=t.jsonType===typeof i,a=typeof i=="number"&&t.jsonType==="string";if(o||a){const u=typeof i=="string"||typeof i=="number";if((Hm(t)||iK(t))&&u){const d=((l=(s=t.options)==null?void 0:s.list)==null?void 0:l.map(f=>typeof f=="string"||typeof f=="number"?f:f.value))||[];d.length>0&&!d.includes(i)&&n.push({level:"error",sourceValue:i,i18n:{key:"copy-paste.on-paste.validation.string-value-incompatible.description",args:{value:i,allowedStrings:d}}})}r=a?`${i}`:i}else n.push({level:"error",sourceValue:i,i18n:{key:"copy-paste.on-paste.validation.primitive-type-incompatible.description",args:{type:typeof i}}});return{targetValue:r,errors:n}}function fbe(e){const t=["_id","_createdAt","_updatedAt","_rev","_weak"];return Object.keys(e).reduce((n,r)=>t.includes(r)?n:{...n,[r]:e[r]},{})}const bir=({children:e})=>{const t=Nr(),n=$s(),r=un(),{t:i}=Q("copy-paste"),o=on(en),[a,s]=p.useState(null),l=p.useCallback(({documentId:h,documentType:m,schemaType:g,onChange:y})=>{const x={documentId:Cn(h),documentType:m,schemaType:g,onChange:y};s(b=>Dt(b,x)?b:x)},[]),u=p.useCallback(async(h,m,g)=>{var O,M;if(!a)return;const{documentId:y,documentType:x,schemaType:b}=a,v=GS(b,h,m);if(!v){t.push({status:"error",title:i("copy-paste.on-copy.validation.schema-type-incompatible.title",{path:rn(h)})});return}const w=((O=v.type)==null?void 0:O.name)==="document",C=Oo(m,h);if(xd(C)){t.push({status:"warning",title:i("copy-paste.on-copy.validation.no-value.title")});return}const k=h.length>0?YY(h):void 0,S=k&&(Cr(k)||rl(k)),E=g.context.source==="arrayItem"||S||g.patchType==="append",_=E&&S?h.slice(0,-1):h,T=E?"append":"replace",A=S&&!Array.isArray(C),I=g.context.source==="arrayItem",j={type:"sanityClipboardItem",documentId:y,documentType:x,isDocument:w,schemaTypeName:v.name,valuePath:_,value:A?[C]:C,patchType:T};if(n.log(rir,{context:((M=g==null?void 0:g.context)==null?void 0:M.source)||"unknown",schemaTypes:[v.jsonType]}),!await sir(j)){t.push({status:"error",title:i("copy-paste.on-copy.validation.clipboard-not-supported.title")});return}const $=v.title||b.name||"unknown",D=I?i("copy-paste.on-copy.validation.copy-item_one-success.title",{typeName:$}):i("copy-paste.on-copy.validation.copy-field_one-success.title",{fieldName:$});t.push({status:"success",title:w?i("copy-paste.on-copy.validation.copy-document-success.title",{fieldNames:$}):D})},[a,n,t,i]),d=p.useCallback(async(h,m,g)=>{var T,A;if(!a)return;const{schemaType:y,onChange:x}=a,b=GS(y,h,m),v=await air();if(!v){t.push({status:"info",title:i("copy-paste.on-paste.validation.clipboard-empty.title")});return}if(!v.documentType){t.push({status:"error",title:i("copy-paste.on-paste.validation.clipboard-invalid.title")});return}const w=r.get(v.documentType);if(!w){t.push({status:"error",title:i("copy-paste.on-paste.validation.clipboard-invalid.title")});return}const C=[],k=[],S=GS(w,v.valuePath,m);if(!S){t.push({status:"error",title:i("copy-paste.on-paste.validation.schema-type-incompatible.title",{path:rn(v.valuePath)})});return}if(!y){t.push({status:"error",title:i("copy-paste.on-paste.validation.schema-type-incompatible.title",{path:rn(h)})});return}const E=b.title||b.name,_={sourceRootSchemaType:S,sourcePath:[],sourceRootPath:v.valuePath,sourceValue:v.value,targetRootSchemaType:b,targetPath:[],targetRootPath:h,targetRootValue:m,options:{validateAssets:!0,validateReferences:!0,client:o}};k.push(S.jsonType);try{const{targetValue:I,errors:j}=await vir(_),$=j.filter(U=>U.level!=="warning"),D=xd(I);if($.length>0){const U=i($[0].i18n.key,$[0].i18n.args);t.push({status:"error",title:i("copy-paste.on-paste.validation.clipboard-invalid.title"),description:U});return}if(j.length>0&&!D){const U=j.map(H=>i(H.i18n.key,H.i18n.args)).join(", ");t.push({status:"warning",title:i("copy-paste.on-paste.validation.partial-warning.title"),description:U})}if(D){t.push({status:"warning",title:i("copy-paste.on-paste.validation.clipboard-empty.title")});return}const O=(v==null?void 0:v.patchType)||"replace",M=v.schemaTypeName!=="array"&&b.jsonType==="array"||O==="append",P=M&&h.length>0&&b.jsonType==="array",F=M&&h.length>0?[...h.slice(0,-1),`${(T=h.slice(-1))==null?void 0:T[0]}[-1]`]:h,L=b.jsonType==="array"?[bs([],h)]:[];C.push({patches:P?[...L,lh(I,"after",F)]:[...L,gt(I,h)],targetSchemaTypeTitle:E})}catch(I){t.push({status:"error",title:I.message});return}if(n.log(iir,{context:((A=g==null?void 0:g.context)==null?void 0:A.source)||"unknown",schemaTypes:k}),C.length){const I=jr(C.map(({patches:$})=>$)),j=C.map($=>$.targetSchemaTypeTitle).join('", "');if(x(Ft.from(I)),v.isDocument){t.push({status:"success",title:i("copy-paste.on-paste.validation.document-paste-success.title",{fieldNames:j})});return}C.length===1&&t.push({status:"success",title:i("copy-paste.on-paste.validation.field_one-paste-success.title",{fieldName:j})})}},[a,r,n,t,o,i]),f=p.useMemo(()=>({setDocumentMeta:l,onCopy:u,onPaste:d}),[u,d,l]);return c.jsx(Nxe.Provider,{value:f,children:e})},pC=()=>{const e=p.useContext(Nxe);if(!e)throw new Error("useCopyPaste must be used within a CopyPasteProvider");return e},hbe=12,xir=4;function wir(e){const t=encodeURIComponent(e);return`url("data:image/svg+xml,${`%3Csvg width='9' height='9' viewBox='0 0 9 9' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 8L8 1' stroke='${t}' stroke-linecap='round'/%3E%3Cpath d='M5 8L8 5' stroke='${t}' stroke-linecap='round'/%3E%3C/svg%3E%0A`}")`}const Cir=AKe(e=>{const{color:t,font:n}=$e(e.theme);return he`
    ::-webkit-resizer {
      background-image: ${wir(t.icon)};
      background-repeat: no-repeat;
      background-position: bottom right;
    }

    ::-webkit-scrollbar {
      width: ${hbe}px;
      height: ${hbe}px;
    }

    ::-webkit-scrollbar-corner {
      background-color: transparent;
    }

    ::-webkit-scrollbar-thumb {
      background-clip: content-box;
      background-color: var(--card-border-color, ${t.border});
      border: ${xir}px solid transparent;
    }

    ::-webkit-scrollbar-thumb:hover {
      background-color: var(--card-muted-fg-color, ${t.muted.fg});
    }

    ::-webkit-scrollbar-track {
      background: transparent;
    }

    *::selection {
      background-color: ${lO(t.focusRing,.3)};
    }

    html {
      background-color: ${t.bg};
    }

    body {
      scrollbar-gutter: stable;
    }

    #sanity {
      font-family: ${n.text.family};
    }

    b {
      font-weight: ${n.text.weights.medium};
    }

    strong {
      font-weight: ${n.text.weights.medium};
    }
  `}),pbe=D8e.__sanityErrorChannel;function kir(){const{push:e}=Nr();return p.useEffect(()=>{if(pbe)return pbe.subscribe(t=>{t.error&&(Sir(t.error)||(console.error(t.error),e({id:t.error.message,closable:!0,description:t.error.message,duration:5e3,title:"Uncaught error",status:"error"})))})},[e]),null}function Sir(e){return e instanceof C4||e instanceof OR||e instanceof kc}function Eir({children:e,AuthenticateComponent:t=FBe,LoadingComponent:n=Dn,NotAuthenticatedComponent:r=mee}){const[i,o]=p.useState(null);if(i)throw i;const[a,s]=p.useState("loading"),[l,u]=p.useState(),{activeWorkspace:d}=Og();return p.useEffect(()=>{var f,h;(h=(f=d.auth).handleCallbackUrl)==null||h.call(f).catch(o)},[d.auth]),p.useEffect(()=>{const f=d.auth.state.subscribe({next:({authenticated:h,currentUser:m})=>{var g;if(((g=m==null?void 0:m.roles)==null?void 0:g.length)===0){s("unauthorized"),m!=null&&m.provider&&u(m.provider);return}s(h?"logged-in":"logged-out")},error:o});return()=>{f.unsubscribe()}},[d]),a==="loading"?c.jsx(n,{}):a==="unauthorized"?!l||l==="sanity"?c.jsx(r,{}):c.jsx(Cnr,{}):a==="logged-out"?c.jsx(t,{}):c.jsx(c.Fragment,{children:e})}const _ir={toast:[100,11e3]},Tir={apiVersion:"2023-12-18"};function Air(e){const{errorReporter:t}=e,n=on(Tir);return p.useEffect(()=>{const r=n.observable.request({uri:"/intake/telemetry-status",tag:"telemetry-consent.error-reporting"}).subscribe({next:i=>{(i==null?void 0:i.status)==="granted"?t.enable():t.disable()},error:i=>{console.error("Error fetching telemetry status",i)}});return()=>r.unsubscribe()},[n,t]),null}const jir="v1",Iir="https://sanity-cdn.com",$ir=`${Iir}/${jir}/modules/`,Dir=async(e,t)=>{try{const n=`t${Math.floor(Date.now()/1e3)}`;return(await fetch(`${$ir}${e}/default/^${t}/${n}`,{headers:{accept:"application/json"}})).json().then(r=>r.packageVersion)}catch(n){console.error("Failed to fetch latest version for package",e,"Error:",n);return}},Oir=async e=>{const t=await Promise.all(Object.entries(e).map(async([n,r])=>[n,await Dir(n,r)]));return Object.fromEntries(t)},Mir=1e3*30,Pir=1e3*60*30,j9={sanity:pc};function Rir({children:e}){const t=Nr(),{t:n}=Q(),r=p.useRef(null),i=hee(),o=p.useCallback(()=>{const a=()=>{window.location.reload()};t.push({id:"new-package-available",title:n("package-version.new-package-available.title"),description:c.jsx(ae,{space:2,paddingBottom:2,children:c.jsx(V,{children:c.jsx(ge,{size:"large","aria-label":n("package-version.new-package-available.reload-button"),onClick:a,text:n("package-version.new-package-available.reload-button"),tone:"primary"})})}),closable:!0,status:"info",duration:1e3*60*60*24*24})},[t,n]);return p.useEffect(()=>{if(!i)return;const a=()=>{r.current&&r.current+Pir>Date.now()||Oir(j9).then(l=>{r.current=Date.now(),l&&Object.entries(l).some(([u,d])=>!d||!j9[u]?!1:kdn.gt(d,j9[u]))&&o()})};a();const s=setInterval(a,Mir);return()=>clearInterval(s)},[i,o]),c.jsx(c.Fragment,{children:e})}const Fir=Ann();function Lir(e){const t=on({apiVersion:"v2023-12-18"}),n=t.config().projectId,r=p.useMemo(()=>Mnn(Fir,{flushInterval:3e4,resolveConsent:()=>t.request({uri:"/intake/telemetry-status",tag:"telemetry-consent.studio"}),sendEvents:i=>t.request({uri:"/intake/batch",method:"POST",json:!0,body:{projectId:n,batch:i}}),sendBeacon:i=>navigator.sendBeacon(t.getUrl("/intake/batch"),JSON.stringify({projectId:n,batch:i}))}),[t,n]);return p.useEffect(()=>{r.logger.updateUserProperties({userAgent:navigator.userAgent,screen:{density:window.devicePixelRatio,height:window.screen.height,width:window.screen.width,innerHeight:window.innerHeight,innerWidth:window.innerWidth},studioVersion:pc,plugins:zw(e.config).flatMap(i=>{var o;return((o=i.plugins)==null?void 0:o.flatMap(a=>({name:a.name||"<unnamed>"})))||[]})})},[e.config,r.logger]),c.jsx(Edn,{store:r,children:e.children})}ly.fonts.code.family,ly.fonts.text.family,vj.hex,Md.hex,vk[500].hex,Md.hex,vj.hex,qk[500].hex,qk[500].hex,qk[500].hex,X1[500].hex,vk[500].hex,Z9[500].hex,UI[500].hex,vk[500].hex,vk[500].hex,Z9[500].hex,UI[500].hex,X1[500].hex,vj.hex,Md.hex;const aj=zwe(),Nir=e=>e.__themer===!0;function mbe(e){return{...aj,v2:e.v2,fonts:Nir(e)?aj.fonts:e.fonts??aj.fonts,color:e.color??aj.color}}function Bir({children:e}){const t=Og().activeWorkspace.theme;if(t.__legacy){const n=t.__dark?"dark":"light";return c.jsx(oO.Provider,{value:!1,children:c.jsx(aO.Provider,{value:n,children:c.jsx(k2,{scheme:n,theme:mbe(t),children:c.jsx(Pl,{children:e})})})})}return c.jsx(k2,{theme:mbe(t),children:c.jsx(Pl,{children:e})})}R(W)``;R(V).attrs({padding:4})``;function Vir(e){const{basePath:t="/",tools:n}=e,r=aa.create("/:tool",i=>{let o=n.find(a=>a.name===i.tool);return!o&&i.tool==="desk"&&(o=n.find(a=>a.name==="structure")),o?aa.scope(o.name,"/",o.router):aa.create("/")});return aa.create(t,[aa.intents("/intent"),r])}function yee(e){const t={}.toolSwitcher||{},n=t.order||[],r=t.hidden||[];if(!n.length&&!r.length)return e;const i=e.reduce((s,l)=>{const u=l.title||"<unknown>";if(!l.name)return console.warn(`Tool "${u}" does not have the required "name" property`),s;if(s[l.name]){const f=s[l.name].tool.title;return console.warn(`Tools with duplicate name "${l.name}" found ("${u}" and "${f}")`),s}const d=n.indexOf(l.name);return s[l.name]={tool:l,index:d===-1?1/0:d},s},{}),o=s=>r.indexOf(s.name)===-1,a=e.filter(o);return a.sort((s,l)=>{const u=i[s.name],d=i[l.name],f=u?u.index:1/0,h=d?d.index:1/0;return f===h?0:f-h}),a}const zir=["template"],Uir=["mode"];function Hir(e,t){const n=yee(e)[0];return!t||t.tool||!n?t:Object.assign({},t,{tool:n.name})}function Wir(e,t){return t&&(yee(e).find(n=>n.name===t.space)?{...t,tool:t.space,space:void 0}:t)}function Gir(e,t){return Hir(e,Wir(e,t))}function Kir(e,t,n){var h;const{intent:r,params:i,payload:o}=n;if(typeof r!="string")throw new Error("intent must be a string");if(!Tt(i))throw new Error("intent params must be a string");const a=yee(e),s=t!=null&&t.tool?a.find(m=>m.name===t.tool):null,l=s?a.filter(m=>m!==s):a;let u=[];r==="create"?u=zir:r==="edit"&&(u=Uir);const d={score:-1,tool:null},{tool:f}=(s?[s,...l]:a).reduce((m,g)=>{if(!g||typeof g.canHandleIntent!="function")return m;const y=g.canHandleIntent(r,i,t&&t[g.name]);if(typeof y=="boolean")return y&&m.score<0?{score:0,tool:g}:m;if(!Tt(y))return m;const x=u.reduce((b,v)=>v in i&&y[v]===!0?b+1:b,0);return x>m.score?{score:x,tool:g}:m},d);if(f!=null&&f.getIntentState){const m=f.getIntentState(r,i,t&&t[f.name],o),{_searchParams:g,...y}=m,x={...t,_searchParams:n._searchParams,tool:f.name,[f.name]:y};return(h=f.router)!=null&&h.__unsafe_disableScopedSearchParams?x._searchParams=g:y._searchParams=g,{type:"state",isNotFound:!1,state:x}}return{type:"intent",isNotFound:!0,intent:{name:r,params:i}}}function Yir(e,t){return{type:"state",state:e.decode(t)||{},isNotFound:e.isNotFound(t)}}function qir({children:e,LoadingComponent:t,workspace:n}){const{basePath:r,tools:i}=n,o=qQn(),a=p.useMemo(()=>Vir({basePath:r,tools:i}),[r,i]),[s,l]=Zir(o,a,i);return s?c.jsx(Rhn,{onNavigate:l,router:a,state:s,children:e}):c.jsx(t,{})}function Zir(e,t,n){const r=p.useMemo(()=>{const s=t.getBasePath(),l=new RegExp(`^${UX(s)}(\\/|$)`,"i"),u=d=>s==="/"?!0:l.test(d);return{subscribe:d=>e.listen(d),getSnapshot:()=>`${e.location.pathname}${e.location.search||""}`,getServerSnapshot:()=>null,selector:d=>typeof d=="string"&&u(d)?Yir(t,d):null}},[e,t]),i=zX.useSyncExternalStoreWithSelector(r.subscribe,r.getSnapshot,r.getServerSnapshot,r.selector,Dt),o=p.useRef(i);p.useEffect(()=>{var s;if((i==null?void 0:i.type)==="state"&&!((s=i.state)!=null&&s.intent)){const l=Gir(n,i.state);l&&l!==i.state&&e.replace(t.encode(l))}},[i==null?void 0:i.state,i==null?void 0:i.type,e,t,n]),p.useEffect(()=>{const s=gbe(i,t,n,o);s?e.replace(s):o.current=i},[i,e,t,n]);const a=p.useMemo(()=>({path:s,replace:l})=>{const u=r.selector(s),d=gbe(u,t,n,o),f=typeof d=="string"?d:s;l?e.replace(f):e.push(f)},[e,t,r,n]);return[(i==null?void 0:i.state)??null,a]}function gbe(e,t,n,r){var i,o;if((e==null?void 0:e.type)==="state"&&((i=e.state)!=null&&i.intent)){const a=Kir(n,((o=r.current)==null?void 0:o.type)==="state"?r.current.state:{},e.state);if((a==null?void 0:a.type)==="state")return t.encode(a.state)}return null}function JBe(e){const[t,n]=p.useState(null);if(t)throw t;const[r,i]=p.useState(null);return p.useEffect(()=>{const o=mo(e.__internal.sources.map(({source:a})=>a.pipe(En(s=>{if(s instanceof kc)return Se(s);throw s})))).pipe(fe(a=>{const s=a.filter(l=>l instanceof kc);if(s.length)throw new kc({name:e.name,causes:s,type:"workspace"});return a}),fe(([a,...s])=>({...e,...a,unstable_sources:[a,...s],type:"workspace"}))).subscribe({next:i,error:n});return()=>o.unsubscribe()},[e]),r}function Xir({children:e,LoadingComponent:t}){const{activeWorkspace:n}=Og(),r=JBe(n);return r?c.jsx(KFe,{workspace:r,children:c.jsx(u4,{source:r.unstable_sources[0],children:c.jsx(qir,{LoadingComponent:t,workspace:r,children:e})})}):c.jsx(t,{})}function QBe({ConfigErrorsComponent:e,...t}){const[{error:n},r]=p.useState({error:null});if(n)throw n;return c.jsx(aw,{onCatch:r,children:c.jsx(Xir,{...t})})}a_.registerLanguage(Zyn);a_.registerLanguage(iyn);a_.registerLanguage(Jyn);a_.registerLanguage(e0n);a_.registerLanguage(n0n);function Jir({children:e,config:t,basePath:n,onSchemeChange:r,scheme:i,unstable_history:o,unstable_noAuthBoundary:a}){nH.initialize();const s=p.useMemo(()=>c.jsx(QBe,{LoadingComponent:Dn,ConfigErrorsComponent:vnr,children:c.jsx(Lir,{config:t,children:c.jsx(N_n,{children:c.jsxs(Rir,{children:[c.jsx(Air,{errorReporter:nH}),c.jsx(r7e,{children:e})]})})})}),[e,t]);return c.jsx(oer,{onSchemeChange:r,scheme:i,children:c.jsxs(uEe,{paddingY:7,zOffset:_ir.toast,children:[c.jsx(kir,{}),c.jsx(NBe,{children:c.jsx(KQn,{config:t,basePath:n,LoadingComponent:Dn,children:c.jsx(rer,{unstable_history:o,NotFoundComponent:wnr,LoadingComponent:Dn,children:c.jsx(Bir,{children:c.jsx(STn,{children:a?s:c.jsx(Eir,{LoadingComponent:Dn,AuthenticateComponent:FBe,NotAuthenticatedComponent:mee,children:s})})})})})})]})})}function ybe(e){const{basePath:t,config:n,onSchemeChange:r,scheme:i,unstable_globalStyles:o,unstable_history:a,unstable_noAuthBoundary:s}=e;return c.jsxs(Jir,{basePath:t,config:n,onSchemeChange:r,scheme:i,unstable_history:a,unstable_noAuthBoundary:s,children:[o&&c.jsx(Cir,{}),c.jsx($nr,{})]})}function Qir(e,t,n=!1){if(!e)throw new Error("Missing root element to mount application into");const r=typeof n=="boolean"?{reactStrictMode:n}:n,{reactStrictMode:i=!1,basePath:o}=r,a=T8e(e);return a.render(i?c.jsx(p.StrictMode,{children:c.jsx(ybe,{config:t,basePath:o,unstable_globalStyles:!0})}):c.jsx(ybe,{config:t,basePath:o,unstable_globalStyles:!0})),()=>a.unmount()}function on(e){const t=er();return e?t.getClient(e):(console.warn('Calling `useClient()` without specifying an API version is deprecated and will stop working in the next dev-preview release - please migrate to use `useClient({apiVersion: "2021-06-07"})`.'),t.getClient({apiVersion:"2021-06-07"}))}const vbe="connecting";function eVe(e,t){const n=ql(),r=p.useMemo(()=>n.pair.documentEvents(e,t).pipe(fe(i=>i.type),fe(i=>i!=="reconnect"),At(i=>i?Se("connected"):ni(200).pipe(MM("reconnecting"))),yo(vbe),Ar()),[t,n.pair,e]);return bi(r,vbe)}function tVe(){return er().dataset}function Qc(e,t){const n=ql(),r=p.useMemo(()=>n.pair.editOperations(e,t),[t,n.pair,e]);return bi(r)}function nVe(e,t){const n=ql(),r=p.useMemo(()=>n.pair.operationEvents(e,t),[t,n.pair,e]);return bi(r)}function S4(e,t,n="default"){const r=ql(),i=p.useMemo(()=>{if(n==="low"){const o=r.pair.editState(e,t).pipe(ts());return Un(o.pipe(sa(1)),o.pipe(dAe(1),GK(()=>ni(1e3))))}return r.pair.editState(e,t)},[t,r.pair,n,e]);return bi(i)}const aH=[],bbe={enabled:!0,error:null,features:aH,isLoading:!0};function eor({versionedClient:e}){return e.observable.request({uri:"/features",tag:"features"})}const I9=new Map;function M_(e){const t=on(en),{projectId:n}=er();if(!I9.get(n)){const i=eor({versionedClient:t}).pipe(go());I9.set(n,i)}const r=p.useMemo(()=>(I9.get(n)||Se(aH)).pipe(fe((i=[])=>({isLoading:!1,enabled:!!(i!=null&&i.includes(e)),features:i,error:null})),yo(bbe),En(i=>Se({isLoading:!1,enabled:!1,features:aH,error:i}))),[e,n]);return bi(r,bbe)}const tor=Jy("mod+c"),nor=Jy("mod+v");function ror({value:e,element:t,focusPath:n}){const r=p.useRef(n||[]),i=p.useRef(e);i.current=e,p.useEffect(()=>{r.current=n||[]},[n]);const{onCopy:o,onPaste:a}=pC(),s=p.useCallback(l=>{const u=l.target;if(tor(l)){if(ube(u)||fir()||dbe(r.current))return;l.preventDefault(),l.stopPropagation(),o(r.current,i.current,{context:{source:"keyboardShortcut"}})}if(nor(l)){if(ube(u)||dbe(r.current)||mDn(u))return;l.stopPropagation(),l.preventDefault(),a(r.current,i.current,{context:{source:"keyboardShortcut"}})}},[o,a]);p.useEffect(()=>(t==null||t.addEventListener("keydown",s),()=>{t==null||t.removeEventListener("keydown",s)}),[t,s,a])}const xbe=1e3*5,ior=1e3*20,rVe=1e3*60,wbe=rVe*60,iVe={month:"short",day:"numeric"},oVe={...iVe,year:"numeric"},oor={...oVe,hour:"numeric",minute:"numeric"};function Oy(e,t={}){const n=aor(e,t),[,r]=p.useReducer(i=>i+1,0);return p.useEffect(()=>{let i;function o(a){i=window.setTimeout(()=>{r(),i=window.setTimeout(()=>o(a),a)},a)}return n.refreshInterval!==null&&o(n.refreshInterval),()=>{i!==null&&clearTimeout(i)}},[r,n.refreshInterval]),n.timestamp}function aor(e,t={}){const{t:n}=Q(),r=jg().id,{timeZone:i,minimal:o}=t,a=e instanceof Date?e:new Date(e),s=!!t.useTemporalPhrase,l=p.useCallback(function(b,v){const w=v==="day"&&Math.abs(b)===1,C=v==="week"&&Math.abs(b)===1;return s||w?Xf.relativeTimeFormat(r,{style:o&&!C?"short":"long",numeric:"auto"}).format(b,v):Xf.numberFormat(r,{style:"unit",unit:v,unitDisplay:o?"short":"long"}).format(Math.abs(b))},[r,s,o]);if(!a.getTime())return{timestamp:"",refreshInterval:null};const u=t.relativeTo||Date.now(),d=q3e(u,a),f=S6t(u,a);if(d||f)return t.minimal&&f===0?{timestamp:Xf.dateTimeFormat(r,{...iVe,timeZone:i}).format(a),refreshInterval:null}:t.minimal?{timestamp:Xf.dateTimeFormat(r,{...oVe,timeZone:i}).format(a),refreshInterval:null}:{timestamp:Xf.dateTimeFormat(r,{...oor,timeZone:i}).format(a),refreshInterval:null};const h=k6t(a,u);if(h)return{timestamp:l(h,"week"),refreshInterval:wbe};const m=Y3e(a,u);if(m)return{timestamp:l(m,"day"),refreshInterval:wbe};const g=b6t(a,u);if(g)return{timestamp:l(g,"hour"),refreshInterval:rVe};const y=x6t(a,u);if(y)return{timestamp:l(y,"minute"),refreshInterval:ior};const x=Z3e(a,u);return Math.abs(x)>10?{timestamp:l(x,"second"),refreshInterval:xbe}:{timestamp:n("relative-time.just-now"),refreshInterval:xbe}}const sor={isSyncing:!0},Cbe={isSyncing:!1};function aVe(e,t){const n=ql(),r=p.useMemo(()=>n.pair.consistencyStatus(e,t).pipe(fe(i=>i?Cbe:sor)),[n.pair,t,e]);return bi(r,Cbe)}function mC(){return er().templates}function lor(){return er().tools}const kbe={data:[],error:null,loading:!0};let Sbe=null;function sVe(e){const{documentValue:t,permission:n}=e,r=qNn(),i=SQ(),o=on(en),[a,s]=p.useState(kbe),l=p.useMemo(()=>{const u=r.get().pipe(fe(h=>{var m;return(m=h.members)==null?void 0:m.filter(g=>!g.isRobot)})).pipe(At(async h=>{const m=h.map(({id:g})=>g);return await i.getUsers(m)}),fe(h=>h.map(m=>({displayName:m.displayName,id:m.id,granted:!1})))),d=Sbe,f=d?Se(d):o.observable.fetch('*[_type == "system.group"]');return Xbt([u,f]).pipe(Ot(async([h,m])=>{d||(Sbe=m);const g=h==null?void 0:h.map(async y=>{const x=[...m.map(v=>v.members.includes(y.id)?v.grants:[])].flat(),{granted:b}=await J9e(y.id,x,n,t);return{...y,granted:b}});return await Promise.all(g||[])})).pipe(fe(h=>({error:null,loading:!1,data:yg(h,"displayName")})))},[o.observable,t,r,i,n]);return p.useEffect(()=>{const u=Se(kbe),d=Di(u,l).subscribe({next:s,error:f=>{s({data:[],error:f,loading:!1})}});return()=>{d.unsubscribe()}},[l]),a}const $9=R(B)`
  white-space: nowrap;
`;function Vx({absoluteDate:e,draft:t,published:n,singleLine:r}){const{t:i}=Q(),o=t&&"_updatedAt"in t?t._updatedAt:"",a=n&&"_updatedAt"in n?n._updatedAt:"",s=$c({dateStyle:"medium",timeStyle:"short"}),l=o&&s.format(new Date(o)),u=a&&s.format(new Date(a)),d=Oy(o||"",{minimal:!0,useTemporalPhrase:!0}),f=Oy(a||"",{minimal:!0,useTemporalPhrase:!0}),h=e?u:f,m=e?l:d;return c.jsxs(W,{align:r?"center":"flex-start","data-testid":"pane-footer-document-status",direction:r?"row":"column",gap:2,wrap:"nowrap",children:[!h&&c.jsx($9,{size:1,weight:"medium",children:i("document-status.not-published")}),h&&c.jsx($9,{size:1,weight:"medium",children:i("document-status.published",{date:h})}),m&&c.jsx($9,{muted:!0,size:1,wrap:"nowrap",children:i("document-status.edited",{date:m})})]})}const Ebe=new WeakMap;let cor=0;function lVe(e){const t=Ebe.get(e);if(t)return t;const n=`${e.name||e.displayName||"<anonymous>"}-${cor++}`;return Ebe.set(e,n),n}function uor({hook:e,id:t}){const n=({args:i,handleNext:o,handleReset:a})=>{const s=e({...i,onComplete:()=>{a(t)}});return p.useEffect(()=>(o(t,s),()=>{o(t,null)}),[o,s]),null},{displayName:r="HookState"}=e;return n.displayName=r,p.memo(n,(i,o)=>i.args===o.args)}const cVe=p.memo(({hooks:e,keys:t,args:n,handleNext:r,handleReset:i})=>{const o=p.useMemo(()=>e.map(a=>{const s=lVe(a),l=t[s]||0;return[uor({hook:a,id:s}),`${s}-${l}`]}),[e,t]);return c.jsx(c.Fragment,{children:o.map(([a,s])=>c.jsx(a,{args:n,handleNext:r,handleReset:i},s))})});cVe.displayName="Memo(HookCollectionState)";function dor(e){const[t,n]=p.useState({}),r=p.useCallback(i=>{n(o=>({...o,[i]:(o[i]||0)+1})),e==null||e()},[e]);return{keys:t,handleReset:r}}const hor=e=>{const t=Date.now();return setTimeout(()=>{e({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-t)}})},1)},por=e=>clearTimeout(e),mor=typeof requestIdleCallback>"u"?hor:requestIdleCallback,gor=typeof cancelIdleCallback>"u"?por:cancelIdleCallback,yor={trailing:!0};function _be(e,{hooks:t}){return t.map(n=>{const r=lVe(n);return e.get(r)}).filter(Ro)}function vor({hooks:e,group:t}){const[n]=p.useState(()=>new Map),[r,i]=p.useState(()=>_be(n,{hooks:e})),o=p.useRef(0),a=p.useCallback(()=>{gor(o.current),o.current=mor(()=>{i(_be(n,{hooks:e}))})},[e,n]),s=OEn(a,60,yor),l=p.useCallback((u,d)=>{let f=!0;const h=(d==null?void 0:d.group)||["default"];if(d===null||t&&!h.includes(t))n.delete(u);else{if(n.has(u)){const m=n.get(u);f=!Z1(m,d)}n.set(u,d)}f&&s()},[t,s,n]);return{states:r,handleNext:l}}const uVe=p.memo(e=>{const{hooks:t,args:n,children:r,group:i,onReset:o}=e,{handleReset:a,keys:s}=dor(o),{states:l,handleNext:u}=vor({hooks:t,group:i}),d=p.useMemo(()=>r({states:l}),[r,l]);return c.jsxs(c.Fragment,{children:[c.jsx(cVe,{hooks:t,keys:s,args:n,handleNext:u,handleReset:a}),d]})});uVe.displayName="Memo(GetHookCollectionState)";const dVe=uVe,bor=R(Ii)(e=>{const{theme:t}=e,{container:n,media:r}=t.sanity;return Ut(r,e.$width,i=>({width:i==="auto"?"none":Te(n[i]),maxWidth:"100%"}))}),xor=p.forwardRef(function(e,t){const{width:n,...r}=e,i=De(n);return c.jsx(bor,{...r,"data-ui":"PopoverContainer",$width:i,ref:t})}),wor=R(Fn)(()=>he`
    // Make the popover scrollable if it overflows the viewport
    [data-ui='Popover__wrapper'] {
      overflow: auto;
    }
  `),Cor=R(al)(e=>{const t=e.theme.sanity.radius[3];return he`
    position: sticky;
    top: 0;
    width: 100%;
    background: var(--card-bg-color);
    border-bottom: 1px solid var(--card-border-color);
    border-top-left-radius: ${t}px;
    border-top-right-radius: ${t}px;
  `});function kor(e){const{children:t,header:n,onClose:r,referenceElement:i,containerRef:o,width:a}=e,s=p.useCallback(()=>{r(),i==null||i.focus()},[r,i]);return c.jsx(wor,{portal:!0,constrainSize:!0,content:c.jsx(xor,{width:a,children:c.jsx(Ku,{autoFocus:!0,children:c.jsxs(ae,{ref:o,children:[c.jsx(Cor,{children:c.jsx(V,{padding:2,paddingLeft:4,children:c.jsxs(W,{align:"center",gap:2,children:[c.jsx(V,{flex:1,children:c.jsx(B,{size:1,textOverflow:"ellipsis",weight:"medium",children:n})}),c.jsx(ge,{icon:eo,mode:"bleed",onClick:s,tooltipProps:{content:"Close"}})]})})}),c.jsx(V,{padding:4,children:t})]})})}),open:!0,referenceElement:i})}const Sor=R(le)(()=>he`
    /* TextWithTone uses its own logic to set color, and we therefore need */
    /* to override this logic in order to set the correct color in different states */
    &[data-selected],
    &[data-pressed],
    &:active {
      [data-ui='TextWithTone'] {
        color: inherit;
      }
    }
  `),Y1=p.forwardRef(function(e,t){const{children:n,selected:r,as:i,...o}=e,a=p.useMemo(()=>({selected:r}),[r]);return c.jsx(Sor,{"data-ui":"PreviewCard",...o,forwardedAs:i,ref:t,selected:r,children:c.jsx(KUe.Provider,{value:a,children:n})})}),Eor=R(Y1)`
  /* this is a hack to avoid layout jumps while previews are loading
there's probably better ways of solving this */
  min-height: 36px;
`,Jo={block:{icon:25,media:{width:33,height:33}},blockImage:{icon:25,media:{width:600,height:400}},compact:{icon:21,media:{width:25,height:25}},default:{icon:21,media:{width:33,height:33}},detail:{icon:25,media:{width:73,height:73}},inline:{icon:15,media:{width:15,height:15}},media:{icon:25,media:{width:160,height:160}}},fVe=R.span(e=>{const{$dimensions:t,$layout:n,$radius:r,$responsive:i}=e,o=t.width||0,a=t.width||0,s=Jo[n].icon;return he`
    position: relative;
    width: ${i?"100%":Te(o)};
    height: ${i?"100%":Te(a)};
    min-width: ${i?void 0:Te(o)};
    border-radius: ${({theme:l})=>Te(l.sanity.radius[r])};
    display: flex;
    overflow: hidden;
    overflow: clip;
    align-items: center;
    justify-content: center;

    & img {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: inherit;
    }

    & svg {
      // Shared styles for SVG icons
      color: var(--card-icon-color);
      display: block;
      flex: 1;

      // Specific styles for non Sanity icons
      &:not([data-sanity-icon]) {
        height: 1em;
        width: 1em;
        max-width: 1em;
        max-height: 1em;
      }

      // Specific styles for Sanity icons
      &[data-sanity-icon] {
        display: block;
        font-size: calc(${s} / 16 * 1em);
      }
    }

    & > span[data-border] {
      display: block;
      position: absolute;
      left: 0;
      top: 0;
      right: 0;
      bottom: 0;
      box-shadow: inset 0 0 0 1px var(--card-fg-color);
      opacity: 0.1;
      border-radius: inherit;
      pointer-events: none;
    }
  `});fVe.displayName="Styled(MediaWrapper)";function gC(e){const{border:t=!0,dimensions:n,layout:r,media:i,radius:o=1,responsive:a=!1,styles:s}=e;return c.jsxs(fVe,{$dimensions:n,$layout:r,$radius:o,$responsive:a,className:s==null?void 0:s.media,"data-testid":"Media",children:[_or({dimensions:n,layout:r,media:i}),t&&c.jsx("span",{"data-border":!0})]})}function _or(e){const{dimensions:t,layout:n,media:r,styles:i}=e;return Dh.isValidElementType(r)?p.createElement(r,{dimensions:t,layout:n}):typeof r=="string"?c.jsx(B,{as:"span",className:i==null?void 0:i.mediaString,size:1,children:r}):p.isValidElement(r)?r:null}function Tor(e,t,n){return Dh.isValidElementType(e)?p.createElement(e,{layout:t,dimensions:n}):typeof e=="string"?c.jsx("div",{children:e}):e}function jo(e,t,n){return typeof e=="string"?e:Dh.isValidElementType(e)?p.createElement(e,{layout:t}):e||n}const Aor={...Jo.compact.media,aspect:1,fit:"crop",dpr:Yd()},Tbe=R(W)`
  height: ${Te(Jo.compact.media.height)};
  box-sizing: content-box;
`,jor=R(wr).attrs({animated:!0,radius:1,size:1})`
  max-width: ${Te(160)};
  width: 80%;
`;function Ior(e){const{children:t,isPlaceholder:n,media:r,status:i,title:o}=e,{t:a}=Q(),s=i&&c.jsx(V,{"data-testid":"compact-preview__status",paddingLeft:4,paddingRight:1,children:jo(i,"compact")});return n?c.jsx(Tbe,{align:"center","data-testid":"default-preview",paddingLeft:r?1:2,paddingRight:2,paddingY:1,children:c.jsxs(W,{align:"center",flex:1,gap:2,children:[r&&c.jsx(rf,{animated:!0,radius:2,style:Jo.compact.media}),c.jsx(ae,{"data-testid":"compact-preview__heading",flex:1,space:2,children:c.jsx(jor,{})}),s]})}):c.jsxs(Tbe,{align:"center","data-testid":"compact-preview",paddingLeft:r?1:2,paddingRight:2,paddingY:1,children:[c.jsxs(W,{align:"center",flex:1,gap:2,children:[r&&c.jsx(gC,{border:!1,dimensions:Aor,layout:"compact",media:r}),c.jsx(ae,{"data-testid":"compact-preview__header",flex:1,space:2,children:c.jsxs(B,{size:1,style:{color:"inherit"},textOverflow:"ellipsis",weight:"medium",children:[o&&jo(o,"compact"),!o&&c.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:a("preview.default.title-fallback")})]})}),s]}),t&&c.jsx(V,{marginLeft:1,children:t})]})}const $or={...Jo.default.media,aspect:1,fit:"crop",dpr:Yd()},Abe=R(W)`
  height: ${Te(Jo.default.media.height)};
  box-sizing: content-box;
`,Dor=R(wr).attrs({animated:!0,radius:1,size:1})`
  max-width: ${Te(160)};
  width: 80%;
`,Oor=R(wr).attrs({animated:!0,radius:1,size:1})`
  max-width: ${Te(120)};
  width: 60%;
`;function hVe(e){const{title:t,subtitle:n,media:r,status:i,isPlaceholder:o,children:a,styles:s}=e,{t:l}=Q(),u=_Ct(s==null?void 0:s.root,!!n&&(s==null?void 0:s.hasSubtitle)),d=i&&c.jsx(V,{className:s==null?void 0:s.status,"data-testid":"default-preview__status",children:jo(i,"default")});return o?c.jsx(Abe,{align:"center",className:s==null?void 0:s.placeholder,"data-testid":"default-preview",padding:2,paddingLeft:r?2:3,children:c.jsxs(W,{align:"center",flex:1,gap:2,children:[r&&c.jsx(V,{flex:"none",children:c.jsx(rf,{animated:!0,radius:1,style:Jo.default.media})}),c.jsxs(ae,{"data-testid":"default-preview__heading",flex:1,space:2,children:[c.jsx(Dor,{}),c.jsx(Oor,{})]}),c.jsx(V,{flex:"none",padding:1,children:d})]})}):c.jsx(Abe,{align:"center",className:u,"data-testid":"default-preview",padding:2,paddingLeft:r?2:3,children:c.jsxs(W,{align:"center",flex:1,gap:2,children:[r&&c.jsx(V,{flex:"none",children:c.jsx(gC,{dimensions:$or,layout:"default",media:r,styles:s})}),c.jsxs(ae,{className:s==null?void 0:s.heading,"data-testid":"default-preview__header",flex:1,space:2,children:[c.jsxs(B,{className:s==null?void 0:s.title,size:1,style:{color:"inherit"},textOverflow:"ellipsis",weight:"medium",children:[t&&jo(t,"default"),!t&&c.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:l("preview.default.title-fallback")})]}),n&&c.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",className:s==null?void 0:s.subtitle,children:jo(n,"default")})]}),c.jsx(V,{flex:"none",padding:1,children:d}),a&&c.jsx("div",{className:s==null?void 0:s.children,children:a})]})})}const jbe=R(W).attrs({align:"center"})`
  height: ${Te(Jo.detail.media.height)};
`,Mor=R(V)`
  white-space: nowrap;
`,Por=R(rf).attrs({animated:!0,radius:2})`
  width: ${Te(Jo.detail.media.width)};
  height: ${Te(Jo.detail.media.height)};
`,Ror=R(wr).attrs({animated:!0,radius:1,size:1})`
  max-width: ${Te(160)}; /* 80% of 200px */
  width: 80%;
`,For=R(wr).attrs({animated:!0,radius:1,size:1})`
  max-width: ${Te(120)}; /* 60% of 200px */
  width: 60%;
`,Lor=R(wr).attrs({animated:!0,radius:1,size:1})`
  max-width: ${Te(180)}; /* 90% of 200px */
  width: 90%;
`,Nor=R(B)(({theme:e})=>{const{fonts:t}=e.sanity,n=t.text.sizes[1],r=2,i=n.lineHeight*r;return he`
    & > span {
      max-height: ${Te(i)};

      /* Multi-line text overflow */
      display: -webkit-box;
      overflow: hidden;
      overflow: clip;
      text-overflow: ellipsis;
      -webkit-line-clamp: ${r};
      -webkit-box-orient: vertical;
    }
  `}),Bor={...Jo.detail.media,fit:"crop",aspect:1,dpr:Yd()};function Vor(e){const{title:t,subtitle:n,description:r,mediaDimensions:i=Bor,media:o,status:a,children:s,isPlaceholder:l}=e,{t:u}=Q(),d=a&&c.jsx(Mor,{marginLeft:3,paddingRight:1,children:jo(a,"detail")});return l?c.jsx(jbe,{"data-testid":"detail-preview",paddingLeft:o?2:3,paddingRight:2,paddingY:2,children:c.jsxs(W,{align:"center",flex:1,gap:3,children:[o&&c.jsx(Por,{"data-testid":"detail-preview__media"}),c.jsx(W,{align:"center","data-testid":"detail-preview__header",flex:1,children:c.jsxs(ae,{flex:1,space:2,children:[c.jsx(Ror,{}),c.jsx(For,{}),r&&c.jsx(V,{marginTop:1,children:c.jsx(Lor,{})})]})}),d]})}):c.jsx(jbe,{"data-testid":"detail-preview",paddingLeft:o?2:3,paddingRight:2,paddingY:2,children:c.jsxs(W,{align:"center",flex:1,gap:3,children:[o&&c.jsx(gC,{dimensions:i,layout:"detail",media:o}),c.jsxs(W,{align:"center","data-testid":"detail-preview__header",flex:1,children:[c.jsxs(ae,{flex:1,space:2,children:[c.jsxs(B,{textOverflow:"ellipsis",size:1,style:{color:"inherit"},weight:"medium",children:[t&&jo(t,"detail"),!t&&c.jsx(c.Fragment,{children:u("preview.default.title-fallback")})]}),n&&c.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",children:jo(n,"detail")}),r&&c.jsx(V,{marginTop:1,children:c.jsx(Nor,{muted:!0,size:1,children:jo(r,"detail")})})]}),d]}),s]})})}const lu=43,vee=3,zor=R.svg`
  width: ${lu}px;
  height: ${lu}px;
  transform: rotate(-90deg);
`,Uor=R.circle(({theme:e})=>{const{color:t}=e.sanity;return he`
    fill: none;
    stroke: ${ln.gray[t.dark?900:100].hex};
    stroke-width: ${vee}px;
  `}),Hor=R.circle(({theme:e})=>{const{color:t}=e.sanity;return he`
    fill: none;
    stroke: ${ln.blue[t.dark?400:500].hex};
    stroke-width: ${vee}px;
    transition: stroke-dashoffset 75ms;
  `});function Wor(e){const{value:t}=e,n=Math.min(Math.max(t,0),100),r=lu/2-vee/2,i=2*Math.PI*r,o=(100-n)/100*i,a=`${lu/2} ${lu/2} ${lu} ${lu}`;return c.jsxs(zor,{viewBox:a,children:[c.jsx(Uor,{cx:lu,cy:lu,r}),c.jsx(Hor,{cx:lu,cy:lu,r,style:{strokeDasharray:i,strokeDashoffset:`${o}px`}})]})}const Gor=.5,Kor=R(le)`
  overflow: hidden;
  overflow: clip;
`,Yor=R(le)(({theme:e})=>{const{color:t}=e.sanity;return he`
    height: ${Gor}rem;
    background: ${ln.blue[t.dark?400:500].hex};
    transition: transform 75ms;
  `});function qor(e){const{value:t}=e;return c.jsx(Kor,{radius:5,children:c.jsx(Yor,{radius:5,style:{transform:`translate3d(${t-100}%, 0, 0)`}})})}const Zor=R(V)`
  position: relative;
`,Xor=R(W).attrs({align:"center",justify:"center"})`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
`,Jor=R(rf).attrs({animated:!0,radius:2})`
  width: 100%;
  height: 100%;
`,Qor=R(W).attrs({align:"center",justify:"center"})`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;

  &:before {
    background-color: var(--card-bg-color);
    opacity: 0.75;
    content: '';
    display: block;
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
  }

  > svg {
    position: relative;
    z-index: 2;
  }
`,ear=R(ae).attrs({space:2})`
  max-width: ${Te(200)};
`,tar={...Jo.media.media,aspect:1,fit:"crop",dpr:Yd()};function nar(e){const{media:t,mediaDimensions:n=tar,children:r,isPlaceholder:i,progress:o=-1,subtitle:a,title:s,withBorder:l=!0,withRadius:u=!0}=e,d=n.aspect||1,f=p.useMemo(()=>({paddingBottom:`${100/d}%`}),[d]),h=p.useMemo(()=>!s||!a?null:c.jsxs(ear,{children:[s&&c.jsx(B,{align:"center",size:1,weight:"medium",children:jo(s,"media")}),a&&c.jsx(B,{align:"center",muted:!0,size:1,children:jo(a,"media")})]}),[a,s]);return c.jsx(V,{padding:2,children:c.jsxs(Zor,{"data-testid":"media-preview",flex:1,overflow:"hidden",children:[c.jsx("div",{style:f}),c.jsx(Et,{content:h,disabled:!h,placement:"top",portal:!0,children:c.jsxs(Xor,{children:[i?c.jsx(Jor,{}):c.jsx(gC,{border:l,dimensions:n,layout:"media",media:t,radius:u?1:0,responsive:!0}),typeof o=="number"&&o>-1&&c.jsx(Qor,{children:c.jsx(Wor,{value:o})})]})}),r]})})}const rar=R(W).attrs({align:"center"})`
  height: ${Te(Jo.block.media.height)};
  white-space: nowrap;
  position: relative;
  z-index: 1;
`,iar=R(le)`
  overflow: hidden;
  position: relative;
  padding-bottom: ${({$ratio:e})=>e}%;

  & > span {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }
`,oar=R(V).attrs({overflow:"hidden"})`
  border-radius: ${({theme:e})=>e.sanity.radius[1]}px;
`,aar={...Jo.blockImage.media,fit:"fillmax",dpr:Yd()},sar=e=>{const{height:t,width:n}=e;return!t||!n?1:t/n*100};function lar(e){const{actions:t,title:n,subtitle:r,description:i,fallbackTitle:o="Untitled",mediaDimensions:a=aar,media:s,children:l,status:u}=e;return c.jsxs(oar,{children:[c.jsxs(ae,{children:[c.jsxs(rar,{paddingBottom:3,paddingLeft:2,paddingRight:1,paddingTop:1,children:[c.jsxs(ae,{flex:1,space:2,children:[(n||o)&&c.jsx(B,{size:1,textOverflow:"ellipsis",weight:"medium",children:n?jo(n,"block"):o}),r&&c.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",children:jo(r,"block")})]}),c.jsxs(W,{gap:1,paddingLeft:1,children:[u&&c.jsx(V,{paddingX:2,paddingY:3,children:jo(u,"block")}),t]})]}),c.jsx(iar,{$ratio:sar(a),__unstable_checkered:!0,display:"flex",sizing:"border",radius:2,tone:"inherit",children:c.jsx(gC,{border:!1,dimensions:a,layout:"blockImage",media:s,radius:0,responsive:!0})})]}),i&&c.jsx(V,{paddingX:2,paddingY:3,children:c.jsx(B,{muted:!0,size:1,children:jo(i,"block")})}),l&&c.jsx("div",{children:l})]})}const car={...Jo.block.media,aspect:1,fit:"crop",dpr:Yd()},uar=R(W).attrs({align:"center"})`
  min-height: ${Te(Jo.block.media.height)};
`;function dar(e){const{actions:t,title:n,subtitle:r,description:i,mediaDimensions:o=car,media:a,status:s,children:l}=e;return c.jsxs(ae,{"data-testid":"block-preview",space:1,children:[c.jsxs(uar,{"data-testid":"block-preview__header",children:[a&&c.jsx(gC,{dimensions:o,layout:"block",media:a}),c.jsxs(V,{flex:1,paddingLeft:a?2:1,children:[c.jsx(B,{size:1,textOverflow:"ellipsis",weight:"medium",children:n?jo(n,"block"):"Untitled"}),r&&c.jsx(V,{marginTop:2,children:c.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",children:jo(r,"block")})}),i&&c.jsx(V,{marginTop:3,children:c.jsx(B,{muted:!0,size:1,textOverflow:"ellipsis",children:jo(i,"block")})})]}),c.jsxs(W,{gap:1,paddingLeft:1,children:[s&&c.jsx(V,{paddingX:2,paddingY:3,children:jo(s,"block")}),t]})]}),l&&c.jsx("div",{"data-testid":"block-preview__children",children:l})]})}const far=R.span`
  display: inline-flex;
  align-items: center;
  vertical-align: top;
  height: calc(1em - 1px);
  max-width: 100%;
`,har=R.span`
  position: relative;
  display: inline-block;
  width: calc(1em - 1px);
  height: calc(1em - 1px);
  min-width: calc(1em - 1px);

  & img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: ${({theme:e})=>Te(e.sanity.radius[1])};
  }

  & img + span {
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-fg-color);
    opacity: 0.2;
    border-radius: ${({theme:e})=>Te(e.sanity.radius[1])};
  }

  & svg {
    display: block;
    font-size: calc(14 / 16 * 1em);
    margin: 1px 0;

    &[data-sanity-icon] {
      font-size: calc(18 / 16 * 1em);
      margin: calc(1px + (2 / 18 * -1em)) 0;
    }
  }
`,par=R(B).attrs({forwardedAs:"span"})(({theme:e})=>{const t=e.sanity.fonts.text,n=t.sizes[1];return he`
    font-size: calc(${n.fontSize} / 16 * 1em);
    font-weight: ${t.weights.medium};
    box-sizing: border-box;
    display: inline-block;
    vertical-align: top;
    line-height: ${n.lineHeight/n.fontSize};
    padding-left: 0.5em;
    padding-right: calc(0.5em - 2px);
    min-width: 0;

    & > span {
      display: block;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      overflow: clip;
    }
  `}),mar={...Jo.inline.media,fit:"crop",aspect:1,dpr:Yd()};function gar(e){const{title:t,fallbackTitle:n="Untitled",media:r,mediaDimensions:i=mar}=e;return c.jsxs(far,{"data-testid":"inline-preview",children:[r&&c.jsxs(har,{"data-testid":"inline-preview-media",children:[Tor(r,"inline",i),c.jsx("span",{})]}),c.jsx(par,{"data-testid":"inline-preview-title",size:1,children:jo(t,"inline",n)})]})}({...Jo.default.media,dpr:Yd()});R(V)`
  height: 100%;

  a {
    color: currentColor;
    text-decoration: none;
  }

  svg[data-sanity-icon] {
    margin: 0;
  }
`;R(W).attrs({align:"center"})`
  height: ${Te(Jo.default.media.height)};
`;R(wr).attrs({animated:!0,radius:1})`
  max-width: ${Te(160)};
  width: 80%;
`;R(wr).attrs({animated:!0,radius:1,size:1})`
  max-width: ${Te(120)};
  width: 60%;
`;const yar=["aria-hidden","disabled","href"],bar='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';function xar(e){return[...e.querySelectorAll(bar)].filter(t=>!t.hasAttribute("disabled")&&t.getAttribute("aria-hidden")!=="true")}function pVe(e){const{direction:t="horizontal",initialFocus:n,loop:r=!0,navigation:i=["arrows"],pause:o=!1,rootElement:a}=e,[s,l]=p.useState(-1),[u,d]=p.useState([]),f=u.length,h=f-1,m=t==="horizontal"?"ArrowRight":"ArrowDown",g=t==="horizontal"?"ArrowLeft":"ArrowUp",y=p.useCallback(()=>{if(a){const v=xar(a);d(v)}},[a]),x=p.useCallback(v=>{l(v)},[]),b=p.useCallback(v=>{if(o)return;const w=()=>{v.preventDefault(),l(k=>{const S=(k+h)%f;return!r&&S===h?k:S})},C=()=>{v.preventDefault(),l(k=>{const S=(k+1)%f;return!r&&S===0?k:S})};v.key==="Tab"&&i.includes("tab")&&(v.shiftKey?w():C()),i.includes("arrows")&&(v.key===g&&w(),v.key===m&&C())},[o,g,i,m,h,f,r]);p.useEffect(()=>{y()},[y,n,t]),p.useEffect(()=>{const v=new MutationObserver(y);return a&&v.observe(a,{childList:!0,subtree:!0,attributeFilter:yar}),()=>{v.disconnect()}},[u,y,a]),p.useEffect(()=>{var v;u.forEach((w,C)=>{C===s?(w.setAttribute("tabIndex","0"),w.setAttribute("aria-selected","true"),w.focus(),w.onfocus=()=>x(C),w.onblur=()=>x(-1)):(w.setAttribute("tabIndex","-1"),w.setAttribute("aria-selected","false"),w.onfocus=()=>x(C))}),s===-1&&u&&((v=u[n==="last"?h:0])==null||v.setAttribute("tabIndex","0"))},[u,s,x,n,h]),p.useEffect(()=>(a==null||a.addEventListener("keydown",b),()=>{a==null||a.removeEventListener("keydown",b)}),[b,a])}const war=R(ge)`
  position: relative;
  // The children in button is rendered inside a span, we need to absolutely position it.
  & > span:nth-child(2) {
    position: absolute;
    top: 6px;
    right: 6px;
    padding: 0;
  }
`,Car=R.div({width:4,height:4,borderRadius:3,boxShadow:"0 0 0 1px var(--card-bg-color)"}),P_=p.forwardRef(function(e,t){const{disabled:n,icon:r,"aria-label":i,mode:o="bleed",text:a,tone:s,...l}=e,u=tw(),d=s&&u.sanity.color.solid[s],f=p.useMemo(()=>({backgroundColor:d==null?void 0:d.enabled.bg}),[d]);return c.jsx(war,{"data-ui":"StatusButton",...l,"aria-label":i,disabled:!!n,mode:o,ref:t,text:a,icon:r,children:s&&c.jsx(Car,{style:f})})}),bee=p.forwardRef(function({children:e,content:t,disabled:n,...r},i){return c.jsx(Et,{...r,content:t,disabled:n||!t,ref:i,children:c.jsx("div",{children:e})})}),mVe=p.forwardRef((e,t)=>{const{push:n}=Nr();return p.useImperativeHandle(t,()=>({push:n})),null});mVe.displayName="ForwardRef(ImperativeToast)";function gVe(){return p.useContext(qUe)}function Jh({children:e,zOffset:t}){const n=gVe()[t];return c.jsx(Pl,{zOffset:n,children:e})}function kar(e){return{thread:{title:e("delete-thread.title"),body:e("delete-thread.body"),confirmButtonText:e("delete-thread.confirm")},comment:{title:e("delete-comment.title"),body:e("delete-comment.body"),confirmButtonText:e("delete-comment.confirm")}}}function yVe(e){const{isParent:t,onClose:n,commentId:r,onConfirm:i,loading:o,error:a}=e,{t:s}=Q(wi),l=kar(s),{title:u,body:d,confirmButtonText:f}=l[t?"thread":"comment"],h=p.useCallback(()=>{i(r)},[r,i]);return c.jsx(no,{footer:{cancelButton:{onClick:n},confirmButton:{loading:o,onClick:h,text:f,tone:"critical"}},header:u,id:"delete-comment-dialog",onClose:n,width:0,children:c.jsxs(ae,{space:4,children:[c.jsx(B,{size:1,children:d}),a&&c.jsx(gi,{tone:"critical",children:s("delete-dialog.error")})]})})}const Sar=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"comment-disabled",width:"1em",height:"1em",ref:t,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[c.jsx("path",{d:"M5.92627 14.5381H7.92627V18.5381L11.9263 14.5381H15.9263C17.0308 14.5381 17.9263 13.6427 17.9263 12.5381V6.53809C17.9263 5.43352 17.0308 4.53809 15.9263 4.53809H5.92627C4.8217 4.53809 3.92627 5.43352 3.92627 6.53809V12.5381C3.92627 13.6427 4.8217 14.5381 5.92627 14.5381Z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round"}),c.jsx("path",{d:"M2.77256 2.66835C2.54413 2.51319 2.23317 2.57259 2.07802 2.80103L1.40378 3.7937C1.32927 3.9034 1.30139 4.0382 1.32627 4.16845C1.35115 4.29871 1.42676 4.41374 1.53646 4.48825L19.5861 16.7479C19.8146 16.903 20.1255 16.8436 20.2807 16.6152L20.9549 15.6225C21.0294 15.5128 21.0573 15.378 21.0324 15.2478C21.0076 15.1175 20.9319 15.0025 20.8222 14.928L2.77256 2.66835Z",fill:"currentColor",strokeLinejoin:"round"})]})});p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",ref:t,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:c.jsx("path",{d:"M7.5 15.5H9.5V19.5L13.5 15.5H17.5C18.6046 15.5 19.5 14.6046 19.5 13.5V7.5C19.5 6.39543 18.6046 5.5 17.5 5.5H7.5C6.39543 5.5 5.5 6.39543 5.5 7.5V13.5C5.5 14.6046 6.39543 15.5 7.5 15.5Z",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.2"})})});const Ear=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"mention",fill:"none",height:"1em",ref:t,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...e,children:[c.jsx("path",{d:"M16.6633 18.9383C15.539 19.6562 14.2034 20.0723 12.7705 20.0723C8.77022 20.0723 5.52734 16.8294 5.52734 12.8291C5.52734 8.82881 8.77022 5.58594 12.7705 5.58594C16.7708 5.58594 20.0137 8.82881 20.0137 12.8291C20.0137 13.6623 19.8249 14.7093 19.6141 15.2077C19.5578 15.3408 19.479 15.4845 19.3936 15.6238C19.0955 16.1106 18.5507 16.3721 17.9807 16.4018V16.4018C16.8271 16.462 15.8588 15.5428 15.8588 14.3877V9.27302",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),c.jsx("circle",{cx:"12.5732",cy:"12.8291",r:"3.08691",stroke:"currentColor",strokeWidth:1.2})]})}),vVe=p.forwardRef(function(e,t){return c.jsxs("svg",{"data-sanity-icon":"add-reaction",fill:"none",height:"1em",ref:t,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...e,children:[c.jsx("path",{d:"M10.1044 10.4011L10.1044 10.9972",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square"}),c.jsx("path",{d:"M14.2393 10.4011L14.2393 10.9972",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square"}),c.jsx("path",{d:"M7.12128 14.1151C7.70803 15.0226 9.66113 16.8377 11.7735 16.8377C13.8859 16.8377 15.6713 15.0226 16.4257 14.1151",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square"}),c.jsx("path",{d:"M16.703 6.43905C15.3486 5.36511 13.6357 4.72374 11.773 4.72374C7.38731 4.72374 3.83203 8.27902 3.83203 12.6647C3.83203 17.0503 7.38731 20.6056 11.773 20.6056C16.0995 20.6056 19.618 17.1455 19.712 12.8415",stroke:"currentColor",strokeWidth:1.2}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.1135 9.03425L19.1135 11.4903L20.3135 11.4903L20.3135 9.03425L22.7693 9.03425L22.7693 7.83425L20.3135 7.83425L20.3135 5.37941L19.1135 5.37941L19.1135 7.83425L16.6584 7.83425L16.6584 9.03425L19.1135 9.03425Z",fill:"currentColor"})]})}),_ar=p.forwardRef(function(e,t){return c.jsx("svg",{"data-sanity-icon":"send",fill:"none",height:"1em",ref:t,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...e,children:c.jsx("path",{clipRule:"evenodd",d:"M21.1602 12.5L7.16016 19.5V14.8765L13.6656 12.4989L7.16016 9.97149L7.16016 5.5L21.1602 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ibe=R(OG)`
  svg > ellipse {
    stroke: transparent;
  }
`,Tar=/[^\p{Alpha}\p{White_Space}]/gu,Aar=new RegExp("\\p{White_Space}+","u");function jar(e){const t=e.replace(Tar,"").split(Aar);return t.length===1?`${t[0].charAt(0)}`.toUpperCase():`${t[0].charAt(0)}${t[t.length-1].charAt(0)}`}function E4(e){const{user:t,...n}=e,r=t,i=p.useMemo(()=>jar((r==null?void 0:r.displayName)||""),[r==null?void 0:r.displayName]);return r?c.jsx(Ibe,{initials:i,src:r==null?void 0:r.imageUrl,title:r==null?void 0:r.displayName,...n}):c.jsx(Ibe,{...n})}const mv=R.div(e=>{var r;const t=$e(e.theme),{$size:n=1}=e;return he`
    min-width: ${(r=t.avatar.sizes[n])==null?void 0:r.size}px;
  `}),Iar=qs({name:"mention",type:"object",fields:[{name:"userId",type:"string"}]}),$ar=qs({type:"block",name:"block",of:[Iar],marks:{annotations:[]},styles:[{title:"Normal",value:"normal"}],lists:[]}),Dar=Jgt({type:"array",name:"body",of:[$ar]}),Oar=TMe.compile({name:"comments",types:[Dar]}),Mar=Oar.get("body"),Par=R.span(({theme:e})=>{var i,o,a;const{regular:t}=((i=e.sanity.fonts)==null?void 0:i.text.weights)||{},{hovered:n}=((o=e.sanity.color)==null?void 0:o.card)||{},{bg:r}=((a=e.sanity.color.selectable)==null?void 0:a.caution.pressed)||{};return he`
    font-weight: ${t};
    color: var(--card-link-fg-color);
    border-radius: 2px;
    background-color: ${n.bg};
    padding: 1px;
    box-sizing: border-box;

    &[data-active='true'] {
      background-color: ${r};
    }
  `});function bVe(e){const{selected:t,userId:n}=e,[r,i]=bf(n),o=dr();return!r||i?c.jsx(wr,{"data-testid":"comment-mentions-loading-skeleton",style:{width:"10ch"},size:0,muted:!0,radius:1,animated:!0}):c.jsx(Et,{portal:!0,content:c.jsxs(W,{align:"center",gap:2,children:[c.jsx(W,{children:c.jsx(E4,{user:r})}),c.jsx(B,{size:1,children:r.displayName})]}),children:c.jsxs(Par,{"data-selected":t,"data-active":(o==null?void 0:o.id)===n,children:["@",r.displayName]})})}const Rar=R(B)`
  word-break: break-word;
`;function xVe(e){const{children:t}=e;return c.jsx(Rar,{size:1,children:t})}const Far=e=>{const{children:t}=e;return c.jsx(xVe,{children:t})},Lar=e=>{const{children:t,value:n,selected:r}=e;return n._type==="mention"&&n.userId?c.jsx(bVe,{selected:r,userId:n==null?void 0:n.userId}):t},Nar=9999999;function Bar(e){const{t}=Q(wi),{onClose:n,onConfirm:r}=e,i=p.useCallback(a=>{a.stopPropagation(),n()},[n]),o=p.useCallback(a=>{a.stopPropagation(),r()},[r]);return c.jsx(IG,{tone:"default",children:c.jsx(O3,{zOffset:Nar,children:c.jsx(no,{header:t("discard.header"),id:"discard-comment-dialog",onClose:n,width:0,onClickOutside:n,footer:{cancelButton:{onClick:i},confirmButton:{onClick:o,text:t("discard.button-confirm"),tone:"critical"}},children:c.jsx(B,{size:1,children:t("discard.text")})})})})}const Var=R(W)``,zar={width:"50%"};function Uar(e){const{user:t,onSelect:n}=e,[r]=bf(t.id),{t:i}=Q(wi),o=c.jsx(E4,{user:r,status:t.granted?void 0:"inactive"}),a=r?c.jsx(B,{size:1,textOverflow:"ellipsis",title:r.displayName,children:r.displayName}):c.jsx(wr,{size:1,style:zar}),s=p.useCallback(()=>{n(t.id)},[n,t.id]);return c.jsx(le,{as:"button",disabled:!t.granted,onClick:s,padding:2,radius:2,children:c.jsxs(W,{align:"center",gap:3,children:[c.jsxs(Var,{align:"center",gap:2,flex:1,children:[o,c.jsx(V,{children:a})]}),!t.granted&&c.jsx($a,{fontSize:1,mode:"outline",children:i("mentions.unauthorized-user")})]})})}const $be=[],Har=R(ae)({maxWidth:"220px"}),Dbe=41,War=4,Gar=7,Kar=R(W)({maxHeight:Dbe*Gar+War*2+Dbe/2}),Yar=p.forwardRef(function(e,t){const{t:n}=Q(wi),{loading:r,onSelect:i,options:o=[],inputElement:a}=e,[s,l]=p.useState(""),u=p.useRef(null);p.useImperativeHandle(t,()=>({setSearchTerm(g){l(g)}}),[]);const d=p.useCallback(g=>c.jsx(Uar,{user:g,onSelect:i}),[i]),f=p.useCallback(g=>{var y;return!((y=o==null?void 0:o[g])!=null&&y.granted)},[o]),h=p.useMemo(()=>{var y,x;if(!s)return o||$be;const g=ax(s).toLocaleLowerCase();return((x=(y=o==null?void 0:o.map(b=>({...b,displayName:ax(b.displayName||"").toLocaleLowerCase()})))==null?void 0:y.filter(b=>{var v;return(v=b==null?void 0:b.displayName)==null?void 0:v.includes(g)}))==null?void 0:x.sort((b,v)=>{var k,S;const w=(k=b.displayName)==null?void 0:k.startsWith(g),C=(S=v.displayName)==null?void 0:S.startsWith(g);return w&&!C?-1:!w&&C?1:0}))||$be},[o,s]);if(r)return c.jsx(Har,{children:c.jsx(Dn,{showText:!0})});const m=a||void 0;return c.jsxs(W,{direction:"column",height:"fill","data-testid":"comments-mentions-menu",children:[h.length===0&&c.jsx(V,{padding:5,children:c.jsx(B,{align:"center",size:1,muted:!0,children:n("mentions.no-users-found")})}),h.length>0&&c.jsx(Kar,{direction:"column",flex:1,overflow:"hidden",children:c.jsx(gf,{activeItemDataAttr:"data-hovered",ariaLabel:n("mentions.user-list-aria-label"),fixedHeight:!0,getItemDisabled:f,inputElement:m,itemHeight:41,items:h,padding:1,ref:u,renderItem:d})})]})});function wVe(){const e=p.useContext($xe);if(!e)throw new Error("useCommentInputContext must be used within a CommentInputProvider");return e}const qar={passive:!0};function Zar(e){const{disabled:t,rootElement:n}=e,[r,i]=p.useState(null),o=p.useMemo(()=>r?{getBoundingClientRect:()=>r}:null,[r]),a=p.useCallback(()=>{if(t){i(null);return}const s=window.getSelection();if(!s||!s.isCollapsed||s.rangeCount===0)return;const l=s.getRangeAt(0);if(!(n!=null&&n.contains(l.commonAncestorContainer))){i(null);return}const u=l==null?void 0:l.getBoundingClientRect();u&&i(u)},[t,n]);return p.useEffect(()=>(document.addEventListener("selectionchange",a,qar),()=>{document.removeEventListener("selectionchange",a)}),[a]),o}const Xar=["bottom","top"],Jar={outline:"none"},Obe=[],Qar=R.span(e=>{const{color:t}=$e(e.theme);return he`
    color: ${t.input.default.enabled.placeholder};
    overflow: hidden;
    text-overflow: ellipsis;
    text-wrap: nowrap;
    display: block;
  `}),esr=R(Fn)(({theme:e})=>{const{space:t,radius:n}=e.sanity;return he`
    &[data-placement='bottom'] {
      transform: translateY(${t[1]}px);
    }

    &[data-placement='top'] {
      transform: translateY(-${t[1]}px);
    }

    [data-ui='Popover__wrapper'] {
      border-radius: ${n[3]}px;
      display: flex;
      flex-direction: column;
      overflow: clip;
      overflow: hidden;
      position: relative;
      width: 300px; // todo: improve
    }
  `});function tsr(e){const{t}=Q(wi),{focusLock:n,onFocus:r,onBlur:i,onKeyDown:o,onSubmit:a,placeholder:s=t("compose.create-comment-placeholder"),renderBlock:l}=e,u=p.useRef(null),d=p.useRef(null),f=p.useRef(null),h=p.useRef(null),m=s0(),{canSubmit:g,closeMentions:y,insertMention:x,mentionOptions:b,mentionsMenuOpen:v,mentionsSearchTerm:w,onBeforeInput:C,value:k}=wVe(),S=Zar({disabled:!v,rootElement:d.current}),E=p.useCallback(()=>c.jsx(Qar,{children:s}),[s]);On(v&&y,()=>[u.current]);const _=p.useCallback(I=>{switch(I.key){case"Enter":if(I.shiftKey)break;if(v){I.preventDefault(),I.stopPropagation(),y();break}a&&g&&(I.preventDefault(),I.stopPropagation(),a());break;case"Escape":case"ArrowLeft":case"ArrowRight":v&&(I.preventDefault(),I.stopPropagation(),y());break}o&&o(I)},[g,y,v,o,a]),T=p.useMemo(()=>{if(m)return;const I=(k||Obe).slice(-1)[0],j=qa(I)?I.children.slice(-1)[0]:void 0;if(!j)return;const $={path:[{_key:I._key},"children",{_key:j._key}],offset:jl(j)?j.text.length:0};return{focus:$,anchor:$}},[k,m]);p.useEffect(()=>{var I;(I=h.current)==null||I.setSearchTerm(w)},[w]),p.useEffect(()=>{v&&m&&!Dt(m.anchor,m.focus)&&y()},[v,y,m]);const A=c.jsx(Yar,{inputElement:f.current,loading:b.loading,onSelect:x,options:b.data||Obe,ref:h});return c.jsxs("div",{ref:d,children:[c.jsx(esr,{arrow:!1,constrainSize:!0,content:A,disabled:!v,fallbackPlacements:Xar,open:v,placement:"bottom",ref:u,referenceElement:S}),c.jsx(kZ,{"data-testid":"comment-input-editable","data-ui":"EditableElement",onBeforeInput:C,onBlur:i,onFocus:r,onKeyDown:_,ref:f,renderBlock:l,renderChild:Lar,renderPlaceholder:E,selection:T,style:Jar,tabIndex:n?0:void 0})]})}const NI=R(V)`
  max-height: 20vh;
  overflow-y: auto;
`,nsr=R(Tr)({height:20,width:1});function D9(e){return`inset 0 0 0 ${e.width}px ${e.color}`}const rsr=R(le)(({theme:e})=>{const{color:t,input:n,radius:r}=$e(e),i=r[2];return he`
    border-radius: ${i}px;
    box-shadow: var(--input-box-shadow);

    --input-box-shadow: ${D9({color:t.input.default.enabled.border,width:n.border.width})};

    &:not([data-expand-on-focus='false'], :focus-within) {
      background: transparent;
      box-shadow: unset;
    }

    &[data-focused='true']:focus-within {
      ${NI} {
        min-height: 1em;
      }

      /* box-shadow: inset 0 0 0 1px var(--card-focus-ring-color); */
      --input-box-shadow: ${D9({color:"var(--card-focus-ring-color)",width:n.border.width})};
    }

    &:focus-within {
      ${NI} {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='false'] {
      ${NI} {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='true'] {
      [data-ui='CommentInputActions']:not([hidden]) {
        display: none;
      }

      &:focus-within {
        [data-ui='CommentInputActions'] {
          display: flex;
        }
      }
    }
    &:hover {
      --input-box-shadow: ${D9({color:t.input.default.hovered.border,width:n.border.width})};
    }
  `}),isr=R.div(e=>{var t;return`
    min-height: ${(t=$e(e.theme).avatar.sizes[1])==null?void 0:t.size}px;
    display: flex;
    align-items: center;
  `});function osr(e){const{avatarSize:t=1,currentUser:n,focusLock:r,onBlur:i,onFocus:o,onKeyDown:a,onSubmit:s,placeholder:l,renderBlock:u,withAvatar:d}=e,[f]=bf(n.id),{canSubmit:h,expandOnFocus:m,focused:g,hasChanges:y,insertAtChar:x,openMentions:b,readOnly:v}=wVe(),{t:w}=Q(wi),C=d?c.jsx(isr,{children:c.jsx(E4,{user:f,size:t})}):null,k=p.useCallback(S=>{S.stopPropagation(),x(),b()},[x,b]);return c.jsxs(W,{align:"flex-start",gap:2,children:[C,c.jsx(rsr,{id:"comment-input-root","data-expand-on-focus":m&&!h?"true":"false","data-focused":g?"true":"false",flex:1,sizing:"border",tone:v?"transparent":"default",children:c.jsxs(ae,{children:[c.jsx(NI,{"data-ui":"CommentInputEditableWrap",paddingX:1,paddingY:2,sizing:"border",children:c.jsx(tsr,{focusLock:r,onBlur:i,onFocus:o,onKeyDown:a,onSubmit:s,placeholder:l,renderBlock:u})}),c.jsx(W,{align:"center","data-ui":"CommentInputActions",gap:1,justify:"flex-end",padding:1,children:c.jsxs(Sa,{children:[c.jsx(ge,{"aria-label":w("compose.mention-user-aria-label"),"data-testid":"comment-input-mention-button",disabled:v,icon:Ear,mode:"bleed",type:"button",onClick:k,tooltipProps:{content:w("compose.mention-user-tooltip")}}),s&&c.jsxs(c.Fragment,{children:[c.jsx(nsr,{}),c.jsx(ge,{"aria-label":w("compose.send-comment-aria-label"),"data-testid":"comment-input-send-button",disabled:!h||!y||v,icon:_ar,mode:y&&h?"default":"bleed",onClick:s,tone:y&&h?"primary":"default",tooltipProps:{content:w("compose.send-comment-tooltip")}})]})]})})]})})]})}function asr(e){const{children:t,expandOnFocus:n=!1,focused:r,focusOnMount:i=!1,mentionOptions:o,onMentionMenuOpenChange:a,value:s,readOnly:l}=e,u=Lo(),[d,f]=p.useState(!1),[h,m]=p.useState(""),[g,y]=p.useState(null),x=p.useMemo(()=>S0(s),[s]),b=sNe(s),v=p.useCallback(()=>{l||Pe.focus(u)},[u,l]),w=p.useCallback(()=>{f(!1),m(""),y(null)},[]),C=p.useCallback(()=>{f(!0),m(""),f(!0),y(Pe.getSelection(u))},[u]),k=p.useCallback(T=>{const A=Pe.getSelection(u),I=A?A.focus.offset:0,j=Pe.focusChild(u),$=jl(j)&&j||void 0,D=T.inputType==="insertText",O=T.inputType==="deleteContentBackward",M=D&&T.data==="@",P=($==null?void 0:$.text.slice(0,Math.max(0,I)).lastIndexOf("@"))||0,F=($==null?void 0:$.text.slice(I-1,I))===" ",L=D&&T.data===" "&&!h;if(M&&(I<1||F)){C();return}if(L||O&&(($==null?void 0:$.text.length)===1||P===(($==null?void 0:$.text.length)||0)-1)){w();return}if(jl(j)){let U=j.text.slice(P+1,I);D&&(U+=T.data),O&&(U=U.slice(0,Math.max(0,U.length-1))),m(U)}},[w,u,h,C]),S=p.useCallback(()=>{f(!0),Pe.focus(u),Pe.insertChild(u,u.schemaTypes.span,{text:"@"}),y(Pe.getSelection(u))},[u]);is(d,()=>a==null?void 0:a(d));const E=p.useCallback(T=>{var $;const A=u.schemaTypes.inlineObjects.find(D=>D.name==="mention"),[I,j]=g&&Pe.findByPath(u,g.focus.path)||[];if(I&&jl(I)&&j&&A){Pe.focus(u);const D=($=Pe.getSelection(u))==null?void 0:$.focus.offset;typeof D<"u"&&(Pe.delete(u,{anchor:{path:j,offset:I.text.lastIndexOf("@")},focus:{path:j,offset:D}},{mode:"selected"}),Pe.insertChild(u,A,{userId:T}),Pe.insertChild(u,u.schemaTypes.span,{text:" "}))}},[u,g]),_=p.useMemo(()=>({canSubmit:x,closeMentions:w,editor:u,expandOnFocus:n,focused:r,focusEditor:v,focusOnMount:i,hasChanges:b,insertAtChar:S,insertMention:E,mentionOptions:o,mentionsMenuOpen:d,mentionsSearchTerm:h,onBeforeInput:k,openMentions:C,readOnly:!!l,value:s}),[x,w,u,n,r,v,i,b,S,E,o,d,h,k,C,l,s]);return c.jsx($xe.Provider,{value:_,children:t})}const O9=[],ssr={behavior:"smooth",block:"center",inline:"center"},T0=p.forwardRef(function(e,t){const{avatarSize:n,currentUser:r,expandOnFocus:i,focusLock:o=!1,focusOnMount:a,mentionOptions:s,onBlur:l,onChange:u,onDiscardCancel:d,onDiscardConfirm:f,onFocus:h,onKeyDown:m,onMentionMenuOpenChange:g,onSubmit:y,placeholder:x,readOnly:b,renderBlock:v=Far,value:w=O9,withAvatar:C=!0}=e,[k,S]=p.useState(!1),E=p.useRef(null),_=p.useRef(null),[T,A]=p.useState(!1),I=p.useRef(null),j=p.useRef(null),$=p.useRef(null),[D,O]=p.useState(Jm()),M=p.useCallback(()=>{requestAnimationFrame(()=>{E.current&&Pe.focus(E.current)})},[]),P=p.useCallback(()=>{O(Jm())},[]),F=p.useCallback(J=>{if(J.type==="ready"&&a&&M(),J.type==="focus"&&S(!0),J.type==="blur"&&S(!1),J.type==="patch"&&E.current){const ee=Pe.getValue(E.current);u(ee||O9)}},[a,u,M]),L=p.useCallback(()=>{var J;(J=_.current)==null||J.scrollIntoView(ssr)},[]),U=p.useCallback(()=>{y==null||y(),P(),M(),L()},[y,M,P,L]),H=p.useCallback(()=>{f(),P()},[f,P]),N=p.useMemo(()=>({open:()=>{A(!0)},close:()=>{A(!1),M()}}),[M]);p.useImperativeHandle(t,()=>({focus:M,blur(){E.current&&Pe.blur(E.current)},scrollTo:L,reset:P,discardDialogController:N}),[N,M,P,L]);const Y=p.useCallback(J=>{if(!o)return;const ee=J.target,oe=$.current;if(oe&&ee===I.current){NG(oe);return}oe&&ee===j.current&&cy(oe)},[o]);return c.jsxs(c.Fragment,{children:[T&&d&&c.jsx(Bar,{onClose:d,onConfirm:H}),c.jsx(ae,{ref:_,"data-testid":"comment-input",onFocus:Y,children:c.jsx(Pe,{onChange:F,readOnly:b,ref:E,schemaType:Mar,value:w||O9,children:c.jsxs(asr,{expandOnFocus:i,focused:k,focusOnMount:a,mentionOptions:s,onMentionMenuOpenChange:g,readOnly:b,value:w,children:[o&&c.jsx("div",{ref:I,tabIndex:0}),c.jsx(ae,{ref:$,children:c.jsx(osr,{avatarSize:n,currentUser:r,focusLock:o,onBlur:l,onFocus:h,onKeyDown:m,onSubmit:y&&U,placeholder:x,renderBlock:v,withAvatar:C})}),o&&c.jsx("div",{ref:j,tabIndex:0})]})},D)})]})}),lsr=R.span(({theme:e})=>{var l;const t=(l=e.sanity.v2)==null?void 0:l.color._dark,n=ln[Hf][t?800:100].hex,r=ln[Hf][t?700:300].hex,i=ln[Hf][t?700:200].hex,o=ln[Hf][t?600:400].hex,a=ln[Hf][t?700:200].hex,s=ln[Hf][t?600:400].hex;return he`
    box-sizing: border-box;
    transition:
      background-color 100ms ease,
      border-color 100ms ease;

    // Make sure that child elements appropriately blend with the
    // background of the highlight span
    * {
      mix-blend-mode: ${t?"screen":"multiply"};
    }

    &[data-inline-comment-state='added'][data-inline-comment-nested='false'] {
      background-color: ${n};
      border-bottom: 2px solid ${r};
    }

    &[data-inline-comment-state='added'][data-inline-comment-nested='true'] {
      background-color: ${a};
      border-bottom: 2px solid ${s};
    }

    &[data-inline-comment-state='added'][data-inline-comment-nested='false'][data-hovered='true'] {
      background-color: ${i};
      border-bottom: 2px solid ${o};
    }

    &[data-inline-comment-state='authoring'] {
      background-color: ${n};
      border-bottom: 2px solid ${r};
    }
  `}),CVe=p.forwardRef(function(e,t){const{children:n,isAdded:r,isAuthoring:i,isHovered:o,isNested:a,...s}=e;return c.jsx(lsr,{...s,"data-hovered":o?"true":"false","data-inline-comment-nested":a?"true":"false","data-inline-comment-state":r?"added":i?"authoring":void 0,ref:t,children:n})}),csr=R(ae)(()=>he`
    & > [data-ui='Text']:not(:first-child) {
      margin-top: 1em; // todo: improve
    }

    & > [data-ui='Text']:has(> span:empty) {
      display: none;
    }
  `),usr=[];function nc(e){const t=p.useMemo(()=>bWn(e.children),[e.children]);return c.jsx(xVe,{children:t})}const dsr={block:{normal:nc,h1:nc,h2:nc,h3:nc,h4:nc,h5:nc,h6:nc,blockquote:nc,code:nc},list:{bullet:p.Fragment,number:p.Fragment,checkmarks:p.Fragment},listItem:{bullet:nc,number:nc,checkmarks:nc},marks:{strong:p.Fragment,em:p.Fragment,code:p.Fragment,underline:p.Fragment,strikeThrough:p.Fragment,link:p.Fragment},types:{mention:e=>{var t;return c.jsx(bVe,{userId:(t=e==null?void 0:e.value)==null?void 0:t.userId,selected:!1})}}};function fsr(e){const{blocks:t}=e;return c.jsx(csr,{children:c.jsx(C$e,{value:t||usr,components:dsr})})}const pk=3,xee=R(B)`
  font-family: 'Twemoji Mozilla', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
    'Noto Color Emoji', 'EmojiOne Color', 'Android Emoji', sans-serif;
`,hsr=6;function psr(e){const{options:t,onSelect:n}=e,{t:r}=Q(wi),[i,o]=p.useState([]),[a,s]=p.useState(null),[l,u]=p.useState(0),d=p.useCallback(h=>{const m=i.length;h.key==="ArrowRight"&&u(g=>(g+1)%m),h.key==="ArrowLeft"&&u(g=>(g-1+m)%m)},[i.length]),f=p.useCallback(h=>{const m=i.indexOf(h.currentTarget);u(m),n(t[m])},[i,n,t]);return p.useEffect(()=>{if(a){const h=a.querySelectorAll("button");o(Array.from(h))}},[a]),p.useEffect(()=>{i.length>0&&i[l].focus()},[i,l]),c.jsx(Xn,{columns:hsr,gap:1,onKeyDown:d,ref:s,role:"menu",children:t.map(h=>{const m=zD[h.shortName];return c.jsx(zt,{"aria-label":r("reactions.react-with-aria-label",{reactionName:h.title||h.shortName}),mode:"bleed",onClick:f,padding:2,role:"menuitem",tabIndex:-1,children:c.jsx(xee,{align:"center",size:2,children:m})},h.shortName)})})}const msr=["top","bottom"];function kVe(e){const{onMenuClose:t,onMenuOpen:n,onSelect:r,options:i,readOnly:o,renderMenuButton:a,mode:s}=e,[l,u]=p.useState(null),d=p.useRef(null),[f,h]=p.useState(!1),{t:m}=Q(wi),g=p.useCallback(()=>{const C=!f;h(C),C?n==null||n():t==null||t()},[t,n,f]),y=p.useCallback(()=>{f&&(h(!1),t==null||t())},[f,t]),x=p.useCallback(()=>{f&&(y(),l==null||l.focus())},[l,y,f]),b=p.useCallback(C=>{const{key:k,shiftKey:S}=C;(S&&k==="Tab"||k==="Escape"||k==="Tab")&&x()},[x]);On(y,()=>[d.current,l]);const v=p.useCallback(C=>{r(C),y()},[y,r]),w=p.useMemo(()=>{const C=a({open:f,tooltipContent:m(s==="upsell"?"list-item.context-menu-add-reaction-upsell":"list-item.context-menu-add-reaction"),t:m});return p.cloneElement(C,{"aria-expanded":f,"aria-haspopup":"true",disabled:o||s==="upsell",id:"reactions-menu-button",onClick:g,ref:u})},[g,f,o,a,m,s]);return c.jsx(Fn,{constrainSize:!0,content:c.jsx(le,{"aria-labelledby":"reactions-menu-button",onKeyDown:b,padding:1,radius:3,tone:"default",children:c.jsx(psr,{onSelect:v,options:i})}),fallbackPlacements:msr,open:f,placement:"bottom",portal:!0,ref:d,tone:"default",children:w})}const gsr=1,ysr=R(ae)`
  max-width: 180px;
`,vsr=R.div`
  display: inline-block;
`,Qv=R(B).attrs({size:gsr})`
  display: inline-block !important;

  & > span {
    white-space: break-spaces;
  }
`,bsr=R(V)`
  line-height: 1;
  text-align: center;
`,Mbe=/^\S+/;function Pbe(e){const{currentUserId:t,isFirst:n,userId:r}=e,[i]=bf(r),{t:o}=Q(wi);return t===r?o("reactions.user-list.you",{context:n?"leading":void 0,replace:{name:i==null?void 0:i.displayName}}):(i==null?void 0:i.displayName)||o("reactions.user-list.unknown-user-fallback-name")}function xsr(e){const{children:t,...n}=e;return c.jsx(Et,{content:c.jsx(Csr,{...n}),placement:"bottom",portal:!0,children:c.jsx("div",{children:t})})}function wsr({currentUserId:e,userIds:t}){const n=b0({style:"long",type:"conjunction"});if(t.length===0)return null;const r=n.formatToParts(t),i=[];for(let o=0;o<r.length;o++){const a=r[o];if(a.type==="literal"){i.push(c.jsx(Qv,{children:a.value},`literal-${o}`));continue}const s=r[o+1];if(s&&s.type==="literal"&&Mbe.test(s.value)){const[l=""]=s.value.match(Mbe)||[];i.push(c.jsxs(vsr,{children:[c.jsx(Qv,{weight:"medium",children:c.jsx(Pbe,{currentUserId:e,isFirst:o===0,userId:a.value})}),c.jsx(Qv,{children:l})]},a.value)),s.value=s.value.slice(l.length);continue}i.push(c.jsx(Qv,{weight:"medium",children:c.jsx(Pbe,{currentUserId:e,isFirst:o===0,userId:a.value})},a.value))}return i}function Csr(e){const{currentUser:t,reactionName:n,userIds:r}=e,{t:i}=Q(wi),o=p.useCallback(()=>t?c.jsx(wsr,{currentUserId:t.id,userIds:r}):null,[t,r]);return c.jsxs(ysr,{padding:1,children:[c.jsx(W,{justify:"center",paddingBottom:2,paddingTop:1,children:c.jsx(xee,{size:4,children:zD[n]})}),c.jsx(bsr,{children:c.jsx(wt,{t:i,i18nKey:"reactions.users-reacted-with-reaction",values:{reactionName:n},components:{UserList:o,ReactionName:()=>c.jsx(Qv,{muted:!0,children:n}),Text:({children:a})=>c.jsxs(c.Fragment,{children:[c.jsx(Qv,{muted:!0,children:a})," ",c.jsx("wbr",{})," "]})}})})]})}const Rbe=R(le)`
  background: none;
`;function ksr(e){const t=e.reduce((n,r)=>{const{shortName:i}=r;return n[i]||(n[i]=[]),n[i].push(r),n},{});return Object.entries(t).sort(([n],[r])=>{const i=e.findIndex(a=>a.shortName===n),o=e.findIndex(a=>a.shortName===r);return i-o})}const Ssr=({open:e,tooltipContent:t})=>c.jsx(zt,{fontSize:1,mode:"ghost",padding:0,radius:"full",selected:e,children:c.jsx(W,{paddingX:3,paddingY:2,children:c.jsx(Et,{animate:!0,content:t,disabled:e,children:c.jsx(B,{size:1,children:c.jsx(vVe,{})})})})}),Esr=p.memo(function(e){const{currentUser:t,onSelect:n,reactions:r,readOnly:i,mode:o}=e,a=p.useCallback(f=>{const h=UU.find(m=>m.shortName===f);h&&n(h)},[n]),s=p.useMemo(()=>r.filter(f=>f.userId===(t==null?void 0:t.id)).map(f=>f.shortName),[t==null?void 0:t.id,r]),l=p.useMemo(()=>ksr(r).filter(([f])=>zD[f]),[r]),u=p.useRef(Object.keys(Object.fromEntries(l))),d=p.useMemo(()=>{const f=l.sort(([h],[m])=>{const g=u.current.indexOf(h),y=u.current.indexOf(m);return g===-1?1:y===-1?-1:g-y});return u.current=f.map(([h])=>h),f},[l]);return c.jsx(W,{align:"center",gap:1,wrap:"wrap",children:c.jsxs(Sa,{children:[d.map(([f,h])=>{const m=s.includes(f),g=h.map(x=>x.userId),y=zD[f];return c.jsx(xsr,{currentUser:t,reactionName:f,userIds:g,children:c.jsx(Rbe,{tone:"default",children:c.jsx(zt,{disabled:i||o==="upsell",mode:"ghost",onClick:()=>a(f),padding:2,radius:"full",selected:m,tone:m?"primary":"default",children:c.jsxs(W,{align:"center",gap:1,children:[c.jsx(xee,{size:1,children:y}),c.jsx(B,{size:0,weight:m?"semibold":"medium",children:h==null?void 0:h.length})]})})})},f)}),c.jsx(Rbe,{tone:"default",children:c.jsx(kVe,{mode:o,onSelect:f=>a(f.shortName),options:UU,readOnly:i,renderMenuButton:Ssr})})]})})}),_sr=({open:e,tooltipContent:t,t:n})=>c.jsx(ge,{"aria-label":n("list-item.context-menu-add-reaction-aria-label"),icon:vVe,mode:"bleed",selected:e,tooltipProps:{content:t}}),Tsr={placement:"bottom-end"},Asr=R(le)`
  &:empty {
    display: none;
  }
`;function jsr(e){const{canDelete:t,canEdit:n,isParent:r,mode:i,onCopyLink:o,onDeleteStart:a,onEditStart:s,onMenuClose:l,onMenuOpen:u,onReactionSelect:d,onStatusChange:f,readOnly:h,status:m}=e,g=!!(o||a||s),{t:y}=Q(wi),x=!!(t||n||o);return c.jsx(Sa,{children:c.jsx(W,{children:c.jsxs(Asr,{display:"flex",shadow:2,padding:1,radius:2,sizing:"border",children:[d&&c.jsx(kVe,{mode:i,onMenuClose:l,onMenuOpen:u,onSelect:d,options:UU,readOnly:h,renderMenuButton:_sr}),r&&f&&c.jsx(ge,{"aria-label":y(m==="open"?"list-item.resolved-tooltip-aria-label":"list-item.re-open-resolved-aria-label"),"data-testid":"comments-list-item-status-button",disabled:h,icon:m==="open"?qy:B3,mode:"bleed",onClick:f,tooltipProps:{content:y(m==="open"?"list-item.resolved-tooltip-content":"list-item.re-open-resolved")}}),x&&c.jsx(Jt,{id:"comment-actions-menu",button:c.jsx(Ki,{"aria-label":y("list-item.open-menu-aria-label"),disabled:h,hidden:!g}),onOpen:u,onClose:l,menu:c.jsxs(Nt,{children:[c.jsx(Qe,{hidden:!n,icon:Oh,onClick:s,text:y("list-item.edit-comment"),tooltipProps:i==="upsell"?{content:y("list-item.edit-comment-upsell")}:void 0,disabled:i==="upsell"}),c.jsx(Qe,{hidden:!t,icon:$i,onClick:a,text:y("list-item.delete-comment"),tone:"critical"}),o&&c.jsx(Tr,{hidden:!t&&!n}),c.jsx(Qe,{hidden:!o,icon:Rl,onClick:o,text:y("list-item.copy-link")})]}),popover:Tsr})]})})})}function Isr(e,t=250){return e.length<=t?e:`${e.slice(0,t)}...`}const $sr=R(V).attrs({marginLeft:1,marginRight:2})`
  &:not([data-hidden]) {
    display: inline;
  }
`,Dsr=R(ae)(({theme:e,$hasReferencedValue:t})=>{var o;const n=(o=e.sanity.v2)==null?void 0:o.color._dark,r=t?Hf:"gray",i=n?ln[r][700].hex:ln[r][300].hex;return he`
    border-left: 2px solid ${i};
    word-break: break-word;
  `});function Osr(e){const{hasReferencedValue:t,value:n}=e,{t:r}=Q(wi),i=r("list-item.missing-referenced-value-tooltip-content"),o=p.useMemo(()=>{if(Array.isArray(n)&&(n==null?void 0:n.filter(qa).length)>0){const a=n==null?void 0:n.map(x$e).join(" ");return Isr(a)}return null},[n]);return o?c.jsx(Dsr,{$hasReferencedValue:!!t,"data-testid":"comments-list-item-referenced-value",flex:1,forwardedAs:"blockquote",padding:1,paddingLeft:2,sizing:"border",children:c.jsx(W,{align:"flex-start",children:c.jsxs(B,{size:1,muted:!0,children:[!t&&c.jsx(Et,{content:i,children:c.jsx($sr,{children:c.jsx(j_e,{})})}),o]})})}):null}const Fbe=e=>e.stopPropagation(),Kk=R(V)``,Msr={width:"50%"},Psr=[],Lbe=R(B)(({theme:e})=>{const t=e.sanity.color.dark,n=ln.gray[t?200:800].hex;return he`
    min-width: max-content;
    --card-fg-color: ${n};
    color: var(--card-fg-color);
  `}),Rsr=R(W)(e=>{var n;const t=$e(e.theme);return he`
    min-height: ${(n=t.avatar.sizes[e.$size])==null?void 0:n.size}px;
  `}),Fsr=R(B)(({theme:e})=>{const t=e.sanity.color.dark,n=ln.gray[t?200:800].hex;return he`
    --card-fg-color: ${n};
    color: var(--card-fg-color);
  `}),Lsr=R(ae)`
  transition: opacity 200ms ease;

  &[data-muted='true'] {
    transition: unset;
    opacity: 0.5;
  }
`,Nsr=R(W)(e=>{var n;const t=$e(e.theme);return he`
    min-height: ${(n=t.avatar.sizes[e.$size])==null?void 0:n.size}px;
  `}),Bsr=R(le)`
  // Add not on hover
  &:not(:hover) {
    background-color: transparent;
  }
`,Vsr=R(ae)(({theme:e})=>{const{space:t}=e.sanity;return he`
    position: relative;

    // Only show the floating layer on hover when hover is supported.
    // Else, the layer is always visible.
    @media (hover: hover) {
      ${Kk} {
        opacity: 0;
        position: absolute;
        right: 0;
        top: 0;
        transform: translate(${t[1]}px, -${t[1]}px);
      }

      ${Kk} {
        &:focus-within {
          opacity: 1;
        }
      }

      &:hover {
        ${Kk} {
          opacity: 1;
        }
      }
    }

    &[data-menu-open='true'] {
      ${Kk} {
        opacity: 1;
      }
    }
  `}),zsr={useTemporalPhrase:!0};function Nbe(e){var Me;const{avatarSize:t=1,canDelete:n,canEdit:r,comment:i,currentUser:o,hasError:a,hasReferencedValue:s,intent:l,isParent:u,isRetrying:d,mentionOptions:f,mode:h,onCopyLink:m,onCreateRetry:g,onDelete:y,onEdit:x,onInputKeyDown:b,onReactionSelect:v,onStatusChange:w,readOnly:C,withAvatar:k=!0}=e,{_createdAt:S,authorId:E,message:_,_id:T,lastEditedAt:A}=i,[I]=bf(E),{t:j}=Q(wi),[$,D]=p.useState(_),[O,M]=p.useState(!1),P=p.useRef(null),F=p.useRef(_),[L,U]=p.useState(!1),H=p.useRef(null),N=sNe($),Y=p.useMemo(()=>S0($),[$]),J=p.useMemo(()=>{var Le;return(((Le=i==null?void 0:i.reactions)==null?void 0:Le.filter(et=>(et==null?void 0:et._optimisticState)!=="removed"))||Psr).filter(et=>"userId"in et&&"shortName"in et)},[i==null?void 0:i.reactions]),ee=!!(J!=null&&J.length),oe=S?new Date(S):new Date,re=A?new Date(A):null,se=Oy(oe,zsr),G=$c({dateStyle:"full",timeStyle:"medium"}),K=G.format(oe),q=re?G.format(re):null,X=a||d;p.useEffect(()=>{O||(F.current=_,D(_))},[O,_]);const ie=p.useCallback(()=>U(!0),[]),te=p.useCallback(()=>U(!1),[]),de=p.useCallback(()=>m==null?void 0:m(T),[T,m]),pe=p.useCallback(Le=>{Le.stopPropagation(),g==null||g(T)},[T,g]),ve=p.useCallback(()=>y(T),[T,y]),Ce=p.useCallback(()=>{M(!1),D(F.current)},[]),xe=p.useCallback(()=>{var Le;if(!Y||!N){Ce();return}(Le=H.current)==null||Le.discardDialogController.open()},[Ce,N,Y]),Ae=p.useCallback(Le=>{Le.isDefaultPrevented()||(Le.key==="Escape"&&(Le.preventDefault(),Le.stopPropagation(),xe()),b&&b(Le))},[b,xe]),Re=p.useCallback(()=>{var Le;(Le=H.current)==null||Le.discardDialogController.close()},[]),we=p.useCallback(()=>{var Le;(Le=H.current)==null||Le.discardDialogController.close(),Ce()},[Ce]),ye=p.useCallback(Le=>{v==null||v(T,Le)},[T,v]),ke=p.useCallback(()=>{x(T,{message:$}),M(!1)},[T,x,$]),be=p.useCallback(()=>{w==null||w(T,i.status==="open"?"resolved":"open")},[T,i.status,w]),Ee=p.useCallback(()=>{M(Le=>!Le)},[]),ce=p.useCallback(()=>U(!1),[]),_e=p.useCallback(Le=>{Le.key==="Escape"&&!N&&Ce()},[Ce,N]);is(O,ce),On(!N&&Ce,()=>[P.current]);const Ie=I!=null&&I.displayName?c.jsx(B,{size:1,weight:"medium",textOverflow:"ellipsis",title:I.displayName,children:I.displayName}):c.jsx(wr,{size:1,style:Msr});return c.jsxs(Vsr,{"data-menu-open":L?"true":"false","data-testid":"comments-list-item-layout",onKeyDown:_e,ref:P,space:4,children:[c.jsxs(Lsr,{space:1,"data-muted":X,children:[c.jsxs(Rsr,{align:"center",gap:pk,flex:1,$size:t,children:[k&&c.jsx(E4,{user:I,size:t}),c.jsxs(W,{direction:"column",gap:2,paddingY:l?2:0,children:[c.jsx(W,{align:"center",paddingBottom:(Me=i.context)!=null&&Me.intent?0:1,sizing:"border",flex:1,children:c.jsxs(W,{align:"flex-end",gap:2,children:[c.jsx(V,{flex:1,children:Ie}),!X&&c.jsxs(W,{align:"center",gap:1,children:[c.jsx(Lbe,{muted:!0,size:0,children:c.jsx("time",{dateTime:oe.toISOString(),title:K,children:se})}),q&&re&&c.jsx(Lbe,{muted:!0,size:0,title:q,children:c.jsxs("time",{dateTime:re.toISOString(),title:q,children:["(",j("list-item.layout-edited"),")"]})})]})]})}),l&&c.jsx(V,{flex:1,children:c.jsx(Fsr,{muted:!0,size:0,textOverflow:"ellipsis",children:c.jsx(wt,{t:j,i18nKey:"list-item.layout-context",values:{title:l.title,intent:"edit"},components:{IntentLink:({children:Le})=>l?c.jsx(Kc,{params:l.params,intent:l.name,children:Le}):void 0}})})})]}),!O&&!X&&c.jsx(Kk,{"data-root-menu":u?"true":"false",onClick:Fbe,children:c.jsx(jsr,{canDelete:n,canEdit:r,isParent:u,mode:h,onCopyLink:m?de:void 0,onDeleteStart:ve,onEditStart:Ee,onMenuClose:te,onMenuOpen:ie,onReactionSelect:ye,onStatusChange:w?be:void 0,readOnly:C,status:i.status})})]}),dC(i)&&!!(i!=null&&i.contentSnapshot)&&c.jsxs(W,{gap:pk,marginBottom:3,children:[k&&c.jsx(mv,{$size:t}),c.jsx(Osr,{hasReferencedValue:s,value:i==null?void 0:i.contentSnapshot})]}),O&&c.jsxs(W,{align:"flex-start",gap:2,children:[k&&c.jsx(mv,{$size:t}),c.jsx(ae,{flex:1,children:c.jsx(T0,{currentUser:o,focusOnMount:!0,mentionOptions:f,onChange:D,onDiscardCancel:Re,onDiscardConfirm:we,onKeyDown:Ae,onSubmit:ke,readOnly:C,ref:H,value:$,withAvatar:!1})})]}),!O&&c.jsxs(W,{gap:pk,children:[k&&c.jsx(mv,{$size:t}),c.jsx(fsr,{blocks:_})]}),ee&&c.jsxs(W,{gap:pk,marginTop:2,children:[k&&c.jsx(mv,{$size:t}),c.jsx(V,{onClick:Fbe,children:c.jsx(Esr,{currentUser:o,mode:h,onSelect:ye,reactions:J,readOnly:C})})]})]}),X&&c.jsxs(Nsr,{gap:pk,$size:t,children:[k&&c.jsx(mv,{$size:t}),c.jsxs(W,{align:"center",gap:1,flex:1,children:[c.jsxs(B,{muted:!0,size:1,children:[a&&j("list-item.layout-failed-sent"),d&&j("list-item.layout-posting")]}),c.jsx(W,{hidden:d,children:c.jsx(Bsr,{__unstable_focusRing:!0,display:"flex",forwardedAs:"button",onClick:pe,padding:1,radius:2,tone:"primary",children:c.jsx(B,{size:1,muted:!0,children:j("list-item.layout-retry")})})})]})]})]})}const SVe=R(le).attrs({padding:3,radius:3,sizing:"border"})(e=>{const{theme:t}=e,n=t.sanity.color.dark,r=ln[Hf][n?900:50].hex,i=ln.gray[n?900:50].hex;return he`
      background-color: ${i};

      &[data-active='true'] {
        background-color: ${r};
      }
    `}),Z0=[],mk=5,Usr={avatarSize:1,parentCommentAvatar:!0,replyAvatar:!0,threadCommentsAvatar:!0},Hsr=R(SVe)(()=>he`
    position: relative;

    &:has(> [data-ui='GhostButton']:focus:focus-visible) {
      box-shadow:
        inset 0 0 0 1px var(--card-border-color),
        0 0 0 1px var(--card-bg-color),
        0 0 0 2px var(--card-focus-ring-color);
    }

    // The hover styles is managed with the [data-hovered] attribute instead of the :hover pseudo class
    // since we want to show the hover styles when hovering over the menu items in the context menu as well.
    // The context menu is rendered using a portal, so the :hover pseudo class won't work when hovering over
    // the menu items.
    &:not([data-active='true']) {
      @media (hover: hover) {
        &[data-hovered='true'] {
          [data-root-menu='true'] {
            opacity: 1;
          }
        }
      }
    }
  `),Wsr=R(ge)(({theme:e})=>{const{medium:t}=e.sanity.fonts.text.weights;return he`
    font-weight: ${t};
  `}),Gsr=R.button`
  opacity: 0;
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  left: 0;
`,EVe=p.memo(function(e){var G,K,q,X,ie;const{avatarConfig:t=Usr,canReply:n,currentUser:r,hasReferencedValue:i,innerPadding:o,isSelected:a,mentionOptions:s,mode:l,onCopyLink:u,onCreateRetry:d,onDelete:f,onEdit:h,onKeyDown:m,onPathSelect:g,onReactionSelect:y,onReply:x,onStatusChange:b,parentComment:v,readOnly:w,replies:C=Z0}=e,{t:k}=Q(wi),[S,E]=p.useState(Z0),[_,T]=p.useState(!0),A=p.useRef(!1),I=p.useRef(null),{isTopLayer:j}=ns(),$=p.useMemo(()=>S0(S),[S]),[D,O]=p.useState(!1),M=p.useCallback(()=>O(!0),[]),P=p.useCallback(()=>O(!1),[]),F=p.useCallback(()=>{var de;const te={message:S,parentCommentId:v._id,status:(v==null?void 0:v.status)||"open",threadId:v.threadId,reactions:Z0,payload:{fieldPath:((de=v.target.path)==null?void 0:de.field)||""}};x==null||x(te),E(Z0)},[x,v._id,v==null?void 0:v.status,(G=v.target.path)==null?void 0:G.field,v.threadId,S]),L=p.useCallback(()=>{var te;if(!$){E(Z0);return}(te=I.current)==null||te.discardDialogController.open()},[$]),U=p.useCallback(te=>{te.isDefaultPrevented()||te.key==="Escape"&&(te.preventDefault(),te.stopPropagation(),L())},[L]),H=p.useCallback(()=>{var te;(te=I.current)==null||te.discardDialogController.close()},[]),N=p.useCallback(()=>{var te,de;E(Z0),(te=I.current)==null||te.discardDialogController.close(),(de=I.current)==null||de.focus()},[]),Y=p.useCallback(te=>{var de;te.stopPropagation(),j&&(g==null||g({fieldPath:((de=v.target.path)==null?void 0:de.field)||"",origin:"inspector",threadId:v.threadId}))},[j,g,(K=v.target.path)==null?void 0:K.field,v.threadId]),J=p.useCallback(te=>{te.stopPropagation(),T(!1),A.current=!0},[]),ee=p.useMemo(()=>_?C==null?void 0:C.slice(-mk):C,[C,_]),oe=p.useMemo(()=>C?C.length>mk:!1,[C]),re=p.useMemo(()=>`${(C==null?void 0:C.length)-mk} more ${(C==null?void 0:C.length)-mk===1?"comment":"comments"}`,[C==null?void 0:C.length]);p.useEffect(()=>{C.length>mk&&!A.current&&T(!0)},[C]);const se=p.useMemo(()=>ee.map(te=>{var de,pe;return c.jsx(ae,{as:"li",...Y0e(te._id),children:c.jsx(Nbe,{avatarSize:t.avatarSize,canDelete:te.authorId===r.id,canEdit:te.authorId===r.id,comment:te,currentUser:r,hasError:((de=te._state)==null?void 0:de.type)==="createError",isRetrying:((pe=te._state)==null?void 0:pe.type)==="createRetrying",intent:aWn(v,te),mentionOptions:s,mode:l,onCopyLink:u,onCreateRetry:d,onDelete:f,onEdit:h,onInputKeyDown:U,onReactionSelect:y,readOnly:w,withAvatar:t.threadCommentsAvatar})},te._id)}),[t.threadCommentsAvatar,t.avatarSize,r,U,s,u,d,f,h,y,v,w,ee,l]);return c.jsxs(Hsr,{"data-active":a?"true":"false","data-hovered":D?"true":"false","data-testid":"comments-list-item","data-ui":"CommentsListItem",onClick:Y,onMouseEnter:M,onMouseLeave:P,children:[c.jsx(Gsr,{"data-ui":"GhostButton","aria-label":k("list-item.go-to-field-button.aria-label")}),c.jsxs(ae,{as:"ul",padding:o,paddingBottom:n?void 0:1,space:4,children:[c.jsx(ae,{as:"li",...Y0e(v._id),children:c.jsx(Nbe,{avatarSize:t.avatarSize,canDelete:v.authorId===r.id,canEdit:v.authorId===r.id,comment:v,currentUser:r,hasError:((q=v._state)==null?void 0:q.type)==="createError",hasReferencedValue:i,intent:(X=v.context)==null?void 0:X.intent,isParent:!0,isRetrying:((ie=v._state)==null?void 0:ie.type)==="createRetrying",mentionOptions:s,mode:l,onCopyLink:u,onCreateRetry:d,onDelete:f,onEdit:h,onInputKeyDown:m,onReactionSelect:y,onStatusChange:b,readOnly:w,withAvatar:t.parentCommentAvatar})}),oe&&!A.current&&c.jsxs(W,{gap:1,paddingY:1,sizing:"border",children:[c.jsx(mv,{}),c.jsx(Wsr,{iconRight:ea,mode:"bleed",onClick:J,text:re})]}),se,n&&c.jsx(T0,{avatarSize:t.avatarSize,currentUser:r,expandOnFocus:!0,mentionOptions:s,onChange:E,onDiscardCancel:H,onDiscardConfirm:N,onKeyDown:U,onSubmit:F,placeholder:k(l==="upsell"?"compose.reply-placeholder-upsell":"compose.reply-placeholder"),readOnly:w||l==="upsell",ref:I,value:S,withAvatar:t.replyAvatar})]})]})});function Ksr(e){return{open:{title:e("list-status.empty-state-open-title"),message:e("list-status.empty-state-open-text")},resolved:{title:e("list-status.empty-state-resolved-title"),message:e("list-status.empty-state-resolved-text")}}}function Ysr(e){const{status:t,error:n,loading:r,hasNoComments:i}=e,{t:o}=Q(wi),a=Ksr(o);return n?c.jsx(W,{align:"center",justify:"center",flex:1,padding:4,children:c.jsx(W,{align:"center",children:c.jsx(B,{size:1,muted:!0,children:o("list-status.error")})})}):r?c.jsx(Dn,{showText:!0,title:o("list-status.loading")}):i?c.jsx(W,{align:"center",justify:"center",flex:1,sizing:"border",children:c.jsx(Ii,{width:0,padding:4,children:c.jsxs(ae,{space:3,children:[c.jsx(B,{align:"center",size:1,muted:!0,weight:"medium",children:a[t].title}),c.jsx(B,{align:"center",size:1,muted:!0,children:a[t].message})]})})}):null}const M9=[];function qsr(e){const{currentUser:t,fieldTitle:n,mentionOptions:r,mode:i,onBlur:o,onFocus:a,onKeyDown:s,onNewThreadCreate:l,readOnly:u}=e,{t:d}=Q(wi),[f,h]=p.useState(M9),m=p.useRef(null),g=p.useCallback(()=>{l==null||l(f),h(M9)},[l,f]),y=p.useMemo(()=>S0(f),[f]),x=p.useCallback(()=>{var k;y&&((k=m.current)==null||k.discardDialogController.open())},[y]),b=p.useCallback(k=>{k.isDefaultPrevented()||(k.key==="Escape"&&(k.preventDefault(),k.stopPropagation(),x()),s&&s(k))},[s,x]),v=p.useCallback(()=>{var k,S;h(M9),(k=m.current)==null||k.discardDialogController.close(),(S=m.current)==null||S.focus()},[]),w=p.useCallback(()=>{var k;(k=m.current)==null||k.discardDialogController.close()},[]),C=i==="upsell"?d("compose.add-comment-input-placeholder-upsell"):c.jsx(wt,{t:d,i18nKey:"compose.add-comment-input-placeholder",values:{field:n}});return c.jsx(T0,{currentUser:t,expandOnFocus:!0,mentionOptions:r,onBlur:o,onChange:h,onDiscardCancel:w,onDiscardConfirm:v,onKeyDown:b,onFocus:a,onSubmit:g,placeholder:C,readOnly:u||i==="upsell",ref:m,value:f})}const Zsr=R(W)`
  min-height: 25px;
`,Xsr=R(zt)(({theme:e})=>{const t=e.sanity.color.base.fg;return he`
    --card-fg-color: ${t};

    // The width is needed to make the text ellipsis work
    // in the breadcrumbs component
    max-width: 100%;
  `});function Jsr(e){const{breadcrumbs:t,canCreateNewThread:n,children:r,currentUser:i,fieldPath:o,isSelected:a,mentionOptions:s,mode:l,onNewThreadCreate:u,onPathSelect:d,readOnly:f}=e,{t:h}=Q(wi),m=p.useCallback(v=>{const w={message:v,parentCommentId:void 0,status:"open",threadId:Ca(),reactions:[],payload:{fieldPath:o}};u==null||u(w)},[u,o]),g=p.useCallback(v=>{v.stopPropagation(),d==null||d({fieldPath:o,origin:"inspector",threadId:null})},[o,d]),y=p.useCallback(v=>{v.stopPropagation(),v.detail!==0&&(d==null||d({fieldPath:o,origin:"inspector",threadId:null}))},[o,d]),x=p.useMemo(()=>(t==null?void 0:t.map(v=>v.title))||[],[t]),b=x[x.length-1];return c.jsxs(ae,{space:2,children:[c.jsx(Zsr,{align:"center",gap:2,paddingRight:1,sizing:"border",children:c.jsx(ae,{flex:1,children:c.jsx(W,{align:"center",children:c.jsx(Xsr,{"aria-label":h("list-item.breadcrumb-button-go-to-field-aria-label",{field:b}),mode:"bleed",onClick:g,padding:2,space:2,children:c.jsx(l_n,{maxLength:3,titlePath:x})})})})}),n&&c.jsx(SVe,{onClick:y,"data-active":a,children:c.jsx(qsr,{currentUser:i,fieldTitle:b,mentionOptions:s,mode:l,onNewThreadCreate:m,readOnly:f})}),c.jsx(ae,{space:2,children:r})]})}function Qsr(e){return e.reduce((t,n)=>{const r=n.fieldPath;return t[r]||(t[r]=[]),t[r].push(n),t},{})}const elr=p.forwardRef(function(e,t){const{beforeListNode:n,comments:r,currentUser:i,error:o,loading:a,mentionOptions:s,mode:l,onCopyLink:u,onCreateRetry:d,onDelete:f,onEdit:h,onNewThreadCreate:m,onPathSelect:g,onReactionSelect:y,onReply:x,onStatusChange:b,readOnly:v,selectedPath:w,status:C}=e,[k,S]=p.useState(null),E=p.useMemo(()=>Object.entries(Qsr(r)),[r]),_=!a&&!o&&E.length>0;return c.jsxs(W,{"data-testid":"comments-list",direction:"column",flex:1,height:"fill",overflow:"hidden",ref:S,sizing:"border",children:[l!=="upsell"&&c.jsx(Ysr,{error:o,hasNoComments:E.length===0,loading:a,status:C}),(_||n)&&c.jsxs(ae,{as:"ul",flex:1,overflow:"auto",padding:3,paddingTop:1,paddingBottom:6,sizing:"border",space:1,ref:t,children:[n,c.jsx($h,{element:k,children:E==null?void 0:E.map(([T,A])=>{const I=A[0].breadcrumbs,j=A[0].threadId,$=(w==null?void 0:w.fieldPath)===T&&!w.threadId;return c.jsx(ae,{as:"li",paddingTop:3,...LWn(j),children:c.jsx(Jsr,{breadcrumbs:I,canCreateNewThread:C==="open",currentUser:i,fieldPath:T,isSelected:$,mentionOptions:s,mode:l,onNewThreadCreate:m,onPathSelect:g,readOnly:v,children:A.map(D=>{var F,L,U;const O=D.replies.slice().reverse(),M=C==="open"&&((F=D.parentComment._state)==null?void 0:F.type)!=="createError"&&((L=D.parentComment._state)==null?void 0:L.type)!=="createRetrying",P=(w==null?void 0:w.threadId)===D.parentComment.threadId&&(w==null?void 0:w.fieldPath)===((U=D.parentComment.target.path)==null?void 0:U.field);return c.jsx(EVe,{canReply:M,currentUser:i,hasReferencedValue:D.hasReferencedValue,isSelected:P,mentionOptions:s,mode:l,onCopyLink:u,onCreateRetry:d,onDelete:f,onEdit:h,onPathSelect:g,onReactionSelect:y,onReply:x,onStatusChange:b,parentComment:D.parentComment,readOnly:v,replies:O},D.parentComment._id)})},T)},T)})})]})]})}),tlr=p.memo(elr),nlr=R(V)`
  max-width: 280px;
`,rlr=Fy`
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
`,ilr=R(Fn)`
  opacity: 0;
  // Fade in the popover after 500ms
  animation: ${rlr} 200ms 500ms forwards;
`;function olr(e){const{onDismiss:t}=e,{t:n}=Q(wi);return c.jsx(ilr,{content:c.jsx(nlr,{padding:4,children:c.jsxs(ae,{space:3,children:[c.jsx(B,{weight:"medium",size:1,children:n("onboarding.header")}),c.jsx(B,{size:1,children:n("onboarding.body")}),c.jsx(W,{justify:"flex-end",marginTop:2,children:c.jsx(ge,{text:n("onboarding.dismiss"),tone:"primary",onClick:t})})]})}),open:!0,portal:!0,...e})}function alr(e){const{data:t,onPrimaryClick:n,onSecondaryClick:r}=e;return c.jsx(Ii,{width:1,children:c.jsx(V,{marginBottom:6,children:c.jsx(eee,{data:t,onPrimaryClick:n,onSecondaryClick:r})})})}var slr=C3e,llr=aq,clr=llr(function(e,t,n){return t=t.toLowerCase(),e+(n?slr(t):t)}),ulr=clr;const Bbe=Ue(ulr);var dlr=aq,flr=dlr(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),hlr=flr;const plr=Ue(hlr);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Vbe=Object.getOwnPropertySymbols,mlr=Object.prototype.hasOwnProperty,glr=Object.prototype.propertyIsEnumerable;function ylr(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function vlr(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var blr=vlr()?Object.assign:function(e,t){for(var n,r=ylr(e),i,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var a in n)mlr.call(n,a)&&(r[a]=n[a]);if(Vbe){i=Vbe(n);for(var s=0;s<i.length;s++)glr.call(n,i[s])&&(r[i[s]]=n[i[s]])}}return r},sj=blr,xlr={};function ou(e,t,n,r,i,o,a,s){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],d=0;l=new Error(t.replace(/%s/g,function(){return u[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var zbe="mixins";function wlr(e,t,n){var r=[],i={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},o={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},a={displayName:function(C,k){C.displayName=k},mixins:function(C,k){if(k)for(var S=0;S<k.length;S++)l(C,k[S])},childContextTypes:function(C,k){C.childContextTypes=sj({},C.childContextTypes,k)},contextTypes:function(C,k){C.contextTypes=sj({},C.contextTypes,k)},getDefaultProps:function(C,k){C.getDefaultProps?C.getDefaultProps=f(C.getDefaultProps,k):C.getDefaultProps=k},propTypes:function(C,k){C.propTypes=sj({},C.propTypes,k)},statics:function(C,k){u(C,k)},autobind:function(){}};function s(C,k){var S=i.hasOwnProperty(k)?i[k]:null;b.hasOwnProperty(k)&&ou(S==="OVERRIDE_BASE","ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",k),C&&ou(S==="DEFINE_MANY"||S==="DEFINE_MANY_MERGED","ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",k)}function l(C,k){if(k){ou(typeof k!="function","ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),ou(!t(k),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var S=C.prototype,E=S.__reactAutoBindPairs;k.hasOwnProperty(zbe)&&a.mixins(C,k.mixins);for(var _ in k)if(k.hasOwnProperty(_)&&_!==zbe){var T=k[_],A=S.hasOwnProperty(_);if(s(A,_),a.hasOwnProperty(_))a[_](C,T);else{var I=i.hasOwnProperty(_),j=typeof T=="function",$=j&&!I&&!A&&k.autobind!==!1;if($)E.push(_,T),S[_]=T;else if(A){var D=i[_];ou(I&&(D==="DEFINE_MANY_MERGED"||D==="DEFINE_MANY"),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",D,_),D==="DEFINE_MANY_MERGED"?S[_]=f(S[_],T):D==="DEFINE_MANY"&&(S[_]=h(S[_],T))}else S[_]=T}}}}function u(C,k){if(k)for(var S in k){var E=k[S];if(k.hasOwnProperty(S)){var _=S in a;ou(!_,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',S);var T=S in C;if(T){var A=o.hasOwnProperty(S)?o[S]:null;ou(A==="DEFINE_MANY_MERGED","ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",S),C[S]=f(C[S],E);return}C[S]=E}}}function d(C,k){ou(C&&k&&typeof C=="object"&&typeof k=="object","mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var S in k)k.hasOwnProperty(S)&&(ou(C[S]===void 0,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",S),C[S]=k[S]);return C}function f(C,k){return function(){var E=C.apply(this,arguments),_=k.apply(this,arguments);if(E==null)return _;if(_==null)return E;var T={};return d(T,E),d(T,_),T}}function h(C,k){return function(){C.apply(this,arguments),k.apply(this,arguments)}}function m(C,k){var S=k.bind(C);return S}function g(C){for(var k=C.__reactAutoBindPairs,S=0;S<k.length;S+=2){var E=k[S],_=k[S+1];C[E]=m(C,_)}}var y={componentDidMount:function(){this.__isMounted=!0}},x={componentWillUnmount:function(){this.__isMounted=!1}},b={replaceState:function(C,k){this.updater.enqueueReplaceState(this,C,k)},isMounted:function(){return!!this.__isMounted}},v=function(){};sj(v.prototype,e.prototype,b);function w(C){var k=function(E,_,T){this.__reactAutoBindPairs.length&&g(this),this.props=E,this.context=_,this.refs=xlr,this.updater=T||n,this.state=null;var A=this.getInitialState?this.getInitialState():null;ou(typeof A=="object"&&!Array.isArray(A),"%s.getInitialState(): must return an object or null",k.displayName||"ReactCompositeComponent"),this.state=A};k.prototype=new v,k.prototype.constructor=k,k.prototype.__reactAutoBindPairs=[],r.forEach(l.bind(null,k)),l(k,y),l(k,C),l(k,x),k.getDefaultProps&&(k.defaultProps=k.getDefaultProps()),ou(k.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var S in i)k.prototype[S]||(k.prototype[S]=null);return k}return w}var Clr=wlr,qD=p,klr=Clr;if(typeof qD>"u")throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var Slr=new qD.Component().updater,_4=klr(qD.Component,qD.isValidElement,Slr),Elr=Date.now||_lr;function _lr(){return new Date().getTime()}var Ube=Elr,Tlr=function(t,n,r){var i,o,a,s,l;n==null&&(n=100);function u(){var d=Ube()-s;d<n&&d>0?i=setTimeout(u,n-d):(i=null,r||(l=t.apply(a,o),i||(a=o=null)))}return function(){a=this,o=arguments,s=Ube();var f=r&&!i;return i||(i=setTimeout(u,n)),f&&(l=t.apply(a,o),a=o=null),l}},Alr=jlr;function jlr(e){for(var t=Ilr(e),n=1732584193,r=-271733879,i=-1732584194,o=271733878,a=0;a<t.length;a+=16){var s=n,l=r,u=i,d=o;n=Ra(n,r,i,o,t[a+0],7,-680876936),o=Ra(o,n,r,i,t[a+1],12,-389564586),i=Ra(i,o,n,r,t[a+2],17,606105819),r=Ra(r,i,o,n,t[a+3],22,-1044525330),n=Ra(n,r,i,o,t[a+4],7,-176418897),o=Ra(o,n,r,i,t[a+5],12,1200080426),i=Ra(i,o,n,r,t[a+6],17,-1473231341),r=Ra(r,i,o,n,t[a+7],22,-45705983),n=Ra(n,r,i,o,t[a+8],7,1770035416),o=Ra(o,n,r,i,t[a+9],12,-1958414417),i=Ra(i,o,n,r,t[a+10],17,-42063),r=Ra(r,i,o,n,t[a+11],22,-1990404162),n=Ra(n,r,i,o,t[a+12],7,1804603682),o=Ra(o,n,r,i,t[a+13],12,-40341101),i=Ra(i,o,n,r,t[a+14],17,-1502002290),r=Ra(r,i,o,n,t[a+15],22,1236535329),n=Fa(n,r,i,o,t[a+1],5,-165796510),o=Fa(o,n,r,i,t[a+6],9,-1069501632),i=Fa(i,o,n,r,t[a+11],14,643717713),r=Fa(r,i,o,n,t[a+0],20,-373897302),n=Fa(n,r,i,o,t[a+5],5,-701558691),o=Fa(o,n,r,i,t[a+10],9,38016083),i=Fa(i,o,n,r,t[a+15],14,-660478335),r=Fa(r,i,o,n,t[a+4],20,-405537848),n=Fa(n,r,i,o,t[a+9],5,568446438),o=Fa(o,n,r,i,t[a+14],9,-1019803690),i=Fa(i,o,n,r,t[a+3],14,-187363961),r=Fa(r,i,o,n,t[a+8],20,1163531501),n=Fa(n,r,i,o,t[a+13],5,-1444681467),o=Fa(o,n,r,i,t[a+2],9,-51403784),i=Fa(i,o,n,r,t[a+7],14,1735328473),r=Fa(r,i,o,n,t[a+12],20,-1926607734),n=La(n,r,i,o,t[a+5],4,-378558),o=La(o,n,r,i,t[a+8],11,-2022574463),i=La(i,o,n,r,t[a+11],16,1839030562),r=La(r,i,o,n,t[a+14],23,-35309556),n=La(n,r,i,o,t[a+1],4,-1530992060),o=La(o,n,r,i,t[a+4],11,1272893353),i=La(i,o,n,r,t[a+7],16,-155497632),r=La(r,i,o,n,t[a+10],23,-1094730640),n=La(n,r,i,o,t[a+13],4,681279174),o=La(o,n,r,i,t[a+0],11,-358537222),i=La(i,o,n,r,t[a+3],16,-722521979),r=La(r,i,o,n,t[a+6],23,76029189),n=La(n,r,i,o,t[a+9],4,-640364487),o=La(o,n,r,i,t[a+12],11,-421815835),i=La(i,o,n,r,t[a+15],16,530742520),r=La(r,i,o,n,t[a+2],23,-995338651),n=Na(n,r,i,o,t[a+0],6,-198630844),o=Na(o,n,r,i,t[a+7],10,1126891415),i=Na(i,o,n,r,t[a+14],15,-1416354905),r=Na(r,i,o,n,t[a+5],21,-57434055),n=Na(n,r,i,o,t[a+12],6,1700485571),o=Na(o,n,r,i,t[a+3],10,-1894986606),i=Na(i,o,n,r,t[a+10],15,-1051523),r=Na(r,i,o,n,t[a+1],21,-2054922799),n=Na(n,r,i,o,t[a+8],6,1873313359),o=Na(o,n,r,i,t[a+15],10,-30611744),i=Na(i,o,n,r,t[a+6],15,-1560198380),r=Na(r,i,o,n,t[a+13],21,1309151649),n=Na(n,r,i,o,t[a+4],6,-145523070),o=Na(o,n,r,i,t[a+11],10,-1120210379),i=Na(i,o,n,r,t[a+2],15,718787259),r=Na(r,i,o,n,t[a+9],21,-343485551),n=Cm(n,s),r=Cm(r,l),i=Cm(i,u),o=Cm(o,d)}return lj(n)+lj(r)+lj(i)+lj(o)}var Hbe="0123456789abcdef";function wee(e,t){var n=e&1|t&1,r=e>>>1|t>>>1;return r<<1|n}function sH(e,t){var n=e&1^t&1,r=e>>>1^t>>>1;return r<<1|n}function ZD(e,t){var n=e&1&(t&1),r=e>>>1&t>>>1;return r<<1|n}function Cm(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function lj(e){var t="",n;for(n=0;n<=3;n++)t+=Hbe.charAt(e>>n*8+4&15)+Hbe.charAt(e>>n*8&15);return t}function Ilr(e){var t=(e.length+8>>6)+1,n=new Array(t*16),r;for(r=0;r<t*16;r++)n[r]=0;for(r=0;r<e.length;r++)n[r>>2]|=e.charCodeAt(r)<<(e.length*8+r)%4*8;n[r>>2]|=128<<(e.length*8+r)%4*8;var i=e.length*8;return n[t*16-2]=i&255,n[t*16-2]|=(i>>>8&255)<<8,n[t*16-2]|=(i>>>16&255)<<16,n[t*16-2]|=(i>>>24&255)<<24,n}function $lr(e,t){return e<<t|e>>>32-t}function T4(e,t,n,r,i,o){return Cm($lr(Cm(Cm(t,e),Cm(r,o)),i),n)}function Ra(e,t,n,r,i,o,a){return T4(wee(ZD(t,n),ZD(~t,r)),e,t,i,o,a)}function Fa(e,t,n,r,i,o,a){return T4(wee(ZD(t,r),ZD(n,~r)),e,t,i,o,a)}function La(e,t,n,r,i,o,a){return T4(sH(sH(t,n),r),e,t,i,o,a)}function Na(e,t,n,r,i,o,a){return T4(sH(n,wee(t,~r)),e,t,i,o,a)}var Dlr=Math.ceil(Math.random()*10),Olr=function(){return++Dlr},Cee=function(e){return Object.prototype.toString.call(e).slice(8,-1)},Mlr=Cee;function Plr(e){var t=Mlr(e);return t!=="Object"&&t!=="Array"}var _Ve=Plr,Rlr=p,Flr=_4,cj=Rlr.createElement,Llr=Flr({getDefaultProps:function(){return{string:"",highlight:""}},shouldComponentUpdate:function(e){return e.highlight!==this.props.highlight},render:function(){var e=this.props,t=e.string.search(e.highlight);if(!e.highlight||t===-1)return cj("span",null,e.string);var n=e.highlight.source.length,r=e.string.substr(t,n);return cj("span",null,e.string.split(e.highlight).map(function(i,o){return cj("span",{key:o},o>0?cj("span",{className:"json-inspector__hl"},r):null,i)}))}}),Nlr=p,Blr=_4,Vlr=Alr,zlr=Olr,TVe=Cee,BI=_Ve,Ulr=Llr,rc=Nlr.createElement,Hlr=".root.",AVe=Blr({getInitialState:function(){return{expanded:this._isInitiallyExpanded(this.props)}},getDefaultProps:function(){return{root:!1,prefix:""}},render:function(){var e="id_"+zlr(),t=this.props,n={path:this.keypath(),key:t.label.toString(),value:t.data},r=this._onClick.bind(this,n);return rc("div",{className:this.getClassName(),id:"leaf-"+this._rootPath()},rc("input",{className:"json-inspector__radio",type:"radio",name:t.id,id:e,tabIndex:-1}),rc("label",{className:"json-inspector__line",htmlFor:e,onClick:r},rc("div",{className:"json-inspector__flatpath"},n.path),rc("span",{className:"json-inspector__key"},this.format(n.key),":",this.renderInteractiveLabel(n.key,!0)),this.renderTitle(),this.renderShowOriginalButton()),this.renderChildren())},renderTitle:function(){var e=this.data(),t=TVe(e);switch(t){case"Array":var n=e.length;return rc("span",{className:"json-inspector__value json-inspector__value_helper"},(n>0?"[] ":"[] ")+Wlr(n));case"Object":var r=Object.keys(e).length;return rc("span",{className:"json-inspector__value json-inspector__value_helper"},(r>0?"{} ":"{} ")+Glr(r));default:return rc("span",{className:"json-inspector__value json-inspector__value_"+t.toLowerCase()},this.format(String(e)),this.renderInteractiveLabel(e,!1))}},renderChildren:function(){var e=this.props,t=this._rootPath(),n=this.data();return this.state.expanded&&!BI(n)?Object.keys(n).map(function(r){var i=n[r],o=!this.state.original||(e.verboseShowOriginal?e.query:!1);return rc(AVe,{data:i,label:r,prefix:t,onClick:e.onClick,id:e.id,query:e.query,getOriginal:o?e.getOriginal:null,key:Klr(r,i),isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal})},this):null},renderShowOriginalButton:function(){var e=this.props;return BI(e.data)||this.state.original||!e.getOriginal||!e.query||P9(this.keypath(),e.query)?null:rc("span",{className:"json-inspector__show-original",onClick:this._onShowOriginalClick})},renderInteractiveLabel:function(e,t){return typeof this.props.interactiveLabel=="function"?rc(this.props.interactiveLabel,{value:String(e),originalValue:e,isKey:t,keypath:this.keypath()}):null},componentWillReceiveProps:function(e){e.query&&this.setState({expanded:!P9(e.label,e.query)}),this.props.query&&!e.query&&this.setState({expanded:this._isInitiallyExpanded(e)})},_rootPath:function(){return this.props.prefix+"."+this.props.label},keypath:function(){return this._rootPath().substr(Hlr.length)},data:function(){return this.state.original||this.props.data},format:function(e){return rc(Ulr,{string:e,highlight:this.props.query})},getClassName:function(){var e="json-inspector__leaf";return this.props.root&&(e+=" json-inspector__leaf_root"),this.state.expanded&&(e+=" json-inspector__leaf_expanded"),BI(this.props.data)||(e+=" json-inspector__leaf_composite"),e},toggle:function(){this.setState({expanded:!this.state.expanded})},_onClick:function(e,t){this.toggle(),this.props.onClick(e),t.stopPropagation()},_onShowOriginalClick:function(e){this.setState({original:this.props.getOriginal(this.keypath())}),e.stopPropagation()},_isInitiallyExpanded:function(e){var t=this.keypath();return e.root?!0:e.query?!P9(t,e.query)&&typeof e.getOriginal=="function":e.isExpanded(t,e.data)}});function Wlr(e){return e+(e===1?" item":" items")}function Glr(e){return e+(e===1?" property":" properties")}function Klr(e,t){if(BI(t)){var n=Vlr(String(t));return e+":"+n}else return e+"["+TVe(t)+"]"}function P9(e,t){return e.indexOf(t)!==-1}var Ylr=AVe,jVe=function(){},qlr=p,Zlr=_4,Xlr=qlr.createElement,Jlr=jVe,Qlr=Zlr({getDefaultProps:function(){return{onChange:Jlr}},render:function(){return Xlr("input",{className:"json-inspector__search",type:"search",placeholder:"Search",onChange:this.onChange})},onChange:function(e){this.props.onChange(e.target.value)}}),IVe=function(e){return Object.keys(e).length===0},ecr=Object.keys,tcr=_Ve,ncr=IVe,rcr=function(e,t){t||(t={cacheResults:!0});var n={};return function(r){if(!t.cacheResults)return VI(e,r,t);var i;if(!n[r]){for(var o=r.length-1;o>0;o-=1)if(i=r.substr(0,o),n[i]){n[r]=VI(n[i],r,t);break}}return n[r]||(n[r]=VI(e,r,t)),n[r]}};function VI(e,t,n){return ecr(e).reduce(function(r,i){var o=e[i],a;return tcr(o)?(R9(t,i,n)||R9(t,o,n))&&(r[i]=o):R9(t,i,n)?r[i]=o:(a=VI(o,t,n),ncr(a)||Object.assign(r,icr(i,a))),r},{})}function R9(e,t,n){if(t){var r=String(t),i=e;return n.ignoreCase&&(r=r.toLowerCase(),i=i.toLowerCase()),r.indexOf(i)!==-1}}function icr(e,t){var n={};return n[e]=t,n}var ocr=Cee,F9=".";function lH(e,t){var n=t.split(F9),r=n.shift();if(!r)return e;var i=ocr(e);if(i==="Array"&&e[Wbe(r)])return lH(e[Wbe(r)],n.join(F9));if(i==="Object"&&e[r])return lH(e[r],n.join(F9))}function Wbe(e){return parseInt(e,10)}var acr=lH,scr=p,lcr=_4,ccr=Tlr,gk=scr.createElement,ucr=Ylr,dcr=Qlr,fcr=rcr,hcr=IVe,pcr=acr,mcr=jVe,gcr=lcr({getDefaultProps:function(){return{data:null,search:dcr,searchOptions:{debounceTime:0},className:"",id:"json-"+Date.now(),onClick:mcr,filterOptions:{cacheResults:!0,ignoreCase:!1},validateQuery:function(e){return e.length>=2},isExpanded:function(e,t){return!1},verboseShowOriginal:!1}},getInitialState:function(){return{query:this.props.query||""}},render:function(){var e=this.props,t=this.state,n=t.query!==""&&e.validateQuery(t.query),r=n?t.filterer(t.query):e.data,i=n&&hcr(r);return gk("div",{className:"json-inspector "+e.className},this.renderToolbar(),i?gk("div",{className:"json-inspector__not-found"},"Nothing found"):gk(ucr,{data:r,onClick:e.onClick,id:e.id,getOriginal:this.getOriginal,query:n?new RegExp(t.query,e.filterOptions.ignoreCase?"i":""):null,label:"root",root:!0,isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal}))},renderToolbar:function(){var e=this.props.search;if(e)return gk("div",{className:"json-inspector__toolbar"},gk(e,{onChange:ccr(this.search,this.props.searchOptions.debounceTime),data:this.props.data,query:this.state.query}))},search:function(e){this.setState({query:e})},componentWillMount:function(){this.createFilterer(this.props.data,this.props.filterOptions)},componentWillReceiveProps:function(e){this.createFilterer(e.data,e.filterOptions);var t=typeof e.query=="string"&&e.query!==this.state.query;t&&this.setState({query:e.query})},shouldComponentUpdate:function(e,t){return e.query!==this.props.query||t.query!==this.state.query||e.data!==this.props.data||e.onClick!==this.props.onClick},createFilterer:function(e,t){this.setState({filterer:fcr(e,t)})},getOriginal:function(e){return pcr(this.props.data,e)}});const ycr=Ue(gcr);class vcr{constructor(t={}){if(!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=t.maxSize,this.onEviction=t.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(t,n){if(this.cache.set(t,n),this._size++,this._size>=this.maxSize){if(this._size=0,typeof this.onEviction=="function")for(const[r,i]of this.oldCache.entries())this.onEviction(r,i);this.oldCache=this.cache,this.cache=new Map}}get(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t)){const n=this.oldCache.get(t);return this.oldCache.delete(t),this._set(t,n),n}}set(t,n){return this.cache.has(t)?this.cache.set(t,n):this._set(t,n),this}has(t){return this.cache.has(t)||this.oldCache.has(t)}peek(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t))return this.oldCache.get(t)}delete(t){const n=this.cache.delete(t);return n&&this._size--,this.oldCache.delete(t)||n}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[t]of this)yield t}*values(){for(const[,t]of this)yield t}*[Symbol.iterator](){for(const t of this.cache)yield t;for(const t of this.oldCache){const[n]=t;this.cache.has(n)||(yield t)}}get size(){let t=0;for(const n of this.oldCache.keys())this.cache.has(n)||t++;return Math.min(this._size+t,this.maxSize)}}var bcr=vcr;const xcr=Ue(bcr);var A4={},wcr=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(i){e.addRange(i)}),t&&t.focus()}},Ccr=wcr,Gbe={"text/plain":"Text","text/html":"Url",default:"Text"},kcr="Copy to clipboard: #{key}, Enter";function Scr(e){var t=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function Ecr(e,t){var n,r,i,o,a,s,l=!1;t||(t={}),n=t.debug||!1;try{i=Ccr(),o=document.createRange(),a=document.getSelection(),s=document.createElement("span"),s.textContent=e,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",function(d){if(d.stopPropagation(),t.format)if(d.preventDefault(),typeof d.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var f=Gbe[t.format]||Gbe.default;window.clipboardData.setData(f,e)}else d.clipboardData.clearData(),d.clipboardData.setData(t.format,e);t.onCopy&&(d.preventDefault(),t.onCopy(d.clipboardData))}),document.body.appendChild(s),o.selectNodeContents(s),a.addRange(o);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");l=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch(f){n&&console.error("unable to copy using clipboardData: ",f),n&&console.error("falling back to prompt"),r=Scr("message"in t?t.message:kcr),window.prompt(r,e)}}finally{a&&(typeof a.removeRange=="function"?a.removeRange(o):a.removeAllRanges()),s&&document.body.removeChild(s),i()}return l}var _cr=Ecr;function cH(e){"@babel/helpers - typeof";return cH=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cH(e)}Object.defineProperty(A4,"__esModule",{value:!0});A4.CopyToClipboard=void 0;var uj=$Ve(p),Tcr=$Ve(_cr),Acr=["text","onCopy","options","children"];function $Ve(e){return e&&e.__esModule?e:{default:e}}function Kbe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ybe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kbe(Object(n),!0).forEach(function(r){kee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kbe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jcr(e,t){if(e==null)return{};var n=Icr(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Icr(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function $cr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qbe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dcr(e,t,n){return t&&qbe(e.prototype,t),n&&qbe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ocr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uH(e,t)}function uH(e,t){return uH=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},uH(e,t)}function Mcr(e){var t=Rcr();return function(){var r=XD(e),i;if(t){var o=XD(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Pcr(this,i)}}function Pcr(e,t){if(t&&(cH(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DVe(e)}function DVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rcr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function XD(e){return XD=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},XD(e)}function kee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var OVe=function(e){Ocr(n,e);var t=Mcr(n);function n(){var r;$cr(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),kee(DVe(r),"onClick",function(s){var l=r.props,u=l.text,d=l.onCopy,f=l.children,h=l.options,m=uj.default.Children.only(f),g=(0,Tcr.default)(u,h);d&&d(u,g),m&&m.props&&typeof m.props.onClick=="function"&&m.props.onClick(s)}),r}return Dcr(n,[{key:"render",value:function(){var i=this.props;i.text,i.onCopy,i.options;var o=i.children,a=jcr(i,Acr),s=uj.default.Children.only(o);return uj.default.cloneElement(s,Ybe(Ybe({},a),{},{onClick:this.onClick}))}}]),n}(uj.default.PureComponent);A4.CopyToClipboard=OVe;kee(OVe,"defaultProps",{onCopy:void 0,options:void 0});var Fcr=A4,dH=Fcr.CopyToClipboard;dH.CopyToClipboard=dH;var Lcr=dH;const Ncr=Ue(Lcr);var Bcr=tp,Vcr=Ul,zcr="[object Number]";function Ucr(e){return typeof e=="number"||Vcr(e)&&Bcr(e)==zcr}var Hcr=Ucr;const Wcr=Ue(Hcr);/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Gcr(){return{accessor:(e,t)=>typeof e=="function"?{...t,accessorFn:e}:{...t,accessorKey:e},display:e=>e,group:e=>e}}function km(e,t){return typeof e=="function"?e(t):e}function zl(e,t){return n=>{t.setState(r=>({...r,[e]:km(n,r[e])}))}}function j4(e){return e instanceof Function}function Kcr(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function Ycr(e,t){const n=[],r=i=>{i.forEach(o=>{n.push(o);const a=t(o);a!=null&&a.length&&r(a)})};return r(e),n}function Pt(e,t,n){let r=[],i;return o=>{let a;n.key&&n.debug&&(a=Date.now());const s=e(o);if(!(s.length!==r.length||s.some((d,f)=>r[f]!==d)))return i;r=s;let u;if(n.key&&n.debug&&(u=Date.now()),i=t(...s),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const d=Math.round((Date.now()-a)*100)/100,f=Math.round((Date.now()-u)*100)/100,h=f/16,m=(g,y)=>{for(g=String(g);g.length<y;)g=" "+g;return g};console.info(`%c ${m(f,5)} /${m(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*h,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function Rt(e,t,n,r){return{debug:()=>{var i;return(i=e==null?void 0:e.debugAll)!=null?i:e[t]},key:!1,onChange:r}}function qcr(e,t,n,r){const i=()=>{var a;return(a=o.getValue())!=null?a:e.options.renderFallbackValue},o={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:i,getContext:Pt(()=>[e,n,t,o],(a,s,l,u)=>({table:a,column:s,row:l,cell:u,getValue:u.getValue,renderValue:u.renderValue}),Rt(e.options,"debugCells"))};return e._features.forEach(a=>{a.createCell==null||a.createCell(o,n,t,e)},{}),o}function Zcr(e,t,n,r){var i,o;const s={...e._getDefaultColumnDef(),...t},l=s.accessorKey;let u=(i=(o=s.id)!=null?o:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?i:typeof s.header=="string"?s.header:void 0,d;if(s.accessorFn?d=s.accessorFn:l&&(l.includes(".")?d=h=>{let m=h;for(const y of l.split(".")){var g;m=(g=m)==null?void 0:g[y]}return m}:d=h=>h[s.accessorKey]),!u)throw new Error;let f={id:`${String(u)}`,accessorFn:d,parent:r,depth:n,columnDef:s,columns:[],getFlatColumns:Pt(()=>[!0],()=>{var h;return[f,...(h=f.columns)==null?void 0:h.flatMap(m=>m.getFlatColumns())]},Rt(e.options,"debugColumns")),getLeafColumns:Pt(()=>[e._getOrderColumnsFn()],h=>{var m;if((m=f.columns)!=null&&m.length){let g=f.columns.flatMap(y=>y.getLeafColumns());return h(g)}return[f]},Rt(e.options,"debugColumns"))};for(const h of e._features)h.createColumn==null||h.createColumn(f,e);return f}const Ba="debugHeaders";function Zbe(e,t,n){var r;let o={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const a=[],s=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(s),a.push(l)};return s(o),a},getContext:()=>({table:e,header:o,column:t})};return e._features.forEach(a=>{a.createHeader==null||a.createHeader(o,e)}),o}const Xcr={createTable:e=>{e.getHeaderGroups=Pt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>{var o,a;const s=(o=r==null?void 0:r.map(f=>n.find(h=>h.id===f)).filter(Boolean))!=null?o:[],l=(a=i==null?void 0:i.map(f=>n.find(h=>h.id===f)).filter(Boolean))!=null?a:[],u=n.filter(f=>!(r!=null&&r.includes(f.id))&&!(i!=null&&i.includes(f.id)));return dj(t,[...s,...u,...l],e)},Rt(e.options,Ba)),e.getCenterHeaderGroups=Pt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>(n=n.filter(o=>!(r!=null&&r.includes(o.id))&&!(i!=null&&i.includes(o.id))),dj(t,n,e,"center")),Rt(e.options,Ba)),e.getLeftHeaderGroups=Pt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var i;const o=(i=r==null?void 0:r.map(a=>n.find(s=>s.id===a)).filter(Boolean))!=null?i:[];return dj(t,o,e,"left")},Rt(e.options,Ba)),e.getRightHeaderGroups=Pt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var i;const o=(i=r==null?void 0:r.map(a=>n.find(s=>s.id===a)).filter(Boolean))!=null?i:[];return dj(t,o,e,"right")},Rt(e.options,Ba)),e.getFooterGroups=Pt(()=>[e.getHeaderGroups()],t=>[...t].reverse(),Rt(e.options,Ba)),e.getLeftFooterGroups=Pt(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),Rt(e.options,Ba)),e.getCenterFooterGroups=Pt(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),Rt(e.options,Ba)),e.getRightFooterGroups=Pt(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),Rt(e.options,Ba)),e.getFlatHeaders=Pt(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),Rt(e.options,Ba)),e.getLeftFlatHeaders=Pt(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),Rt(e.options,Ba)),e.getCenterFlatHeaders=Pt(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),Rt(e.options,Ba)),e.getRightFlatHeaders=Pt(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),Rt(e.options,Ba)),e.getCenterLeafHeaders=Pt(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Rt(e.options,Ba)),e.getLeftLeafHeaders=Pt(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Rt(e.options,Ba)),e.getRightLeafHeaders=Pt(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Rt(e.options,Ba)),e.getLeafHeaders=Pt(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var i,o,a,s,l,u;return[...(i=(o=t[0])==null?void 0:o.headers)!=null?i:[],...(a=(s=n[0])==null?void 0:s.headers)!=null?a:[],...(l=(u=r[0])==null?void 0:u.headers)!=null?l:[]].map(d=>d.getLeafHeaders()).flat()},Rt(e.options,Ba))}};function dj(e,t,n,r){var i,o;let a=0;const s=function(h,m){m===void 0&&(m=1),a=Math.max(a,m),h.filter(g=>g.getIsVisible()).forEach(g=>{var y;(y=g.columns)!=null&&y.length&&s(g.columns,m+1)},0)};s(e);let l=[];const u=(h,m)=>{const g={depth:m,id:[r,`${m}`].filter(Boolean).join("_"),headers:[]},y=[];h.forEach(x=>{const b=[...y].reverse()[0],v=x.column.depth===g.depth;let w,C=!1;if(v&&x.column.parent?w=x.column.parent:(w=x.column,C=!0),b&&(b==null?void 0:b.column)===w)b.subHeaders.push(x);else{const k=Zbe(n,w,{id:[r,m,w.id,x==null?void 0:x.id].filter(Boolean).join("_"),isPlaceholder:C,placeholderId:C?`${y.filter(S=>S.column===w).length}`:void 0,depth:m,index:y.length});k.subHeaders.push(x),y.push(k)}g.headers.push(x),x.headerGroup=g}),l.push(g),m>0&&u(y,m-1)},d=t.map((h,m)=>Zbe(n,h,{depth:a,index:m}));u(d,a-1),l.reverse();const f=h=>h.filter(g=>g.column.getIsVisible()).map(g=>{let y=0,x=0,b=[0];g.subHeaders&&g.subHeaders.length?(b=[],f(g.subHeaders).forEach(w=>{let{colSpan:C,rowSpan:k}=w;y+=C,b.push(k)})):y=1;const v=Math.min(...b);return x=x+v,g.colSpan=y,g.rowSpan=x,{colSpan:y,rowSpan:x}});return f((i=(o=l[0])==null?void 0:o.headers)!=null?i:[]),l}const See=(e,t,n,r,i,o,a)=>{let s={id:t,index:r,original:n,depth:i,parentId:a,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(s._valuesCache.hasOwnProperty(l))return s._valuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return s._valuesCache[l]=u.accessorFn(s.original,r),s._valuesCache[l]},getUniqueValues:l=>{if(s._uniqueValuesCache.hasOwnProperty(l))return s._uniqueValuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(s._uniqueValuesCache[l]=u.columnDef.getUniqueValues(s.original,r),s._uniqueValuesCache[l]):(s._uniqueValuesCache[l]=[s.getValue(l)],s._uniqueValuesCache[l])},renderValue:l=>{var u;return(u=s.getValue(l))!=null?u:e.options.renderFallbackValue},subRows:o??[],getLeafRows:()=>Ycr(s.subRows,l=>l.subRows),getParentRow:()=>s.parentId?e.getRow(s.parentId,!0):void 0,getParentRows:()=>{let l=[],u=s;for(;;){const d=u.getParentRow();if(!d)break;l.push(d),u=d}return l.reverse()},getAllCells:Pt(()=>[e.getAllLeafColumns()],l=>l.map(u=>qcr(e,s,u,u.id)),Rt(e.options,"debugRows")),_getAllCellsByColumnId:Pt(()=>[s.getAllCells()],l=>l.reduce((u,d)=>(u[d.column.id]=d,u),{}),Rt(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const u=e._features[l];u==null||u.createRow==null||u.createRow(s,e)}return s},Jcr={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},MVe=(e,t,n)=>{var r,i;const o=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=e.getValue(t))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(o))};MVe.autoRemove=e=>$u(e);const PVe=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};PVe.autoRemove=e=>$u(e);const RVe=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};RVe.autoRemove=e=>$u(e);const FVe=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};FVe.autoRemove=e=>$u(e);const LVe=(e,t,n)=>!n.some(r=>{var i;return!((i=e.getValue(t))!=null&&i.includes(r))});LVe.autoRemove=e=>$u(e)||!(e!=null&&e.length);const NVe=(e,t,n)=>n.some(r=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(r)});NVe.autoRemove=e=>$u(e)||!(e!=null&&e.length);const BVe=(e,t,n)=>e.getValue(t)===n;BVe.autoRemove=e=>$u(e);const VVe=(e,t,n)=>e.getValue(t)==n;VVe.autoRemove=e=>$u(e);const Eee=(e,t,n)=>{let[r,i]=n;const o=e.getValue(t);return o>=r&&o<=i};Eee.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,i=typeof n!="number"?parseFloat(n):n,o=t===null||Number.isNaN(r)?-1/0:r,a=n===null||Number.isNaN(i)?1/0:i;if(o>a){const s=o;o=a,a=s}return[o,a]};Eee.autoRemove=e=>$u(e)||$u(e[0])&&$u(e[1]);const Vf={includesString:MVe,includesStringSensitive:PVe,equalsString:RVe,arrIncludes:FVe,arrIncludesAll:LVe,arrIncludesSome:NVe,equals:BVe,weakEquals:VVe,inNumberRange:Eee};function $u(e){return e==null||e===""}const Qcr={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:zl("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?Vf.includesString:typeof r=="number"?Vf.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Vf.equals:Array.isArray(r)?Vf.arrIncludes:Vf.weakEquals},e.getFilterFn=()=>{var n,r;return j4(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Vf[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,i;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const i=e.getFilterFn(),o=r==null?void 0:r.find(d=>d.id===e.id),a=km(n,o?o.value:void 0);if(Xbe(i,a,e)){var s;return(s=r==null?void 0:r.filter(d=>d.id!==e.id))!=null?s:[]}const l={id:e.id,value:a};if(o){var u;return(u=r==null?void 0:r.map(d=>d.id===e.id?l:d))!=null?u:[]}return r!=null&&r.length?[...r,l]:[l]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=i=>{var o;return(o=km(t,i))==null?void 0:o.filter(a=>{const s=n.find(l=>l.id===a.id);if(s){const l=s.getFilterFn();if(Xbe(l,a.value,s))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Xbe(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const eur=(e,t,n)=>n.reduce((r,i)=>{const o=i.getValue(e);return r+(typeof o=="number"?o:0)},0),tur=(e,t,n)=>{let r;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}),r},nur=(e,t,n)=>{let r;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}),r},rur=(e,t,n)=>{let r,i;return n.forEach(o=>{const a=o.getValue(e);a!=null&&(r===void 0?a>=a&&(r=i=a):(r>a&&(r=a),i<a&&(i=a)))}),[r,i]},iur=(e,t)=>{let n=0,r=0;if(t.forEach(i=>{let o=i.getValue(e);o!=null&&(o=+o)>=o&&(++n,r+=o)}),n)return r/n},our=(e,t)=>{if(!t.length)return;const n=t.map(o=>o.getValue(e));if(!Kcr(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((o,a)=>o-a);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},aur=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),sur=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,lur=(e,t)=>t.length,L9={sum:eur,min:tur,max:nur,extent:rur,mean:iur,median:our,unique:aur,uniqueCount:sur,count:lur},cur={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:zl("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return L9.sum;if(Object.prototype.toString.call(r)==="[object Date]")return L9.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return j4(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:L9[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function uur(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(o=>!t.includes(o.id));return n==="remove"?r:[...t.map(o=>e.find(a=>a.id===o)).filter(Boolean),...r]}const dur={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:zl("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=Pt(n=>[KS(t,n)],n=>n.findIndex(r=>r.id===e.id),Rt(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=KS(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const i=KS(t,n);return((r=i[i.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=Pt(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>i=>{let o=[];if(!(t!=null&&t.length))o=i;else{const a=[...t],s=[...i];for(;s.length&&a.length;){const l=a.shift(),u=s.findIndex(d=>d.id===l);u>-1&&o.push(s.splice(u,1)[0])}o=[...o,...s]}return uur(o,n,r)},Rt(e.options,"debugTable"))}},N9=()=>({left:[],right:[]}),fur={getInitialState:e=>({columnPinning:N9(),...e}),getDefaultOptions:e=>({onColumnPinningChange:zl("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(i=>i.id).filter(Boolean);t.setColumnPinning(i=>{var o,a;if(n==="right"){var s,l;return{left:((s=i==null?void 0:i.left)!=null?s:[]).filter(f=>!(r!=null&&r.includes(f))),right:[...((l=i==null?void 0:i.right)!=null?l:[]).filter(f=>!(r!=null&&r.includes(f))),...r]}}if(n==="left"){var u,d;return{left:[...((u=i==null?void 0:i.left)!=null?u:[]).filter(f=>!(r!=null&&r.includes(f))),...r],right:((d=i==null?void 0:i.right)!=null?d:[]).filter(f=>!(r!=null&&r.includes(f)))}}return{left:((o=i==null?void 0:i.left)!=null?o:[]).filter(f=>!(r!=null&&r.includes(f))),right:((a=i==null?void 0:i.right)!=null?a:[]).filter(f=>!(r!=null&&r.includes(f)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var i,o,a;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((o=(a=t.options.enableColumnPinning)!=null?a:t.options.enablePinning)!=null?o:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(s=>s.id),{left:r,right:i}=t.getState().columnPinning,o=n.some(s=>r==null?void 0:r.includes(s)),a=n.some(s=>i==null?void 0:i.includes(s));return o?"left":a?"right":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();return i?(n=(r=t.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=Pt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,i)=>{const o=[...r??[],...i??[]];return n.filter(a=>!o.includes(a.column.id))},Rt(t.options,"debugRows")),e.getLeftVisibleCells=Pt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(o=>n.find(a=>a.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),Rt(t.options,"debugRows")),e.getRightVisibleCells=Pt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(o=>n.find(a=>a.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),Rt(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?N9():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:N9())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var i,o;return!!((i=r.left)!=null&&i.length||(o=r.right)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=Pt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),Rt(e.options,"debugColumns")),e.getRightLeafColumns=Pt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),Rt(e.options,"debugColumns")),e.getCenterLeafColumns=Pt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const i=[...n??[],...r??[]];return t.filter(o=>!i.includes(o.id))},Rt(e.options,"debugColumns"))}};function hur(e){return e||(typeof document<"u"?document:null)}const fj={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},B9=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),pur={getDefaultColumnDef:()=>fj,getInitialState:e=>({columnSizing:{},columnSizingInfo:B9(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:zl("columnSizing",e),onColumnSizingInfoChange:zl("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,i;const o=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:fj.minSize,(r=o??e.columnDef.size)!=null?r:fj.size),(i=e.columnDef.maxSize)!=null?i:fj.maxSize)},e.getStart=Pt(n=>[n,KS(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((i,o)=>i+o.getSize(),0),Rt(t.options,"debugColumns")),e.getAfter=Pt(n=>[n,KS(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((i,o)=>i+o.getSize(),0),Rt(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...i}=n;return i})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var o;n+=(o=i.column.getSize())!=null?o:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),i=r==null?void 0:r.getCanResize();return o=>{if(!r||!i||(o.persist==null||o.persist(),V9(o)&&o.touches&&o.touches.length>1))return;const a=e.getSize(),s=e?e.getLeafHeaders().map(b=>[b.column.id,b.column.getSize()]):[[r.id,r.getSize()]],l=V9(o)?Math.round(o.touches[0].clientX):o.clientX,u={},d=(b,v)=>{typeof v=="number"&&(t.setColumnSizingInfo(w=>{var C,k;const S=t.options.columnResizeDirection==="rtl"?-1:1,E=(v-((C=w==null?void 0:w.startOffset)!=null?C:0))*S,_=Math.max(E/((k=w==null?void 0:w.startSize)!=null?k:0),-.999999);return w.columnSizingStart.forEach(T=>{let[A,I]=T;u[A]=Math.round(Math.max(I+I*_,0)*100)/100}),{...w,deltaOffset:E,deltaPercentage:_}}),(t.options.columnResizeMode==="onChange"||b==="end")&&t.setColumnSizing(w=>({...w,...u})))},f=b=>d("move",b),h=b=>{d("end",b),t.setColumnSizingInfo(v=>({...v,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},m=hur(n),g={moveHandler:b=>f(b.clientX),upHandler:b=>{m==null||m.removeEventListener("mousemove",g.moveHandler),m==null||m.removeEventListener("mouseup",g.upHandler),h(b.clientX)}},y={moveHandler:b=>(b.cancelable&&(b.preventDefault(),b.stopPropagation()),f(b.touches[0].clientX),!1),upHandler:b=>{var v;m==null||m.removeEventListener("touchmove",y.moveHandler),m==null||m.removeEventListener("touchend",y.upHandler),b.cancelable&&(b.preventDefault(),b.stopPropagation()),h((v=b.touches[0])==null?void 0:v.clientX)}},x=mur()?{passive:!1}:!1;V9(o)?(m==null||m.addEventListener("touchmove",y.moveHandler,x),m==null||m.addEventListener("touchend",y.upHandler,x)):(m==null||m.addEventListener("mousemove",g.moveHandler,x),m==null||m.addEventListener("mouseup",g.upHandler,x)),t.setColumnSizingInfo(b=>({...b,startOffset:l,startSize:a,deltaOffset:0,deltaPercentage:0,columnSizingStart:s,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?B9():(n=e.initialState.columnSizingInfo)!=null?n:B9())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0}}};let hj=null;function mur(){if(typeof hj=="boolean")return hj;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return hj=e,hj}function V9(e){return e.type==="touchstart"}const gur={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:zl("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const i=e.columns;return(n=i.length?i.some(o=>o.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Pt(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),Rt(t.options,"debugRows")),e.getVisibleCells=Pt(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],Rt(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>Pt(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),Rt(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,o)=>({...i,[o.id]:n||!(o.getCanHide!=null&&o.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function KS(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const yur={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},vur={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:zl("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,i,o;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&((o=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?o:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Vf.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return j4(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Vf[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},bur={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:zl("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var i,o;e.setExpanded(r?{}:(i=(o=e.initialState)==null?void 0:o.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(o=>{const a=o.split(".");r=Math.max(r,a.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var i;const o=r===!0?!0:!!(r!=null&&r[e.id]);let a={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(s=>{a[s]=!0}):a=r,n=(i=n)!=null?i:!o,!o&&n)return{...a,[e.id]:!0};if(o&&!n){const{[e.id]:s,...l}=a;return l}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,i;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},fH=0,hH=10,z9=()=>({pageIndex:fH,pageSize:hH}),xur={getInitialState:e=>({...e,pagination:{...z9(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:zl("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const i=o=>km(r,o);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=r=>{var i;e.setPagination(r?z9():(i=e.initialState.pagination)!=null?i:z9())},e.setPageIndex=r=>{e.setPagination(i=>{let o=km(r,i.pageIndex);const a=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return o=Math.max(0,Math.min(o,a)),{...i,pageIndex:o}})},e.resetPageIndex=r=>{var i,o;e.setPageIndex(r?fH:(i=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?i:fH)},e.resetPageSize=r=>{var i,o;e.setPageSize(r?hH:(i=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?i:hH)},e.setPageSize=r=>{e.setPagination(i=>{const o=Math.max(1,km(r,i.pageSize)),a=i.pageSize*i.pageIndex,s=Math.floor(a/o);return{...i,pageIndex:s,pageSize:o}})},e.setPageCount=r=>e.setPagination(i=>{var o;let a=km(r,(o=e.options.pageCount)!=null?o:-1);return typeof a=="number"&&(a=Math.max(-1,a)),{...i,pageCount:a}}),e.getPageOptions=Pt(()=>[e.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((o,a)=>a)),i},Rt(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:r<i-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},U9=()=>({top:[],bottom:[]}),wur={getInitialState:e=>({rowPinning:U9(),...e}),getDefaultOptions:e=>({onRowPinningChange:zl("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,i)=>{const o=r?e.getLeafRows().map(l=>{let{id:u}=l;return u}):[],a=i?e.getParentRows().map(l=>{let{id:u}=l;return u}):[],s=new Set([...a,e.id,...o]);t.setRowPinning(l=>{var u,d;if(n==="bottom"){var f,h;return{top:((f=l==null?void 0:l.top)!=null?f:[]).filter(y=>!(s!=null&&s.has(y))),bottom:[...((h=l==null?void 0:l.bottom)!=null?h:[]).filter(y=>!(s!=null&&s.has(y))),...Array.from(s)]}}if(n==="top"){var m,g;return{top:[...((m=l==null?void 0:l.top)!=null?m:[]).filter(y=>!(s!=null&&s.has(y))),...Array.from(s)],bottom:((g=l==null?void 0:l.bottom)!=null?g:[]).filter(y=>!(s!=null&&s.has(y)))}}return{top:((u=l==null?void 0:l.top)!=null?u:[]).filter(y=>!(s!=null&&s.has(y))),bottom:((d=l==null?void 0:l.bottom)!=null?d:[]).filter(y=>!(s!=null&&s.has(y)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=t.options;return typeof r=="function"?r(e):(n=r??i)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:i}=t.getState().rowPinning,o=n.some(s=>r==null?void 0:r.includes(s)),a=n.some(s=>i==null?void 0:i.includes(s));return o?"top":a?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();if(!i)return-1;const o=(n=i==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(a=>{let{id:s}=a;return s});return(r=o==null?void 0:o.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?U9():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:U9())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var i,o;return!!((i=r.top)!=null&&i.length||(o=r.bottom)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(n??[]).map(a=>{const s=e.getRow(a,!0);return s.getIsAllParentsExpanded()?s:null}):(n??[]).map(a=>t.find(s=>s.id===a))).filter(Boolean).map(a=>({...a,position:r}))},e.getTopRows=Pt(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),Rt(e.options,"debugRows")),e.getBottomRows=Pt(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),Rt(e.options,"debugRows")),e.getCenterRows=Pt(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const i=new Set([...n??[],...r??[]]);return t.filter(o=>!i.has(o.id))},Rt(e.options,"debugRows"))}},Cur={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:zl("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(o=>{o.getCanSelect()&&(r[o.id]=!0)}):i.forEach(o=>{delete r[o.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach(o=>{pH(i,o.id,r,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Pt(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?H9(e,n):{rows:[],flatRows:[],rowsById:{}},Rt(e.options,"debugTable")),e.getFilteredSelectedRowModel=Pt(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?H9(e,n):{rows:[],flatRows:[],rowsById:{}},Rt(e.options,"debugTable")),e.getGroupedSelectedRowModel=Pt(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?H9(e,n):{rows:[],flatRows:[],rowsById:{}},Rt(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(i=>!n[i.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const i=e.getIsSelected();t.setRowSelection(o=>{var a;if(n=typeof n<"u"?n:!i,e.getCanSelect()&&i===n)return o;const s={...o};return pH(s,e.id,n,(a=r==null?void 0:r.selectChildren)!=null?a:!0,t),s})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return _ee(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return mH(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return mH(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var i;n&&e.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},pH=(e,t,n,r,i)=>{var o;const a=i.getRow(t,!0);n?(a.getCanMultiSelect()||Object.keys(e).forEach(s=>delete e[s]),a.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(o=a.subRows)!=null&&o.length&&a.getCanSelectSubRows()&&a.subRows.forEach(s=>pH(e,s.id,n,r,i))};function H9(e,t){const n=e.getState().rowSelection,r=[],i={},o=function(a,s){return a.map(l=>{var u;const d=_ee(l,n);if(d&&(r.push(l),i[l.id]=l),(u=l.subRows)!=null&&u.length&&(l={...l,subRows:o(l.subRows)}),d)return l}).filter(Boolean)};return{rows:o(t.rows),flatRows:r,rowsById:i}}function _ee(e,t){var n;return(n=t[e.id])!=null?n:!1}function mH(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let i=!0,o=!1;return e.subRows.forEach(a=>{if(!(o&&!i)&&(a.getCanSelect()&&(_ee(a,t)?o=!0:i=!1),a.subRows&&a.subRows.length)){const s=mH(a,t);s==="all"?o=!0:(s==="some"&&(o=!0),i=!1)}}),i?"all":o?"some":!1}const gH=/([0-9]+)/gm,kur=(e,t,n)=>zVe(ig(e.getValue(n)).toLowerCase(),ig(t.getValue(n)).toLowerCase()),Sur=(e,t,n)=>zVe(ig(e.getValue(n)),ig(t.getValue(n))),Eur=(e,t,n)=>Tee(ig(e.getValue(n)).toLowerCase(),ig(t.getValue(n)).toLowerCase()),_ur=(e,t,n)=>Tee(ig(e.getValue(n)),ig(t.getValue(n))),Tur=(e,t,n)=>{const r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},Aur=(e,t,n)=>Tee(e.getValue(n),t.getValue(n));function Tee(e,t){return e===t?0:e>t?1:-1}function ig(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function zVe(e,t){const n=e.split(gH).filter(Boolean),r=t.split(gH).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),o=r.shift(),a=parseInt(i,10),s=parseInt(o,10),l=[a,s].sort();if(isNaN(l[0])){if(i>o)return 1;if(o>i)return-1;continue}if(isNaN(l[1]))return isNaN(a)?-1:1;if(a>s)return 1;if(s>a)return-1}return n.length-r.length}const yk={alphanumeric:kur,alphanumericCaseSensitive:Sur,text:Eur,textCaseSensitive:_ur,datetime:Tur,basic:Aur},jur={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:zl("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const o=i==null?void 0:i.getValue(e.id);if(Object.prototype.toString.call(o)==="[object Date]")return yk.datetime;if(typeof o=="string"&&(r=!0,o.split(gH).length>1))return yk.alphanumeric}return r?yk.text:yk.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return j4(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:yk[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const i=e.getNextSortingOrder(),o=typeof n<"u"&&n!==null;t.setSorting(a=>{const s=a==null?void 0:a.find(m=>m.id===e.id),l=a==null?void 0:a.findIndex(m=>m.id===e.id);let u=[],d,f=o?n:i==="desc";if(a!=null&&a.length&&e.getCanMultiSort()&&r?s?d="toggle":d="add":a!=null&&a.length&&l!==a.length-1?d="replace":s?d="toggle":d="replace",d==="toggle"&&(o||i||(d="remove")),d==="add"){var h;u=[...a,{id:e.id,desc:f}],u.splice(0,u.length-((h=t.options.maxMultiSortColCount)!=null?h:Number.MAX_SAFE_INTEGER))}else d==="toggle"?u=a.map(m=>m.id===e.id?{...m,desc:f}:m):d==="remove"?u=a.filter(m=>m.id!==e.id):u=[{id:e.id,desc:f}];return u})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,i;const o=e.getFirstSortDir(),a=e.getIsSorted();return a?a!==o&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(i=t.options.enableMultiRemove)!=null)||i)?!1:a==="desc"?"asc":"desc":o},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(i=>i.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},Iur=[Xcr,gur,dur,fur,Jcr,Qcr,yur,vur,jur,cur,bur,xur,wur,Cur,pur];function $ur(e){var t,n;const r=[...Iur,...(t=e._features)!=null?t:[]];let i={_features:r};const o=i._features.reduce((h,m)=>Object.assign(h,m.getDefaultOptions==null?void 0:m.getDefaultOptions(i)),{}),a=h=>i.options.mergeOptions?i.options.mergeOptions(o,h):{...o,...h};let l={...{},...(n=e.initialState)!=null?n:{}};i._features.forEach(h=>{var m;l=(m=h.getInitialState==null?void 0:h.getInitialState(l))!=null?m:l});const u=[];let d=!1;const f={_features:r,options:{...o,...e},initialState:l,_queue:h=>{u.push(h),d||(d=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();d=!1}).catch(m=>setTimeout(()=>{throw m})))},reset:()=>{i.setState(i.initialState)},setOptions:h=>{const m=km(h,i.options);i.options=a(m)},getState:()=>i.options.state,setState:h=>{i.options.onStateChange==null||i.options.onStateChange(h)},_getRowId:(h,m,g)=>{var y;return(y=i.options.getRowId==null?void 0:i.options.getRowId(h,m,g))!=null?y:`${g?[g.id,m].join("."):m}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(h,m)=>{let g=(m?i.getPrePaginationRowModel():i.getRowModel()).rowsById[h];if(!g&&(g=i.getCoreRowModel().rowsById[h],!g))throw new Error;return g},_getDefaultColumnDef:Pt(()=>[i.options.defaultColumn],h=>{var m;return h=(m=h)!=null?m:{},{header:g=>{const y=g.header.column.columnDef;return y.accessorKey?y.accessorKey:y.accessorFn?y.id:null},cell:g=>{var y,x;return(y=(x=g.renderValue())==null||x.toString==null?void 0:x.toString())!=null?y:null},...i._features.reduce((g,y)=>Object.assign(g,y.getDefaultColumnDef==null?void 0:y.getDefaultColumnDef()),{}),...h}},Rt(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:Pt(()=>[i._getColumnDefs()],h=>{const m=function(g,y,x){return x===void 0&&(x=0),g.map(b=>{const v=Zcr(i,b,x,y),w=b;return v.columns=w.columns?m(w.columns,v,x+1):[],v})};return m(h)},Rt(e,"debugColumns")),getAllFlatColumns:Pt(()=>[i.getAllColumns()],h=>h.flatMap(m=>m.getFlatColumns()),Rt(e,"debugColumns")),_getAllFlatColumnsById:Pt(()=>[i.getAllFlatColumns()],h=>h.reduce((m,g)=>(m[g.id]=g,m),{}),Rt(e,"debugColumns")),getAllLeafColumns:Pt(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(h,m)=>{let g=h.flatMap(y=>y.getLeafColumns());return m(g)},Rt(e,"debugColumns")),getColumn:h=>i._getAllFlatColumnsById()[h]};Object.assign(i,f);for(let h=0;h<i._features.length;h++){const m=i._features[h];m==null||m.createTable==null||m.createTable(i)}return i}function Dur(){return e=>Pt(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,o,a){o===void 0&&(o=0);const s=[];for(let u=0;u<i.length;u++){const d=See(e,e._getRowId(i[u],u,a),i[u],u,o,void 0,a==null?void 0:a.id);if(n.flatRows.push(d),n.rowsById[d.id]=d,s.push(d),e.options.getSubRows){var l;d.originalSubRows=e.options.getSubRows(i[u],u),(l=d.originalSubRows)!=null&&l.length&&(d.subRows=r(d.originalSubRows,o+1,d))}}return s};return n.rows=r(t),n},Rt(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function Our(e){const t=[],n=r=>{var i;t.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function Mur(e,t,n){return n.options.filterFromLeafRows?Pur(e,t,n):Rur(e,t,n)}function Pur(e,t,n){var r;const i=[],o={},a=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,s=function(l,u){u===void 0&&(u=0);const d=[];for(let h=0;h<l.length;h++){var f;let m=l[h];const g=See(n,m.id,m.original,m.index,m.depth,void 0,m.parentId);if(g.columnFilters=m.columnFilters,(f=m.subRows)!=null&&f.length&&u<a){if(g.subRows=s(m.subRows,u+1),m=g,t(m)&&!g.subRows.length){d.push(m),o[m.id]=m,i.push(m);continue}if(t(m)||g.subRows.length){d.push(m),o[m.id]=m,i.push(m);continue}}else m=g,t(m)&&(d.push(m),o[m.id]=m,i.push(m))}return d};return{rows:s(e),flatRows:i,rowsById:o}}function Rur(e,t,n){var r;const i=[],o={},a=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,s=function(l,u){u===void 0&&(u=0);const d=[];for(let h=0;h<l.length;h++){let m=l[h];if(t(m)){var f;if((f=m.subRows)!=null&&f.length&&u<a){const y=See(n,m.id,m.original,m.index,m.depth,void 0,m.parentId);y.subRows=s(m.subRows,u+1),m=y}d.push(m),i.push(m),o[m.id]=m}}return d};return{rows:s(e),flatRows:i,rowsById:o}}function Fur(){return e=>Pt(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let h=0;h<t.flatRows.length;h++)t.flatRows[h].columnFilters={},t.flatRows[h].columnFiltersMeta={};return t}const i=[],o=[];(n??[]).forEach(h=>{var m;const g=e.getColumn(h.id);if(!g)return;const y=g.getFilterFn();y&&i.push({id:h.id,filterFn:y,resolvedValue:(m=y.resolveFilterValue==null?void 0:y.resolveFilterValue(h.value))!=null?m:h.value})});const a=(n??[]).map(h=>h.id),s=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(h=>h.getCanGlobalFilter());r&&s&&l.length&&(a.push("__global__"),l.forEach(h=>{var m;o.push({id:h.id,filterFn:s,resolvedValue:(m=s.resolveFilterValue==null?void 0:s.resolveFilterValue(r))!=null?m:r})}));let u,d;for(let h=0;h<t.flatRows.length;h++){const m=t.flatRows[h];if(m.columnFilters={},i.length)for(let g=0;g<i.length;g++){u=i[g];const y=u.id;m.columnFilters[y]=u.filterFn(m,y,u.resolvedValue,x=>{m.columnFiltersMeta[y]=x})}if(o.length){for(let g=0;g<o.length;g++){d=o[g];const y=d.id;if(d.filterFn(m,y,d.resolvedValue,x=>{m.columnFiltersMeta[y]=x})){m.columnFilters.__global__=!0;break}}m.columnFilters.__global__!==!0&&(m.columnFilters.__global__=!1)}}const f=h=>{for(let m=0;m<a.length;m++)if(h.columnFilters[a[m]]===!1)return!1;return!0};return Mur(t.rows,f,e)},Rt(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function Lur(e){return t=>Pt(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:o}=n;let{rows:a,flatRows:s,rowsById:l}=r;const u=i*o,d=u+i;a=a.slice(u,d);let f;t.options.paginateExpandedRows?f={rows:a,flatRows:s,rowsById:l}:f=Our({rows:a,flatRows:s,rowsById:l}),f.flatRows=[];const h=m=>{f.flatRows.push(m),m.subRows.length&&m.subRows.forEach(h)};return f.rows.forEach(h),f},Rt(t.options,"debugTable"))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function UVe(e,t){return e?Nur(e)?p.createElement(e,t):e:null}function Nur(e){return Bur(e)||typeof e=="function"||Vur(e)}function Bur(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function Vur(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function zur(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=p.useState(()=>({current:$ur(t)})),[r,i]=p.useState(()=>n.current.initialState);return n.current.setOptions(o=>({...o,...e,state:{...r,...e.state},onStateChange:a=>{i(a),e.onStateChange==null||e.onStateChange(a)}})),n.current}const Gt="structure",Uur={locale:"en-US",namespace:Gt,resources:()=>My(()=>import("./resources3-6ac98566.js"),[])};function HVe(e){const{document:t}=e,n=un().get(t._type),{t:r}=Q(Gt),{error:i,value:o}=C_({schemaType:n,value:t});return n?i?c.jsx(c.Fragment,{children:r("doc-title.error.text",{errorMessage:i.message})}):c.jsx(c.Fragment,{children:(o==null?void 0:o.title)||c.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:r("doc-title.fallback.text")})}):c.jsx("code",{children:r("doc-title.unknown-schema-type.text",{schemaType:t._type})})}const WVe=R(V)`
  margin-left: auto;
`,Hur=R.details`
  flex: none;

  &[open] ${WVe} {
    transform: rotate(180deg);
  }
`,Wur=R.summary`
  list-style: none;

  &::-webkit-details-marker {
    display: none;
  }
`,Gur=R.table`
  width: 100%;
  text-align: left;
  padding: 0 ${({theme:e})=>Te(e.sanity.space[2])};
  border-collapse: collapse;

  th {
    padding: ${({theme:e})=>Te(e.sanity.space[1])};
  }

  td {
    padding: 0 ${({theme:e})=>Te(e.sanity.space[1])};
  }

  tr > *:last-child {
    text-align: right;
  }
`,Kur=R(W)`
  min-height: 33px;
`,Jbe=e=>{const{t}=Q(Gt),n=e.totalCount-e.references.length;return n?c.jsx(V,{padding:2,children:c.jsxs(Wn,{space:2,children:[c.jsx(B,{size:1,muted:!0,children:t("confirm-delete-dialog.other-reference-count.title",{count:n})}),c.jsx(Et,{portal:!0,placement:"top",content:t("confirm-delete-dialog.other-reference-count.tooltip"),children:c.jsx(B,{size:1,muted:!0,children:c.jsx(bg,{})})})]})}):null};function GVe(e){const{icon:t,layout:n,presence:r,schemaType:i,value:o}=e,a=Tt(o.title)&&p.isValidElement(o.title)||cJ(o.title)||Wcr(o.title)?o.title:null,s=p.useMemo(()=>rC(e.documentPreviewStore,i,o._id,a),[e.documentPreviewStore,i,a,o._id]),{draft:l,published:u,isLoading:d}=bi(s,{draft:null,isLoading:!0,published:null}),f=d?null:c.jsx(Sa,{children:c.jsxs(W,{align:"center",gap:3,children:[r&&r.length>0&&c.jsx(DJ,{presence:r}),c.jsx(tC,{draft:l,published:u})]})}),h=c.jsx(Vx,{draft:l,published:u});return c.jsx(Ia,{...mQ({value:o,draft:l,published:u}),isPlaceholder:d,icon:t,layout:n,status:f,tooltip:h})}const KVe=p.forwardRef(function(e,t){const{routerPanesState:n,groupIndex:r}=p.useContext(sO),i=p.useMemo(()=>n.slice(0,r),[r,n]),o=p.useMemo(()=>({panes:i}),[i]);return c.jsx(cR,{...e,ref:t,state:o})});function A0(){const e=p.useContext(nwe);if(!e)throw new Error("PaneLayout: missing context value");return e}const YVe=p.forwardRef(function(e,t){const{childId:n,childPayload:r,childParameters:i,...o}=e,{routerPanesState:a,groupIndex:s}=p.useContext(sO);return c.jsx(cR,{...o,ref:t,state:{panes:[...a.slice(0,s+1),[{id:n,params:i,payload:r}]]}})}),Yur=p.forwardRef(function(e,t){const{routerPanesState:n,groupIndex:r,siblingIndex:i}=p.useContext(sO),{params:o,payload:a,...s}=e,l=ya(o),u=ya(a),d=p.useMemo(()=>{const f=n[r],h=f[i],m={...h,params:l??h.params,payload:u??h.payload},g=[...f.slice(0,i),m,...f.slice(i+1)];return{panes:[...n.slice(0,r),g,...n.slice(r+1)]}},[n,r,l,u,i]);return c.jsx(cR,{ref:t,...s,state:d})}),qur=p.forwardRef(function({documentId:e,documentType:t,parentRefPath:n,children:r,template:i,...o},a){return c.jsx(YVe,{...o,ref:a,childId:e,childPayload:i==null?void 0:i.params,childParameters:{type:t,parentRefPath:rn(n),...i&&{template:i==null?void 0:i.id}},children:r})});function Cf(){return p.useContext(sO)}const Qbe=[];function Zur(e){const{onClick:t,type:n,value:r}=e,i=Cn(r==null?void 0:r._id),o=iC(i),a=No(),{ReferenceChildLink:s}=Cf(),l=p.useCallback(function(u){return c.jsx(s,{documentId:r==null?void 0:r._id,documentType:n==null?void 0:n.name,parentRefPath:Qbe,...u})},[s,n==null?void 0:n.name,r==null?void 0:r._id]);return c.jsx(Y1,{__unstable_focusRing:!0,as:l,"data-as":"a",onClick:t,radius:2,children:c.jsx(GVe,{documentPreviewStore:a,icon:n==null?void 0:n.icon,layout:"compact",presence:(o==null?void 0:o.length)>0?o:Qbe,schemaType:n,value:r})})}function Xur({crossDatasetReferences:e,internalReferences:t,documentTitle:n,totalCount:r,action:i,datasetNames:o,hasUnknownDatasetNames:a,onReferenceLinkClick:s}){const l=un(),u=Nr(),{t:d}=Q(Gt),f=p.useCallback(g=>{const y=l.get(g._type);return y?c.jsx(Zur,{type:y,value:g,onClick:s}):c.jsx(V,{padding:2,children:c.jsx(Ia,{icon:Tu,title:d("confirm-delete-dialog.preview-item.preview-unavailable.title"),subtitle:d("confirm-delete-dialog.preview-item.preview-unavailable.subtitle",{documentId:g._id}),layout:"default"})})},[l,d,s]);if((t==null?void 0:t.totalCount)===0&&(e==null?void 0:e.totalCount)===0)return c.jsx(B,{as:"p",size:1,children:c.jsx(wt,{t:d,i18nKey:"confirm-delete-dialog.confirmation.text",context:i,components:{DocumentTitle:()=>c.jsx("strong",{children:n})}})});const h=[...o,...a?["unavailable"]:[]],m=d("confirm-delete-dialog.cdr-summary.subtitle",{count:h.length,datasets:h.join(", "),context:a&&h.length?"unavailable":""});return c.jsxs(W,{direction:"column",gap:4,children:[c.jsx(le,{padding:3,radius:2,tone:"caution",flex:"none",children:c.jsxs(W,{children:[c.jsx(B,{"aria-hidden":"true",size:1,children:c.jsx(Br,{})}),c.jsx(V,{flex:1,marginLeft:3,children:c.jsx(B,{size:1,children:c.jsx(wt,{i18nKey:"confirm-delete-dialog.referring-document-count.text",components:{DocumentTitle:()=>n},t:d,values:{count:r}})})})]})}),c.jsx(V,{flex:"none",children:c.jsx(B,{size:1,children:c.jsx(wt,{i18nKey:"confirm-delete-dialog.referring-documents-descriptor.text",t:d,context:i,components:{DocumentTitle:()=>n}})})}),c.jsx(le,{radius:2,shadow:1,flex:"auto",padding:2,children:c.jsxs(W,{direction:"column",children:[t.totalCount>0&&c.jsxs(ae,{as:"ul",marginBottom:2,space:2,"data-testid":"internal-references",children:[t==null?void 0:t.references.map(g=>c.jsx(V,{as:"li",children:f(g)},g._id)),t.totalCount>t.references.length&&c.jsx(V,{as:"li",padding:3,children:c.jsx(Jbe,{...t})})]}),e.totalCount>0&&c.jsxs(Hur,{"data-testid":"cross-dataset-references",style:{borderTop:t.totalCount>0?"1px solid var(--card-shadow-outline-color)":void 0},children:[c.jsx(Wur,{children:c.jsx(le,{as:"a",marginTop:t.totalCount>0?2:0,radius:2,shadow:1,paddingY:1,children:c.jsxs(W,{align:"center",gap:3,paddingX:3,paddingY:1,children:[c.jsx(B,{size:1,children:c.jsx(mK,{})}),c.jsxs(ae,{space:2,children:[c.jsx(B,{textOverflow:"ellipsis",size:1,children:d("confirm-delete-dialog.cdr-summary.title",{count:h.length,documentCount:d("confirm-delete-dialog.cdr-summary.document-count",{count:e.totalCount})})}),c.jsx(B,{title:m,textOverflow:"ellipsis",size:1,muted:!0,children:m})]}),c.jsx(WVe,{children:c.jsx(B,{muted:!0,size:1,children:c.jsx(ea,{})})})]})})}),c.jsxs(V,{overflow:"auto",paddingTop:2,children:[c.jsxs(Gur,{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:c.jsx(B,{muted:!0,size:1,style:{minWidth:"5rem"},weight:"medium",children:d("confirm-delete-dialog.cdr-table.project-id.label")})}),c.jsx("th",{children:c.jsx(B,{muted:!0,size:1,weight:"medium",children:d("confirm-delete-dialog.cdr-table.dataset.label")})}),c.jsx("th",{children:c.jsx(B,{muted:!0,size:1,weight:"medium",children:d("confirm-delete-dialog.cdr-table.document-id.label")})})]})}),c.jsx("tbody",{children:e.references.filter(g=>"projectId"in g).map(({projectId:g,datasetName:y,documentId:x},b)=>c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx(B,{size:1,children:g})}),c.jsx("td",{children:c.jsx(B,{size:1,children:y||"unavailable"})}),c.jsx("td",{children:c.jsxs(Kur,{align:"center",gap:2,justify:"flex-end",children:[c.jsx(B,{textOverflow:"ellipsis",size:1,children:x||"unavailable"}),x&&c.jsx(Ncr,{text:x,onCopy:()=>{u.push({title:d("confirm-delete-dialog.cdr-table.id-copied-toast.title"),status:"success"})},children:c.jsx(ge,{mode:"bleed",icon:Ru,tooltipProps:{content:d("confirm-delete-dialog.cdr-table.copy-id-button.tooltip")}})})]})})]},`${x}-${b}`))})]}),c.jsx(Jbe,{...e})]})]})]})}),c.jsx(V,{flex:"none",children:c.jsx(B,{size:1,children:c.jsx(wt,{i18nKey:"confirm-delete-dialog.referential-integrity-disclaimer.text",t:d,context:i,components:{DocumentTitle:()=>n}})})})]})}function Jur(e){return typeof e!="object"||!e?!1:"statusCode"in e&&"response"in e}const Qur=5e3;let W9;const qVe=()=>(W9||(W9=es(document,"visibilitychange").pipe(yo(null),fe(()=>document.visibilityState==="visible"),Ar(),At(e=>e?ni(0,Qur):ur),go({refCount:!0,bufferSize:1}))),W9);function edr(e,{versionedClient:t}){const n=Fo(e),r=Cn(e),i={uri:t.getDataUrl("doc",`${n},${r}`),json:!0,query:{excludeContent:"true"},tag:"use-referring-documents.document-existence"};return t.observable.request(i).pipe(fe(({omitted:o})=>{const a=o.filter(s=>s.reason==="existence");if(a.length!==2)return a.length===0||a.some(s=>s.id===n)?r:n}))}function tdr(e,t){const{versionedClient:n}=t;return qVe().pipe(At(()=>edr(e,t)),At(r=>{if(!r)return Se({totalCount:0,references:[]});const i=n.config().dataset;return n.observable.request({url:`/data/references/${i}/documents/${r}/to?excludeInternalReferences=true&excludePaths=true`,tag:"use-referring-documents.external"}).pipe(En(o=>{if(Jur(o)&&o.statusCode===404)return Se({totalCount:0,references:[]});throw o}))}))}const ndr=Ag(([e,t])=>t.listenQuery({fetch:'{"references":*[references($documentId)][0...100]{_id,_type},"totalCount":count(*[references($documentId)])}',listen:"*[references($documentId)]"},{documentId:e},{tag:"use-referring-documents",transitions:["appear","disappear"],throttleTime:5e3})),rdr=Ag(([e,t])=>qVe().pipe(At(()=>tdr(e,{versionedClient:t}))));function idr(e){const t=on(en),n=ql(),r=Cn(e),[i,o]=ndr(p.useMemo(()=>[r,n],[n,r])),[a,s]=rdr(p.useMemo(()=>[r,t],[r,t])),l=p.useMemo(()=>Array.from(new Set(a==null?void 0:a.references.map(f=>f.projectId).filter(Boolean))).sort(),[a==null?void 0:a.references]),u=p.useMemo(()=>Array.from(new Set(a==null?void 0:a.references.map(f=>(f==null?void 0:f.datasetName)||"").filter(f=>!!f&&f!==""))).sort(),[a==null?void 0:a.references]),d=p.useMemo(()=>!!(a!=null&&a.references.some(f=>typeof f.datasetName!="string")),[a==null?void 0:a.references]);return{totalCount:((i==null?void 0:i.totalCount)||0)+((a==null?void 0:a.totalCount)||0),projectIds:l,datasetNames:u,hasUnknownDatasetNames:d,internalReferences:i,crossDatasetReferences:a,isLoading:o||s}}const odr=R(V)`
  box-sizing: border-box;
`,adr=R(W).attrs({align:"center",direction:"column",justify:"center"})`
  height: 110px;
`;function sdr({id:e,type:t,action:n="delete",onCancel:r,onConfirm:i}){const{t:o}=Q(Gt),a=`deletion-confirmation-${p.useId()}`,{internalReferences:s,crossDatasetReferences:l,isLoading:u,totalCount:d,projectIds:f,datasetNames:h,hasUnknownDatasetNames:m}=idr(e),g=c.jsx(HVe,{document:p.useMemo(()=>({_id:e,_type:t}),[e,t])}),y=!u;return c.jsx(no,{width:1,id:a,header:o("confirm-delete-dialog.header.text",{context:n}),footer:{cancelButton:{onClick:r,text:o("confirm-delete-dialog.cancel-button.text")},confirmButton:y?{text:d>0?o("confirm-delete-dialog.confirm-anyway-button.text",{context:n}):o("confirm-delete-dialog.confirm-button.text",{context:n}),onClick:i}:void 0},onClose:r,onClickOutside:r,children:c.jsx(odr,{children:l&&s&&!u?c.jsx(Xur,{crossDatasetReferences:l,internalReferences:s,documentTitle:g,isLoading:u,totalCount:d,action:n,projectIds:f,datasetNames:h,hasUnknownDatasetNames:m,onReferenceLinkClick:r}):c.jsx(adr,{"data-testid":"loading-container",children:c.jsx(Dn,{showText:!0,title:o("confirm-delete-dialog.loading.text")})})})})}function Aee(e){const{t}=Q(Gt),n=p.useId(),[r,i]=p.useState(null),o=p.useCallback(()=>i(null),[]);return r?c.jsx(no,{id:`dialog-error-${n}`,"data-testid":"confirm-delete-error-dialog",header:t("confirm-delete-dialog.error.title.text"),footer:{confirmButton:{text:t("confirm-delete-dialog.error.retry-button.text"),onClick:o,tone:"default"}},onClose:e.onCancel,children:c.jsx(V,{padding:4,children:c.jsx(B,{size:1,children:t("confirm-delete-dialog.error.message.text")})})}):c.jsx(aw,{onCatch:i,children:c.jsx(sdr,{...e})})}function ZVe({children:e,ms:t=0}){const[n,r]=p.useState(t<=0);return p.useEffect(()=>{if(t<=0)return;const i=setTimeout(()=>r(!0),t);return()=>{clearTimeout(i)}},[t]),!n||!e?c.jsx(c.Fragment,{}):typeof e=="function"?e():e}const ldr=!1,YS=51,S5=204,cdr=R(al)`
  position: relative;
  width: 1px;
  min-width: 1px;

  &:before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    width: 1px;
    background-color: var(--card-border-color);
  }

  &:not([data-disabled]) {
    cursor: ew-resize;
    width: 9px;
    min-width: 9px;
    margin: 0 -4px;

    &:before {
      left: 4px;
    }

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      width: 9px;
      bottom: 0;
      background-color: var(--card-border-color);
      opacity: 0;
      transition: opacity 150ms;
    }

    &[data-dragging]:after,
    &:hover:after {
      opacity: 0.2;
    }
  }
`;function udr({disabled:e,element:t}){const{resize:n}=A0(),[r,i]=p.useState(!1),o=p.useCallback(a=>{if(!t)return;i(!0),a.preventDefault();const s=a.pageX;n("start",t,0);const l=d=>{d.preventDefault();const f=d.pageX-s;n("move",t,f)},u=d=>{d.preventDefault(),i(!1),window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",u),n("end",t,0)};window.addEventListener("mousemove",l),window.addEventListener("mouseup",u)},[t,n]);return c.jsx(cdr,{"data-disabled":e?"":void 0,"data-dragging":r?"":void 0,onMouseDown:o})}const ddr=R(le)`
  outline: none;

  // NOTE: This will render a border to the right side of each pane
  // without taking up physical space.
  box-shadow: 1px 0 0 var(--card-border-color);
`,R_=p.forwardRef(function(e,t){const{children:n,currentMinWidth:r,currentMaxWidth:i,flex:o=1,id:a,minWidth:s,maxWidth:l,selected:u=!1,...d}=e,[f,h]=p.useState(null),{collapse:m,collapsed:g,expand:y,expandedElement:x,mount:b,panes:v}=A0(),w=v.find(N=>N.element===f),C=w&&v.indexOf(w),k=typeof C=="number"?v[C+1]:void 0,S=C===v.length-1,E=g?!1:(w==null?void 0:w.collapsed)||!1,_=(k==null?void 0:k.collapsed)||!1,T=p.useRef(null),A=(w==null?void 0:w.flex)??o,I=(w==null?void 0:w.currentMinWidth)??r,j=(w==null?void 0:w.currentMaxWidth)??i;p.useImperativeHandle(t,()=>T.current);const $=p.useCallback(N=>{h(N),T.current=N},[]);p.useEffect(()=>{if(f)return b(f,{currentMinWidth:r,currentMaxWidth:i,flex:o,id:a,minWidth:s,maxWidth:l})},[r,i,o,a,s,l,b,f]);const D=p.useCallback(()=>{f&&m(f)},[m,f]),O=p.useCallback(()=>{f&&y(f)},[y,f]),M=p.useMemo(()=>({collapse:D,collapsed:g?!1:E,expand:O,index:C,isLast:S,rootElement:f}),[E,D,O,S,g,C,f]),P=p.useMemo(()=>{if(!g)return E?YS:I===0||S?s||S5:I||s||S5},[E,I,S,g,s]),F=p.useMemo(()=>{if(E)return YS;if(!(g&&S))return S?l?j??l:void 0:j??l},[E,j,S,g,l]),L=g&&!S,U=p.useMemo(()=>!S&&!g&&c.jsx(Jh,{zOffset:"paneResizer",children:c.jsx(udr,{disabled:E||_,element:f})}),[E,S,g,_,f]),H=p.useMemo(()=>({flex:A,minWidth:P,maxWidth:F===1/0?void 0:F}),[A,P,F]);return c.jsxs(c.Fragment,{children:[c.jsx(Jh,{zOffset:"pane",children:c.jsx(twe.Provider,{value:M,children:c.jsx(LZn,{isLastPane:S,children:c.jsxs(ddr,{"data-testid":"pane","data-ui":"Pane",tone:"inherit",hidden:L,id:a,overflow:g?void 0:"hidden",...d,"data-pane-collapsed":E?"":void 0,"data-pane-index":C,"data-pane-selected":u?"":void 0,ref:$,style:H,children:[ldr,c.jsx($h,{element:f,children:!L&&c.jsx(W,{direction:"column",height:"fill",children:n})})]})})})}),U]})}),XVe=R(le)`
  position: relative;
  outline: none;
`;XVe.displayName="PaneContent__root";function xp(){const e=p.useContext(twe);if(!e)throw new Error("Pane: missing context value");return e}const F_=p.forwardRef(function(e,t){const{as:n,children:r,overflow:i,padding:o,...a}=e,{collapsed:s}=xp(),{collapsed:l}=A0();return c.jsx(XVe,{"data-testid":"pane-content",forwardedAs:n,...a,flex:1,hidden:s,overflow:l?void 0:i,padding:o,ref:t,tone:"inherit",children:r})}),fdr={constrainSize:!0,placement:"left-start",portal:!0};function JD(e){const{disabled:t,isAfterGroup:n,node:r}=e,i=$R("i18n"in r?r:void 0);if(r.type==="divider")return c.jsx(Tr,{});const{title:o}=i(r);return r.type==="group"?r.children.length===0?null:r.expanded?c.jsxs(c.Fragment,{children:[n&&c.jsx(Tr,{}),r.children.map((a,s)=>{var l;return c.jsx(JD,{disabled:t||!!r.disabled,isAfterGroup:((l=r.children[s-1])==null?void 0:l.type)==="group",node:a},a.key)})]}):c.jsxs(c.Fragment,{children:[n&&c.jsx(Tr,{}),c.jsx(UG,{disabled:t,icon:r.icon,popover:fdr,text:o,children:r.children.map((a,s)=>{var l;return c.jsx(JD,{disabled:t||!!r.disabled,isAfterGroup:((l=r.children[s-1])==null?void 0:l.type)==="group",node:a},a.key)})})]}):c.jsxs(c.Fragment,{children:[n&&c.jsx(Tr,{}),c.jsx(hdr,{disabled:t,node:r})]})}function hdr(e){const{node:t}=e;return t.intent?c.jsx(mdr,{...e,intent:t.intent}):c.jsx(pdr,{...e})}function pdr(e){var o;const{disabled:t,node:n}=e,r=typeof n.disabled=="object"&&c.jsx(B,{size:1,children:n.disabled.reason}),{title:i}=yf(n);return c.jsx(bee,{content:r,placement:"left",children:c.jsx(Qe,{disabled:t||!!n.disabled,hotkeys:(o=n.hotkey)==null?void 0:o.split("+"),icon:n.icon,iconRight:n.iconRight||n.selected&&_a,onClick:n.onAction,pressed:n.selected,text:i,tone:n.tone})})}function mdr(e){var l;const{disabled:t,intent:n,node:r}=e,i=typeof r.disabled=="object"&&c.jsx(B,{size:1,children:r.disabled.reason}),o=e_({intent:n.type,params:n.params}),a=p.useCallback(u=>{o.onClick(u),r.onAction()},[o,r]),{title:s}=yf(r);return c.jsx(bee,{content:i,placement:"left",children:c.jsx(Qe,{as:"a",disabled:t||!!r.disabled,hotkeys:(l=r.hotkey)==null?void 0:l.split("+"),href:o.href,icon:r.icon,iconRight:r.selected?_a:void 0,onClick:a,pressed:r.selected,text:s,tone:r.tone})})}const gdr={constrainSize:!0,placement:"bottom",portal:!0};function yH(e,t){return e.some(n=>n.type==="item"&&n.tone===t||n.type==="group"&&yH(n.children,t))}function JVe(e){const{nodes:t,actionsNodes:n}=e,r=p.useId(),i=yH(t,"critical"),o=yH(t,"caution");return c.jsx(Jt,{button:c.jsx(Ki,{tone:i?"critical":o?"caution":void 0,"data-testid":"pane-context-menu-button"}),id:r,menu:c.jsxs(Nt,{children:[n&&c.jsxs(c.Fragment,{children:[n,c.jsx(Tr,{})]}),t.map((a,s)=>{var u;const l=((u=t[s-1])==null?void 0:u.type)==="group";return c.jsx(JD,{isAfterGroup:l,node:a},a.key)})]}),popover:gdr})}const ydr=R(al)`
  position: sticky;
  bottom: 0;

  &:before {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    top: -1px;
    border-bottom: 1px solid var(--card-border-color);
  }
`,vdr=R(le)`
  padding-bottom: env(safe-area-inset-bottom);
`,bdr=p.forwardRef(function(e,t){const{children:n,padding:r}=e,{collapsed:i}=xp();return c.jsx(Jh,{zOffset:"paneFooter",children:c.jsx(ydr,{"data-testid":"pane-footer",hidden:i,ref:t,children:c.jsx(vdr,{tone:"inherit",children:c.jsx(V,{padding:r,children:n})})})})}),xdr=R(al)(({$border:e})=>he`
    line-height: 0;
    position: sticky;
    top: 0;

    &:not([data-collapsed]):after {
      content: '';
      display: block;
      position: absolute;
      left: 0;
      right: 0;
      bottom: -1px;
      border-bottom: 1px solid ${e?"var(--card-border-color)":"transparent"};
      opacity: 1;
    }
  `),wdr=R(W)`
  transform-origin: calc(51px / 2);

  [data-collapsed] > div > & {
    transform: rotate(90deg);
  }
`,Cdr=R(le)(({theme:e})=>{const{fg:t,bg:n}=e.sanity.color.card.enabled;return he`
    background-color: ${n};

    [data-ui='Text'] {
      color: ${t};
    }
  `}),kdr=R(wr)`
  width: 66%;
  max-width: 175px;
`,Sdr=R(B)`
  cursor: default;
  outline: none;
`,Edr=R(V)(({theme:e})=>{const{color:t,space:n}=e.sanity;return he`
    overflow: hidden;
    overflow: clip;
    position: relative;

    & > div {
      white-space: nowrap;
      overflow: auto;
      /* Hide scrollbars */
      scrollbar-width: none;
      &::-webkit-scrollbar {
        width: 0;
        height: 0;
      }
    }

    /* right padding */
    & > div:after {
      content: '';
      display: inline-block;
      top: 0;
      right: 0;
      bottom: 0;
      width: ${n[3]}px;
      height: 1px;
    }

    /* Gradient that makes it look like tabs disappear into nothing (looks nicer) */
    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(to right, ${_G(t.base.bg,0)}, var(--card-bg-color));
      width: ${n[3]}px;
      pointer-events: none;
    }
  `}),I4=p.forwardRef(function(e,t){const{actions:n,backButton:r,border:i,contentAfter:o,loading:a,subActions:s,tabs:l,tabIndex:u,title:d}=e,{collapse:f,collapsed:h,expand:m,rootElement:g}=xp(),y=uy(g||null),x=p.useMemo(()=>({width:h?(y==null?void 0:y.height)||window.innerHeight:void 0}),[h,y]),b=p.useCallback(()=>{h||f()},[f,h]),v=p.useCallback(()=>{h&&m()},[h,m]);return c.jsx(Pl,{zOffset:100,children:c.jsx(xdr,{$border:i,"data-collapsed":h?"":void 0,"data-testid":"pane-header",ref:t,children:c.jsx(Jh,{zOffset:"paneHeader",children:c.jsxs(le,{"data-collapsed":h?"":void 0,tone:"inherit",children:[c.jsxs(wdr,{gap:1,onClick:v,padding:3,paddingBottom:h?3:2,sizing:"border",style:x,children:[r&&c.jsx(V,{flex:"none",children:r}),c.jsxs(Cdr,{__unstable_focusRing:!0,flex:1,forwardedAs:"button",onClick:b,paddingLeft:r?1:2,padding:2,tabIndex:u,children:[a&&c.jsx(kdr,{animated:!0,radius:1,size:1}),!a&&c.jsx(Sdr,{size:1,textOverflow:"ellipsis",weight:"semibold",children:d})]}),n&&c.jsx(W,{align:"center",hidden:h,children:c.jsx(Jh,{zOffset:"paneHeader",children:n})})]}),!!(!h&&(l||s))&&c.jsxs(W,{align:"center",hidden:h,overflow:"auto",paddingBottom:3,paddingX:3,children:[c.jsx(Edr,{flex:1,marginRight:s?3:0,children:l}),s&&s]}),!h&&o&&o]})})})})});function QVe(e){var r;if(!e.disabled)return{disabledReason:void 0,ariaLabel:void 0,isDisabled:!1};const t=typeof e.disabled=="object"?e.disabled.reason:void 0,n=typeof e.disabled=="object"&&typeof((r=e.disabled)==null?void 0:r.reason)=="string"?e.disabled.reason:"This is disabled";return{disabledReason:t,ariaLabel:n,isDisabled:!!e.disabled}}function eze(e){const{node:t}=e;return t.type==="item"?c.jsx(_dr,{node:t}):t.type==="group"?c.jsx(Adr,{node:t}):(console.warn('unknown menu node (expected `type: "item" | "group"`):',t),null)}function _dr(e){const{node:t}=e,{title:n}=yf(t),{t:r}=Q();if(t.intent)return c.jsx(Tdr,{...e,intent:t.intent});const{disabledReason:i,ariaLabel:o,isDisabled:a}=QVe(t);return c.jsx(P_,{disabled:a,icon:t.icon,onClick:t.onAction,selected:t.selected,tone:t.tone,"aria-label":o||n||r("status-button.aria-label"),tooltipProps:{hotkeys:!a&&t.hotkey?t.hotkey.split("+"):void 0,content:a?i:n}})}function Tdr(e){const{intent:t,node:n}=e,r=e_({intent:t.type,params:t.params}),{t:i}=Q(),o=p.useCallback(u=>{r.onClick(u),n.onAction()},[r,n]),{disabledReason:a,ariaLabel:s,isDisabled:l}=QVe(n);return c.jsx(P_,{forwardedAs:"a",disabled:l,href:r.href,icon:n.icon,onClick:o,selected:n.selected,tone:n.tone,"aria-label":s||n.title||i("status-button.aria-label"),tooltipProps:{hotkeys:!l&&n.hotkey?n.hotkey.split("+"):void 0,content:l?a:n.title,placement:"bottom",portal:!0}})}function Adr(e){const{node:t}=e,{title:n}=yf(t);return c.jsx(Jt,{button:c.jsx(ge,{disabled:!!t.disabled,icon:t.icon??Tu,label:n,mode:"bleed",tooltipProps:{content:t.title,portal:!0}}),id:p.useId(),menu:c.jsx(Nt,{children:t.children.map((r,i)=>{var o;return c.jsx(JD,{disabled:!!t.disabled,isAfterGroup:((o=t.children[i-1])==null?void 0:o.type)==="group",node:r},r.key)})})})}const jdr=R(le)`
  transition: opacity 200ms;
  position: relative;
  z-index: 1;
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  opacity: 0;

  &:not([hidden]) {
    display: flex;
  }

  &:not([data-collapsed]) {
    overflow: auto;
  }

  &[data-mounted] {
    opacity: 1;
  }

  &[data-resizing] {
    pointer-events: none;
  }
`;function Idr(e,t,n,r){const i={flex:e.left.flex+e.right.flex,width:e.left.width+e.right.width},o=t.minWidth??S5,a=n.minWidth??S5,s=Math.min(t.maxWidth||1/0,i.width-a),l=Math.min(n.maxWidth||1/0,i.width-o);let u=o-e.left.width;const d=e.right.width-l;u<d&&(u=d);let f=e.right.width-a;const h=s-e.left.width;f>h&&(f=h);const m=Math.min(Math.max(r,u),f),g=e.left.width+m,y=e.right.width-m,x=g/i.width*i.flex,b=y/i.width*i.flex;return{leftFlex:x,leftW:g,rightFlex:b,rightW:y}}function $dr(e,t){const n=[];let r=t;for(;r!==e;){const i=r.parentElement;if(!i)return n;const o=Array.from(i.childNodes).indexOf(r);if(n.unshift(o),i===e)return n;r=i}return n}const exe=[];function Ddr(e,t){const n=new WeakMap;for(const i of t)n.set(i,$dr(e,i));const r=(i,o)=>{const a=n.get(i)||exe,s=n.get(o)||exe,l=Math.max(a.length,s.length);for(let u=0;u<l;u+=1){const d=a[u]||-1,f=s[u]||-1;if(d!==f)return d-f}return 0};t.sort(r)}function Odr(){const e=[],t=[],n=new WeakMap,r=new Set,i={};let o=null,a=0,s=null,l=new Map,u=!1;function d(v){r.add(v),s===v&&(s=null),b()}function f(v){r.delete(v),s=v,b()}function h(v,w){return n.set(v,{...w,original:w}),t.push(v),o&&Ddr(o,t),f(v),()=>{const C=t.indexOf(v);C>-1&&t.splice(C,1),n.delete(v),b()}}function m(v,w,C){const k=t.indexOf(w),S=n.get(w);if(!S)return;const E=t[k+1],_=n.get(E);if(_){if(v==="start"&&(u=!0,i.left={element:w,flex:S.flex||1,width:w.offsetWidth},i.right={element:E,flex:_.flex||1,width:E.offsetWidth},b()),v==="move"&&i.left&&i.right){l=new Map;const{leftW:T,rightW:A,leftFlex:I,rightFlex:j}=Idr(i,S,_,C);l.set(w,{flex:I,width:T}),l.set(E,{flex:j,width:A}),b()}if(v==="end"){u=!1;const T=l.get(w),A=l.get(E);n.set(w,{...S,currentMinWidth:0,currentMaxWidth:S.maxWidth??1/0,flex:(T==null?void 0:T.flex)??S.flex}),n.set(E,{..._,currentMinWidth:0,currentMaxWidth:S.maxWidth??1/0,flex:(A==null?void 0:A.flex)??_.flex}),l=new Map,delete i.left,delete i.right,b()}}}function g(v){o=v}function y(v){a=v,b()}function x(v){return e.push(v),()=>{const w=e.push(v);w>-1&&e.splice(w,1)}}return{collapse:d,expand:f,mount:h,resize:m,setRootElement:g,setRootWidth:y,subscribe:x};function b(){if(!a)return;const v=[];for(const T of t)T!==s&&v.unshift(T);s&&v.unshift(s);const w=new WeakMap,C=v.length,k=v[0],S=(C-1)*YS;let E=a-S;for(const T of v){const A=n.get(T);if(!A)continue;const I=A.currentMinWidth||A.minWidth||S5,j=T===k,$=r.has(T),D=I>E,O=j?!1:$||D,M=l.get(T);w.set(T,{element:T,collapsed:O,currentMinWidth:(M==null?void 0:M.width)??A.currentMinWidth,currentMaxWidth:(M==null?void 0:M.width)??A.currentMaxWidth,flex:(M==null?void 0:M.flex)??A.flex??1}),O?E-=YS:E-=I-YS}const _=[];for(const T of t){const A=w.get(T);A&&_.push(A)}for(const T of e)T({expandedElement:s||t[t.length-1]||null,panes:_,resizing:u})}}function Mdr(e){var g;const{children:t,minWidth:n,onCollapse:r,onExpand:i,...o}=e,a=p.useMemo(()=>Odr(),[]),[s,l]=p.useState(null),u=((g=uy(s))==null?void 0:g.width)||0,d=u===void 0||!n?void 0:u<n,[f,h]=p.useState({expandedElement:null,panes:[],resizing:!1});p.useEffect(()=>a.setRootElement(s),[a,s]),p.useEffect(()=>a.setRootWidth(u),[a,u]),p.useEffect(()=>a.subscribe(h),[a]),p.useEffect(()=>{d!==void 0&&(d&&r&&r(),!d&&i&&i())},[d,r,i]);const m=p.useMemo(()=>({collapse:a.collapse,collapsed:d,expand:a.expand,expandedElement:f.expandedElement,mount:a.mount,panes:f.panes,resize:a.resize,resizing:f.resizing}),[d,a,f.expandedElement,f.panes,f.resizing]);return c.jsx(nwe.Provider,{value:m,children:c.jsx(jdr,{"data-ui":"PaneLayout",...o,"data-collapsed":d?"":void 0,"data-resizing":f.resizing?"":void 0,"data-mounted":u?"":void 0,ref:l,children:t})})}function jee(e){return(e.type==="item"||e.type==="group")&&e.renderAsButton}const tze=SGt(jee);function nze(e){const{fieldActions:t=[],menuItems:n,menuItemGroups:r}=e,i=[];let o=0;for(let l=0;l<t.length;l+=1){const u=t[l];i.push(rze(u,`${l}-${u.type}`))}o+=i.length;const a=[];for(const l of r)a.find(u=>u.key===l.id)||a.push({type:"group",key:l.id,children:[],expanded:!0,renderAsButton:!1,title:l.title,i18n:l.i18n});const s=[];for(let l=0;l<n.length;l+=1){const u=n[l];let d=u.group&&a.find(f=>f.key===u.group);u.group&&!d&&(d={type:"group",key:u.group,expanded:!0,icon:u.icon,title:u.group,children:[],renderAsButton:!1},a.push(d)),d?d.children.push({type:"item",key:`${o+l}-item`,hotkey:u.shortcut,icon:u.icon,intent:u.intent,onAction:()=>e.actionHandler(u),renderAsButton:u.showAsAction??!1,selected:u.selected,title:u.title,i18n:u.i18n,tone:u.tone}):s.push({type:"item",key:`${o+l}-item`,hotkey:u.shortcut,icon:u.icon,intent:u.intent,onAction:()=>e.actionHandler(u),renderAsButton:u.showAsAction??!1,selected:u.selected,title:u.title,i18n:u.i18n,tone:u.tone})}return[...s,...a,...i]}function rze(e,t){return e.type==="divider"?{type:"divider",key:t}:e.type==="group"?{type:"group",key:t,children:e.children.map((n,r)=>rze(n,`${t}-${r}-${n.type}`)),disabled:e.disabled,expanded:e.expanded??!0,icon:e.icon,title:e.title,i18n:e.i18n,renderAsButton:e.renderAsButton??!1}:{type:"item",key:t,intent:e.intent,disabled:e.disabled,icon:e.icon,iconRight:e.iconRight,onAction:e.onAction,renderAsButton:e.renderAsButton??!1,selected:e.selected,title:e.title,i18n:e.i18n,tone:e.tone}}const Pdr=p.forwardRef(function(e,t){const{intent:n,...r}=e,i=p.useMemo(()=>p.forwardRef(function(o,a){return c.jsx(Kc,{...o,intent:n.type,params:n.params,ref:a,searchParams:n.searchParams})}),[n]);return e.disabled?c.jsx(ge,{...r,as:"a",role:"link","aria-disabled":"true"}):c.jsx(ge,{...r,as:i,"data-as":"a",ref:t})});function G9({reveal:e,context:t,loading:n,children:r}){const i=dr(),{t:o}=Q(Gt);return e?c.jsx(Et,{content:n?o("insufficient-permissions-message-tooltip.loading-text"):c.jsx(Fc,{context:t,currentUser:i}),portal:!0,children:c.jsx("div",{children:r})}):c.jsx(c.Fragment,{children:r})}const Rdr={constrainSize:!0,placement:"bottom",portal:!0},txe=(e,t,n)=>{var o;const r=(o=t.find(a=>a.id===n.templateId))==null?void 0:o.schemaType;if(!r)return null;const i={template:n.templateId,type:r,id:n.initialDocumentId};return{type:"create",params:n.parameters?[i,n.parameters]:i}};function Fdr({templateItems:e}){var u;const t=un(),n=mC(),{t:r}=Q(Gt),i=$R([...e,...n]),[o,a]=kQ({templateItems:e}),s=p.useMemo(()=>!a&&(o==null?void 0:o.every(d=>!d.granted)),[a,o]),l=p.useMemo(()=>o?o.reduce((d,f)=>(d[f.id]=f,d),{}):{},[o]);if(s)return c.jsx(G9,{context:"create-document-type",reveal:!0,loading:a,children:c.jsx(ge,{"aria-label":r("pane-header.disabled-created-button.aria-label"),icon:ca,"data-testid":"action-intent-button",disabled:!0,mode:"bleed",tooltipProps:null})});if(e.length===1){const d=e[0],f=!((u=l[d.id])!=null&&u.granted),h=txe(t,n,d);return h?c.jsx(G9,{reveal:f,loading:a,context:"create-document-type",children:c.jsx(Pdr,{"aria-label":i(d).title,icon:d.icon||ca,intent:h,mode:"bleed",disabled:f,"data-testid":"action-intent-button",tooltipProps:f?null:{content:r("pane-header.create-new-button.tooltip")}})}):null}return c.jsx(Jt,{button:c.jsx(ge,{icon:ca,mode:"bleed","data-testid":"multi-action-intent-button",tooltipProps:{content:r("pane-header.create-new-button.tooltip")}}),id:"create-menu",menu:c.jsx(Nt,{children:e.map((d,f)=>{var b;const h=!((b=l[d.id])!=null&&b.granted),m=txe(t,n,d),g=n.find(v=>v.id===d.templateId);if(!g||!m)return null;const y=p.forwardRef((v,w)=>h?c.jsx("button",{type:"button",disabled:!0,...v,ref:w}):c.jsx(Kc,{...v,intent:m.type,params:m.params,ref:w}));y.displayName="Link";const{title:x}=i({...d,title:d.title||i(g).title});return c.jsx(G9,{context:"create-document-type",reveal:h,loading:a,children:c.jsx(Qe,{as:y,"data-as":h?"button":"a",text:x,"aria-label":h?r("pane-header.disabled-created-button.aria-label"):x,disabled:h,"data-testid":`action-intent-button-${f}`})},d.id)})}),popover:Rdr})}function Ldr(e){return e!=null}const Ndr=e=>{const t=n=>typeof n!="object"||!n?n:Array.isArray(n)?n.map(t):Object.entries(n).sort(([r],[i])=>r.localeCompare(i,"en"));return JSON.stringify(t((n=>JSON.parse(JSON.stringify(n)))(e)))},ize=p.memo(function(e){const{initialValueTemplateItems:t=hn,menuItems:n=hn,menuItemGroups:r=hn,actionHandlers:i=bEn}=e,o=mC(),a=p.useCallback(h=>{if(typeof h.action=="string"&&!(h.action in i))return console.warn("No handler for action:",h.action),!1;const m=typeof h.action=="function"?h.action:typeof h.action=="string"?i[h.action]:null;return m?(m(h.params),!0):!1},[i]),s=p.useMemo(()=>nze({actionHandler:a,menuItemGroups:r,menuItems:n.filter(h=>{var m;return((m=h.intent)==null?void 0:m.type)!=="create"})}),[a,r,n]),l=p.useMemo(()=>s.filter(jee),[s]),u=p.useMemo(()=>s.filter(tze),[s]),d=p.useMemo(()=>n.map((h,m)=>{var C;if(((C=h.intent)==null?void 0:C.type)!=="create")return null;const{params:g}=h.intent;if(!g)return null;const y=Array.isArray(g)?g[0]:g,x=Array.isArray(g)?g[1]:void 0,b=y.template||y.type;if(!b)return null;const v=o.find(k=>k.id===b);if(!v)return null;const w=y.id;return{item:h,template:v,templateParams:x,menuItemIndex:m,initialDocumentId:w}}).filter(Ldr).map(({initialDocumentId:h,item:m,template:g,menuItemIndex:y,templateParams:x})=>({id:`menuItem${y}`,initialDocumentId:h,templateId:g.id,type:"initialValueTemplateItem",title:m.title||g.title,i18n:m.i18n||g.i18n,icon:m.icon,description:g.description,parameters:x,schemaType:g.schemaType})),[n,o]),f=p.useMemo(()=>Xd([...d,...t],h=>Ndr([h.initialDocumentId,h.templateId,h.parameters])),[d,t]);return c.jsxs(W,{gap:1,children:[f.length>0&&c.jsx(Fdr,{templateItems:f}),l.map(h=>c.jsx(eze,{node:h},h.key)),u.length>0&&c.jsx(JVe,{nodes:u})]})});function Bdr(e){const{t}=Q(Gt),{layout:n,value:r}=e;return c.jsx(Ia,{title:c.jsx("em",{children:c.jsx(wt,{t,i18nKey:"pane-item.missing-schema-type.title",components:{Code:"code"},values:{documentType:r._type}})}),subtitle:c.jsx(wt,{t,i18nKey:"pane-item.missing-schema-type.subtitle",components:{Code:"code"},values:{documentId:r._id}}),media:()=>c.jsx(Br,{}),layout:n})}function nxe(e,t,n){return e===!1?!1:e||t&&t.icon||n||!1}function oze(e){const{icon:t,id:n,layout:r="default",pressed:i,schemaType:o,selected:a,title:s,value:l,margin:u,marginBottom:d,marginTop:f}=e,h=un(),m=No(),{ChildLink:g}=Cf(),y=iC(n),x=!!(o&&o.name&&h.get(o.name)),[b,v]=p.useState(!1),w=p.useMemo(()=>l&&Ggt(l)?!o||!x?c.jsx(Bdr,{value:l}):c.jsx(GVe,{documentPreviewStore:m,icon:nxe(t,o,Kd),layout:r,schemaType:o,value:l,presence:y}):c.jsx(Ia,{status:c.jsx(V,{style:{opacity:.5},children:c.jsx(B,{muted:!0,size:1,children:c.jsx(Es,{})})}),icon:nxe(t,o,E_e),layout:"compact",title:s}),[m,x,t,r,o,s,l,y]),C=p.useMemo(()=>function(S){return c.jsx(g,{...S,childId:n})},[g,n]),k=p.useCallback(S=>{if(S.metaKey){v(!1);return}v(!0)},[]);return p.useEffect(()=>v(!1),[a]),c.jsx(Y1,{"data-testid":`pane-item-${s}`,__unstable_focusRing:!0,as:C,"data-as":"a",margin:u,marginBottom:d,marginTop:f,onClick:k,pressed:i,radius:2,selected:a||b,sizing:"border",tabIndex:-1,tone:"inherit",children:w})}const L_=p.memo(e=>{const{actions:t,children:n,actionProps:r,onActionComplete:i,group:o}=e;return c.jsx(dVe,{onReset:i,hooks:t,args:r,group:o,children:n})});L_.displayName="Memo(RenderActionCollectionState)";const aze=p.memo(e=>{const{badges:t,children:n,badgeProps:r}=e;return c.jsx(dVe,{hooks:t,args:r,children:n})});aze.displayName="Memo(RenderBadgeCollectionState)";function sze(e){const{children:t,currentMinWidth:n,flex:r,minWidth:i,paneKey:o,title:a="Error",tone:s="critical"}=e;return c.jsxs(R_,{currentMinWidth:n,flex:r,id:o,minWidth:i,tone:s,children:[c.jsx(I4,{title:a}),c.jsx(F_,{overflow:"auto",children:c.jsx(V,{paddingX:4,paddingY:5,children:t})})]})}function Vdr(e){const t=[{ms:300,messageKey:"panes.resolving.default-message"},{ms:5e3,messageKey:"panes.resolving.slow-resolve-message"}],n=Se(null);return Un(...t.map(r=>n.pipe(MM("messageKey"in r?{messageKey:r.messageKey}:{message:r.message}),aAe(r.ms))))}const zdr="panes.resolving.default-message",Udr=R(W)`
  opacity: 0;
  transition: opacity 200ms;

  &[data-mounted] {
    opacity: 1;
  }
`,Iee=p.memo(e=>{const{delay:t=300,flex:n,message:r=Vdr,minWidth:i,paneKey:o,path:a,selected:s,title:l,tone:u}=e,{t:d}=Q(Gt),f=p.useMemo(()=>typeof r=="function"?r(a?a.split(";"):[]):r,[r,a]),[h,m]=p.useState(()=>typeof f=="string"?f:d(zdr));p.useEffect(()=>{if(typeof f!="object"||typeof f.subscribe!="function")return;const v=f.subscribe(w=>{m("messageKey"in w?d(w.messageKey):w.message)});return()=>v.unsubscribe()},[f,d]);const[g,y]=p.useState(null),[x,b]=p.useState(!1);return p.useEffect(()=>{if(g)return Eat(()=>b(!0))},[g]),c.jsx(R_,{flex:n,id:o,minWidth:i,selected:s,tone:u,children:c.jsx(F_,{children:c.jsx(Udr,{align:"center","data-mounted":x?"":void 0,direction:"column",height:"fill",justify:"center",ref:y,children:c.jsx(Dn,{showText:!0,title:l||h})})})})});Iee.displayName="Memo(LoadingPane)";function zr(){const e=p.useContext(Hxe);if(!e)throw new Error("DocumentPane: missing context value");return e}function Hdr(e){const{children:t,documentId:n,documentType:r}=e;return c.jsx(fNe,{documentId:n,documentType:r,children:c.jsx(Wdr,{documentId:n,documentType:r,children:t})})}function Wdr(e){const{children:t,documentId:n,documentType:r}=e,{enabled:i}=Dg(),{connectionState:o,onPathOpen:a,inspector:s,openInspector:l}=zr(),{params:u,setParams:d,createPathWithParams:f}=Cf(),h=u==null?void 0:u.comment,m=p.useRef(u);p.useLayoutEffect(()=>{m.current=u},[u]);const g=p.useCallback(b=>{const v=f({...m.current,comment:b,inspect:Wk});return`${window.location.origin}${v}`},[f]),y=p.useCallback(()=>{d({...m.current,comment:void 0})},[d]),x=p.useCallback(()=>{(s==null?void 0:s.name)!==Wk&&l(Wk)},[s==null?void 0:s.name,l]);return i?c.jsx(dNe,{documentId:n,documentType:r,getCommentLink:g,isCommentsOpen:(s==null?void 0:s.name)===Wk,isConnecting:o==="connecting",onClearSelectedComment:y,onCommentsOpen:x,onPathOpen:a,selectedCommentId:h,sortOrder:"desc",type:"field",children:t}):c.jsx(c.Fragment,{children:t})}const lze=!1,Gdr={},Kdr=Symbol("LOADING_PANE"),cze="documentPanelPortalElement";function Mg(){const e=p.useContext(gwe);if(!e)throw new Error("StructureTool: missing context value");return e}const Ydr=320,qdr=600,vH=320,Zdr=540,Xdr={},bH="inspect:",Jdr=[{id:"inspectors"},{id:"links"}],xH="sanity/structure/history",Qdr="sanity/structure/validation";function efr(e){const{documentId:t,documentType:n,inspectors:r,onMenuItems:i}=e,o=r.length,a=p.useRef(o),[s,l]=p.useState(()=>Array.from(new Array(o))),u=p.useRef(s);p.useEffect(()=>{if(a.current!==o){const h=Array.from(new Array(o));for(let m=0;m<o;m++)h[m]=u.current[m];a.current=o,l(()=>(u.current=h,h))}},[o]);const d=p.useCallback((h,m)=>{l(g=>{const y=[...g];return y[h]=m,u.current=y,y})},[]);p.useEffect(()=>{i(s.filter(Boolean))},[s,i]);const f=p.useMemo(()=>r.map((h,m)=>h.useMenuItem?[tfr({documentId:t,documentType:n,index:m,setMenuItem:d,useMenuItem:h.useMenuItem}),h.name]:[()=>null,""]),[t,n,r,d]);return c.jsx(c.Fragment,{children:f.map(([h,m])=>m&&c.jsx(h,{},m))})}function tfr({documentId:e,documentType:t,index:n,setMenuItem:r,useMenuItem:i}){return p.memo(function(){const o=i({documentId:e,documentType:t}),a=ya(o);return p.useEffect(()=>{r(n,a)},[a]),null})}function $ee(){const{connectionState:e,schemaType:t,title:n,value:r}=zr(),i=!!r&&e!=="connecting",{error:o,value:a}=C_({enabled:i,schemaType:t,value:r});return e==="connecting"?{error:void 0,title:void 0}:n?{error:void 0,title:n}:r?o?{error:`Error: ${o.message}`,title:void 0}:{error:void 0,title:a==null?void 0:a.title}:{error:void 0,title:`New ${(t==null?void 0:t.title)||(t==null?void 0:t.name)}`}}const nfr=["patch","commit"],rfr=p.memo(function(){const{push:e}=Nr(),{documentId:t,documentType:n}=zr(),{title:r}=$ee(),i=nVe(t,n),o=p.useRef(i),a=Cf(),{t:s}=Q(Gt),l=r||s("panes.document-operation-results.operation-undefined-title"),u=l.length>25?`${l.slice(0,25)}...`:l;return p.useEffect(()=>{if(!i||i===o.current)return;let d;return i.type==="error"&&e({closable:!0,duration:3e4,status:"error",title:s("panes.document-operation-results.operation-error",{context:i.op}),description:c.jsxs("details",{children:[c.jsx("summary",{children:s("panes.document-operation-results.error.summary.title")}),i.error.message]})}),i.type==="success"&&!nfr.includes(i.op)&&e({closable:!0,status:"success",title:c.jsx(wt,{context:i.op,i18nKey:"panes.document-operation-results.operation-success",t:s,values:{op:i.op,title:u},components:{Strong:"strong"}})}),i.type==="success"&&i.op==="delete"&&(d=setTimeout(()=>a.closeCurrentAndAfter(),0)),o.current=i,()=>clearTimeout(d)},[i,a,e,s,u]),null}),ifr=R(le)({position:"relative",zIndex:1,lineHeight:0});function Dee(e){const{as:t,children:n,closeButtonLabel:r,onClose:i,title:o,...a}=e,{t:s}=Q(Gt);return c.jsxs(ifr,{...a,as:t,children:[c.jsxs(W,{padding:2,children:[c.jsx(V,{flex:1,padding:3,children:c.jsx(B,{as:"h1",size:1,weight:"medium",children:o})}),c.jsx(V,{flex:"none",padding:1,children:c.jsx(ge,{"aria-label":r,icon:eo,mode:"bleed",onClick:i,tooltipProps:{content:s("document-inspector.close-button.tooltip")}})})]}),n]})}const ofr=R.div`
  position: absolute;
  top: 0;
  left: -4px;
  bottom: 0;
  width: 9px;
  z-index: 201;
  cursor: ew-resize;

  /* Border */
  & > span:nth-child(1) {
    display: block;
    border-left: 1px solid var(--card-border-color);
    position: absolute;
    top: 0;
    left: 4px;
    bottom: 0;
    transition: opacity 200ms;
  }

  /* Hover effect */
  & > span:nth-child(2) {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 9px;
    bottom: 0;
    background-color: var(--card-border-color);
    opacity: 0;
    transition: opacity 150ms;
  }

  @media (hover: hover) {
    &:hover > span:nth-child(2) {
      opacity: 0.2;
    }
  }
`;function afr(e){const{onResize:t,onResizeStart:n}=e,r=p.useRef(0),i=p.useCallback(o=>{o.preventDefault(),r.current=o.pageX,n();const a=l=>{l.preventDefault(),t(l.pageX-r.current)},s=()=>{window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",s)};window.addEventListener("mousemove",a),window.addEventListener("mouseup",s)},[t,n]);return c.jsxs(ofr,{onMouseDown:i,children:[c.jsx("span",{}),c.jsx("span",{})]})}const sfr=R(V)`
  position: relative;
  flex: 1;
  padding-left: 1px;
`;function lfr(e){const{as:t,children:n,minWidth:r,maxWidth:i,...o}=e,[a,s]=p.useState(null),l=p.useRef(),[u,d]=p.useState(),f=p.useCallback(()=>{l.current=a==null?void 0:a.offsetWidth},[a]),h=p.useCallback(g=>{const y=l.current;y&&d(Math.min(Math.max(y-g,r),i))},[r,i]),m=p.useMemo(()=>u?{flex:"none",width:u}:{minWidth:r,maxWidth:i},[r,i,u]);return c.jsxs(sfr,{as:t,...o,ref:s,style:m,children:[n,c.jsx(afr,{onResize:h,onResizeStart:f})]})}function cfr(e){const{documentId:t,documentType:n,flex:r}=e,{collapsed:i}=xp(),{closeInspector:o,inspector:a}=zr(),{features:s}=Mg(),l=p.useCallback(()=>{a&&o(a.name)},[o,a]);if(i||!a)return null;const u=p.createElement(a.component,{onClose:l,documentId:t,documentType:n});return s.resizablePanes?c.jsx(lfr,{as:"aside","data-ui":"DocumentInspectorPanel",flex:r,maxWidth:Zdr,minWidth:vH,children:u}):c.jsx(V,{as:"aside","data-ui":"DocumentInspectorPanel",flex:r,children:u})}const ufr="studio.structure-tool";function wH(e,t,n){const r=o7e(),[i,o]=p.useState(n),a=[ufr,e,t].filter(Boolean).join("."),s=p.useMemo(()=>r.getKey(a),[r,a]);p.useEffect(()=>{const u=s.pipe(yo(n),fe(d=>d===null?n:d)).subscribe({next:o});return()=>u==null?void 0:u.unsubscribe()},[n,a,s]);const l=p.useCallback(u=>{u!==i&&(o(u),r.setKey(a,u))},[r,a,i]);return p.useMemo(()=>[i,l],[l,i])}const gv={id:"parsed",title:"document-inspector.view-mode.parsed"},yv={id:"raw",title:"document-inspector.view-mode.raw-json"},dfr=[gv,yv],QD=new xcr({maxSize:1e3});function uze(e,t){const n=QD.get(e);return n===void 0?(QD.set(e,Array.isArray(t)||Tt(t)),uze(e,t)):n}function ffr(e){const{path:t}=e,n=QD.get(t);n!==void 0&&QD.set(t,!n)}function dze(e){const t=window.getSelection();if(t){const n=document.createRange();t.removeAllRanges(),n.selectNodeContents(e),t.addRange(n)}}function rxe(e){dze(e.currentTarget)}function hfr(e){e.keyCode===65&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),dze(e.currentTarget))}function pfr(e){return Tt(e)&&G1(e._id)&&G1(e._type)}const mfr=R.div(({theme:e})=>{const{color:t,fonts:n,space:r}=e.sanity;return he`
    & .json-inspector,
    & .json-inspector .json-inspector__selection {
      font-family: ${n.code.family};
      font-size: ${n.code.sizes[1].fontSize}px;
      line-height: ${n.code.sizes[1].lineHeight}px;
      color: var(--card-code-fg-color);
    }

    & .json-inspector .json-inspector__leaf {
      padding-left: ${Te(r[4])};
    }

    & .json-inspector .json-inspector__leaf.json-inspector__leaf_root {
      padding-top: ${Te(r[3])};
      padding-left: 0;
    }

    & .json-inspector > .json-inspector__leaf_root > .json-inspector__line > .json-inspector__key {
      display: none;
    }

    & .json-inspector .json-inspector__line {
      display: block;
      position: relative;
      cursor: default;
    }

    & .json-inspector .json-inspector__line::after {
      content: '';
      position: absolute;
      top: 0;
      left: -200px;
      right: -50px;
      bottom: 0;
      z-index: -1;
      pointer-events: none;
    }

    & .json-inspector .json-inspector__line:hover::after {
      background: var(--card-code-bg-color);
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line {
      cursor: pointer;
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line::before {
      content: ' ';
      margin-left: calc(0 - ${Te(r[4])} + 3px);
      font-size: ${n.code.sizes[1].fontSize}px;
      line-height: ${n.code.sizes[1].lineHeight}px;
    }

    &
      .json-inspector
      .json-inspector__leaf_expanded.json-inspector__leaf_composite
      > .json-inspector__line::before {
      content: ' ';
      font-size: ${n.code.sizes[1].fontSize}px;
      line-height: ${n.code.sizes[1].lineHeight}px;
    }

    & .json-inspector .json-inspector__radio,
    & .json-inspector .json-inspector__flatpath {
      display: none;
    }

    & .json-inspector .json-inspector__value {
      margin-left: ${Te(r[4]/2)};
    }

    &
      .json-inspector
      > .json-inspector__leaf_root
      > .json-inspector__line
      > .json-inspector__key
      + .json-inspector__value {
      margin: 0;
    }

    & .json-inspector .json-inspector__key {
      color: ${t.syntax.property};
    }

    & .json-inspector .json-inspector__value_helper,
    & .json-inspector .json-inspector__value_null {
      color: ${t.syntax.constant};
    }

    & .json-inspector .json-inspector__not-found {
      padding-top: ${Te(r[3])};
    }

    & .json-inspector .json-inspector__value_string {
      color: ${t.syntax.string};
    }

    & .json-inspector .json-inspector__value_boolean {
      color: ${t.syntax.boolean};
    }

    & .json-inspector .json-inspector__value_number {
      color: ${t.syntax.number};
    }

    & .json-inspector .json-inspector__show-original {
      display: inline-block;
      padding: 0 6px;
      cursor: pointer;
    }

    & .json-inspector .json-inspector__show-original:hover {
      color: inherit;
    }

    & .json-inspector .json-inspector__show-original::before {
      content: '';
    }

    & .json-inspector .json-inspector__show-original:hover::after {
      content: ' expand';
    }
  `});function gfr(e){const{onChange:t,query:n}=e,r=p.useCallback(o=>t(o.target.value),[t]),{t:i}=Q(Gt);return c.jsx(ei,{icon:wa,onChange:r,placeholder:i("document-inspector.search.placeholder"),radius:2,value:n||""})}function yfr(e){const{value:t}=e,{onInspectClose:n,paneKey:r}=zr(),i=`${r}_inspect_`,[o,a]=wH("inspect-view-mode",null,"parsed"),s=dfr.find(f=>f.id===o),l=p.useCallback(()=>{a(gv.id)},[a]),u=p.useCallback(()=>{a(yv.id)},[a]),{t:d}=Q(Gt);return c.jsx(no,{bodyHeight:"fill",id:`${i}dialog`,header:pfr(t)?c.jsx(wt,{t:d,i18nKey:"document-inspector.dialog.title",components:{DocumentTitle:()=>c.jsx("em",{children:c.jsx(HVe,{document:t})})}}):c.jsx("em",{children:d("document-inspector.dialog.title-no-value")}),onClose:n,onClickOutside:n,padding:!1,width:2,children:c.jsxs(W,{direction:"column",height:"fill",children:[c.jsx(le,{padding:3,paddingTop:0,shadow:1,style:{position:"sticky",bottom:0,zIndex:3},children:c.jsxs(ow,{space:1,children:[c.jsx(S2,{"aria-controls":`${i}tabpanel`,id:`${i}tab-${gv.id}`,label:d(gv.title),onClick:l,selected:s===gv}),c.jsx(S2,{"aria-controls":`${i}tabpanel`,id:`${i}tab-${yv.id}`,label:d(yv.title),onClick:u,selected:s===yv})]})}),c.jsxs(aEe,{"aria-labelledby":`${i}tab-${o}`,flex:1,id:`${i}tabpanel`,overflow:"auto",padding:4,style:{outline:"none"},children:[s===gv&&c.jsx(mfr,{children:c.jsx(ycr,{data:t,isExpanded:uze,onClick:ffr,search:gfr,filterOptions:{ignoreCase:!0}})}),s===yv&&c.jsx(Vi,{language:"json",tabIndex:0,onKeyDown:hfr,onDoubleClick:rxe,onFocus:rxe,size:1,children:JSON.stringify(t,null,2)})]})]})})}function CH({size:e}){return c.jsx(ge,{"aria-hidden":!0,disabled:!0,size:e,style:{pointerEvents:"none",visibility:"hidden",width:0},text:"-"})}function $4(e){const{action:t,content:n,icon:r,tone:i="transparent",...o}=e;return c.jsx(le,{borderBottom:!0,paddingX:4,paddingY:2,tone:i,...o,children:c.jsxs(W,{align:"center",gap:3,children:[r&&c.jsx(B,{size:0,children:c.jsx(r,{})}),c.jsx(W,{align:"center",flex:1,gap:2,paddingY:3,children:n}),c.jsx(CH,{}),t&&c.jsx(ge,{as:t==null?void 0:t.as,mode:"ghost",onClick:t==null?void 0:t.onClick,text:t.text,tone:t.tone||"default"})]})})}function vfr({revisionId:e}){const{documentId:t,documentType:n}=zr(),{restore:r}=Qc(t,n),{navigateIntent:i}=Os(),o=p.useCallback(()=>{e&&(r.execute(e),i("edit",{id:t,type:n}))},[t,n,i,r,e]),{t:a}=Q(Gt);return c.jsx($4,{action:e?{onClick:o,text:a("banners.deleted-document-banner.restore-button.text")}:void 0,content:c.jsx(B,{size:1,weight:"medium",children:a("banners.deleted-document-banner.text")}),"data-testid":"deleted-document-banner",icon:fE})}function bfr(){const{schemaType:e}=zr(),{t}=Q(Gt);return i_e(e)?c.jsx($4,{content:c.jsxs(B,{size:1,weight:"medium",children:[c.jsx(wt,{t,i18nKey:"banners.deprecated-document-type-banner.text"})," ",e.deprecated.reason]}),"data-testid":"deprecated-document-type-banner",icon:ua}):null}function xfr({granted:e,requiredPermission:t}){const n=dr(),r=b0({style:"short"}),{t:i}=Q(Gt);if(e)return null;const o=((n==null?void 0:n.roles)||[]).map(s=>s.title),a=r.formatToParts(o).map(s=>s.type==="element"?c.jsx("code",{children:s.value},s.value):s.value);return c.jsx($4,{content:c.jsx(B,{size:1,weight:"medium",children:c.jsx(wt,{t:i,i18nKey:"banners.permission-check-banner.missing-permission",components:{Roles:()=>c.jsx(c.Fragment,{children:a})},values:{count:a.length,roles:o},context:t})}),"data-testid":"permission-check-banner",icon:fE})}const fze=p.memo(()=>{var y,x,b,v,w,C,k,S;const e=No(),{params:t,groupIndex:n,routerPanesState:r,replaceCurrent:i,BackLink:o}=Cf(),a=(y=r[n])==null?void 0:y[0].id,s=(x=r[n-1])==null?void 0:x[0],l=s==null?void 0:s.id,u=!!((b=s==null?void 0:s.params)!=null&&b.rev),d=p.useMemo(()=>(t==null?void 0:t.parentRefPath)&&Ol(t.parentRefPath)||null,[t==null?void 0:t.parentRefPath]),{t:f}=Q(Gt),h=p.useMemo(()=>{const E=d==null?void 0:d[0];if(!l||!E||!d)return Se({loading:!1});const _=Cn(l),T=Ol(E),A=T.findIndex(I=>typeof I=="object"&&"_key"in I);return Di(Se({loading:!0}),e.unstable_observePathsDocumentPair(_,A===-1?T:T.slice(0,A)).pipe(KK(750),fe(({draft:I,published:j})=>{var $;return{loading:!1,result:{availability:{draft:I.availability,published:j.availability},refValue:($=Hx(I.snapshot||j.snapshot,d))==null?void 0:$._ref}}})))},[e,l,d]),m=bi(h,{loading:!0}),g=p.useCallback(()=>{var E;m.loading||(E=m.result)!=null&&E.refValue&&i({id:m.result.refValue,params:t})},[m.loading,m.result,i,t]);return!l||!d||u||m.loading||!((v=m.result)!=null&&v.availability.draft.available)&&!((w=m.result)!=null&&w.availability.published.available)||((C=m.result)==null?void 0:C.refValue)===a?null:c.jsx($4,{action:(k=m.result)!=null&&k.refValue?{onClick:g,icon:vw,text:f("banners.reference-changed-banner.reason-changed.reload-button.text")}:{as:o,icon:eo,text:f("banners.reference-changed-banner.reason-removed.close-button.text")},"data-testid":"reference-changed-banner",content:c.jsx(B,{size:1,weight:"medium",children:(S=m.result)!=null&&S.refValue?f("banners.reference-changed-banner.reason-changed.text"):f("banners.reference-changed-banner.reason-removed.text")}),icon:Br,tone:"caution"})});fze.displayName="Memo(ReferenceChangedBanner)";const wfr=R(ae)`
  ${({theme:e})=>he`
      @supports not (container-type: inline-size) {
        display: none !important;
      }

      container-type: inline-size;

      [data-heading] {
        font-size: ${e.sanity.fonts.heading.sizes[4].fontSize}px;
        line-height: ${e.sanity.fonts.heading.sizes[4].lineHeight}px;
        overflow-wrap: break-word;
        text-wrap: pretty;
      }

      @container (max-width: 560px) {
        [data-heading] {
          font-size: ${e.sanity.fonts.heading.sizes[3].fontSize}px;
          line-height: ${e.sanity.fonts.heading.sizes[3].lineHeight}px;
        }
      }

      @container (max-width: 420px) {
        [data-heading] {
          font-size: ${e.sanity.fonts.heading.sizes[2].fontSize}px;
          line-height: ${e.sanity.fonts.heading.sizes[2].lineHeight}px;
        }
      }
    `}
`,Cfr=({documentId:e,schemaType:t,title:n})=>{const r=e===t.name,{t:i}=sw(Gt);return t.__experimental_formPreviewTitle===!1?null:c.jsxs(wfr,{marginBottom:6,space:4,children:[!r&&c.jsx(B,{muted:!0,size:1,children:t.title??t.name}),c.jsx(vo,{as:"h2","data-heading":!0,muted:!n,"data-testid":"document-panel-document-title",children:n??i("document-view.form-view.form-title-fallback")})]})},kfr=1e3*60*60*24*24;function Sfr(e){const t=Nr();p.useEffect(()=>(e.enabled&&t.push({...e,duration:kfr}),()=>{e.enabled&&t.push({...e,duration:.01})}),[e,t])}const Efr=e=>e.preventDefault(),_fr=p.forwardRef(function(e,t){var U;const{hidden:n,margins:r}=e,{collapsedFieldSets:i,collapsedPaths:o,displayed:a,editState:s,documentId:l,documentType:u,fieldActions:d,onChange:f,validation:h,ready:m,formState:g,onFocus:y,connectionState:x,onBlur:b,onSetCollapsedPath:v,onPathOpen:w,onSetCollapsedFieldSet:C,onSetActiveFieldGroup:k,openPath:S}=zr(),E=ql(),_=iC(l),{title:T}=$ee(),A=p.useMemo(()=>fFe(),[]),I=(U=s==null?void 0:s.transactionSyncLock)==null?void 0:U.enabled,{t:j}=Q(Gt),$=p.useMemo(()=>({id:"sync-lock",status:"warning",enabled:I,title:j("document-view.form-view.sync-lock-toast.title"),description:j("document-view.form-view.sync-lock-toast.description"),closable:!0}),[I,j]);Sfr($),p.useEffect(()=>{const H=E.pair.documentEvents(l,u).pipe(or(N=>{N.type==="mutation"&&A.publish(Tfr(N)),N.type==="rebase"&&A.publish(Afr(N))})).subscribe();return()=>{H.unsubscribe()}},[l,E,u,A]);const D=!!(a!=null&&a._rev);p.useEffect(()=>{D&&A.publish({type:"mutation",patches:[],snapshot:a})},[D]);const[O,M]=p.useState(null),[P,F]=p.useState(!1);p.useEffect(()=>{!P&&m&&!(g!=null&&g.focusPath.length)&&O&&(F(!0),cy(O))},[P,O,g==null?void 0:g.focusPath.length,m]);const L=p.useCallback(H=>{M(H),typeof t=="function"?t(H):t&&(t.current=H)},[t]);return c.jsx(Ii,{hidden:n,paddingX:4,paddingTop:5,paddingBottom:9,sizing:"border",width:1,children:c.jsx(Jw,{margins:r,children:c.jsx(V,{as:"form",onSubmit:Efr,ref:L,children:x==="connecting"?c.jsx(ZVe,{ms:300,children:c.jsxs(W,{align:"center",direction:"column",height:"fill",justify:"center",children:[c.jsx(dg,{muted:!0}),c.jsx(V,{marginTop:3,children:c.jsx(B,{align:"center",muted:!0,size:1,children:j("document-view.form-view.loading")})})]})}):g===null||n?c.jsx(V,{padding:2,children:c.jsx(B,{children:j("document-view.form-view.form-hidden")})}):c.jsxs(c.Fragment,{children:[c.jsx(Cfr,{documentId:l,schemaType:g.schemaType,title:T}),c.jsx(y9e,{__internal_fieldActions:d,__internal_patchChannel:A,changed:g.changed,collapsedFieldSets:i,collapsedPaths:o,focused:g.focused,focusPath:g.focusPath,groups:g.groups,id:"root",members:g.members,onChange:f,onFieldGroupSelect:k,onPathBlur:b,onPathFocus:y,onPathOpen:w,onSetFieldSetCollapsed:C,onSetPathCollapsed:v,openPath:S,presence:_,readOnly:x==="reconnecting"||g.readOnly,schemaType:g.schemaType,validation:h,value:g.value})]})})})})});function Tfr(e){const t=e.mutations.map(n=>n.patch).filter(Boolean);return{type:"mutation",snapshot:e.document,patches:NU(e.origin,t)}}function Afr(e){const t=e.remoteMutations.map(r=>r.patch).filter(Boolean),n=e.localMutations.map(r=>r.patch).filter(Boolean);return{type:"rebase",snapshot:e.document,patches:NU("remote",t).concat(NU("local",n))}}const jfr=R(V)({position:"relative"}),Ifr=R(IR)(({$disabled:e})=>e?{height:"100%"}:he`
    height: 100%;
    overflow: auto;
    position: relative;
    scroll-behavior: smooth;
    outline: none;
  `),$fr=function(e){const{footerHeight:t,headerHeight:n,isInspectOpen:r,rootElement:i,setDocumentPanelPortalElement:o}=e,{activeViewId:a,displayed:s,documentId:l,documentType:u,editState:d,inspector:f,value:h,views:m,ready:g,schemaType:y,permissions:x,isPermissionsLoading:b,isDeleting:v,isDeleted:w,timelineStore:C,onChange:k}=zr(),{collapsed:S}=A0(),{collapsed:E}=xp(),_=ap(),{features:T}=Mg(),A=p.useRef(null),[I,j]=p.useState(null),$=p.useRef(null),D=h._createdAt?"update":"create",O=p.useMemo(()=>m.find(Y=>Y.id===a)||m[0]||{type:"form"},[a,m]),M=T.splitPanes&&A.current||_.element,P=p.useMemo(()=>S?[n||0,0,t?t+2:2,0]:[0,0,2,0],[S,t,n]),F=O.type!=="form",L=p.useMemo(()=>O.type==="component"&&O.component&&p.createElement(O.component,{document:{draft:(d==null?void 0:d.draft)||null,displayed:s||h,historical:s,published:(d==null?void 0:d.published)||null},documentId:l,options:O.options,schemaType:y}),[O,s,l,d==null?void 0:d.draft,d==null?void 0:d.published,y,h]),U=Wo(C,Y=>Y.lastNonDeletedRevId);p.useEffect(()=>{I!=null&&I.scrollTo&&I.scrollTo(0,0)},[l,I]),p.useEffect(()=>{M&&o(M)},[M,o]);const H=p.useMemo(()=>r?c.jsx(yfr,{value:s||h}):null,[r,s,h]),N=!!(!E&&f);return c.jsx(F_,{children:c.jsxs(W,{height:"fill",children:[(T.resizablePanes||!N)&&c.jsx(jfr,{flex:2,overflow:"hidden",children:c.jsx(iw,{element:M,__unstable_elements:{documentScrollElement:I},children:c.jsx($h,{element:I,children:c.jsxs(Mx,{scrollElement:I,containerElement:$,children:[O.type==="form"&&!b&&g&&c.jsxs(c.Fragment,{children:[c.jsx(xfr,{granted:!!(x!=null&&x.granted),requiredPermission:D}),!v&&w&&c.jsx(vfr,{revisionId:U}),c.jsx(fze,{}),c.jsx(bfr,{})]}),c.jsxs(Ifr,{$disabled:S||!1,"data-testid":"document-panel-scroller",ref:j,children:[c.jsx(_fr,{hidden:F,margins:P,ref:$},l+(g?"_ready":"_pending")),L]}),H,c.jsx("div",{"data-testid":"document-panel-portal",ref:A})]})})})}),N&&c.jsx($h,{element:i,children:c.jsx(cfr,{documentId:l,documentType:y.name,flex:1})})]})})},hze=["left","bottom"],Dfr={small:0,medium:1,large:2,full:"auto"};function Ofr(e){const{dialog:t,referenceElement:n}=e;return c.jsx(pg,{content:c.jsx(Mfr,{dialog:t}),fallbackPlacements:hze,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function Mfr(e){const{dialog:t}=e,{cancelButtonIcon:n,cancelButtonText:r,confirmButtonIcon:i,confirmButtonText:o,message:a,onCancel:s,onConfirm:l,tone:u}=t,{t:d}=Q(Gt),{isTopLayer:f}=ns(),h=p.useRef(null),m=p.useCallback(g=>{g.key==="Escape"&&f&&s()},[f,s]);return Ss(m),On(f&&s,()=>[h.current]),c.jsxs(W,{direction:"column",ref:h,style:{minWidth:304,maxWidth:400},children:[c.jsx(V,{flex:1,overflow:"auto",padding:4,children:c.jsx(B,{children:a})}),c.jsx(V,{paddingX:4,paddingY:3,style:{borderTop:"1px solid var(--card-border-color)"},children:c.jsxs(Xn,{columns:2,gap:2,children:[c.jsx(zt,{"data-testid":"confirm-dialog-cancel-button",icon:n,onClick:s,mode:"ghost",text:r||d("confirm-dialog.cancel-button.fallback-text")}),c.jsx(zt,{"data-testid":"confirm-dialog-confirm-button",icon:i,onClick:l,text:o||d("confirm-dialog.confirm-button.fallback-text"),tone:u})]})})]})}function Pfr(e){const{dialog:t}=e,n=p.useId(),r=t.footer&&c.jsx(V,{paddingX:4,paddingY:3,children:t.footer});return c.jsx(Jh,{zOffset:"fullscreen",children:c.jsx(QO,{animate:!0,__unstable_hideCloseButton:t.showCloseButton===!1,footer:r,header:t.header,id:n,onClose:t.onClose,onClickOutside:t.onClose,width:t.width===void 0?1:Dfr[t.width],children:c.jsx(V,{padding:4,children:t.content})})})}function Rfr(e){const{dialog:t,referenceElement:n}=e;return c.jsx(pg,{content:c.jsx(Ffr,{dialog:t}),fallbackPlacements:hze,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function Ffr(e){const{dialog:t}=e,{content:n,onClose:r}=t,{isTopLayer:i}=ns(),o=p.useRef(null),a=p.useCallback(s=>{s.key==="Escape"&&i&&r()},[i,r]);return Ss(a),On(i&&r,()=>[o.current]),c.jsx("div",{ref:o,children:n})}function ixe(e){const{children:t}=e,{element:n,elements:r}=ap(),i=(r==null?void 0:r[cze])||n;return c.jsx(iw,{element:i,children:t})}function Oee(e){const{dialog:t,referenceElement:n=null}=e,r=p.useId();if(t.type==="confirm")return c.jsx(Ofr,{dialog:t,referenceElement:n});if(t.type==="popover")return c.jsx(Rfr,{dialog:t,referenceElement:n});if(t.type==="dialog"||!t.type)return c.jsx(ixe,{children:c.jsx(Pfr,{dialog:t})});if(t.type==="custom")return c.jsx(ixe,{children:t==null?void 0:t.component});const i=t;return console.warn(`Unsupported modal type ${i.type}`),c.jsx(no,{id:r,onClose:i.onClose,onClickOutside:i.onClose,width:1,children:i.content||c.jsxs(B,{size:1,children:["Unexpected modal type (",c.jsx("code",{children:i.type}),")"]})})}const pze=p.memo(function({actionStates:e,children:t,referenceElement:n}){const[r,i]=p.useState(-1),o=p.useMemo(()=>e[r],[r,e]),a=p.useCallback(l=>{i(l)},[]),s=p.useMemo(()=>t({handleAction:a}),[t,a]);return c.jsxs(c.Fragment,{children:[o&&o.dialog&&c.jsx(Jh,{zOffset:"paneFooter",children:c.jsx(Oee,{dialog:o.dialog,referenceElement:n})}),s]})});function Lfr(e){const{actionStates:t,disabled:n}=e,r=p.useId(),[i,o]=p.useState(null),a=p.useMemo(()=>({placement:"top-end",portal:!0,preventOverflow:!0}),[]),{t:s}=Q(Gt),l=p.useCallback(({handleAction:u})=>c.jsx(Jt,{id:`${r}-action-menu`,button:c.jsx(Ki,{"aria-label":s("buttons.action-menu-button.aria-label"),disabled:n,"data-testid":"action-menu-button",size:"large",tooltipProps:{content:s("buttons.action-menu-button.tooltip")}}),menu:c.jsx(Nt,{padding:1,children:t.map((d,f)=>c.jsx(mze,{actionState:d,disabled:n,index:f,onAction:u},f))}),popover:a,ref:o}),[t,n,r,a,s]);return c.jsx(pze,{actionStates:t,referenceElement:i,children:l})}function mze(e){const{actionState:t,disabled:n,index:r,onAction:i}=e,{onHandle:o}=t,a=p.useCallback(()=>{i(r),o&&o()},[r,i,o]),s=p.useMemo(()=>t.shortcut?String(t.shortcut).split("+").map(l=>l.slice(0,1).toUpperCase()+l.slice(1)):void 0,[t.shortcut]);return c.jsx(Qe,{"data-testid":`action-${t.label.replace(" ","")}`,disabled:n||!!t.disabled,hotkeys:s,icon:t.icon,onClick:a,text:t.label,tone:t.tone,...t.disabled&&{tooltipProps:{content:t.title}}})}const Nfr={NOTHING_TO_DELETE:"action.delete.disabled.nothing-to-delete",NOT_READY:"action.delete.disabled.not-ready"},Mee=({id:e,type:t,draft:n,onComplete:r})=>{const{setIsDeleting:i}=zr(),{delete:o}=Qc(e,t),[a,s]=p.useState(!1),[l,u]=p.useState(!1),{t:d}=Q(Gt),f=p.useCallback(()=>{u(!1),r()},[r]),h=p.useCallback(()=>{s(!0),u(!1),i(!0),o.execute(),r()},[o,r,i]),m=p.useCallback(()=>{u(!0)},[]),[g,y]=wf({id:e,type:t,permission:"delete"}),x=dr();return p.useMemo(()=>!y&&!(g!=null&&g.granted)?{tone:"critical",icon:$i,disabled:!0,label:d("action.delete.label"),title:c.jsx(Fc,{context:"delete-document",currentUser:x})}:{tone:"critical",icon:$i,disabled:a||!!o.disabled||y,title:o.disabled&&d(Nfr[o.disabled])||"",label:d(a?"action.delete.running.label":"action.delete.label"),shortcut:"Ctrl+Alt+D",onHandle:m,dialog:l&&{type:"custom",component:c.jsx(Aee,{action:"delete",id:(n==null?void 0:n._id)||e,type:t,onCancel:f,onConfirm:h})}},[x,o.disabled,n==null?void 0:n._id,m,f,h,e,l,a,y,g==null?void 0:g.granted,d,t])};Mee.action="delete";Mee.displayName="DeleteAction";const Bfr={NO_CHANGES:"action.discard-changes.disabled.no-change",NOT_PUBLISHED:"action.discard-changes.disabled.not-published",NOT_READY:"action.discard-changes.disabled.not-ready"},Pee=({id:e,type:t,published:n,liveEdit:r,onComplete:i})=>{const{discardChanges:o}=Qc(e,t),[a,s]=p.useState(!1),[l,u]=wf({id:e,type:t,permission:"discardDraft"}),d=dr(),{t:f}=Q(Gt),h=p.useCallback(()=>{o.execute(),i()},[o,i]),m=p.useCallback(()=>{s(!0)},[]),g=p.useMemo(()=>a&&{type:"confirm",tone:"critical",onCancel:i,onConfirm:h,message:f("action.discard-changes.confirm-dialog.confirm-discard-changes")},[h,a,i,f]);return p.useMemo(()=>!n||r?null:!u&&!(l!=null&&l.granted)?{tone:"critical",icon:Mh,disabled:!0,label:f("action.discard-changes.label"),title:c.jsx(Fc,{context:"discard-changes",currentUser:d})}:{tone:"critical",icon:Mh,disabled:!!o.disabled||u,title:o.disabled&&Bfr[o.disabled]||"",label:f("action.discard-changes.label"),onHandle:m,dialog:g},[d,g,o.disabled,m,u,r,l==null?void 0:l.granted,n,f])};Pee.action="discardChanges";Pee.displayName="DiscardChangesAction";const Vfr={NOTHING_TO_DUPLICATE:"action.duplicate.disabled.nothing-to-duplicate",NOT_READY:"action.duplicate.disabled.not-ready"},Ree=({id:e,type:t,onComplete:n})=>{const r=ql(),{duplicate:i}=Qc(e,t),{navigateIntent:o}=Os(),[a,s]=p.useState(!1),[l,u]=wf({id:e,type:t,permission:"duplicate"}),{t:d}=Q(Gt),f=dr(),h=p.useCallback(async()=>{const m=Ca();s(!0);const g=Lbt(r.pair.operationEvents(e,t).pipe(Bt(y=>y.op==="duplicate"&&y.type==="success")));i.execute(m),await g,o("edit",{id:m,type:t}),n()},[r.pair,i,e,o,n,t]);return p.useMemo(()=>!u&&!(l!=null&&l.granted)?{icon:Ru,disabled:!0,label:d("action.duplicate.label"),title:c.jsx(Fc,{context:"duplicate-document",currentUser:f})}:{icon:Ru,disabled:a||!!i.disabled||u,label:d(a?"action.duplicate.running.label":"action.duplicate.label"),title:i.disabled?d(Vfr[i.disabled]):"",onHandle:h},[f,i.disabled,h,a,u,l==null?void 0:l.granted,d])};Ree.action="duplicate";Ree.displayName="DuplicateAction";const D4=({id:e,type:t,revision:n,onComplete:r})=>{const{restore:i}=Qc(e,t),o=nVe(e,t),{navigateIntent:a}=Os(),s=p.useRef(o),[l,u]=p.useState(!1),{t:d}=Q(Gt),f=p.useCallback(()=>{i.execute(n),r()},[i,n,r]);p.useEffect(()=>{!o||o===s.current||(o.type==="success"&&o.op==="restore"&&a("edit",{id:e,type:t}),s.current=o)},[o,e,a,t]);const h=p.useCallback(()=>{u(!0)},[]),m=p.useMemo(()=>l?{type:"confirm",tone:"critical",onCancel:r,onConfirm:f,message:d("action.restore.confirm.message")}:null,[f,l,r,d]),g=n==="@initial",y=n===void 0;return p.useMemo(()=>y?null:{label:d("action.restore.label"),color:"primary",onHandle:h,title:d(g?"action.restore.disabled.cannot-restore-initial":"action.restore.tooltip"),icon:wK,dialog:m,disabled:g},[m,h,g,y,d])};D4.action="restore";D4.displayName="HistoryRestoreAction";const zfr=Oi({name:"Document Published",version:1,description:'User clicked the "Publish" button in the document pane'}),Ufr={LIVE_EDIT_ENABLED:"action.publish.live-edit.publish-disabled",ALREADY_PUBLISHED:"action.publish.already-published.no-time-ago.tooltip",NO_CHANGES:"action.publish.no-changes.tooltip",NOT_READY:"action.publish.disabled.not-ready"};function Hfr(e,t,n){return e==="ALREADY_PUBLISHED"&&t?c.jsx(Wfr,{publishedAt:t}):n(Ufr[e])}function Wfr({publishedAt:e}){const{t}=Q(Gt),n=Oy(e,{useTemporalPhrase:!0});return c.jsx("span",{children:t("action.publish.already-published.tooltip",{timeSincePublished:n})})}const Fee=e=>{var O;const{id:t,type:n,liveEdit:r,draft:i,published:o}=e,[a,s]=p.useState(null),{publish:l}=Qc(t,n),u=fC(t,n),d=aVe(t,n),{changesOpen:f,onHistoryOpen:h,documentId:m,documentType:g}=zr(),y=S4(m,g),{t:x}=Q(Gt),b=((y==null?void 0:y.draft)||(y==null?void 0:y.published)||{})._rev,v=u.validation.some(rK),[w,C]=p.useState(!1),k=d.isSyncing,S=u.isValidating,[E,_]=wf({id:t,type:n,permission:"publish"}),T=dr(),A=l.disabled?Hfr(l.disabled,(o||{})._updatedAt,x)||"":v?x("action.publish.validation-issues.tooltip"):"",I=!!i,j=p.useCallback(()=>{l.execute(),s("publishing")},[l]);p.useEffect(()=>{const M=u.isValidating===!1&&u.revision!==b;!w||k||!M||(v||j(),C(!1))},[k,j,v,w,u.revision,b,S,u.isValidating]),p.useEffect(()=>{const M=a==="publishing"&&!I;M&&f&&h();const P=M?"published":null,F=setTimeout(()=>{s(P)},M?200:4e3);return()=>clearTimeout(F)},[f,a,I,h]);const $=$s(),D=p.useCallback(()=>{$.log(zfr,{publishedImmediately:!(i!=null&&i._createdAt),previouslyPublished:!!o}),d.isSyncing||u.isValidating||u.revision!==b?C(!0):j()},[$,i==null?void 0:i._createdAt,o,d.isSyncing,u.isValidating,u.revision,b,j]);return p.useMemo(()=>{var P;if(r)return{tone:"default",icon:fb,label:x("action.publish.live-edit.label"),title:x("action.publish.live-edit.tooltip"),disabled:!0};if(!_&&!(E!=null&&E.granted))return{tone:"default",icon:fb,label:"Publish",title:c.jsx(Fc,{context:"publish-document",currentUser:T}),disabled:!0};const M=!!(w||(P=y==null?void 0:y.transactionSyncLock)!=null&&P.enabled||a==="publishing"||a==="published"||v||l.disabled);return{disabled:M||_,tone:"default",label:x(a==="published"?"action.publish.published.label":w||a==="publishing"?"action.publish.running.label":"action.publish.draft.label"),icon:fb,title:w?x("action.publish.waiting"):a==="published"||a==="publishing"?null:A,shortcut:M||w?null:"Ctrl+Alt+P",onHandle:D}},[T,(O=y==null?void 0:y.transactionSyncLock)==null?void 0:O.enabled,D,v,_,r,E==null?void 0:E.granted,l.disabled,w,a,x,A])};Fee.action="publish";Fee.displayName="PublishAction";const Gfr={NOT_PUBLISHED:"action.unpublish.disabled.not-published",NOT_READY:"action.unpublish.disabled.not-ready",LIVE_EDIT_ENABLED:"action.unpublish.disabled.live-edit-enabled"},Lee=({id:e,type:t,draft:n,onComplete:r,liveEdit:i})=>{const{unpublish:o}=Qc(e,t),[a,s]=p.useState(!1),[l,u]=wf({id:e,type:t,permission:"unpublish"}),d=dr(),{t:f}=Q(Gt),h=p.useCallback(()=>{s(!1),r()},[r]),m=p.useCallback(()=>{s(!1),o.execute(),r()},[r,o]),g=p.useMemo(()=>a?{type:"dialog",onClose:r,content:c.jsx(Aee,{id:(n==null?void 0:n._id)||e,type:t,action:"unpublish",onCancel:h,onConfirm:m})}:null,[n,e,h,m,a,r,t]);return p.useMemo(()=>i?null:!u&&!(l!=null&&l.granted)?{tone:"critical",icon:V3,label:"Unpublish",title:c.jsx(Fc,{context:"unpublish-document",currentUser:d}),disabled:!0}:{tone:"critical",icon:V3,disabled:!!o.disabled||u,label:f("action.unpublish.label"),title:o.disabled?f(Gfr[o.disabled]):"",onHandle:()=>s(!0),dialog:g},[d,g,u,i,l==null?void 0:l.granted,f,o.disabled])};Lee.action="unpublish";Lee.displayName="UnpublishAction";const gze=p.memo(function(e){var g,y;const{disabled:t,showMenu:n,states:r}=e,{__internal_tasks:i,schemaType:o,openPath:a}=zr(),[s,...l]=r,[u,d]=p.useState(null),f=(y=(g=er().beta)==null?void 0:g.treeArrayEditing)==null?void 0:y.enabled,h=p.useMemo(()=>f?bLe(o,a):!1,[f,a,o]),m=p.useMemo(()=>!s||!s.title&&!s.shortcut?null:c.jsxs(W,{style:{maxWidth:300},align:"center",gap:3,children:[s.title&&c.jsx(B,{size:1,children:s.title}),s.shortcut&&c.jsx(HG,{"data-testid":"document-status-bar-hotkeys",fontSize:1,style:{marginTop:-4,marginBottom:-4},keys:String(s.shortcut).split("+").map(x=>x.slice(0,1).toUpperCase()+x.slice(1).toLowerCase())})]}),[s]);return c.jsxs(W,{align:"center",gap:1,children:[i&&i.footerAction,s&&c.jsx(Pl,{zOffset:200,children:c.jsx(Et,{disabled:!m,content:m,placement:"top",children:c.jsx(ae,{children:c.jsx(ge,{"data-testid":`action-${s.label}`,disabled:t||!!s.disabled||h,icon:s.icon,onClick:s.onHandle,ref:d,size:"large",text:s.label,tone:s.tone||"primary"})})})}),n&&l.length>0&&c.jsx(Lfr,{actionStates:l,disabled:t}),s&&s.dialog&&c.jsx(Oee,{dialog:s.dialog,referenceElement:u})]})}),Kfr=p.memo(function(){const{actions:e,connectionState:t,documentId:n,editState:r}=zr(),i=p.useMemo(()=>(e??[]).filter(a=>!Nee(a)),[e]),o=p.useCallback(({states:a})=>c.jsx(gze,{disabled:t!=="connected",showMenu:i.length>1,states:a},n),[i.length,t,n]);return i.length===0||!r?null:c.jsx(L_,{actions:i,actionProps:r,group:"default",children:o})}),Yfr=p.memo(function(){var u;const{actions:e,connectionState:t,editState:n,timelineStore:r}=zr(),i=((u=Wo(r,d=>d.revTime))==null?void 0:u.id)||"",o=((n==null?void 0:n.draft)||(n==null?void 0:n.published)||{})._rev===i,a=p.useMemo(()=>({...n||{},revision:i}),[n,i]),s=p.useMemo(()=>(e??[]).filter(Nee).slice(-1),[e]),l=p.useCallback(({states:d})=>c.jsx(gze,{disabled:t!=="connected"||!!o,showMenu:!1,states:d}),[t,o]);return c.jsx(L_,{actions:s,actionProps:a,group:"default",children:l})});function Nee(e){return e.action===D4.action}const qfr={create:zN,delete:$i,discardDraft:eo,initial:zN,editDraft:Oh,editLive:Oh,publish:fb,unpublish:V3};function Zfr(e){return qfr[e]}const Xfr=R(ae)`
  max-width: 200px;
`,Jfr=R(W)`
  max-height: calc(100vh - 198px);
  min-width: 244px;
`,Qfr=R(V)(({$visible:e})=>he`
    opacity: 0;
    pointer-events: none;

    ${e&&he`
      opacity: 1;
      pointer-events: auto;
    `}
  `),yze={initial:"timeline.operation.created-initial",create:"timeline.operation.created",publish:"timeline.operation.published",editLive:"timeline.operation.edited-live",editDraft:"timeline.operation.edited-draft",unpublish:"timeline.operation.unpublished",discardDraft:"timeline.operation.draft-discarded",delete:"timeline.operation.deleted"},zI=R(W)(({theme:e})=>{var n;const t=(n=e.sanity.color.base.skeleton)==null?void 0:n.from;return he`
    --timeline-hairline-width: 1px;
    position: relative;
    z-index: 2;
    margin: 0;
    padding: 0;

    &::before {
      position: absolute;
      content: '';
      height: 100%;
      width: var(--timeline-hairline-width);
      background: ${t};
      top: 0;
      left: calc((100% - var(--timeline-hairline-width)) / 2);
      z-index: 1;
    }
  `}),ehr=R(zt)(({$selected:e,$disabled:t})=>he`
    position: relative;
    width: 100%;

    /* Line styling */
    &[data-first] ${zI}::before {
      height: 50%;
      top: unset;
      bottom: 0;
    }

    &[data-last] ${zI}::before {
      height: 50%;
    }

    ${e&&he`
      ${zI}::before {
        background: transparent;
      }
    `}

    ${t&&he`
      cursor: not-allowed;
    `}
  `),thr=R(V)`
  background: var(--card-bg-color);
  border-radius: 50px;
  position: relative;
  z-index: 2;
`,nhr=R(V)`
  min-width: 1rem;
  margin-left: ${({theme:e})=>`-${Te(e.sanity.space[1])}`};
`;function rhr({maxLength:e,userIds:t}){return c.jsx(nE,{maxLength:e,children:t.map(n=>c.jsx(Vl,{user:n,withTooltip:!0},n))})}const oxe={initial:"primary",create:"primary",publish:"positive",editLive:"caution",editDraft:"caution",unpublish:"critical",discardDraft:"critical",delete:"critical",withinSelection:"primary"};function ihr({chunk:e,isFirst:t,isLast:n,isLatest:r,isSelected:i,onSelect:o,timestamp:a,type:s}){const{t:l}=Q("studio"),u=Zfr(s),d=Array.from(e.authors),f=s!=="delete",h=$c({dateStyle:"medium",timeStyle:"short"}),m=p.useMemo(()=>{const y=new Date(a);return h.format(y)},[a,h]),g=p.useCallback(y=>{y.preventDefault(),y.stopPropagation(),f&&o(e)},[o,e,f]);return c.jsx(ehr,{$selected:i,$disabled:!f,"data-testid":"timeline-item-button","data-chunk-id":e.id,"data-first":t?!0:void 0,"data-last":n?!0:void 0,"data-ui":"timelineItem",mode:i?"default":"bleed",onClick:g,padding:0,radius:2,tone:i?"primary":oxe[e.type],children:c.jsx(V,{paddingX:2,children:c.jsxs(W,{align:"stretch",children:[c.jsx(zI,{align:"center",children:c.jsx(thr,{padding:2,children:c.jsx(B,{size:2,children:u&&p.createElement(u)})})}),c.jsxs(ae,{space:2,margin:2,children:[r&&c.jsx(W,{children:c.jsx(le,{padding:1,radius:2,shadow:1,tone:i?"primary":oxe[e.type],children:c.jsx(B,{muted:!0,size:0,weight:"medium",children:l("timeline.latest")})})}),c.jsx(V,{children:c.jsx(B,{size:1,weight:"medium",children:l(yze[s])||c.jsx("code",{children:s})})}),c.jsx(nhr,{paddingX:1,children:c.jsx(B,{as:"time",size:0,muted:!0,dateTime:a,children:m})})]}),c.jsx(W,{flex:1,justify:"flex-end",align:"center",children:c.jsx(rhr,{maxLength:3,userIds:d})})]})})})}const kH=({chunks:e,disabledBeforeFirstChunk:t,hasMoreChunks:n,lastChunk:r,onLoadMore:i,onSelect:o,firstChunk:a})=>{const[s,l]=p.useState(!1),{t:u}=Q("studio"),d=p.useMemo(()=>e.filter(m=>t&&a?m.index<a.index:!0),[e,t,a]),f=p.useMemo(()=>r!=null&&r.id?d.findIndex(m=>m.id===r.id):-1,[r==null?void 0:r.id,d]),h=p.useCallback((m,{activeIndex:g})=>{const y=g===0,x=d&&g===d.length-1||!1;return c.jsxs(V,{paddingBottom:x?1:0,paddingTop:y?1:0,paddingX:1,children:[c.jsx(ihr,{chunk:m,isFirst:y,isLast:x,isLatest:g===0&&!t,isSelected:g===f,onSelect:o,timestamp:m.endTimestamp,type:m.type}),g===d.length-1&&n&&c.jsx(Dn,{})]})},[t,d,n,o,f]);return p.useEffect(()=>l(!0),[]),c.jsxs(Qfr,{$visible:!f||s,"data-ui":"timeline",children:[d.length===0&&c.jsxs(Xfr,{padding:3,space:3,children:[c.jsx(B,{size:1,weight:"medium",children:u("timeline.error.no-document-history-title")}),c.jsx(B,{muted:!0,size:1,children:u("timeline.error.no-document-history-description")})]}),d.length>0&&c.jsx(Jfr,{direction:"column",children:c.jsx(gf,{activeItemDataAttr:"data-hovered",ariaLabel:u("timeline.list.aria-label"),autoFocus:"list",initialIndex:f,initialScrollAlign:"center",itemHeight:40,items:d,onEndReached:i,onEndReachedIndexOffset:20,overscan:5,renderItem:h,wrapAround:!1})})]})};kH.displayName="Timeline";function ohr(){const{t:e}=Q("studio");return c.jsxs(W,{align:"flex-start",gap:3,padding:4,children:[c.jsx(gi,{tone:"critical",children:c.jsx(ua,{})}),c.jsxs(ae,{space:4,children:[c.jsx(gi,{size:1,tone:"critical",weight:"medium",children:e("timeline.error.load-document-changes-title")}),c.jsx(gi,{size:1,tone:"critical",children:e("timeline.error.load-document-changes-description")})]})]})}const ahr=R(Fn)`
  overflow: hidden;
  overflow: clip;
`;function vze({chunk:e,mode:t,placement:n}){const{setTimelineRange:r,setTimelineMode:i,timelineError:o,ready:a,timelineStore:s}=zr(),[l,u]=p.useState(!1),[d,f]=p.useState(null),h=p.useRef(null),m=Nr(),g=Wo(s,D=>D.chunks),y=Wo(s,D=>D.isLoading),x=Wo(s,D=>D.hasMoreChunks),b=Wo(s,D=>D.realRevChunk),v=Wo(s,D=>D.sinceTime),{t:w}=Q("studio"),C=p.useCallback(()=>{i(t),u(!0)},[t,i]),k=p.useCallback(()=>{i("closed"),u(!1)},[i]),S=p.useCallback(D=>{l&&(D.key==="Escape"||D.key==="Tab")&&(k(),d==null||d.focus())},[d,k,l]);Ss(S),On(l&&k,()=>[d,h.current]);const E=p.useCallback(D=>{try{const[O,M]=s.findRangeForRev(D);i("closed"),r(O,M)}catch(O){m.push({closable:!0,description:O.message,status:"error",title:w("timeline.error.unable-to-load-revision")})}},[i,r,w,s,m]),_=p.useCallback(D=>{try{const[O,M]=s.findRangeForSince(D);i("closed"),r(O,M)}catch(O){m.push({closable:!0,description:O.message,status:"error",title:w("timeline.error.unable-to-load-revision")})}},[i,r,w,s,m]),T=p.useCallback(()=>{y||s.loadMore()},[y,s]),A=o?c.jsx(ohr,{}):c.jsxs(c.Fragment,{children:[t==="rev"&&c.jsx(kH,{chunks:g,firstChunk:b,hasMoreChunks:x,lastChunk:b,onLoadMore:T,onSelect:E}),t==="since"&&c.jsx(kH,{chunks:g,disabledBeforeFirstChunk:!0,firstChunk:b,hasMoreChunks:x,lastChunk:v,onLoadMore:T,onSelect:_})]}),I={timestamp:{dateStyle:"medium",timeStyle:"short"}},j=e?w(yze[e.type],{context:"timestamp",timestamp:new Date(e==null?void 0:e.endTimestamp),formatParams:I}):w("timeline.latest-revision"),$=e?w("timeline.since",{timestamp:new Date(e==null?void 0:e.endTimestamp),formatParams:I}):w("timeline.since-version-missing");return c.jsx(ahr,{"data-testid":"timeline-menu",constrainSize:!0,content:l&&A,"data-ui":"versionMenu",open:l,placement:n,portal:!0,ref:h,children:c.jsx(ge,{"data-testid":l?"timeline-menu-close-button":"timeline-menu-open-button",disabled:!a,mode:"bleed",iconRight:ea,onClick:l?k:C,ref:f,selected:l,style:{maxWidth:"100%"},text:a?t==="rev"?j:$:w("timeline.loading-history")})})}function shr(){const{activeViewId:e,paneKey:t,views:n}=zr(),r=`${t}tabpanel`;return c.jsx(ow,{space:1,children:n.map((i,o)=>c.jsx(lhr,{icon:i.icon,id:`${t}tab-${i.id}`,isActive:e===i.id,label:i.title,tabPanelId:r,viewId:o===0?null:i.id??null},i.id))})}function lhr(e){const{icon:t,id:n,isActive:r,label:i,tabPanelId:o,viewId:a,...s}=e,{ready:l}=zr(),{setView:u}=Cf(),d=p.useCallback(()=>u(a),[u,a]);return c.jsx(S2,{...s,"aria-controls":o,disabled:!l,icon:t,id:n,label:i,onClick:d,selected:r})}function chr(){const{connectionState:e,schemaType:t,title:n,value:r}=zr(),i=!!r&&e!=="connecting",{error:o,value:a}=C_({enabled:i,schemaType:t,value:r}),{t:s}=Q(Gt);return e==="connecting"?c.jsx(c.Fragment,{}):n?c.jsx(c.Fragment,{children:n}):r?o?c.jsx(c.Fragment,{children:s("panes.document-header-title.error.text",{error:o.message})}):c.jsx(c.Fragment,{children:(a==null?void 0:a.title)||c.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:s("panes.document-header-title.untitled.text")})}):c.jsx(c.Fragment,{children:s("panes.document-header-title.new.text",{schemaType:(t==null?void 0:t.title)||(t==null?void 0:t.name)})})}const uhr=p.memo(p.forwardRef(function(e,t){const{menuItems:n}=e,{actions:r,editState:i,onMenuAction:o,onPaneClose:a,onPaneSplit:s,menuItemGroups:l,schemaType:u,timelineStore:d,connectionState:f,views:h,unstable_languageFilter:m}=zr(),{features:g}=Mg(),{index:y,BackLink:x,hasGroupSiblings:b}=Cf(),{actions:v}=$J(),[w,C]=p.useState(null),k=p.useMemo(()=>(r??[]).filter(U=>!Nee(U)),[r]),S=p.useMemo(()=>nze({actionHandler:o,fieldActions:v,menuItems:n,menuItemGroups:l}),[o,v,l,n]),E=p.useMemo(()=>S.filter(jee),[S]),_=p.useMemo(()=>S.filter(tze),[S]),T=h.length>1,A=Wo(d,U=>U.revTime),{collapsed:I,isLast:j}=xp(),$=j&&!I?-1:0,D=g.splitViews&&s&&h.length>1,O=D&&b,M=g.backButton&&y>0,P=!O&&!M&&!!x,{t:F}=Q(Gt),L=p.useCallback(({states:U})=>c.jsx(dhr,{contextMenuNodes:_,setReferenceElement:C,referenceElement:w,states:U}),[_,w]);return c.jsx(Sa,{children:c.jsx(I4,{border:!0,ref:t,loading:f==="connecting",title:c.jsx(chr,{}),tabs:T&&c.jsx(shr,{}),tabIndex:$,backButton:M&&c.jsx(ge,{as:x,"data-as":"a",icon:cE,mode:"bleed",tooltipProps:{content:F("pane-header.back-button.text")}}),subActions:c.jsx(vze,{chunk:A,mode:"rev",placement:"bottom-end"}),actions:c.jsxs(W,{align:"center",gap:1,children:[m.length>0&&c.jsx(c.Fragment,{children:m.map((U,H)=>p.createElement(U,{key:`language-filter-${H}`,schemaType:u}))}),E.map(U=>c.jsx(eze,{node:U},U.key)),i&&c.jsx(L_,{actions:k,actionProps:i,group:"paneActions",children:L}),D&&c.jsx(ge,{"aria-label":F("buttons.split-pane-button.aria-label"),icon:L_e,mode:"bleed",onClick:s,tooltipProps:{content:F("buttons.split-pane-button.tooltip")}},"split-pane-button"),O&&c.jsx(ge,{icon:eo,mode:"bleed",onClick:a,tooltipProps:{content:F("buttons.split-pane-close-button.title")}},"close-view-button"),P&&c.jsx(ge,{icon:eo,mode:"bleed",tooltipProps:{content:F("buttons.split-pane-close-group-button.title")},as:x},"close-view-button")]})})})})),dhr=p.memo(function(e){const{setReferenceElement:t,referenceElement:n,contextMenuNodes:r}=e,i=p.useDeferredValue(e.states);return c.jsx(fhr,{setReferenceElement:t,referenceElement:n,contextMenuNodes:r,states:i})}),fhr=p.memo(function(e){const{states:t,setReferenceElement:n,contextMenuNodes:r,referenceElement:i}=e,o=p.useCallback(({handleAction:a})=>c.jsx("div",{ref:n,children:c.jsx(JVe,{nodes:r,actionsNodes:t.length>0?t.map((s,l)=>c.jsx(mze,{actionState:s,disabled:!!s.disabled,index:l,onAction:a},s.label)):void 0},"context-menu")}),[r,n,t]);return c.jsx(pze,{actionStates:t,referenceElement:i,children:o})}),hhr={primary:"primary",success:"positive",warning:"caution",danger:"critical"},phr=p.memo(function({states:e}){return e.length===0?null:c.jsx(Wn,{space:1,children:e.map((t,n)=>c.jsx(Et,{content:t.title,disabled:!t.title,placement:"top",portal:!0,children:c.jsx($a,{fontSize:1,mode:"outline",paddingX:2,paddingY:1,radius:4,tone:t.color?hhr[t.color]:void 0,style:{whiteSpace:"nowrap"},children:t.label})},`${t.label}-${n}`))})}),mhr=p.memo(function(e){const t=p.useDeferredValue(e.states);return c.jsx(phr,{states:t})});function ghr(){const{badges:e,editState:t}=zr(),n=p.useCallback(({states:r})=>c.jsx(mhr,{states:r}),[]);return!t||!e?null:c.jsx(aze,{badges:e,badgeProps:t,children:n})}const yhr=R(na.path)`
  transform-origin: center;
`,vhr=e=>c.jsx(na.circle,{fill:"none",r:"8",cx:"12.5",cy:"12.5",strokeWidth:"1.2",...e}),bhr=e=>c.jsx(yhr,{fill:"none",d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",...e}),xhr=e=>c.jsx(na.path,{d:"M9.5 12.1316L11.7414 14.5L16 10",...e}),whr=Fy`
  0% {
    transform: rotate(0);
  }
  100% {
    transform: rotate(360deg);
  }
`,Chr=R.g`
  transform-origin: center;

  &[data-rotate] {
    animation: ${whr} 1s ease-in-out infinite;
  }
`,khr={syncing:{scale:1,transition:{duration:0}},saved:{scale:[1,.8,1.2,.9,1.1,.95,1.05,.99,1],transition:{duration:.5,delay:.2}},changes:{transition:{duration:0}}},Shr={syncing:{strokeDasharray:"0, 0, 23, 3, 23, 3",strokeDashoffset:10,opacity:1,transition:{duration:0}},saved:{strokeDasharray:"0, 0, 23, 0, 23, 0",strokeDashoffset:10,opacity:1,transition:{duration:.2}},changes:{strokeDasharray:"0, 60, 23, 0, 23, 0",strokeDashoffset:0,opacity:0,transition:{duration:.5}}},Ehr={syncing:{opacity:1,transition:{duration:0}},saved:{opacity:0,transition:{duration:.2}},changes:{opacity:0}},_hr={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:1,transition:{delay:.4,duration:.3}},changes:{pathLength:0,transition:{duration:.2}}};function Thr(e){const{status:t}=e;return t?c.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",stroke:"currentColor",strokeWidth:"1.2","data-sanity-icon":"animated-status-icon",children:c.jsxs(na.g,{variants:khr,initial:t,animate:t,children:[c.jsxs(Chr,{"data-rotate":t==="changes"?void 0:"",children:[c.jsx(bhr,{variants:Ehr,initial:t,animate:t}),c.jsx(vhr,{variants:Shr,initial:t,animate:t})]}),c.jsx(xhr,{variants:_hr,initial:t,animate:t})]})}):null}const Ahr={saved:{i18nKey:"status-bar.document-status-pulse.status.saved.text",tone:"positive"},syncing:{i18nKey:"status-bar.document-status-pulse.status.syncing.text",tone:"default"}},jhr=e=>{const{status:t}=e,{t:n}=Q(Gt);if(t!=="saved"&&t!=="syncing")return null;const r=Ahr[t];return c.jsxs(W,{align:"center",gap:2,"data-testid":"pane-footer-document-status-pulse",children:[c.jsx(gi,{size:1,tone:r.tone,children:c.jsx(Thr,{status:t})}),c.jsx(B,{muted:!0,size:1,children:n(r.i18nKey)})]})},Ihr=1e3,$hr=3e3;function Dhr({singleLine:e}){const{documentId:t,documentType:n,editState:r,value:i}=zr(),[o,a]=p.useState(null),s=aVe(t,n),l=i==null?void 0:i._updatedAt;return p.useEffect(()=>{if(o==="syncing"&&!s.isSyncing){const u=setTimeout(()=>a("saved"),Ihr);return()=>clearTimeout(u)}if(o==="saved"){const u=setTimeout(()=>a(null),$hr);return()=>clearTimeout(u)}},[o,l,s.isSyncing]),p.useLayoutEffect(()=>{a(null)},[t]),p.useLayoutEffect(()=>{s.isSyncing&&a("syncing")},[s.isSyncing,l]),o?c.jsx(jhr,{status:o||void 0}):c.jsx(Et,{content:c.jsx(Vx,{absoluteDate:!0,draft:r==null?void 0:r.draft,published:r==null?void 0:r.published}),placement:"top",children:c.jsxs(W,{align:"center",gap:3,children:[c.jsx(tC,{draft:r==null?void 0:r.draft,published:r==null?void 0:r.published}),c.jsx(Vx,{draft:r==null?void 0:r.draft,published:r==null?void 0:r.published,singleLine:e})]})})}function Ohr({element:e,onResize:t}){p.useLayoutEffect(()=>(e&&f5.observe(e,t),()=>{e&&f5.unobserve(e)}),[e,t])}const Mhr=480;function Phr(e){const{actionsBoxRef:t}=e,{editState:n,timelineStore:r}=zr(),i=Wo(r,f=>f.onOlderRevision),[o,a]=p.useState(null),[s,l]=p.useState(null),u=p.useCallback(f=>{a(f.contentRect.width<Mhr)},[]);Ohr({element:s,onResize:u});const d=(n==null?void 0:n.ready)&&typeof o=="boolean";return c.jsx(W,{direction:"column",ref:l,sizing:"border",children:d&&c.jsxs(W,{align:"stretch",gap:1,justify:"space-between",paddingY:2,paddingLeft:4,paddingRight:3,children:[c.jsxs(W,{align:"center",flex:1,gap:o?2:3,wrap:"wrap",paddingRight:3,children:[c.jsxs(W,{align:"center",children:[c.jsx(Dhr,{singleLine:!o}),c.jsx(CH,{size:"large"})]}),c.jsx(ghr,{})]}),c.jsxs(W,{align:"flex-start",justify:"flex-end",ref:t,style:{flexShrink:0,marginLeft:"auto"},children:[c.jsx(CH,{size:"large"}),i?c.jsx(Yfr,{}):c.jsx(Kfr,{})]})]})})}const Rhr=p.memo(function(e){const{actionsBoxElement:t,activeIndex:n,as:r="div",children:i,id:o,onActionStart:a,onKeyDown:s,rootRef:l,states:u,...d}=e,f=u[n],h=p.useCallback(m=>{const g=u.filter(x=>x.shortcut&&Jy(x.shortcut,m)),y=g[0];if(g.length>1&&console.warn(`Keyboard shortcut conflict: More than one document action matches the shortcut "${y.shortcut}"`),y&&!y.disabled&&y.onHandle){m.preventDefault(),y.onHandle(),a(u.indexOf(y));return}s&&s(m)},[a,s,u]);return p.createElement(r,{id:o,onKeyDown:h,tabIndex:-1,...d,ref:l},[i,f&&f.dialog&&c.jsx(Jh,{zOffset:"paneFooter",children:c.jsx(Oee,{dialog:f.dialog,referenceElement:t})})])}),bze=p.memo(e=>{const{actionsBoxElement:t,as:n="div",children:r,...i}=e,{actions:o,editState:a}=zr(),[s,l]=p.useState(-1),u=p.useCallback(h=>{l(h)},[]),d=p.useMemo(()=>a&&{...a,onComplete:()=>{},revision:void 0},[a]),f=p.useCallback(({states:h})=>c.jsx(Rhr,{...i,activeIndex:s,actionsBoxElement:t,as:n,onActionStart:u,states:h,children:r}),[t,s,n,r,u,i]);return!d||!o?null:c.jsx(L_,{actionProps:d,actions:o,children:f})});bze.displayName="Memo(DocumentActionShortcuts)";function Fhr({currentInspector:e,hasValue:t,inspectors:n,inspectorMenuItems:r}){return n.map((i,o)=>{var s;const a=r[o];return!a||a.hidden?null:{action:`${bH}${i.name}`,group:a.showAsAction?void 0:"inspectors",icon:a.icon,isDisabled:!t,selected:(e==null?void 0:e.name)===i.name,shortcut:(s=a.hotkeys)==null?void 0:s.join("+"),showAsAction:a.showAsAction,title:a.title,tone:a.tone}}).filter(Boolean)}function Lhr({hasValue:e,t}){return{action:"inspect",group:"inspectors",title:t("document-inspector.menu-item.title"),icon:A_e,isDisabled:!e,shortcut:"Ctrl+Alt+I"}}function Nhr({previewUrl:e,t}){return e?{action:"production-preview",group:"links",title:t("production-preview.menu-item.title"),icon:hS,shortcut:"Ctrl+Alt+O"}:null}function Bhr(e){const t=Fhr(e),n=[Nhr(e)].filter(Boolean);return[{action:"copy-document-url",showAsAction:!0,title:e.t("action.copy-document-url.label"),icon:Rl},...t,Lhr(e),...n]}const Vhr=e=>Tt(e)&&typeof e._id=="string"&&typeof e._type=="string";function xze(e){const{resolveProductionUrl:t}=er().document,n=p.useMemo(()=>new IM(void 0),[]);p.useEffect(()=>{n.next(e)},[n,e]);const r=p.useMemo(()=>n.asObservable().pipe(Ar(),KK(500),At(i=>Vhr(i)?ti(t({document:i})):Se(void 0)),Ar(),En(i=>{const o=Tt(i)&&typeof i.message=="string"?i.message:"Unknown error";throw new Error(`An error was thrown while trying to get your preview url: ${o}`)})),[t,n]);return bi(r)}function zhr(e){const{documentType:t,value:n,currentMinWidth:r,paneKey:i,minWidth:o}=e,{t:a}=Q();return c.jsx(sze,{currentMinWidth:r,flex:2.5,minWidth:o,paneKey:i,title:c.jsx(wt,{t:a,i18nKey:"panes.document-pane.document-unknown-type.title",values:{documentType:t}}),tone:"caution",children:c.jsxs(ae,{space:4,children:[t&&c.jsx(B,{as:"p",children:c.jsx(wt,{t:a,i18nKey:"panes.document-pane.document-unknown-type.text",values:{documentType:t}})}),!t&&c.jsx(B,{as:"p",children:a("panes.document-pane.document-unknown-type.without-schema.text")}),Yl]})})}const axe=[],sxe=["fixed","fixed","absolute"],Uhr=R(s_n)`
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
  min-width: 0;
`;function Hhr(){const{changesOpen:e,documentId:t,documentType:n,fieldActions:r,focusPath:i,inspectOpen:o,inspector:a,inspectors:s,onFocus:l,onHistoryOpen:u,onMenuAction:d,onPathOpen:f,paneKey:h,schemaType:m,value:g}=zr(),{features:y}=Mg(),{t:x}=sw(Gt),{collapsed:b}=A0(),v=gVe(),w=xze(g),[C,k]=p.useState(null),[S,E]=p.useState(null),[_,T]=p.useState(null),[A,I]=p.useState(null),[j,$]=p.useState(null);ror({element:C,focusPath:i,value:g});const[D,O]=p.useState([]),[M,P]=p.useState([]),F=uy(S),L=uy(_),U=F==null?void 0:F.height,H=L==null?void 0:L.height,N=qdr+(a?vH:0),Y=Ydr+(a?vH:0),J=p.useMemo(()=>s==null?void 0:s.find(G=>G.name===(a==null?void 0:a.name)),[s,a==null?void 0:a.name]),ee=!!g,oe=p.useMemo(()=>Bhr({currentInspector:J,features:y,hasValue:ee,inspectorMenuItems:D,inspectors:s,previewUrl:w,t:x}),[J,y,ee,D,s,w,x]),re=p.useCallback(G=>{for(const K of oe)if(K.shortcut&&Jy(K.shortcut,G)){G.preventDefault(),G.stopPropagation(),d(K);return}},[d,oe]),se=p.useCallback(G=>{f(G),l(G)},[f,l]);return m?c.jsxs(T7e,{value:g,children:[s.length>0&&c.jsx(efr,{documentId:t,documentType:n,inspectors:s,onMenuItems:O}),r.length>0&&m&&c.jsx(g_,{actions:r,documentId:t,documentType:n,onActions:P,path:axe,schemaType:m}),c.jsx(m_,{actions:M,path:axe,children:c.jsxs(bze,{actionsBoxElement:A,as:R_,currentMinWidth:N,"data-testid":"document-pane",flex:2.5,id:h,minWidth:Y,onKeyUp:re,rootRef:k,children:[c.jsx(uhr,{ref:T,menuItems:oe}),c.jsx(O3,{position:sxe,zOffset:v.paneDialog,children:c.jsx(W,{direction:"column",flex:1,height:b?void 0:"fill",children:c.jsx(Uhr,{"data-testid":"change-connector-root",isReviewChangesOpen:e,onOpenReviewChanges:u,onSetFocus:se,children:c.jsx($fr,{footerHeight:U||null,headerHeight:H||null,isInspectOpen:o,rootElement:C,setDocumentPanelPortalElement:$})})})}),c.jsx(iw,{__unstable_elements:{[cze]:j},children:c.jsx(O3,{position:sxe,zOffset:v.portal,children:c.jsx(bdr,{ref:E,children:c.jsx(Sa,{children:c.jsx(Phr,{actionsBoxRef:I})})})})}),c.jsx(rfr,{})]})})]}):c.jsx(zhr,{currentMinWidth:N,documentType:n,minWidth:Y,paneKey:h,value:g})}function Whr(e){var t,n;return(n=(t=e.document)==null?void 0:t.components)==null?void 0:n.unstable_layout}function Ghr(){return qc({pick:Whr,defaultComponent:Hhr})}const Khr=Oi({name:"DocumentURLCopied",version:1,description:"User copied document URL to clipboard"});function Yhr(e,t){const n=t.panePayload||{},r=t.templateName;t.urlTemplate&&r&&r!==t.urlTemplate&&console.warn(`Conflicting templates: URL says "${t.urlTemplate}", structure node says "${r}". Using "${r}".`);const i=r||t.urlTemplate,o=e.filter(l=>l.schemaType===t.documentType),a={...t.templateParams,...typeof n=="object"?n||{}:{}};let s=i;return!i&&o.length===1&&(s=o[0].id),{templateName:s,templateParams:a}}const Bee=p.memo(e=>{const{children:t,index:n,pane:r,paneKey:i,onFocusPath:o}=e,a=un(),s=mC(),{setDocumentMeta:l}=pC(),{__internal_tasks:u,document:{actions:d,badges:f,unstable_fieldActions:h,unstable_languageFilter:m,inspectors:g}}=er(),y=_Q(),x=Cf(),b=x.setParams,{features:v}=Mg(),{push:w}=Nr(),{options:C,menuItemGroups:k=Jdr,title:S=null,views:E=[]}=r,_=ya(C),T=_.id,A=Cn(T),I=C.type,j=ya(x.params)||Xdr,$=ya(x.payload),{templateName:D,templateParams:O}=p.useMemo(()=>Yhr(s,{documentType:I,templateName:_.template,templateParams:_.templateParameters,panePayload:$,urlTemplate:j.template}),[I,_,j,$,s]),M=N7n({documentId:A,documentType:I,templateName:D,templateParams:O}),P=ya(M),{patch:F}=Qc(A,I),L=S4(A,I),{validation:U}=fC(A,I),H=eVe(A,I),N=a.get(I),Y=(L==null?void 0:L.draft)||(L==null?void 0:L.published)||P.value,[J,ee]=p.useState(!1),oe=p.useMemo(()=>d({schemaType:I,documentId:A}),[d,A,I]),re=p.useMemo(()=>f({schemaType:I,documentId:A}),[f,A,I]),se=p.useMemo(()=>m({schemaType:I,documentId:A}),[A,I,m]),G=ya(U),K=ya(E),[q,X]=p.useState(()=>j.path?Ol(j.path):hn),ie=p.useRef([]),te=j.view||K[0]&&K[0].id||null,[de,pe]=p.useState("closed"),[ve,Ce]=p.useState(null),xe=MNn({documentId:A,documentType:I,onError:Ce,rev:j.rev,since:j.since}),Ae=Wo(xe,mt=>mt.onOlderRevision),Re=Wo(xe,mt=>mt.revTime),we=Wo(xe,mt=>mt.sinceAttributes),ye=Wo(xe,mt=>mt.timelineDisplayed),ke=Wo(xe,mt=>mt.timelineReady),be=Wo(xe,mt=>mt.isPristine),Ee=p.useMemo(()=>ke?!(L!=null&&L.draft)&&!(L!=null&&L.published)&&!be:!1,[L==null?void 0:L.draft,L==null?void 0:L.published,be,ke]),ce=xze(Y),[_e,Ie]=p.useState([]);p.useEffect(()=>{const mt=y.documentPresence(A).subscribe(gn=>{Ie(gn)});return()=>{mt.unsubscribe()}},[A,y]);const Me=p.useMemo(()=>g({documentId:A,documentType:I}),[A,I,g]),[Le,et]=p.useState(()=>j.inspect||null),Ct=p.useRef(j.inspect);p.useEffect(()=>{Ct.current!==j.inspect&&(Ct.current=j.inspect,et(j.inspect||null))},[j.inspect]);const Ge=Me==null?void 0:Me.find(mt=>mt.name===Le),We=Me.find(mt=>mt.name===xH),ct=(Ge==null?void 0:Ge.name)===xH,{t:qe}=Q(Gt),Zt=j.inspect==="on",Ur=ct?we:(L==null?void 0:L.published)||null,ro=p.useMemo(()=>N?h({documentId:A,documentType:I,schemaType:N}):[],[A,I,h,N]),tn=H==="connected"&&L.ready&&(ke||!!ve),kn=p.useMemo(()=>Ae?ye||{_id:Y._id,_type:Y._type}:Y,[Ae,ye,Y]),rt=p.useCallback((mt,gn)=>{b({...j,since:mt,rev:gn||void 0})},[j,b]),$t=p.useCallback(mt=>{V4.current||(X(hn),ie.current!==hn&&(ie.current=hn,o==null||o(hn)))},[o,X]),Yn=p.useRef(()=>{throw new Error("Nope")});Yn.current=mt=>{F.execute(oNe(mt.patches),P.value)};const dn=p.useCallback(mt=>Yn.current(mt),[]),ii=p.useCallback(mt=>{var An,ra;const gn=mt&&Me.find(tu=>tu.name===mt);if(mt&&!gn){console.warn(`No inspector named "${mt}"`);return}if(Ge){if(gn){const tu=((An=gn.onClose)==null?void 0:An.call(gn,{params:j}))??{params:j};et(null),Ct.current=void 0,b({...tu.params,inspect:void 0});return}if(Ge){const tu=((ra=Ge.onClose)==null?void 0:ra.call(Ge,{params:j}))??{params:j};et(null),Ct.current=void 0,b({...tu.params,inspect:void 0})}}},[Ge,Me,j,b]),Mi=p.useCallback((mt,gn)=>{var bC,hte;const An=Me.find(tUe=>tUe.name===mt);if(!An){console.warn(`No inspector named "${mt}"`);return}if((Ge==null?void 0:Ge.name)===An.name){b({...j,...gn,inspect:An.name});return}let ra=j;Ge&&(ra=(((bC=An.onClose)==null?void 0:bC.call(An,{params:ra}))??{params:ra}).params);const tu=((hte=An.onOpen)==null?void 0:hte.call(An,{params:ra}))??{params:ra};et(An.name),Ct.current=An.name,b({...tu.params,...gn,inspect:An.name})},[Ge,Me,j,b]),Fs=p.useCallback(()=>{We&&ii(We.name)},[ii,We]),Er=p.useCallback(()=>{v.reviewChanges&&We&&Mi(We.name)},[v.reviewChanges,Mi,We]),os=p.useCallback(()=>x.closeCurrent(),[x]),ul=p.useCallback(()=>x.duplicateCurrent(),[x]),Ls=p.useCallback((mt=!Zt)=>{b(mt?{...j,inspect:"on"}:Po(j,"inspect"))},[Zt,j,b]),wp=$s(),Cp=p.useCallback(mt=>{if(mt.action==="production-preview"&&ce)return window.open(ce),!0;if(mt.action==="copy-document-url"&&navigator)return wp.log(Khr),navigator.clipboard.writeText(window.location.toString()),w({id:"copy-document-url",status:"info",title:qe("panes.document-operation-results.operation-success_copy-url")}),!0;if(mt.action==="inspect")return Ls(!0),!0;if(mt.action==="reviewChanges")return Er(),!0;if(typeof mt.action=="string"&&mt.action.startsWith(bH)){const gn=mt.action.slice(bH.length),An=Me.find(ra=>ra.name===gn);if(An)return An.name===Le?ii(An.name):Mi(An.name),!0}return!1},[qe,ii,Er,Le,Me,Mi,ce,Ls,w,wp]),eu=p.useCallback(()=>Ls(!1),[Ls]),[kf,vC]=p.useState([]),[Zze,nte]=p.useState(),[L4,rte]=p.useState(),[N4,ite]=p.useState(),ote=p.useCallback((mt,gn)=>{rte(An=>bd(An,mt,gn))},[]),ate=p.useCallback((mt,gn)=>{ite(An=>bd(An,mt,gn))},[]),ste=p.useCallback((mt,gn)=>nte(An=>bd(An,mt,gn)),[]),Xze=Y._createdAt?"update":"create",lte=!!(N!=null&&N.liveEdit),B4=Y._id?Y._id:"dummy-id",Jze=p.useMemo(()=>({...Y,_id:lte?Cn(B4):Fo(B4)}),[lte,Y,B4]),[kp,U_]=K7n({document:Jze,permission:Xze}),cte=!(Y!=null&&Y._id),Qze=p.useMemo(()=>{var bC;const mt=!U_&&!(kp!=null&&kp.granted),gn=!fse(N,"update"),An=cte&&!fse(N,"create"),ra=H==="reconnecting",tu=(bC=L.transactionSyncLock)==null?void 0:bC.enabled;return!tn||Re!==null||mt||gn||An||ra||tu||J||Ee},[H,L.transactionSyncLock,cte,Ee,J,U_,kp==null?void 0:kp.granted,tn,Re,N]),H_=eNe(N,{value:kn,readOnly:Qze,comparisonValue:Ur,focusPath:q,openPath:kf,collapsedPaths:L4,presence:_e,validation:G,collapsedFieldSets:N4,fieldGroupState:Zze,changesOpen:ct});p.useEffect(()=>{l({documentId:A,documentType:I,schemaType:N,onChange:dn})},[A,I,N,dn,l]);const W_=p.useRef(H_);W_.current=H_;const $0=p.useCallback(mt=>{YHn(W_.current,mt).forEach(gn=>{gn.type==="expandPath"&&rte(An=>bd(An,gn.path,!1)),gn.type==="expandFieldSet"&&ite(An=>bd(An,gn.path,!1)),gn.type==="setSelectedGroup"&&nte(An=>bd(An,gn.path,gn.groupName))}),vC(mt)},[W_]),ute=p.useCallback((mt,gn)=>{y.setLocation([{type:"document",documentId:A,path:mt,lastActiveAt:new Date().toISOString(),selection:gn==null?void 0:gn.selection}])},[A,y]),dte=p.useMemo(()=>sE(ute,1e3,{leading:!0,trailing:!0}),[ute]),fte=p.useCallback((mt,gn)=>{X(mt),Z1(ie.current,mt)||($0(mt.slice(0,-1)),ie.current=mt,o==null||o(mt)),dte(mt,gn)},[o,$0,dte]),eUe=p.useMemo(()=>({actions:oe,activeViewId:te,badges:re,changesOpen:ct,closeInspector:ii,collapsedFieldSets:N4,collapsedPaths:L4,compareValue:Ur,connectionState:H,displayed:kn,documentId:A,documentIdRaw:T,documentType:I,editState:L,fieldActions:ro,focusPath:q,inspector:Ge||null,inspectors:Me,__internal_tasks:u,onBlur:$t,onChange:dn,onFocus:fte,onPathOpen:$0,onHistoryClose:Fs,onHistoryOpen:Er,onInspectClose:eu,onMenuAction:Cp,onPaneClose:os,onPaneSplit:ul,onSetActiveFieldGroup:ste,onSetCollapsedPath:ote,onSetCollapsedFieldSet:ate,openInspector:Mi,openPath:kf,index:n,inspectOpen:Zt,validation:G,menuItemGroups:k||[],paneKey:i,previewUrl:ce,ready:tn,schemaType:N,isPermissionsLoading:U_,permissions:kp,setTimelineMode:pe,setTimelineRange:rt,setIsDeleting:ee,isDeleting:J,isDeleted:Ee,timelineError:ve,timelineMode:de,timelineStore:xe,title:S,value:Y,views:K,formState:H_,unstable_languageFilter:se}),[u,oe,te,re,ct,ii,N4,L4,Ur,H,Ge,kn,A,T,I,L,ro,q,H_,$t,dn,fte,Fs,Er,eu,Cp,ate,ote,os,ul,ste,n,Zt,Me,Ee,J,U_,se,k,Mi,kf,i,kp,ce,tn,N,$0,rt,ve,de,xe,S,G,Y,K]);p.useEffect(()=>{H==="reconnecting"&&w({id:"sanity/structure/reconnecting",status:"warning",title:qe("panes.document-pane-provider.reconnecting.title")})},[H,w,qe]);const V4=p.useRef(!1);return p.useEffect(()=>{var mt;if(tn&&j.path){const{path:gn,...An}=j,ra=PUe((mt=W_.current)==null?void 0:mt.value,Ol(gn));V4.current=!0,Z1(ie.current,ra)||(X(ra),$0(ra),ie.current=ra,o==null||o(ra));const tu=setTimeout(()=>{V4.current=!1},0);return x.setParams(An),()=>clearTimeout(tu)}},[j,A,o,$0,tn,x]),c.jsx(Hxe.Provider,{value:eUe,children:t})});Bee.displayName="Memo(DocumentPaneProvider)";const wze=p.memo(function(e){const{name:t}=er();return c.jsx(u4,{name:e.pane.source||t,children:c.jsx(bir,{children:c.jsx(qhr,{...e})})})});function qhr(e){var E;const{pane:t,paneKey:n}=e,{resolveNewDocumentOptions:r}=er().document,i=Cf(),o=Zhr(t.options,i.params),{documentType:a,isLoaded:s}=F7n(o.id,o.type),l=Ghr(),u=p.useMemo(()=>r({type:"document",documentId:o.id,schemaType:o.type}),[o.id,o.type,r]),[d,f]=kQ({templateItems:u}),h=s&&!f,m=p.useMemo(()=>h&&a&&o.type!==a?Xhr(e,o,a):e,[e,a,h,o]),{ReferenceChildLink:g,handleEditReference:y,groupIndex:x,routerPanesState:b}=i,v=((E=b[x+1])==null?void 0:E[0].params)||{},w=b.length,{parentRefPath:C}=v,k=p.useMemo(()=>C?{path:Ol(C),state:x>=w-1?"none":x>=w-2?"selected":"pressed"}:{path:[],state:"none"},[C,x,w]),{t:S}=Q(Gt);return o.type==="*"&&!h?c.jsx(Iee,{flex:2.5,minWidth:320,paneKey:n,title:S("panes.document-pane.document-not-found.loading")}):a?c.jsx(Bee,{...m,children:c.jsx(v3n,{EditReferenceLinkComponent:g,onEditReference:y,initialValueTemplateItems:d,activePath:k,children:c.jsx(Hdr,{documentId:o.id,documentType:o.type,children:c.jsx(l,{documentId:o.id,documentType:o.type})})})},`${a}-${o.id}`):c.jsx(sze,{flex:2.5,minWidth:320,paneKey:n,title:S("panes.document-pane.document-not-found.title"),children:c.jsx(ae,{space:4,children:c.jsx(B,{as:"p",children:c.jsx(wt,{t:S,i18nKey:"panes.document-pane.document-not-found.text",values:{id:o.id},components:{Code:({children:_})=>c.jsx("code",{children:_})}})})})})}function Zhr(e,t={}){const n=mC();return p.useMemo(()=>{var o;if(e.type&&e.type!=="*")return e;const r=e.template||t.template,i=(o=r?n.find(a=>a.id===r):void 0)==null?void 0:o.schemaType;return i?{...e,type:i}:e},[e,t.template,n])}function Xhr(e,t,n){return{...e,pane:{...e.pane,options:{...t,type:n}}}}const lxe=100,SH=2e3,Cze={by:[{field:"_updatedAt",direction:"desc"}]},kze={},Jhr=R(V)`
  position: relative;
`,Qhr=R(V)`
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
`,epr=[...Array(30).keys()];function tpr(e){const{layout:t}=e;return c.jsx(ae,{paddingX:3,paddingY:2,paddingTop:0,space:1,children:epr.map(n=>c.jsx(Ia,{isPlaceholder:!0,layout:t},n))})}function npr(e){const{childItemId:t,error:n,filterIsSimpleTypeConstraint:r,hasMaxItems:i,hasSearchQuery:o,isActive:a,isLazyLoading:s,isLoading:l,items:u,layout:d,loadingVariant:f,onListChange:h,onRetry:m,paneTitle:g,searchInputElement:y,showIcons:x}=e,b=un(),{collapsed:v}=A0(),{collapsed:w,index:C}=xp(),[k,S]=p.useState(!1),{t:E}=Q(Gt),_=p.useCallback(()=>{l||s||!k||h()},[s,l,h,k]);p.useEffect(()=>{if(w)return;const j=setTimeout(()=>{S(!0)},0);return()=>{clearTimeout(j)}},[w,u]);const T=p.useCallback((j,{activeIndex:$})=>{const D=Cn(j._id),O=t===D,M=!a&&O,P=a&&O,F=$===u.length-1,L=F&&s,U=F&&i;return c.jsxs(c.Fragment,{children:[c.jsx(oze,{icon:x===!1?!1:void 0,id:D,layout:d,marginBottom:1,pressed:M,schemaType:b.get(j._type),selected:P,value:j}),L&&c.jsx(Dn,{}),U&&c.jsx(V,{marginY:1,paddingX:3,paddingY:4,children:c.jsx(B,{align:"center",muted:!0,size:1,children:E("panes.document-list-pane.max-items.text",{limit:SH})})})]})},[t,a,u.length,d,b,x,i,s,E]),A=p.useMemo(()=>o?c.jsx(W,{align:"center",direction:"column",height:"fill",justify:"center",children:c.jsx(Ii,{width:1,children:c.jsx(V,{paddingX:4,paddingY:5,children:c.jsx(B,{align:"center",muted:!0,children:E("panes.document-list-pane.no-documents.text")})})})}):c.jsx(W,{align:"center",direction:"column",height:"fill",justify:"center",children:c.jsx(Ii,{width:1,children:c.jsx(V,{paddingX:4,paddingY:5,children:c.jsx(B,{align:"center",muted:!0,children:E(r?"panes.document-list-pane.no-documents-of-type.text":"panes.document-list-pane.no-matching-documents.text")})})})}),[r,o,E]),I=p.useMemo(()=>{if(!k)return null;if(n)return c.jsx(W,{align:"center",direction:"column",height:"fill",justify:"center",children:c.jsx(Ii,{width:1,children:c.jsxs(ae,{paddingX:4,paddingY:5,space:4,children:[c.jsx(vo,{as:"h3",children:E("panes.document-list-pane.error.title")}),c.jsx(B,{as:"p",children:c.jsx(wt,{t:E,i18nKey:"panes.document-list-pane.error.text",values:{error:n.message},components:{Code:({children:$})=>c.jsx("code",{children:$})}})}),m&&c.jsx(V,{children:c.jsx(ge,{icon:vw,onClick:m,text:E("panes.document-list-pane.error.retry-button.text"),tone:"primary"})})]})})});if(!l&&u.length===0)return A;if(f==="initial"&&l)return c.jsx(ZVe,{ms:300,children:c.jsx(tpr,{layout:d})});if(f==="spinner"&&l)return null;const j=`${C}-${w}`;return c.jsx(Jhr,{overflow:"hidden",height:"fill",children:c.jsx(Qhr,{children:c.jsx(gf,{activeItemDataAttr:"data-hovered",ariaLabel:g,canReceiveFocus:!0,inputElement:y,itemHeight:51,items:u,onEndReached:_,onlyShowSelectionWhenActive:!0,overscan:10,paddingBottom:1,paddingX:3,renderItem:T,wrapAround:!1},j)})})},[w,n,_,C,l,u,d,f,m,T,y,k]);return c.jsx(F_,{"data-testid":"document-list-pane",overflow:v||f==="initial"?"hidden":"auto",children:I})}function rpr(e){return jR(e).map(t=>({...t.draft||t.published,hasPublished:!!t.published,hasDraft:!!t.draft}))}function ipr(e,t){const n=e.by.map(r=>{if(r.mapWith)return r;const i=opr(t,r.field);return i?spr(i,"datetime")?{...r,mapWith:"dateTime"}:i.jsonType==="string"?{...r,mapWith:"lower"}:r:r});return n.every((r,i)=>r===e.by[i])?e:{...e,by:n}}function opr(e,t){const n=Ol(t);let r=e;for(const i of n){if(!r)return;if(typeof i=="string"){r=apr(r,i);continue}if(!(Cr(i)||rl(i))||r.jsonType!=="array")return;const[o,a]=r.of||[];if(a||!o)return;if(!Il(o)){r=o;continue}const[s,l]=o.to||[];if(l||!s)return;r=s}return r}function apr(e,t){if(!("fields"in e))return;const n=e.fields.find(r=>r.name===t);return n?n.type:void 0}function spr(e,t){let n=e.type;for(;n;){if(n.name===t||!n.type&&n.jsonType===t)return!0;n=n.type}return!1}function vv(e){switch(e.type){case"OpCall":{const{left:t,right:n}=e;switch(e.op){case"==":return t.type==="AccessAttribute"&&t.name==="_type"&&!t.base?n.type!=="Value"||typeof n.value!="string"?null:new Set([n.value]):n.type==="AccessAttribute"&&n.name==="_type"&&!n.base?t.type!=="Value"||typeof t.value!="string"?null:new Set([t.value]):null;case"in":{if(t.type!=="AccessAttribute"||t.name!=="_type"||t.base||n.type!=="Array")return null;const r=new Set;for(const i of n.elements){if(i.isSplat||i.value.type!=="Value"||typeof i.value.value!="string")return null;r.add(i.value.value)}return r.size?r:null}default:return null}}case"Group":return vv(e.base);case"Or":{const t=vv(e.left);if(!t)return null;const n=vv(e.right);return n?new Set([...t,...n]):null}case"And":{const t=vv(e.left),n=vv(e.right);return!t&&!n?null:new Set([...t||[],...n||[]])}default:return null}}function Vee(e,t={}){try{const n=vv(NY(e,{params:t}));return n?Array.from(n).sort():null}catch{return null}}const lpr=["_id","_type","_createdAt","_updatedAt","_rev"];function EH(e,t,n=!1){const[r,...i]=t;if(!("fields"in e))return"";const o=e.fields.find(l=>l.name===r);if(!o){if(!lpr.includes(r)){const l=`The current ordering config targeted the nonexistent field "${r}" on schema type "${e.name}". It should be one of ${e.fields.map(u=>u.name).join(", ")}`;if(n)throw new Error(l);console.warn(l)}return""}if("to"in o.type&&o.type.name==="reference"){const l=o.type.to;return`${r}->{${l.map(u=>EH(u,i)).join(",")}}`}const a=i.length>0&&EH(o.type,i),s=a?`{${a}}`:"";return i.length>0?`${r}${s}`:r}function Sze(e,t,n=!1){return t.map(r=>EH(e,r.field.split("."),n)).join(", ")}function cpr(e){const{client:t,schema:n,sort:r,limit:i,params:o,filter:a,searchQuery:s,staticTypeNames:l,maxFieldDepth:u,enableLegacySearch:d}=e,f=r.by,h=r==null?void 0:r.extendedProjection,m=Qi(()=>t.listen(`*[${a}]`,o,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query"})).pipe(Ot((x,b)=>b===0&&x.type!=="welcome"?qd(()=>new Error(x.type==="reconnect"?"Could not establish EventSource connection":`Received unexpected type of first event "${x.type}"`)):Se(x)),ts()),[g,y]=WK(m,x=>x.type==="welcome");return Un(g.pipe(sa(1)),y.pipe($2(1e3,Rc,{leading:!0,trailing:!0}))).pipe(pJ(x=>(l?Se(l):t.observable.fetch(`array::unique(*[${a}][]._type)`,o)).pipe(Ot(b=>{const v=zFe(n,l||[]).filter(k=>b.includes(k.name)?(Sze(k,r.by,!0),!0):!1),w=WR(v,t,{filter:a,params:o,enableLegacySearch:d,maxDepth:u}),C=()=>w({query:s||"",types:v},{__unstable_extendedProjection:h,comments:[`findability-source: ${s?"list-query":"list"}`],limit:i,skipSortByScore:!0,sort:f}).pipe(fe(k=>k.hits.map(({hit:S})=>S)));return x.type==="mutation"&&x.visibility!=="query"?ni(1200).pipe(Ot(C)):C()}))))}const upr=[],cxe={error:null,onRetry:void 0,result:null},dpr={result:null,error:null};function fpr(e){const{filter:t,params:n,sortOrder:r,searchQuery:i,apiVersion:o}=e,a=on({...en,apiVersion:o||en.apiVersion}),{enableLegacySearch:s=!1}=ri().search,l=un(),u=GR(),[d,f]=p.useState(cxe),{onRetry:h,error:m,result:g}=d,y=g==null?void 0:g.documents,x=p.useMemo(()=>y?rpr(y):upr,[y]),[b,v]=p.useState(!1),[w,C]=p.useState(!1),[k,S]=p.useState(!1),E=p.useMemo(()=>Vee(t,n),[t,n]),_=g===null&&!m,T=(y==null?void 0:y.length)===SH,A=p.useCallback(()=>{_||w||k||S(!0)},[_,w,k]),I=p.useCallback(D=>{var M,P;if(D.error){f(D);return}const O=((P=(M=D.result)==null?void 0:M.documents)==null?void 0:P.length)||0;if(!D.error&&(D==null?void 0:D.result)===null&&k){v(!0);return}if(O<lxe&&O!==0&&!k&&C(!0),(D==null?void 0:D.result)===null){f(F=>({...F.error?D:F}));return}v(!1),f(D)},[k]),j=p.useMemo(()=>{const D=new Jr,O=()=>D.next();return cpr({client:a,filter:t,limit:k?SH:lxe,params:n,schema:l,searchQuery:i||"",sort:r||Cze,staticTypeNames:E,maxFieldDepth:u,enableLegacySearch:s}).pipe(fe(M=>({result:{documents:M},error:null})),yo(dpr),En(M=>M instanceof ProgressEvent?qd(()=>new Error("Request error")):qd(()=>M)),En((M,P)=>Di(Se({result:null,error:M}),Un(es(window,"online"),D).pipe(sa(1),Ot(()=>P)))),Fl((M,P)=>({...M,...P,onRetry:O})))},[k,r,a,t,n,l,i,E,u,s]);p.useEffect(()=>{const D=j.subscribe(I);return()=>{D.unsubscribe()}},[I,j]);const $=p.useCallback(()=>{C(!1),v(!1),f(cxe),S(!1)},[]);return p.useEffect(()=>{$()},[$,t,n,r,i]),{error:m,hasMaxItems:T,isLazyLoading:b,isLoading:_,isSearchReady:!m,items:x,onListChange:A,onRetry:h}}const hpr=Fy`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ppr=R(kK)`
  animation: ${hpr} 500ms linear infinite;
`,mpr=p.memo(function(e){const{childItemId:t,isActive:n,pane:r,paneKey:i,sortOrder:o,layout:a}=e,s=un(),{displayOptions:l,options:u}=r,{apiVersion:d,filter:f}=u,h=Ize(u.params||kze),m=p.useMemo(()=>{const N=Vee(f,h);return(N==null?void 0:N.length)===1?N[0]:null},[f,h]),g=(l==null?void 0:l.showIcons)!==!1,{t:y}=Q(Gt),{title:x}=yf(r),[b,v]=p.useState(""),[w,C]=p.useState(""),[k,S]=p.useState(null),E=p.useRef(!1),_=m&&o?ipr(o,s.get(m)):o,T=ya(_),{error:A,hasMaxItems:I,isLazyLoading:j,isLoading:$,isSearchReady:D,items:O,onListChange:M,onRetry:P}=fpr({apiVersion:d,filter:f,params:h,searchQuery:b==null?void 0:b.trim(),sortOrder:T}),F=RM(N=>N.pipe(fe(Y=>Y.target.value),or(C),GK(Y=>Y===""?Se(""):ni(300)),or(v))),L=p.useCallback(()=>{v(""),C("")},[]),U=p.useCallback(N=>{N.key==="Escape"&&L()},[L]);p.useEffect(()=>(E.current===!1&&!$&&(E.current=!0),()=>{E.current=!1}),[$]),p.useEffect(()=>{L(),E.current=!1},[i,L]);const H=p.useMemo(()=>$&&O.length===0&&E.current?"spinner":"initial",[$,O.length]);return c.jsxs(c.Fragment,{children:[c.jsx(V,{paddingX:3,paddingBottom:3,children:c.jsx(ei,{"aria-label":y("panes.document-list-pane.search-input.aria-label"),autoComplete:"off",border:!1,clearButton:!!b,disabled:!D,fontSize:[2,2,1],icon:H==="spinner"?ppr:wa,onChange:F,onClear:L,onKeyDown:U,padding:2,placeholder:y("panes.document-list-pane.search-input.placeholder"),radius:2,ref:S,spellCheck:!1,value:w})}),c.jsx(npr,{childItemId:t,error:A,filterIsSimpleTypeConstraint:!!m,hasMaxItems:I,hasSearchQuery:!!b,isActive:n,isLazyLoading:j,isLoading:$,items:O,layout:a,loadingVariant:H,onListChange:M,onRetry:P,paneTitle:x,searchInputElement:k,showIcons:g},i)]})}),Eze=p.memo(({contentAfter:e,index:t,initialValueTemplates:n=[],menuItemGroups:r=[],menuItems:i=[],setLayout:o,setSortOrder:a,title:s})=>{const{features:l}=Mg(),{collapsed:u,isLast:d}=xp(),f=d&&!u?-1:0,h=p.useMemo(()=>({setLayout:({layout:m})=>{o(m)},setSortOrder:m=>{a(m)}}),[o,a]);return c.jsx(Sa,{children:c.jsx(I4,{actions:c.jsx(ize,{initialValueTemplateItems:n,actionHandlers:h,menuItemGroups:r,menuItems:i}),backButton:l.backButton&&t>0&&c.jsx(ge,{as:KVe,"data-as":"a",icon:cE,mode:"bleed",tooltipProps:{content:"Back"}}),contentAfter:e,tabIndex:f,title:s})})});Eze.displayName="Memo(PaneHeader)";function gpr(e){const{row:t,table:n}=e,{selectedAnchor:r,setSelectedAnchor:i}=n.options.meta||{},o=p.useCallback(a=>{if(a.shiftKey&&r!==null&&r!==void 0){const s=t.index,l=s<r?s:r,u=s<r?r:s,d=n.getRowModel().flatRows.slice(l,u+1).map(({id:h})=>h),f=n.getSelectedRowModel().rows.map(({id:h})=>h);n.setRowSelection(()=>[...d,...f].reduce((h,m)=>({...h,[m]:!0}),{}))}else if(i){const s=t.getIsSelected();i(s?null:t.index),t.toggleSelected()}},[r,t,i,n]);return c.jsx(fg,{style:{paddingLeft:4},checked:e.row.getIsSelected(),disabled:!e.row.getCanSelect(),onChange:()=>null,onClick:o})}const ypr=()=>{const e=p.useContext(Wxe);if(e===void 0)throw new Error("useDocumentSheetListContext must be used within an DocumentSheetListProvider");return e};function vpr({children:e,table:t}){const[n,r]=p.useState(null),[i,o]=p.useState([]),a=p.useCallback((w=null)=>{(n==null?void 0:n.state)==="focused"&&document.activeElement instanceof HTMLElement&&document.activeElement.blur(),r(w),o([])},[n]),s=p.useCallback(()=>a(),[a]),l=p.useCallback(w=>{if(!n)return;const C=t.getVisibleLeafColumns(),k=C.findIndex(S=>S.id===n.colId)+(w==="left"?-1:1);k<0||k>=C.length||a({colId:C[k].id,rowIndex:n.rowIndex,state:"selected"})},[a,n,t]),u=p.useCallback(w=>{n&&o(C=>{const{rowIndex:k}=n,S=T=>T+(w==="down"?1:-1);if(!C.length){const T=S(k);return T<0?[]:[T]}const E=C[C.length-1],_=S(E);return _<0?C:_===k?[]:C.includes(_)?C.slice(0,-1):[...C,_]})},[n]),d=p.useCallback((w,C)=>{a({colId:w,rowIndex:C,state:"selected"})},[a]),f=p.useCallback(()=>{if(n)if(i.length)o([]);else{const w=n.state==="selected"?null:{...n,state:"selected"};a(w)}},[a,n,i.length]),h=p.useCallback((w,C)=>{if(!n)return;const k=C==="ArrowDown"?"down":"up",S=k==="down"?1:-1;if(w)u(k);else{const E=n.rowIndex+S;if(E<0)return;d(n.colId,E)}},[u,n,d]),m=p.useCallback(w=>{if(!n)return;const{key:C,shiftKey:k}=w;switch(C){case"Shift":break;case"Escape":f();break;case"ArrowDown":case"ArrowUp":w.preventDefault(),h(k,C);break;case"ArrowLeft":case"ArrowRight":n.state==="selected"&&(w.preventDefault(),l(C==="ArrowLeft"?"left":"right"));break}},[n,f,h,l]),g=p.useCallback(w=>{var C;n&&((C=document.getElementById(`cell-${n.colId}-${n.rowIndex}`))!=null&&C.contains(w.target)||s())},[s,n]);p.useEffect(()=>(n&&(document.addEventListener("keydown",m),document.addEventListener("click",g)),()=>{n&&(document.removeEventListener("keydown",m),document.removeEventListener("click",g))}),[g,m,n]);const y=p.useCallback(()=>r(w=>w?{...w,state:"focused"}:null),[]),x=p.useCallback((w,C)=>(n==null?void 0:n.colId)!==w?null:n.rowIndex===C?n.state==="focused"?"focused":"selectedAnchor":i.includes(C)?"selectedRange":null,[n,i]),b=p.useCallback(()=>{n&&a({colId:n.colId,rowIndex:n.rowIndex+1,state:"selected"})},[a,n]),v=p.useMemo(()=>({focusAnchorCell:y,resetFocusSelection:s,setSelectedAnchorCell:d,getStateByCellId:x,submitFocusedCell:b}),[y,s,d,x,b]);return c.jsx(Wxe.Provider,{value:v,children:e})}const _ze=R.td`
  display: flex;
  overflow: hidden;
  box-sizing: border-box;
  width: ${({width:e})=>e}px;
  border-top: 1px solid var(--card-border-color);
  background-color: var(--card-bg-color);
`,bpr=R(_ze)`
  position: sticky;
  z-index: 2;
`;function xpr(e){const{getValue:t,column:n,row:r,fieldType:i}=e,o=`cell-${n.id}-${r.index}`,[a,s]=p.useState(t()),[l,u]=p.useState(!1),d=p.useRef(null),{focusAnchorCell:f,resetFocusSelection:h,setSelectedAnchorCell:m,getStateByCellId:g,submitFocusedCell:y}=ypr(),x=g(n.id,r.index),b=p.useCallback(()=>{m(n.id,r.index),f()},[n.id,f,r.index,m]),{patchDocument:v}=e.table.options.meta||{},w=()=>{var j;(j=d.current)==null||j.focus(),d.current instanceof HTMLInputElement&&d.current.select()},C=j=>{j.detail===2?w():(j.preventDefault(),m(n.id,r.index))},k=p.useCallback(j=>{const{key:$}=j;$==="Enter"&&(x==="selectedAnchor"&&w(),x==="focused"&&y())},[x,y]),S=j=>{u(!0),s(j.target.value)},E=()=>{l&&(v==null||v(r.id,n.id,a),u(!1)),h()},_=p.useCallback(j=>{var D;const $=(D=j.clipboardData)==null?void 0:D.getData("Text");(typeof $=="string"||typeof $=="number")&&(s($),v==null||v(r.id,n.id,$))},[n.id,v,r.id]),T=p.useCallback(()=>{navigator.clipboard.writeText(a.toString())},[a]);p.useEffect(()=>((x==="selectedAnchor"||x==="focused")&&document.addEventListener("keydown",k),(x==="selectedAnchor"||x==="selectedRange")&&document.addEventListener("paste",_),x==="selectedAnchor"&&document.addEventListener("copy",T),()=>{(x==="selectedAnchor"||x==="focused")&&document.removeEventListener("keydown",k),(x==="selectedAnchor"||x==="selectedRange")&&document.removeEventListener("paste",_),x==="selectedAnchor"&&document.removeEventListener("copy",T)}),[o,x,n.id,g,T,k,_,r.index]);const A=()=>x==="focused"?"2px solid blue":x==="selectedRange"?"1px solid green":x==="selectedAnchor"?"1px solid blue":"1px solid transparent",I={onFocus:b,onBlur:E,onMouseDown:C,"aria-selected":!!x,"data-testid":o,id:o,ref:j=>d.current=j};return i.name==="boolean"?c.jsxs(Pc,{...I,onChange:()=>null,radius:0,style:{boxShadow:"none",border:A(),padding:0},value:JSON.stringify(a),children:[c.jsx("option",{value:"True",children:"True"}),c.jsx("option",{value:"False",children:"False"})]}):c.jsx(ei,{...I,size:0,radius:0,border:!1,style:{border:A(),padding:"22px 16px"},value:typeof a=="string"||typeof a=="number"?a:JSON.stringify(a),onChange:S})}function wpr(e){var i;const t=e.column.getIsPinned(),n=t?bpr:_ze,r=t&&e.column.getIsLastColumn("left")?2:1;return c.jsx(n,{style:{left:e.column.getStart("left")??void 0,borderRight:`${r}px solid var(--card-border-color)`},width:e.column.getSize(),children:UVe(e.column.columnDef.cell,(i=e.getContext)==null?void 0:i.call(e))},e.row.original._id+e.id)}const Tze=5,Cpr=e=>{const{documentPreviewStore:t,row:n,schemaType:r}=e,i="Document title",o=p.useMemo(()=>rC(t,r,n.original._id,i),[t,n.original._id,r]),{draft:a,published:s,isLoading:l}=bi(o,{draft:null,isLoading:!0,published:null});if(l)return c.jsx(B,{size:1,muted:!0,children:"Loading..."});const u=(a==null?void 0:a.title)??(s==null?void 0:s.title)??"Untitled";return c.jsxs(W,{align:"center",gap:3,children:[c.jsx(tC,{draft:a,published:s}),c.jsx(B,{size:1,children:u})]})},eO=Gcr(),kpr=["string","number","boolean"],Aze=(e,t)=>e.fields.reduce((n,r)=>{const{type:i,name:o}=r;if(kpr.includes(i.name)){const a=eO.accessor(t?`${t}.${r.name}`:r.name,{id:t?`${t}_${r.name}`:r.name,header:r.type.title,enableHiding:!0,cell:s=>c.jsx(xpr,{...s,fieldType:i})});return[...n,a]}return i.name==="object"&&Qo(i)&&!t?[...n,eO.group({header:o,columns:Aze(i,r.name)})]:n},[]);function Spr(e){return"accessorKey"in e}function Epr(e){return"columns"in e}const jze=e=>e.flatMap(t=>Spr(t)?t:Epr(t)?t.columns?jze(t.columns):[]:[]);function _pr(e){const t=No(),n=p.useMemo(()=>e?[eO.display({id:"selected",enableHiding:!1,header:i=>c.jsxs(V,{children:[c.jsx(fg,{style:{paddingLeft:4},indeterminate:i.table.getIsSomeRowsSelected(),onChange:i.table.getToggleAllPageRowsSelectedHandler()}),i.table.getSelectedRowModel().rows.length," selected"]}),cell:gpr}),eO.accessor("Preview",{enableHiding:!1,id:"Preview",cell:i=>c.jsx(Cpr,{...i,documentPreviewStore:t,schemaType:e})}),...Aze(e)]:[],[t,e]),[r]=p.useMemo(()=>jze(n).reduce(([i,o],a)=>{if(!a.id)throw new Error("Column must have an id");const s=a.id;return a.enableHiding?o===Tze?[{...i,[s]:!1},o]:[{...i,[s]:!0},o+1]:[{...i,[s]:!0},o]},[{},0]),[n]);return{columns:n,initialColumnsVisibility:r}}function Tpr({table:e}){const{t}=Q(),n=e.getVisibleLeafColumns().filter(a=>a.getCanHide()).length>=Tze,r=p.useCallback(()=>{e.resetColumnVisibility()},[e]),i=a=>()=>{a.toggleVisibility()},o=a=>{const s=a.getIsVisible(),l=e.getVisibleLeafColumns().filter(u=>u.getCanHide()).length===1;return n&&!s||l&&s};return c.jsx(Jt,{button:c.jsx(ge,{mode:"bleed",text:t("sheet-list.edit-columns")}),id:"columns-control",menu:c.jsx(Nt,{padding:3,paddingTop:4,style:{width:240},children:c.jsxs(W,{direction:"column",height:"fill",gap:3,children:[c.jsx(B,{weight:"semibold",size:1,children:t("sheet-list.select-fields")}),c.jsx(W,{style:{flex:"1 1 auto",maxHeight:320,overflowY:"scroll"},children:c.jsx(ae,{children:e.getAllLeafColumns().filter(a=>a.getCanHide()).map(a=>{var s;return c.jsxs(W,{marginY:2,align:"center",children:[c.jsx(fg,{readOnly:o(a),checked:a.getIsVisible(),onChange:i(a),id:`col-visibility-${a.id}`,style:{display:"block"}}),c.jsx(V,{flex:1,paddingLeft:3,children:c.jsx(B,{size:1,children:c.jsx("label",{htmlFor:`col-visibility-${a.id}`,children:(s=a.columnDef.header)==null?void 0:s.toString()})})})]},a.id)})})}),c.jsx(ge,{width:"fill",mode:"ghost",text:t("sheet-list.reset-columns"),onClick:r})]})}),placement:"bottom",popover:{portal:!0}})}const Apr=R(W)`
  flex-shrink: 0;
`;function jpr(){const{state:{filtersVisible:e}}=cn();return c.jsxs(Apr,{children:[c.jsx(cee,{}),e&&c.jsx(lee,{showTypeFilter:!1})]})}const zee=R.th`
  margin: 16px;
  z-index: 1;
  padding: 22px 0px;
  border-top: 1px solid var(--card-border-color);
  background-color: var(--card-badge-default-bg-color);
  box-sizing: border-box;
  text-align: left;
  width: ${({width:e})=>e}px;
  max-width: ${({width:e})=>e}px;
`,Ipr=R(zee)`
  position: sticky;
  z-index: 2;
`,$pr=R.div`
  visibility: hidden;

  ${zee}:hover & {
    visibility: visible;
  }
`;function Dpr(e){const{header:t,headerGroup:n}=e,{t:r}=Q(),i=t.column.getIsPinned(),o=n.depth>0&&!t.column.parent?null:c.jsx(B,{size:1,weight:"semibold",textOverflow:"ellipsis",children:UVe(t.column.columnDef.header,t.getContext())}),a=i?Ipr:zee,s=t.column.getCanHide()&&(n.depth===0?!t.column.columns.length:t.column.parent),l=i&&t.column.getIsLastColumn("left")?2:1;return c.jsx(a,{style:{left:t.column.getStart("left")??void 0,borderRight:`${l}px solid var(--card-border-color)`},"data-testid":`header-${t.id}`,width:t.getSize(),children:c.jsxs(W,{justify:"space-between",marginX:2,align:"baseline",children:[c.jsx(Et,{delay:500,content:o,children:c.jsx(V,{style:{boxSizing:"border-box"},marginLeft:3,marginRight:3,children:o})}),s&&c.jsx($pr,{children:c.jsx(Jt,{button:c.jsx(ge,{tooltipProps:{content:"Open field menu"},mode:"bleed",icon:dE,"data-testid":"field-menu-button"}),id:"field menu",popover:{placement:"bottom-end"},menu:c.jsx(Nt,{children:c.jsx(Qe,{text:r("sheet-list.hide-field"),icon:eo,onClick:()=>t.column.toggleVisibility()})})})})]})},t.id)}function Opr({table:e}){return c.jsx(Sa,{children:c.jsxs(W,{gap:3,align:"center",children:[c.jsx(ge,{onClick:()=>e.setPageIndex(0),disabled:!e.getCanPreviousPage(),icon:w_e,tooltipProps:{content:"Go to first page"}}),c.jsx(ge,{onClick:()=>e.previousPage(),disabled:!e.getCanPreviousPage(),icon:vg,tooltipProps:{content:"Go to previous page"}}),c.jsxs(B,{style:{whiteSpace:"nowrap"},children:[e.getState().pagination.pageIndex+1," of ",e.getPageCount()]}),c.jsx(ge,{onClick:()=>e.nextPage(),disabled:!e.getCanNextPage(),icon:Es,tooltipProps:{content:"Go to next page"}}),c.jsx(ge,{onClick:()=>e.setPageIndex(e.getPageCount()-1),disabled:!e.getCanNextPage(),icon:gK,tooltipProps:{content:"Go to last page"}}),c.jsx("select",{value:e.getState().pagination.pageSize,onChange:t=>{e.setPageSize(Number(t.target.value))},children:[25,50,100].map(t=>c.jsx("option",{value:t,children:t},t))})]})})}function Mpr(e){return e.reduce((t,n)=>({...t,[n._id]:n}),{})}function Ppr(e,t){switch(t.type){case"DOCUMENTS_SET":{const n=Mpr(t.documents);return{...e,documents:n}}case"DOCUMENT_RECEIVED":{const n=t.payload;return{...e,documents:{...e.documents,[n._id]:n}}}case"DOCUMENT_DELETED":{const{[t.id]:n,...r}=e.documents;return{...e,documents:r}}case"DOCUMENT_UPDATED":{const n=t.payload,r=n._id,i={...e.documents[r],...n};return{...e,documents:{...e.documents,[r]:i}}}default:return e}}const Rpr={events:["welcome","mutation","reconnect"],includeResult:!0,visibility:"query"};function Fpr({filter:e,params:t,apiVersion:n}){const r=`*[${e}][0...2000]`,i=on({...en,apiVersion:n||en.apiVersion}),[o,a]=p.useReducer(Ppr,{documents:{}}),[s,l]=p.useState(i!==null),[u,d]=p.useState(null),f=p.useCallback(async()=>{if(!i){l(!1);return}try{const g=await i.fetch(r,t);a({type:"DOCUMENTS_SET",documents:g}),l(!1)}catch(g){d(g)}},[i,t,r]),h=p.useCallback(async g=>{if(g.type==="welcome"&&(l(!0),await f(),l(!1)),g.type==="reconnect"&&l(!0),g.type==="mutation"){if(g.transition==="appear"){const y=g.result;y&&a({type:"DOCUMENT_RECEIVED",payload:y})}if(g.transition==="disappear"&&a({type:"DOCUMENT_DELETED",id:g.documentId}),g.transition==="update"){const y=g.result;y&&a({type:"DOCUMENT_UPDATED",payload:y})}}},[f]),m=p.useMemo(()=>i?i.observable.listen(r,t,Rpr).pipe(En(g=>(d(g),Se(g)))):Se(),[i,t,r]);return p.useEffect(()=>{const g=m.subscribe(h);return()=>{g==null||g.unsubscribe()}},[h,m]),{data:p.useMemo(()=>{const g=Object.keys(o.documents).reduce((y,x)=>{const b=o.documents[x],v=b._id===Fo(b._id),w=v?b._id:Fo(b._id);return y[w]&&!v||(y[w]=b),y},{});return Object.values(g)},[o.documents]),isLoading:s,error:u}}function Lpr({typeName:e}){const{state:t}=cn(),n=p.useMemo(()=>{const o=new Map;return t.result.hits.forEach(a=>o.set(Cn(a.hit._id),a.hit)),o},[t.result.hits]),{data:r,isLoading:i}=Fpr({filter:`_type == "${e}"`});return{data:p.useMemo(()=>r.filter(o=>n.has(Cn(o._id))),[r,n]),isLoading:i}}const Npr=R(W)`
  height: 100%;
`,Bpr=R.div`
  overflow: auto; //our scrollable table container
  position: relative; //needed for sticky header
`,Vpr=R.table`
  border-collapse: separate;
  border-spacing: 0;
  font-family: arial, sans-serif;
  white-space: nowrap;
  width: 100%;
  border: 1px solid lightgray;

  thead {
    display: grid;
    position: sticky;
    top: 0;
    z-index: 10;
  }
  tr {
    padding: 0;
  }
  tr:last-child {
    border-bottom: none;
  }
`;function zpr({documentSchemaType:e}){const{dispatch:t,state:n}=cn(),{columns:r,initialColumnsVisibility:i}=_pr(e),{data:o}=Lpr({typeName:e.name}),[a,s]=p.useState(null),l=n.result.hits.length,u=zur({data:o,columns:r,getCoreRowModel:Dur(),getFilteredRowModel:Fur(),getPaginationRowModel:Lur(),autoResetPageIndex:!1,initialState:{columnPinning:{left:["selected","Preview"]},pagination:{pageSize:25},columnVisibility:i},getRowId:m=>m._id,meta:{selectedAnchor:a,setSelectedAnchor:s,patchDocument:(m,g,y)=>null}}),{rows:d}=u.getRowModel();p.useEffect(()=>(t({type:"TERMS_TYPE_ADD",schemaType:e}),()=>{t({type:"TERMS_TYPE_REMOVE",schemaType:e})}),[e,t]);const f=p.useCallback(m=>c.jsx(V,{as:"tr",paddingY:2,style:{display:"flex",width:"100%"},children:m.getVisibleCells().map(g=>p.createElement(wpr,{...g,key:m.original._id+g.id}))},m.original._id+m.id),[]),h=`Total: ${l} rows, showing ${d.length} rows`;return c.jsxs(Npr,{direction:"column",paddingX:3,"data-testid":"document-sheet-list-pane",children:[c.jsxs(W,{direction:"row",align:"center",paddingY:3,paddingX:1,justify:"space-between",children:[c.jsxs(W,{direction:"row",align:"center",children:[c.jsx(jpr,{}),c.jsx(B,{size:0,muted:!0,children:h})]}),c.jsx(Tpr,{table:u})]}),c.jsx(Bpr,{children:c.jsx(vpr,{table:u,children:c.jsxs(Vpr,{children:[c.jsx("thead",{children:u.getHeaderGroups().map(m=>c.jsx(V,{as:"tr",children:m.headers.map(g=>c.jsx(Dpr,{header:g,headerGroup:m},g.id))},m.id))}),c.jsx("tbody",{children:u.getRowModel().rows.map(f)})]})})}),c.jsx(W,{justify:"flex-end",padding:3,gap:4,paddingY:5,children:c.jsx(Opr,{table:u})})]})}function Upr(e){const t=un(),n=e.pane.schemaTypeName,r=t.get(n);if(!r||!Zgt(r))throw new Error(`Schema type "${n}" not found or not a document schema`);return c.jsx(fee,{children:c.jsx(zpr,{...e,documentSchemaType:r})})}const Hpr=e=>{const{menuItems:t,sortOrderRaw:n,layout:r}=e;return t==null?void 0:t.map(i=>{var o,a,s,l;return(o=i.params)!=null&&o.layout?{...i,selected:r===((a=i.params)==null?void 0:a.layout)}:(s=i==null?void 0:i.params)!=null&&s.by?{...i,selected:Dt(n==null?void 0:n.by,((l=i==null?void 0:i.params)==null?void 0:l.by)||hn)}:{...i,selected:!1}})};function Ize(e){const t=p.useRef(e);return Km(t.current,e)||(t.current=e),t.current}const $ze=p.memo(function(e){const{index:t,isSelected:n,pane:r,paneKey:i}=e,{name:o}=er(),{defaultLayout:a="default",initialValueTemplates:s=hn,menuItemGroups:l,menuItems:u,options:d}=r,{defaultOrdering:f=hn,filter:h}=d,m=Ize(d.params||kze),g=r.source,y=p.useMemo(()=>{const T=Vee(h,m);return(T==null?void 0:T.length)===1?T[0]:null},[h,m]),[x,b]=wH("layout",y??r.id,a),{title:v}=yf(r),w=p.useMemo(()=>(f==null?void 0:f.length)>0?{by:f}:Cze,[f]),[C,k]=wH("sort-order",y??r.id,w),S=p.useMemo(()=>Hpr({menuItems:u,sortOrderRaw:C,layout:x}),[x,u,C]),E=x==="sheetList",_=E?p.createElement(Upr,{...e,key:e.pane.id}):c.jsx(mpr,{...e,sortOrder:C,layout:x});return c.jsx(u4,{name:g||o,children:c.jsxs(R_,{"data-ui":"DocumentListPane",id:i,minWidth:320,...E?{}:{currentMaxWidth:350,maxWidth:640},selected:n,children:[lze,c.jsx(Eze,{index:t,initialValueTemplates:s,menuItemGroups:l,menuItems:S,setLayout:b,setSortOrder:k,title:v}),_]})})});class Hn extends Error{constructor(n,r,i,o){super(n);Z(this,"path");Z(this,"helpId");this.name="SerializeError";const a=typeof i>"u"?"<unknown>":`${i}`;this.path=(r||[]).concat(o?`${a} (${o})`:a)}withHelpUrl(n){return this.helpId=n,this}}var xr=(e=>(e.ID_REQUIRED="structure-node-id-required",e.TITLE_REQUIRED="structure-title-required",e.FILTER_REQUIRED="structure-filter-required",e.INVALID_LIST_ITEM="structure-invalid-list-item",e.COMPONENT_REQUIRED="structure-view-component-required",e.DOCUMENT_ID_REQUIRED="structure-document-id-required",e.DOCUMENT_TYPE_REQUIRED="structure-document-type-required",e.SCHEMA_TYPE_REQUIRED="structure-schema-type-required",e.SCHEMA_TYPE_NOT_FOUND="structure-schema-type-not-found",e.LIST_ITEMS_MUST_BE_ARRAY="structure-list-items-must-be-array",e.QUERY_PROVIDED_FOR_FILTER="structure-query-provided-for-filter",e.ACTION_OR_INTENT_REQUIRED="structure-action-or-intent-required",e.LIST_ITEM_IDS_MUST_BE_UNIQUE="structure-list-item-ids-must-be-unique",e.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE="structure-action-and-intent-mutually-exclusive",e.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER="structure-api-version-required-for-custom-filter",e))(xr||{});const Dze={title:"Last edited",i18n:{title:{key:"menu-items.sort-by.last-edited",ns:Gt}},name:"lastEditedDesc",by:[{field:"_updatedAt",direction:"desc"}]},Wpr={title:"Created",i18n:{title:{key:"menu-items.sort-by.created",ns:Gt}},name:"lastCreatedDesc",by:[{field:"_createdAt",direction:"desc"}]},Gpr=Dze,uxe=[Dze,Wpr];function Uee(e,t,n){return e instanceof Qh?e.serialize({path:n,index:t}):e}class Qh{constructor(t,n){Z(this,"spec");this._context=t,this.spec=n||{}}action(t){return this.clone({action:t})}getAction(){return this.spec.action}intent(t){return this.clone({intent:t})}getIntent(){return this.spec.intent}title(t){return this.clone({title:t})}getTitle(){return this.spec.title}i18n(t){return this.clone({i18n:t})}getI18n(){return this.spec.i18n}group(t){return this.clone({group:t})}getGroup(){return this.spec.group}icon(t){return this.clone({icon:t})}getIcon(){return this.spec.icon}params(t){return this.clone({params:t})}getParams(){return this.spec.params}showAsAction(t=!0){return this.clone({showAsAction:!!t})}getShowAsAction(){return this.spec.showAsAction}serialize(t={path:[]}){const{title:n,action:r,intent:i}=this.spec;if(!n){const o=typeof r=="string"?`action: "${r}"`:void 0;throw new Hn("`title` is required for menu item",t.path,t.index,o).withHelpUrl(xr.TITLE_REQUIRED)}if(!r&&!i)throw new Hn(`\`action\` or \`intent\` required for menu item with title ${this.spec.title}`,t.path,t.index,`"${n}"`).withHelpUrl(xr.ACTION_OR_INTENT_REQUIRED);if(i&&r)throw new Hn("cannot set both `action` AND `intent`",t.path,t.index,`"${n}"`).withHelpUrl(xr.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE);return{...this.spec,title:n}}clone(t){const n=new Qh(this._context);return n.spec={...this.spec,...t||{}},n}}function Hee(e,{by:t,title:n,i18n:r},i){let o=new Qh(e).group("sorting").title(e.i18n.t("default-menu-item.fallback-title",{ns:"studio",replace:{title:n}})).icon(_2).action("setSortOrder").params({by:t,extendedProjection:i});return r&&(o=o.i18n(r)),o}function Wee(e,t){const{schema:n}=e,r=typeof t=="string"?n.get(t):t;return!r||!("orderings"in r)?[]:(r.orderings?r.orderings.concat(uxe):uxe).map(i=>Hee(e,i,Sze(r,i.by)))}function Gee(e,t,n){return e instanceof q1?e.serialize({path:n,index:t}):e}class q1{constructor(t,n){Z(this,"_id");Z(this,"_title");Z(this,"_i18n");this._context=t,this._id=n?n.id:"",this._title=n?n.title:"",this._i18n=n?n.i18n:void 0}id(t){return new q1(this._context,{id:t,title:this._title,i18n:this._i18n})}getId(){return this._id}title(t){return new q1(this._context,{title:t,id:this._id,i18n:this._i18n})}getTitle(){return this._title}i18n(t){return new q1(this._context,{i18n:t,id:this._id,title:this._title})}getI18n(){return this._i18n}serialize(t={path:[]}){const{_id:n,_title:r,_i18n:i}=this;if(!n)throw new Hn("`id` is required for a menu item group",t.path,t.index,r).withHelpUrl(xr.ID_REQUIRED);if(!r)throw new Hn("`title` is required for a menu item group",t.path,n).withHelpUrl(xr.TITLE_REQUIRED);return{id:n,title:r,i18n:i}}}const Oze=/([^A-Za-z0-9-_.])/;function N_(e,t,n){if(typeof e!="string")throw new Hn(`Structure node id must be of type string, got ${typeof e}`,t,n);const[r]=e.match(Oze)||[];if(r)throw new Hn(`Structure node id cannot contain character "${r}"`,t,n);if(e.startsWith("__edit__"))throw new Hn("Structure node id cannot start with __edit__",t,n);return e}function O4(e,t){if(t)return t;const n=Bbe(e);return Oze.test(n)?Bbe(C8e(e)):n}class zx{constructor(t){Z(this,"spec");this.spec={options:{},...t||{}}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:O4(t,this.spec.id)})}getTitle(){return this.spec.title}i18n(t){return this.clone({i18n:t})}getI18n(){return this.spec.i18n}child(t){return this.clone({child:t})}getChild(){return this.spec.child}component(t){return this.clone({component:t})}getComponent(){return this.spec.component}options(t){return this.clone({options:t})}getOptions(){return this.spec.options||{}}menuItems(t){return this.clone({menuItems:t})}getMenuItems(){return this.spec.menuItems}menuItemGroups(t){return this.clone({menuItemGroups:t})}getMenuItemGroups(){return this.spec.menuItemGroups}canHandleIntent(t){return this.clone({canHandleIntent:t})}serialize(t={path:[]}){const{id:n,title:r,child:i,options:o,component:a}=this.spec;if(!n)throw new Hn("`id` is required for `component` structure item",t.path,t.index).withHelpUrl(xr.ID_REQUIRED);if(!a)throw new Hn("`component` is required for `component` structure item",t.path,t.index).withHelpUrl(xr.ID_REQUIRED);return{id:N_(n,t.path,t.index),title:r,type:"component",child:i,component:a,canHandleIntent:this.spec.canHandleIntent,options:o||{},menuItems:(this.spec.menuItems||[]).map((s,l)=>Uee(s,l,t.path)),menuItemGroups:(this.spec.menuItemGroups||[]).map((s,l)=>Gee(s,l,t.path))}}clone(t){const n=new zx;return n.spec={...this.spec,...t||{}},n}}async function Mze(e,t){const n="*[_id in [$documentId, $draftId]]._type",r=Cn(t),i=Fo(t);return(await e(en).fetch(n,{documentId:r,draftId:i},{tag:"structure.resolve-type"}))[0]}class M4{constructor(){Z(this,"spec",{})}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:this.spec.id||plr(t)})}getTitle(){return this.spec.title}icon(t){return this.clone({icon:t})}getIcon(){return this.spec.icon}serialize(t={path:[]}){const{id:n,title:r,icon:i}=this.spec;if(!n)throw new Hn("`id` is required for view item",t.path,t.index).withHelpUrl(xr.ID_REQUIRED);if(!r)throw new Hn("`title` is required for view item",t.path,t.index).withHelpUrl(xr.TITLE_REQUIRED);return{id:N_(n,t.path,t.index),title:r,icon:i}}}function Kpr(e){return typeof e.serialize=="function"}function Kee(e,t,n){return Kpr(e)?e.serialize({path:n,index:t}):e}const Ypr=e=>Tt(e)&&e.type==="component";class B_ extends M4{constructor(n){const r=Ypr(n)?{...n}:{options:{}};super();Z(this,"spec");this.spec=r;const i=typeof n=="function"?n:this.spec.component;i&&(this.spec=this.component(i).spec)}component(n){return this.clone({component:n})}getComponent(){return this.spec.component}options(n){return this.clone({options:n})}getOptions(){return this.spec.options||{}}serialize(n={path:[]}){const r=super.serialize(n),i=this.spec.component;if(typeof i!="function")throw new Hn("`component` is required and must be a function for `component()` view item",n.path,n.index).withHelpUrl(xr.COMPONENT_REQUIRED);return{...r,component:i,options:this.spec.options||{},type:"component"}}clone(n){const r=new B_;return r.spec={...this.spec,...n||{}},r}}class V_ extends M4{constructor(n){super();Z(this,"spec");this.spec={id:"editor",title:"Editor",...n||{}}}serialize(n={path:[]}){return{...super.serialize(n),type:"form"}}clone(n){const r=new V_;return r.spec={...this.spec,...n||{}},r}}const Yee=e=>new V_(e),Pze=e=>new B_(e);var qpr=Object.freeze({__proto__:null,ComponentViewBuilder:B_,FormViewBuilder:V_,GenericViewBuilder:M4,component:Pze,form:Yee,maybeSerializeView:Kee});const Zpr=({resolveDocumentNode:e,getClient:t})=>async(n,{params:r,path:i})=>{let o=r.type;const a=i.slice(0,i.length-1),s=i[i.length-1];if(o||(o=await Mze(t,n)),!o)throw new Hn("Failed to resolve document, and no type provided in parameters.",a,s);return e({documentId:n,schemaType:o})};class ep{constructor(t,n){Z(this,"spec");this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:O4(t,this.spec.id)})}getTitle(){return this.spec.title}i18n(t){return this.clone({i18n:t})}getI18n(){return this.spec.i18n}child(t){return this.clone({child:t})}getChild(){return this.spec.child}documentId(t){const n=this.spec.id||t;return this.clone({id:n,options:{...this.spec.options||{},id:t}})}getDocumentId(){var t;return(t=this.spec.options)==null?void 0:t.id}schemaType(t){return this.clone({options:{...this.spec.options||{},type:typeof t=="string"?t:t.name}})}getSchemaType(){var t;return(t=this.spec.options)==null?void 0:t.type}initialValueTemplate(t,n){return this.clone({options:{...this.spec.options||{},template:t,templateParameters:n}})}getInitialValueTemplate(){var t;return(t=this.spec.options)==null?void 0:t.template}getInitialValueTemplateParameters(){var t;return(t=this.spec.options)==null?void 0:t.templateParameters}views(t){return this.clone({views:t})}getViews(){return this.spec.views||[]}serialize({path:t=[],index:n,hint:r}={path:[]}){const i=t[n||t.length-1],o=this.spec.id||i&&`${i}`||"",a={id:o,type:void 0,template:void 0,templateParameters:void 0,...this.spec.options};if(typeof o!="string"||!o)throw new Hn("`id` is required for document nodes",t,n,r).withHelpUrl(xr.ID_REQUIRED);if(!a||!a.id)throw new Hn("document id (`id`) is required for document nodes",t,o,r).withHelpUrl(xr.DOCUMENT_ID_REQUIRED);if(!a||!a.type)throw new Hn("document type (`schemaType`) is required for document nodes",t,o,r);const s=(this.spec.views&&this.spec.views.length>0?this.spec.views:[Yee()]).map((d,f)=>Kee(d,f,t)),l=s.map(d=>d.id),u=Io(l.filter((d,f)=>l.includes(d,f+1)));if(u.length>0)throw new Hn(`document node has views with duplicate IDs: ${u.join(",  ")}`,t,o,r);return{...this.spec,child:this.spec.child||Zpr(this._context),id:N_(o,t,n),type:"document",options:Xpr(a),views:s}}clone(t={}){const n=new ep(this._context),r={...this.spec.options||{},...t.options||{}};return n.spec={...this.spec,...t,options:r},n}}function Xpr(e){const t={id:e.id||"",type:e.type||"*"};return e.template&&(t.template=e.template),e.templateParameters&&(t.templateParameters=e.templateParameters),t}function Rze(e,t){let n=t!=null&&t.type?e.resolveDocumentNode({schemaType:t.type}):new ep(e);if(!t)return n;const{id:r,type:i,template:o,templateParameters:a}=t.options;return n=n.id(t.id).documentId(r),i&&(n=n.schemaType(i)),o&&(n=n.initialValueTemplate(o,a)),t.child&&(n=n.child(t.child)),n}function Fze({resolveDocumentNode:e,templates:t},n,r){const i=t.find(o=>o.id===n);if(!i)throw new Error(`Template with ID "${n}" not defined`);return e({schemaType:i.schemaType}).initialValueTemplate(n,r)}class z_{constructor(t,n){Z(this,"spec");this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t})}getTitle(){return this.spec.title}description(t){return this.clone({description:t})}getDescription(){return this.spec.description}templateId(t){const n=this.spec.id||t;return this.clone({id:n,templateId:t})}getTemplateId(){return this.spec.templateId}parameters(t){return this.clone({parameters:t})}getParameters(){return this.spec.parameters}serialize({path:t=[],index:n,hint:r}={path:[]}){const{spec:i,_context:o}=this,{templates:a}=o;if(typeof i.id!="string"||!i.id)throw new Hn("`id` is required for initial value template item nodes",t,n,r).withHelpUrl(xr.ID_REQUIRED);if(!i.templateId)throw new Hn("template id (`templateId`) is required for initial value template item nodes",t,i.id,r).withHelpUrl(xr.ID_REQUIRED);const s=a.find(l=>l.id===i.templateId);if(!s)throw new Hn("template id (`templateId`) is required for initial value template item nodes",t,i.id,r).withHelpUrl(xr.ID_REQUIRED);return{id:i.id,templateId:i.id,schemaType:s.schemaType,type:"initialValueTemplateItem",description:i.description||s.description,title:i.title||s.title,subtitle:i.subtitle,icon:i.icon||s.icon,initialDocumentId:i.initialDocumentId,parameters:i.parameters}}clone(t={}){const n=new z_(this._context);return n.spec={...this.spec,...t},n}}function Lze(e){const{schema:t,getStructureBuilder:n,templates:r}=e,i=t.getTypeNames();return r.filter(o=>{var a;return!((a=o.parameters)!=null&&a.length)}).sort((o,a)=>i.indexOf(o.schemaType)-i.indexOf(a.schemaType)).map(o=>n().initialValueTemplateItem(o.id))}function Nze(e,t,n){return e instanceof z_?e.serialize({path:n,index:t}):e}function Bze(e,t){const{schema:n,templates:r}=e;return t.map(i=>{const o=r.find(h=>h.id===i.templateId),a=i.title||(o==null?void 0:o.title)||"Create",s={};o&&o.schemaType&&(s.type=o.schemaType),i.templateId&&(s.template=i.templateId);const l=i.parameters?[s,i.parameters]:s,u=o&&n.get(o.schemaType),d=i.i18n||(o==null?void 0:o.i18n);let f=new Qh(e).title(a).icon(o&&o.icon||(u==null?void 0:u.icon)||ca).intent({type:"create",params:l});return d&&(f=f.i18n(d)),f.serialize()})}const qee=Symbol("Document type list canHandleIntent"),P4=(e,t,{pane:n})=>{var d,f;const r=e==="edit",i=e==="create",o=n,a=((d=o.options)==null?void 0:d.filter)||"",s=((f=o.options)==null?void 0:f.params)||{},l=o.schemaTypeName?[o.schemaTypeName]:R4(a,s),u=o.initialValueTemplates||[];return i&&t.template?u.some(h=>h.templateId===t.template):r&&t.id&&l.includes(t.type)||i&&l.includes(t.type)};P4.identity=qee;const dxe=["default","card","media","detail","block"];function Jpr(){}const Zee=(e,t,{pane:n,index:r})=>r<=1&&P4(e,t,{pane:n,index:r});class Xee{constructor(){Z(this,"initialValueTemplatesSpecified",!1);Z(this,"spec",{})}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:O4(t,this.spec.id)})}getTitle(){return this.spec.title}i18n(t){return this.clone({i18n:t})}getI18n(){return this.spec.i18n}defaultLayout(t){return this.clone({defaultLayout:t})}getDefaultLayout(){return this.spec.defaultLayout}menuItems(t){return this.clone({menuItems:t})}getMenuItems(){return this.spec.menuItems}menuItemGroups(t){return this.clone({menuItemGroups:t})}getMenuItemGroups(){return this.spec.menuItemGroups}child(t){return this.clone({child:t})}getChild(){return this.spec.child}canHandleIntent(t){return this.clone({canHandleIntent:t})}getCanHandleIntent(){return this.spec.canHandleIntent}showIcons(t=!0){return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcons:t}})}getShowIcons(){return this.spec.displayOptions?this.spec.displayOptions.showIcons:void 0}initialValueTemplates(t){return this.initialValueTemplatesSpecified=!0,this.clone({initialValueTemplates:Array.isArray(t)?t:[t]})}getInitialValueTemplates(){return this.spec.initialValueTemplates}serialize(t={path:[]}){const n=this.spec.id||"",r=t.path,i=this.spec.defaultLayout;if(i&&!dxe.includes(i))throw new Hn(`\`layout\` must be one of ${dxe.map(a=>`"${a}"`).join(", ")}`,r,n||t.index,this.spec.title);const o=(this.spec.initialValueTemplates||[]).map((a,s)=>Nze(a,s,r));return{id:N_(n,t.path,n||t.index),title:this.spec.title,i18n:this.spec.i18n,type:"genericList",defaultLayout:i,child:this.spec.child||Jpr,canHandleIntent:this.spec.canHandleIntent||Zee,displayOptions:this.spec.displayOptions,initialValueTemplates:o,menuItems:(this.spec.menuItems||[]).map((a,s)=>Uee(a,s,r)),menuItemGroups:(this.spec.menuItemGroups||[]).map((a,s)=>Gee(a,s,r))}}}const Qpr=(e,t)=>{var r;const n=((r=e.options)==null?void 0:r.filter.trim())||"";if(["*","{"].includes(n[0]))throw new Hn(`\`filter\` cannot start with \`${n[0]}\` - looks like you are providing a query, not a filter`,t.path,e.id,e.title).withHelpUrl(xr.QUERY_PROVIDED_FOR_FILTER);return n},emr=e=>(t,n)=>{var a;const r=n.parent,i=(a=n.params)!=null&&a.template?e.templates.find(s=>s.id===n.params.template):void 0,o=i?i.schemaType:r.schemaTypeName||Mze(e.getClient,t);return Promise.resolve(o).then(s=>s?e.resolveDocumentNode({schemaType:s,documentId:t}):new ep(e).id("editor").documentId(t).schemaType(""))};class yC extends Xee{constructor(n,r){super();Z(this,"spec");this._context=n,this.spec=r||{},this.initialValueTemplatesSpecified=!!(r!=null&&r.initialValueTemplates)}apiVersion(n){return this.clone({options:{...this.spec.options||{filter:""},apiVersion:n}})}getApiVersion(){var n;return(n=this.spec.options)==null?void 0:n.apiVersion}filter(n){return this.clone({options:{...this.spec.options||{},filter:n}})}getFilter(){var n;return(n=this.spec.options)==null?void 0:n.filter}schemaType(n){const r=typeof n=="string"?n:n.name;return this.clone({schemaTypeName:r})}getSchemaType(){return this.spec.schemaTypeName}params(n){return this.clone({options:{...this.spec.options||{filter:""},params:n}})}getParams(){var n;return(n=this.spec.options)==null?void 0:n.params}defaultOrdering(n){if(!Array.isArray(n))throw new Error("`defaultOrdering` must be an array of order clauses");return this.clone({options:{...this.spec.options||{filter:""},defaultOrdering:n}})}getDefaultOrdering(){var n;return(n=this.spec.options)==null?void 0:n.defaultOrdering}serialize(n={path:[]}){var r;if(typeof this.spec.id!="string"||!this.spec.id)throw new Hn("`id` is required for document lists",n.path,n.index,this.spec.title).withHelpUrl(xr.ID_REQUIRED);if(!this.spec.options||!this.spec.options.filter)throw new Hn("`filter` is required for document lists",n.path,this.spec.id,this.spec.title).withHelpUrl(xr.FILTER_REQUIRED);return((r=this.spec.options)==null?void 0:r.filter)!=="_type == $type"&&this.spec.options.filter&&!this.spec.options.apiVersion&&console.warn(`No apiVersion specified for document type list with custom filter: \`${this.spec.options.filter}\`. This will be required in the future. See %s for more info.`,xEe(xr.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER)),{...super.serialize(n),type:"documentList",schemaTypeName:this.spec.schemaTypeName,child:this.spec.child||emr(this._context),options:{...this.spec.options,apiVersion:this.spec.options.apiVersion||en.apiVersion,filter:Qpr(this.spec,n)}}}clone(n){const r=new yC(this._context);return r.spec={...this.spec,...n||{}},this.initialValueTemplatesSpecified||(r.spec.initialValueTemplates=tmr(this._context,r.spec)),r.spec.schemaTypeName||(r.spec.schemaTypeName=nmr(r.spec)),r}getSpec(){return this.spec}}function tmr(e,t){const{document:n}=e,{schemaTypeName:r,options:i}=t,{filter:o,params:a}=i||{filter:"",params:{}},s=r?[r]:Array.from(new Set(R4(o,a)));if(s.length!==0)return s.flatMap(l=>n.resolveNewDocumentOptions({type:"structure",schemaType:l})).map(l=>({...l,icon:ca}))}function nmr(e){const{options:t}=e,{filter:n,params:r}=t||{filter:"",params:{}},i=R4(n,r);return i.length===1?i[0]:void 0}function R4(e,t={}){let n=rmr(e,t);return n.length===0&&(n=imr(e,t)),n}function rmr(e,t={}){const n=/\b_type\s*==\s*(['"].*?['"]|\$.*?(?:\s|$))|\B(['"].*?['"]|\$.*?(?:\s|$))\s*==\s*_type/g,r=[];let i;for(;(i=n.exec(e))!==null;)r.push(i[1]||i[2]);return r.map(o=>((o[0]==="$"?t[o.slice(1)]:o)||"").trim().replace(/^["']|["']$/g,"")).filter(Boolean)}function imr(e,t={}){const n=/\b_type\s+in\s+\[(.*?)\]/,r=e.match(n);return r?r[1].split(/,\s*/).map(i=>i.trim().replace(/^["']+|["']+$/g,"")).map(i=>i[0]==="$"?t[i.slice(1)]:i).filter(Boolean):[]}const omr=e=>e instanceof j0?"ListBuilder":umr(e)?"Promise":Array.isArray(e)?"array":typeof e,amr=e=>e.type==="listItem",smr=(e,t,n)=>(n.pane.items||[]).filter(Vze).some(r=>r.schemaType.name===t.type&&r._id===t.id)||Zee(e,t,n),lmr=(e,t)=>{const n=(t.parent.items.filter(amr).find(r=>r.id===e)||{child:void 0}).child;return!n||typeof n!="function"?n:typeof n=="function"?n(e,t):n};function cmr(e,t,n){if(e instanceof I0)return e.serialize({path:n,index:t});const r=e;if(r&&r.type==="divider")return e;if(!r||r.type!=="listItem"){const i=r&&r.type||omr(r),o=i==="array"?" - did you forget to spread (...moreItems)?":"";throw new Hn(`List items must be of type "listItem", got "${i}"${o}`,n,t).withHelpUrl(xr.INVALID_LIST_ITEM)}return e}function umr(e){return Tt(e)&&typeof e.then=="function"}class j0 extends Xee{constructor(n,r){super();Z(this,"spec");this._context=n,this.spec=r||{},this.initialValueTemplatesSpecified=!!(r&&r.initialValueTemplates)}items(n){return this.clone({items:n})}getItems(){return this.spec.items}serialize(n={path:[]}){const r=this.spec.id;if(typeof r!="string"||!r)throw new Hn("`id` is required for lists",n.path,n.index).withHelpUrl(xr.ID_REQUIRED);const i=typeof this.spec.items>"u"?[]:this.spec.items;if(!Array.isArray(i))throw new Hn("`items` must be an array of items",n.path,n.index).withHelpUrl(xr.LIST_ITEMS_MUST_BE_ARRAY);const o=(n.path||[]).concat(r),a=i.map((l,u)=>cmr(l,u,o)),s=a.filter((l,u)=>S8e(a,{id:l.id},u+1));if(s.length>0){const l=s.map(d=>d.id).slice(0,5),u=s.length>5?`${l.join(", ")}...`:l.join(", ");throw new Hn(`List items with same ID found (${u})`,n.path,n.index).withHelpUrl(xr.LIST_ITEM_IDS_MUST_BE_UNIQUE)}return{...super.serialize(n),type:"list",canHandleIntent:this.spec.canHandleIntent||smr,child:this.spec.child||lmr,items:a}}clone(n){const r=new j0(this._context);return r.spec={...this.spec,...n||{}},r}}class I0{constructor(t,n){Z(this,"spec");this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:O4(t,this.spec.id)})}getTitle(){return this.spec.title}i18n(t){return this.clone({i18n:t})}getI18n(){return this.spec.i18n}icon(t){return this.clone({icon:t})}showIcon(t=!0){return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcon:t}})}getShowIcon(){return this.spec.displayOptions?this.spec.displayOptions.showIcon:void 0}getIcon(){return this.spec.icon}child(t){return this.clone({child:t})}getChild(){return this.spec.child}schemaType(t){return this.clone({schemaType:t})}getSchemaType(){const t=this.spec.schemaType;return typeof t=="string"?this._context.schema.get(t):this.spec.schemaType}serialize(t={path:[]}){const{id:n,title:r,child:i}=this.spec;if(typeof n!="string"||!n)throw new Hn("`id` is required for list items",t.path,t.index).withHelpUrl(xr.ID_REQUIRED);if(!t.titleIsOptional&&(typeof r!="string"||!r))throw new Hn("`title` is required for list items",t.path,n).withHelpUrl(xr.TITLE_REQUIRED);let o=this.spec.schemaType;if(typeof o=="string"){const l=this._context.schema.get(o);if(!l)throw new Hn(`Could not find type "${o}" in schema`,t.path,n).withHelpUrl(xr.SCHEMA_TYPE_NOT_FOUND);o=l}const a={path:t.path.concat(n),hint:"child"};let s=i instanceof zx||i instanceof yC||i instanceof ep||i instanceof j0?i.serialize(a):i;if(typeof s=="function"){const l=s;s=(u,d)=>l(u,{...d,serializeOptions:a})}return{...this.spec,id:N_(n,t.path,t.index),schemaType:o,child:s,title:r,type:"listItem"}}clone(t){const n=new I0(this._context);return n.spec={...this.spec,...t||{}},n}}const dmr=(e,t)=>n=>{const r=t.schemaType&&(typeof t.schemaType=="string"?t.schemaType:t.schemaType.name);return r?e.resolveDocumentNode({schemaType:r,documentId:n}):new ep(e).id("documentEditor").documentId(n)};class F4 extends I0{constructor(n,r){super(n,r);Z(this,"spec");this._context=n,this.spec=r||{}}serialize(n={path:[]}){const r=super.serialize({...n,titleIsOptional:!0});if(!r.schemaType)throw new Hn("`schemaType` is required for document list items",n.path,n.index).withHelpUrl(xr.SCHEMA_TYPE_REQUIRED);const i=r.child||dmr(this._context,r);return{...r,child:i,schemaType:r.schemaType,_id:r.id}}clone(n){const r=new F4(this._context);return r.spec={...this.spec,...n||{}},r}}function Vze(e){return Tt(e)&&typeof e.schemaType<"u"&&typeof e._id=="string"}class E5 extends yC{constructor(n,r){super(n);Z(this,"spec");this._context=n,this.spec=r||{}}child(n){return this.cloneWithoutDefaultIntentHandler({child:n})}clone(n){const r=super.clone(n),i=new E5(this._context);return i.spec={...this.spec,...r.getSpec(),...n||{}},i}cloneWithoutDefaultIntentHandler(n){const r=super.clone(n),i=new E5(this._context),o=this.spec.canHandleIntent,a=o&&o.identity===qee?{canHandleIntent:void 0}:{};return i.spec={...r.getSpec(),...this.spec,...n||{},...a},i}}const fmr=["sanity.imageAsset","sanity.fileAsset"];function hmr(e){return fmr.includes(e)}function pmr(e){var t;return((t=e.type)==null?void 0:t.name)==="document"}function mmr(e){return e.type==="list"}function gmr({schema:e}){return e.getTypeNames().filter(t=>{const n=e.get(t);return n&&pmr(n)}).filter(t=>!hmr(t))}function zze(e){return gmr(e).map(t=>Uze(e,t))}function Uze(e,t){const{schema:n}=e,r=n.get(t);if(!r)throw new Error(`Schema type with name "${t}" not found`);const i=r.title||Vt(t);return new I0(e).id(t).title(i).schemaType(r).child((o,a)=>{const s=a.parent,l=mmr(s)?s.items.find(d=>d.id===o):null;let u=Hze(e,t);return l&&l.title&&(u=u.title(l.title)),u})}function Hze(e,t){const{schema:n,resolveDocumentNode:r}=e,i=typeof t=="string"?t:t.schemaType,o=typeof i=="string"?i:i.name,a=typeof t=="string"?{schemaType:i}:t,s=n.get(o);if(!s)throw new Error(`Schema type with name "${o}" not found`);const l=s.title||Vt(o);return new E5(e).id(a.id||o).title(a.title||l).filter("_type == $type").params({type:o}).schemaType(s).defaultOrdering(Gpr.by).menuItemGroups(a.menuItemGroups||[{id:"sorting",title:"Sort",i18n:{title:{key:"menu-item-groups.actions-group",ns:Gt}}},{id:"layout",title:"Layout",i18n:{title:{key:"menu-item-groups.layout-group",ns:Gt}}},{id:"actions",title:"Actions",i18n:{title:{key:"menu-item-groups.sorting-group",ns:Gt}}}]).child(a.child||(u=>r({schemaType:o,documentId:u}))).canHandleIntent(a.canHandleIntent||P4).menuItems(a.menuItems||[...Wee(e,s),new Qh(e).group("layout").i18n({title:{key:"menu-items.layout.compact-view",ns:Gt}}).title("Compact view").icon(SK).action("setLayout").params({layout:"default"}),new Qh(e).group("layout").i18n({title:{key:"menu-items.layout.detailed-view",ns:Gt}}).title("Detailed view").icon(N_e).action("setLayout").params({layout:"detail"})])}function ymr(e){return!e||typeof e=="string"?!1:!!e.icon}function vmr(e){const t=zze(e);return new j0(e).id("__root__").title("Content").i18n({title:{key:"default-definition.content-title",ns:Gt}}).items(t).showIcons(t.some(n=>ymr(n.getSchemaType())))}function Wze({defaultDocumentNode:e,source:t}){const n=GQn(t),r={...t,getStructureBuilder:()=>i,resolveDocumentNode:o=>{let a=(e==null?void 0:e(i,{...o,...n}))||new ep(r);return a.getId()||(a=a.id("documentEditor")),o.documentId&&(a=a.documentId(Cn(o.documentId))),a.schemaType(o.schemaType)}},i={defaults:()=>vmr(r),documentTypeList:(...o)=>Hze(r,...o),documentTypeListItem:(...o)=>Uze(r,...o),documentTypeListItems:(...o)=>zze(r,...o),document:(...o)=>new ep(r,...o),documentWithInitialValueTemplate:(...o)=>Fze(r,...o),defaultDocument:r.resolveDocumentNode,list:(...o)=>new j0(r,...o),listItem:(...o)=>new I0(r,...o),menuItem:(...o)=>new Qh(r,...o),menuItemGroup:(...o)=>new q1(r,...o),menuItemsFromInitialValueTemplateItems:(...o)=>Bze(r,...o),documentList:(...o)=>new yC(r,...o),documentListItem:(...o)=>new F4(r,...o),orderingMenuItem:(...o)=>Hee(r,...o),orderingMenuItemsForType:(...o)=>Wee(r,...o),editor:(...o)=>Rze(r,...o),defaultInitialValueTemplateItems:(...o)=>Lze(r,...o),initialValueTemplateItem:(o,a)=>new z_(r,{id:o,parameters:a,templateId:o}),component:o=>Dh.isValidElementType(o)?new zx().component(o):new zx(o),divider:()=>({id:Zje("__divider__"),type:"divider"}),view:qpr,context:r};return i}const Gze=e=>{const{liveEdit:t}=e;return t?{label:"Live",color:"danger"}:null};Gze.displayName="LiveEditBadge";const Kze={activePanes:[]};function bmr(e){Kze.activePanes=e}function xmr(e,t,n,r){var l;const i=(n==null?void 0:n.panes)||[],o=Kze.activePanes||[],a=t.id||Ca(),s=e==="create"&&t.template;for(let u=o.length-1;u>=0;u--){const d=o[u];if(typeof d=="object"&&((l=d.canHandleIntent)!=null&&l.call(d,e,t,{pane:d,index:u})||d.type==="documentList"&&d.schemaTypeName===t.type&&d.options.filter==="_type == $type")){const f=s?{template:t.template}:Gdr;return{panes:i.slice(0,u).concat([[{id:a,params:f,payload:r}]])}}}return{intent:e,params:t,payload:r}}function wmr(e){const t=new Map;return DR(e,n=>{if(n.action==="unchanged"||!("annotation"in n)||!n.annotation)return!0;const{author:r,timestamp:i}=n.annotation,o=t.get(r);return(!o||o.timestamp<i)&&t.set(r,n.annotation),!0}),Array.from(t.values()).sort((n,r)=>n.timestamp<r.timestamp?1:-1)}const Cmr=R(IR)`
  height: 100%;
  overflow: auto;
  position: relative;
  scroll-behavior: smooth;
`;function kmr(e){const{onClose:t}=e,{documentId:n,schemaType:r,timelineError:i,timelineStore:o,value:a}=zr(),s=p.useRef(null),l=Wo(o,b=>b.diff),u=Wo(o,b=>b.onOlderRevision),d=Wo(o,b=>b.selectionState),f=Wo(o,b=>b.sinceTime),h=d==="loading",m=!u,{t:g}=Q("studio"),y=p.useMemo(()=>({documentId:n,schemaType:r,FieldWrapper:gEn,rootDiff:l,isComparingCurrent:m,value:a,showFromValue:!0}),[n,l,m,r,a]),x=p.useMemo(()=>l?wmr(l):[],[l]);return c.jsxs(W,{"data-testid":"review-changes-pane",direction:"column",height:"fill",overflow:"hidden",children:[c.jsx(Dee,{as:"header",closeButtonLabel:g("changes.action.close-label"),flex:"none",onClose:t,title:g("changes.title"),children:c.jsxs(W,{gap:1,padding:3,paddingTop:0,paddingBottom:2,children:[c.jsx(V,{flex:1,children:c.jsx(vze,{mode:"since",chunk:f,placement:"bottom-start"})}),c.jsx(V,{flex:"none",children:c.jsx(xs,{annotations:x,description:g("changes.changes-by-author"),portal:!0,children:c.jsx(nE,{maxLength:4,"aria-label":g("changes.changes-by-author"),children:x.map(({author:b})=>c.jsx(Vl,{user:b},b))})})})]})}),c.jsx(le,{flex:1,children:c.jsx($h,{element:s.current,children:c.jsx(Cmr,{"data-ui":"Scroller",ref:s,children:c.jsx(V,{flex:1,padding:4,children:c.jsx(Smr,{diff:l,documentContext:y,error:i,loading:h,schemaType:r})})})})})]})}function Smr({error:e,diff:t,documentContext:n,loading:r,schemaType:i}){return e?c.jsx(OU,{}):r?c.jsx(Dn,{showText:!0}):t?c.jsx(Vxe.Provider,{value:n,children:c.jsx(S_,{diff:t,schemaType:i})}):c.jsx(OU,{})}const Emr={name:xH,useMenuItem:()=>{const{features:e}=Mg(),{t}=Q();return{hidden:!e.reviewChanges,icon:wK,title:t("changes.title")}},component:kmr,onClose:({params:e})=>({params:{...e,since:void 0}}),onOpen:({params:e})=>({params:{...e,since:"@lastPublished"}})};function _mr(e){const{path:t,schemaType:n,value:r}=e,i=[];let o=n,a=r;for(const s of t){if(typeof s=="string"){if(!Tt(a)&&a!==void 0)throw new Error(`Parent value is not an object, cannot get path segment: .${s}`);if(o.jsonType!=="object")throw new Error(`Parent type is not an object schema type, cannot get path segment: .${s}`);a=a==null?void 0:a[s];const l=o.fields.find(u=>u.name===s);if(!l)return i.push({name:s}),i;o=l.type,i.push(o);continue}if(typeof s=="number"){if(!Oge(a)&&a!==void 0)throw new Error(`Parent value is not an array, cannot get path segment: [${s}]`);if(o.jsonType!=="array")throw new Error(`Parent type is not an array schema type, cannot get path segment: [${s}]`);a=a==null?void 0:a[s];const l=o.of.find(u=>typeof a=="string"?u.jsonType==="string":typeof a=="number"?u.jsonType==="number":typeof a=="boolean"?u.jsonType==="boolean":Tt(a)?u.name===(a==null?void 0:a._type):!1);if(!l)throw new Error(`Item type not found: [${s}]`);o=l,i.push(o);continue}if(Tt(s)&&s._key){if(!Oge(a))throw new Error(`Parent value is not an array, cannot get path segment: [_key == ${s}]`);if(o.jsonType!=="array")throw new Error(`Parent type is not an array schema type, cannot get path segment: .${s}`);if(a=(a??[]).find(u=>Tt(u)&&u._key===s._key),!Tt(a))throw new Error(`Array item not found: [_key == ${s._key}]`);const l=o.of.find(u=>Tt(a)&&u.name===(a==null?void 0:a._type));if(!l)throw new Error(`Array item type not found: .${a==null?void 0:a._type}`);o=l,i.push(o);continue}throw new Error(`Invalid path segment: ${JSON.stringify(s)}`)}return i}const Tmr={error:ua,warning:Br,info:bg},Amr={error:"critical",warning:"caution",info:"primary"};function jmr(e){const{onClose:t}=e,{onFocus:n,onPathOpen:r,schemaType:i,validation:o,value:a}=zr(),{t:s}=Q("validation"),l=p.useCallback(u=>{r(u),n(u)},[n,r]);return c.jsxs(W,{direction:"column",height:"fill",overflow:"hidden",children:[c.jsx(Dee,{as:"header",closeButtonLabel:s("panel.close-button-aria-label"),flex:"none",onClose:t,title:s("panel.title")}),c.jsxs(le,{flex:1,overflow:"auto",padding:3,children:[o.length===0&&c.jsx(V,{padding:2,children:c.jsx(B,{muted:!0,size:1,children:s("panel.no-errors-message")})}),o.length>0&&c.jsx(ae,{space:2,children:o.map((u,d)=>c.jsx(Imr,{marker:u,onOpen:l,schemaType:i,value:a},d))})]})]})}function Imr(e){const{marker:t,onOpen:n,schemaType:r,value:i}=e,o=p.useCallback(()=>n(t.path),[t,n]),[a,s]=p.useState(null);return c.jsxs(aw,{onCatch:s,children:[a&&c.jsx(le,{padding:3,radius:2,tone:"critical",children:c.jsx(B,{size:1,children:a.error.message})}),!a&&c.jsx(le,{__unstable_focusRing:!0,as:"button",onClick:o,padding:3,radius:2,tone:Amr[t.level],children:c.jsxs(W,{align:"flex-start",gap:3,children:[c.jsx(V,{flex:"none",children:c.jsx(B,{size:1,children:p.createElement(Tmr[t.level])})}),c.jsxs(ae,{flex:1,space:2,children:[c.jsx($mr,{path:t.path,schemaType:r,value:i}),c.jsx(B,{muted:!0,size:1,children:t.message})]})]})})]})}function $mr(e){const{path:t,schemaType:n,value:r}=e,i=p.useMemo(()=>{try{return _mr({path:t,schemaType:n,value:r})}catch(o){console.error(o)}return null},[t,n,r]);return i!=null&&i.length?c.jsx(B,{size:1,children:i.map((o,a)=>c.jsxs(p.Fragment,{children:[a>0&&c.jsx("span",{style:{color:"var(--card-muted-fg-color)",opacity:.5},children:" / "}),c.jsx("span",{style:{fontWeight:500},children:o.title||o.name})]},a))}):null}function Dmr(e){const{documentId:t,documentType:n}=e,{t:r}=Q("validation"),{validation:i}=fC(t,n),o=p.useMemo(()=>i.map(d=>({level:d.level,message:d.message,path:d.path})),[i]),a=o.some(e1t),s=o.some(t1t),l=p.useMemo(()=>a?ua:s?Br:qy,[a,s]),u=p.useMemo(()=>a?"critical":s?"caution":"positive",[a,s]);return{hidden:o.length===0,icon:l,title:r("panel.title"),tone:u,showAsAction:!0}}const Omr={name:Qdr,component:jmr,useMenuItem:Dmr},Mmr={};function Pmr(e){try{return JSON.parse(decodeURIComponent(e))}catch{return console.warn("Failed to parse JSON parameters"),{}}}function Rmr(e){return(e||[]).map(t=>t.map(Gmr).join("|")).map(encodeURIComponent).join(";")}function Fmr(e){return JSON.stringify(e)}function Lmr(e){return Kmr(decodeURIComponent(e))}function Nmr(e){return Rmr(e)}const Bmr=aa.create("/",[aa.intents("/intent"),aa.create("/edit/:type/:editDocumentId",[aa.create({path:"/:params",transform:{params:{toState:Pmr,toPath:Fmr}}})]),aa.create({path:"/:panes",children:[aa.create("/:action",aa.create("/:legacyEditDocumentId"))],transform:{panes:{toState:Lmr,toPath:Nmr}}})]),Vmr=/^([.a-z0-9_-]+),?({.*?})?(?:(;|$))/i,zmr=e=>/^[a-z0-9]+=[^=]+/i.test(e),Umr=e=>/^[A-Za-z0-9\-_]+(?:={0,2})$/.test(e),Yze=["view","since","rev","inspect","comment"],Hmr=Boolean;function Wmr(e,t){const n={...t,params:Mmr,payload:void 0};return e.reduce((r,i)=>{if(zmr(i)){const o=i.slice(0,i.indexOf("=")),a=i.slice(o.length+1);r.params={...r.params,[decodeURIComponent(o)]:decodeURIComponent(a)}}else Umr(i)?r.payload=Zmr(i):console.warn("Unknown pane segment: %s - skipping",i);return r},n)}function Gmr(e,t,n){const{payload:r,params:i={},id:o}=e,[a]=n,s=e===a,l=t!==0&&o===a.id,u=typeof r>"u"?void 0:BRe(r),d=Object.entries(i).filter(f=>{var y;const[h,m]=f;if(!m)return!1;if(s)return!0;const g=(y=a.params)==null?void 0:y[h];return!(m===g&&!Yze.includes(h))}).map(([f,h])=>`${encodeURIComponent(f)}=${encodeURIComponent(h)}`);return[l?"":o].concat([d.length>0&&d,u].filter(Hmr).flat()).join(",")||","}function Kmr(e){return e.indexOf(",{")!==-1?Ymr(e):e.split(";").map(t=>{const[n,...r]=t.split("|").map(i=>{const[o,...a]=i.split(",");return Wmr(a,{id:o})});return[n,...r.map(i=>({...n,...i,id:i.id||n.id,params:{...Po(n.params,Yze),...i.params},payload:i.payload||n.payload}))]}).filter(t=>t.length>0)}function Ymr(e){const t=[];let n=e;for(;n.length;){const[r,i,o]=n.match(Vmr)||[];if(!r){n=n.slice(1);continue}const a=o&&qmr(o);t.push({id:i,payload:a}),n=n.slice(r.length)}return[t]}function qmr(e){try{return JSON.parse(e)}catch(t){console.warn(`Failed to parse parameters: ${t.message}`);return}}function Zmr(e){try{return e?NRe(e):void 0}catch(t){console.warn(`Failed to parse parameters: ${t.message}`);return}}const Xmr=[Fee,Lee,Pee,Ree,Mee,D4],Jmr=[Gze],Qmr=[Omr,Emr],qze=h_(e=>{const t=(e==null?void 0:e.icon)||I_e;return{name:"sanity/structure",document:{actions:n=>Array.from(new Set([...n,...Xmr])),badges:n=>Array.from(new Set([...n,...Jmr])),inspectors:n=>Array.from(new Set([...n,...Qmr]))},tools:[{name:(e==null?void 0:e.name)||"structure",title:(e==null?void 0:e.title)||"Structure",icon:t,component:p.lazy(()=>My(()=>import("./index3-f4f1fb67.js"),[])),canHandleIntent:(n,r)=>n==="create"?egr(r):n==="edit"?tgr(r):!1,getIntentState:xmr,controlsDocumentTitle:!0,options:e,router:Bmr}],i18n:{bundles:[Uur]}}});function egr(e){return"type"in e?"template"in e?{template:!0}:!0:!1}function tgr(e){return"id"in e?"mode"in e?{mode:e.mode==="structure"}:!0:!1}function ngr({defaultDocumentNode:e,structure:t,children:n}){const[r,i]=p.useState(!1),o=er(),a=WQn(o),s=ql(),l=p.useMemo(()=>Wze({defaultDocumentNode:e,source:o}),[e,o]),u=p.useMemo(()=>t?t(l,{...a,documentStore:s}):l.defaults(),[l,t,a,s]),d=p.useMemo(()=>({backButton:r,resizablePanes:!r,reviewChanges:!r,splitPanes:!r,splitViews:!r}),[r]),f=p.useMemo(()=>({features:d,layoutCollapsed:r,setLayoutCollapsed:i,rootPaneNode:u,structureContext:l.context}),[d,r,u,l.context]);return c.jsx(gwe.Provider,{value:f,children:n})}var rgr=Object.freeze({__proto__:null,default:wze}),igr=Object.freeze({__proto__:null,default:$ze});const Ggr=Object.freeze(Object.defineProperty({__proto__:null,BackLink:KVe,ChildLink:YVe,ComponentBuilder:zx,ComponentViewBuilder:B_,ConfirmDeleteDialogContainer:Aee,DEFAULT_INTENT_HANDLER:qee,DocumentBuilder:ep,DocumentInspectorHeader:Dee,DocumentListBuilder:yC,DocumentListItemBuilder:F4,DocumentPane:wze,DocumentPaneProvider:Bee,DocumentTypeListBuilder:E5,FormViewBuilder:V_,GenericListBuilder:Xee,GenericViewBuilder:M4,HELP_URL:xr,InitialValueTemplateItemBuilder:z_,LOADING_PANE:Kdr,ListBuilder:j0,ListItemBuilder:I0,LoadingPane:Iee,MenuItemBuilder:Qh,MenuItemGroupBuilder:q1,Pane:R_,PaneContainer:$ze,PaneContent:F_,PaneHeader:I4,PaneHeaderActions:ize,PaneItem:oze,PaneLayout:Mdr,ParameterizedLink:Yur,ReferenceChildLink:qur,SerializeError:Hn,StructureToolProvider:ngr,_DEBUG:lze,component:Pze,createStructureBuilder:Wze,defaultInitialValueTemplateItems:Lze,defaultIntentChecker:P4,documentFromEditor:Rze,documentFromEditorWithInitialValue:Fze,form:Yee,getOrderingMenuItem:Hee,getOrderingMenuItemsForSchemaType:Wee,getTypeNamesFromFilter:R4,isDocumentListItem:Vze,maybeSerializeInitialValueTemplateItem:Nze,maybeSerializeMenuItem:Uee,maybeSerializeMenuItemGroup:Gee,maybeSerializeView:Kee,menuItemsFromInitialValueTemplateItems:Bze,pane:rgr,pane$1:igr,setActivePanes:bmr,shallowIntentChecker:Zee,structureLocaleNamespace:Gt,structureTool:qze,useDocumentPane:zr,useDocumentTitle:$ee,usePane:xp,usePaneLayout:A0,usePaneRouter:Cf,useStructureTool:Mg},Symbol.toStringTag,{value:"Module"})),ogr=sK({name:"post",title:"Blog Post",type:"document",fields:[qs({name:"title",title:"Title",type:"string",validation:e=>e.required()}),qs({name:"slug",title:"Slug",type:"slug",options:{source:"title",maxLength:96},validation:e=>e.required()}),qs({name:"author",title:"Author",type:"reference",to:[{type:"author"}]}),qs({name:"mainImage",title:"Main Image",type:"image",options:{hotspot:!0}}),qs({name:"excerpt",title:"Excerpt",type:"text",rows:3,description:"A short summary that appears on the blog list page"}),qs({name:"body",title:"Body",type:"array",of:[{type:"block",styles:[{title:"Normal",value:"normal"},{title:"H2",value:"h2"},{title:"H3",value:"h3"},{title:"Quote",value:"blockquote"}],marks:{decorators:[{title:"Bold",value:"strong"},{title:"Italic",value:"em"}],annotations:[{name:"link",type:"object",title:"Link",fields:[{name:"href",type:"url",title:"URL"}]}]}},{type:"image",options:{hotspot:!0}}]}),qs({name:"publishedAt",title:"Published At",type:"datetime",initialValue:()=>new Date().toISOString()})],preview:{select:{title:"title",author:"author.name",media:"mainImage"},prepare(e){const{author:t}=e;return{...e,subtitle:t&&`by ${t}`}}}}),agr=sK({name:"author",title:"Author",type:"document",fields:[qs({name:"name",title:"Name",type:"string",validation:e=>e.required()}),qs({name:"image",title:"Image",type:"image",options:{hotspot:!0}}),qs({name:"bio",title:"Bio",type:"text",rows:3})],preview:{select:{title:"name",media:"image"}}}),sgr=[ogr,agr],lgr={name:"xperienceedu-blog",title:"XperienceEdu Blog",projectId:"2fmqiz19",dataset:"production",plugins:[qze()],schema:{types:sgr}};Qir(document.getElementById("sanity"),lgr,{reactStrictMode:!1,basePath:"/"});export{R_ as $,YVe as A,KVe as B,Mgr as C,qur as D,aw as E,Yur as F,Po as G,sO as H,fe as I,Q as J,Gt as K,Iee as L,Hn as M,le as N,Ii as O,iw as P,vo as Q,a_ as R,u4 as S,ae as T,B as U,Vi as V,V as W,xEe as X,ge as Y,vw as Z,My as _,nt as a,I4 as a0,F_ as a1,wt as a2,W as a3,Br as a4,yo as a5,Fl as a6,At as a7,Ar as a8,HK as a9,VK as aa,Ca as ab,Lbt as ac,S4 as ad,C_ as ae,Mdr as af,qTe as ag,ti as ah,Se as ai,Di as aj,ufn as ak,vu as al,yu as am,yf as an,Dh as ao,xp as ap,ize as aq,cE as ar,lze as as,$R as at,oze as au,gf as av,Ggr as aw,mn as b,Ko as c,kJ as d,t_ as e,Mg as f,Ue as g,ql as h,Tt as i,c as j,Dt as k,R as l,Jy as m,Nr as n,Gn as o,un as p,tw as q,p as r,Hgr as s,Kdr as t,Os as u,ri as v,bmr as w,ngr as x,A0 as y,rn as z};
